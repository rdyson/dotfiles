"use strict";var AW=Object.create;var Bp=Object.defineProperty;var PW=Object.getOwnPropertyDescriptor;var RW=Object.getOwnPropertyNames;var kW=Object.getPrototypeOf,NW=Object.prototype.hasOwnProperty;var DW=(e,t,r)=>t in e?Bp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>Bp(e,"name",{value:t,configurable:!0});var ot=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var LW=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of RW(t))!NW.call(e,s)&&s!==r&&Bp(e,s,{get:()=>t[s],enumerable:!(n=PW(t,s))||n.enumerable});return e};var Qn=(e,t,r)=>(r=e!=null?AW(kW(e)):{},LW(t||!e||!e.__esModule?Bp(r,"default",{value:e,enumerable:!0}):r,e));var Fa=(e,t,r)=>(DW(e,typeof t!="symbol"?t+"":t,r),r),oE=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var f0=(e,t,r)=>(oE(e,t,"read from private field"),r?r.call(e):t.get(e)),gi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ti=(e,t,r,n)=>(oE(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var cf=(e,t,r)=>(oE(e,t,"access private method"),r);var Rf=ot(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.Type=Re.JsonType=Re.JavaScriptTypeBuilder=Re.JsonTypeBuilder=Re.TypeBuilder=Re.TypeBuilderError=Re.TransformEncodeBuilder=Re.TransformDecodeBuilder=Re.TemplateLiteralDslParser=Re.TemplateLiteralGenerator=Re.TemplateLiteralGeneratorError=Re.TemplateLiteralFinite=Re.TemplateLiteralFiniteError=Re.TemplateLiteralParser=Re.TemplateLiteralParserError=Re.TemplateLiteralResolver=Re.TemplateLiteralPattern=Re.TemplateLiteralPatternError=Re.UnionResolver=Re.KeyArrayResolver=Re.KeyArrayResolverError=Re.KeyResolver=Re.ObjectMap=Re.Intrinsic=Re.IndexedAccessor=Re.TypeClone=Re.TypeExtends=Re.TypeExtendsResult=Re.TypeExtendsError=Re.ExtendsUndefined=Re.TypeGuard=Re.TypeGuardUnknownTypeError=Re.ValueGuard=Re.FormatRegistry=Re.TypeBoxError=Re.TypeRegistry=Re.PatternStringExact=Re.PatternNumberExact=Re.PatternBooleanExact=Re.PatternString=Re.PatternNumber=Re.PatternBoolean=Re.Kind=Re.Hint=Re.Optional=Re.Readonly=Re.Transform=void 0;Re.Transform=Symbol.for("TypeBox.Transform");Re.Readonly=Symbol.for("TypeBox.Readonly");Re.Optional=Symbol.for("TypeBox.Optional");Re.Hint=Symbol.for("TypeBox.Hint");Re.Kind=Symbol.for("TypeBox.Kind");Re.PatternBoolean="(true|false)";Re.PatternNumber="(0|[1-9][0-9]*)";Re.PatternString="(.*)";Re.PatternBooleanExact=`^${Re.PatternBoolean}$`;Re.PatternNumberExact=`^${Re.PatternNumber}$`;Re.PatternStringExact=`^${Re.PatternString}$`;var aE;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(aE||(Re.TypeRegistry=aE={}));var dE=class dE extends Error{constructor(t){super(t)}};o(dE,"TypeBoxError");var h1=dE;Re.TypeBoxError=h1;var UD;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(UD||(Re.FormatRegistry=UD={}));var D0;(function(e){function t(h){return Array.isArray(h)}o(t,"IsArray"),e.IsArray=t;function r(h){return typeof h=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(h){return typeof h=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(h){return h instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function l(h){return h===null}o(l,"IsNull"),e.IsNull=l;function a(h){return typeof h=="number"}o(a,"IsNumber"),e.IsNumber=a;function f(h){return typeof h=="object"&&h!==null}o(f,"IsObject"),e.IsObject=f;function c(h){return typeof h=="string"}o(c,"IsString"),e.IsString=c;function u(h){return h instanceof globalThis.Uint8Array}o(u,"IsUint8Array"),e.IsUint8Array=u;function d(h){return h===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(D0||(Re.ValueGuard=D0={}));var hE=class hE extends h1{};o(hE,"TypeGuardUnknownTypeError");var lE=hE;Re.TypeGuardUnknownTypeError=lE;var Ne;(function(e){function t(se){try{return new RegExp(se),!0}catch{return!1}}o(t,"IsPattern");function r(se){if(!D0.IsString(se))return!1;for(let Kr=0;Kr<se.length;Kr++){let U0=se.charCodeAt(Kr);if(U0>=7&&U0<=13||U0===27||U0===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(se){return a(se)||er(se)}o(n,"IsAdditionalProperties");function s(se){return D0.IsUndefined(se)||D0.IsBigInt(se)}o(s,"IsOptionalBigInt");function l(se){return D0.IsUndefined(se)||D0.IsNumber(se)}o(l,"IsOptionalNumber");function a(se){return D0.IsUndefined(se)||D0.IsBoolean(se)}o(a,"IsOptionalBoolean");function f(se){return D0.IsUndefined(se)||D0.IsString(se)}o(f,"IsOptionalString");function c(se){return D0.IsUndefined(se)||D0.IsString(se)&&r(se)&&t(se)}o(c,"IsOptionalPattern");function u(se){return D0.IsUndefined(se)||D0.IsString(se)&&r(se)}o(u,"IsOptionalFormat");function d(se){return D0.IsUndefined(se)||er(se)}o(d,"IsOptionalSchema");function h(se){return B(se,"Any")&&f(se.$id)}o(h,"TAny"),e.TAny=h;function p(se){return B(se,"Array")&&se.type==="array"&&f(se.$id)&&er(se.items)&&l(se.minItems)&&l(se.maxItems)&&a(se.uniqueItems)&&d(se.contains)&&l(se.minContains)&&l(se.maxContains)}o(p,"TArray"),e.TArray=p;function g(se){return B(se,"AsyncIterator")&&se.type==="AsyncIterator"&&f(se.$id)&&er(se.items)}o(g,"TAsyncIterator"),e.TAsyncIterator=g;function y(se){return B(se,"BigInt")&&se.type==="bigint"&&f(se.$id)&&s(se.exclusiveMaximum)&&s(se.exclusiveMinimum)&&s(se.maximum)&&s(se.minimum)&&s(se.multipleOf)}o(y,"TBigInt"),e.TBigInt=y;function _(se){return B(se,"Boolean")&&se.type==="boolean"&&f(se.$id)}o(_,"TBoolean"),e.TBoolean=_;function S(se){return B(se,"Constructor")&&se.type==="Constructor"&&f(se.$id)&&D0.IsArray(se.parameters)&&se.parameters.every(Kr=>er(Kr))&&er(se.returns)}o(S,"TConstructor"),e.TConstructor=S;function w(se){return B(se,"Date")&&se.type==="Date"&&f(se.$id)&&l(se.exclusiveMaximumTimestamp)&&l(se.exclusiveMinimumTimestamp)&&l(se.maximumTimestamp)&&l(se.minimumTimestamp)&&l(se.multipleOfTimestamp)}o(w,"TDate"),e.TDate=w;function P(se){return B(se,"Function")&&se.type==="Function"&&f(se.$id)&&D0.IsArray(se.parameters)&&se.parameters.every(Kr=>er(Kr))&&er(se.returns)}o(P,"TFunction"),e.TFunction=P;function D(se){return B(se,"Integer")&&se.type==="integer"&&f(se.$id)&&l(se.exclusiveMaximum)&&l(se.exclusiveMinimum)&&l(se.maximum)&&l(se.minimum)&&l(se.multipleOf)}o(D,"TInteger"),e.TInteger=D;function L(se){return B(se,"Intersect")&&!(D0.IsString(se.type)&&se.type!=="object")&&D0.IsArray(se.allOf)&&se.allOf.every(Kr=>er(Kr)&&!v0(Kr))&&f(se.type)&&(a(se.unevaluatedProperties)||d(se.unevaluatedProperties))&&f(se.$id)}o(L,"TIntersect"),e.TIntersect=L;function k(se){return B(se,"Iterator")&&se.type==="Iterator"&&f(se.$id)&&er(se.items)}o(k,"TIterator"),e.TIterator=k;function B(se,Kr){return ne(se)&&se[Re.Kind]===Kr}o(B,"TKindOf"),e.TKindOf=B;function ne(se){return D0.IsObject(se)&&Re.Kind in se&&D0.IsString(se[Re.Kind])}o(ne,"TKind"),e.TKind=ne;function ce(se){return Qe(se)&&D0.IsString(se.const)}o(ce,"TLiteralString"),e.TLiteralString=ce;function Ge(se){return Qe(se)&&D0.IsNumber(se.const)}o(Ge,"TLiteralNumber"),e.TLiteralNumber=Ge;function st(se){return Qe(se)&&D0.IsBoolean(se.const)}o(st,"TLiteralBoolean"),e.TLiteralBoolean=st;function Qe(se){return B(se,"Literal")&&f(se.$id)&&(D0.IsBoolean(se.const)||D0.IsNumber(se.const)||D0.IsString(se.const))}o(Qe,"TLiteral"),e.TLiteral=Qe;function Ft(se){return B(se,"Never")&&D0.IsObject(se.not)&&Object.getOwnPropertyNames(se.not).length===0}o(Ft,"TNever"),e.TNever=Ft;function ke(se){return B(se,"Not")&&er(se.not)}o(ke,"TNot"),e.TNot=ke;function pe(se){return B(se,"Null")&&se.type==="null"&&f(se.$id)}o(pe,"TNull"),e.TNull=pe;function Pt(se){return B(se,"Number")&&se.type==="number"&&f(se.$id)&&l(se.exclusiveMaximum)&&l(se.exclusiveMinimum)&&l(se.maximum)&&l(se.minimum)&&l(se.multipleOf)}o(Pt,"TNumber"),e.TNumber=Pt;function Ht(se){return B(se,"Object")&&se.type==="object"&&f(se.$id)&&D0.IsObject(se.properties)&&n(se.additionalProperties)&&l(se.minProperties)&&l(se.maxProperties)&&Object.entries(se.properties).every(([Kr,U0])=>r(Kr)&&er(U0))}o(Ht,"TObject"),e.TObject=Ht;function $t(se){return B(se,"Promise")&&se.type==="Promise"&&f(se.$id)&&er(se.item)}o($t,"TPromise"),e.TPromise=$t;function d0(se){return B(se,"Record")&&se.type==="object"&&f(se.$id)&&n(se.additionalProperties)&&D0.IsObject(se.patternProperties)&&(Kr=>{let U0=Object.getOwnPropertyNames(Kr.patternProperties);return U0.length===1&&t(U0[0])&&D0.IsObject(Kr.patternProperties)&&er(Kr.patternProperties[U0[0]])})(se)}o(d0,"TRecord"),e.TRecord=d0;function rt(se){return D0.IsObject(se)&&Re.Hint in se&&se[Re.Hint]==="Recursive"}o(rt,"TRecursive"),e.TRecursive=rt;function Nt(se){return B(se,"Ref")&&f(se.$id)&&D0.IsString(se.$ref)}o(Nt,"TRef"),e.TRef=Nt;function de(se){return B(se,"String")&&se.type==="string"&&f(se.$id)&&l(se.minLength)&&l(se.maxLength)&&c(se.pattern)&&u(se.format)}o(de,"TString"),e.TString=de;function xe(se){return B(se,"Symbol")&&se.type==="symbol"&&f(se.$id)}o(xe,"TSymbol"),e.TSymbol=xe;function r0(se){return B(se,"TemplateLiteral")&&se.type==="string"&&D0.IsString(se.pattern)&&se.pattern[0]==="^"&&se.pattern[se.pattern.length-1]==="$"}o(r0,"TTemplateLiteral"),e.TTemplateLiteral=r0;function T0(se){return B(se,"This")&&f(se.$id)&&D0.IsString(se.$ref)}o(T0,"TThis"),e.TThis=T0;function v0(se){return D0.IsObject(se)&&Re.Transform in se}o(v0,"TTransform"),e.TTransform=v0;function Zt(se){return B(se,"Tuple")&&se.type==="array"&&f(se.$id)&&D0.IsNumber(se.minItems)&&D0.IsNumber(se.maxItems)&&se.minItems===se.maxItems&&(D0.IsUndefined(se.items)&&D0.IsUndefined(se.additionalItems)&&se.minItems===0||D0.IsArray(se.items)&&se.items.every(Kr=>er(Kr)))}o(Zt,"TTuple"),e.TTuple=Zt;function G0(se){return B(se,"Undefined")&&se.type==="undefined"&&f(se.$id)}o(G0,"TUndefined"),e.TUndefined=G0;function ge(se){return y0(se)&&se.anyOf.every(Kr=>ce(Kr)||Ge(Kr))}o(ge,"TUnionLiteral"),e.TUnionLiteral=ge;function y0(se){return B(se,"Union")&&f(se.$id)&&D0.IsObject(se)&&D0.IsArray(se.anyOf)&&se.anyOf.every(Kr=>er(Kr))}o(y0,"TUnion"),e.TUnion=y0;function et(se){return B(se,"Uint8Array")&&se.type==="Uint8Array"&&f(se.$id)&&l(se.minByteLength)&&l(se.maxByteLength)}o(et,"TUint8Array"),e.TUint8Array=et;function m0(se){return B(se,"Unknown")&&f(se.$id)}o(m0,"TUnknown"),e.TUnknown=m0;function h0(se){return B(se,"Unsafe")}o(h0,"TUnsafe"),e.TUnsafe=h0;function w0(se){return B(se,"Void")&&se.type==="void"&&f(se.$id)}o(w0,"TVoid"),e.TVoid=w0;function K0(se){return D0.IsObject(se)&&se[Re.Readonly]==="Readonly"}o(K0,"TReadonly"),e.TReadonly=K0;function $r(se){return D0.IsObject(se)&&se[Re.Optional]==="Optional"}o($r,"TOptional"),e.TOptional=$r;function er(se){return D0.IsObject(se)&&(h(se)||p(se)||_(se)||y(se)||g(se)||S(se)||w(se)||P(se)||D(se)||L(se)||k(se)||Qe(se)||Ft(se)||ke(se)||pe(se)||Pt(se)||Ht(se)||$t(se)||d0(se)||Nt(se)||de(se)||xe(se)||r0(se)||T0(se)||Zt(se)||G0(se)||y0(se)||et(se)||m0(se)||h0(se)||w0(se)||ne(se)&&aE.Has(se[Re.Kind]))}o(er,"TSchema"),e.TSchema=er})(Ne||(Re.TypeGuard=Ne={}));var qD;(function(e){function t(r){return r[Re.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Re.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Re.Kind]==="Undefined"?!0:r[Re.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(qD||(Re.ExtendsUndefined=qD={}));var gE=class gE extends h1{};o(gE,"TypeExtendsError");var Op=gE;Re.TypeExtendsError=Op;var i0;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(i0||(Re.TypeExtendsResult=i0={}));var V2;(function(e){function t(j){return j===i0.False?j:i0.True}o(t,"IntoBooleanResult");function r(j){throw new Op(j)}o(r,"Throw");function n(j){return Ne.TNever(j)||Ne.TIntersect(j)||Ne.TUnion(j)||Ne.TUnknown(j)||Ne.TAny(j)}o(n,"IsStructuralRight");function s(j,H){return Ne.TNever(H)?B(j,H):Ne.TIntersect(H)?P(j,H):Ne.TUnion(H)?ds(j,H):Ne.TUnknown(H)?Ra(j,H):Ne.TAny(H)?l(j,H):r("StructuralRight")}o(s,"StructuralRight");function l(j,H){return i0.True}o(l,"TAnyRight");function a(j,H){return Ne.TIntersect(H)?P(j,H):Ne.TUnion(H)&&H.anyOf.some(x0=>Ne.TAny(x0)||Ne.TUnknown(x0))?i0.True:Ne.TUnion(H)?i0.Union:Ne.TUnknown(H)||Ne.TAny(H)?i0.True:i0.Union}o(a,"TAny");function f(j,H){return Ne.TUnknown(j)?i0.False:Ne.TAny(j)?i0.Union:Ne.TNever(j)?i0.True:i0.False}o(f,"TArrayRight");function c(j,H){return Ne.TObject(H)&&r0(H)?i0.True:n(H)?s(j,H):Ne.TArray(H)?t(mn(j.items,H.items)):i0.False}o(c,"TArray");function u(j,H){return n(H)?s(j,H):Ne.TAsyncIterator(H)?t(mn(j.items,H.items)):i0.False}o(u,"TAsyncIterator");function d(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TBigInt(H)?i0.True:i0.False}o(d,"TBigInt");function h(j,H){return Ne.TLiteral(j)&&D0.IsBoolean(j.const)||Ne.TBoolean(j)?i0.True:i0.False}o(h,"TBooleanRight");function p(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TBoolean(H)?i0.True:i0.False}o(p,"TBoolean");function g(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TConstructor(H)?j.parameters.length>H.parameters.length?i0.False:j.parameters.every((x0,Jr)=>t(mn(H.parameters[Jr],x0))===i0.True)?t(mn(j.returns,H.returns)):i0.False:i0.False}o(g,"TConstructor");function y(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TDate(H)?i0.True:i0.False}o(y,"TDate");function _(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TFunction(H)?j.parameters.length>H.parameters.length?i0.False:j.parameters.every((x0,Jr)=>t(mn(H.parameters[Jr],x0))===i0.True)?t(mn(j.returns,H.returns)):i0.False:i0.False}o(_,"TFunction");function S(j,H){return Ne.TLiteral(j)&&D0.IsNumber(j.const)||Ne.TNumber(j)||Ne.TInteger(j)?i0.True:i0.False}o(S,"TIntegerRight");function w(j,H){return Ne.TInteger(H)||Ne.TNumber(H)?i0.True:n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):i0.False}o(w,"TInteger");function P(j,H){return H.allOf.every(x0=>mn(j,x0)===i0.True)?i0.True:i0.False}o(P,"TIntersectRight");function D(j,H){return j.allOf.some(x0=>mn(x0,H)===i0.True)?i0.True:i0.False}o(D,"TIntersect");function L(j,H){return n(H)?s(j,H):Ne.TIterator(H)?t(mn(j.items,H.items)):i0.False}o(L,"TIterator");function k(j,H){return Ne.TLiteral(H)&&H.const===j.const?i0.True:n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TString(H)?w0(j,H):Ne.TNumber(H)?Qe(j,H):Ne.TInteger(H)?S(j,H):Ne.TBoolean(H)?h(j,H):i0.False}o(k,"TLiteral");function B(j,H){return i0.False}o(B,"TNeverRight");function ne(j,H){return i0.True}o(ne,"TNever");function ce(j){let[H,x0]=[j,0];for(;Ne.TNot(H);)H=H.not,x0+=1;return x0%2===0?H:Re.Type.Unknown()}o(ce,"UnwrapTNot");function Ge(j,H){return Ne.TNot(j)?mn(ce(j),H):Ne.TNot(H)?mn(j,ce(H)):r("Invalid fallthrough for Not")}o(Ge,"TNot");function st(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TNull(H)?i0.True:i0.False}o(st,"TNull");function Qe(j,H){return Ne.TLiteralNumber(j)||Ne.TNumber(j)||Ne.TInteger(j)?i0.True:i0.False}o(Qe,"TNumberRight");function Ft(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TInteger(H)||Ne.TNumber(H)?i0.True:i0.False}o(Ft,"TNumber");function ke(j,H){return Object.getOwnPropertyNames(j.properties).length===H}o(ke,"IsObjectPropertyCount");function pe(j){return r0(j)}o(pe,"IsObjectStringLike");function Pt(j){return ke(j,0)||ke(j,1)&&"description"in j.properties&&Ne.TUnion(j.properties.description)&&j.properties.description.anyOf.length===2&&(Ne.TString(j.properties.description.anyOf[0])&&Ne.TUndefined(j.properties.description.anyOf[1])||Ne.TString(j.properties.description.anyOf[1])&&Ne.TUndefined(j.properties.description.anyOf[0]))}o(Pt,"IsObjectSymbolLike");function Ht(j){return ke(j,0)}o(Ht,"IsObjectNumberLike");function $t(j){return ke(j,0)}o($t,"IsObjectBooleanLike");function d0(j){return ke(j,0)}o(d0,"IsObjectBigIntLike");function rt(j){return ke(j,0)}o(rt,"IsObjectDateLike");function Nt(j){return r0(j)}o(Nt,"IsObjectUint8ArrayLike");function de(j){let H=Re.Type.Number();return ke(j,0)||ke(j,1)&&"length"in j.properties&&t(mn(j.properties.length,H))===i0.True}o(de,"IsObjectFunctionLike");function xe(j){return ke(j,0)}o(xe,"IsObjectConstructorLike");function r0(j){let H=Re.Type.Number();return ke(j,0)||ke(j,1)&&"length"in j.properties&&t(mn(j.properties.length,H))===i0.True}o(r0,"IsObjectArrayLike");function T0(j){let H=Re.Type.Function([Re.Type.Any()],Re.Type.Any());return ke(j,0)||ke(j,1)&&"then"in j.properties&&t(mn(j.properties.then,H))===i0.True}o(T0,"IsObjectPromiseLike");function v0(j,H){return mn(j,H)===i0.False||Ne.TOptional(j)&&!Ne.TOptional(H)?i0.False:i0.True}o(v0,"Property");function Zt(j,H){return Ne.TUnknown(j)?i0.False:Ne.TAny(j)?i0.Union:Ne.TNever(j)||Ne.TLiteralString(j)&&pe(H)||Ne.TLiteralNumber(j)&&Ht(H)||Ne.TLiteralBoolean(j)&&$t(H)||Ne.TSymbol(j)&&Pt(H)||Ne.TBigInt(j)&&d0(H)||Ne.TString(j)&&pe(H)||Ne.TSymbol(j)&&Pt(H)||Ne.TNumber(j)&&Ht(H)||Ne.TInteger(j)&&Ht(H)||Ne.TBoolean(j)&&$t(H)||Ne.TUint8Array(j)&&Nt(H)||Ne.TDate(j)&&rt(H)||Ne.TConstructor(j)&&xe(H)||Ne.TFunction(j)&&de(H)?i0.True:Ne.TRecord(j)&&Ne.TString(y0(j))?H[Re.Hint]==="Record"?i0.True:i0.False:Ne.TRecord(j)&&Ne.TNumber(y0(j))?ke(H,0)?i0.True:i0.False:i0.False}o(Zt,"TObjectRight");function G0(j,H){return n(H)?s(j,H):Ne.TRecord(H)?m0(j,H):Ne.TObject(H)?(()=>{for(let x0 of Object.getOwnPropertyNames(H.properties)){if(!(x0 in j.properties)&&!Ne.TOptional(H.properties[x0]))return i0.False;if(Ne.TOptional(H.properties[x0]))return i0.True;if(v0(j.properties[x0],H.properties[x0])===i0.False)return i0.False}return i0.True})():i0.False}o(G0,"TObject");function ge(j,H){return n(H)?s(j,H):Ne.TObject(H)&&T0(H)?i0.True:Ne.TPromise(H)?t(mn(j.item,H.item)):i0.False}o(ge,"TPromise");function y0(j){return Re.PatternNumberExact in j.patternProperties?Re.Type.Number():Re.PatternStringExact in j.patternProperties?Re.Type.String():r("Unknown record key pattern")}o(y0,"RecordKey");function et(j){return Re.PatternNumberExact in j.patternProperties?j.patternProperties[Re.PatternNumberExact]:Re.PatternStringExact in j.patternProperties?j.patternProperties[Re.PatternStringExact]:r("Unable to get record value schema")}o(et,"RecordValue");function m0(j,H){let[x0,Jr]=[y0(H),et(H)];return Ne.TLiteralString(j)&&Ne.TNumber(x0)&&t(mn(j,Jr))===i0.True?i0.True:Ne.TUint8Array(j)&&Ne.TNumber(x0)||Ne.TString(j)&&Ne.TNumber(x0)||Ne.TArray(j)&&Ne.TNumber(x0)?mn(j,Jr):Ne.TObject(j)?(()=>{for(let ui of Object.getOwnPropertyNames(j.properties))if(v0(Jr,j.properties[ui])===i0.False)return i0.False;return i0.True})():i0.False}o(m0,"TRecordRight");function h0(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?mn(et(j),et(H)):i0.False}o(h0,"TRecord");function w0(j,H){return Ne.TLiteral(j)&&D0.IsString(j.const)||Ne.TString(j)?i0.True:i0.False}o(w0,"TStringRight");function K0(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TString(H)?i0.True:i0.False}o(K0,"TString");function $r(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TSymbol(H)?i0.True:i0.False}o($r,"TSymbol");function er(j,H){return Ne.TTemplateLiteral(j)?mn(nd.Resolve(j),H):Ne.TTemplateLiteral(H)?mn(j,nd.Resolve(H)):r("Invalid fallthrough for TemplateLiteral")}o(er,"TTemplateLiteral");function se(j,H){return Ne.TArray(H)&&j.items!==void 0&&j.items.every(x0=>mn(x0,H.items)===i0.True)}o(se,"IsArrayOfTuple");function Kr(j,H){return Ne.TNever(j)?i0.True:Ne.TUnknown(j)?i0.False:Ne.TAny(j)?i0.Union:i0.False}o(Kr,"TTupleRight");function U0(j,H){return n(H)?s(j,H):Ne.TObject(H)&&r0(H)||Ne.TArray(H)&&se(j,H)?i0.True:Ne.TTuple(H)?D0.IsUndefined(j.items)&&!D0.IsUndefined(H.items)||!D0.IsUndefined(j.items)&&D0.IsUndefined(H.items)?i0.False:D0.IsUndefined(j.items)&&!D0.IsUndefined(H.items)||j.items.every((x0,Jr)=>mn(x0,H.items[Jr])===i0.True)?i0.True:i0.False:i0.False}o(U0,"TTuple");function es(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TUint8Array(H)?i0.True:i0.False}o(es,"TUint8Array");function Li(j,H){return n(H)?s(j,H):Ne.TObject(H)?Zt(j,H):Ne.TRecord(H)?m0(j,H):Ne.TVoid(H)?yl(j,H):Ne.TUndefined(H)?i0.True:i0.False}o(Li,"TUndefined");function ds(j,H){return H.anyOf.some(x0=>mn(j,x0)===i0.True)?i0.True:i0.False}o(ds,"TUnionRight");function Bi(j,H){return j.anyOf.every(x0=>mn(x0,H)===i0.True)?i0.True:i0.False}o(Bi,"TUnion");function Ra(j,H){return i0.True}o(Ra,"TUnknownRight");function Ga(j,H){return Ne.TNever(H)?B(j,H):Ne.TIntersect(H)?P(j,H):Ne.TUnion(H)?ds(j,H):Ne.TAny(H)?l(j,H):Ne.TString(H)?w0(j,H):Ne.TNumber(H)?Qe(j,H):Ne.TInteger(H)?S(j,H):Ne.TBoolean(H)?h(j,H):Ne.TArray(H)?f(j,H):Ne.TTuple(H)?Kr(j,H):Ne.TObject(H)?Zt(j,H):Ne.TUnknown(H)?i0.True:i0.False}o(Ga,"TUnknown");function yl(j,H){return Ne.TUndefined(j)||Ne.TUndefined(j)?i0.True:i0.False}o(yl,"VoidRight");function Ka(j,H){return Ne.TIntersect(H)?P(j,H):Ne.TUnion(H)?ds(j,H):Ne.TUnknown(H)?Ra(j,H):Ne.TAny(H)?l(j,H):Ne.TObject(H)?Zt(j,H):Ne.TVoid(H)?i0.True:i0.False}o(Ka,"TVoid");function mn(j,H){return Ne.TTemplateLiteral(j)||Ne.TTemplateLiteral(H)?er(j,H):Ne.TNot(j)||Ne.TNot(H)?Ge(j,H):Ne.TAny(j)?a(j,H):Ne.TArray(j)?c(j,H):Ne.TBigInt(j)?d(j,H):Ne.TBoolean(j)?p(j,H):Ne.TAsyncIterator(j)?u(j,H):Ne.TConstructor(j)?g(j,H):Ne.TDate(j)?y(j,H):Ne.TFunction(j)?_(j,H):Ne.TInteger(j)?w(j,H):Ne.TIntersect(j)?D(j,H):Ne.TIterator(j)?L(j,H):Ne.TLiteral(j)?k(j,H):Ne.TNever(j)?ne(j,H):Ne.TNull(j)?st(j,H):Ne.TNumber(j)?Ft(j,H):Ne.TObject(j)?G0(j,H):Ne.TRecord(j)?h0(j,H):Ne.TString(j)?K0(j,H):Ne.TSymbol(j)?$r(j,H):Ne.TTuple(j)?U0(j,H):Ne.TPromise(j)?ge(j,H):Ne.TUint8Array(j)?es(j,H):Ne.TUndefined(j)?Li(j,H):Ne.TUnion(j)?Bi(j,H):Ne.TUnknown(j)?Ga(j,H):Ne.TVoid(j)?Ka(j,H):r(`Unknown left type operand '${j[Re.Kind]}'`)}o(mn,"Visit");function be(j,H){return mn(j,H)}o(be,"Extends"),e.Extends=be})(V2||(Re.TypeExtends=V2={}));var nr;(function(e){function t(c){return c.map(u=>l(u))}o(t,"ArrayType");function r(c){return new Date(c.getTime())}o(r,"DateType");function n(c){return new Uint8Array(c)}o(n,"Uint8ArrayType");function s(c){let u=Object.getOwnPropertyNames(c).reduce((h,p)=>({...h,[p]:l(c[p])}),{}),d=Object.getOwnPropertySymbols(c).reduce((h,p)=>({...h,[p]:l(c[p])}),{});return{...u,...d}}o(s,"ObjectType");function l(c){return D0.IsArray(c)?t(c):D0.IsDate(c)?r(c):D0.IsUint8Array(c)?n(c):D0.IsObject(c)?s(c):c}o(l,"Visit");function a(c){return c.map(u=>f(u))}o(a,"Rest"),e.Rest=a;function f(c,u={}){return{...l(c),...u}}o(f,"Type"),e.Type=f})(nr||(Re.TypeClone=nr={}));var fE;(function(e){function t(g){return g.map(y=>{let{[Re.Optional]:_,...S}=nr.Type(y);return S})}o(t,"OptionalUnwrap");function r(g){return g.every(y=>Ne.TOptional(y))}o(r,"IsIntersectOptional");function n(g){return g.some(y=>Ne.TOptional(y))}o(n,"IsUnionOptional");function s(g){return r(g.allOf)?Re.Type.Optional(Re.Type.Intersect(t(g.allOf))):g}o(s,"ResolveIntersect");function l(g){return n(g.anyOf)?Re.Type.Optional(Re.Type.Union(t(g.anyOf))):g}o(l,"ResolveUnion");function a(g){return g[Re.Kind]==="Intersect"?s(g):g[Re.Kind]==="Union"?l(g):g}o(a,"ResolveOptional");function f(g,y){let _=g.allOf.reduce((S,w)=>{let P=h(w,y);return P[Re.Kind]==="Never"?S:[...S,P]},[]);return a(Re.Type.Intersect(_))}o(f,"TIntersect");function c(g,y){let _=g.anyOf.map(S=>h(S,y));return a(Re.Type.Union(_))}o(c,"TUnion");function u(g,y){let _=g.properties[y];return D0.IsUndefined(_)?Re.Type.Never():Re.Type.Union([_])}o(u,"TObject");function d(g,y){let _=g.items;if(D0.IsUndefined(_))return Re.Type.Never();let S=_[y];return D0.IsUndefined(S)?Re.Type.Never():S}o(d,"TTuple");function h(g,y){return g[Re.Kind]==="Intersect"?f(g,y):g[Re.Kind]==="Union"?c(g,y):g[Re.Kind]==="Object"?u(g,y):g[Re.Kind]==="Tuple"?d(g,y):Re.Type.Never()}o(h,"Visit");function p(g,y,_={}){let S=y.map(w=>h(g,w.toString()));return a(Re.Type.Union(S,_))}o(p,"Resolve"),e.Resolve=p})(fE||(Re.IndexedAccessor=fE={}));var Vh;(function(e){function t(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toLowerCase()}${p}`}o(t,"Uncapitalize");function r(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toUpperCase()}${p}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function l(d,h){let p=Gh.ParseExact(d.pattern);if(!Kh.Check(p))return{...d,pattern:a(d.pattern,h)};let _=[...Wh.Generate(p)].map(P=>Re.Type.Literal(P)),S=f(_,h),w=Re.Type.Union(S);return Re.Type.TemplateLiteral([w])}o(l,"IntrinsicTemplateLiteral");function a(d,h){return typeof d=="string"?h==="Uncapitalize"?t(d):h==="Capitalize"?r(d):h==="Uppercase"?n(d):h==="Lowercase"?s(d):d:d.toString()}o(a,"IntrinsicLiteral");function f(d,h){if(d.length===0)return[];let[p,...g]=d;return[u(p,h),...f(g,h)]}o(f,"IntrinsicRest");function c(d,h){return Ne.TTemplateLiteral(d)?l(d,h):Ne.TUnion(d)?Re.Type.Union(f(d.anyOf,h)):Ne.TLiteral(d)?Re.Type.Literal(a(d.const,h)):d}o(c,"Visit");function u(d,h){return c(d,h)}o(u,"Map"),e.Map=u})(Vh||(Re.Intrinsic=Vh={}));var zh;(function(e){function t(a,f){return Re.Type.Intersect(a.allOf.map(c=>s(c,f)),{...a})}o(t,"TIntersect");function r(a,f){return Re.Type.Union(a.anyOf.map(c=>s(c,f)),{...a})}o(r,"TUnion");function n(a,f){return f(a)}o(n,"TObject");function s(a,f){return a[Re.Kind]==="Intersect"?t(a,f):a[Re.Kind]==="Union"?r(a,f):a[Re.Kind]==="Object"?n(a,f):a}o(s,"Visit");function l(a,f,c){return{...s(nr.Type(a),f),...c}}o(l,"Map"),e.Map=l})(zh||(Re.ObjectMap=zh={}));var Fp;(function(e){function t(u){return u[0]==="^"&&u[u.length-1]==="$"?u.slice(1,u.length-1):u}o(t,"UnwrapPattern");function r(u,d){return u.allOf.reduce((h,p)=>[...h,...a(p,d)],[])}o(r,"TIntersect");function n(u,d){let h=u.anyOf.map(p=>a(p,d));return[...h.reduce((p,g)=>g.map(y=>h.every(_=>_.includes(y))?p.add(y):p)[0],new Set)]}o(n,"TUnion");function s(u,d){return Object.getOwnPropertyNames(u.properties)}o(s,"TObject");function l(u,d){return d.includePatterns?Object.getOwnPropertyNames(u.patternProperties):[]}o(l,"TRecord");function a(u,d){return Ne.TIntersect(u)?r(u,d):Ne.TUnion(u)?n(u,d):Ne.TObject(u)?s(u,d):Ne.TRecord(u)?l(u,d):[]}o(a,"Visit");function f(u,d){return[...new Set(a(u,d))]}o(f,"ResolveKeys"),e.ResolveKeys=f;function c(u){return`^(${f(u,{includePatterns:!0}).map(p=>`(${t(p)})`).join("|")})$`}o(c,"ResolvePattern"),e.ResolvePattern=c})(Fp||(Re.KeyResolver=Fp={}));var mE=class mE extends h1{};o(mE,"KeyArrayResolverError");var Mp=mE;Re.KeyArrayResolverError=Mp;var Am;(function(e){function t(r){return Array.isArray(r)?r:Ne.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):Ne.TLiteral(r)?[r.const]:Ne.TTemplateLiteral(r)?(()=>{let n=Gh.ParseExact(r.pattern);if(!Kh.Check(n))throw new Mp("Cannot resolve keys from infinite template expression");return[...Wh.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(Am||(Re.KeyArrayResolver=Am={}));var cE;(function(e){function*t(n){for(let s of n.anyOf)s[Re.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Re.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(cE||(Re.UnionResolver=cE={}));var pE=class pE extends h1{};o(pE,"TemplateLiteralPatternError");var Up=pE;Re.TemplateLiteralPatternError=Up;var qp;(function(e){function t(l){throw new Up(l)}o(t,"Throw");function r(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(l,a){return Ne.TTemplateLiteral(l)?l.pattern.slice(1,l.pattern.length-1):Ne.TUnion(l)?`(${l.anyOf.map(f=>n(f,a)).join("|")})`:Ne.TNumber(l)?`${a}${Re.PatternNumber}`:Ne.TInteger(l)?`${a}${Re.PatternNumber}`:Ne.TBigInt(l)?`${a}${Re.PatternNumber}`:Ne.TString(l)?`${a}${Re.PatternString}`:Ne.TLiteral(l)?`${a}${r(l.const.toString())}`:Ne.TBoolean(l)?`${a}${Re.PatternBoolean}`:t(`Unexpected Kind '${l[Re.Kind]}'`)}o(n,"Visit");function s(l){return`^${l.map(a=>n(a,"")).join("")}$`}o(s,"Create"),e.Create=s})(qp||(Re.TemplateLiteralPattern=qp={}));var nd;(function(e){function t(r){let n=Gh.ParseExact(r.pattern);if(!Kh.Check(n))return Re.Type.String();let s=[...Wh.Generate(n)].map(l=>Re.Type.Literal(l));return Re.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(nd||(Re.TemplateLiteralResolver=nd={}));var yE=class yE extends h1{};o(yE,"TemplateLiteralParserError");var Pm=yE;Re.TemplateLiteralParserError=Pm;var Gh;(function(e){function t(g,y,_){return g[y]===_&&g.charCodeAt(y-1)!==92}o(t,"IsNonEscaped");function r(g,y){return t(g,y,"(")}o(r,"IsOpenParen");function n(g,y){return t(g,y,")")}o(n,"IsCloseParen");function s(g,y){return t(g,y,"|")}o(s,"IsSeparator");function l(g){if(!(r(g,0)&&n(g,g.length-1)))return!1;let y=0;for(let _=0;_<g.length;_++)if(r(g,_)&&(y+=1),n(g,_)&&(y-=1),y===0&&_!==g.length-1)return!1;return!0}o(l,"IsGroup");function a(g){return g.slice(1,g.length-1)}o(a,"InGroup");function f(g){let y=0;for(let _=0;_<g.length;_++)if(r(g,_)&&(y+=1),n(g,_)&&(y-=1),s(g,_)&&y===0)return!0;return!1}o(f,"IsPrecedenceOr");function c(g){for(let y=0;y<g.length;y++)if(r(g,y))return!0;return!1}o(c,"IsPrecedenceAnd");function u(g){let[y,_]=[0,0],S=[];for(let P=0;P<g.length;P++)if(r(g,P)&&(y+=1),n(g,P)&&(y-=1),s(g,P)&&y===0){let D=g.slice(_,P);D.length>0&&S.push(h(D)),_=P+1}let w=g.slice(_);return w.length>0&&S.push(h(w)),S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"or",expr:S}}o(u,"Or");function d(g){function y(w,P){if(!r(w,P))throw new Pm("TemplateLiteralParser: Index must point to open parens");let D=0;for(let L=P;L<w.length;L++)if(r(w,L)&&(D+=1),n(w,L)&&(D-=1),D===0)return[P,L];throw new Pm("TemplateLiteralParser: Unclosed group parens in expression")}o(y,"Group");function _(w,P){for(let D=P;D<w.length;D++)if(r(w,D))return[P,D];return[P,w.length]}o(_,"Range");let S=[];for(let w=0;w<g.length;w++)if(r(g,w)){let[P,D]=y(g,w),L=g.slice(P,D+1);S.push(h(L)),w=D}else{let[P,D]=_(g,w),L=g.slice(P,D);L.length>0&&S.push(h(L)),w=D-1}return S.length===0?{type:"const",const:""}:S.length===1?S[0]:{type:"and",expr:S}}o(d,"And");function h(g){return l(g)?h(a(g)):f(g)?u(g):c(g)?d(g):{type:"const",const:g}}o(h,"Parse"),e.Parse=h;function p(g){return h(g.slice(1,g.length-1))}o(p,"ParseExact"),e.ParseExact=p})(Gh||(Re.TemplateLiteralParser=Gh={}));var vE=class vE extends h1{};o(vE,"TemplateLiteralFiniteError");var jp=vE;Re.TemplateLiteralFiniteError=jp;var Kh;(function(e){function t(a){throw new jp(a)}o(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}o(n,"IsBoolean");function s(a){return a.type==="const"&&a.const===".*"}o(s,"IsString");function l(a){return n(a)?!0:r(a)||s(a)?!1:a.type==="and"?a.expr.every(f=>l(f)):a.type==="or"?a.expr.every(f=>l(f)):a.type==="const"?!0:t("Unknown expression type")}o(l,"Check"),e.Check=l})(Kh||(Re.TemplateLiteralFinite=Kh={}));var xE=class xE extends h1{};o(xE,"TemplateLiteralGeneratorError");var $p=xE;Re.TemplateLiteralGeneratorError=$p;var Wh;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let f of a[0])for(let c of t(a.slice(1)))yield`${f}${c}`}o(t,"Reduce");function*r(a){return yield*t(a.expr.map(f=>[...l(f)]))}o(r,"And");function*n(a){for(let f of a.expr)yield*l(f)}o(n,"Or");function*s(a){return yield a.const}o(s,"Const");function*l(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*s(a):(()=>{throw new $p("Unknown expression")})()}o(l,"Generate"),e.Generate=l})(Wh||(Re.TemplateLiteralGenerator=Wh={}));var uE;(function(e){function*t(l){let a=l.trim().replace(/"|'/g,"");return a==="boolean"?yield Re.Type.Boolean():a==="number"?yield Re.Type.Number():a==="bigint"?yield Re.Type.BigInt():a==="string"?yield Re.Type.String():yield(()=>{let f=a.split("|").map(c=>Re.Type.Literal(c.trim()));return f.length===0?Re.Type.Never():f.length===1?f[0]:Re.Type.Union(f)})()}o(t,"ParseUnion");function*r(l){if(l[1]!=="{"){let a=Re.Type.Literal("$"),f=n(l.slice(1));return yield*[a,...f]}for(let a=2;a<l.length;a++)if(l[a]==="}"){let f=t(l.slice(2,a)),c=n(l.slice(a+1));return yield*[...f,...c]}yield Re.Type.Literal(l)}o(r,"ParseTerminal");function*n(l){for(let a=0;a<l.length;a++)if(l[a]==="$"){let f=Re.Type.Literal(l.slice(0,a)),c=r(l.slice(a));return yield*[f,...c]}yield Re.Type.Literal(l)}o(n,"ParseLiteral");function s(l){return[...n(l)]}o(s,"Parse"),e.Parse=s})(uE||(Re.TemplateLiteralDslParser=uE={}));var _E=class _E{constructor(t){this.schema=t}Decode(t){return new Vp(this.schema,t)}};o(_E,"TransformDecodeBuilder");var Hp=_E;Re.TransformDecodeBuilder=Hp;var bE=class bE{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=nr.Type(this.schema);return Ne.TTransform(r)?(()=>{let l={Encode:o(a=>r[Re.Transform].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Re.Transform].Decode(a)),"Decode")};return{...r,[Re.Transform]:l}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Re.Transform]:n}})()}};o(bE,"TransformEncodeBuilder");var Vp=bE;Re.TransformEncodeBuilder=Vp;var BW=0,CE=class CE extends h1{};o(CE,"TypeBuilderError");var zp=CE;Re.TypeBuilderError=zp;var EE=class EE{Create(t){return t}Throw(t){throw new zp(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:l,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(EE,"TypeBuilder");var Gp=EE;Re.TypeBuilder=Gp;var TE=class TE extends Gp{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...nr.Type(t),[Re.Readonly]:"Readonly"}}Optional(t){return{...nr.Type(t),[Re.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Re.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Re.Kind]:"Array",type:"array",items:nr.Type(t)})}Boolean(t={}){return this.Create({...t,[Re.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...Vh.Map(nr.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Re.Type.Intersect(t,{}),l=Fp.ResolveKeys(n,{includePatterns:!1}).reduce((a,f)=>({...a,[f]:Re.Type.Index(n,[f])}),{});return Re.Type.Object(l,r)}Enum(t,r={}){if(D0.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),l=[...new Set(n)].map(a=>Re.Type.Literal(a));return this.Union(l,{...r,[Re.Hint]:"Enum"})}Extends(t,r,n,s,l={}){switch(V2.Extends(t,r)){case i0.Union:return this.Union([nr.Type(n,l),nr.Type(s,l)]);case i0.True:return nr.Type(n,l);case i0.False:return nr.Type(s,l)}}Exclude(t,r,n={}){return Ne.TTemplateLiteral(t)?this.Exclude(nd.Resolve(t),r,n):Ne.TTemplateLiteral(r)?this.Exclude(t,nd.Resolve(r),n):Ne.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>V2.Extends(l,r)===i0.False);return s.length===1?nr.Type(s[0],n):this.Union(s,n)})():V2.Extends(t,r)!==i0.False?this.Never(n):nr.Type(t,n)}Extract(t,r,n={}){return Ne.TTemplateLiteral(t)?this.Extract(nd.Resolve(t),r,n):Ne.TTemplateLiteral(r)?this.Extract(t,nd.Resolve(r),n):Ne.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>V2.Extends(l,r)!==i0.False);return s.length===1?nr.Type(s[0],n):this.Union(s,n)})():V2.Extends(t,r)!==i0.False?nr.Type(t,n):this.Never(n)}Index(t,r,n={}){return Ne.TArray(t)&&Ne.TNumber(r)?nr.Type(t.items,n):Ne.TTuple(t)&&Ne.TNumber(r)?(()=>{let l=(D0.IsUndefined(t.items)?[]:t.items).map(a=>nr.Type(a));return this.Union(l,n)})():(()=>{let s=Am.Resolve(r),l=nr.Type(t);return fE.Resolve(l,s,n)})()}Integer(t={}){return this.Create({...t,[Re.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Re.Type.Never();if(t.length===1)return nr.Type(t[0],r);t.some(a=>Ne.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>Ne.TObject(a)),s=nr.Rest(t),l=Ne.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:nr.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||Ne.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...l,[Re.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...l,[Re.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return Ne.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Re.PatternNumberExact?this.Number(r):n===Re.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():Ne.TTuple(t)?(()=>{let s=(D0.IsUndefined(t.items)?[]:t.items).map((l,a)=>Re.Type.Literal(a.toString()));return this.Union(s,r)})():Ne.TArray(t)?this.Number(r):(()=>{let n=Fp.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(l=>this.Literal(l));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Re.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...Vh.Map(nr.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Re.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Re.Kind]:"Not",not:nr.Type(t)})}Null(t={}){return this.Create({...t,[Re.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Re.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(c=>Ne.TOptional(t[c])),l=n.filter(c=>!s.includes(c)),a=Ne.TSchema(r.additionalProperties)?{additionalProperties:nr.Type(r.additionalProperties)}:{},f=n.reduce((c,u)=>({...c,[u]:nr.Type(t[u])}),{});return l.length>0?this.Create({...r,...a,[Re.Kind]:"Object",type:"object",properties:f,required:l}):this.Create({...r,...a,[Re.Kind]:"Object",type:"object",properties:f})}Omit(t,r,n={}){let s=Am.Resolve(r);return zh.Map(this.Discard(nr.Type(t),["$id",Re.Transform]),l=>{D0.IsArray(l.required)&&(l.required=l.required.filter(a=>!s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)&&delete l.properties[a];return this.Create(l)},n)}Partial(t,r={}){return zh.Map(this.Discard(nr.Type(t),["$id",Re.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Optional(n.properties[a])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=Am.Resolve(r);return zh.Map(this.Discard(nr.Type(t),["$id",Re.Transform]),l=>{D0.IsArray(l.required)&&(l.required=l.required.filter(a=>s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)||delete l.properties[a];return this.Create(l)},n)}Record(t,r,n={}){return Ne.TTemplateLiteral(t)?(()=>{let s=Gh.ParseExact(t.pattern);return Kh.Check(s)?this.Object([...Wh.Generate(s)].reduce((l,a)=>({...l,[a]:nr.Type(r)}),{}),n):this.Create({...n,[Re.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:nr.Type(r)}})})():Ne.TUnion(t)?(()=>{let s=cE.Resolve(t);if(Ne.TUnionLiteral(s)){let l=s.anyOf.reduce((a,f)=>({...a,[f.const]:nr.Type(r)}),{});return this.Object(l,{...n,[Re.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():Ne.TLiteral(t)?D0.IsString(t.const)||D0.IsNumber(t.const)?this.Object({[t.const]:nr.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):Ne.TInteger(t)||Ne.TNumber(t)?this.Create({...n,[Re.Kind]:"Record",type:"object",patternProperties:{[Re.PatternNumberExact]:nr.Type(r)}}):Ne.TString(t)?(()=>{let s=D0.IsUndefined(t.pattern)?Re.PatternStringExact:t.pattern;return this.Create({...n,[Re.Kind]:"Record",type:"object",patternProperties:{[s]:nr.Type(r)}})})():this.Never()}Recursive(t,r={}){D0.IsUndefined(r.$id)&&(r.$id=`T${BW++}`);let n=t({[Re.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Re.Hint]:"Recursive",...n})}Ref(t,r={}){return D0.IsString(t)?this.Create({...r,[Re.Kind]:"Ref",$ref:t}):(D0.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Re.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return zh.Map(this.Discard(nr.Type(t),["$id",Re.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Discard(n.properties[a],[Re.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return Ne.TTuple(t)&&!D0.IsUndefined(t.items)?nr.Rest(t.items):Ne.TIntersect(t)?nr.Rest(t.allOf):Ne.TUnion(t)?nr.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Re.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=D0.IsString(t)?qp.Create(uE.Parse(t)):qp.Create(t);return this.Create({...r,[Re.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new Hp(t)}Tuple(t,r={}){let[n,s,l]=[!1,t.length,t.length],a=nr.Rest(t),f=t.length>0?{...r,[Re.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:s,maxItems:l}:{...r,[Re.Kind]:"Tuple",type:"array",minItems:s,maxItems:l};return this.Create(f)}Uncapitalize(t,r={}){return{...Vh.Map(nr.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return Ne.TTemplateLiteral(t)?nd.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(nr.Type(n[0],r));let s=nr.Rest(n);return this.Create({...r,[Re.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Re.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Re.Kind]:t[Re.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...Vh.Map(nr.Type(t),"Uppercase"),...r}}};o(TE,"JsonTypeBuilder");var Rm=TE;Re.JsonTypeBuilder=Rm;var SE=class SE extends Rm{AsyncIterator(t,r={}){return this.Create({...r,[Re.Kind]:"AsyncIterator",type:"AsyncIterator",items:nr.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[l,...a]=s;return[this.Awaited(l),...n(a)]})():s,"Unwrap");return Ne.TIntersect(t)?Re.Type.Intersect(n(t.allOf)):Ne.TUnion(t)?Re.Type.Union(n(t.anyOf)):Ne.TPromise(t)?this.Awaited(t.item):nr.Type(t,r)}BigInt(t={}){return this.Create({...t,[Re.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,l]=[nr.Rest(t),nr.Type(r)];return this.Create({...n,[Re.Kind]:"Constructor",type:"Constructor",parameters:s,returns:l})}Date(t={}){return this.Create({...t,[Re.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,l]=[nr.Rest(t),nr.Type(r)];return this.Create({...n,[Re.Kind]:"Function",type:"Function",parameters:s,returns:l})}InstanceType(t,r={}){return nr.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Re.Kind]:"Iterator",type:"Iterator",items:nr.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Re.Kind]:"Promise",type:"Promise",item:nr.Type(t)})}RegExp(t,r={}){let n=D0.IsString(t)?t:t.source;return this.Create({...r,[Re.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return nr.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Re.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Re.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Re.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Re.Kind]:"Void",type:"void"})}};o(SE,"JavaScriptTypeBuilder");var Kp=SE;Re.JavaScriptTypeBuilder=Kp;Re.JsonType=new Rm;Re.Type=new Kp});var kf=ot(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.IsValueType=Fn.IsSymbol=Fn.IsFunction=Fn.IsString=Fn.IsBigInt=Fn.IsInteger=Fn.IsNumber=Fn.IsBoolean=Fn.IsNull=Fn.IsUndefined=Fn.IsArray=Fn.IsObject=Fn.IsPlainObject=Fn.HasPropertyKey=Fn.IsDate=Fn.IsUint8Array=Fn.IsPromise=Fn.IsTypedArray=Fn.IsIterator=Fn.IsAsyncIterator=void 0;function OW(e){return Wp(e)&&Symbol.asyncIterator in e}o(OW,"IsAsyncIterator");Fn.IsAsyncIterator=OW;function FW(e){return Wp(e)&&Symbol.iterator in e}o(FW,"IsIterator");Fn.IsIterator=FW;function MW(e){return ArrayBuffer.isView(e)}o(MW,"IsTypedArray");Fn.IsTypedArray=MW;function UW(e){return e instanceof Promise}o(UW,"IsPromise");Fn.IsPromise=UW;function qW(e){return e instanceof Uint8Array}o(qW,"IsUint8Array");Fn.IsUint8Array=qW;function jW(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(jW,"IsDate");Fn.IsDate=jW;function $W(e,t){return t in e}o($W,"HasPropertyKey");Fn.HasPropertyKey=$W;function HW(e){return Wp(e)&&GD(e.constructor)&&e.constructor.name==="Object"}o(HW,"IsPlainObject");Fn.IsPlainObject=HW;function Wp(e){return e!==null&&typeof e=="object"}o(Wp,"IsObject");Fn.IsObject=Wp;function VW(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(VW,"IsArray");Fn.IsArray=VW;function jD(e){return e===void 0}o(jD,"IsUndefined");Fn.IsUndefined=jD;function $D(e){return e===null}o($D,"IsNull");Fn.IsNull=$D;function HD(e){return typeof e=="boolean"}o(HD,"IsBoolean");Fn.IsBoolean=HD;function wE(e){return typeof e=="number"}o(wE,"IsNumber");Fn.IsNumber=wE;function zW(e){return wE(e)&&Number.isInteger(e)}o(zW,"IsInteger");Fn.IsInteger=zW;function VD(e){return typeof e=="bigint"}o(VD,"IsBigInt");Fn.IsBigInt=VD;function zD(e){return typeof e=="string"}o(zD,"IsString");Fn.IsString=zD;function GD(e){return typeof e=="function"}o(GD,"IsFunction");Fn.IsFunction=GD;function KD(e){return typeof e=="symbol"}o(KD,"IsSymbol");Fn.IsSymbol=KD;function GW(e){return VD(e)||HD(e)||$D(e)||wE(e)||zD(e)||KD(e)||jD(e)}o(GW,"IsValueType");Fn.IsValueType=GW});var RE=ot(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.DefaultErrorFunction=Nf.TypeSystemPolicy=Nf.TypeSystemErrorFunction=Nf.TypeSystem=Nf.TypeSystemDuplicateFormat=Nf.TypeSystemDuplicateTypeKind=void 0;var Yp=kf(),J0=km(),id=Rf(),AE=class AE extends id.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(AE,"TypeSystemDuplicateTypeKind");var Jp=AE;Nf.TypeSystemDuplicateTypeKind=Jp;var PE=class PE extends id.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(PE,"TypeSystemDuplicateFormat");var Xp=PE;Nf.TypeSystemDuplicateFormat=Xp;var WD;(function(e){function t(n,s){if(id.TypeRegistry.Has(n))throw new Jp(n);return id.TypeRegistry.Set(n,s),(l={})=>id.Type.Unsafe({...l,[id.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(id.FormatRegistry.Has(n))throw new Xp(n);return id.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})(WD||(Nf.TypeSystem=WD={}));var YD;(function(e){let t=IE;function r(){t=IE}o(r,"Reset"),e.Reset=r;function n(l){t=l}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(YD||(Nf.TypeSystemErrorFunction=YD={}));var JD;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,f){return e.ExactOptionalPropertyTypes?f in a:a[f]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let f=(0,Yp.IsObject)(a);return e.AllowArrayObject?f:f&&!(0,Yp.IsArray)(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){let f=(0,Yp.IsNumber)(a);return e.AllowNaN?f:f&&Number.isFinite(a)}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){let f=(0,Yp.IsUndefined)(a);return e.AllowNullVoid?f||a===null:f}o(l,"IsVoidLike"),e.IsVoidLike=l})(JD||(Nf.TypeSystemPolicy=JD={}));function IE(e,t){switch(t){case J0.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case J0.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case J0.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case J0.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case J0.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case J0.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case J0.ValueErrorType.Array:return"Expected array";case J0.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case J0.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case J0.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case J0.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case J0.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case J0.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case J0.ValueErrorType.BigInt:return"Expected bigint";case J0.ValueErrorType.Boolean:return"Expected boolean";case J0.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case J0.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case J0.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case J0.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case J0.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case J0.ValueErrorType.Date:return"Expected Date";case J0.ValueErrorType.Function:return"Expected function";case J0.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case J0.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case J0.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case J0.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case J0.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case J0.ValueErrorType.Integer:return"Expected integer";case J0.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case J0.ValueErrorType.Intersect:return"Expected all values to match";case J0.ValueErrorType.Iterator:return"Expected Iterator";case J0.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case J0.ValueErrorType.Never:return"Never";case J0.ValueErrorType.Not:return"Value should not match";case J0.ValueErrorType.Null:return"Expected null";case J0.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case J0.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case J0.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case J0.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case J0.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case J0.ValueErrorType.Number:return"Expected number";case J0.ValueErrorType.Object:return"Expected object";case J0.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case J0.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case J0.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case J0.ValueErrorType.ObjectRequiredProperty:return"Required property";case J0.ValueErrorType.Promise:return"Expected Promise";case J0.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case J0.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case J0.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case J0.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case J0.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case J0.ValueErrorType.String:return"Expected string";case J0.ValueErrorType.Symbol:return"Expected symbol";case J0.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case J0.ValueErrorType.Tuple:return"Expected tuple";case J0.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case J0.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case J0.ValueErrorType.Uint8Array:return"Expected Uint8Array";case J0.ValueErrorType.Undefined:return"Expected undefined";case J0.ValueErrorType.Union:return"Expected union value";case J0.ValueErrorType.Void:return"Expected void";case J0.ValueErrorType.Kind:return`Expected kind '${e[id.Kind]}'`;default:return"Unknown error type"}}o(IE,"DefaultErrorFunction");Nf.DefaultErrorFunction=IE});var B5=ot(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.Deref=Yh.TypeDereferenceError=void 0;var KW=Rf(),kE=class kE extends KW.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(kE,"TypeDereferenceError");var Zp=kE;Yh.TypeDereferenceError=Zp;function WW(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new Zp(e);return t[r]}o(WW,"Deref");Yh.Deref=WW});var Nm=ot(O5=>{"use strict";Object.defineProperty(O5,"__esModule",{value:!0});O5.Hash=O5.ByteMarker=O5.ValueHashError=void 0;var g1=kf(),NE=class NE extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(NE,"ValueHashError");var Qp=NE;O5.ValueHashError=Qp;var rc;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(rc||(O5.ByteMarker=rc={}));var Jh=BigInt("14695981039346656037"),[YW,JW]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],XW=Array.from({length:256}).map((e,t)=>BigInt(t)),XD=new Float64Array(1),ZD=new DataView(XD.buffer),QD=new Uint8Array(XD.buffer);function*ZW(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(ZW,"NumberToBytes");function QW(e){Xl(rc.Array);for(let t of e)Xh(t)}o(QW,"ArrayType");function eY(e){Xl(rc.Boolean),Xl(e?1:0)}o(eY,"BooleanType");function tY(e){Xl(rc.BigInt),ZD.setBigInt64(0,e);for(let t of QD)Xl(t)}o(tY,"BigIntType");function rY(e){Xl(rc.Date),Xh(e.getTime())}o(rY,"DateType");function nY(e){Xl(rc.Null)}o(nY,"NullType");function iY(e){Xl(rc.Number),ZD.setFloat64(0,e);for(let t of QD)Xl(t)}o(iY,"NumberType");function sY(e){Xl(rc.Object);for(let t of globalThis.Object.keys(e).sort())Xh(t),Xh(e[t])}o(sY,"ObjectType");function oY(e){Xl(rc.String);for(let t=0;t<e.length;t++)for(let r of ZW(e.charCodeAt(t)))Xl(r)}o(oY,"StringType");function aY(e){Xl(rc.Symbol),Xh(e.description)}o(aY,"SymbolType");function lY(e){Xl(rc.Uint8Array);for(let t=0;t<e.length;t++)Xl(e[t])}o(lY,"Uint8ArrayType");function fY(e){return Xl(rc.Undefined)}o(fY,"UndefinedType");function Xh(e){if((0,g1.IsArray)(e))return QW(e);if((0,g1.IsBoolean)(e))return eY(e);if((0,g1.IsBigInt)(e))return tY(e);if((0,g1.IsDate)(e))return rY(e);if((0,g1.IsNull)(e))return nY(e);if((0,g1.IsNumber)(e))return iY(e);if((0,g1.IsPlainObject)(e))return sY(e);if((0,g1.IsString)(e))return oY(e);if((0,g1.IsSymbol)(e))return aY(e);if((0,g1.IsUint8Array)(e))return lY(e);if((0,g1.IsUndefined)(e))return fY(e);throw new Qp(e)}o(Xh,"Visit");function Xl(e){Jh=Jh^XW[e],Jh=Jh*YW%JW}o(Xl,"FNV1A64");function cY(e){return Jh=BigInt("14695981039346656037"),Xh(e),Jh}o(cY,"Hash");O5.Hash=cY});var km=ot(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.Errors=wc.ValueErrorIterator=wc.EscapeKey=wc.ValueErrorsUnknownTypeError=wc.ValueErrorType=void 0;var Ma=kf(),Zh=RE(),eL=B5(),uY=Nm(),Ic=Rf(),j0;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(j0||(wc.ValueErrorType=j0={}));var DE=class DE extends Ic.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(DE,"ValueErrorsUnknownTypeError");var ey=DE;wc.ValueErrorsUnknownTypeError=ey;function iu(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(iu,"EscapeKey");wc.EscapeKey=iu;function Si(e){return e!==void 0}o(Si,"IsDefined");var LE=class LE{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(LE,"ValueErrorIterator");var ty=LE;wc.ValueErrorIterator=ty;function V0(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:Zh.TypeSystemErrorFunction.Get()(t,e)}}o(V0,"Create");function*dY(e,t,r,n){}o(dY,"TAny");function*hY(e,t,r,n){if(!(0,Ma.IsArray)(n))return yield V0(j0.Array,e,r,n);Si(e.minItems)&&!(n.length>=e.minItems)&&(yield V0(j0.ArrayMinItems,e,r,n)),Si(e.maxItems)&&!(n.length<=e.maxItems)&&(yield V0(j0.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Al(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let f of n){let c=(0,uY.Hash)(f);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield V0(j0.ArrayUniqueItems,e,r,n)),!(Si(e.contains)||Si(e.minContains)||Si(e.maxContains)))return;let s=Si(e.contains)?e.contains:Ic.Type.Never(),l=n.reduce((a,f,c)=>Al(s,t,`${r}${c}`,f).next().done===!0?a+1:a,0);l===0&&(yield V0(j0.ArrayContains,e,r,n)),(0,Ma.IsNumber)(e.minContains)&&l<e.minContains&&(yield V0(j0.ArrayMinContains,e,r,n)),(0,Ma.IsNumber)(e.maxContains)&&l>e.maxContains&&(yield V0(j0.ArrayMaxContains,e,r,n))}o(hY,"TArray");function*gY(e,t,r,n){(0,Ma.IsAsyncIterator)(n)||(yield V0(j0.AsyncIterator,e,r,n))}o(gY,"TAsyncIterator");function*mY(e,t,r,n){if(!(0,Ma.IsBigInt)(n))return yield V0(j0.BigInt,e,r,n);Si(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield V0(j0.BigIntExclusiveMaximum,e,r,n)),Si(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield V0(j0.BigIntExclusiveMinimum,e,r,n)),Si(e.maximum)&&!(n<=e.maximum)&&(yield V0(j0.BigIntMaximum,e,r,n)),Si(e.minimum)&&!(n>=e.minimum)&&(yield V0(j0.BigIntMinimum,e,r,n)),Si(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield V0(j0.BigIntMultipleOf,e,r,n))}o(mY,"TBigInt");function*pY(e,t,r,n){(0,Ma.IsBoolean)(n)||(yield V0(j0.Boolean,e,r,n))}o(pY,"TBoolean");function*yY(e,t,r,n){yield*Al(e.returns,t,r,n.prototype)}o(yY,"TConstructor");function*vY(e,t,r,n){if(!(0,Ma.IsDate)(n))return yield V0(j0.Date,e,r,n);Si(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield V0(j0.DateExclusiveMaximumTimestamp,e,r,n)),Si(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield V0(j0.DateExclusiveMinimumTimestamp,e,r,n)),Si(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield V0(j0.DateMaximumTimestamp,e,r,n)),Si(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield V0(j0.DateMinimumTimestamp,e,r,n)),Si(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield V0(j0.DateMultipleOfTimestamp,e,r,n))}o(vY,"TDate");function*xY(e,t,r,n){(0,Ma.IsFunction)(n)||(yield V0(j0.Function,e,r,n))}o(xY,"TFunction");function*_Y(e,t,r,n){if(!(0,Ma.IsInteger)(n))return yield V0(j0.Integer,e,r,n);Si(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield V0(j0.IntegerExclusiveMaximum,e,r,n)),Si(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield V0(j0.IntegerExclusiveMinimum,e,r,n)),Si(e.maximum)&&!(n<=e.maximum)&&(yield V0(j0.IntegerMaximum,e,r,n)),Si(e.minimum)&&!(n>=e.minimum)&&(yield V0(j0.IntegerMinimum,e,r,n)),Si(e.multipleOf)&&n%e.multipleOf!==0&&(yield V0(j0.IntegerMultipleOf,e,r,n))}o(_Y,"TInteger");function*bY(e,t,r,n){for(let s of e.allOf){let l=Al(s,t,r,n).next();l.done||(yield V0(j0.Intersect,e,r,n),yield l.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(Ic.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))s.test(l)||(yield V0(j0.IntersectUnevaluatedProperties,e,`${r}/${l}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Ic.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))if(!s.test(l)){let a=Al(e.unevaluatedProperties,t,`${r}/${l}`,n[l]).next();a.done||(yield a.value)}}}o(bY,"TIntersect");function*CY(e,t,r,n){(0,Ma.IsIterator)(n)||(yield V0(j0.Iterator,e,r,n))}o(CY,"TIterator");function*EY(e,t,r,n){n!==e.const&&(yield V0(j0.Literal,e,r,n))}o(EY,"TLiteral");function*TY(e,t,r,n){yield V0(j0.Never,e,r,n)}o(TY,"TNever");function*SY(e,t,r,n){Al(e.not,t,r,n).next().done===!0&&(yield V0(j0.Not,e,r,n))}o(SY,"TNot");function*wY(e,t,r,n){(0,Ma.IsNull)(n)||(yield V0(j0.Null,e,r,n))}o(wY,"TNull");function*IY(e,t,r,n){if(!Zh.TypeSystemPolicy.IsNumberLike(n))return yield V0(j0.Number,e,r,n);Si(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield V0(j0.NumberExclusiveMaximum,e,r,n)),Si(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield V0(j0.NumberExclusiveMinimum,e,r,n)),Si(e.maximum)&&!(n<=e.maximum)&&(yield V0(j0.NumberMaximum,e,r,n)),Si(e.minimum)&&!(n>=e.minimum)&&(yield V0(j0.NumberMinimum,e,r,n)),Si(e.multipleOf)&&n%e.multipleOf!==0&&(yield V0(j0.NumberMultipleOf,e,r,n))}o(IY,"TNumber");function*AY(e,t,r,n){if(!Zh.TypeSystemPolicy.IsObjectLike(n))return yield V0(j0.Object,e,r,n);Si(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield V0(j0.ObjectMinProperties,e,r,n)),Si(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield V0(j0.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],l=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let f of s)a.includes(f)||(yield V0(j0.ObjectRequiredProperty,e.properties[f],`${r}/${iu(f)}`,void 0));if(e.additionalProperties===!1)for(let f of a)l.includes(f)||(yield V0(j0.ObjectAdditionalProperties,e,`${r}/${iu(f)}`,n[f]));if(typeof e.additionalProperties=="object")for(let f of a)l.includes(f)||(yield*Al(e.additionalProperties,t,`${r}/${iu(f)}`,n[f]));for(let f of l){let c=e.properties[f];e.required&&e.required.includes(f)?(yield*Al(c,t,`${r}/${iu(f)}`,n[f]),Ic.ExtendsUndefined.Check(e)&&!(f in n)&&(yield V0(j0.ObjectRequiredProperty,c,`${r}/${iu(f)}`,void 0))):Zh.TypeSystemPolicy.IsExactOptionalProperty(n,f)&&(yield*Al(c,t,`${r}/${iu(f)}`,n[f]))}}o(AY,"TObject");function*PY(e,t,r,n){(0,Ma.IsPromise)(n)||(yield V0(j0.Promise,e,r,n))}o(PY,"TPromise");function*RY(e,t,r,n){if(!Zh.TypeSystemPolicy.IsRecordLike(n))return yield V0(j0.Object,e,r,n);Si(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield V0(j0.ObjectMinProperties,e,r,n)),Si(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield V0(j0.ObjectMaxProperties,e,r,n));let[s,l]=Object.entries(e.patternProperties)[0],a=new RegExp(s);for(let[f,c]of Object.entries(n))a.test(f)&&(yield*Al(l,t,`${r}/${iu(f)}`,c));if(typeof e.additionalProperties=="object")for(let[f,c]of Object.entries(n))a.test(f)||(yield*Al(e.additionalProperties,t,`${r}/${iu(f)}`,c));if(e.additionalProperties===!1){for(let[f,c]of Object.entries(n))if(!a.test(f))return yield V0(j0.ObjectAdditionalProperties,e,`${r}/${iu(f)}`,c)}}o(RY,"TRecord");function*kY(e,t,r,n){yield*Al((0,eL.Deref)(e,t),t,r,n)}o(kY,"TRef");function*NY(e,t,r,n){if(!(0,Ma.IsString)(n))return yield V0(j0.String,e,r,n);Si(e.minLength)&&!(n.length>=e.minLength)&&(yield V0(j0.StringMinLength,e,r,n)),Si(e.maxLength)&&!(n.length<=e.maxLength)&&(yield V0(j0.StringMaxLength,e,r,n)),(0,Ma.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield V0(j0.StringPattern,e,r,n))),(0,Ma.IsString)(e.format)&&(Ic.FormatRegistry.Has(e.format)?Ic.FormatRegistry.Get(e.format)(n)||(yield V0(j0.StringFormat,e,r,n)):yield V0(j0.StringFormatUnknown,e,r,n))}o(NY,"TString");function*DY(e,t,r,n){(0,Ma.IsSymbol)(n)||(yield V0(j0.Symbol,e,r,n))}o(DY,"TSymbol");function*LY(e,t,r,n){if(!(0,Ma.IsString)(n))return yield V0(j0.String,e,r,n);new RegExp(e.pattern).test(n)||(yield V0(j0.StringPattern,e,r,n))}o(LY,"TTemplateLiteral");function*BY(e,t,r,n){yield*Al((0,eL.Deref)(e,t),t,r,n)}o(BY,"TThis");function*OY(e,t,r,n){if(!(0,Ma.IsArray)(n))return yield V0(j0.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield V0(j0.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield V0(j0.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*Al(e.items[s],t,`${r}/${s}`,n[s])}o(OY,"TTuple");function*FY(e,t,r,n){(0,Ma.IsUndefined)(n)||(yield V0(j0.Undefined,e,r,n))}o(FY,"TUndefined");function*MY(e,t,r,n){let s=0;for(let l of e.anyOf){let a=[...Al(l,t,r,n)];if(a.length===0)return;s+=a.length}s>0&&(yield V0(j0.Union,e,r,n))}o(MY,"TUnion");function*UY(e,t,r,n){if(!(0,Ma.IsUint8Array)(n))return yield V0(j0.Uint8Array,e,r,n);Si(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield V0(j0.Uint8ArrayMaxByteLength,e,r,n)),Si(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield V0(j0.Uint8ArrayMinByteLength,e,r,n))}o(UY,"TUint8Array");function*qY(e,t,r,n){}o(qY,"TUnknown");function*jY(e,t,r,n){Zh.TypeSystemPolicy.IsVoidLike(n)||(yield V0(j0.Void,e,r,n))}o(jY,"TVoid");function*$Y(e,t,r,n){Ic.TypeRegistry.Get(e[Ic.Kind])(e,n)||(yield V0(j0.Kind,e,r,n))}o($Y,"TKind");function*Al(e,t,r,n){let s=Si(e.$id)?[...t,e]:t,l=e;switch(l[Ic.Kind]){case"Any":return yield*dY(l,s,r,n);case"Array":return yield*hY(l,s,r,n);case"AsyncIterator":return yield*gY(l,s,r,n);case"BigInt":return yield*mY(l,s,r,n);case"Boolean":return yield*pY(l,s,r,n);case"Constructor":return yield*yY(l,s,r,n);case"Date":return yield*vY(l,s,r,n);case"Function":return yield*xY(l,s,r,n);case"Integer":return yield*_Y(l,s,r,n);case"Intersect":return yield*bY(l,s,r,n);case"Iterator":return yield*CY(l,s,r,n);case"Literal":return yield*EY(l,s,r,n);case"Never":return yield*TY(l,s,r,n);case"Not":return yield*SY(l,s,r,n);case"Null":return yield*wY(l,s,r,n);case"Number":return yield*IY(l,s,r,n);case"Object":return yield*AY(l,s,r,n);case"Promise":return yield*PY(l,s,r,n);case"Record":return yield*RY(l,s,r,n);case"Ref":return yield*kY(l,s,r,n);case"String":return yield*NY(l,s,r,n);case"Symbol":return yield*DY(l,s,r,n);case"TemplateLiteral":return yield*LY(l,s,r,n);case"This":return yield*BY(l,s,r,n);case"Tuple":return yield*OY(l,s,r,n);case"Undefined":return yield*FY(l,s,r,n);case"Union":return yield*MY(l,s,r,n);case"Uint8Array":return yield*UY(l,s,r,n);case"Unknown":return yield*qY(l,s,r,n);case"Void":return yield*jY(l,s,r,n);default:if(!Ic.TypeRegistry.Has(l[Ic.Kind]))throw new ey(e);return yield*$Y(l,s,r,n)}}o(Al,"Visit");function HY(...e){let t=e.length===3?Al(e[0],e[1],"",e[2]):Al(e[0],[],"",e[1]);return new ty(t)}o(HY,"Errors");wc.Errors=HY});var ry=ot(z2=>{"use strict";var VY=z2&&z2.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zY=z2&&z2.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&VY(t,e,r)};Object.defineProperty(z2,"__esModule",{value:!0});zY(km(),z2)});var BE=ot(sd=>{"use strict";var GY=sd&&sd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KY=sd&&sd.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&GY(t,e,r)};Object.defineProperty(sd,"__esModule",{value:!0});sd.ValueErrorType=void 0;var WY=km();Object.defineProperty(sd,"ValueErrorType",{enumerable:!0,get:function(){return WY.ValueErrorType}});KY(RE(),sd)});var e8=ot(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.Check=Qh.ValueCheckUnknownTypeError=void 0;var Ua=kf(),Dm=BE(),tL=B5(),YY=Nm(),Pl=Rf(),OE=class OE extends Pl.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(OE,"ValueCheckUnknownTypeError");var ny=OE;Qh.ValueCheckUnknownTypeError=ny;function JY(e){return e[Pl.Kind]==="Any"||e[Pl.Kind]==="Unknown"}o(JY,"IsAnyOrUnknown");function wi(e){return e!==void 0}o(wi,"IsDefined");function XY(e,t,r){return!0}o(XY,"TAny");function ZY(e,t,r){if(!(0,Ua.IsArray)(r)||wi(e.minItems)&&!(r.length>=e.minItems)||wi(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(l=>Rl(e.items,t,l))||e.uniqueItems===!0&&!function(){let l=new Set;for(let a of r){let f=(0,YY.Hash)(a);if(l.has(f))return!1;l.add(f)}return!0}())return!1;if(!(wi(e.contains)||(0,Ua.IsNumber)(e.minContains)||(0,Ua.IsNumber)(e.maxContains)))return!0;let n=wi(e.contains)?e.contains:Pl.Type.Never(),s=r.reduce((l,a)=>Rl(n,t,a)?l+1:l,0);return!(s===0||(0,Ua.IsNumber)(e.minContains)&&s<e.minContains||(0,Ua.IsNumber)(e.maxContains)&&s>e.maxContains)}o(ZY,"TArray");function QY(e,t,r){return(0,Ua.IsAsyncIterator)(r)}o(QY,"TAsyncIterator");function eJ(e,t,r){return!(!(0,Ua.IsBigInt)(r)||wi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||wi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||wi(e.maximum)&&!(r<=e.maximum)||wi(e.minimum)&&!(r>=e.minimum)||wi(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(eJ,"TBigInt");function tJ(e,t,r){return(0,Ua.IsBoolean)(r)}o(tJ,"TBoolean");function rJ(e,t,r){return Rl(e.returns,t,r.prototype)}o(rJ,"TConstructor");function nJ(e,t,r){return!(!(0,Ua.IsDate)(r)||wi(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||wi(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||wi(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||wi(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||wi(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(nJ,"TDate");function iJ(e,t,r){return(0,Ua.IsFunction)(r)}o(iJ,"TFunction");function sJ(e,t,r){return!(!(0,Ua.IsInteger)(r)||wi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||wi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||wi(e.maximum)&&!(r<=e.maximum)||wi(e.minimum)&&!(r>=e.minimum)||wi(e.multipleOf)&&r%e.multipleOf!==0)}o(sJ,"TInteger");function oJ(e,t,r){let n=e.allOf.every(s=>Rl(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(Pl.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a));return n&&l}else if(Pl.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(Pl.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a)||Rl(e.unevaluatedProperties,t,r[a]));return n&&l}else return n}o(oJ,"TIntersect");function aJ(e,t,r){return(0,Ua.IsIterator)(r)}o(aJ,"TIterator");function lJ(e,t,r){return r===e.const}o(lJ,"TLiteral");function fJ(e,t,r){return!1}o(fJ,"TNever");function cJ(e,t,r){return!Rl(e.not,t,r)}o(cJ,"TNot");function uJ(e,t,r){return(0,Ua.IsNull)(r)}o(uJ,"TNull");function dJ(e,t,r){return!(!Dm.TypeSystemPolicy.IsNumberLike(r)||wi(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||wi(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||wi(e.minimum)&&!(r>=e.minimum)||wi(e.maximum)&&!(r<=e.maximum)||wi(e.multipleOf)&&r%e.multipleOf!==0)}o(dJ,"TNumber");function hJ(e,t,r){if(!Dm.TypeSystemPolicy.IsObjectLike(r)||wi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||wi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let l=e.properties[s];if(e.required&&e.required.includes(s)){if(!Rl(l,t,r[s])||(Pl.ExtendsUndefined.Check(l)||JY(l))&&!(s in r))return!1}else if(Dm.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!Rl(l,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(l=>n.includes(l))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(l=>n.includes(l)||Rl(e.additionalProperties,t,r[l])):!0}o(hJ,"TObject");function gJ(e,t,r){return(0,Ua.IsPromise)(r)}o(gJ,"TPromise");function mJ(e,t,r){if(!Dm.TypeSystemPolicy.IsRecordLike(r)||wi(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||wi(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],l=new RegExp(n),a=Object.entries(r).every(([u,d])=>l.test(u)?Rl(s,t,d):!0),f=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,d])=>l.test(u)?!0:Rl(e.additionalProperties,t,d)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>l.test(u)):!0;return a&&f&&c}o(mJ,"TRecord");function pJ(e,t,r){return Rl((0,tL.Deref)(e,t),t,r)}o(pJ,"TRef");function yJ(e,t,r){return!(0,Ua.IsString)(r)||wi(e.minLength)&&!(r.length>=e.minLength)||wi(e.maxLength)&&!(r.length<=e.maxLength)||wi(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:wi(e.format)?Pl.FormatRegistry.Has(e.format)?Pl.FormatRegistry.Get(e.format)(r):!1:!0}o(yJ,"TString");function vJ(e,t,r){return(0,Ua.IsSymbol)(r)}o(vJ,"TSymbol");function xJ(e,t,r){return(0,Ua.IsString)(r)&&new RegExp(e.pattern).test(r)}o(xJ,"TTemplateLiteral");function _J(e,t,r){return Rl((0,tL.Deref)(e,t),t,r)}o(_J,"TThis");function bJ(e,t,r){if(!(0,Ua.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Rl(e.items[n],t,r[n]))return!1;return!0}o(bJ,"TTuple");function CJ(e,t,r){return(0,Ua.IsUndefined)(r)}o(CJ,"TUndefined");function EJ(e,t,r){return e.anyOf.some(n=>Rl(n,t,r))}o(EJ,"TUnion");function TJ(e,t,r){return!(!(0,Ua.IsUint8Array)(r)||wi(e.maxByteLength)&&!(r.length<=e.maxByteLength)||wi(e.minByteLength)&&!(r.length>=e.minByteLength))}o(TJ,"TUint8Array");function SJ(e,t,r){return!0}o(SJ,"TUnknown");function wJ(e,t,r){return Dm.TypeSystemPolicy.IsVoidLike(r)}o(wJ,"TVoid");function IJ(e,t,r){return Pl.TypeRegistry.Has(e[Pl.Kind])?Pl.TypeRegistry.Get(e[Pl.Kind])(e,r):!1}o(IJ,"TKind");function Rl(e,t,r){let n=wi(e.$id)?[...t,e]:t,s=e;switch(s[Pl.Kind]){case"Any":return XY(s,n,r);case"Array":return ZY(s,n,r);case"AsyncIterator":return QY(s,n,r);case"BigInt":return eJ(s,n,r);case"Boolean":return tJ(s,n,r);case"Constructor":return rJ(s,n,r);case"Date":return nJ(s,n,r);case"Function":return iJ(s,n,r);case"Integer":return sJ(s,n,r);case"Intersect":return oJ(s,n,r);case"Iterator":return aJ(s,n,r);case"Literal":return lJ(s,n,r);case"Never":return fJ(s,n,r);case"Not":return cJ(s,n,r);case"Null":return uJ(s,n,r);case"Number":return dJ(s,n,r);case"Object":return hJ(s,n,r);case"Promise":return gJ(s,n,r);case"Record":return mJ(s,n,r);case"Ref":return pJ(s,n,r);case"String":return yJ(s,n,r);case"Symbol":return vJ(s,n,r);case"TemplateLiteral":return xJ(s,n,r);case"This":return _J(s,n,r);case"Tuple":return bJ(s,n,r);case"Undefined":return CJ(s,n,r);case"Union":return EJ(s,n,r);case"Uint8Array":return TJ(s,n,r);case"Unknown":return SJ(s,n,r);case"Void":return wJ(s,n,r);default:if(!Pl.TypeRegistry.Has(s[Pl.Kind]))throw new ny(s);return IJ(s,n,r)}}o(Rl,"Visit");function AJ(...e){return e.length===3?Rl(e[0],e[1],e[2]):Rl(e[0],[],e[1])}o(AJ,"Check");Qh.Check=AJ});var VE=ot(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.EncodeTransform=Zl.DecodeTransform=Zl.HasTransform=Zl.TransformEncodeError=Zl.TransformDecodeError=Zl.TransformEncodeCheckError=Zl.TransformDecodeCheckError=void 0;var uf=kf(),t8=B5(),FE=e8(),Mn=Rf(),qE=class qE extends Mn.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(qE,"TransformDecodeCheckError");var ME=qE;Zl.TransformDecodeCheckError=ME;var jE=class jE extends Mn.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(jE,"TransformEncodeCheckError");var UE=jE;Zl.TransformEncodeCheckError=UE;var $E=class $E extends Mn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o($E,"TransformDecodeError");var iy=$E;Zl.TransformDecodeError=iy;var HE=class HE extends Mn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(HE,"TransformEncodeError");var sy=HE;Zl.TransformEncodeError=sy;var rL;(function(e){function t(P,D){return Mn.TypeGuard.TTransform(P)||_(P.items,D)}o(t,"TArray");function r(P,D){return Mn.TypeGuard.TTransform(P)||_(P.items,D)}o(r,"TAsyncIterator");function n(P,D){return Mn.TypeGuard.TTransform(P)||_(P.returns,D)||P.parameters.some(L=>_(L,D))}o(n,"TConstructor");function s(P,D){return Mn.TypeGuard.TTransform(P)||_(P.returns,D)||P.parameters.some(L=>_(L,D))}o(s,"TFunction");function l(P,D){return Mn.TypeGuard.TTransform(P)||Mn.TypeGuard.TTransform(P.unevaluatedProperties)||P.allOf.some(L=>_(L,D))}o(l,"TIntersect");function a(P,D){return Mn.TypeGuard.TTransform(P)||_(P.items,D)}o(a,"TIterator");function f(P,D){return Mn.TypeGuard.TTransform(P)||_(P.not,D)}o(f,"TNot");function c(P,D){return Mn.TypeGuard.TTransform(P)||Object.values(P.properties).some(L=>_(L,D))||Mn.TypeGuard.TSchema(P.additionalProperties)&&_(P.additionalProperties,D)}o(c,"TObject");function u(P,D){return Mn.TypeGuard.TTransform(P)||_(P.item,D)}o(u,"TPromise");function d(P,D){let L=Object.getOwnPropertyNames(P.patternProperties)[0],k=P.patternProperties[L];return Mn.TypeGuard.TTransform(P)||_(k,D)||Mn.TypeGuard.TSchema(P.additionalProperties)&&Mn.TypeGuard.TTransform(P.additionalProperties)}o(d,"TRecord");function h(P,D){return Mn.TypeGuard.TTransform(P)?!0:_((0,t8.Deref)(P,D),D)}o(h,"TRef");function p(P,D){return Mn.TypeGuard.TTransform(P)?!0:_((0,t8.Deref)(P,D),D)}o(p,"TThis");function g(P,D){return Mn.TypeGuard.TTransform(P)||!(0,uf.IsUndefined)(P.items)&&P.items.some(L=>_(L,D))}o(g,"TTuple");function y(P,D){return Mn.TypeGuard.TTransform(P)||P.anyOf.some(L=>_(L,D))}o(y,"TUnion");function _(P,D){let L=(0,uf.IsString)(P.$id)?[...D,P]:D,k=P;if(P.$id&&S.has(P.$id))return!1;switch(P.$id&&S.add(P.$id),P[Mn.Kind]){case"Array":return t(k,L);case"AsyncIterator":return r(k,L);case"Constructor":return n(k,L);case"Function":return s(k,L);case"Intersect":return l(k,L);case"Iterator":return a(k,L);case"Not":return f(k,L);case"Object":return c(k,L);case"Promise":return u(k,L);case"Record":return d(k,L);case"Ref":return h(k,L);case"This":return p(k,L);case"Tuple":return g(k,L);case"Union":return y(k,L);default:return Mn.TypeGuard.TTransform(P)}}o(_,"Visit");let S=new Set;function w(P,D){return S.clear(),_(P,D)}o(w,"Has"),e.Has=w})(rL||(Zl.HasTransform=rL={}));var nL;(function(e){function t(g,y){try{return Mn.TypeGuard.TTransform(g)?g[Mn.Transform].Decode(y):y}catch(_){throw new iy(g,y,_)}}o(t,"Default");function r(g,y,_){return(0,uf.IsArray)(_)?t(g,_.map(S=>h(g.items,y,S))):t(g,_)}o(r,"TArray");function n(g,y,_){if(!(0,uf.IsPlainObject)(_)||(0,uf.IsValueType)(_))return t(g,_);let S=Mn.KeyResolver.ResolveKeys(g,{includePatterns:!1}),w=S.reduce((k,B)=>B in k?{...k,[B]:h(Mn.IndexedAccessor.Resolve(g,[B]),y,k[B])}:k,_);if(!Mn.TypeGuard.TTransform(g.unevaluatedProperties))return t(g,w);let P=Object.getOwnPropertyNames(w),D=g.unevaluatedProperties,L=P.reduce((k,B)=>S.includes(B)?k:{...k,[B]:t(D,k[B])},w);return t(g,L)}o(n,"TIntersect");function s(g,y,_){return t(g,h(g.not,y,_))}o(s,"TNot");function l(g,y,_){if(!(0,uf.IsPlainObject)(_))return t(g,_);let S=Mn.KeyResolver.ResolveKeys(g,{includePatterns:!1}),w=S.reduce((k,B)=>B in k?{...k,[B]:h(g.properties[B],y,k[B])}:k,_);if(!Mn.TypeGuard.TSchema(g.additionalProperties))return t(g,w);let P=Object.getOwnPropertyNames(w),D=g.additionalProperties,L=P.reduce((k,B)=>S.includes(B)?k:{...k,[B]:t(D,k[B])},w);return t(g,L)}o(l,"TObject");function a(g,y,_){if(!(0,uf.IsPlainObject)(_))return t(g,_);let S=Object.getOwnPropertyNames(g.patternProperties)[0],w=new RegExp(S),P=Object.getOwnPropertyNames(_).reduce((B,ne)=>w.test(ne)?{...B,[ne]:h(g.patternProperties[S],y,B[ne])}:B,_);if(!Mn.TypeGuard.TSchema(g.additionalProperties))return t(g,P);let D=Object.getOwnPropertyNames(P),L=g.additionalProperties,k=D.reduce((B,ne)=>w.test(ne)?B:{...B,[ne]:t(L,B[ne])},P);return t(g,k)}o(a,"TRecord");function f(g,y,_){let S=(0,t8.Deref)(g,y);return t(g,h(S,y,_))}o(f,"TRef");function c(g,y,_){let S=(0,t8.Deref)(g,y);return t(g,h(S,y,_))}o(c,"TThis");function u(g,y,_){return(0,uf.IsArray)(_)&&(0,uf.IsArray)(g.items)?t(g,g.items.map((S,w)=>h(S,y,_[w]))):t(g,_)}o(u,"TTuple");function d(g,y,_){let S=t(g,_);for(let w of g.anyOf)if((0,FE.Check)(w,y,S))return h(w,y,S);return S}o(d,"TUnion");function h(g,y,_){let S=typeof g.$id=="string"?[...y,g]:y,w=g;switch(g[Mn.Kind]){case"Array":return r(w,S,_);case"Intersect":return n(w,S,_);case"Not":return s(w,S,_);case"Object":return l(w,S,_);case"Record":return a(w,S,_);case"Ref":return f(w,S,_);case"Symbol":return t(w,_);case"This":return c(w,S,_);case"Tuple":return u(w,S,_);case"Union":return d(w,S,_);default:return t(w,_)}}o(h,"Visit");function p(g,y,_){return h(g,y,_)}o(p,"Decode"),e.Decode=p})(nL||(Zl.DecodeTransform=nL={}));var iL;(function(e){function t(g,y){try{return Mn.TypeGuard.TTransform(g)?g[Mn.Transform].Encode(y):y}catch(_){throw new sy(g,y,_)}}o(t,"Default");function r(g,y,_){let S=t(g,_);return(0,uf.IsArray)(S)?S.map(w=>h(g.items,y,w)):S}o(r,"TArray");function n(g,y,_){let S=t(g,_);if(!(0,uf.IsPlainObject)(_)||(0,uf.IsValueType)(_))return S;let w=Mn.KeyResolver.ResolveKeys(g,{includePatterns:!1}),P=w.reduce((k,B)=>B in S?{...k,[B]:h(Mn.IndexedAccessor.Resolve(g,[B]),y,k[B])}:k,S);if(!Mn.TypeGuard.TTransform(g.unevaluatedProperties))return t(g,P);let D=Object.getOwnPropertyNames(P),L=g.unevaluatedProperties;return D.reduce((k,B)=>w.includes(B)?k:{...k,[B]:t(L,k[B])},P)}o(n,"TIntersect");function s(g,y,_){return t(g.not,t(g,_))}o(s,"TNot");function l(g,y,_){let S=t(g,_);if(!(0,uf.IsPlainObject)(_))return S;let w=Mn.KeyResolver.ResolveKeys(g,{includePatterns:!1}),P=w.reduce((k,B)=>B in k?{...k,[B]:h(g.properties[B],y,k[B])}:k,S);if(!Mn.TypeGuard.TSchema(g.additionalProperties))return P;let D=Object.getOwnPropertyNames(P),L=g.additionalProperties;return D.reduce((k,B)=>w.includes(B)?k:{...k,[B]:t(L,k[B])},P)}o(l,"TObject");function a(g,y,_){let S=t(g,_);if(!(0,uf.IsPlainObject)(_))return S;let w=Object.getOwnPropertyNames(g.patternProperties)[0],P=new RegExp(w),D=Object.getOwnPropertyNames(_).reduce((B,ne)=>P.test(ne)?{...B,[ne]:h(g.patternProperties[w],y,B[ne])}:B,S);if(!Mn.TypeGuard.TSchema(g.additionalProperties))return t(g,D);let L=Object.getOwnPropertyNames(D),k=g.additionalProperties;return L.reduce((B,ne)=>P.test(ne)?B:{...B,[ne]:t(k,B[ne])},D)}o(a,"TRecord");function f(g,y,_){let S=(0,t8.Deref)(g,y),w=h(S,y,_);return t(g,w)}o(f,"TRef");function c(g,y,_){let S=(0,t8.Deref)(g,y),w=h(S,y,_);return t(g,w)}o(c,"TThis");function u(g,y,_){let S=t(g,_);return(0,uf.IsArray)(g.items)?g.items.map((w,P)=>h(w,y,S[P])):[]}o(u,"TTuple");function d(g,y,_){for(let S of g.anyOf){if(!(0,FE.Check)(S,y,_))continue;let w=h(S,y,_);return t(g,w)}for(let S of g.anyOf){let w=h(S,y,_);if((0,FE.Check)(g,y,w))return t(g,w)}return t(g,_)}o(d,"TUnion");function h(g,y,_){let S=typeof g.$id=="string"?[...y,g]:y,w=g;switch(g[Mn.Kind]){case"Array":return r(w,S,_);case"Intersect":return n(w,S,_);case"Not":return s(w,S,_);case"Object":return l(w,S,_);case"Record":return a(w,S,_);case"Ref":return f(w,S,_);case"This":return c(w,S,_);case"Tuple":return u(w,S,_);case"Union":return d(w,S,_);default:return t(w,_)}}o(h,"Visit");function p(g,y,_){return h(g,y,_)}o(p,"Encode"),e.Encode=p})(iL||(Zl.EncodeTransform=iL={}))});var oL=ot(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.TypeCompiler=Ac.Policy=Ac.TypeCompilerTypeGuardError=Ac.TypeCompilerUnknownTypeError=Ac.TypeCheck=void 0;var Lm=VE(),fi=kf(),PJ=km(),Bm=BE(),RJ=B5(),kJ=Nm(),xa=Rf(),KE=class KE{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=Lm.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,PJ.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new Lm.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?Lm.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?Lm.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new Lm.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(KE,"TypeCheck");var oy=KE;Ac.TypeCheck=oy;var od;(function(e){function t(l){return l===36}o(t,"DollarSign"),e.DollarSign=t;function r(l){return l===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(l){return l>=65&&l<=90||l>=97&&l<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(l){return l>=48&&l<=57}o(s,"IsNumeric"),e.IsNumeric=s})(od||(od={}));var ay;(function(e){function t(l){return l.length===0?!1:od.IsNumeric(l.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(l){if(t(l))return!1;for(let a=0;a<l.length;a++){let f=l.charCodeAt(a);if(!(od.IsAlpha(f)||od.IsNumeric(f)||od.DollarSign(f)||od.IsUnderscore(f)))return!1}return!0}o(r,"IsAccessor");function n(l){return l.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(l,a){return r(a)?`${l}.${a}`:`${l}['${n(a)}']`}o(s,"Encode"),e.Encode=s})(ay||(ay={}));var zE;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);od.IsNumeric(l)||od.IsAlpha(l)?n.push(r.charAt(s)):n.push(`_${l}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(zE||(zE={}));var GE;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(GE||(GE={}));var WE=class WE extends xa.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(WE,"TypeCompilerUnknownTypeError");var ly=WE;Ac.TypeCompilerUnknownTypeError=ly;var YE=class YE extends xa.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(YE,"TypeCompilerTypeGuardError");var Om=YE;Ac.TypeCompilerTypeGuardError=Om;var G2;(function(e){function t(a,f,c){return Bm.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${f}' in ${a} ? ${c} : true)`:`(${ay.Encode(a,f)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return Bm.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return Bm.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){return Bm.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){return Bm.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(l,"IsVoidLike"),e.IsVoidLike=l})(G2||(Ac.Policy=G2={}));var sL;(function(e){function t(ge){return ge[xa.Kind]==="Any"||ge[xa.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(ge,y0,et){yield"true"}o(r,"TAny");function*n(ge,y0,et){yield`Array.isArray(${et})`;let[m0,h0]=[r0("value","any"),r0("acc","number")];(0,fi.IsNumber)(ge.maxItems)&&(yield`${et}.length <= ${ge.maxItems}`),(0,fi.IsNumber)(ge.minItems)&&(yield`${et}.length >= ${ge.minItems}`);let w0=rt(ge.items,y0,"value");if(yield`${et}.every((${m0}) => ${w0})`,xa.TypeGuard.TSchema(ge.contains)||(0,fi.IsNumber)(ge.minContains)||(0,fi.IsNumber)(ge.maxContains)){let K0=xa.TypeGuard.TSchema(ge.contains)?ge.contains:xa.Type.Never(),$r=rt(K0,y0,"value"),er=(0,fi.IsNumber)(ge.minContains)?[`(count >= ${ge.minContains})`]:[],se=(0,fi.IsNumber)(ge.maxContains)?[`(count <= ${ge.maxContains})`]:[],Kr=`const count = value.reduce((${h0}, ${m0}) => ${$r} ? acc + 1 : acc, 0)`,U0=["(count > 0)",...er,...se].join(" && ");yield`((${m0}) => { ${Kr}; return ${U0}})(${et})`}ge.uniqueItems===!0&&(yield`((${m0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${et})`)}o(n,"TArray");function*s(ge,y0,et){yield`(typeof value === 'object' && Symbol.asyncIterator in ${et})`}o(s,"TAsyncIterator");function*l(ge,y0,et){yield`(typeof ${et} === 'bigint')`,(0,fi.IsBigInt)(ge.exclusiveMaximum)&&(yield`${et} < BigInt(${ge.exclusiveMaximum})`),(0,fi.IsBigInt)(ge.exclusiveMinimum)&&(yield`${et} > BigInt(${ge.exclusiveMinimum})`),(0,fi.IsBigInt)(ge.maximum)&&(yield`${et} <= BigInt(${ge.maximum})`),(0,fi.IsBigInt)(ge.minimum)&&(yield`${et} >= BigInt(${ge.minimum})`),(0,fi.IsBigInt)(ge.multipleOf)&&(yield`(${et} % BigInt(${ge.multipleOf})) === 0`)}o(l,"TBigInt");function*a(ge,y0,et){yield`(typeof ${et} === 'boolean')`}o(a,"TBoolean");function*f(ge,y0,et){yield*$t(ge.returns,y0,`${et}.prototype`)}o(f,"TConstructor");function*c(ge,y0,et){yield`(${et} instanceof Date) && Number.isFinite(${et}.getTime())`,(0,fi.IsNumber)(ge.exclusiveMaximumTimestamp)&&(yield`${et}.getTime() < ${ge.exclusiveMaximumTimestamp}`),(0,fi.IsNumber)(ge.exclusiveMinimumTimestamp)&&(yield`${et}.getTime() > ${ge.exclusiveMinimumTimestamp}`),(0,fi.IsNumber)(ge.maximumTimestamp)&&(yield`${et}.getTime() <= ${ge.maximumTimestamp}`),(0,fi.IsNumber)(ge.minimumTimestamp)&&(yield`${et}.getTime() >= ${ge.minimumTimestamp}`),(0,fi.IsNumber)(ge.multipleOfTimestamp)&&(yield`(${et}.getTime() % ${ge.multipleOfTimestamp}) === 0`)}o(c,"TDate");function*u(ge,y0,et){yield`(typeof ${et} === 'function')`}o(u,"TFunction");function*d(ge,y0,et){yield`(typeof ${et} === 'number' && Number.isInteger(${et}))`,(0,fi.IsNumber)(ge.exclusiveMaximum)&&(yield`${et} < ${ge.exclusiveMaximum}`),(0,fi.IsNumber)(ge.exclusiveMinimum)&&(yield`${et} > ${ge.exclusiveMinimum}`),(0,fi.IsNumber)(ge.maximum)&&(yield`${et} <= ${ge.maximum}`),(0,fi.IsNumber)(ge.minimum)&&(yield`${et} >= ${ge.minimum}`),(0,fi.IsNumber)(ge.multipleOf)&&(yield`(${et} % ${ge.multipleOf}) === 0`)}o(d,"TInteger");function*h(ge,y0,et){let m0=ge.allOf.map(h0=>rt(h0,y0,et)).join(" && ");if(ge.unevaluatedProperties===!1){let h0=de(`${new RegExp(xa.KeyResolver.ResolvePattern(ge))};`),w0=`Object.getOwnPropertyNames(${et}).every(key => ${h0}.test(key))`;yield`(${m0} && ${w0})`}else if(xa.TypeGuard.TSchema(ge.unevaluatedProperties)){let h0=de(`${new RegExp(xa.KeyResolver.ResolvePattern(ge))};`),w0=`Object.getOwnPropertyNames(${et}).every(key => ${h0}.test(key) || ${rt(ge.unevaluatedProperties,y0,`${et}[key]`)})`;yield`(${m0} && ${w0})`}else yield`(${m0})`}o(h,"TIntersect");function*p(ge,y0,et){yield`(typeof value === 'object' && Symbol.iterator in ${et})`}o(p,"TIterator");function*g(ge,y0,et){typeof ge.const=="number"||typeof ge.const=="boolean"?yield`(${et} === ${ge.const})`:yield`(${et} === '${GE.Escape(ge.const)}')`}o(g,"TLiteral");function*y(ge,y0,et){yield"false"}o(y,"TNever");function*_(ge,y0,et){yield`(!${rt(ge.not,y0,et)})`}o(_,"TNot");function*S(ge,y0,et){yield`(${et} === null)`}o(S,"TNull");function*w(ge,y0,et){yield G2.IsNumberLike(et),(0,fi.IsNumber)(ge.exclusiveMaximum)&&(yield`${et} < ${ge.exclusiveMaximum}`),(0,fi.IsNumber)(ge.exclusiveMinimum)&&(yield`${et} > ${ge.exclusiveMinimum}`),(0,fi.IsNumber)(ge.maximum)&&(yield`${et} <= ${ge.maximum}`),(0,fi.IsNumber)(ge.minimum)&&(yield`${et} >= ${ge.minimum}`),(0,fi.IsNumber)(ge.multipleOf)&&(yield`(${et} % ${ge.multipleOf}) === 0`)}o(w,"TNumber");function*P(ge,y0,et){yield G2.IsObjectLike(et),(0,fi.IsNumber)(ge.minProperties)&&(yield`Object.getOwnPropertyNames(${et}).length >= ${ge.minProperties}`),(0,fi.IsNumber)(ge.maxProperties)&&(yield`Object.getOwnPropertyNames(${et}).length <= ${ge.maxProperties}`);let m0=Object.getOwnPropertyNames(ge.properties);for(let h0 of m0){let w0=ay.Encode(et,h0),K0=ge.properties[h0];if(ge.required&&ge.required.includes(h0))yield*$t(K0,y0,w0),(xa.ExtendsUndefined.Check(K0)||t(K0))&&(yield`('${h0}' in ${et})`);else{let $r=rt(K0,y0,w0);yield G2.IsExactOptionalProperty(et,h0,$r)}}if(ge.additionalProperties===!1)if(ge.required&&ge.required.length===m0.length)yield`Object.getOwnPropertyNames(${et}).length === ${m0.length}`;else{let h0=`[${m0.map(w0=>`'${w0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${et}).every(key => ${h0}.includes(key))`}if(typeof ge.additionalProperties=="object"){let h0=rt(ge.additionalProperties,y0,`${et}[key]`),w0=`[${m0.map(K0=>`'${K0}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${et}).every(key => ${w0}.includes(key) || ${h0}))`}}o(P,"TObject");function*D(ge,y0,et){yield`(typeof value === 'object' && typeof ${et}.then === 'function')`}o(D,"TPromise");function*L(ge,y0,et){yield G2.IsRecordLike(et),(0,fi.IsNumber)(ge.minProperties)&&(yield`Object.getOwnPropertyNames(${et}).length >= ${ge.minProperties}`),(0,fi.IsNumber)(ge.maxProperties)&&(yield`Object.getOwnPropertyNames(${et}).length <= ${ge.maxProperties}`);let[m0,h0]=Object.entries(ge.patternProperties)[0],w0=de(`${new RegExp(m0)}`),K0=rt(h0,y0,"value"),$r=xa.TypeGuard.TSchema(ge.additionalProperties)?rt(ge.additionalProperties,y0,et):ge.additionalProperties===!1?"false":"true",er=`(${w0}.test(key) ? ${K0} : ${$r})`;yield`(Object.entries(${et}).every(([key, value]) => ${er}))`}o(L,"TRecord");function*k(ge,y0,et){let m0=(0,RJ.Deref)(ge,y0);if(d0.functions.has(ge.$ref))return yield`${Nt(ge.$ref)}(${et})`;yield*$t(m0,y0,et)}o(k,"TRef");function*B(ge,y0,et){yield`(typeof ${et} === 'string')`,(0,fi.IsNumber)(ge.maxLength)&&(yield`${et}.length <= ${ge.maxLength}`),(0,fi.IsNumber)(ge.minLength)&&(yield`${et}.length >= ${ge.minLength}`),ge.pattern!==void 0&&(yield`${de(`${new RegExp(ge.pattern)};`)}.test(${et})`),ge.format!==void 0&&(yield`format('${ge.format}', ${et})`)}o(B,"TString");function*ne(ge,y0,et){yield`(typeof ${et} === 'symbol')`}o(ne,"TSymbol");function*ce(ge,y0,et){yield`(typeof ${et} === 'string')`,yield`${de(`${new RegExp(ge.pattern)};`)}.test(${et})`}o(ce,"TTemplateLiteral");function*Ge(ge,y0,et){yield`${Nt(ge.$ref)}(${et})`}o(Ge,"TThis");function*st(ge,y0,et){if(yield`Array.isArray(${et})`,ge.items===void 0)return yield`${et}.length === 0`;yield`(${et}.length === ${ge.maxItems})`;for(let m0=0;m0<ge.items.length;m0++)yield`${rt(ge.items[m0],y0,`${et}[${m0}]`)}`}o(st,"TTuple");function*Qe(ge,y0,et){yield`${et} === undefined`}o(Qe,"TUndefined");function*Ft(ge,y0,et){yield`(${ge.anyOf.map(h0=>rt(h0,y0,et)).join(" || ")})`}o(Ft,"TUnion");function*ke(ge,y0,et){yield`${et} instanceof Uint8Array`,(0,fi.IsNumber)(ge.maxByteLength)&&(yield`(${et}.length <= ${ge.maxByteLength})`),(0,fi.IsNumber)(ge.minByteLength)&&(yield`(${et}.length >= ${ge.minByteLength})`)}o(ke,"TUint8Array");function*pe(ge,y0,et){yield"true"}o(pe,"TUnknown");function*Pt(ge,y0,et){yield G2.IsVoidLike(et)}o(Pt,"TVoid");function*Ht(ge,y0,et){let m0=d0.instances.size;d0.instances.set(m0,ge),yield`kind('${ge[xa.Kind]}', ${m0}, ${et})`}o(Ht,"TKind");function*$t(ge,y0,et,m0=!0){let h0=(0,fi.IsString)(ge.$id)?[...y0,ge]:y0,w0=ge;if(m0&&(0,fi.IsString)(ge.$id)){let K0=Nt(ge.$id);if(d0.functions.has(K0))return yield`${K0}(${et})`;{let $r=xe(K0,ge,y0,"value",!1);return d0.functions.set(K0,$r),yield`${K0}(${et})`}}switch(w0[xa.Kind]){case"Any":return yield*r(w0,h0,et);case"Array":return yield*n(w0,h0,et);case"AsyncIterator":return yield*s(w0,h0,et);case"BigInt":return yield*l(w0,h0,et);case"Boolean":return yield*a(w0,h0,et);case"Constructor":return yield*f(w0,h0,et);case"Date":return yield*c(w0,h0,et);case"Function":return yield*u(w0,h0,et);case"Integer":return yield*d(w0,h0,et);case"Intersect":return yield*h(w0,h0,et);case"Iterator":return yield*p(w0,h0,et);case"Literal":return yield*g(w0,h0,et);case"Never":return yield*y(w0,h0,et);case"Not":return yield*_(w0,h0,et);case"Null":return yield*S(w0,h0,et);case"Number":return yield*w(w0,h0,et);case"Object":return yield*P(w0,h0,et);case"Promise":return yield*D(w0,h0,et);case"Record":return yield*L(w0,h0,et);case"Ref":return yield*k(w0,h0,et);case"String":return yield*B(w0,h0,et);case"Symbol":return yield*ne(w0,h0,et);case"TemplateLiteral":return yield*ce(w0,h0,et);case"This":return yield*Ge(w0,h0,et);case"Tuple":return yield*st(w0,h0,et);case"Undefined":return yield*Qe(w0,h0,et);case"Union":return yield*Ft(w0,h0,et);case"Uint8Array":return yield*ke(w0,h0,et);case"Unknown":return yield*pe(w0,h0,et);case"Void":return yield*Pt(w0,h0,et);default:if(!xa.TypeRegistry.Has(w0[xa.Kind]))throw new ly(ge);return yield*Ht(w0,h0,et)}}o($t,"Visit");let d0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function rt(ge,y0,et,m0=!0){return`(${[...$t(ge,y0,et,m0)].join(" && ")})`}o(rt,"CreateExpression");function Nt(ge){return`check_${zE.Encode(ge)}`}o(Nt,"CreateFunctionName");function de(ge){let y0=`local_${d0.variables.size}`;return d0.variables.set(y0,`const ${y0} = ${ge}`),y0}o(de,"CreateVariable");function xe(ge,y0,et,m0,h0=!0){let[w0,K0]=[`
`,Kr=>"".padStart(Kr," ")],$r=r0("value","any"),er=T0("boolean"),se=[...$t(y0,et,m0,h0)].map(Kr=>`${K0(4)}${Kr}`).join(` &&${w0}`);return`function ${ge}(${$r})${er} {${w0}${K0(2)}return (${w0}${se}${w0}${K0(2)})
}`}o(xe,"CreateFunction");function r0(ge,y0){let et=d0.language==="typescript"?`: ${y0}`:"";return`${ge}${et}`}o(r0,"CreateParameter");function T0(ge){return d0.language==="typescript"?`: ${ge}`:""}o(T0,"CreateReturns");function v0(ge,y0,et){let m0=xe("check",ge,y0,"value"),h0=r0("value","any"),w0=T0("boolean"),K0=[...d0.functions.values()],$r=[...d0.variables.values()],er=(0,fi.IsString)(ge.$id)?`return function check(${h0})${w0} {
  return ${Nt(ge.$id)}(value)
}`:`return ${m0}`;return[...$r,...K0,er].join(`
`)}o(v0,"Build");function Zt(...ge){let y0={language:"javascript"},[et,m0,h0]=ge.length===2&&(0,fi.IsArray)(ge[1])?[ge[0],ge[1],y0]:ge.length===2&&!(0,fi.IsArray)(ge[1])?[ge[0],[],ge[1]]:ge.length===3?[ge[0],ge[1],ge[2]]:ge.length===1?[ge[0],[],y0]:[null,[],y0];if(d0.language=h0.language,d0.variables.clear(),d0.functions.clear(),d0.instances.clear(),!xa.TypeGuard.TSchema(et))throw new Om(et);for(let w0 of m0)if(!xa.TypeGuard.TSchema(w0))throw new Om(w0);return v0(et,m0,h0)}o(Zt,"Code"),e.Code=Zt;function G0(ge,y0=[]){let et=Zt(ge,y0,{language:"javascript"}),m0=globalThis.Function("kind","format","hash",et),h0=new Map(d0.instances);function w0(se,Kr,U0){if(!xa.TypeRegistry.Has(se)||!h0.has(Kr))return!1;let es=xa.TypeRegistry.Get(se),Li=h0.get(Kr);return es(Li,U0)}o(w0,"typeRegistryFunction");function K0(se,Kr){return xa.FormatRegistry.Has(se)?xa.FormatRegistry.Get(se)(Kr):!1}o(K0,"formatRegistryFunction");function $r(se){return(0,kJ.Hash)(se)}o($r,"hashFunction");let er=m0(w0,K0,$r);return new oy(ge,y0,er,et)}o(G0,"Compile"),e.Compile=G0})(sL||(Ac.TypeCompiler=sL={}))});var lL=ot(m1=>{"use strict";var NJ=m1&&m1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DJ=m1&&m1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NJ(t,e,r)};Object.defineProperty(m1,"__esModule",{value:!0});m1.ValueErrorIterator=m1.ValueErrorType=void 0;var aL=ry();Object.defineProperty(m1,"ValueErrorType",{enumerable:!0,get:function(){return aL.ValueErrorType}});Object.defineProperty(m1,"ValueErrorIterator",{enumerable:!0,get:function(){return aL.ValueErrorIterator}});DJ(oL(),m1)});var bi=ot((fy,fL)=>{(function(e,t){typeof fy=="object"?fL.exports=fy=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(fy,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),l=Object.create||function(){function w(){}return o(w,"F"),function(P){var D;return w.prototype=P,D=new w,w.prototype=null,D}}(),a={},f=a.lib={},c=f.Base=function(){return{extend:function(w){var P=l(this);return w&&P.mixIn(w),(!P.hasOwnProperty("init")||this.init===P.init)&&(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var P in w)w.hasOwnProperty(P)&&(this[P]=w[P]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=f.WordArray=c.extend({init:function(w,P){w=this.words=w||[],P!=r?this.sigBytes=P:this.sigBytes=w.length*4},toString:function(w){return(w||h).stringify(this)},concat:function(w){var P=this.words,D=w.words,L=this.sigBytes,k=w.sigBytes;if(this.clamp(),L%4)for(var B=0;B<k;B++){var ne=D[B>>>2]>>>24-B%4*8&255;P[L+B>>>2]|=ne<<24-(L+B)%4*8}else for(var ce=0;ce<k;ce+=4)P[L+ce>>>2]=D[ce>>>2];return this.sigBytes+=k,this},clamp:function(){var w=this.words,P=this.sigBytes;w[P>>>2]&=4294967295<<32-P%4*8,w.length=t.ceil(P/4)},clone:function(){var w=c.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var P=[],D=0;D<w;D+=4)P.push(s());return new u.init(P,w)}}),d=a.enc={},h=d.Hex={stringify:function(w){for(var P=w.words,D=w.sigBytes,L=[],k=0;k<D;k++){var B=P[k>>>2]>>>24-k%4*8&255;L.push((B>>>4).toString(16)),L.push((B&15).toString(16))}return L.join("")},parse:function(w){for(var P=w.length,D=[],L=0;L<P;L+=2)D[L>>>3]|=parseInt(w.substr(L,2),16)<<24-L%8*4;return new u.init(D,P/2)}},p=d.Latin1={stringify:function(w){for(var P=w.words,D=w.sigBytes,L=[],k=0;k<D;k++){var B=P[k>>>2]>>>24-k%4*8&255;L.push(String.fromCharCode(B))}return L.join("")},parse:function(w){for(var P=w.length,D=[],L=0;L<P;L++)D[L>>>2]|=(w.charCodeAt(L)&255)<<24-L%4*8;return new u.init(D,P)}},g=d.Utf8={stringify:function(w){try{return decodeURIComponent(escape(p.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return p.parse(unescape(encodeURIComponent(w)))}},y=f.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=g.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var P,D=this._data,L=D.words,k=D.sigBytes,B=this.blockSize,ne=B*4,ce=k/ne;w?ce=t.ceil(ce):ce=t.max((ce|0)-this._minBufferSize,0);var Ge=ce*B,st=t.min(Ge*4,k);if(Ge){for(var Qe=0;Qe<Ge;Qe+=B)this._doProcessBlock(L,Qe);P=L.splice(0,Ge),D.sigBytes-=st}return new u.init(P,st)},clone:function(){var w=c.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0}),_=f.Hasher=y.extend({cfg:c.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){w&&this._append(w);var P=this._doFinalize();return P},blockSize:512/32,_createHelper:function(w){return function(P,D){return new w.init(D).finalize(P)}},_createHmacHelper:function(w){return function(P,D){return new S.HMAC.init(w,D).finalize(P)}}}),S=a.algo={};return a}(Math);return e})});var Fm=ot((cy,cL)=>{(function(e,t){typeof cy=="object"?cL.exports=cy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(cy,function(e){return function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=r.x64={},f=a.Word=s.extend({init:function(u,d){this.high=u,this.low=d}}),c=a.WordArray=s.extend({init:function(u,d){u=this.words=u||[],d!=t?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],p=0;p<d;p++){var g=u[p];h.push(g.high),h.push(g.low)}return l.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),d=u.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return u}})}(),e})});var dL=ot((uy,uL)=>{(function(e,t){typeof uy=="object"?uL.exports=uy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(uy,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,l=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var f=a.byteLength,c=[],u=0;u<f;u++)c[u>>>2]|=a[u]<<24-u%4*8;s.call(this,c,f)}else s.apply(this,arguments)};l.prototype=n}}(),e.lib.WordArray})});var gL=ot((dy,hL)=>{(function(e,t){typeof dy=="object"?hL.exports=dy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(dy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Utf16=s.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=f.charCodeAt(d)<<16-d%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=a(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=a(f.charCodeAt(d)<<16-d%2*16);return n.create(u,c*2)}};function a(f){return f<<8&4278255360|f>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var F5=ot((hy,mL)=>{(function(e,t){typeof hy=="object"?mL.exports=hy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(hy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,d=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,y=c[p+1>>>2]>>>24-(p+1)%4*8&255,_=c[p+2>>>2]>>>24-(p+2)%4*8&255,S=g<<16|y<<8|_,w=0;w<4&&p+w*.75<u;w++)h.push(d.charAt(S>>>6*(3-w)&63));var P=d.charAt(64);if(P)for(;h.length%4;)h.push(P);return h.join("")},parse:function(f){var c=f.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var g=f.indexOf(p);g!==-1&&(c=g)}return a(f,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var g=u[f.charCodeAt(p-1)]<<p%4*2,y=u[f.charCodeAt(p)]>>>6-p%4*2,_=g|y;d[h>>>2]|=_<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64})});var yL=ot((gy,pL)=>{(function(e,t){typeof gy=="object"?pL.exports=gy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(gy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,d=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var p=[],g=0;g<d;g+=3)for(var y=u[g>>>2]>>>24-g%4*8&255,_=u[g+1>>>2]>>>24-(g+1)%4*8&255,S=u[g+2>>>2]>>>24-(g+2)%4*8&255,w=y<<16|_<<8|S,P=0;P<4&&g+P*.75<d;P++)p.push(h.charAt(w>>>6*(3-P)&63));var D=h.charAt(64);if(D)for(;p.length%4;)p.push(D);return p.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var g=d.charAt(64);if(g){var y=f.indexOf(g);y!==-1&&(u=y)}return a(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var g=u[f.charCodeAt(p-1)]<<p%4*2,y=u[f.charCodeAt(p)]>>>6-p%4*2,_=g|y;d[h>>>2]|=_<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64url})});var M5=ot((my,vL)=>{(function(e,t){typeof my=="object"?vL.exports=my=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(my,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[];(function(){for(var g=0;g<64;g++)f[g]=t.abs(t.sin(g+1))*4294967296|0})();var c=a.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,y){for(var _=0;_<16;_++){var S=y+_,w=g[S];g[S]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var P=this._hash.words,D=g[y+0],L=g[y+1],k=g[y+2],B=g[y+3],ne=g[y+4],ce=g[y+5],Ge=g[y+6],st=g[y+7],Qe=g[y+8],Ft=g[y+9],ke=g[y+10],pe=g[y+11],Pt=g[y+12],Ht=g[y+13],$t=g[y+14],d0=g[y+15],rt=P[0],Nt=P[1],de=P[2],xe=P[3];rt=u(rt,Nt,de,xe,D,7,f[0]),xe=u(xe,rt,Nt,de,L,12,f[1]),de=u(de,xe,rt,Nt,k,17,f[2]),Nt=u(Nt,de,xe,rt,B,22,f[3]),rt=u(rt,Nt,de,xe,ne,7,f[4]),xe=u(xe,rt,Nt,de,ce,12,f[5]),de=u(de,xe,rt,Nt,Ge,17,f[6]),Nt=u(Nt,de,xe,rt,st,22,f[7]),rt=u(rt,Nt,de,xe,Qe,7,f[8]),xe=u(xe,rt,Nt,de,Ft,12,f[9]),de=u(de,xe,rt,Nt,ke,17,f[10]),Nt=u(Nt,de,xe,rt,pe,22,f[11]),rt=u(rt,Nt,de,xe,Pt,7,f[12]),xe=u(xe,rt,Nt,de,Ht,12,f[13]),de=u(de,xe,rt,Nt,$t,17,f[14]),Nt=u(Nt,de,xe,rt,d0,22,f[15]),rt=d(rt,Nt,de,xe,L,5,f[16]),xe=d(xe,rt,Nt,de,Ge,9,f[17]),de=d(de,xe,rt,Nt,pe,14,f[18]),Nt=d(Nt,de,xe,rt,D,20,f[19]),rt=d(rt,Nt,de,xe,ce,5,f[20]),xe=d(xe,rt,Nt,de,ke,9,f[21]),de=d(de,xe,rt,Nt,d0,14,f[22]),Nt=d(Nt,de,xe,rt,ne,20,f[23]),rt=d(rt,Nt,de,xe,Ft,5,f[24]),xe=d(xe,rt,Nt,de,$t,9,f[25]),de=d(de,xe,rt,Nt,B,14,f[26]),Nt=d(Nt,de,xe,rt,Qe,20,f[27]),rt=d(rt,Nt,de,xe,Ht,5,f[28]),xe=d(xe,rt,Nt,de,k,9,f[29]),de=d(de,xe,rt,Nt,st,14,f[30]),Nt=d(Nt,de,xe,rt,Pt,20,f[31]),rt=h(rt,Nt,de,xe,ce,4,f[32]),xe=h(xe,rt,Nt,de,Qe,11,f[33]),de=h(de,xe,rt,Nt,pe,16,f[34]),Nt=h(Nt,de,xe,rt,$t,23,f[35]),rt=h(rt,Nt,de,xe,L,4,f[36]),xe=h(xe,rt,Nt,de,ne,11,f[37]),de=h(de,xe,rt,Nt,st,16,f[38]),Nt=h(Nt,de,xe,rt,ke,23,f[39]),rt=h(rt,Nt,de,xe,Ht,4,f[40]),xe=h(xe,rt,Nt,de,D,11,f[41]),de=h(de,xe,rt,Nt,B,16,f[42]),Nt=h(Nt,de,xe,rt,Ge,23,f[43]),rt=h(rt,Nt,de,xe,Ft,4,f[44]),xe=h(xe,rt,Nt,de,Pt,11,f[45]),de=h(de,xe,rt,Nt,d0,16,f[46]),Nt=h(Nt,de,xe,rt,k,23,f[47]),rt=p(rt,Nt,de,xe,D,6,f[48]),xe=p(xe,rt,Nt,de,st,10,f[49]),de=p(de,xe,rt,Nt,$t,15,f[50]),Nt=p(Nt,de,xe,rt,ce,21,f[51]),rt=p(rt,Nt,de,xe,Pt,6,f[52]),xe=p(xe,rt,Nt,de,B,10,f[53]),de=p(de,xe,rt,Nt,ke,15,f[54]),Nt=p(Nt,de,xe,rt,L,21,f[55]),rt=p(rt,Nt,de,xe,Qe,6,f[56]),xe=p(xe,rt,Nt,de,d0,10,f[57]),de=p(de,xe,rt,Nt,Ge,15,f[58]),Nt=p(Nt,de,xe,rt,Ht,21,f[59]),rt=p(rt,Nt,de,xe,ne,6,f[60]),xe=p(xe,rt,Nt,de,pe,10,f[61]),de=p(de,xe,rt,Nt,k,15,f[62]),Nt=p(Nt,de,xe,rt,Ft,21,f[63]),P[0]=P[0]+rt|0,P[1]=P[1]+Nt|0,P[2]=P[2]+de|0,P[3]=P[3]+xe|0},_doFinalize:function(){var g=this._data,y=g.words,_=this._nDataBytes*8,S=g.sigBytes*8;y[S>>>5]|=128<<24-S%32;var w=t.floor(_/4294967296),P=_;y[(S+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,y[(S+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,g.sigBytes=(y.length+1)*4,this._process();for(var D=this._hash,L=D.words,k=0;k<4;k++){var B=L[k];L[k]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return D},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});function u(g,y,_,S,w,P,D){var L=g+(y&_|~y&S)+w+D;return(L<<P|L>>>32-P)+y}o(u,"FF");function d(g,y,_,S,w,P,D){var L=g+(y&S|_&~S)+w+D;return(L<<P|L>>>32-P)+y}o(d,"GG");function h(g,y,_,S,w,P,D){var L=g+(y^_^S)+w+D;return(L<<P|L>>>32-P)+y}o(h,"HH");function p(g,y,_,S,w,P,D){var L=g+(_^(y|~S))+w+D;return(L<<P|L>>>32-P)+y}o(p,"II"),r.MD5=l._createHelper(c),r.HmacMD5=l._createHmacHelper(c)}(Math),e.MD5})});var JE=ot((py,xL)=>{(function(e,t){typeof py=="object"?xL.exports=py=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(py,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,l=t.algo,a=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var d=this._hash.words,h=d[0],p=d[1],g=d[2],y=d[3],_=d[4],S=0;S<80;S++){if(S<16)a[S]=c[u+S]|0;else{var w=a[S-3]^a[S-8]^a[S-14]^a[S-16];a[S]=w<<1|w>>>31}var P=(h<<5|h>>>27)+_+a[S];S<20?P+=(p&g|~p&y)+1518500249:S<40?P+=(p^g^y)+1859775393:S<60?P+=(p&g|p&y|g&y)-1894007588:P+=(p^g^y)-899497514,_=y,y=g,g=p<<30|p>>>2,p=h,h=P}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+g|0,d[3]=d[3]+y|0,d[4]=d[4]+_|0},_doFinalize:function(){var c=this._data,u=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return u[h>>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),u[(h+64>>>9<<4)+15]=d,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(f),t.HmacSHA1=s._createHmacHelper(f)}(),e.SHA1})});var vy=ot((yy,_L)=>{(function(e,t){typeof yy=="object"?_L.exports=yy=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yy,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[],c=[];(function(){function h(_){for(var S=t.sqrt(_),w=2;w<=S;w++)if(!(_%w))return!1;return!0}o(h,"isPrime");function p(_){return(_-(_|0))*4294967296|0}o(p,"getFractionalBits");for(var g=2,y=0;y<64;)h(g)&&(y<8&&(f[y]=p(t.pow(g,1/2))),c[y]=p(t.pow(g,1/3)),y++),g++})();var u=[],d=a.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(h,p){for(var g=this._hash.words,y=g[0],_=g[1],S=g[2],w=g[3],P=g[4],D=g[5],L=g[6],k=g[7],B=0;B<64;B++){if(B<16)u[B]=h[p+B]|0;else{var ne=u[B-15],ce=(ne<<25|ne>>>7)^(ne<<14|ne>>>18)^ne>>>3,Ge=u[B-2],st=(Ge<<15|Ge>>>17)^(Ge<<13|Ge>>>19)^Ge>>>10;u[B]=ce+u[B-7]+st+u[B-16]}var Qe=P&D^~P&L,Ft=y&_^y&S^_&S,ke=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),pe=(P<<26|P>>>6)^(P<<21|P>>>11)^(P<<7|P>>>25),Pt=k+pe+Qe+c[B]+u[B],Ht=ke+Ft;k=L,L=D,D=P,P=w+Pt|0,w=S,S=_,_=y,y=Pt+Ht|0}g[0]=g[0]+y|0,g[1]=g[1]+_|0,g[2]=g[2]+S|0,g[3]=g[3]+w|0,g[4]=g[4]+P|0,g[5]=g[5]+D|0,g[6]=g[6]+L|0,g[7]=g[7]+k|0},_doFinalize:function(){var h=this._data,p=h.words,g=this._nDataBytes*8,y=h.sigBytes*8;return p[y>>>5]|=128<<24-y%32,p[(y+64>>>9<<4)+14]=t.floor(g/4294967296),p[(y+64>>>9<<4)+15]=g,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA256=l._createHelper(d),r.HmacSHA256=l._createHmacHelper(d)}(Math),e.SHA256})});var CL=ot((xy,bL)=>{(function(e,t,r){typeof xy=="object"?bL.exports=xy=t(bi(),vy()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(xy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,l=s.SHA256,a=s.SHA224=l.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});t.SHA224=l._createHelper(a),t.HmacSHA224=l._createHmacHelper(a)}(),e.SHA224})});var XE=ot((_y,EL)=>{(function(e,t,r){typeof _y=="object"?EL.exports=_y=t(bi(),Fm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(_y,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,l=s.Word,a=s.WordArray,f=t.algo;function c(){return l.create.apply(l,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=f.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var y=this._hash.words,_=y[0],S=y[1],w=y[2],P=y[3],D=y[4],L=y[5],k=y[6],B=y[7],ne=_.high,ce=_.low,Ge=S.high,st=S.low,Qe=w.high,Ft=w.low,ke=P.high,pe=P.low,Pt=D.high,Ht=D.low,$t=L.high,d0=L.low,rt=k.high,Nt=k.low,de=B.high,xe=B.low,r0=ne,T0=ce,v0=Ge,Zt=st,G0=Qe,ge=Ft,y0=ke,et=pe,m0=Pt,h0=Ht,w0=$t,K0=d0,$r=rt,er=Nt,se=de,Kr=xe,U0=0;U0<80;U0++){var es,Li,ds=d[U0];if(U0<16)Li=ds.high=p[g+U0*2]|0,es=ds.low=p[g+U0*2+1]|0;else{var Bi=d[U0-15],Ra=Bi.high,Ga=Bi.low,yl=(Ra>>>1|Ga<<31)^(Ra>>>8|Ga<<24)^Ra>>>7,Ka=(Ga>>>1|Ra<<31)^(Ga>>>8|Ra<<24)^(Ga>>>7|Ra<<25),mn=d[U0-2],be=mn.high,j=mn.low,H=(be>>>19|j<<13)^(be<<3|j>>>29)^be>>>6,x0=(j>>>19|be<<13)^(j<<3|be>>>29)^(j>>>6|be<<26),Jr=d[U0-7],ui=Jr.high,hi=Jr.low,Qr=d[U0-16],ki=Qr.high,On=Qr.low;es=Ka+hi,Li=yl+ui+(es>>>0<Ka>>>0?1:0),es=es+x0,Li=Li+H+(es>>>0<x0>>>0?1:0),es=es+On,Li=Li+ki+(es>>>0<On>>>0?1:0),ds.high=Li,ds.low=es}var Mi=m0&w0^~m0&$r,di=h0&K0^~h0&er,Oi=r0&v0^r0&G0^v0&G0,X0=T0&Zt^T0&ge^Zt&ge,Hf=(r0>>>28|T0<<4)^(r0<<30|T0>>>2)^(r0<<25|T0>>>7),Tu=(T0>>>28|r0<<4)^(T0<<30|r0>>>2)^(T0<<25|r0>>>7),vl=(m0>>>14|h0<<18)^(m0>>>18|h0<<14)^(m0<<23|h0>>>9),dc=(h0>>>14|m0<<18)^(h0>>>18|m0<<14)^(h0<<23|m0>>>9),_f=u[U0],Wc=_f.high,Rt=_f.low,X=Kr+dc,Ke=se+vl+(X>>>0<Kr>>>0?1:0),X=X+di,Ke=Ke+Mi+(X>>>0<di>>>0?1:0),X=X+Rt,Ke=Ke+Wc+(X>>>0<Rt>>>0?1:0),X=X+es,Ke=Ke+Li+(X>>>0<es>>>0?1:0),tt=Tu+X0,he=Hf+Oi+(tt>>>0<Tu>>>0?1:0);se=$r,Kr=er,$r=w0,er=K0,w0=m0,K0=h0,h0=et+X|0,m0=y0+Ke+(h0>>>0<et>>>0?1:0)|0,y0=G0,et=ge,G0=v0,ge=Zt,v0=r0,Zt=T0,T0=X+tt|0,r0=Ke+he+(T0>>>0<X>>>0?1:0)|0}ce=_.low=ce+T0,_.high=ne+r0+(ce>>>0<T0>>>0?1:0),st=S.low=st+Zt,S.high=Ge+v0+(st>>>0<Zt>>>0?1:0),Ft=w.low=Ft+ge,w.high=Qe+G0+(Ft>>>0<ge>>>0?1:0),pe=P.low=pe+et,P.high=ke+y0+(pe>>>0<et>>>0?1:0),Ht=D.low=Ht+h0,D.high=Pt+m0+(Ht>>>0<h0>>>0?1:0),d0=L.low=d0+K0,L.high=$t+w0+(d0>>>0<K0>>>0?1:0),Nt=k.low=Nt+er,k.high=rt+$r+(Nt>>>0<er>>>0?1:0),xe=B.low=xe+Kr,B.high=de+se+(xe>>>0<Kr>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,y=this._nDataBytes*8,_=p.sigBytes*8;g[_>>>5]|=128<<24-_%32,g[(_+128>>>10<<5)+30]=Math.floor(y/4294967296),g[(_+128>>>10<<5)+31]=y,p.sigBytes=g.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512})});var SL=ot((by,TL)=>{(function(e,t,r){typeof by=="object"?TL.exports=by=t(bi(),Fm(),XE()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(by,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,l=t.algo,a=l.SHA512,f=l.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=a._createHelper(f),t.HmacSHA384=a._createHmacHelper(f)}(),e.SHA384})});var IL=ot((Cy,wL)=>{(function(e,t,r){typeof Cy=="object"?wL.exports=Cy=t(bi(),Fm()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(Cy,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.x64,f=a.Word,c=r.algo,u=[],d=[],h=[];(function(){for(var y=1,_=0,S=0;S<24;S++){u[y+5*_]=(S+1)*(S+2)/2%64;var w=_%5,P=(2*y+3*_)%5;y=w,_=P}for(var y=0;y<5;y++)for(var _=0;_<5;_++)d[y+5*_]=_+(2*y+3*_)%5*5;for(var D=1,L=0;L<24;L++){for(var k=0,B=0,ne=0;ne<7;ne++){if(D&1){var ce=(1<<ne)-1;ce<32?B^=1<<ce:k^=1<<ce-32}D&128?D=D<<1^113:D<<=1}h[L]=f.create(k,B)}})();var p=[];(function(){for(var y=0;y<25;y++)p[y]=f.create()})();var g=c.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],_=0;_<25;_++)y[_]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,_){for(var S=this._state,w=this.blockSize/2,P=0;P<w;P++){var D=y[_+2*P],L=y[_+2*P+1];D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360;var k=S[P];k.high^=L,k.low^=D}for(var B=0;B<24;B++){for(var ne=0;ne<5;ne++){for(var ce=0,Ge=0,st=0;st<5;st++){var k=S[ne+5*st];ce^=k.high,Ge^=k.low}var Qe=p[ne];Qe.high=ce,Qe.low=Ge}for(var ne=0;ne<5;ne++)for(var Ft=p[(ne+4)%5],ke=p[(ne+1)%5],pe=ke.high,Pt=ke.low,ce=Ft.high^(pe<<1|Pt>>>31),Ge=Ft.low^(Pt<<1|pe>>>31),st=0;st<5;st++){var k=S[ne+5*st];k.high^=ce,k.low^=Ge}for(var Ht=1;Ht<25;Ht++){var ce,Ge,k=S[Ht],$t=k.high,d0=k.low,rt=u[Ht];rt<32?(ce=$t<<rt|d0>>>32-rt,Ge=d0<<rt|$t>>>32-rt):(ce=d0<<rt-32|$t>>>64-rt,Ge=$t<<rt-32|d0>>>64-rt);var Nt=p[d[Ht]];Nt.high=ce,Nt.low=Ge}var de=p[0],xe=S[0];de.high=xe.high,de.low=xe.low;for(var ne=0;ne<5;ne++)for(var st=0;st<5;st++){var Ht=ne+5*st,k=S[Ht],r0=p[Ht],T0=p[(ne+1)%5+5*st],v0=p[(ne+2)%5+5*st];k.high=r0.high^~T0.high&v0.high,k.low=r0.low^~T0.low&v0.low}var k=S[0],Zt=h[B];k.high^=Zt.high,k.low^=Zt.low}},_doFinalize:function(){var y=this._data,_=y.words,S=this._nDataBytes*8,w=y.sigBytes*8,P=this.blockSize*32;_[w>>>5]|=1<<24-w%32,_[(t.ceil((w+1)/P)*P>>>5)-1]|=128,y.sigBytes=_.length*4,this._process();for(var D=this._state,L=this.cfg.outputLength/8,k=L/8,B=[],ne=0;ne<k;ne++){var ce=D[ne],Ge=ce.high,st=ce.low;Ge=(Ge<<8|Ge>>>24)&16711935|(Ge<<24|Ge>>>8)&4278255360,st=(st<<8|st>>>24)&16711935|(st<<24|st>>>8)&4278255360,B.push(st),B.push(Ge)}return new s.init(B,L)},clone:function(){for(var y=l.clone.call(this),_=y._state=this._state.slice(0),S=0;S<25;S++)_[S]=_[S].clone();return y}});r.SHA3=l._createHelper(g),r.HmacSHA3=l._createHmacHelper(g)}(Math),e.SHA3})});var PL=ot((Ey,AL)=>{(function(e,t){typeof Ey=="object"?AL.exports=Ey=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ey,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),g=a.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(L,k){for(var B=0;B<16;B++){var ne=k+B,ce=L[ne];L[ne]=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360}var Ge=this._hash.words,st=h.words,Qe=p.words,Ft=f.words,ke=c.words,pe=u.words,Pt=d.words,Ht,$t,d0,rt,Nt,de,xe,r0,T0,v0;de=Ht=Ge[0],xe=$t=Ge[1],r0=d0=Ge[2],T0=rt=Ge[3],v0=Nt=Ge[4];for(var Zt,B=0;B<80;B+=1)Zt=Ht+L[k+Ft[B]]|0,B<16?Zt+=y($t,d0,rt)+st[0]:B<32?Zt+=_($t,d0,rt)+st[1]:B<48?Zt+=S($t,d0,rt)+st[2]:B<64?Zt+=w($t,d0,rt)+st[3]:Zt+=P($t,d0,rt)+st[4],Zt=Zt|0,Zt=D(Zt,pe[B]),Zt=Zt+Nt|0,Ht=Nt,Nt=rt,rt=D(d0,10),d0=$t,$t=Zt,Zt=de+L[k+ke[B]]|0,B<16?Zt+=P(xe,r0,T0)+Qe[0]:B<32?Zt+=w(xe,r0,T0)+Qe[1]:B<48?Zt+=S(xe,r0,T0)+Qe[2]:B<64?Zt+=_(xe,r0,T0)+Qe[3]:Zt+=y(xe,r0,T0)+Qe[4],Zt=Zt|0,Zt=D(Zt,Pt[B]),Zt=Zt+v0|0,de=v0,v0=T0,T0=D(r0,10),r0=xe,xe=Zt;Zt=Ge[1]+d0+T0|0,Ge[1]=Ge[2]+rt+v0|0,Ge[2]=Ge[3]+Nt+de|0,Ge[3]=Ge[4]+Ht+xe|0,Ge[4]=Ge[0]+$t+r0|0,Ge[0]=Zt},_doFinalize:function(){var L=this._data,k=L.words,B=this._nDataBytes*8,ne=L.sigBytes*8;k[ne>>>5]|=128<<24-ne%32,k[(ne+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,L.sigBytes=(k.length+1)*4,this._process();for(var ce=this._hash,Ge=ce.words,st=0;st<5;st++){var Qe=Ge[st];Ge[st]=(Qe<<8|Qe>>>24)&16711935|(Qe<<24|Qe>>>8)&4278255360}return ce},clone:function(){var L=l.clone.call(this);return L._hash=this._hash.clone(),L}});function y(L,k,B){return L^k^B}o(y,"f1");function _(L,k,B){return L&k|~L&B}o(_,"f2");function S(L,k,B){return(L|~k)^B}o(S,"f3");function w(L,k,B){return L&B|k&~B}o(w,"f4");function P(L,k,B){return L^(k|~B)}o(P,"f5");function D(L,k){return L<<k|L>>>32-k}o(D,"rotl"),r.RIPEMD160=l._createHelper(g),r.HmacRIPEMD160=l._createHmacHelper(g)}(Math),e.RIPEMD160})});var Sy=ot((Ty,RL)=>{(function(e,t){typeof Ty=="object"?RL.exports=Ty=t(bi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(Ty,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,l=s.Utf8,a=t.algo,f=a.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=l.parse(u));var d=c.blockSize,h=d*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),g=this._iKey=u.clone(),y=p.words,_=g.words,S=0;S<d;S++)y[S]^=1549556828,_[S]^=909522486;p.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(d));return h}})})()})});var NL=ot((wy,kL)=>{(function(e,t,r){typeof wy=="object"?kL.exports=wy=t(bi(),vy(),Sy()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(wy,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.SHA256,f=l.HMAC,c=l.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var h=this.cfg,p=f.create(h.hasher,u),g=s.create(),y=s.create([1]),_=g.words,S=y.words,w=h.keySize,P=h.iterations;_.length<w;){var D=p.update(d).finalize(y);p.reset();for(var L=D.words,k=L.length,B=D,ne=1;ne<P;ne++){B=p.finalize(B),p.reset();for(var ce=B.words,Ge=0;Ge<k;Ge++)L[Ge]^=ce[Ge]}g.concat(D),S[0]++}return g.sigBytes=w*4,g}});t.PBKDF2=function(u,d,h){return c.create(h).compute(u,d)}}(),e.PBKDF2})});var ad=ot((Iy,DL)=>{(function(e,t,r){typeof Iy=="object"?DL.exports=Iy=t(bi(),JE(),Sy()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(Iy,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.MD5,f=l.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d,h=this.cfg,p=h.hasher.create(),g=s.create(),y=g.words,_=h.keySize,S=h.iterations;y.length<_;){d&&p.update(d),d=p.update(c).finalize(u),p.reset();for(var w=1;w<S;w++)d=p.finalize(d),p.reset();g.concat(d)}return g.sigBytes=_*4,g}});t.EvpKDF=function(c,u,d){return f.create(d).compute(c,u)}}(),e.EvpKDF})});var Ja=ot((Ay,LL)=>{(function(e,t,r){typeof Ay=="object"?LL.exports=Ay=t(bi(),ad()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(Ay,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=n.BufferedBlockAlgorithm,f=r.enc,c=f.Utf8,u=f.Base64,d=r.algo,h=d.EvpKDF,p=n.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(Qe,Ft){return this.create(this._ENC_XFORM_MODE,Qe,Ft)},createDecryptor:function(Qe,Ft){return this.create(this._DEC_XFORM_MODE,Qe,Ft)},init:function(Qe,Ft,ke){this.cfg=this.cfg.extend(ke),this._xformMode=Qe,this._key=Ft,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(Qe){return this._append(Qe),this._process()},finalize:function(Qe){Qe&&this._append(Qe);var Ft=this._doFinalize();return Ft},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Qe(Ft){return typeof Ft=="string"?st:ne}return o(Qe,"selectCipherStrategy"),function(Ft){return{encrypt:function(ke,pe,Pt){return Qe(pe).encrypt(Ft,ke,pe,Pt)},decrypt:function(ke,pe,Pt){return Qe(pe).decrypt(Ft,ke,pe,Pt)}}}}()}),g=n.StreamCipher=p.extend({_doFinalize:function(){var Qe=this._process(!0);return Qe},blockSize:1}),y=r.mode={},_=n.BlockCipherMode=s.extend({createEncryptor:function(Qe,Ft){return this.Encryptor.create(Qe,Ft)},createDecryptor:function(Qe,Ft){return this.Decryptor.create(Qe,Ft)},init:function(Qe,Ft){this._cipher=Qe,this._iv=Ft}}),S=y.CBC=function(){var Qe=_.extend();Qe.Encryptor=Qe.extend({processBlock:function(ke,pe){var Pt=this._cipher,Ht=Pt.blockSize;Ft.call(this,ke,pe,Ht),Pt.encryptBlock(ke,pe),this._prevBlock=ke.slice(pe,pe+Ht)}}),Qe.Decryptor=Qe.extend({processBlock:function(ke,pe){var Pt=this._cipher,Ht=Pt.blockSize,$t=ke.slice(pe,pe+Ht);Pt.decryptBlock(ke,pe),Ft.call(this,ke,pe,Ht),this._prevBlock=$t}});function Ft(ke,pe,Pt){var Ht,$t=this._iv;$t?(Ht=$t,this._iv=t):Ht=this._prevBlock;for(var d0=0;d0<Pt;d0++)ke[pe+d0]^=Ht[d0]}return o(Ft,"xorBlock"),Qe}(),w=r.pad={},P=w.Pkcs7={pad:function(Qe,Ft){for(var ke=Ft*4,pe=ke-Qe.sigBytes%ke,Pt=pe<<24|pe<<16|pe<<8|pe,Ht=[],$t=0;$t<pe;$t+=4)Ht.push(Pt);var d0=l.create(Ht,pe);Qe.concat(d0)},unpad:function(Qe){var Ft=Qe.words[Qe.sigBytes-1>>>2]&255;Qe.sigBytes-=Ft}},D=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:S,padding:P}),reset:function(){var Qe;p.reset.call(this);var Ft=this.cfg,ke=Ft.iv,pe=Ft.mode;this._xformMode==this._ENC_XFORM_MODE?Qe=pe.createEncryptor:(Qe=pe.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Qe?this._mode.init(this,ke&&ke.words):(this._mode=Qe.call(pe,this,ke&&ke.words),this._mode.__creator=Qe)},_doProcessBlock:function(Qe,Ft){this._mode.processBlock(Qe,Ft)},_doFinalize:function(){var Qe,Ft=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Ft.pad(this._data,this.blockSize),Qe=this._process(!0)):(Qe=this._process(!0),Ft.unpad(Qe)),Qe},blockSize:128/32}),L=n.CipherParams=s.extend({init:function(Qe){this.mixIn(Qe)},toString:function(Qe){return(Qe||this.formatter).stringify(this)}}),k=r.format={},B=k.OpenSSL={stringify:function(Qe){var Ft,ke=Qe.ciphertext,pe=Qe.salt;return pe?Ft=l.create([1398893684,1701076831]).concat(pe).concat(ke):Ft=ke,Ft.toString(u)},parse:function(Qe){var Ft,ke=u.parse(Qe),pe=ke.words;return pe[0]==1398893684&&pe[1]==1701076831&&(Ft=l.create(pe.slice(2,4)),pe.splice(0,4),ke.sigBytes-=16),L.create({ciphertext:ke,salt:Ft})}},ne=n.SerializableCipher=s.extend({cfg:s.extend({format:B}),encrypt:function(Qe,Ft,ke,pe){pe=this.cfg.extend(pe);var Pt=Qe.createEncryptor(ke,pe),Ht=Pt.finalize(Ft),$t=Pt.cfg;return L.create({ciphertext:Ht,key:ke,iv:$t.iv,algorithm:Qe,mode:$t.mode,padding:$t.padding,blockSize:Qe.blockSize,formatter:pe.format})},decrypt:function(Qe,Ft,ke,pe){pe=this.cfg.extend(pe),Ft=this._parse(Ft,pe.format);var Pt=Qe.createDecryptor(ke,pe).finalize(Ft.ciphertext);return Pt},_parse:function(Qe,Ft){return typeof Qe=="string"?Ft.parse(Qe,this):Qe}}),ce=r.kdf={},Ge=ce.OpenSSL={execute:function(Qe,Ft,ke,pe,Pt){if(pe||(pe=l.random(64/8)),Pt)var Ht=h.create({keySize:Ft+ke,hasher:Pt}).compute(Qe,pe);else var Ht=h.create({keySize:Ft+ke}).compute(Qe,pe);var $t=l.create(Ht.words.slice(Ft),ke*4);return Ht.sigBytes=Ft*4,L.create({key:Ht,iv:$t,salt:pe})}},st=n.PasswordBasedCipher=ne.extend({cfg:ne.cfg.extend({kdf:Ge}),encrypt:function(Qe,Ft,ke,pe){pe=this.cfg.extend(pe);var Pt=pe.kdf.execute(ke,Qe.keySize,Qe.ivSize,pe.salt,pe.hasher);pe.iv=Pt.iv;var Ht=ne.encrypt.call(this,Qe,Ft,Pt.key,pe);return Ht.mixIn(Pt),Ht},decrypt:function(Qe,Ft,ke,pe){pe=this.cfg.extend(pe),Ft=this._parse(Ft,pe.format);var Pt=pe.kdf.execute(ke,Qe.keySize,Qe.ivSize,Ft.salt,pe.hasher);pe.iv=Pt.iv;var Ht=ne.decrypt.call(this,Qe,Ft,Pt.key,pe);return Ht}})}()})});var OL=ot((Py,BL)=>{(function(e,t,r){typeof Py=="object"?BL.exports=Py=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Py,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize;r.call(this,n,s,a,l),this._prevBlock=n.slice(s,s+a)}}),t.Decryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=n.slice(s,s+a);r.call(this,n,s,a,l),this._prevBlock=f}});function r(n,s,l,a){var f,c=this._iv;c?(f=c.slice(0),this._iv=void 0):f=this._prevBlock,a.encryptBlock(f,0);for(var u=0;u<l;u++)n[s+u]^=f[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var ML=ot((Ry,FL)=>{(function(e,t,r){typeof Ry=="object"?FL.exports=Ry=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ry,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._counter;f&&(c=this._counter=f.slice(0),this._iv=void 0);var u=c.slice(0);l.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var d=0;d<a;d++)n[s+d]^=u[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var qL=ot((ky,UL)=>{(function(e,t,r){typeof ky=="object"?UL.exports=ky=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ky,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(l){if((l>>24&255)===255){var a=l>>16&255,f=l>>8&255,c=l&255;a===255?(a=0,f===255?(f=0,c===255?c=0:++c):++f):++a,l=0,l+=a<<16,l+=f<<8,l+=c}else l+=1<<24;return l}o(r,"incWord");function n(l){return(l[0]=r(l[0]))===0&&(l[1]=r(l[1])),l}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(l,a){var f=this._cipher,c=f.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0),n(d);var h=d.slice(0);f.encryptBlock(h,0);for(var p=0;p<c;p++)l[a+p]^=h[p]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var $L=ot((Ny,jL)=>{(function(e,t,r){typeof Ny=="object"?jL.exports=Ny=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ny,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._keystream;f&&(c=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(c,0);for(var u=0;u<a;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var VL=ot((Dy,HL)=>{(function(e,t,r){typeof Dy=="object"?HL.exports=Dy=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Dy,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var GL=ot((Ly,zL)=>{(function(e,t,r){typeof Ly=="object"?zL.exports=Ly=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Ly,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,l=s-n%s,a=n+l-1;t.clamp(),t.words[a>>>2]|=l<<24-a%4*8,t.sigBytes+=l},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var WL=ot((By,KL)=>{(function(e,t,r){typeof By=="object"?KL.exports=By=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(By,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var JL=ot((Oy,YL)=>{(function(e,t,r){typeof Oy=="object"?YL.exports=Oy=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Oy,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var ZL=ot((Fy,XL)=>{(function(e,t,r){typeof Fy=="object"?XL.exports=Fy=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Fy,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var eB=ot((My,QL)=>{(function(e,t,r){typeof My=="object"?QL.exports=My=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(My,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var rB=ot((Uy,tB)=>{(function(e,t,r){typeof Uy=="object"?tB.exports=Uy=t(bi(),Ja()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Uy,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,l=r.enc,a=l.Hex,f=r.format,c=f.Hex={stringify:function(u){return u.ciphertext.toString(a)},parse:function(u){var d=a.parse(u);return s.create({ciphertext:d})}}}(),e.format.Hex})});var iB=ot((qy,nB)=>{(function(e,t,r){typeof qy=="object"?nB.exports=qy=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(qy,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,l=[],a=[],f=[],c=[],u=[],d=[],h=[],p=[],g=[],y=[];(function(){for(var w=[],P=0;P<256;P++)P<128?w[P]=P<<1:w[P]=P<<1^283;for(var D=0,L=0,P=0;P<256;P++){var k=L^L<<1^L<<2^L<<3^L<<4;k=k>>>8^k&255^99,l[D]=k,a[k]=D;var B=w[D],ne=w[B],ce=w[ne],Ge=w[k]*257^k*16843008;f[D]=Ge<<24|Ge>>>8,c[D]=Ge<<16|Ge>>>16,u[D]=Ge<<8|Ge>>>24,d[D]=Ge;var Ge=ce*16843009^ne*65537^B*257^D*16843008;h[k]=Ge<<24|Ge>>>8,p[k]=Ge<<16|Ge>>>16,g[k]=Ge<<8|Ge>>>24,y[k]=Ge,D?(D=B^w[w[w[ce^B]]],L^=w[w[L]]):D=L=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],S=s.AES=n.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var P=this._keyPriorReset=this._key,D=P.words,L=P.sigBytes/4,k=this._nRounds=L+6,B=(k+1)*4,ne=this._keySchedule=[],ce=0;ce<B;ce++)ce<L?ne[ce]=D[ce]:(w=ne[ce-1],ce%L?L>6&&ce%L==4&&(w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255]):(w=w<<8|w>>>24,w=l[w>>>24]<<24|l[w>>>16&255]<<16|l[w>>>8&255]<<8|l[w&255],w^=_[ce/L|0]<<24),ne[ce]=ne[ce-L]^w);for(var Ge=this._invKeySchedule=[],st=0;st<B;st++){var ce=B-st;if(st%4)var w=ne[ce];else var w=ne[ce-4];st<4||ce<=4?Ge[st]=w:Ge[st]=h[l[w>>>24]]^p[l[w>>>16&255]]^g[l[w>>>8&255]]^y[l[w&255]]}}},encryptBlock:function(w,P){this._doCryptBlock(w,P,this._keySchedule,f,c,u,d,l)},decryptBlock:function(w,P){var D=w[P+1];w[P+1]=w[P+3],w[P+3]=D,this._doCryptBlock(w,P,this._invKeySchedule,h,p,g,y,a);var D=w[P+1];w[P+1]=w[P+3],w[P+3]=D},_doCryptBlock:function(w,P,D,L,k,B,ne,ce){for(var Ge=this._nRounds,st=w[P]^D[0],Qe=w[P+1]^D[1],Ft=w[P+2]^D[2],ke=w[P+3]^D[3],pe=4,Pt=1;Pt<Ge;Pt++){var Ht=L[st>>>24]^k[Qe>>>16&255]^B[Ft>>>8&255]^ne[ke&255]^D[pe++],$t=L[Qe>>>24]^k[Ft>>>16&255]^B[ke>>>8&255]^ne[st&255]^D[pe++],d0=L[Ft>>>24]^k[ke>>>16&255]^B[st>>>8&255]^ne[Qe&255]^D[pe++],rt=L[ke>>>24]^k[st>>>16&255]^B[Qe>>>8&255]^ne[Ft&255]^D[pe++];st=Ht,Qe=$t,Ft=d0,ke=rt}var Ht=(ce[st>>>24]<<24|ce[Qe>>>16&255]<<16|ce[Ft>>>8&255]<<8|ce[ke&255])^D[pe++],$t=(ce[Qe>>>24]<<24|ce[Ft>>>16&255]<<16|ce[ke>>>8&255]<<8|ce[st&255])^D[pe++],d0=(ce[Ft>>>24]<<24|ce[ke>>>16&255]<<16|ce[st>>>8&255]<<8|ce[Qe&255])^D[pe++],rt=(ce[ke>>>24]<<24|ce[st>>>16&255]<<16|ce[Qe>>>8&255]<<8|ce[Ft&255])^D[pe++];w[P]=Ht,w[P+1]=$t,w[P+2]=d0,w[P+3]=rt},keySize:256/32});t.AES=n._createHelper(S)}(),e.AES})});var oB=ot((jy,sB)=>{(function(e,t,r){typeof jy=="object"?sB.exports=jy=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(jy,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,l=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=l.DES=s.extend({_doReset:function(){for(var _=this._key,S=_.words,w=[],P=0;P<56;P++){var D=a[P]-1;w[P]=S[D>>>5]>>>31-D%32&1}for(var L=this._subKeys=[],k=0;k<16;k++){for(var B=L[k]=[],ne=c[k],P=0;P<24;P++)B[P/6|0]|=w[(f[P]-1+ne)%28]<<31-P%6,B[4+(P/6|0)]|=w[28+(f[P+24]-1+ne)%28]<<31-P%6;B[0]=B[0]<<1|B[0]>>>31;for(var P=1;P<7;P++)B[P]=B[P]>>>(P-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var ce=this._invSubKeys=[],P=0;P<16;P++)ce[P]=L[15-P]},encryptBlock:function(_,S){this._doCryptBlock(_,S,this._subKeys)},decryptBlock:function(_,S){this._doCryptBlock(_,S,this._invSubKeys)},_doCryptBlock:function(_,S,w){this._lBlock=_[S],this._rBlock=_[S+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var P=0;P<16;P++){for(var D=w[P],L=this._lBlock,k=this._rBlock,B=0,ne=0;ne<8;ne++)B|=u[ne][((k^D[ne])&d[ne])>>>0];this._lBlock=k,this._rBlock=L^B}var ce=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ce,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),_[S]=this._lBlock,_[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(_,S){var w=(this._lBlock>>>_^this._rBlock)&S;this._rBlock^=w,this._lBlock^=w<<_}o(p,"exchangeLR");function g(_,S){var w=(this._rBlock>>>_^this._lBlock)&S;this._lBlock^=w,this._rBlock^=w<<_}o(g,"exchangeRL"),t.DES=s._createHelper(h);var y=l.TripleDES=s.extend({_doReset:function(){var _=this._key,S=_.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=S.slice(0,2),P=S.length<4?S.slice(0,2):S.slice(2,4),D=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(n.create(w)),this._des2=h.createEncryptor(n.create(P)),this._des3=h.createEncryptor(n.create(D))},encryptBlock:function(_,S){this._des1.encryptBlock(_,S),this._des2.decryptBlock(_,S),this._des3.encryptBlock(_,S)},decryptBlock:function(_,S){this._des3.decryptBlock(_,S),this._des2.encryptBlock(_,S),this._des1.decryptBlock(_,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(y)}(),e.TripleDES})});var lB=ot(($y,aB)=>{(function(e,t,r){typeof $y=="object"?aB.exports=$y=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})($y,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,g=0;p<256;p++){var y=p%d,_=u[y>>>2]>>>24-y%4*8&255;g=(g+h[p]+_)%256;var S=h[p];h[p]=h[g],h[g]=S}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,d=this._j,h=0,p=0;p<4;p++){u=(u+1)%256,d=(d+c[u])%256;var g=c[u];c[u]=c[d],c[d]=g,h|=c[(c[u]+c[d])%256]<<24-p*8}return this._i=u,this._j=d,h}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)}});t.RC4Drop=n._createHelper(f)}(),e.RC4})});var cB=ot((Hy,fB)=>{(function(e,t,r){typeof Hy=="object"?fB.exports=Hy=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Hy,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var g=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],y=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)y[p]^=g[p+4&7];if(h){var _=h.words,S=_[0],w=_[1],P=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,D=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,L=P>>>16|D&4294901760,k=D<<16|P&65535;y[0]^=P,y[1]^=L,y[2]^=D,y[3]^=k,y[4]^=P,y[5]^=L,y[6]^=D,y[7]^=k;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,d[h+g]^=l[g]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)a[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var g=d[p]+h[p],y=g&65535,_=g>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,w=((g&4294901760)*g|0)+((g&65535)*g|0);f[p]=S^w}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var dB=ot((Vy,uB)=>{(function(e,t,r){typeof Vy=="object"?uB.exports=Vy=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Vy,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var y=0;y<4;y++)u.call(this);for(var y=0;y<8;y++)g[y]^=p[y+4&7];if(h){var _=h.words,S=_[0],w=_[1],P=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,D=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,L=P>>>16|D&4294901760,k=D<<16|P&65535;g[0]^=P,g[1]^=L,g[2]^=D,g[3]^=k,g[4]^=P,g[5]^=L,g[6]^=D,g[7]^=k;for(var y=0;y<4;y++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)l[g]=(l[g]<<8|l[g]>>>24)&16711935|(l[g]<<24|l[g]>>>8)&4278255360,d[h+g]^=l[g]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)a[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var g=d[p]+h[p],y=g&65535,_=g>>>16,S=((y*y>>>17)+y*_>>>15)+_*_,w=((g&4294901760)*g|0)+((g&65535)*g|0);f[p]=S^w}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var gB=ot((zy,hB)=>{(function(e,t,r){typeof zy=="object"?hB.exports=zy=t(bi(),F5(),M5(),ad(),Ja()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(zy,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let l=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(y,_){let S=_>>24&255,w=_>>16&255,P=_>>8&255,D=_&255,L=y.sbox[0][S]+y.sbox[1][w];return L=L^y.sbox[2][P],L=L+y.sbox[3][D],L}o(u,"F");function d(y,_,S){let w=_,P=S,D;for(let L=0;L<l;++L)w=w^y.pbox[L],P=u(y,w)^P,D=w,w=P,P=D;return D=w,w=P,P=D,P=P^y.pbox[l],w=w^y.pbox[l+1],{left:w,right:P}}o(d,"BlowFish_Encrypt");function h(y,_,S){let w=_,P=S,D;for(let L=l+1;L>1;--L)w=w^y.pbox[L],P=u(y,w)^P,D=w,w=P,P=D;return D=w,w=P,P=D,P=P^y.pbox[1],w=w^y.pbox[0],{left:w,right:P}}o(h,"BlowFish_Decrypt");function p(y,_,S){for(let k=0;k<4;k++){y.sbox[k]=[];for(let B=0;B<256;B++)y.sbox[k][B]=f[k][B]}let w=0;for(let k=0;k<l+2;k++)y.pbox[k]=a[k]^_[w],w++,w>=S&&(w=0);let P=0,D=0,L=0;for(let k=0;k<l+2;k+=2)L=d(y,P,D),P=L.left,D=L.right,y.pbox[k]=P,y.pbox[k+1]=D;for(let k=0;k<4;k++)for(let B=0;B<256;B+=2)L=d(y,P,D),P=L.left,D=L.right,y.sbox[k][B]=P,y.sbox[k][B+1]=D;return!0}o(p,"BlowFishInit");var g=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,_=y.words,S=y.sigBytes/4;p(c,_,S)}},encryptBlock:function(y,_){var S=d(c,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},decryptBlock:function(y,_){var S=h(c,y[_],y[_+1]);y[_]=S.left,y[_+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(g)}(),e.Blowfish})});var Mm=ot((Gy,mB)=>{(function(e,t,r){typeof Gy=="object"?mB.exports=Gy=t(bi(),Fm(),dL(),gL(),F5(),yL(),M5(),JE(),vy(),CL(),XE(),SL(),IL(),PL(),Sy(),NL(),ad(),Ja(),OL(),ML(),qL(),$L(),VL(),GL(),WL(),JL(),ZL(),eB(),rB(),iB(),oB(),lB(),cB(),dB(),gB()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Gy,function(e){return e})});var r8=ot(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.stringArray=Ql.array=Ql.func=Ql.error=Ql.number=Ql.string=Ql.boolean=void 0;function BJ(e){return e===!0||e===!1}o(BJ,"boolean");Ql.boolean=BJ;function xB(e){return typeof e=="string"||e instanceof String}o(xB,"string");Ql.string=xB;function OJ(e){return typeof e=="number"||e instanceof Number}o(OJ,"number");Ql.number=OJ;function FJ(e){return e instanceof Error}o(FJ,"error");Ql.error=FJ;function MJ(e){return typeof e=="function"}o(MJ,"func");Ql.func=MJ;function _B(e){return Array.isArray(e)}o(_B,"array");Ql.array=_B;function UJ(e){return _B(e)&&e.every(t=>xB(t))}o(UJ,"stringArray");Ql.stringArray=UJ});var WT=ot(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.Message=tr.NotificationType9=tr.NotificationType8=tr.NotificationType7=tr.NotificationType6=tr.NotificationType5=tr.NotificationType4=tr.NotificationType3=tr.NotificationType2=tr.NotificationType1=tr.NotificationType0=tr.NotificationType=tr.RequestType9=tr.RequestType8=tr.RequestType7=tr.RequestType6=tr.RequestType5=tr.RequestType4=tr.RequestType3=tr.RequestType2=tr.RequestType1=tr.RequestType=tr.RequestType0=tr.AbstractMessageSignature=tr.ParameterStructures=tr.ResponseError=tr.ErrorCodes=void 0;var W2=r8(),tT;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(tT||(tr.ErrorCodes=tT={}));var Yy=class Yy extends Error{constructor(t,r,n){super(r),this.code=W2.number(t)?t:tT.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,Yy.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};o(Yy,"ResponseError");var rT=Yy;tr.ResponseError=rT;var n8=class n8{constructor(t){this.kind=t}static is(t){return t===n8.auto||t===n8.byName||t===n8.byPosition}toString(){return this.kind}};o(n8,"ParameterStructures");var Df=n8;tr.ParameterStructures=Df;Df.auto=new Df("auto");Df.byPosition=new Df("byPosition");Df.byName=new Df("byName");var ST=class ST{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Df.auto}};o(ST,"AbstractMessageSignature");var eo=ST;tr.AbstractMessageSignature=eo;var wT=class wT extends eo{constructor(t){super(t,0)}};o(wT,"RequestType0");var nT=wT;tr.RequestType0=nT;var IT=class IT extends eo{constructor(t,r=Df.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(IT,"RequestType");var iT=IT;tr.RequestType=iT;var AT=class AT extends eo{constructor(t,r=Df.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(AT,"RequestType1");var sT=AT;tr.RequestType1=sT;var PT=class PT extends eo{constructor(t){super(t,2)}};o(PT,"RequestType2");var oT=PT;tr.RequestType2=oT;var RT=class RT extends eo{constructor(t){super(t,3)}};o(RT,"RequestType3");var aT=RT;tr.RequestType3=aT;var kT=class kT extends eo{constructor(t){super(t,4)}};o(kT,"RequestType4");var lT=kT;tr.RequestType4=lT;var NT=class NT extends eo{constructor(t){super(t,5)}};o(NT,"RequestType5");var fT=NT;tr.RequestType5=fT;var DT=class DT extends eo{constructor(t){super(t,6)}};o(DT,"RequestType6");var cT=DT;tr.RequestType6=cT;var LT=class LT extends eo{constructor(t){super(t,7)}};o(LT,"RequestType7");var uT=LT;tr.RequestType7=uT;var BT=class BT extends eo{constructor(t){super(t,8)}};o(BT,"RequestType8");var dT=BT;tr.RequestType8=dT;var OT=class OT extends eo{constructor(t){super(t,9)}};o(OT,"RequestType9");var hT=OT;tr.RequestType9=hT;var FT=class FT extends eo{constructor(t,r=Df.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(FT,"NotificationType");var gT=FT;tr.NotificationType=gT;var MT=class MT extends eo{constructor(t){super(t,0)}};o(MT,"NotificationType0");var mT=MT;tr.NotificationType0=mT;var UT=class UT extends eo{constructor(t,r=Df.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};o(UT,"NotificationType1");var pT=UT;tr.NotificationType1=pT;var qT=class qT extends eo{constructor(t){super(t,2)}};o(qT,"NotificationType2");var yT=qT;tr.NotificationType2=yT;var jT=class jT extends eo{constructor(t){super(t,3)}};o(jT,"NotificationType3");var vT=jT;tr.NotificationType3=vT;var $T=class $T extends eo{constructor(t){super(t,4)}};o($T,"NotificationType4");var xT=$T;tr.NotificationType4=xT;var HT=class HT extends eo{constructor(t){super(t,5)}};o(HT,"NotificationType5");var _T=HT;tr.NotificationType5=_T;var VT=class VT extends eo{constructor(t){super(t,6)}};o(VT,"NotificationType6");var bT=VT;tr.NotificationType6=bT;var zT=class zT extends eo{constructor(t){super(t,7)}};o(zT,"NotificationType7");var CT=zT;tr.NotificationType7=CT;var GT=class GT extends eo{constructor(t){super(t,8)}};o(GT,"NotificationType8");var ET=GT;tr.NotificationType8=ET;var KT=class KT extends eo{constructor(t){super(t,9)}};o(KT,"NotificationType9");var TT=KT;tr.NotificationType9=TT;var bB;(function(e){function t(s){let l=s;return l&&W2.string(l.method)&&(W2.string(l.id)||W2.number(l.id))}o(t,"isRequest"),e.isRequest=t;function r(s){let l=s;return l&&W2.string(l.method)&&s.id===void 0}o(r,"isNotification"),e.isNotification=r;function n(s){let l=s;return l&&(l.result!==void 0||!!l.error)&&(W2.string(l.id)||W2.number(l.id)||l.id===null)}o(n,"isResponse"),e.isResponse=n})(bB||(tr.Message=bB={}))});var ZT=ot(U5=>{"use strict";var CB;Object.defineProperty(U5,"__esModule",{value:!0});U5.LRUCache=U5.LinkedMap=U5.Touch=void 0;var ef;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(ef||(U5.Touch=ef={}));var JT=class JT{constructor(){this[CB]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,r=ef.None){let n=this._map.get(t);if(n)return r!==ef.None&&this.touch(n,r),n.value}set(t,r,n=ef.None){let s=this._map.get(t);if(s)s.value=r,n!==ef.None&&this.touch(s,n);else{switch(s={key:t,value:r,next:void 0,previous:void 0},n){case ef.None:this.addItemLast(s);break;case ef.First:this.addItemFirst(s);break;case ef.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(t,s),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,s=this._head;for(;s;){if(r?t.bind(r)(s.value,s.key,this):t(s.value,s.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return n}[(CB=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==ef.First&&r!==ef.Last)){if(r===ef.First){if(t===this._head)return;let n=t.next,s=t.previous;t===this._tail?(s.next=void 0,this._tail=s):(n.previous=s,s.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===ef.Last){if(t===this._tail)return;let n=t.next,s=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=s,s.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};o(JT,"LinkedMap");var Jy=JT;U5.LinkedMap=Jy;var XT=class XT extends Jy{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=ef.AsNew){return super.get(t,r)}peek(t){return super.get(t,ef.None)}set(t,r){return super.set(t,r,ef.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};o(XT,"LRUCache");var YT=XT;U5.LRUCache=YT});var TB=ot(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0});Xy.Disposable=void 0;var EB;(function(e){function t(r){return{dispose:r}}o(t,"create"),e.create=t})(EB||(Xy.Disposable=EB={}))});var q5=ot(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});var QT;function eS(){if(QT===void 0)throw new Error("No runtime abstraction layer installed");return QT}o(eS,"RAL");(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");QT=r}o(t,"install"),e.install=t})(eS||(eS={}));tS.default=eS});var s8=ot(i8=>{"use strict";Object.defineProperty(i8,"__esModule",{value:!0});i8.Emitter=i8.Event=void 0;var qJ=q5(),SB;(function(e){let t={dispose(){}};e.None=function(){return t}})(SB||(i8.Event=SB={}));var nS=class nS{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let s=0,l=this._callbacks.length;s<l;s++)if(this._callbacks[s]===t)if(this._contexts[s]===r){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),s=this._contexts.slice(0);for(let l=0,a=n.length;l<a;l++)try{r.push(n[l].apply(s[l],t))}catch(f){(0,qJ.default)().console.error(f)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};o(nS,"CallbackList");var rS=nS,Qy=class Qy{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new rS),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let s={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),s.dispose=Qy._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(s),s}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};o(Qy,"Emitter");var Zy=Qy;i8.Emitter=Zy;Zy._noop=function(){}});var rv=ot(o8=>{"use strict";Object.defineProperty(o8,"__esModule",{value:!0});o8.CancellationTokenSource=o8.CancellationToken=void 0;var jJ=q5(),$J=r8(),iS=s8(),ev;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:iS.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:iS.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||$J.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}o(t,"is"),e.is=t})(ev||(o8.CancellationToken=ev={}));var HJ=Object.freeze(function(e,t){let r=(0,jJ.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),oS=class oS{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?HJ:(this._emitter||(this._emitter=new iS.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};o(oS,"MutableToken");var tv=oS,aS=class aS{get token(){return this._token||(this._token=new tv),this._token}cancel(){this._token?this._token.cancel():this._token=ev.Cancelled}dispose(){this._token?this._token instanceof tv&&this._token.dispose():this._token=ev.None}};o(aS,"CancellationTokenSource");var sS=aS;o8.CancellationTokenSource=sS});var wB=ot(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});a8.SharedArrayReceiverStrategy=a8.SharedArraySenderStrategy=void 0;var VJ=rv(),Um;(function(e){e.Continue=0,e.Cancelled=1})(Um||(Um={}));var dS=class dS{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Um.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let s=new Int32Array(n,0,1);Atomics.store(s,0,Um.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};o(dS,"SharedArraySenderStrategy");var lS=dS;a8.SharedArraySenderStrategy=lS;var hS=class hS{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Um.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};o(hS,"SharedArrayBufferCancellationToken");var fS=hS,gS=class gS{constructor(t){this.token=new fS(t)}cancel(){}dispose(){}};o(gS,"SharedArrayBufferCancellationTokenSource");var cS=gS,mS=class mS{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new VJ.CancellationTokenSource:new cS(r)}};o(mS,"SharedArrayReceiverStrategy");var uS=mS;a8.SharedArrayReceiverStrategy=uS});var vS=ot(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.Semaphore=void 0;var zJ=q5(),yS=class yS{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,zJ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};o(yS,"Semaphore");var pS=yS;nv.Semaphore=pS});var AB=ot(j5=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.ReadableStreamMessageReader=j5.AbstractMessageReader=j5.MessageReader=void 0;var _S=q5(),l8=r8(),xS=s8(),GJ=vS(),IB;(function(e){function t(r){let n=r;return n&&l8.func(n.listen)&&l8.func(n.dispose)&&l8.func(n.onError)&&l8.func(n.onClose)&&l8.func(n.onPartialMessage)}o(t,"is"),e.is=t})(IB||(j5.MessageReader=IB={}));var ES=class ES{constructor(){this.errorEmitter=new xS.Emitter,this.closeEmitter=new xS.Emitter,this.partialMessageEmitter=new xS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${l8.string(t.message)?t.message:"unknown"}`)}};o(ES,"AbstractMessageReader");var iv=ES;j5.AbstractMessageReader=iv;var bS;(function(e){function t(r){var u;let n,s,l,a=new Map,f,c=new Map;if(r===void 0||typeof r=="string")n=r!=null?r:"utf-8";else{if(n=(u=r.charset)!=null?u:"utf-8",r.contentDecoder!==void 0&&(l=r.contentDecoder,a.set(l.name,l)),r.contentDecoders!==void 0)for(let d of r.contentDecoders)a.set(d.name,d);if(r.contentTypeDecoder!==void 0&&(f=r.contentTypeDecoder,c.set(f.name,f)),r.contentTypeDecoders!==void 0)for(let d of r.contentTypeDecoders)c.set(d.name,d)}return f===void 0&&(f=(0,_S.default)().applicationJson.decoder,c.set(f.name,f)),{charset:n,contentDecoder:l,contentDecoders:a,contentTypeDecoder:f,contentTypeDecoders:c}}o(t,"fromOptions"),e.fromOptions=t})(bS||(bS={}));var TS=class TS extends iv{constructor(t,r){super(),this.readable=t,this.options=bS.fromOptions(r),this.buffer=(0,_S.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new GJ.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let s=n.get("content-length");if(!s){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let l=parseInt(s);if(isNaN(l)){this.fireError(new Error(`Content-Length value must be a number. Got ${s}`));return}this.nextMessageLength=l}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,s=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(s)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,_S.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};o(TS,"ReadableStreamMessageReader");var CS=TS;j5.ReadableStreamMessageReader=CS});var DB=ot($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.WriteableStreamMessageWriter=$5.AbstractMessageWriter=$5.MessageWriter=void 0;var PB=q5(),qm=r8(),KJ=vS(),RB=s8(),WJ="Content-Length: ",kB=`\r
`,NB;(function(e){function t(r){let n=r;return n&&qm.func(n.dispose)&&qm.func(n.onClose)&&qm.func(n.onError)&&qm.func(n.write)}o(t,"is"),e.is=t})(NB||($5.MessageWriter=NB={}));var IS=class IS{constructor(){this.errorEmitter=new RB.Emitter,this.closeEmitter=new RB.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${qm.string(t.message)?t.message:"unknown"}`)}};o(IS,"AbstractMessageWriter");var sv=IS;$5.AbstractMessageWriter=sv;var SS;(function(e){function t(r){var n,s;return r===void 0||typeof r=="string"?{charset:r!=null?r:"utf-8",contentTypeEncoder:(0,PB.default)().applicationJson.encoder}:{charset:(n=r.charset)!=null?n:"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:(s=r.contentTypeEncoder)!=null?s:(0,PB.default)().applicationJson.encoder}}o(t,"fromOptions"),e.fromOptions=t})(SS||(SS={}));var AS=class AS extends sv{constructor(t,r){super(),this.writable=t,this.options=SS.fromOptions(r),this.errorCount=0,this.writeSemaphore=new KJ.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let s=[];return s.push(WJ,n.byteLength.toString(),kB),s.push(kB),this.doWrite(t,s,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(s){return this.handleError(s,t),Promise.reject(s)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};o(AS,"WriteableStreamMessageWriter");var wS=AS;$5.WriteableStreamMessageWriter=wS});var LB=ot(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.AbstractMessageBuffer=void 0;var YJ=13,JJ=10,XJ=`\r
`,RS=class RS{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,s=0,l=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(s=0;s<u.length;){switch(u[s]){case YJ:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case JJ:switch(r){case 1:r=2;break;case 3:r=4,s++;break e;default:r=0}break;default:r=0}s++}l+=u.byteLength,n++}if(r!==4)return;let a=this._read(l+s),f=new Map,c=this.toString(a,"ascii").split(XJ);if(c.length<2)return f;for(let u=0;u<c.length-2;u++){let d=c[u],h=d.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${d}`);let p=d.substr(0,h),g=d.substr(h+1).trim();f.set(t?p.toLowerCase():p,g)}return f}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let l=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(l)}if(this._chunks[0].byteLength>t){let l=this._chunks[0],a=this.asNative(l,t);return this._chunks[0]=l.slice(t),this._totalLength-=t,a}let r=this.allocNative(t),n=0,s=0;for(;t>0;){let l=this._chunks[s];if(l.byteLength>t){let a=l.slice(0,t);r.set(a,n),n+=t,this._chunks[s]=l.slice(t),this._totalLength-=t,t-=t}else r.set(l,n),n+=l.byteLength,this._chunks.shift(),this._totalLength-=l.byteLength,t-=l.byteLength}return r}};o(RS,"AbstractMessageBuffer");var PS=RS;ov.AbstractMessageBuffer=PS});var UB=ot(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.createMessageConnection=Nn.ConnectionOptions=Nn.MessageStrategy=Nn.CancellationStrategy=Nn.CancellationSenderStrategy=Nn.CancellationReceiverStrategy=Nn.RequestCancellationReceiverStrategy=Nn.IdCancellationReceiverStrategy=Nn.ConnectionStrategy=Nn.ConnectionError=Nn.ConnectionErrors=Nn.LogTraceNotification=Nn.SetTraceNotification=Nn.TraceFormat=Nn.TraceValues=Nn.Trace=Nn.NullLogger=Nn.ProgressType=Nn.ProgressToken=void 0;var BB=q5(),Eo=r8(),vn=WT(),OB=ZT(),jm=s8(),kS=rv(),Vm;(function(e){e.type=new vn.NotificationType("$/cancelRequest")})(Vm||(Vm={}));var NS;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}o(t,"is"),e.is=t})(NS||(Nn.ProgressToken=NS={}));var $m;(function(e){e.type=new vn.NotificationType("$/progress")})($m||($m={}));var US=class US{constructor(){}};o(US,"ProgressType");var DS=US;Nn.ProgressType=DS;var LS;(function(e){function t(r){return Eo.func(r)}o(t,"is"),e.is=t})(LS||(LS={}));Nn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Wi;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Wi||(Nn.Trace=Wi={}));var FB;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(FB||(Nn.TraceValues=FB={}));(function(e){function t(n){if(!Eo.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}o(t,"fromString"),e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}o(r,"toString"),e.toString=r})(Wi||(Nn.Trace=Wi={}));var nc;(function(e){e.Text="text",e.JSON="json"})(nc||(Nn.TraceFormat=nc={}));(function(e){function t(r){return Eo.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}o(t,"fromString"),e.fromString=t})(nc||(Nn.TraceFormat=nc={}));var BS;(function(e){e.type=new vn.NotificationType("$/setTrace")})(BS||(Nn.SetTraceNotification=BS={}));var av;(function(e){e.type=new vn.NotificationType("$/logTrace")})(av||(Nn.LogTraceNotification=av={}));var Hm;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Hm||(Nn.ConnectionErrors=Hm={}));var hv=class hv extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,hv.prototype)}};o(hv,"ConnectionError");var f8=hv;Nn.ConnectionError=f8;var OS;(function(e){function t(r){let n=r;return n&&Eo.func(n.cancelUndispatched)}o(t,"is"),e.is=t})(OS||(Nn.ConnectionStrategy=OS={}));var lv;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&Eo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Eo.func(n.dispose))}o(t,"is"),e.is=t})(lv||(Nn.IdCancellationReceiverStrategy=lv={}));var MS;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&Eo.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Eo.func(n.dispose))}o(t,"is"),e.is=t})(MS||(Nn.RequestCancellationReceiverStrategy=MS={}));var fv;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new kS.CancellationTokenSource}});function t(r){return lv.is(r)||MS.is(r)}o(t,"is"),e.is=t})(fv||(Nn.CancellationReceiverStrategy=fv={}));var cv;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Vm.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&Eo.func(n.sendCancellation)&&Eo.func(n.cleanup)}o(t,"is"),e.is=t})(cv||(Nn.CancellationSenderStrategy=cv={}));var uv;(function(e){e.Message=Object.freeze({receiver:fv.Message,sender:cv.Message});function t(r){let n=r;return n&&fv.is(n.receiver)&&cv.is(n.sender)}o(t,"is"),e.is=t})(uv||(Nn.CancellationStrategy=uv={}));var dv;(function(e){function t(r){let n=r;return n&&Eo.func(n.handleMessage)}o(t,"is"),e.is=t})(dv||(Nn.MessageStrategy=dv={}));var MB;(function(e){function t(r){let n=r;return n&&(uv.is(n.cancellationStrategy)||OS.is(n.connectionStrategy)||dv.is(n.messageStrategy))}o(t,"is"),e.is=t})(MB||(Nn.ConnectionOptions=MB={}));var p1;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(p1||(p1={}));function ZJ(e,t,r,n){let s=r!==void 0?r:Nn.NullLogger,l=0,a=0,f=0,c="2.0",u,d=new Map,h,p=new Map,g=new Map,y,_=new OB.LinkedMap,S=new Map,w=new Set,P=new Map,D=Wi.Off,L=nc.Text,k,B=p1.New,ne=new jm.Emitter,ce=new jm.Emitter,Ge=new jm.Emitter,st=new jm.Emitter,Qe=new jm.Emitter,Ft=n&&n.cancellationStrategy?n.cancellationStrategy:uv.Message;function ke(be){if(be===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+be.toString()}o(ke,"createRequestQueueKey");function pe(be){return be===null?"res-unknown-"+(++f).toString():"res-"+be.toString()}o(pe,"createResponseQueueKey");function Pt(){return"not-"+(++a).toString()}o(Pt,"createNotificationQueueKey");function Ht(be,j){vn.Message.isRequest(j)?be.set(ke(j.id),j):vn.Message.isResponse(j)?be.set(pe(j.id),j):be.set(Pt(),j)}o(Ht,"addMessageToQueue");function $t(be){}o($t,"cancelUndispatched");function d0(){return B===p1.Listening}o(d0,"isListening");function rt(){return B===p1.Closed}o(rt,"isClosed");function Nt(){return B===p1.Disposed}o(Nt,"isDisposed");function de(){(B===p1.New||B===p1.Listening)&&(B=p1.Closed,ce.fire(void 0))}o(de,"closeHandler");function xe(be){ne.fire([be,void 0,void 0])}o(xe,"readErrorHandler");function r0(be){ne.fire(be)}o(r0,"writeErrorHandler"),e.onClose(de),e.onError(xe),t.onClose(de),t.onError(r0);function T0(){y||_.size===0||(y=(0,BB.default)().timer.setImmediate(()=>{y=void 0,Zt()}))}o(T0,"triggerMessageQueue");function v0(be){vn.Message.isRequest(be)?ge(be):vn.Message.isNotification(be)?et(be):vn.Message.isResponse(be)?y0(be):m0(be)}o(v0,"handleMessage");function Zt(){if(_.size===0)return;let be=_.shift();try{let j=n==null?void 0:n.messageStrategy;dv.is(j)?j.handleMessage(be,v0):v0(be)}finally{T0()}}o(Zt,"processMessageQueue");let G0=o(be=>{try{if(vn.Message.isNotification(be)&&be.method===Vm.type.method){let j=be.params.id,H=ke(j),x0=_.get(H);if(vn.Message.isRequest(x0)){let ui=n==null?void 0:n.connectionStrategy,hi=ui&&ui.cancelUndispatched?ui.cancelUndispatched(x0,$t):void 0;if(hi&&(hi.error!==void 0||hi.result!==void 0)){_.delete(H),P.delete(j),hi.id=x0.id,$r(hi,be.method,Date.now()),t.write(hi).catch(()=>s.error("Sending response for canceled message failed."));return}}let Jr=P.get(j);if(Jr!==void 0){Jr.cancel(),se(be);return}else w.add(j)}Ht(_,be)}finally{T0()}},"callback");function ge(be){var ki;if(Nt())return;function j(On,Mi,di){let Oi={jsonrpc:c,id:be.id};On instanceof vn.ResponseError?Oi.error=On.toJson():Oi.result=On===void 0?null:On,$r(Oi,Mi,di),t.write(Oi).catch(()=>s.error("Sending response failed."))}o(j,"reply");function H(On,Mi,di){let Oi={jsonrpc:c,id:be.id,error:On.toJson()};$r(Oi,Mi,di),t.write(Oi).catch(()=>s.error("Sending response failed."))}o(H,"replyError");function x0(On,Mi,di){On===void 0&&(On=null);let Oi={jsonrpc:c,id:be.id,result:On};$r(Oi,Mi,di),t.write(Oi).catch(()=>s.error("Sending response failed."))}o(x0,"replySuccess"),er(be);let Jr=d.get(be.method),ui,hi;Jr&&(ui=Jr.type,hi=Jr.handler);let Qr=Date.now();if(hi||u){let On=(ki=be.id)!=null?ki:String(Date.now()),Mi=lv.is(Ft.receiver)?Ft.receiver.createCancellationTokenSource(On):Ft.receiver.createCancellationTokenSource(be);be.id!==null&&w.has(be.id)&&Mi.cancel(),be.id!==null&&P.set(On,Mi);try{let di;if(hi)if(be.params===void 0){if(ui!==void 0&&ui.numberOfParams!==0){H(new vn.ResponseError(vn.ErrorCodes.InvalidParams,`Request ${be.method} defines ${ui.numberOfParams} params but received none.`),be.method,Qr);return}di=hi(Mi.token)}else if(Array.isArray(be.params)){if(ui!==void 0&&ui.parameterStructures===vn.ParameterStructures.byName){H(new vn.ResponseError(vn.ErrorCodes.InvalidParams,`Request ${be.method} defines parameters by name but received parameters by position`),be.method,Qr);return}di=hi(...be.params,Mi.token)}else{if(ui!==void 0&&ui.parameterStructures===vn.ParameterStructures.byPosition){H(new vn.ResponseError(vn.ErrorCodes.InvalidParams,`Request ${be.method} defines parameters by position but received parameters by name`),be.method,Qr);return}di=hi(be.params,Mi.token)}else u&&(di=u(be.method,be.params,Mi.token));let Oi=di;di?Oi.then?Oi.then(X0=>{P.delete(On),j(X0,be.method,Qr)},X0=>{P.delete(On),X0 instanceof vn.ResponseError?H(X0,be.method,Qr):X0&&Eo.string(X0.message)?H(new vn.ResponseError(vn.ErrorCodes.InternalError,`Request ${be.method} failed with message: ${X0.message}`),be.method,Qr):H(new vn.ResponseError(vn.ErrorCodes.InternalError,`Request ${be.method} failed unexpectedly without providing any details.`),be.method,Qr)}):(P.delete(On),j(di,be.method,Qr)):(P.delete(On),x0(di,be.method,Qr))}catch(di){P.delete(On),di instanceof vn.ResponseError?j(di,be.method,Qr):di&&Eo.string(di.message)?H(new vn.ResponseError(vn.ErrorCodes.InternalError,`Request ${be.method} failed with message: ${di.message}`),be.method,Qr):H(new vn.ResponseError(vn.ErrorCodes.InternalError,`Request ${be.method} failed unexpectedly without providing any details.`),be.method,Qr)}}else H(new vn.ResponseError(vn.ErrorCodes.MethodNotFound,`Unhandled method ${be.method}`),be.method,Qr)}o(ge,"handleRequest");function y0(be){if(!Nt())if(be.id===null)be.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(be.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let j=be.id,H=S.get(j);if(Kr(be,H),H!==void 0){S.delete(j);try{if(be.error){let x0=be.error;H.reject(new vn.ResponseError(x0.code,x0.message,x0.data))}else if(be.result!==void 0)H.resolve(be.result);else throw new Error("Should never happen.")}catch(x0){x0.message?s.error(`Response handler '${H.method}' failed with message: ${x0.message}`):s.error(`Response handler '${H.method}' failed unexpectedly.`)}}}}o(y0,"handleResponse");function et(be){if(Nt())return;let j,H;if(be.method===Vm.type.method){let x0=be.params.id;w.delete(x0),se(be);return}else{let x0=p.get(be.method);x0&&(H=x0.handler,j=x0.type)}if(H||h)try{if(se(be),H)if(be.params===void 0)j!==void 0&&j.numberOfParams!==0&&j.parameterStructures!==vn.ParameterStructures.byName&&s.error(`Notification ${be.method} defines ${j.numberOfParams} params but received none.`),H();else if(Array.isArray(be.params)){let x0=be.params;be.method===$m.type.method&&x0.length===2&&NS.is(x0[0])?H({token:x0[0],value:x0[1]}):(j!==void 0&&(j.parameterStructures===vn.ParameterStructures.byName&&s.error(`Notification ${be.method} defines parameters by name but received parameters by position`),j.numberOfParams!==be.params.length&&s.error(`Notification ${be.method} defines ${j.numberOfParams} params but received ${x0.length} arguments`)),H(...x0))}else j!==void 0&&j.parameterStructures===vn.ParameterStructures.byPosition&&s.error(`Notification ${be.method} defines parameters by position but received parameters by name`),H(be.params);else h&&h(be.method,be.params)}catch(x0){x0.message?s.error(`Notification handler '${be.method}' failed with message: ${x0.message}`):s.error(`Notification handler '${be.method}' failed unexpectedly.`)}else Ge.fire(be)}o(et,"handleNotification");function m0(be){if(!be){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(be,null,4)}`);let j=be;if(Eo.string(j.id)||Eo.number(j.id)){let H=j.id,x0=S.get(H);x0&&x0.reject(new Error("The received response has neither a result nor an error property."))}}o(m0,"handleInvalidMessage");function h0(be){if(be!=null)switch(D){case Wi.Verbose:return JSON.stringify(be,null,4);case Wi.Compact:return JSON.stringify(be);default:return}}o(h0,"stringifyTrace");function w0(be){if(!(D===Wi.Off||!k))if(L===nc.Text){let j;(D===Wi.Verbose||D===Wi.Compact)&&be.params&&(j=`Params: ${h0(be.params)}

`),k.log(`Sending request '${be.method} - (${be.id})'.`,j)}else U0("send-request",be)}o(w0,"traceSendingRequest");function K0(be){if(!(D===Wi.Off||!k))if(L===nc.Text){let j;(D===Wi.Verbose||D===Wi.Compact)&&(be.params?j=`Params: ${h0(be.params)}

`:j=`No parameters provided.

`),k.log(`Sending notification '${be.method}'.`,j)}else U0("send-notification",be)}o(K0,"traceSendingNotification");function $r(be,j,H){if(!(D===Wi.Off||!k))if(L===nc.Text){let x0;(D===Wi.Verbose||D===Wi.Compact)&&(be.error&&be.error.data?x0=`Error data: ${h0(be.error.data)}

`:be.result?x0=`Result: ${h0(be.result)}

`:be.error===void 0&&(x0=`No result returned.

`)),k.log(`Sending response '${j} - (${be.id})'. Processing request took ${Date.now()-H}ms`,x0)}else U0("send-response",be)}o($r,"traceSendingResponse");function er(be){if(!(D===Wi.Off||!k))if(L===nc.Text){let j;(D===Wi.Verbose||D===Wi.Compact)&&be.params&&(j=`Params: ${h0(be.params)}

`),k.log(`Received request '${be.method} - (${be.id})'.`,j)}else U0("receive-request",be)}o(er,"traceReceivedRequest");function se(be){if(!(D===Wi.Off||!k||be.method===av.type.method))if(L===nc.Text){let j;(D===Wi.Verbose||D===Wi.Compact)&&(be.params?j=`Params: ${h0(be.params)}

`:j=`No parameters provided.

`),k.log(`Received notification '${be.method}'.`,j)}else U0("receive-notification",be)}o(se,"traceReceivedNotification");function Kr(be,j){if(!(D===Wi.Off||!k))if(L===nc.Text){let H;if((D===Wi.Verbose||D===Wi.Compact)&&(be.error&&be.error.data?H=`Error data: ${h0(be.error.data)}

`:be.result?H=`Result: ${h0(be.result)}

`:be.error===void 0&&(H=`No result returned.

`)),j){let x0=be.error?` Request failed: ${be.error.message} (${be.error.code}).`:"";k.log(`Received response '${j.method} - (${be.id})' in ${Date.now()-j.timerStart}ms.${x0}`,H)}else k.log(`Received response ${be.id} without active response promise.`,H)}else U0("receive-response",be)}o(Kr,"traceReceivedResponse");function U0(be,j){if(!k||D===Wi.Off)return;let H={isLSPMessage:!0,type:be,message:j,timestamp:Date.now()};k.log(H)}o(U0,"logLSPMessage");function es(){if(rt())throw new f8(Hm.Closed,"Connection is closed.");if(Nt())throw new f8(Hm.Disposed,"Connection is disposed.")}o(es,"throwIfClosedOrDisposed");function Li(){if(d0())throw new f8(Hm.AlreadyListening,"Connection is already listening")}o(Li,"throwIfListening");function ds(){if(!d0())throw new Error("Call listen() first.")}o(ds,"throwIfNotListening");function Bi(be){return be===void 0?null:be}o(Bi,"undefinedToNull");function Ra(be){if(be!==null)return be}o(Ra,"nullToUndefined");function Ga(be){return be!=null&&!Array.isArray(be)&&typeof be=="object"}o(Ga,"isNamedParam");function yl(be,j){switch(be){case vn.ParameterStructures.auto:return Ga(j)?Ra(j):[Bi(j)];case vn.ParameterStructures.byName:if(!Ga(j))throw new Error("Received parameters by name but param is not an object literal.");return Ra(j);case vn.ParameterStructures.byPosition:return[Bi(j)];default:throw new Error(`Unknown parameter structure ${be.toString()}`)}}o(yl,"computeSingleParam");function Ka(be,j){let H,x0=be.numberOfParams;switch(x0){case 0:H=void 0;break;case 1:H=yl(be.parameterStructures,j[0]);break;default:H=[];for(let Jr=0;Jr<j.length&&Jr<x0;Jr++)H.push(Bi(j[Jr]));if(j.length<x0)for(let Jr=j.length;Jr<x0;Jr++)H.push(null);break}return H}o(Ka,"computeMessageParams");let mn={sendNotification:(be,...j)=>{es();let H,x0;if(Eo.string(be)){H=be;let ui=j[0],hi=0,Qr=vn.ParameterStructures.auto;vn.ParameterStructures.is(ui)&&(hi=1,Qr=ui);let ki=j.length,On=ki-hi;switch(On){case 0:x0=void 0;break;case 1:x0=yl(Qr,j[hi]);break;default:if(Qr===vn.ParameterStructures.byName)throw new Error(`Received ${On} parameters for 'by Name' notification parameter structure.`);x0=j.slice(hi,ki).map(Mi=>Bi(Mi));break}}else{let ui=j;H=be.method,x0=Ka(be,ui)}let Jr={jsonrpc:c,method:H,params:x0};return K0(Jr),t.write(Jr).catch(ui=>{throw s.error("Sending notification failed."),ui})},onNotification:(be,j)=>{es();let H;return Eo.func(be)?h=be:j&&(Eo.string(be)?(H=be,p.set(be,{type:void 0,handler:j})):(H=be.method,p.set(be.method,{type:be,handler:j}))),{dispose:()=>{H!==void 0?p.delete(H):h=void 0}}},onProgress:(be,j,H)=>{if(g.has(j))throw new Error(`Progress handler for token ${j} already registered`);return g.set(j,H),{dispose:()=>{g.delete(j)}}},sendProgress:(be,j,H)=>mn.sendNotification($m.type,{token:j,value:H}),onUnhandledProgress:st.event,sendRequest:(be,...j)=>{es(),ds();let H,x0,Jr;if(Eo.string(be)){H=be;let ki=j[0],On=j[j.length-1],Mi=0,di=vn.ParameterStructures.auto;vn.ParameterStructures.is(ki)&&(Mi=1,di=ki);let Oi=j.length;kS.CancellationToken.is(On)&&(Oi=Oi-1,Jr=On);let X0=Oi-Mi;switch(X0){case 0:x0=void 0;break;case 1:x0=yl(di,j[Mi]);break;default:if(di===vn.ParameterStructures.byName)throw new Error(`Received ${X0} parameters for 'by Name' request parameter structure.`);x0=j.slice(Mi,Oi).map(Hf=>Bi(Hf));break}}else{let ki=j;H=be.method,x0=Ka(be,ki);let On=be.numberOfParams;Jr=kS.CancellationToken.is(ki[On])?ki[On]:void 0}let ui=l++,hi;Jr&&(hi=Jr.onCancellationRequested(()=>{let ki=Ft.sender.sendCancellation(mn,ui);return ki===void 0?(s.log(`Received no promise from cancellation strategy when cancelling id ${ui}`),Promise.resolve()):ki.catch(()=>{s.log(`Sending cancellation messages for id ${ui} failed`)})}));let Qr={jsonrpc:c,id:ui,method:H,params:x0};return w0(Qr),typeof Ft.sender.enableCancellation=="function"&&Ft.sender.enableCancellation(Qr),new Promise(async(ki,On)=>{let Mi=o(X0=>{ki(X0),Ft.sender.cleanup(ui),hi==null||hi.dispose()},"resolveWithCleanup"),di=o(X0=>{On(X0),Ft.sender.cleanup(ui),hi==null||hi.dispose()},"rejectWithCleanup"),Oi={method:H,timerStart:Date.now(),resolve:Mi,reject:di};try{await t.write(Qr),S.set(ui,Oi)}catch(X0){throw s.error("Sending request failed."),Oi.reject(new vn.ResponseError(vn.ErrorCodes.MessageWriteError,X0.message?X0.message:"Unknown reason")),X0}})},onRequest:(be,j)=>{es();let H=null;return LS.is(be)?(H=void 0,u=be):Eo.string(be)?(H=null,j!==void 0&&(H=be,d.set(be,{handler:j,type:void 0}))):j!==void 0&&(H=be.method,d.set(be.method,{type:be,handler:j})),{dispose:()=>{H!==null&&(H!==void 0?d.delete(H):u=void 0)}}},hasPendingResponse:()=>S.size>0,trace:async(be,j,H)=>{let x0=!1,Jr=nc.Text;H!==void 0&&(Eo.boolean(H)?x0=H:(x0=H.sendNotification||!1,Jr=H.traceFormat||nc.Text)),D=be,L=Jr,D===Wi.Off?k=void 0:k=j,x0&&!rt()&&!Nt()&&await mn.sendNotification(BS.type,{value:Wi.toString(be)})},onError:ne.event,onClose:ce.event,onUnhandledNotification:Ge.event,onDispose:Qe.event,end:()=>{t.end()},dispose:()=>{if(Nt())return;B=p1.Disposed,Qe.fire(void 0);let be=new vn.ResponseError(vn.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let j of S.values())j.reject(be);S=new Map,P=new Map,w=new Set,_=new OB.LinkedMap,Eo.func(t.dispose)&&t.dispose(),Eo.func(e.dispose)&&e.dispose()},listen:()=>{es(),Li(),B=p1.Listening,e.listen(G0)},inspect:()=>{(0,BB.default)().console.log("inspect")}};return mn.onNotification(av.type,be=>{if(D===Wi.Off||!k)return;let j=D===Wi.Verbose||D===Wi.Compact;k.log(be.message,j?be.verbose:void 0)}),mn.onNotification($m.type,be=>{let j=g.get(be.token);j?j(be.value):st.fire(be)}),mn}o(ZJ,"createMessageConnection");Nn.createMessageConnection=ZJ});var gv=ot(l0=>{"use strict";Object.defineProperty(l0,"__esModule",{value:!0});l0.ProgressType=l0.ProgressToken=l0.createMessageConnection=l0.NullLogger=l0.ConnectionOptions=l0.ConnectionStrategy=l0.AbstractMessageBuffer=l0.WriteableStreamMessageWriter=l0.AbstractMessageWriter=l0.MessageWriter=l0.ReadableStreamMessageReader=l0.AbstractMessageReader=l0.MessageReader=l0.SharedArrayReceiverStrategy=l0.SharedArraySenderStrategy=l0.CancellationToken=l0.CancellationTokenSource=l0.Emitter=l0.Event=l0.Disposable=l0.LRUCache=l0.Touch=l0.LinkedMap=l0.ParameterStructures=l0.NotificationType9=l0.NotificationType8=l0.NotificationType7=l0.NotificationType6=l0.NotificationType5=l0.NotificationType4=l0.NotificationType3=l0.NotificationType2=l0.NotificationType1=l0.NotificationType0=l0.NotificationType=l0.ErrorCodes=l0.ResponseError=l0.RequestType9=l0.RequestType8=l0.RequestType7=l0.RequestType6=l0.RequestType5=l0.RequestType4=l0.RequestType3=l0.RequestType2=l0.RequestType1=l0.RequestType0=l0.RequestType=l0.Message=l0.RAL=void 0;l0.MessageStrategy=l0.CancellationStrategy=l0.CancellationSenderStrategy=l0.CancellationReceiverStrategy=l0.ConnectionError=l0.ConnectionErrors=l0.LogTraceNotification=l0.SetTraceNotification=l0.TraceFormat=l0.TraceValues=l0.Trace=void 0;var ps=WT();Object.defineProperty(l0,"Message",{enumerable:!0,get:function(){return ps.Message}});Object.defineProperty(l0,"RequestType",{enumerable:!0,get:function(){return ps.RequestType}});Object.defineProperty(l0,"RequestType0",{enumerable:!0,get:function(){return ps.RequestType0}});Object.defineProperty(l0,"RequestType1",{enumerable:!0,get:function(){return ps.RequestType1}});Object.defineProperty(l0,"RequestType2",{enumerable:!0,get:function(){return ps.RequestType2}});Object.defineProperty(l0,"RequestType3",{enumerable:!0,get:function(){return ps.RequestType3}});Object.defineProperty(l0,"RequestType4",{enumerable:!0,get:function(){return ps.RequestType4}});Object.defineProperty(l0,"RequestType5",{enumerable:!0,get:function(){return ps.RequestType5}});Object.defineProperty(l0,"RequestType6",{enumerable:!0,get:function(){return ps.RequestType6}});Object.defineProperty(l0,"RequestType7",{enumerable:!0,get:function(){return ps.RequestType7}});Object.defineProperty(l0,"RequestType8",{enumerable:!0,get:function(){return ps.RequestType8}});Object.defineProperty(l0,"RequestType9",{enumerable:!0,get:function(){return ps.RequestType9}});Object.defineProperty(l0,"ResponseError",{enumerable:!0,get:function(){return ps.ResponseError}});Object.defineProperty(l0,"ErrorCodes",{enumerable:!0,get:function(){return ps.ErrorCodes}});Object.defineProperty(l0,"NotificationType",{enumerable:!0,get:function(){return ps.NotificationType}});Object.defineProperty(l0,"NotificationType0",{enumerable:!0,get:function(){return ps.NotificationType0}});Object.defineProperty(l0,"NotificationType1",{enumerable:!0,get:function(){return ps.NotificationType1}});Object.defineProperty(l0,"NotificationType2",{enumerable:!0,get:function(){return ps.NotificationType2}});Object.defineProperty(l0,"NotificationType3",{enumerable:!0,get:function(){return ps.NotificationType3}});Object.defineProperty(l0,"NotificationType4",{enumerable:!0,get:function(){return ps.NotificationType4}});Object.defineProperty(l0,"NotificationType5",{enumerable:!0,get:function(){return ps.NotificationType5}});Object.defineProperty(l0,"NotificationType6",{enumerable:!0,get:function(){return ps.NotificationType6}});Object.defineProperty(l0,"NotificationType7",{enumerable:!0,get:function(){return ps.NotificationType7}});Object.defineProperty(l0,"NotificationType8",{enumerable:!0,get:function(){return ps.NotificationType8}});Object.defineProperty(l0,"NotificationType9",{enumerable:!0,get:function(){return ps.NotificationType9}});Object.defineProperty(l0,"ParameterStructures",{enumerable:!0,get:function(){return ps.ParameterStructures}});var qS=ZT();Object.defineProperty(l0,"LinkedMap",{enumerable:!0,get:function(){return qS.LinkedMap}});Object.defineProperty(l0,"LRUCache",{enumerable:!0,get:function(){return qS.LRUCache}});Object.defineProperty(l0,"Touch",{enumerable:!0,get:function(){return qS.Touch}});var QJ=TB();Object.defineProperty(l0,"Disposable",{enumerable:!0,get:function(){return QJ.Disposable}});var qB=s8();Object.defineProperty(l0,"Event",{enumerable:!0,get:function(){return qB.Event}});Object.defineProperty(l0,"Emitter",{enumerable:!0,get:function(){return qB.Emitter}});var jB=rv();Object.defineProperty(l0,"CancellationTokenSource",{enumerable:!0,get:function(){return jB.CancellationTokenSource}});Object.defineProperty(l0,"CancellationToken",{enumerable:!0,get:function(){return jB.CancellationToken}});var $B=wB();Object.defineProperty(l0,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return $B.SharedArraySenderStrategy}});Object.defineProperty(l0,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return $B.SharedArrayReceiverStrategy}});var jS=AB();Object.defineProperty(l0,"MessageReader",{enumerable:!0,get:function(){return jS.MessageReader}});Object.defineProperty(l0,"AbstractMessageReader",{enumerable:!0,get:function(){return jS.AbstractMessageReader}});Object.defineProperty(l0,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return jS.ReadableStreamMessageReader}});var $S=DB();Object.defineProperty(l0,"MessageWriter",{enumerable:!0,get:function(){return $S.MessageWriter}});Object.defineProperty(l0,"AbstractMessageWriter",{enumerable:!0,get:function(){return $S.AbstractMessageWriter}});Object.defineProperty(l0,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return $S.WriteableStreamMessageWriter}});var eX=LB();Object.defineProperty(l0,"AbstractMessageBuffer",{enumerable:!0,get:function(){return eX.AbstractMessageBuffer}});var Nl=UB();Object.defineProperty(l0,"ConnectionStrategy",{enumerable:!0,get:function(){return Nl.ConnectionStrategy}});Object.defineProperty(l0,"ConnectionOptions",{enumerable:!0,get:function(){return Nl.ConnectionOptions}});Object.defineProperty(l0,"NullLogger",{enumerable:!0,get:function(){return Nl.NullLogger}});Object.defineProperty(l0,"createMessageConnection",{enumerable:!0,get:function(){return Nl.createMessageConnection}});Object.defineProperty(l0,"ProgressToken",{enumerable:!0,get:function(){return Nl.ProgressToken}});Object.defineProperty(l0,"ProgressType",{enumerable:!0,get:function(){return Nl.ProgressType}});Object.defineProperty(l0,"Trace",{enumerable:!0,get:function(){return Nl.Trace}});Object.defineProperty(l0,"TraceValues",{enumerable:!0,get:function(){return Nl.TraceValues}});Object.defineProperty(l0,"TraceFormat",{enumerable:!0,get:function(){return Nl.TraceFormat}});Object.defineProperty(l0,"SetTraceNotification",{enumerable:!0,get:function(){return Nl.SetTraceNotification}});Object.defineProperty(l0,"LogTraceNotification",{enumerable:!0,get:function(){return Nl.LogTraceNotification}});Object.defineProperty(l0,"ConnectionErrors",{enumerable:!0,get:function(){return Nl.ConnectionErrors}});Object.defineProperty(l0,"ConnectionError",{enumerable:!0,get:function(){return Nl.ConnectionError}});Object.defineProperty(l0,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Nl.CancellationReceiverStrategy}});Object.defineProperty(l0,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Nl.CancellationSenderStrategy}});Object.defineProperty(l0,"CancellationStrategy",{enumerable:!0,get:function(){return Nl.CancellationStrategy}});Object.defineProperty(l0,"MessageStrategy",{enumerable:!0,get:function(){return Nl.MessageStrategy}});var tX=q5();l0.RAL=tX.default});var zB=ot(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});var HB=require("util"),ld=gv(),pv=class pv extends ld.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return pv.emptyBuffer}fromString(t,r){return Buffer.from(t,r)}toString(t,r){return t instanceof Buffer?t.toString(r):new HB.TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,r):Buffer.from(t,0,r)}allocNative(t){return Buffer.allocUnsafe(t)}};o(pv,"MessageBuffer");var mv=pv;mv.emptyBuffer=Buffer.allocUnsafe(0);var KS=class KS{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ld.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ld.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ld.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),ld.Disposable.create(()=>this.stream.off("data",t))}};o(KS,"ReadableStreamWrapper");var HS=KS,WS=class WS{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),ld.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),ld.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),ld.Disposable.create(()=>this.stream.off("end",t))}write(t,r){return new Promise((n,s)=>{let l=o(a=>{a==null?n():s(a)},"callback");typeof t=="string"?this.stream.write(t,r,l):this.stream.write(t,l)})}end(){this.stream.end()}};o(WS,"WritableStreamWrapper");var VS=WS,VB=Object.freeze({messageBuffer:Object.freeze({create:e=>new mv(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new HB.TextDecoder(t.charset).decode(e)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:e=>new HS(e),asWritableStream:e=>new VS(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setImmediate(e,...t);return{dispose:()=>clearImmediate(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function zS(){return VB}o(zS,"RIL");(function(e){function t(){ld.RAL.install(VB)}o(t,"install"),e.install=t})(zS||(zS={}));GS.default=zS});var X2=ot(Ii=>{"use strict";var rX=Ii&&Ii.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nX=Ii&&Ii.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rX(t,e,r)};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.createMessageConnection=Ii.createServerSocketTransport=Ii.createClientSocketTransport=Ii.createServerPipeTransport=Ii.createClientPipeTransport=Ii.generateRandomPipeName=Ii.StreamMessageWriter=Ii.StreamMessageReader=Ii.SocketMessageWriter=Ii.SocketMessageReader=Ii.PortMessageWriter=Ii.PortMessageReader=Ii.IPCMessageWriter=Ii.IPCMessageReader=void 0;var c8=zB();c8.default.install();var GB=require("path"),iX=require("os"),sX=require("crypto"),xv=require("net"),ic=gv();nX(gv(),Ii);var QS=class QS extends ic.AbstractMessageReader{constructor(t){super(),this.process=t;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),ic.Disposable.create(()=>this.process.off("message",t))}};o(QS,"IPCMessageReader");var YS=QS;Ii.IPCMessageReader=YS;var ew=class ew extends ic.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,t)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};o(ew,"IPCMessageWriter");var JS=ew;Ii.IPCMessageWriter=JS;var tw=class tw extends ic.AbstractMessageReader{constructor(t){super(),this.onData=new ic.Emitter,t.on("close",()=>this.fireClose),t.on("error",r=>this.fireError(r)),t.on("message",r=>{this.onData.fire(r)})}listen(t){return this.onData.event(t)}};o(tw,"PortMessageReader");var XS=tw;Ii.PortMessageReader=XS;var rw=class rw extends ic.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};o(rw,"PortMessageWriter");var ZS=rw;Ii.PortMessageWriter=ZS;var nw=class nw extends ic.ReadableStreamMessageReader{constructor(t,r="utf-8"){super((0,c8.default)().stream.asReadableStream(t),r)}};o(nw,"SocketMessageReader");var Y2=nw;Ii.SocketMessageReader=Y2;var iw=class iw extends ic.WriteableStreamMessageWriter{constructor(t,r){super((0,c8.default)().stream.asWritableStream(t),r),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};o(iw,"SocketMessageWriter");var J2=iw;Ii.SocketMessageWriter=J2;var sw=class sw extends ic.ReadableStreamMessageReader{constructor(t,r){super((0,c8.default)().stream.asReadableStream(t),r)}};o(sw,"StreamMessageReader");var yv=sw;Ii.StreamMessageReader=yv;var ow=class ow extends ic.WriteableStreamMessageWriter{constructor(t,r){super((0,c8.default)().stream.asWritableStream(t),r)}};o(ow,"StreamMessageWriter");var vv=ow;Ii.StreamMessageWriter=vv;var KB=process.env.XDG_RUNTIME_DIR,oX=new Map([["linux",107],["darwin",103]]);function aX(){let e=(0,sX.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;KB?t=GB.join(KB,`vscode-ipc-${e}.sock`):t=GB.join(iX.tmpdir(),`vscode-${e}.sock`);let r=oX.get(process.platform);return r!==void 0&&t.length>r&&(0,c8.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${r} characters.`),t}o(aX,"generateRandomPipeName");Ii.generateRandomPipeName=aX;function lX(e,t="utf-8"){let r,n=new Promise((s,l)=>{r=s});return new Promise((s,l)=>{let a=(0,xv.createServer)(f=>{a.close(),r([new Y2(f,t),new J2(f,t)])});a.on("error",l),a.listen(e,()=>{a.removeListener("error",l),s({onConnected:()=>n})})})}o(lX,"createClientPipeTransport");Ii.createClientPipeTransport=lX;function fX(e,t="utf-8"){let r=(0,xv.createConnection)(e);return[new Y2(r,t),new J2(r,t)]}o(fX,"createServerPipeTransport");Ii.createServerPipeTransport=fX;function cX(e,t="utf-8"){let r,n=new Promise((s,l)=>{r=s});return new Promise((s,l)=>{let a=(0,xv.createServer)(f=>{a.close(),r([new Y2(f,t),new J2(f,t)])});a.on("error",l),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",l),s({onConnected:()=>n})})})}o(cX,"createClientSocketTransport");Ii.createClientSocketTransport=cX;function uX(e,t="utf-8"){let r=(0,xv.createConnection)(e,"127.0.0.1");return[new Y2(r,t),new J2(r,t)]}o(uX,"createServerSocketTransport");Ii.createServerSocketTransport=uX;function dX(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}o(dX,"isReadableStream");function hX(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}o(hX,"isWritableStream");function gX(e,t,r,n){r||(r=ic.NullLogger);let s=dX(e)?new yv(e):e,l=hX(t)?new vv(t):t;return ic.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,ic.createMessageConnection)(s,l,r,n)}o(gX,"createMessageConnection");Ii.createMessageConnection=gX});var aw=ot((jce,WB)=>{"use strict";WB.exports=X2()});var bv=ot((YB,_v)=>{(function(e){if(typeof _v=="object"&&typeof _v.exports=="object"){var t=e(require,YB);t!==void 0&&(_v.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(X){function Ke(tt){return typeof tt=="string"}o(Ke,"is"),X.is=Ke})(r||(t.DocumentUri=r={}));var n;(function(X){function Ke(tt){return typeof tt=="string"}o(Ke,"is"),X.is=Ke})(n||(t.URI=n={}));var s;(function(X){X.MIN_VALUE=-2147483648,X.MAX_VALUE=2147483647;function Ke(tt){return typeof tt=="number"&&X.MIN_VALUE<=tt&&tt<=X.MAX_VALUE}o(Ke,"is"),X.is=Ke})(s||(t.integer=s={}));var l;(function(X){X.MIN_VALUE=0,X.MAX_VALUE=2147483647;function Ke(tt){return typeof tt=="number"&&X.MIN_VALUE<=tt&&tt<=X.MAX_VALUE}o(Ke,"is"),X.is=Ke})(l||(t.uinteger=l={}));var a;(function(X){function Ke(he,z){return he===Number.MAX_VALUE&&(he=l.MAX_VALUE),z===Number.MAX_VALUE&&(z=l.MAX_VALUE),{line:he,character:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&Rt.uinteger(z.line)&&Rt.uinteger(z.character)}o(tt,"is"),X.is=tt})(a||(t.Position=a={}));var f;(function(X){function Ke(he,z,Vt,c0){if(Rt.uinteger(he)&&Rt.uinteger(z)&&Rt.uinteger(Vt)&&Rt.uinteger(c0))return{start:a.create(he,z),end:a.create(Vt,c0)};if(a.is(he)&&a.is(z))return{start:he,end:z};throw new Error("Range#create called with invalid arguments[".concat(he,", ").concat(z,", ").concat(Vt,", ").concat(c0,"]"))}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&a.is(z.start)&&a.is(z.end)}o(tt,"is"),X.is=tt})(f||(t.Range=f={}));var c;(function(X){function Ke(he,z){return{uri:he,range:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&f.is(z.range)&&(Rt.string(z.uri)||Rt.undefined(z.uri))}o(tt,"is"),X.is=tt})(c||(t.Location=c={}));var u;(function(X){function Ke(he,z,Vt,c0){return{targetUri:he,targetRange:z,targetSelectionRange:Vt,originSelectionRange:c0}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&f.is(z.targetRange)&&Rt.string(z.targetUri)&&f.is(z.targetSelectionRange)&&(f.is(z.originSelectionRange)||Rt.undefined(z.originSelectionRange))}o(tt,"is"),X.is=tt})(u||(t.LocationLink=u={}));var d;(function(X){function Ke(he,z,Vt,c0){return{red:he,green:z,blue:Vt,alpha:c0}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&Rt.numberRange(z.red,0,1)&&Rt.numberRange(z.green,0,1)&&Rt.numberRange(z.blue,0,1)&&Rt.numberRange(z.alpha,0,1)}o(tt,"is"),X.is=tt})(d||(t.Color=d={}));var h;(function(X){function Ke(he,z){return{range:he,color:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&f.is(z.range)&&d.is(z.color)}o(tt,"is"),X.is=tt})(h||(t.ColorInformation=h={}));var p;(function(X){function Ke(he,z,Vt){return{label:he,textEdit:z,additionalTextEdits:Vt}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&Rt.string(z.label)&&(Rt.undefined(z.textEdit)||k.is(z))&&(Rt.undefined(z.additionalTextEdits)||Rt.typedArray(z.additionalTextEdits,k.is))}o(tt,"is"),X.is=tt})(p||(t.ColorPresentation=p={}));var g;(function(X){X.Comment="comment",X.Imports="imports",X.Region="region"})(g||(t.FoldingRangeKind=g={}));var y;(function(X){function Ke(he,z,Vt,c0,Yr,ts){var Ui={startLine:he,endLine:z};return Rt.defined(Vt)&&(Ui.startCharacter=Vt),Rt.defined(c0)&&(Ui.endCharacter=c0),Rt.defined(Yr)&&(Ui.kind=Yr),Rt.defined(ts)&&(Ui.collapsedText=ts),Ui}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&Rt.uinteger(z.startLine)&&Rt.uinteger(z.startLine)&&(Rt.undefined(z.startCharacter)||Rt.uinteger(z.startCharacter))&&(Rt.undefined(z.endCharacter)||Rt.uinteger(z.endCharacter))&&(Rt.undefined(z.kind)||Rt.string(z.kind))}o(tt,"is"),X.is=tt})(y||(t.FoldingRange=y={}));var _;(function(X){function Ke(he,z){return{location:he,message:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&c.is(z.location)&&Rt.string(z.message)}o(tt,"is"),X.is=tt})(_||(t.DiagnosticRelatedInformation=_={}));var S;(function(X){X.Error=1,X.Warning=2,X.Information=3,X.Hint=4})(S||(t.DiagnosticSeverity=S={}));var w;(function(X){X.Unnecessary=1,X.Deprecated=2})(w||(t.DiagnosticTag=w={}));var P;(function(X){function Ke(tt){var he=tt;return Rt.objectLiteral(he)&&Rt.string(he.href)}o(Ke,"is"),X.is=Ke})(P||(t.CodeDescription=P={}));var D;(function(X){function Ke(he,z,Vt,c0,Yr,ts){var Ui={range:he,message:z};return Rt.defined(Vt)&&(Ui.severity=Vt),Rt.defined(c0)&&(Ui.code=c0),Rt.defined(Yr)&&(Ui.source=Yr),Rt.defined(ts)&&(Ui.relatedInformation=ts),Ui}o(Ke,"create"),X.create=Ke;function tt(he){var z,Vt=he;return Rt.defined(Vt)&&f.is(Vt.range)&&Rt.string(Vt.message)&&(Rt.number(Vt.severity)||Rt.undefined(Vt.severity))&&(Rt.integer(Vt.code)||Rt.string(Vt.code)||Rt.undefined(Vt.code))&&(Rt.undefined(Vt.codeDescription)||Rt.string((z=Vt.codeDescription)===null||z===void 0?void 0:z.href))&&(Rt.string(Vt.source)||Rt.undefined(Vt.source))&&(Rt.undefined(Vt.relatedInformation)||Rt.typedArray(Vt.relatedInformation,_.is))}o(tt,"is"),X.is=tt})(D||(t.Diagnostic=D={}));var L;(function(X){function Ke(he,z){for(var Vt=[],c0=2;c0<arguments.length;c0++)Vt[c0-2]=arguments[c0];var Yr={title:he,command:z};return Rt.defined(Vt)&&Vt.length>0&&(Yr.arguments=Vt),Yr}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.string(z.title)&&Rt.string(z.command)}o(tt,"is"),X.is=tt})(L||(t.Command=L={}));var k;(function(X){function Ke(Vt,c0){return{range:Vt,newText:c0}}o(Ke,"replace"),X.replace=Ke;function tt(Vt,c0){return{range:{start:Vt,end:Vt},newText:c0}}o(tt,"insert"),X.insert=tt;function he(Vt){return{range:Vt,newText:""}}o(he,"del"),X.del=he;function z(Vt){var c0=Vt;return Rt.objectLiteral(c0)&&Rt.string(c0.newText)&&f.is(c0.range)}o(z,"is"),X.is=z})(k||(t.TextEdit=k={}));var B;(function(X){function Ke(he,z,Vt){var c0={label:he};return z!==void 0&&(c0.needsConfirmation=z),Vt!==void 0&&(c0.description=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&Rt.string(z.label)&&(Rt.boolean(z.needsConfirmation)||z.needsConfirmation===void 0)&&(Rt.string(z.description)||z.description===void 0)}o(tt,"is"),X.is=tt})(B||(t.ChangeAnnotation=B={}));var ne;(function(X){function Ke(tt){var he=tt;return Rt.string(he)}o(Ke,"is"),X.is=Ke})(ne||(t.ChangeAnnotationIdentifier=ne={}));var ce;(function(X){function Ke(Vt,c0,Yr){return{range:Vt,newText:c0,annotationId:Yr}}o(Ke,"replace"),X.replace=Ke;function tt(Vt,c0,Yr){return{range:{start:Vt,end:Vt},newText:c0,annotationId:Yr}}o(tt,"insert"),X.insert=tt;function he(Vt,c0){return{range:Vt,newText:"",annotationId:c0}}o(he,"del"),X.del=he;function z(Vt){var c0=Vt;return k.is(c0)&&(B.is(c0.annotationId)||ne.is(c0.annotationId))}o(z,"is"),X.is=z})(ce||(t.AnnotatedTextEdit=ce={}));var Ge;(function(X){function Ke(he,z){return{textDocument:he,edits:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&rt.is(z.textDocument)&&Array.isArray(z.edits)}o(tt,"is"),X.is=tt})(Ge||(t.TextDocumentEdit=Ge={}));var st;(function(X){function Ke(he,z,Vt){var c0={kind:"create",uri:he};return z!==void 0&&(z.overwrite!==void 0||z.ignoreIfExists!==void 0)&&(c0.options=z),Vt!==void 0&&(c0.annotationId=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&z.kind==="create"&&Rt.string(z.uri)&&(z.options===void 0||(z.options.overwrite===void 0||Rt.boolean(z.options.overwrite))&&(z.options.ignoreIfExists===void 0||Rt.boolean(z.options.ignoreIfExists)))&&(z.annotationId===void 0||ne.is(z.annotationId))}o(tt,"is"),X.is=tt})(st||(t.CreateFile=st={}));var Qe;(function(X){function Ke(he,z,Vt,c0){var Yr={kind:"rename",oldUri:he,newUri:z};return Vt!==void 0&&(Vt.overwrite!==void 0||Vt.ignoreIfExists!==void 0)&&(Yr.options=Vt),c0!==void 0&&(Yr.annotationId=c0),Yr}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&z.kind==="rename"&&Rt.string(z.oldUri)&&Rt.string(z.newUri)&&(z.options===void 0||(z.options.overwrite===void 0||Rt.boolean(z.options.overwrite))&&(z.options.ignoreIfExists===void 0||Rt.boolean(z.options.ignoreIfExists)))&&(z.annotationId===void 0||ne.is(z.annotationId))}o(tt,"is"),X.is=tt})(Qe||(t.RenameFile=Qe={}));var Ft;(function(X){function Ke(he,z,Vt){var c0={kind:"delete",uri:he};return z!==void 0&&(z.recursive!==void 0||z.ignoreIfNotExists!==void 0)&&(c0.options=z),Vt!==void 0&&(c0.annotationId=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&z.kind==="delete"&&Rt.string(z.uri)&&(z.options===void 0||(z.options.recursive===void 0||Rt.boolean(z.options.recursive))&&(z.options.ignoreIfNotExists===void 0||Rt.boolean(z.options.ignoreIfNotExists)))&&(z.annotationId===void 0||ne.is(z.annotationId))}o(tt,"is"),X.is=tt})(Ft||(t.DeleteFile=Ft={}));var ke;(function(X){function Ke(tt){var he=tt;return he&&(he.changes!==void 0||he.documentChanges!==void 0)&&(he.documentChanges===void 0||he.documentChanges.every(function(z){return Rt.string(z.kind)?st.is(z)||Qe.is(z)||Ft.is(z):Ge.is(z)}))}o(Ke,"is"),X.is=Ke})(ke||(t.WorkspaceEdit=ke={}));var pe=function(){function X(Ke,tt){this.edits=Ke,this.changeAnnotations=tt}return o(X,"TextEditChangeImpl"),X.prototype.insert=function(Ke,tt,he){var z,Vt;if(he===void 0?z=k.insert(Ke,tt):ne.is(he)?(Vt=he,z=ce.insert(Ke,tt,he)):(this.assertChangeAnnotations(this.changeAnnotations),Vt=this.changeAnnotations.manage(he),z=ce.insert(Ke,tt,Vt)),this.edits.push(z),Vt!==void 0)return Vt},X.prototype.replace=function(Ke,tt,he){var z,Vt;if(he===void 0?z=k.replace(Ke,tt):ne.is(he)?(Vt=he,z=ce.replace(Ke,tt,he)):(this.assertChangeAnnotations(this.changeAnnotations),Vt=this.changeAnnotations.manage(he),z=ce.replace(Ke,tt,Vt)),this.edits.push(z),Vt!==void 0)return Vt},X.prototype.delete=function(Ke,tt){var he,z;if(tt===void 0?he=k.del(Ke):ne.is(tt)?(z=tt,he=ce.del(Ke,tt)):(this.assertChangeAnnotations(this.changeAnnotations),z=this.changeAnnotations.manage(tt),he=ce.del(Ke,z)),this.edits.push(he),z!==void 0)return z},X.prototype.add=function(Ke){this.edits.push(Ke)},X.prototype.all=function(){return this.edits},X.prototype.clear=function(){this.edits.splice(0,this.edits.length)},X.prototype.assertChangeAnnotations=function(Ke){if(Ke===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},X}(),Pt=function(){function X(Ke){this._annotations=Ke===void 0?Object.create(null):Ke,this._counter=0,this._size=0}return o(X,"ChangeAnnotations"),X.prototype.all=function(){return this._annotations},Object.defineProperty(X.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),X.prototype.manage=function(Ke,tt){var he;if(ne.is(Ke)?he=Ke:(he=this.nextId(),tt=Ke),this._annotations[he]!==void 0)throw new Error("Id ".concat(he," is already in use."));if(tt===void 0)throw new Error("No annotation provided for id ".concat(he));return this._annotations[he]=tt,this._size++,he},X.prototype.nextId=function(){return this._counter++,this._counter.toString()},X}(),Ht=function(){function X(Ke){var tt=this;this._textEditChanges=Object.create(null),Ke!==void 0?(this._workspaceEdit=Ke,Ke.documentChanges?(this._changeAnnotations=new Pt(Ke.changeAnnotations),Ke.changeAnnotations=this._changeAnnotations.all(),Ke.documentChanges.forEach(function(he){if(Ge.is(he)){var z=new pe(he.edits,tt._changeAnnotations);tt._textEditChanges[he.textDocument.uri]=z}})):Ke.changes&&Object.keys(Ke.changes).forEach(function(he){var z=new pe(Ke.changes[he]);tt._textEditChanges[he]=z})):this._workspaceEdit={}}return o(X,"WorkspaceChange"),Object.defineProperty(X.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),X.prototype.getTextEditChange=function(Ke){if(rt.is(Ke)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var tt={uri:Ke.uri,version:Ke.version},he=this._textEditChanges[tt.uri];if(!he){var z=[],Vt={textDocument:tt,edits:z};this._workspaceEdit.documentChanges.push(Vt),he=new pe(z,this._changeAnnotations),this._textEditChanges[tt.uri]=he}return he}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var he=this._textEditChanges[Ke];if(!he){var z=[];this._workspaceEdit.changes[Ke]=z,he=new pe(z),this._textEditChanges[Ke]=he}return he}},X.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Pt,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},X.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},X.prototype.createFile=function(Ke,tt,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var z;B.is(tt)||ne.is(tt)?z=tt:he=tt;var Vt,c0;if(z===void 0?Vt=st.create(Ke,he):(c0=ne.is(z)?z:this._changeAnnotations.manage(z),Vt=st.create(Ke,he,c0)),this._workspaceEdit.documentChanges.push(Vt),c0!==void 0)return c0},X.prototype.renameFile=function(Ke,tt,he,z){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var Vt;B.is(he)||ne.is(he)?Vt=he:z=he;var c0,Yr;if(Vt===void 0?c0=Qe.create(Ke,tt,z):(Yr=ne.is(Vt)?Vt:this._changeAnnotations.manage(Vt),c0=Qe.create(Ke,tt,z,Yr)),this._workspaceEdit.documentChanges.push(c0),Yr!==void 0)return Yr},X.prototype.deleteFile=function(Ke,tt,he){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var z;B.is(tt)||ne.is(tt)?z=tt:he=tt;var Vt,c0;if(z===void 0?Vt=Ft.create(Ke,he):(c0=ne.is(z)?z:this._changeAnnotations.manage(z),Vt=Ft.create(Ke,he,c0)),this._workspaceEdit.documentChanges.push(Vt),c0!==void 0)return c0},X}();t.WorkspaceChange=Ht;var $t;(function(X){function Ke(he){return{uri:he}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.string(z.uri)}o(tt,"is"),X.is=tt})($t||(t.TextDocumentIdentifier=$t={}));var d0;(function(X){function Ke(he,z){return{uri:he,version:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.string(z.uri)&&Rt.integer(z.version)}o(tt,"is"),X.is=tt})(d0||(t.VersionedTextDocumentIdentifier=d0={}));var rt;(function(X){function Ke(he,z){return{uri:he,version:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.string(z.uri)&&(z.version===null||Rt.integer(z.version))}o(tt,"is"),X.is=tt})(rt||(t.OptionalVersionedTextDocumentIdentifier=rt={}));var Nt;(function(X){function Ke(he,z,Vt,c0){return{uri:he,languageId:z,version:Vt,text:c0}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.string(z.uri)&&Rt.string(z.languageId)&&Rt.integer(z.version)&&Rt.string(z.text)}o(tt,"is"),X.is=tt})(Nt||(t.TextDocumentItem=Nt={}));var de;(function(X){X.PlainText="plaintext",X.Markdown="markdown";function Ke(tt){var he=tt;return he===X.PlainText||he===X.Markdown}o(Ke,"is"),X.is=Ke})(de||(t.MarkupKind=de={}));var xe;(function(X){function Ke(tt){var he=tt;return Rt.objectLiteral(tt)&&de.is(he.kind)&&Rt.string(he.value)}o(Ke,"is"),X.is=Ke})(xe||(t.MarkupContent=xe={}));var r0;(function(X){X.Text=1,X.Method=2,X.Function=3,X.Constructor=4,X.Field=5,X.Variable=6,X.Class=7,X.Interface=8,X.Module=9,X.Property=10,X.Unit=11,X.Value=12,X.Enum=13,X.Keyword=14,X.Snippet=15,X.Color=16,X.File=17,X.Reference=18,X.Folder=19,X.EnumMember=20,X.Constant=21,X.Struct=22,X.Event=23,X.Operator=24,X.TypeParameter=25})(r0||(t.CompletionItemKind=r0={}));var T0;(function(X){X.PlainText=1,X.Snippet=2})(T0||(t.InsertTextFormat=T0={}));var v0;(function(X){X.Deprecated=1})(v0||(t.CompletionItemTag=v0={}));var Zt;(function(X){function Ke(he,z,Vt){return{newText:he,insert:z,replace:Vt}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&Rt.string(z.newText)&&f.is(z.insert)&&f.is(z.replace)}o(tt,"is"),X.is=tt})(Zt||(t.InsertReplaceEdit=Zt={}));var G0;(function(X){X.asIs=1,X.adjustIndentation=2})(G0||(t.InsertTextMode=G0={}));var ge;(function(X){function Ke(tt){var he=tt;return he&&(Rt.string(he.detail)||he.detail===void 0)&&(Rt.string(he.description)||he.description===void 0)}o(Ke,"is"),X.is=Ke})(ge||(t.CompletionItemLabelDetails=ge={}));var y0;(function(X){function Ke(tt){return{label:tt}}o(Ke,"create"),X.create=Ke})(y0||(t.CompletionItem=y0={}));var et;(function(X){function Ke(tt,he){return{items:tt||[],isIncomplete:!!he}}o(Ke,"create"),X.create=Ke})(et||(t.CompletionList=et={}));var m0;(function(X){function Ke(he){return he.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(Ke,"fromPlainText"),X.fromPlainText=Ke;function tt(he){var z=he;return Rt.string(z)||Rt.objectLiteral(z)&&Rt.string(z.language)&&Rt.string(z.value)}o(tt,"is"),X.is=tt})(m0||(t.MarkedString=m0={}));var h0;(function(X){function Ke(tt){var he=tt;return!!he&&Rt.objectLiteral(he)&&(xe.is(he.contents)||m0.is(he.contents)||Rt.typedArray(he.contents,m0.is))&&(tt.range===void 0||f.is(tt.range))}o(Ke,"is"),X.is=Ke})(h0||(t.Hover=h0={}));var w0;(function(X){function Ke(tt,he){return he?{label:tt,documentation:he}:{label:tt}}o(Ke,"create"),X.create=Ke})(w0||(t.ParameterInformation=w0={}));var K0;(function(X){function Ke(tt,he){for(var z=[],Vt=2;Vt<arguments.length;Vt++)z[Vt-2]=arguments[Vt];var c0={label:tt};return Rt.defined(he)&&(c0.documentation=he),Rt.defined(z)?c0.parameters=z:c0.parameters=[],c0}o(Ke,"create"),X.create=Ke})(K0||(t.SignatureInformation=K0={}));var $r;(function(X){X.Text=1,X.Read=2,X.Write=3})($r||(t.DocumentHighlightKind=$r={}));var er;(function(X){function Ke(tt,he){var z={range:tt};return Rt.number(he)&&(z.kind=he),z}o(Ke,"create"),X.create=Ke})(er||(t.DocumentHighlight=er={}));var se;(function(X){X.File=1,X.Module=2,X.Namespace=3,X.Package=4,X.Class=5,X.Method=6,X.Property=7,X.Field=8,X.Constructor=9,X.Enum=10,X.Interface=11,X.Function=12,X.Variable=13,X.Constant=14,X.String=15,X.Number=16,X.Boolean=17,X.Array=18,X.Object=19,X.Key=20,X.Null=21,X.EnumMember=22,X.Struct=23,X.Event=24,X.Operator=25,X.TypeParameter=26})(se||(t.SymbolKind=se={}));var Kr;(function(X){X.Deprecated=1})(Kr||(t.SymbolTag=Kr={}));var U0;(function(X){function Ke(tt,he,z,Vt,c0){var Yr={name:tt,kind:he,location:{uri:Vt,range:z}};return c0&&(Yr.containerName=c0),Yr}o(Ke,"create"),X.create=Ke})(U0||(t.SymbolInformation=U0={}));var es;(function(X){function Ke(tt,he,z,Vt){return Vt!==void 0?{name:tt,kind:he,location:{uri:z,range:Vt}}:{name:tt,kind:he,location:{uri:z}}}o(Ke,"create"),X.create=Ke})(es||(t.WorkspaceSymbol=es={}));var Li;(function(X){function Ke(he,z,Vt,c0,Yr,ts){var Ui={name:he,detail:z,kind:Vt,range:c0,selectionRange:Yr};return ts!==void 0&&(Ui.children=ts),Ui}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&Rt.string(z.name)&&Rt.number(z.kind)&&f.is(z.range)&&f.is(z.selectionRange)&&(z.detail===void 0||Rt.string(z.detail))&&(z.deprecated===void 0||Rt.boolean(z.deprecated))&&(z.children===void 0||Array.isArray(z.children))&&(z.tags===void 0||Array.isArray(z.tags))}o(tt,"is"),X.is=tt})(Li||(t.DocumentSymbol=Li={}));var ds;(function(X){X.Empty="",X.QuickFix="quickfix",X.Refactor="refactor",X.RefactorExtract="refactor.extract",X.RefactorInline="refactor.inline",X.RefactorRewrite="refactor.rewrite",X.Source="source",X.SourceOrganizeImports="source.organizeImports",X.SourceFixAll="source.fixAll"})(ds||(t.CodeActionKind=ds={}));var Bi;(function(X){X.Invoked=1,X.Automatic=2})(Bi||(t.CodeActionTriggerKind=Bi={}));var Ra;(function(X){function Ke(he,z,Vt){var c0={diagnostics:he};return z!=null&&(c0.only=z),Vt!=null&&(c0.triggerKind=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.typedArray(z.diagnostics,D.is)&&(z.only===void 0||Rt.typedArray(z.only,Rt.string))&&(z.triggerKind===void 0||z.triggerKind===Bi.Invoked||z.triggerKind===Bi.Automatic)}o(tt,"is"),X.is=tt})(Ra||(t.CodeActionContext=Ra={}));var Ga;(function(X){function Ke(he,z,Vt){var c0={title:he},Yr=!0;return typeof z=="string"?(Yr=!1,c0.kind=z):L.is(z)?c0.command=z:c0.edit=z,Yr&&Vt!==void 0&&(c0.kind=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z&&Rt.string(z.title)&&(z.diagnostics===void 0||Rt.typedArray(z.diagnostics,D.is))&&(z.kind===void 0||Rt.string(z.kind))&&(z.edit!==void 0||z.command!==void 0)&&(z.command===void 0||L.is(z.command))&&(z.isPreferred===void 0||Rt.boolean(z.isPreferred))&&(z.edit===void 0||ke.is(z.edit))}o(tt,"is"),X.is=tt})(Ga||(t.CodeAction=Ga={}));var yl;(function(X){function Ke(he,z){var Vt={range:he};return Rt.defined(z)&&(Vt.data=z),Vt}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&f.is(z.range)&&(Rt.undefined(z.command)||L.is(z.command))}o(tt,"is"),X.is=tt})(yl||(t.CodeLens=yl={}));var Ka;(function(X){function Ke(he,z){return{tabSize:he,insertSpaces:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&Rt.uinteger(z.tabSize)&&Rt.boolean(z.insertSpaces)}o(tt,"is"),X.is=tt})(Ka||(t.FormattingOptions=Ka={}));var mn;(function(X){function Ke(he,z,Vt){return{range:he,target:z,data:Vt}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&f.is(z.range)&&(Rt.undefined(z.target)||Rt.string(z.target))}o(tt,"is"),X.is=tt})(mn||(t.DocumentLink=mn={}));var be;(function(X){function Ke(he,z){return{range:he,parent:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&f.is(z.range)&&(z.parent===void 0||X.is(z.parent))}o(tt,"is"),X.is=tt})(be||(t.SelectionRange=be={}));var j;(function(X){X.namespace="namespace",X.type="type",X.class="class",X.enum="enum",X.interface="interface",X.struct="struct",X.typeParameter="typeParameter",X.parameter="parameter",X.variable="variable",X.property="property",X.enumMember="enumMember",X.event="event",X.function="function",X.method="method",X.macro="macro",X.keyword="keyword",X.modifier="modifier",X.comment="comment",X.string="string",X.number="number",X.regexp="regexp",X.operator="operator",X.decorator="decorator"})(j||(t.SemanticTokenTypes=j={}));var H;(function(X){X.declaration="declaration",X.definition="definition",X.readonly="readonly",X.static="static",X.deprecated="deprecated",X.abstract="abstract",X.async="async",X.modification="modification",X.documentation="documentation",X.defaultLibrary="defaultLibrary"})(H||(t.SemanticTokenModifiers=H={}));var x0;(function(X){function Ke(tt){var he=tt;return Rt.objectLiteral(he)&&(he.resultId===void 0||typeof he.resultId=="string")&&Array.isArray(he.data)&&(he.data.length===0||typeof he.data[0]=="number")}o(Ke,"is"),X.is=Ke})(x0||(t.SemanticTokens=x0={}));var Jr;(function(X){function Ke(he,z){return{range:he,text:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z!=null&&f.is(z.range)&&Rt.string(z.text)}o(tt,"is"),X.is=tt})(Jr||(t.InlineValueText=Jr={}));var ui;(function(X){function Ke(he,z,Vt){return{range:he,variableName:z,caseSensitiveLookup:Vt}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z!=null&&f.is(z.range)&&Rt.boolean(z.caseSensitiveLookup)&&(Rt.string(z.variableName)||z.variableName===void 0)}o(tt,"is"),X.is=tt})(ui||(t.InlineValueVariableLookup=ui={}));var hi;(function(X){function Ke(he,z){return{range:he,expression:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return z!=null&&f.is(z.range)&&(Rt.string(z.expression)||z.expression===void 0)}o(tt,"is"),X.is=tt})(hi||(t.InlineValueEvaluatableExpression=hi={}));var Qr;(function(X){function Ke(he,z){return{frameId:he,stoppedLocation:z}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.defined(z)&&f.is(he.stoppedLocation)}o(tt,"is"),X.is=tt})(Qr||(t.InlineValueContext=Qr={}));var ki;(function(X){X.Type=1,X.Parameter=2;function Ke(tt){return tt===1||tt===2}o(Ke,"is"),X.is=Ke})(ki||(t.InlayHintKind=ki={}));var On;(function(X){function Ke(he){return{value:he}}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&(z.tooltip===void 0||Rt.string(z.tooltip)||xe.is(z.tooltip))&&(z.location===void 0||c.is(z.location))&&(z.command===void 0||L.is(z.command))}o(tt,"is"),X.is=tt})(On||(t.InlayHintLabelPart=On={}));var Mi;(function(X){function Ke(he,z,Vt){var c0={position:he,label:z};return Vt!==void 0&&(c0.kind=Vt),c0}o(Ke,"create"),X.create=Ke;function tt(he){var z=he;return Rt.objectLiteral(z)&&a.is(z.position)&&(Rt.string(z.label)||Rt.typedArray(z.label,On.is))&&(z.kind===void 0||ki.is(z.kind))&&z.textEdits===void 0||Rt.typedArray(z.textEdits,k.is)&&(z.tooltip===void 0||Rt.string(z.tooltip)||xe.is(z.tooltip))&&(z.paddingLeft===void 0||Rt.boolean(z.paddingLeft))&&(z.paddingRight===void 0||Rt.boolean(z.paddingRight))}o(tt,"is"),X.is=tt})(Mi||(t.InlayHint=Mi={}));var di;(function(X){function Ke(tt){return{kind:"snippet",value:tt}}o(Ke,"createSnippet"),X.createSnippet=Ke})(di||(t.StringValue=di={}));var Oi;(function(X){function Ke(tt,he,z,Vt){return{insertText:tt,filterText:he,range:z,command:Vt}}o(Ke,"create"),X.create=Ke})(Oi||(t.InlineCompletionItem=Oi={}));var X0;(function(X){function Ke(tt){return{items:tt}}o(Ke,"create"),X.create=Ke})(X0||(t.InlineCompletionList=X0={}));var Hf;(function(X){X.Invoked=0,X.Automatic=1})(Hf||(t.InlineCompletionTriggerKind=Hf={}));var Tu;(function(X){function Ke(tt,he){return{range:tt,text:he}}o(Ke,"create"),X.create=Ke})(Tu||(t.SelectedCompletionInfo=Tu={}));var vl;(function(X){function Ke(tt,he){return{triggerKind:tt,selectedCompletionInfo:he}}o(Ke,"create"),X.create=Ke})(vl||(t.InlineCompletionContext=vl={}));var dc;(function(X){function Ke(tt){var he=tt;return Rt.objectLiteral(he)&&n.is(he.uri)&&Rt.string(he.name)}o(Ke,"is"),X.is=Ke})(dc||(t.WorkspaceFolder=dc={})),t.EOL=[`
`,`\r
`,"\r"];var _f;(function(X){function Ke(Vt,c0,Yr,ts){return new Wc(Vt,c0,Yr,ts)}o(Ke,"create"),X.create=Ke;function tt(Vt){var c0=Vt;return!!(Rt.defined(c0)&&Rt.string(c0.uri)&&(Rt.undefined(c0.languageId)||Rt.string(c0.languageId))&&Rt.uinteger(c0.lineCount)&&Rt.func(c0.getText)&&Rt.func(c0.positionAt)&&Rt.func(c0.offsetAt))}o(tt,"is"),X.is=tt;function he(Vt,c0){for(var Yr=Vt.getText(),ts=z(c0,function(ji,os){var _l=ji.range.start.line-os.range.start.line;return _l===0?ji.range.start.character-os.range.start.character:_l}),Ui=Yr.length,xl=ts.length-1;xl>=0;xl--){var ns=ts[xl],ql=Vt.offsetAt(ns.range.start),An=Vt.offsetAt(ns.range.end);if(An<=Ui)Yr=Yr.substring(0,ql)+ns.newText+Yr.substring(An,Yr.length);else throw new Error("Overlapping edit");Ui=ql}return Yr}o(he,"applyEdits"),X.applyEdits=he;function z(Vt,c0){if(Vt.length<=1)return Vt;var Yr=Vt.length/2|0,ts=Vt.slice(0,Yr),Ui=Vt.slice(Yr);z(ts,c0),z(Ui,c0);for(var xl=0,ns=0,ql=0;xl<ts.length&&ns<Ui.length;){var An=c0(ts[xl],Ui[ns]);An<=0?Vt[ql++]=ts[xl++]:Vt[ql++]=Ui[ns++]}for(;xl<ts.length;)Vt[ql++]=ts[xl++];for(;ns<Ui.length;)Vt[ql++]=Ui[ns++];return Vt}o(z,"mergeSort")})(_f||(t.TextDocument=_f={}));var Wc=function(){function X(Ke,tt,he,z){this._uri=Ke,this._languageId=tt,this._version=he,this._content=z,this._lineOffsets=void 0}return o(X,"FullTextDocument"),Object.defineProperty(X.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),X.prototype.getText=function(Ke){if(Ke){var tt=this.offsetAt(Ke.start),he=this.offsetAt(Ke.end);return this._content.substring(tt,he)}return this._content},X.prototype.update=function(Ke,tt){this._content=Ke.text,this._version=tt,this._lineOffsets=void 0},X.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var Ke=[],tt=this._content,he=!0,z=0;z<tt.length;z++){he&&(Ke.push(z),he=!1);var Vt=tt.charAt(z);he=Vt==="\r"||Vt===`
`,Vt==="\r"&&z+1<tt.length&&tt.charAt(z+1)===`
`&&z++}he&&tt.length>0&&Ke.push(tt.length),this._lineOffsets=Ke}return this._lineOffsets},X.prototype.positionAt=function(Ke){Ke=Math.max(Math.min(Ke,this._content.length),0);var tt=this.getLineOffsets(),he=0,z=tt.length;if(z===0)return a.create(0,Ke);for(;he<z;){var Vt=Math.floor((he+z)/2);tt[Vt]>Ke?z=Vt:he=Vt+1}var c0=he-1;return a.create(c0,Ke-tt[c0])},X.prototype.offsetAt=function(Ke){var tt=this.getLineOffsets();if(Ke.line>=tt.length)return this._content.length;if(Ke.line<0)return 0;var he=tt[Ke.line],z=Ke.line+1<tt.length?tt[Ke.line+1]:this._content.length;return Math.max(Math.min(he+Ke.character,z),he)},Object.defineProperty(X.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),X}(),Rt;(function(X){var Ke=Object.prototype.toString;function tt(An){return typeof An<"u"}o(tt,"defined"),X.defined=tt;function he(An){return typeof An>"u"}o(he,"undefined"),X.undefined=he;function z(An){return An===!0||An===!1}o(z,"boolean"),X.boolean=z;function Vt(An){return Ke.call(An)==="[object String]"}o(Vt,"string"),X.string=Vt;function c0(An){return Ke.call(An)==="[object Number]"}o(c0,"number"),X.number=c0;function Yr(An,ji,os){return Ke.call(An)==="[object Number]"&&ji<=An&&An<=os}o(Yr,"numberRange"),X.numberRange=Yr;function ts(An){return Ke.call(An)==="[object Number]"&&-2147483648<=An&&An<=2147483647}o(ts,"integer"),X.integer=ts;function Ui(An){return Ke.call(An)==="[object Number]"&&0<=An&&An<=2147483647}o(Ui,"uinteger"),X.uinteger=Ui;function xl(An){return Ke.call(An)==="[object Function]"}o(xl,"func"),X.func=xl;function ns(An){return An!==null&&typeof An=="object"}o(ns,"objectLiteral"),X.objectLiteral=ns;function ql(An,ji){return Array.isArray(An)&&An.every(ji)}o(ql,"typedArray"),X.typedArray=ql})(Rt||(Rt={}))})});var co=ot(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ProtocolNotificationType=Lf.ProtocolNotificationType0=Lf.ProtocolRequestType=Lf.ProtocolRequestType0=Lf.RegistrationType=Lf.MessageDirection=void 0;var u8=X2(),JB;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(JB||(Lf.MessageDirection=JB={}));var hw=class hw{constructor(t){this.method=t}};o(hw,"RegistrationType");var lw=hw;Lf.RegistrationType=lw;var gw=class gw extends u8.RequestType0{constructor(t){super(t)}};o(gw,"ProtocolRequestType0");var fw=gw;Lf.ProtocolRequestType0=fw;var mw=class mw extends u8.RequestType{constructor(t){super(t,u8.ParameterStructures.byName)}};o(mw,"ProtocolRequestType");var cw=mw;Lf.ProtocolRequestType=cw;var pw=class pw extends u8.NotificationType0{constructor(t){super(t)}};o(pw,"ProtocolNotificationType0");var uw=pw;Lf.ProtocolNotificationType0=uw;var yw=class yw extends u8.NotificationType{constructor(t){super(t,u8.ParameterStructures.byName)}};o(yw,"ProtocolNotificationType");var dw=yw;Lf.ProtocolNotificationType=dw});var Cv=ot(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.objectLiteral=qa.typedArray=qa.stringArray=qa.array=qa.func=qa.error=qa.number=qa.string=qa.boolean=void 0;function mX(e){return e===!0||e===!1}o(mX,"boolean");qa.boolean=mX;function XB(e){return typeof e=="string"||e instanceof String}o(XB,"string");qa.string=XB;function pX(e){return typeof e=="number"||e instanceof Number}o(pX,"number");qa.number=pX;function yX(e){return e instanceof Error}o(yX,"error");qa.error=yX;function vX(e){return typeof e=="function"}o(vX,"func");qa.func=vX;function ZB(e){return Array.isArray(e)}o(ZB,"array");qa.array=ZB;function xX(e){return ZB(e)&&e.every(t=>XB(t))}o(xX,"stringArray");qa.stringArray=xX;function _X(e,t){return Array.isArray(e)&&e.every(t)}o(_X,"typedArray");qa.typedArray=_X;function bX(e){return e!==null&&typeof e=="object"}o(bX,"objectLiteral");qa.objectLiteral=bX});var tO=ot(Ev=>{"use strict";Object.defineProperty(Ev,"__esModule",{value:!0});Ev.ImplementationRequest=void 0;var QB=co(),eO;(function(e){e.method="textDocument/implementation",e.messageDirection=QB.MessageDirection.clientToServer,e.type=new QB.ProtocolRequestType(e.method)})(eO||(Ev.ImplementationRequest=eO={}))});var iO=ot(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.TypeDefinitionRequest=void 0;var rO=co(),nO;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=rO.MessageDirection.clientToServer,e.type=new rO.ProtocolRequestType(e.method)})(nO||(Tv.TypeDefinitionRequest=nO={}))});var aO=ot(d8=>{"use strict";Object.defineProperty(d8,"__esModule",{value:!0});d8.DidChangeWorkspaceFoldersNotification=d8.WorkspaceFoldersRequest=void 0;var Sv=co(),sO;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Sv.MessageDirection.serverToClient,e.type=new Sv.ProtocolRequestType0(e.method)})(sO||(d8.WorkspaceFoldersRequest=sO={}));var oO;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Sv.MessageDirection.clientToServer,e.type=new Sv.ProtocolNotificationType(e.method)})(oO||(d8.DidChangeWorkspaceFoldersNotification=oO={}))});var cO=ot(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.ConfigurationRequest=void 0;var lO=co(),fO;(function(e){e.method="workspace/configuration",e.messageDirection=lO.MessageDirection.serverToClient,e.type=new lO.ProtocolRequestType(e.method)})(fO||(wv.ConfigurationRequest=fO={}))});var hO=ot(h8=>{"use strict";Object.defineProperty(h8,"__esModule",{value:!0});h8.ColorPresentationRequest=h8.DocumentColorRequest=void 0;var Iv=co(),uO;(function(e){e.method="textDocument/documentColor",e.messageDirection=Iv.MessageDirection.clientToServer,e.type=new Iv.ProtocolRequestType(e.method)})(uO||(h8.DocumentColorRequest=uO={}));var dO;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Iv.MessageDirection.clientToServer,e.type=new Iv.ProtocolRequestType(e.method)})(dO||(h8.ColorPresentationRequest=dO={}))});var pO=ot(g8=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});g8.FoldingRangeRefreshRequest=g8.FoldingRangeRequest=void 0;var Av=co(),gO;(function(e){e.method="textDocument/foldingRange",e.messageDirection=Av.MessageDirection.clientToServer,e.type=new Av.ProtocolRequestType(e.method)})(gO||(g8.FoldingRangeRequest=gO={}));var mO;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=Av.MessageDirection.serverToClient,e.type=new Av.ProtocolRequestType0(e.method)})(mO||(g8.FoldingRangeRefreshRequest=mO={}))});var xO=ot(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.DeclarationRequest=void 0;var yO=co(),vO;(function(e){e.method="textDocument/declaration",e.messageDirection=yO.MessageDirection.clientToServer,e.type=new yO.ProtocolRequestType(e.method)})(vO||(Pv.DeclarationRequest=vO={}))});var CO=ot(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.SelectionRangeRequest=void 0;var _O=co(),bO;(function(e){e.method="textDocument/selectionRange",e.messageDirection=_O.MessageDirection.clientToServer,e.type=new _O.ProtocolRequestType(e.method)})(bO||(Rv.SelectionRangeRequest=bO={}))});var wO=ot(H5=>{"use strict";Object.defineProperty(H5,"__esModule",{value:!0});H5.WorkDoneProgressCancelNotification=H5.WorkDoneProgressCreateRequest=H5.WorkDoneProgress=void 0;var CX=X2(),kv=co(),EO;(function(e){e.type=new CX.ProgressType;function t(r){return r===e.type}o(t,"is"),e.is=t})(EO||(H5.WorkDoneProgress=EO={}));var TO;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=kv.MessageDirection.serverToClient,e.type=new kv.ProtocolRequestType(e.method)})(TO||(H5.WorkDoneProgressCreateRequest=TO={}));var SO;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=kv.MessageDirection.clientToServer,e.type=new kv.ProtocolNotificationType(e.method)})(SO||(H5.WorkDoneProgressCancelNotification=SO={}))});var RO=ot(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});V5.CallHierarchyOutgoingCallsRequest=V5.CallHierarchyIncomingCallsRequest=V5.CallHierarchyPrepareRequest=void 0;var m8=co(),IO;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=m8.MessageDirection.clientToServer,e.type=new m8.ProtocolRequestType(e.method)})(IO||(V5.CallHierarchyPrepareRequest=IO={}));var AO;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=m8.MessageDirection.clientToServer,e.type=new m8.ProtocolRequestType(e.method)})(AO||(V5.CallHierarchyIncomingCallsRequest=AO={}));var PO;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=m8.MessageDirection.clientToServer,e.type=new m8.ProtocolRequestType(e.method)})(PO||(V5.CallHierarchyOutgoingCallsRequest=PO={}))});var OO=ot(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.SemanticTokensRefreshRequest=Bf.SemanticTokensRangeRequest=Bf.SemanticTokensDeltaRequest=Bf.SemanticTokensRequest=Bf.SemanticTokensRegistrationType=Bf.TokenFormat=void 0;var fd=co(),kO;(function(e){e.Relative="relative"})(kO||(Bf.TokenFormat=kO={}));var zm;(function(e){e.method="textDocument/semanticTokens",e.type=new fd.RegistrationType(e.method)})(zm||(Bf.SemanticTokensRegistrationType=zm={}));var NO;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=fd.MessageDirection.clientToServer,e.type=new fd.ProtocolRequestType(e.method),e.registrationMethod=zm.method})(NO||(Bf.SemanticTokensRequest=NO={}));var DO;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=fd.MessageDirection.clientToServer,e.type=new fd.ProtocolRequestType(e.method),e.registrationMethod=zm.method})(DO||(Bf.SemanticTokensDeltaRequest=DO={}));var LO;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=fd.MessageDirection.clientToServer,e.type=new fd.ProtocolRequestType(e.method),e.registrationMethod=zm.method})(LO||(Bf.SemanticTokensRangeRequest=LO={}));var BO;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=fd.MessageDirection.serverToClient,e.type=new fd.ProtocolRequestType0(e.method)})(BO||(Bf.SemanticTokensRefreshRequest=BO={}))});var UO=ot(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0});Nv.ShowDocumentRequest=void 0;var FO=co(),MO;(function(e){e.method="window/showDocument",e.messageDirection=FO.MessageDirection.serverToClient,e.type=new FO.ProtocolRequestType(e.method)})(MO||(Nv.ShowDocumentRequest=MO={}))});var $O=ot(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.LinkedEditingRangeRequest=void 0;var qO=co(),jO;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=qO.MessageDirection.clientToServer,e.type=new qO.ProtocolRequestType(e.method)})(jO||(Dv.LinkedEditingRangeRequest=jO={}))});var JO=ot(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.WillDeleteFilesRequest=tf.DidDeleteFilesNotification=tf.DidRenameFilesNotification=tf.WillRenameFilesRequest=tf.DidCreateFilesNotification=tf.WillCreateFilesRequest=tf.FileOperationPatternKind=void 0;var Pc=co(),HO;(function(e){e.file="file",e.folder="folder"})(HO||(tf.FileOperationPatternKind=HO={}));var VO;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolRequestType(e.method)})(VO||(tf.WillCreateFilesRequest=VO={}));var zO;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolNotificationType(e.method)})(zO||(tf.DidCreateFilesNotification=zO={}));var GO;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolRequestType(e.method)})(GO||(tf.WillRenameFilesRequest=GO={}));var KO;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolNotificationType(e.method)})(KO||(tf.DidRenameFilesNotification=KO={}));var WO;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolNotificationType(e.method)})(WO||(tf.DidDeleteFilesNotification=WO={}));var YO;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Pc.MessageDirection.clientToServer,e.type=new Pc.ProtocolRequestType(e.method)})(YO||(tf.WillDeleteFilesRequest=YO={}))});var tF=ot(z5=>{"use strict";Object.defineProperty(z5,"__esModule",{value:!0});z5.MonikerRequest=z5.MonikerKind=z5.UniquenessLevel=void 0;var XO=co(),ZO;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(ZO||(z5.UniquenessLevel=ZO={}));var QO;(function(e){e.$import="import",e.$export="export",e.local="local"})(QO||(z5.MonikerKind=QO={}));var eF;(function(e){e.method="textDocument/moniker",e.messageDirection=XO.MessageDirection.clientToServer,e.type=new XO.ProtocolRequestType(e.method)})(eF||(z5.MonikerRequest=eF={}))});var sF=ot(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.TypeHierarchySubtypesRequest=G5.TypeHierarchySupertypesRequest=G5.TypeHierarchyPrepareRequest=void 0;var p8=co(),rF;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=p8.MessageDirection.clientToServer,e.type=new p8.ProtocolRequestType(e.method)})(rF||(G5.TypeHierarchyPrepareRequest=rF={}));var nF;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=p8.MessageDirection.clientToServer,e.type=new p8.ProtocolRequestType(e.method)})(nF||(G5.TypeHierarchySupertypesRequest=nF={}));var iF;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=p8.MessageDirection.clientToServer,e.type=new p8.ProtocolRequestType(e.method)})(iF||(G5.TypeHierarchySubtypesRequest=iF={}))});var lF=ot(y8=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});y8.InlineValueRefreshRequest=y8.InlineValueRequest=void 0;var Lv=co(),oF;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Lv.MessageDirection.clientToServer,e.type=new Lv.ProtocolRequestType(e.method)})(oF||(y8.InlineValueRequest=oF={}));var aF;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Lv.MessageDirection.serverToClient,e.type=new Lv.ProtocolRequestType0(e.method)})(aF||(y8.InlineValueRefreshRequest=aF={}))});var dF=ot(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});K5.InlayHintRefreshRequest=K5.InlayHintResolveRequest=K5.InlayHintRequest=void 0;var v8=co(),fF;(function(e){e.method="textDocument/inlayHint",e.messageDirection=v8.MessageDirection.clientToServer,e.type=new v8.ProtocolRequestType(e.method)})(fF||(K5.InlayHintRequest=fF={}));var cF;(function(e){e.method="inlayHint/resolve",e.messageDirection=v8.MessageDirection.clientToServer,e.type=new v8.ProtocolRequestType(e.method)})(cF||(K5.InlayHintResolveRequest=cF={}));var uF;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=v8.MessageDirection.serverToClient,e.type=new v8.ProtocolRequestType0(e.method)})(uF||(K5.InlayHintRefreshRequest=uF={}))});var xF=ot(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.DiagnosticRefreshRequest=Rc.WorkspaceDiagnosticRequest=Rc.DocumentDiagnosticRequest=Rc.DocumentDiagnosticReportKind=Rc.DiagnosticServerCancellationData=void 0;var vF=X2(),EX=Cv(),x8=co(),hF;(function(e){function t(r){let n=r;return n&&EX.boolean(n.retriggerRequest)}o(t,"is"),e.is=t})(hF||(Rc.DiagnosticServerCancellationData=hF={}));var gF;(function(e){e.Full="full",e.Unchanged="unchanged"})(gF||(Rc.DocumentDiagnosticReportKind=gF={}));var mF;(function(e){e.method="textDocument/diagnostic",e.messageDirection=x8.MessageDirection.clientToServer,e.type=new x8.ProtocolRequestType(e.method),e.partialResult=new vF.ProgressType})(mF||(Rc.DocumentDiagnosticRequest=mF={}));var pF;(function(e){e.method="workspace/diagnostic",e.messageDirection=x8.MessageDirection.clientToServer,e.type=new x8.ProtocolRequestType(e.method),e.partialResult=new vF.ProgressType})(pF||(Rc.WorkspaceDiagnosticRequest=pF={}));var yF;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=x8.MessageDirection.serverToClient,e.type=new x8.ProtocolRequestType0(e.method)})(yF||(Rc.DiagnosticRefreshRequest=yF={}))});var wF=ot(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.DidCloseNotebookDocumentNotification=Ca.DidSaveNotebookDocumentNotification=Ca.DidChangeNotebookDocumentNotification=Ca.NotebookCellArrayChange=Ca.DidOpenNotebookDocumentNotification=Ca.NotebookDocumentSyncRegistrationType=Ca.NotebookDocument=Ca.NotebookCell=Ca.ExecutionSummary=Ca.NotebookCellKind=void 0;var Gm=bv(),y1=Cv(),su=co(),vw;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(vw||(Ca.NotebookCellKind=vw={}));var xw;(function(e){function t(s,l){let a={executionOrder:s};return(l===!0||l===!1)&&(a.success=l),a}o(t,"create"),e.create=t;function r(s){let l=s;return y1.objectLiteral(l)&&Gm.uinteger.is(l.executionOrder)&&(l.success===void 0||y1.boolean(l.success))}o(r,"is"),e.is=r;function n(s,l){return s===l?!0:s==null||l===null||l===void 0?!1:s.executionOrder===l.executionOrder&&s.success===l.success}o(n,"equals"),e.equals=n})(xw||(Ca.ExecutionSummary=xw={}));var Bv;(function(e){function t(l,a){return{kind:l,document:a}}o(t,"create"),e.create=t;function r(l){let a=l;return y1.objectLiteral(a)&&vw.is(a.kind)&&Gm.DocumentUri.is(a.document)&&(a.metadata===void 0||y1.objectLiteral(a.metadata))}o(r,"is"),e.is=r;function n(l,a){let f=new Set;return l.document!==a.document&&f.add("document"),l.kind!==a.kind&&f.add("kind"),l.executionSummary!==a.executionSummary&&f.add("executionSummary"),(l.metadata!==void 0||a.metadata!==void 0)&&!s(l.metadata,a.metadata)&&f.add("metadata"),(l.executionSummary!==void 0||a.executionSummary!==void 0)&&!xw.equals(l.executionSummary,a.executionSummary)&&f.add("executionSummary"),f}o(n,"diff"),e.diff=n;function s(l,a){if(l===a)return!0;if(l==null||a===null||a===void 0||typeof l!=typeof a||typeof l!="object")return!1;let f=Array.isArray(l),c=Array.isArray(a);if(f!==c)return!1;if(f&&c){if(l.length!==a.length)return!1;for(let u=0;u<l.length;u++)if(!s(l[u],a[u]))return!1}if(y1.objectLiteral(l)&&y1.objectLiteral(a)){let u=Object.keys(l),d=Object.keys(a);if(u.length!==d.length||(u.sort(),d.sort(),!s(u,d)))return!1;for(let h=0;h<u.length;h++){let p=u[h];if(!s(l[p],a[p]))return!1}}return!0}o(s,"equalsMetadata")})(Bv||(Ca.NotebookCell=Bv={}));var _F;(function(e){function t(n,s,l,a){return{uri:n,notebookType:s,version:l,cells:a}}o(t,"create"),e.create=t;function r(n){let s=n;return y1.objectLiteral(s)&&y1.string(s.uri)&&Gm.integer.is(s.version)&&y1.typedArray(s.cells,Bv.is)}o(r,"is"),e.is=r})(_F||(Ca.NotebookDocument=_F={}));var _8;(function(e){e.method="notebookDocument/sync",e.messageDirection=su.MessageDirection.clientToServer,e.type=new su.RegistrationType(e.method)})(_8||(Ca.NotebookDocumentSyncRegistrationType=_8={}));var bF;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=su.MessageDirection.clientToServer,e.type=new su.ProtocolNotificationType(e.method),e.registrationMethod=_8.method})(bF||(Ca.DidOpenNotebookDocumentNotification=bF={}));var CF;(function(e){function t(n){let s=n;return y1.objectLiteral(s)&&Gm.uinteger.is(s.start)&&Gm.uinteger.is(s.deleteCount)&&(s.cells===void 0||y1.typedArray(s.cells,Bv.is))}o(t,"is"),e.is=t;function r(n,s,l){let a={start:n,deleteCount:s};return l!==void 0&&(a.cells=l),a}o(r,"create"),e.create=r})(CF||(Ca.NotebookCellArrayChange=CF={}));var EF;(function(e){e.method="notebookDocument/didChange",e.messageDirection=su.MessageDirection.clientToServer,e.type=new su.ProtocolNotificationType(e.method),e.registrationMethod=_8.method})(EF||(Ca.DidChangeNotebookDocumentNotification=EF={}));var TF;(function(e){e.method="notebookDocument/didSave",e.messageDirection=su.MessageDirection.clientToServer,e.type=new su.ProtocolNotificationType(e.method),e.registrationMethod=_8.method})(TF||(Ca.DidSaveNotebookDocumentNotification=TF={}));var SF;(function(e){e.method="notebookDocument/didClose",e.messageDirection=su.MessageDirection.clientToServer,e.type=new su.ProtocolNotificationType(e.method),e.registrationMethod=_8.method})(SF||(Ca.DidCloseNotebookDocumentNotification=SF={}))});var PF=ot(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.InlineCompletionRequest=void 0;var IF=co(),AF;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=IF.MessageDirection.clientToServer,e.type=new IF.ProtocolRequestType(e.method)})(AF||(Ov.InlineCompletionRequest=AF={}))});var $M=ot(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.WorkspaceSymbolRequest=Ie.CodeActionResolveRequest=Ie.CodeActionRequest=Ie.DocumentSymbolRequest=Ie.DocumentHighlightRequest=Ie.ReferencesRequest=Ie.DefinitionRequest=Ie.SignatureHelpRequest=Ie.SignatureHelpTriggerKind=Ie.HoverRequest=Ie.CompletionResolveRequest=Ie.CompletionRequest=Ie.CompletionTriggerKind=Ie.PublishDiagnosticsNotification=Ie.WatchKind=Ie.RelativePattern=Ie.FileChangeType=Ie.DidChangeWatchedFilesNotification=Ie.WillSaveTextDocumentWaitUntilRequest=Ie.WillSaveTextDocumentNotification=Ie.TextDocumentSaveReason=Ie.DidSaveTextDocumentNotification=Ie.DidCloseTextDocumentNotification=Ie.DidChangeTextDocumentNotification=Ie.TextDocumentContentChangeEvent=Ie.DidOpenTextDocumentNotification=Ie.TextDocumentSyncKind=Ie.TelemetryEventNotification=Ie.LogMessageNotification=Ie.ShowMessageRequest=Ie.ShowMessageNotification=Ie.MessageType=Ie.DidChangeConfigurationNotification=Ie.ExitNotification=Ie.ShutdownRequest=Ie.InitializedNotification=Ie.InitializeErrorCodes=Ie.InitializeRequest=Ie.WorkDoneProgressOptions=Ie.TextDocumentRegistrationOptions=Ie.StaticRegistrationOptions=Ie.PositionEncodingKind=Ie.FailureHandlingKind=Ie.ResourceOperationKind=Ie.UnregistrationRequest=Ie.RegistrationRequest=Ie.DocumentSelector=Ie.NotebookCellTextDocumentFilter=Ie.NotebookDocumentFilter=Ie.TextDocumentFilter=void 0;Ie.MonikerRequest=Ie.MonikerKind=Ie.UniquenessLevel=Ie.WillDeleteFilesRequest=Ie.DidDeleteFilesNotification=Ie.WillRenameFilesRequest=Ie.DidRenameFilesNotification=Ie.WillCreateFilesRequest=Ie.DidCreateFilesNotification=Ie.FileOperationPatternKind=Ie.LinkedEditingRangeRequest=Ie.ShowDocumentRequest=Ie.SemanticTokensRegistrationType=Ie.SemanticTokensRefreshRequest=Ie.SemanticTokensRangeRequest=Ie.SemanticTokensDeltaRequest=Ie.SemanticTokensRequest=Ie.TokenFormat=Ie.CallHierarchyPrepareRequest=Ie.CallHierarchyOutgoingCallsRequest=Ie.CallHierarchyIncomingCallsRequest=Ie.WorkDoneProgressCancelNotification=Ie.WorkDoneProgressCreateRequest=Ie.WorkDoneProgress=Ie.SelectionRangeRequest=Ie.DeclarationRequest=Ie.FoldingRangeRefreshRequest=Ie.FoldingRangeRequest=Ie.ColorPresentationRequest=Ie.DocumentColorRequest=Ie.ConfigurationRequest=Ie.DidChangeWorkspaceFoldersNotification=Ie.WorkspaceFoldersRequest=Ie.TypeDefinitionRequest=Ie.ImplementationRequest=Ie.ApplyWorkspaceEditRequest=Ie.ExecuteCommandRequest=Ie.PrepareRenameRequest=Ie.RenameRequest=Ie.PrepareSupportDefaultBehavior=Ie.DocumentOnTypeFormattingRequest=Ie.DocumentRangesFormattingRequest=Ie.DocumentRangeFormattingRequest=Ie.DocumentFormattingRequest=Ie.DocumentLinkResolveRequest=Ie.DocumentLinkRequest=Ie.CodeLensRefreshRequest=Ie.CodeLensResolveRequest=Ie.CodeLensRequest=Ie.WorkspaceSymbolResolveRequest=void 0;Ie.InlineCompletionRequest=Ie.DidCloseNotebookDocumentNotification=Ie.DidSaveNotebookDocumentNotification=Ie.DidChangeNotebookDocumentNotification=Ie.NotebookCellArrayChange=Ie.DidOpenNotebookDocumentNotification=Ie.NotebookDocumentSyncRegistrationType=Ie.NotebookDocument=Ie.NotebookCell=Ie.ExecutionSummary=Ie.NotebookCellKind=Ie.DiagnosticRefreshRequest=Ie.WorkspaceDiagnosticRequest=Ie.DocumentDiagnosticRequest=Ie.DocumentDiagnosticReportKind=Ie.DiagnosticServerCancellationData=Ie.InlayHintRefreshRequest=Ie.InlayHintResolveRequest=Ie.InlayHintRequest=Ie.InlineValueRefreshRequest=Ie.InlineValueRequest=Ie.TypeHierarchySupertypesRequest=Ie.TypeHierarchySubtypesRequest=Ie.TypeHierarchyPrepareRequest=void 0;var R0=co(),RF=bv(),al=Cv(),TX=tO();Object.defineProperty(Ie,"ImplementationRequest",{enumerable:!0,get:function(){return TX.ImplementationRequest}});var SX=iO();Object.defineProperty(Ie,"TypeDefinitionRequest",{enumerable:!0,get:function(){return SX.TypeDefinitionRequest}});var MM=aO();Object.defineProperty(Ie,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return MM.WorkspaceFoldersRequest}});Object.defineProperty(Ie,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return MM.DidChangeWorkspaceFoldersNotification}});var wX=cO();Object.defineProperty(Ie,"ConfigurationRequest",{enumerable:!0,get:function(){return wX.ConfigurationRequest}});var UM=hO();Object.defineProperty(Ie,"DocumentColorRequest",{enumerable:!0,get:function(){return UM.DocumentColorRequest}});Object.defineProperty(Ie,"ColorPresentationRequest",{enumerable:!0,get:function(){return UM.ColorPresentationRequest}});var qM=pO();Object.defineProperty(Ie,"FoldingRangeRequest",{enumerable:!0,get:function(){return qM.FoldingRangeRequest}});Object.defineProperty(Ie,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return qM.FoldingRangeRefreshRequest}});var IX=xO();Object.defineProperty(Ie,"DeclarationRequest",{enumerable:!0,get:function(){return IX.DeclarationRequest}});var AX=CO();Object.defineProperty(Ie,"SelectionRangeRequest",{enumerable:!0,get:function(){return AX.SelectionRangeRequest}});var Tw=wO();Object.defineProperty(Ie,"WorkDoneProgress",{enumerable:!0,get:function(){return Tw.WorkDoneProgress}});Object.defineProperty(Ie,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Tw.WorkDoneProgressCreateRequest}});Object.defineProperty(Ie,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Tw.WorkDoneProgressCancelNotification}});var Sw=RO();Object.defineProperty(Ie,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Sw.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Ie,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Sw.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Ie,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Sw.CallHierarchyPrepareRequest}});var b8=OO();Object.defineProperty(Ie,"TokenFormat",{enumerable:!0,get:function(){return b8.TokenFormat}});Object.defineProperty(Ie,"SemanticTokensRequest",{enumerable:!0,get:function(){return b8.SemanticTokensRequest}});Object.defineProperty(Ie,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return b8.SemanticTokensDeltaRequest}});Object.defineProperty(Ie,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return b8.SemanticTokensRangeRequest}});Object.defineProperty(Ie,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return b8.SemanticTokensRefreshRequest}});Object.defineProperty(Ie,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return b8.SemanticTokensRegistrationType}});var PX=UO();Object.defineProperty(Ie,"ShowDocumentRequest",{enumerable:!0,get:function(){return PX.ShowDocumentRequest}});var RX=$O();Object.defineProperty(Ie,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return RX.LinkedEditingRangeRequest}});var Z2=JO();Object.defineProperty(Ie,"FileOperationPatternKind",{enumerable:!0,get:function(){return Z2.FileOperationPatternKind}});Object.defineProperty(Ie,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Z2.DidCreateFilesNotification}});Object.defineProperty(Ie,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Z2.WillCreateFilesRequest}});Object.defineProperty(Ie,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Z2.DidRenameFilesNotification}});Object.defineProperty(Ie,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Z2.WillRenameFilesRequest}});Object.defineProperty(Ie,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Z2.DidDeleteFilesNotification}});Object.defineProperty(Ie,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Z2.WillDeleteFilesRequest}});var ww=tF();Object.defineProperty(Ie,"UniquenessLevel",{enumerable:!0,get:function(){return ww.UniquenessLevel}});Object.defineProperty(Ie,"MonikerKind",{enumerable:!0,get:function(){return ww.MonikerKind}});Object.defineProperty(Ie,"MonikerRequest",{enumerable:!0,get:function(){return ww.MonikerRequest}});var Iw=sF();Object.defineProperty(Ie,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Iw.TypeHierarchyPrepareRequest}});Object.defineProperty(Ie,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Iw.TypeHierarchySubtypesRequest}});Object.defineProperty(Ie,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Iw.TypeHierarchySupertypesRequest}});var jM=lF();Object.defineProperty(Ie,"InlineValueRequest",{enumerable:!0,get:function(){return jM.InlineValueRequest}});Object.defineProperty(Ie,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return jM.InlineValueRefreshRequest}});var Aw=dF();Object.defineProperty(Ie,"InlayHintRequest",{enumerable:!0,get:function(){return Aw.InlayHintRequest}});Object.defineProperty(Ie,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Aw.InlayHintResolveRequest}});Object.defineProperty(Ie,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Aw.InlayHintRefreshRequest}});var Km=xF();Object.defineProperty(Ie,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Km.DiagnosticServerCancellationData}});Object.defineProperty(Ie,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Km.DocumentDiagnosticReportKind}});Object.defineProperty(Ie,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Km.DocumentDiagnosticRequest}});Object.defineProperty(Ie,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Km.WorkspaceDiagnosticRequest}});Object.defineProperty(Ie,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Km.DiagnosticRefreshRequest}});var ou=wF();Object.defineProperty(Ie,"NotebookCellKind",{enumerable:!0,get:function(){return ou.NotebookCellKind}});Object.defineProperty(Ie,"ExecutionSummary",{enumerable:!0,get:function(){return ou.ExecutionSummary}});Object.defineProperty(Ie,"NotebookCell",{enumerable:!0,get:function(){return ou.NotebookCell}});Object.defineProperty(Ie,"NotebookDocument",{enumerable:!0,get:function(){return ou.NotebookDocument}});Object.defineProperty(Ie,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ou.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Ie,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ou.DidOpenNotebookDocumentNotification}});Object.defineProperty(Ie,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ou.NotebookCellArrayChange}});Object.defineProperty(Ie,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ou.DidChangeNotebookDocumentNotification}});Object.defineProperty(Ie,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ou.DidSaveNotebookDocumentNotification}});Object.defineProperty(Ie,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ou.DidCloseNotebookDocumentNotification}});var kX=PF();Object.defineProperty(Ie,"InlineCompletionRequest",{enumerable:!0,get:function(){return kX.InlineCompletionRequest}});var _w;(function(e){function t(r){let n=r;return al.string(n)||al.string(n.language)||al.string(n.scheme)||al.string(n.pattern)}o(t,"is"),e.is=t})(_w||(Ie.TextDocumentFilter=_w={}));var bw;(function(e){function t(r){let n=r;return al.objectLiteral(n)&&(al.string(n.notebookType)||al.string(n.scheme)||al.string(n.pattern))}o(t,"is"),e.is=t})(bw||(Ie.NotebookDocumentFilter=bw={}));var Cw;(function(e){function t(r){let n=r;return al.objectLiteral(n)&&(al.string(n.notebook)||bw.is(n.notebook))&&(n.language===void 0||al.string(n.language))}o(t,"is"),e.is=t})(Cw||(Ie.NotebookCellTextDocumentFilter=Cw={}));var Ew;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!al.string(n)&&!_w.is(n)&&!Cw.is(n))return!1;return!0}o(t,"is"),e.is=t})(Ew||(Ie.DocumentSelector=Ew={}));var kF;(function(e){e.method="client/registerCapability",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolRequestType(e.method)})(kF||(Ie.RegistrationRequest=kF={}));var NF;(function(e){e.method="client/unregisterCapability",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolRequestType(e.method)})(NF||(Ie.UnregistrationRequest=NF={}));var DF;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(DF||(Ie.ResourceOperationKind=DF={}));var LF;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(LF||(Ie.FailureHandlingKind=LF={}));var BF;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(BF||(Ie.PositionEncodingKind=BF={}));var OF;(function(e){function t(r){let n=r;return n&&al.string(n.id)&&n.id.length>0}o(t,"hasId"),e.hasId=t})(OF||(Ie.StaticRegistrationOptions=OF={}));var FF;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Ew.is(n.documentSelector))}o(t,"is"),e.is=t})(FF||(Ie.TextDocumentRegistrationOptions=FF={}));var MF;(function(e){function t(n){let s=n;return al.objectLiteral(s)&&(s.workDoneProgress===void 0||al.boolean(s.workDoneProgress))}o(t,"is"),e.is=t;function r(n){let s=n;return s&&al.boolean(s.workDoneProgress)}o(r,"hasWorkDoneProgress"),e.hasWorkDoneProgress=r})(MF||(Ie.WorkDoneProgressOptions=MF={}));var UF;(function(e){e.method="initialize",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(UF||(Ie.InitializeRequest=UF={}));var qF;(function(e){e.unknownProtocolVersion=1})(qF||(Ie.InitializeErrorCodes=qF={}));var jF;(function(e){e.method="initialized",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(jF||(Ie.InitializedNotification=jF={}));var $F;(function(e){e.method="shutdown",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType0(e.method)})($F||(Ie.ShutdownRequest=$F={}));var HF;(function(e){e.method="exit",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType0(e.method)})(HF||(Ie.ExitNotification=HF={}));var VF;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(VF||(Ie.DidChangeConfigurationNotification=VF={}));var zF;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(zF||(Ie.MessageType=zF={}));var GF;(function(e){e.method="window/showMessage",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolNotificationType(e.method)})(GF||(Ie.ShowMessageNotification=GF={}));var KF;(function(e){e.method="window/showMessageRequest",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolRequestType(e.method)})(KF||(Ie.ShowMessageRequest=KF={}));var WF;(function(e){e.method="window/logMessage",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolNotificationType(e.method)})(WF||(Ie.LogMessageNotification=WF={}));var YF;(function(e){e.method="telemetry/event",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolNotificationType(e.method)})(YF||(Ie.TelemetryEventNotification=YF={}));var JF;(function(e){e.None=0,e.Full=1,e.Incremental=2})(JF||(Ie.TextDocumentSyncKind=JF={}));var XF;(function(e){e.method="textDocument/didOpen",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(XF||(Ie.DidOpenTextDocumentNotification=XF={}));var ZF;(function(e){function t(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}o(t,"isIncremental"),e.isIncremental=t;function r(n){let s=n;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}o(r,"isFull"),e.isFull=r})(ZF||(Ie.TextDocumentContentChangeEvent=ZF={}));var QF;(function(e){e.method="textDocument/didChange",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(QF||(Ie.DidChangeTextDocumentNotification=QF={}));var eM;(function(e){e.method="textDocument/didClose",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(eM||(Ie.DidCloseTextDocumentNotification=eM={}));var tM;(function(e){e.method="textDocument/didSave",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(tM||(Ie.DidSaveTextDocumentNotification=tM={}));var rM;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(rM||(Ie.TextDocumentSaveReason=rM={}));var nM;(function(e){e.method="textDocument/willSave",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(nM||(Ie.WillSaveTextDocumentNotification=nM={}));var iM;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(iM||(Ie.WillSaveTextDocumentWaitUntilRequest=iM={}));var sM;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolNotificationType(e.method)})(sM||(Ie.DidChangeWatchedFilesNotification=sM={}));var oM;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(oM||(Ie.FileChangeType=oM={}));var aM;(function(e){function t(r){let n=r;return al.objectLiteral(n)&&(RF.URI.is(n.baseUri)||RF.WorkspaceFolder.is(n.baseUri))&&al.string(n.pattern)}o(t,"is"),e.is=t})(aM||(Ie.RelativePattern=aM={}));var lM;(function(e){e.Create=1,e.Change=2,e.Delete=4})(lM||(Ie.WatchKind=lM={}));var fM;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolNotificationType(e.method)})(fM||(Ie.PublishDiagnosticsNotification=fM={}));var cM;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(cM||(Ie.CompletionTriggerKind=cM={}));var uM;(function(e){e.method="textDocument/completion",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(uM||(Ie.CompletionRequest=uM={}));var dM;(function(e){e.method="completionItem/resolve",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(dM||(Ie.CompletionResolveRequest=dM={}));var hM;(function(e){e.method="textDocument/hover",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(hM||(Ie.HoverRequest=hM={}));var gM;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(gM||(Ie.SignatureHelpTriggerKind=gM={}));var mM;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(mM||(Ie.SignatureHelpRequest=mM={}));var pM;(function(e){e.method="textDocument/definition",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(pM||(Ie.DefinitionRequest=pM={}));var yM;(function(e){e.method="textDocument/references",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(yM||(Ie.ReferencesRequest=yM={}));var vM;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(vM||(Ie.DocumentHighlightRequest=vM={}));var xM;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(xM||(Ie.DocumentSymbolRequest=xM={}));var _M;(function(e){e.method="textDocument/codeAction",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(_M||(Ie.CodeActionRequest=_M={}));var bM;(function(e){e.method="codeAction/resolve",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(bM||(Ie.CodeActionResolveRequest=bM={}));var CM;(function(e){e.method="workspace/symbol",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(CM||(Ie.WorkspaceSymbolRequest=CM={}));var EM;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(EM||(Ie.WorkspaceSymbolResolveRequest=EM={}));var TM;(function(e){e.method="textDocument/codeLens",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(TM||(Ie.CodeLensRequest=TM={}));var SM;(function(e){e.method="codeLens/resolve",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(SM||(Ie.CodeLensResolveRequest=SM={}));var wM;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolRequestType0(e.method)})(wM||(Ie.CodeLensRefreshRequest=wM={}));var IM;(function(e){e.method="textDocument/documentLink",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(IM||(Ie.DocumentLinkRequest=IM={}));var AM;(function(e){e.method="documentLink/resolve",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(AM||(Ie.DocumentLinkResolveRequest=AM={}));var PM;(function(e){e.method="textDocument/formatting",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(PM||(Ie.DocumentFormattingRequest=PM={}));var RM;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(RM||(Ie.DocumentRangeFormattingRequest=RM={}));var kM;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(kM||(Ie.DocumentRangesFormattingRequest=kM={}));var NM;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(NM||(Ie.DocumentOnTypeFormattingRequest=NM={}));var DM;(function(e){e.Identifier=1})(DM||(Ie.PrepareSupportDefaultBehavior=DM={}));var LM;(function(e){e.method="textDocument/rename",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(LM||(Ie.RenameRequest=LM={}));var BM;(function(e){e.method="textDocument/prepareRename",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(BM||(Ie.PrepareRenameRequest=BM={}));var OM;(function(e){e.method="workspace/executeCommand",e.messageDirection=R0.MessageDirection.clientToServer,e.type=new R0.ProtocolRequestType(e.method)})(OM||(Ie.ExecuteCommandRequest=OM={}));var FM;(function(e){e.method="workspace/applyEdit",e.messageDirection=R0.MessageDirection.serverToClient,e.type=new R0.ProtocolRequestType("workspace/applyEdit")})(FM||(Ie.ApplyWorkspaceEditRequest=FM={}))});var VM=ot(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.createProtocolConnection=void 0;var HM=X2();function NX(e,t,r,n){return HM.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,HM.createMessageConnection)(e,t,r,n)}o(NX,"createProtocolConnection");Fv.createProtocolConnection=NX});var GM=ot(Of=>{"use strict";var DX=Of&&Of.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mv=Of&&Of.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DX(t,e,r)};Object.defineProperty(Of,"__esModule",{value:!0});Of.LSPErrorCodes=Of.createProtocolConnection=void 0;Mv(X2(),Of);Mv(bv(),Of);Mv(co(),Of);Mv($M(),Of);var LX=VM();Object.defineProperty(Of,"createProtocolConnection",{enumerable:!0,get:function(){return LX.createProtocolConnection}});var zM;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(zM||(Of.LSPErrorCodes=zM={}))});var WM=ot(au=>{"use strict";var BX=au&&au.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KM=au&&au.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BX(t,e,r)};Object.defineProperty(au,"__esModule",{value:!0});au.createProtocolConnection=void 0;var OX=aw();KM(aw(),au);KM(GM(),au);function FX(e,t,r,n){return(0,OX.createMessageConnection)(e,t,r,n)}o(FX,"createProtocolConnection");au.createProtocolConnection=FX});var ud=ot((exports,module)=>{"use strict";var qo=Object.create,Fe=Object.defineProperty,Ho=Object.getOwnPropertyDescriptor,Zo=Object.getOwnPropertyNames,$o=Object.getPrototypeOf,Go=Object.prototype.hasOwnProperty,i=o((e,t)=>Fe(e,"name",{value:t,configurable:!0}),"i"),M=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"M"),Ko=o((e,t)=>{for(var r in t)Fe(e,r,{get:t[r],enumerable:!0})},"Ko"),qn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Zo(t))!Go.call(e,s)&&s!==r&&Fe(e,s,{get:()=>t[s],enumerable:!(n=Ho(t,s))||n.enumerable});return e},"qn"),Hn=o((e,t,r)=>(r=e!=null?qo($o(e)):{},qn(t||!e||!e.__esModule?Fe(r,"default",{value:e,enumerable:!0}):r,e)),"Hn"),Jo=o(e=>qn(Fe({},"__esModule",{value:!0}),e),"Jo"),Zn=M(e=>{"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.bytePairEncode=e.BinaryMap=e.binaryMapKey=void 0;var t=i((f,c,u)=>{let d=u-c,h=16777215>>>Math.max(0,(3-d)*8),p=(f[c+0]|f[c+1]<<8|f[c+2]<<16)&h,g=16777215>>>Math.min(31,Math.max(0,(6-d)*8)),y=(f[c+3]|f[c+4]<<8|f[c+5]<<16)&g;return p+16777216*y},"binaryMapKey");e.binaryMapKey=t;var r=(a=class{constructor(){this.nested=new Map,this.final=new Map}get(c,u=0,d=c.length){var g;let h=d<6+u,p=(0,e.binaryMapKey)(c,u,d);return h?this.final.get(p):(g=this.nested.get(p))==null?void 0:g.get(c,6+u,d)}set(c,u){let d=(0,e.binaryMapKey)(c,0,c.length);if(c.length<6){this.final.set(d,u);return}let h=this.nested.get(d);if(h instanceof a)h.set(c.subarray(6),u);else{let p=new a;p.set(c.subarray(6),u),this.nested.set(d,p)}}},o(a,"t"),i(a,"BinaryMap"),a);e.BinaryMap=r;var n=new Int32Array(128),s=new Int32Array(128);function l(f,c,u){var _;if(u===1)return[c.get(f)];let d=2147483647,h=-1;for(;n.length<u*2;)s=new Int32Array(s.length*2),n=new Int32Array(n.length*2);for(let S=0;S<u-1;S++){let w=(_=c.get(f,S,S+2))!=null?_:2147483647;w<d&&(d=w,h=S),s[S]=S,n[S]=w}s[u-1]=u-1,n[u-1]=2147483647,s[u]=u,n[u]=2147483647;let p=u+1;function g(S,w=0){if(S+w+2<p){let P=c.get(f,s[S],s[S+w+2]);if(P!==void 0)return P}return 2147483647}for(o(g,"a"),i(g,"getRank");d!==2147483647;){n[s[h]]=g(h,1),h>0&&(n[s[h-1]]=g(h-1,1));for(let S=h+1;S<p-1;S++)s[S]=s[S+1];p--,h=-1,d=2147483647;for(let S=0;S<p-1;S++){let w=n[s[S]];n[s[S]]<d&&(d=w,h=S)}}let y=[];for(let S=0;S<p-1;S++)y.push(c.get(f,s[S],s[S+1]));return y}o(l,"Xo"),i(l,"bytePairEncode"),e.bytePairEncode=l}),$n=M(e=>{"use strict";var s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.makeTextEncoder=void 0;var t=(s=class{constructor(){this.length=0,this.encoder=new TextEncoder}encode(f){let c=this.encoder.encode(f);return this.length=c.length,c}},o(s,"Ht"),i(s,"UniversalTextEncoder"),s),r=(l=class{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(f){for(;;){if(this.length=this.buffer.write(f,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(f)}}},o(l,"Zt"),i(l,"NodeTextEncoder"),l),n=i(()=>typeof Buffer<"u"?new r:new t,"makeTextEncoder");e.makeTextEncoder=n}),Gn=M(e=>{"use strict";var n,s;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=(n=class{constructor(a){this.size=a,this.nodes=new Map}get(a){let f=this.nodes.get(a);if(f)return this.moveToHead(f),f.value}set(a,f){let c=this.nodes.get(a);if(c)c.value=f,this.moveToHead(c);else{let u=new r(a,f);this.nodes.set(a,u),this.addNode(u),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(a){this.removeNode(a),this.addNode(a)}addNode(a){this.head&&(this.head.prev=a,a.next=this.head),this.tail||(this.tail=a),this.head=a}removeNode(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev}},o(n,"$t"),i(n,"LRUCache"),n);e.LRUCache=t;var r=(s=class{constructor(a,f){this.key=a,this.value=f}},o(s,"Gt"),i(s,"Node"),s)}),Jt=M(e=>{"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.TikTokenizer=void 0;var t=require("fs"),r=require("util"),n=Zn(),s=$n(),l=Gn();function a(d){let h=new Map;try{let g=t.readFileSync(d,"utf-8");return p(g),h}catch(g){throw new Error(`Failed to load from BPE encoder file stream: ${g}`)}function p(g){for(let y of g.split(/[\r\n]+/)){if(y.trim()==="")continue;let _=y.split(" ");if(_.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let S=new Uint8Array(Buffer.from(_[0],"base64")),w=parseInt(_[1]);if(!isNaN(w))h.set(S,w);else throw new Error(`Can't parse ${_[1]} to integer`)}}o(p,"n"),i(p,"processBpeRanks")}o(a,"os"),i(a,"loadTikTokenBpe");function f(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(f,"ss"),i(f,"escapeRegExp");var c=(u=class{constructor(h,p,g,y=8192){this.textEncoder=(0,s.makeTextEncoder)(),this.textDecoder=new r.TextDecoder("utf-8"),this.cache=new l.LRUCache(y);let _=a(h);this.init(_,p,g)}init(h,p,g){this.encoder=new n.BinaryMap;for(let[y,_]of h)this.encoder.set(y,_);this.regex=new RegExp(g,"gu"),this.specialTokensRegex=new RegExp(Array.from(p.keys()).map(y=>f(y)).join("|")),this.specialTokensEncoder=p,this.decoder=new Map;for(let[y,_]of h)this.decoder.set(_,y);if(h.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[y,_]of p)this.specialTokensDecoder.set(_,y)}findNextSpecialToken(h,p,g){let y=p,_=null;if(g&&this.specialTokensRegex)for(;_=h.slice(y).match(this.specialTokensRegex),!(!_||g&&g.includes(_[0]));)y+=_.index+1;let S=_?y+_.index:h.length;return[_,S]}encode(h,p){let g=[],y=0;for(;;){let _,S;if([_,S]=this.findNextSpecialToken(h,y,p),S>y&&this.encodeByIndex(h,g,y,S),_){if(y=y+this.encodeSpecialToken(g,_),y>=h.length)break}else break}return g}encodeSpecialToken(h,p){var y;let g=(y=this.specialTokensEncoder)==null?void 0:y.get(p[0]);return h.push(g),p.index+p[0].length}encodeByIndex(h,p,g,y){let _,S=h.substring(g,y);for(this.regex.lastIndex=0;_=this.regex.exec(S);){let w=this.cache.get(_[0]);if(w)for(let P of w)p.push(P);else{let P=this.textEncoder.encode(_[0]),D=this.encoder.get(P,0,this.textEncoder.length);if(D!==void 0)p.push(D),this.cache.set(_[0],[D]);else{let L=(0,n.bytePairEncode)(P,this.encoder,this.textEncoder.length);for(let k of L)p.push(k);this.cache.set(_[0],L)}}}}encodeTrimSuffixByIndex(h,p,g,y,_,S,w){let P,D=h.substring(g,y);for(this.regex.lastIndex=0;P=this.regex.exec(D);){let L=P[0],k=this.cache.get(L);if(k)if(S+k.length<=_)S+=k.length,w+=L.length,p.push(...k);else{let B=_-S;S+=B,w+=L.length,p.push(...k.slice(0,B));break}else{let B=this.textEncoder.encode(L),ne=this.encoder.get(B,0,B.length);if(ne!==void 0)if(this.cache.set(L,[ne]),S+1<=_)S++,w+=L.length,p.push(ne);else break;else{let ce=(0,n.bytePairEncode)(B,this.encoder,this.textEncoder.length);if(this.cache.set(L,ce),S+ce.length<=_){S+=ce.length,w+=L.length;for(let Ge of ce)p.push(Ge)}else{let Ge=_-S;S+=Ge,w+=L.length;for(let st=0;st<Ge;st++)p.push(ce[st]);break}}}if(S>=_)break}return{tokenCount:S,encodeLength:w}}encodeTrimSuffix(h,p,g){let y=[],_=0,S=0,w=0;for(;;){let D,L;if([D,L]=this.findNextSpecialToken(h,_,g),L>_){let{tokenCount:k,encodeLength:B}=this.encodeTrimSuffixByIndex(h,y,_,L,p,S,w);if(S=k,w=B,S>=p)break}if(D!==null){if(S++,S<=p&&(_=_+this.encodeSpecialToken(y,D),w+=D[0].length,_>=h.length)||S>=p)break}else break}let P=w===h.length?h:h.slice(0,w);return{tokenIds:y,text:P}}encodeTrimPrefix(h,p,g){let y=[],_=0,S=0,w=0,P=new Map;for(P.set(S,w);;){let B,ne;if([B,ne]=this.findNextSpecialToken(h,_,g),ne>_){let ce,Ge=h.substring(_,ne);for(this.regex.lastIndex=0;ce=this.regex.exec(Ge);){let st=ce[0],Qe=this.cache.get(st);if(Qe)S+=Qe.length,w+=st.length,y.push(...Qe),P.set(S,w);else{let Ft=this.textEncoder.encode(st),ke=this.encoder.get(Ft);if(ke!==void 0)this.cache.set(st,[ke]),S++,w+=st.length,y.push(ke),P.set(S,w);else{let pe=(0,n.bytePairEncode)(Ft,this.encoder,this.textEncoder.length);this.cache.set(st,pe),S+=pe.length,w+=st.length;for(let Pt of pe)y.push(Pt);P.set(S,w)}}}}if(B!==null){if(_=_+this.encodeSpecialToken(y,B),S++,w+=B[0].length,P.set(S,w),_>=h.length)break}else break}if(S<=p)return{tokenIds:y,text:h};let D=S-p,L=0,k=0;for(let[B,ne]of P)if(B>=D){L=B,k=ne;break}if(L>p){let B=this.encode(h,g),ne=B.slice(B.length-p);return{tokenIds:ne,text:this.decode(ne)}}return{tokenIds:y.slice(L),text:h.slice(k)}}decode(h){var g,y;let p=[];for(let _ of h){let S=[],w=(g=this.decoder)==null?void 0:g.get(_);if(w!==void 0)S=Array.from(w);else{let P=(y=this.specialTokensDecoder)==null?void 0:y.get(_);if(P!==void 0){let D=this.textEncoder.encode(P);S=Array.from(D.subarray(0,this.textEncoder.length))}}p.push(...S)}return this.textDecoder.decode(new Uint8Array(p))}},o(u,"Kt"),i(u,"TikTokenizer"),u);e.TikTokenizer=c}),or=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizer=e.createByEncoderName=e.createByModelName=e.getRegexByModel=e.getRegexByEncoder=e.getSpecialTokensByModel=e.getSpecialTokensByEncoder=e.MODEL_TO_ENCODING=void 0;var t=require("fs"),r=require("path"),n=Jt(),s=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);e.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var l="<|endoftext|>",a="<|fim_prefix|>",f="<|fim_middle|>",c="<|fim_suffix|>",u="<|endofprompt|>",d="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",h="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",p=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],g=p.join("|");function y(ne){let ce="";if(e.MODEL_TO_ENCODING.has(ne))ce=e.MODEL_TO_ENCODING.get(ne);else for(let[Ge,st]of s)if(ne.startsWith(Ge)){ce=st;break}return ce}o(y,"Xt"),i(y,"getEncoderFromModelName");async function _(ne,ce){let Ge=await fetch(ne);if(!Ge.ok)throw new Error(`Failed to fetch file from ${ne}. Status code: ${Ge.status}`);let st=await Ge.text();t.writeFileSync(ce,st)}o(_,"us"),i(_,"fetchAndSaveFile");function S(ne){let ce=new Map([[l,50256]]);switch(ne){case"o200k_base":ce=new Map([[l,199999],[u,200018]]);break;case"cl100k_base":ce=new Map([[l,100257],[a,100258],[f,100259],[c,100260],[u,100276]]);break;case"p50k_edit":ce=new Map([[l,50256],[a,50281],[f,50282],[c,50283]]);break;default:break}return ce}o(S,"Yt"),i(S,"getSpecialTokensByEncoder"),e.getSpecialTokensByEncoder=S;function w(ne){let ce=y(ne);return S(ce)}o(w,"cs"),i(w,"getSpecialTokensByModel"),e.getSpecialTokensByModel=w;function P(ne){switch(ne){case"o200k_base":return g;case"cl100k_base":return h;default:break}return d}o(P,"tr"),i(P,"getRegexByEncoder"),e.getRegexByEncoder=P;function D(ne){let ce=y(ne);return P(ce)}o(D,"ds"),i(D,"getRegexByModel"),e.getRegexByModel=D;async function L(ne,ce=null){return k(y(ne),ce)}o(L,"_s"),i(L,"createByModelName"),e.createByModelName=L;async function k(ne,ce=null){let Ge,st,Qe=S(ne);switch(ne){case"o200k_base":Ge=g,st="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":Ge=h,st="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":Ge=d,st="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":Ge=d,st="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":Ge=d,st="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":Ge=d,st="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${ne}]`)}ce!==null&&(Qe=new Map([...Qe,...ce]));let Ft=r.basename(st),ke=r.resolve(__dirname,"..","model");t.existsSync(ke)||t.mkdirSync(ke,{recursive:!0});let pe=r.resolve(ke,Ft);return t.existsSync(pe)||(console.log(`Downloading file from ${st}`),await _(st,pe),console.log(`Saved file to ${pe}`)),B(pe,Qe,Ge)}o(k,"nr"),i(k,"createByEncoderName"),e.createByEncoderName=k;function B(ne,ce,Ge,st=8192){return new n.TikTokenizer(ne,ce,Ge,st)}o(B,"rr"),i(B,"createTokenizer"),e.createTokenizer=B}),sr=M(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTokenizer=e.createByEncoderName=e.createByModelName=e.getSpecialTokensByModel=e.getSpecialTokensByEncoder=e.getRegexByModel=e.getRegexByEncoder=e.MODEL_TO_ENCODING=e.TikTokenizer=void 0;var t=Jt();Object.defineProperty(e,"TikTokenizer",{enumerable:!0,get:function(){return t.TikTokenizer}});var r=or();Object.defineProperty(e,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return r.MODEL_TO_ENCODING}}),Object.defineProperty(e,"getRegexByEncoder",{enumerable:!0,get:function(){return r.getRegexByEncoder}}),Object.defineProperty(e,"getRegexByModel",{enumerable:!0,get:function(){return r.getRegexByModel}}),Object.defineProperty(e,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return r.getSpecialTokensByEncoder}}),Object.defineProperty(e,"getSpecialTokensByModel",{enumerable:!0,get:function(){return r.getSpecialTokensByModel}}),Object.defineProperty(e,"createByModelName",{enumerable:!0,get:function(){return r.createByModelName}}),Object.defineProperty(e,"createByEncoderName",{enumerable:!0,get:function(){return r.createByEncoderName}}),Object.defineProperty(e,"createTokenizer",{enumerable:!0,get:function(){return r.createTokenizer}})}),qr=M(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,l=97,a=122,f=48,c=57,u=43,d=47,h=26,p=52;return n<=r&&r<=s?r-n:l<=r&&r<=a?r-l+h:f<=r&&r<=c?r-f+p:r==u?62:r==d?63:-1}}),bn=M(e=>{var t=qr(),r=5,n=1<<r,s=n-1,l=n;function a(c){return c<0?(-c<<1)+1:(c<<1)+0}o(a,"si"),i(a,"toVLQSigned");function f(c){var u=(c&1)===1,d=c>>1;return u?-d:d}o(f,"ii"),i(f,"fromVLQSigned"),e.encode=i(function(c){var u="",d,h=a(c);do d=h&s,h>>>=r,h>0&&(d|=l),u+=t.encode(d);while(h>0);return u},"base64VLQ_encode"),e.decode=i(function(c,u,d){var h=c.length,p=0,g=0,y,_;do{if(u>=h)throw new Error("Expected more digits in base 64 VLQ value.");if(_=t.decode(c.charCodeAt(u++)),_===-1)throw new Error("Invalid base64 digit: "+c.charAt(u-1));y=!!(_&l),_&=s,p=p+(_<<g),g+=r}while(y);d.value=f(p),d.rest=u},"base64VLQ_decode")}),Le=M(e=>{function t(L,k,B){if(k in L)return L[k];if(arguments.length===3)return B;throw new Error('"'+k+'" is a required argument.')}o(t,"ai"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(L){var k=L.match(r);return k?{scheme:k[1],auth:k[2],host:k[3],port:k[4],path:k[5]}:null}o(s,"$e"),i(s,"urlParse"),e.urlParse=s;function l(L){var k="";return L.scheme&&(k+=L.scheme+":"),k+="//",L.auth&&(k+=L.auth+"@"),L.host&&(k+=L.host),L.port&&(k+=":"+L.port),L.path&&(k+=L.path),k}o(l,"xe"),i(l,"urlGenerate"),e.urlGenerate=l;function a(L){var k=L,B=s(L);if(B){if(!B.path)return L;k=B.path}for(var ne=e.isAbsolute(k),ce=k.split(/\/+/),Ge,st=0,Qe=ce.length-1;Qe>=0;Qe--)Ge=ce[Qe],Ge==="."?ce.splice(Qe,1):Ge===".."?st++:st>0&&(Ge===""?(ce.splice(Qe+1,st),st=0):(ce.splice(Qe,2),st--));return k=ce.join("/"),k===""&&(k=ne?"/":"."),B?(B.path=k,l(B)):k}o(a,"yn"),i(a,"normalize"),e.normalize=a;function f(L,k){L===""&&(L="."),k===""&&(k=".");var B=s(k),ne=s(L);if(ne&&(L=ne.path||"/"),B&&!B.scheme)return ne&&(B.scheme=ne.scheme),l(B);if(B||k.match(n))return k;if(ne&&!ne.host&&!ne.path)return ne.host=k,l(ne);var ce=k.charAt(0)==="/"?k:a(L.replace(/\/+$/,"")+"/"+k);return ne?(ne.path=ce,l(ne)):ce}o(f,"Jr"),i(f,"join"),e.join=f,e.isAbsolute=function(L){return L.charAt(0)==="/"||r.test(L)};function c(L,k){L===""&&(L="."),L=L.replace(/\/$/,"");for(var B=0;k.indexOf(L+"/")!==0;){var ne=L.lastIndexOf("/");if(ne<0||(L=L.slice(0,ne),L.match(/^([^\/]+:\/)?\/*$/)))return k;++B}return Array(B+1).join("../")+k.substr(L.length+1)}o(c,"ui"),i(c,"relative"),e.relative=c;var u=function(){var L=Object.create(null);return!("__proto__"in L)}();function d(L){return L}o(d,"Xr"),i(d,"identity");function h(L){return g(L)?"$"+L:L}o(h,"ci"),i(h,"toSetString"),e.toSetString=u?d:h;function p(L){return g(L)?L.slice(1):L}o(p,"di"),i(p,"fromSetString"),e.fromSetString=u?d:p;function g(L){if(!L)return!1;var k=L.length;if(k<9||L.charCodeAt(k-1)!==95||L.charCodeAt(k-2)!==95||L.charCodeAt(k-3)!==111||L.charCodeAt(k-4)!==116||L.charCodeAt(k-5)!==111||L.charCodeAt(k-6)!==114||L.charCodeAt(k-7)!==112||L.charCodeAt(k-8)!==95||L.charCodeAt(k-9)!==95)return!1;for(var B=k-10;B>=0;B--)if(L.charCodeAt(B)!==36)return!1;return!0}o(g,"Yr"),i(g,"isProtoString");function y(L,k,B){var ne=S(L.source,k.source);return ne!==0||(ne=L.originalLine-k.originalLine,ne!==0)||(ne=L.originalColumn-k.originalColumn,ne!==0||B)||(ne=L.generatedColumn-k.generatedColumn,ne!==0)||(ne=L.generatedLine-k.generatedLine,ne!==0)?ne:S(L.name,k.name)}o(y,"_i"),i(y,"compareByOriginalPositions"),e.compareByOriginalPositions=y;function _(L,k,B){var ne=L.generatedLine-k.generatedLine;return ne!==0||(ne=L.generatedColumn-k.generatedColumn,ne!==0||B)||(ne=S(L.source,k.source),ne!==0)||(ne=L.originalLine-k.originalLine,ne!==0)||(ne=L.originalColumn-k.originalColumn,ne!==0)?ne:S(L.name,k.name)}o(_,"pi"),i(_,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=_;function S(L,k){return L===k?0:L===null?1:k===null?-1:L>k?1:-1}o(S,"Ie"),i(S,"strcmp");function w(L,k){var B=L.generatedLine-k.generatedLine;return B!==0||(B=L.generatedColumn-k.generatedColumn,B!==0)||(B=S(L.source,k.source),B!==0)||(B=L.originalLine-k.originalLine,B!==0)||(B=L.originalColumn-k.originalColumn,B!==0)?B:S(L.name,k.name)}o(w,"fi"),i(w,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=w;function P(L){return JSON.parse(L.replace(/^\)]}'[^\n]*\n/,""))}o(P,"mi"),i(P,"parseSourceMapInput"),e.parseSourceMapInput=P;function D(L,k,B){if(k=k||"",L&&(L[L.length-1]!=="/"&&k[0]!=="/"&&(L+="/"),k=L+k),B){var ne=s(B);if(!ne)throw new Error("sourceMapURL could not be parsed");if(ne.path){var ce=ne.path.lastIndexOf("/");ce>=0&&(ne.path=ne.path.substring(0,ce+1))}k=f(l(ne),k)}return a(k)}o(D,"hi"),i(D,"computeSourceURL"),e.computeSourceURL=D}),En=M(e=>{var t=Le(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"ne"),i(s,"ArraySet"),s.fromArray=i(function(l,a){for(var f=new s,c=0,u=l.length;c<u;c++)f.add(l[c],a);return f},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(l,a){var f=n?l:t.toSetString(l),c=n?this.has(l):r.call(this._set,f),u=this._array.length;(!c||a)&&this._array.push(l),c||(n?this._set.set(l,u):this._set[f]=u)},"ArraySet_add"),s.prototype.has=i(function(l){if(n)return this._set.has(l);var a=t.toSetString(l);return r.call(this._set,a)},"ArraySet_has"),s.prototype.indexOf=i(function(l){if(n){var a=this._set.get(l);if(a>=0)return a}else{var f=t.toSetString(l);if(r.call(this._set,f))return this._set[f]}throw new Error('"'+l+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(l){if(l>=0&&l<this._array.length)return this._array[l];throw new Error("No element indexed by "+l)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),ro=M(e=>{var t=Le();function r(s,l){var a=s.generatedLine,f=l.generatedLine,c=s.generatedColumn,u=l.generatedColumn;return f>a||f==a&&u>=c||t.compareByGeneratedPositionsInflated(s,l)<=0}o(r,"gi"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"Nt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,l){this._array.forEach(s,l)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),Sn=M(e=>{var t=bn(),r=Le(),n=En().ArraySet,s=ro().MappingList;function l(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(l,"W"),i(l,"SourceMapGenerator"),l.prototype._version=3,l.fromSourceMap=i(function(a){var f=a.sourceRoot,c=new l({file:a.file,sourceRoot:f});return a.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,f!=null&&(d.source=r.relative(f,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),c.addMapping(d)}),a.sources.forEach(function(u){var d=u;f!==null&&(d=r.relative(f,u)),c._sources.has(d)||c._sources.add(d);var h=a.sourceContentFor(u);h!=null&&c.setSourceContent(u,h)}),c},"SourceMapGenerator_fromSourceMap"),l.prototype.addMapping=i(function(a){var f=r.getArg(a,"generated"),c=r.getArg(a,"original",null),u=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(f,c,u,d),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:u,name:d})},"SourceMapGenerator_addMapping"),l.prototype.setSourceContent=i(function(a,f){var c=a;this._sourceRoot!=null&&(c=r.relative(this._sourceRoot,c)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(c)]=f):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),l.prototype.applySourceMap=i(function(a,f,c){var u=f;if(f==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=a.file}var d=this._sourceRoot;d!=null&&(u=r.relative(d,u));var h=new n,p=new n;this._mappings.unsortedForEach(function(g){if(g.source===u&&g.originalLine!=null){var y=a.originalPositionFor({line:g.originalLine,column:g.originalColumn});y.source!=null&&(g.source=y.source,c!=null&&(g.source=r.join(c,g.source)),d!=null&&(g.source=r.relative(d,g.source)),g.originalLine=y.line,g.originalColumn=y.column,y.name!=null&&(g.name=y.name))}var _=g.source;_!=null&&!h.has(_)&&h.add(_);var S=g.name;S!=null&&!p.has(S)&&p.add(S)},this),this._sources=h,this._names=p,a.sources.forEach(function(g){var y=a.sourceContentFor(g);y!=null&&(c!=null&&(g=r.join(c,g)),d!=null&&(g=r.relative(d,g)),this.setSourceContent(g,y))},this)},"SourceMapGenerator_applySourceMap"),l.prototype._validateMapping=i(function(a,f,c,u){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!f&&!c&&!u)){if(a&&"line"in a&&"column"in a&&f&&"line"in f&&"column"in f&&a.line>0&&a.column>=0&&f.line>0&&f.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:f,name:u}))}},"SourceMapGenerator_validateMapping"),l.prototype._serializeMappings=i(function(){for(var a=0,f=1,c=0,u=0,d=0,h=0,p="",g,y,_,S,w=this._mappings.toArray(),P=0,D=w.length;P<D;P++){if(y=w[P],g="",y.generatedLine!==f)for(a=0;y.generatedLine!==f;)g+=";",f++;else if(P>0){if(!r.compareByGeneratedPositionsInflated(y,w[P-1]))continue;g+=","}g+=t.encode(y.generatedColumn-a),a=y.generatedColumn,y.source!=null&&(S=this._sources.indexOf(y.source),g+=t.encode(S-h),h=S,g+=t.encode(y.originalLine-1-u),u=y.originalLine-1,g+=t.encode(y.originalColumn-c),c=y.originalColumn,y.name!=null&&(_=this._names.indexOf(y.name),g+=t.encode(_-d),d=_)),p+=g}return p},"SourceMapGenerator_serializeMappings"),l.prototype._generateSourcesContent=i(function(a,f){return a.map(function(c){if(!this._sourcesContents)return null;f!=null&&(c=r.relative(f,c));var u=r.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},"SourceMapGenerator_generateSourcesContent"),l.prototype.toJSON=i(function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},"SourceMapGenerator_toJSON"),l.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=l}),so=M(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,l,a,f){var c=Math.floor((n-r)/2)+r,u=a(s,l[c],!0);return u===0?c:u>0?n-c>1?t(c,n,s,l,a,f):f==e.LEAST_UPPER_BOUND?n<l.length?n:-1:c:c-r>1?t(r,c,s,l,a,f):f==e.LEAST_UPPER_BOUND?c:r<0?-1:r}o(t,"Tn"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,l){if(n.length===0)return-1;var a=t(-1,n.length,r,n,s,l||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(n[a],n[a-1],!0)===0;)--a;return a},"search")}),ao=M(e=>{function t(s,l,a){var f=s[l];s[l]=s[a],s[a]=f}o(t,"Mn"),i(t,"swap");function r(s,l){return Math.round(s+Math.random()*(l-s))}o(r,"yi"),i(r,"randomIntInRange");function n(s,l,a,f){if(a<f){var c=r(a,f),u=a-1;t(s,c,f);for(var d=s[f],h=a;h<f;h++)l(s[h],d)<=0&&(u+=1,t(s,u,h));t(s,u+1,h);var p=u+1;n(s,l,a,p-1),n(s,l,p+1,f)}}o(n,"xn"),i(n,"doQuickSort"),e.quickSort=function(s,l){n(s,l,0,s.length-1)}}),uo=M(e=>{var t=Le(),r=so(),n=En().ArraySet,s=bn(),l=ao().quickSort;function a(d,h){var p=d;return typeof d=="string"&&(p=t.parseSourceMapInput(d)),p.sections!=null?new u(p,h):new f(p,h)}o(a,"S"),i(a,"SourceMapConsumer"),a.fromSourceMap=function(d,h){return f.fromSourceMap(d,h)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=i(function(d,h){var p=d.charAt(h);return p===";"||p===","},"SourceMapConsumer_charIsMappingSeparator"),a.prototype._parseMappings=i(function(d,h){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=i(function(d,h,p){var g=h||null,y=p||a.GENERATED_ORDER,_;switch(y){case a.GENERATED_ORDER:_=this._generatedMappings;break;case a.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var S=this.sourceRoot;_.map(function(w){var P=w.source===null?null:this._sources.at(w.source);return P=t.computeSourceURL(S,P,this._sourceMapURL),{source:P,generatedLine:w.generatedLine,generatedColumn:w.generatedColumn,originalLine:w.originalLine,originalColumn:w.originalColumn,name:w.name===null?null:this._names.at(w.name)}},this).forEach(d,g)},"SourceMapConsumer_eachMapping"),a.prototype.allGeneratedPositionsFor=i(function(d){var h=t.getArg(d,"line"),p={source:t.getArg(d,"source"),originalLine:h,originalColumn:t.getArg(d,"column",0)};if(p.source=this._findSourceIndex(p.source),p.source<0)return[];var g=[],y=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(y>=0){var _=this._originalMappings[y];if(d.column===void 0)for(var S=_.originalLine;_&&_.originalLine===S;)g.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++y];else for(var w=_.originalColumn;_&&_.originalLine===h&&_.originalColumn==w;)g.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++y]}return g},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=a;function f(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var g=t.getArg(p,"version"),y=t.getArg(p,"sources"),_=t.getArg(p,"names",[]),S=t.getArg(p,"sourceRoot",null),w=t.getArg(p,"sourcesContent",null),P=t.getArg(p,"mappings"),D=t.getArg(p,"file",null);if(g!=this._version)throw new Error("Unsupported version: "+g);S&&(S=t.normalize(S)),y=y.map(String).map(t.normalize).map(function(L){return S&&t.isAbsolute(S)&&t.isAbsolute(L)?t.relative(S,L):L}),this._names=n.fromArray(_.map(String),!0),this._sources=n.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(L){return t.computeSourceURL(S,L,h)}),this.sourceRoot=S,this.sourcesContent=w,this._mappings=P,this._sourceMapURL=h,this.file=D}o(f,"P"),i(f,"BasicSourceMapConsumer"),f.prototype=Object.create(a.prototype),f.prototype.consumer=a,f.prototype._findSourceIndex=function(d){var h=d;if(this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h)),this._sources.has(h))return this._sources.indexOf(h);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==d)return p;return-1},f.fromSourceMap=i(function(d,h){var p=Object.create(f.prototype),g=p._names=n.fromArray(d._names.toArray(),!0),y=p._sources=n.fromArray(d._sources.toArray(),!0);p.sourceRoot=d._sourceRoot,p.sourcesContent=d._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=d._file,p._sourceMapURL=h,p._absoluteSources=p._sources.toArray().map(function(B){return t.computeSourceURL(p.sourceRoot,B,h)});for(var _=d._mappings.toArray().slice(),S=p.__generatedMappings=[],w=p.__originalMappings=[],P=0,D=_.length;P<D;P++){var L=_[P],k=new c;k.generatedLine=L.generatedLine,k.generatedColumn=L.generatedColumn,L.source&&(k.source=y.indexOf(L.source),k.originalLine=L.originalLine,k.originalColumn=L.originalColumn,L.name&&(k.name=g.indexOf(L.name)),w.push(k)),S.push(k)}return l(p.__originalMappings,t.compareByOriginalPositions),p},"SourceMapConsumer_fromSourceMap"),f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(c,"lo"),i(c,"Mapping"),f.prototype._parseMappings=i(function(d,h){for(var p=1,g=0,y=0,_=0,S=0,w=0,P=d.length,D=0,L={},k={},B=[],ne=[],ce,Ge,st,Qe,Ft;D<P;)if(d.charAt(D)===";")p++,D++,g=0;else if(d.charAt(D)===",")D++;else{for(ce=new c,ce.generatedLine=p,Qe=D;Qe<P&&!this._charIsMappingSeparator(d,Qe);Qe++);if(Ge=d.slice(D,Qe),st=L[Ge],st)D+=Ge.length;else{for(st=[];D<Qe;)s.decode(d,D,k),Ft=k.value,D=k.rest,st.push(Ft);if(st.length===2)throw new Error("Found a source, but no line and column");if(st.length===3)throw new Error("Found a source and line, but no column");L[Ge]=st}ce.generatedColumn=g+st[0],g=ce.generatedColumn,st.length>1&&(ce.source=S+st[1],S+=st[1],ce.originalLine=y+st[2],y=ce.originalLine,ce.originalLine+=1,ce.originalColumn=_+st[3],_=ce.originalColumn,st.length>4&&(ce.name=w+st[4],w+=st[4])),ne.push(ce),typeof ce.originalLine=="number"&&B.push(ce)}l(ne,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=ne,l(B,t.compareByOriginalPositions),this.__originalMappings=B},"SourceMapConsumer_parseMappings"),f.prototype._findMapping=i(function(d,h,p,g,y,_){if(d[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[p]);if(d[g]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[g]);return r.search(d,h,y,_)},"SourceMapConsumer_findMapping"),f.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var h=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var p=this._generatedMappings[d+1];if(h.generatedLine===p.generatedLine){h.lastGeneratedColumn=p.generatedColumn-1;continue}}h.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),f.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=this._findMapping(h,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(p>=0){var g=this._generatedMappings[p];if(g.generatedLine===h.generatedLine){var y=t.getArg(g,"source",null);y!==null&&(y=this._sources.at(y),y=t.computeSourceURL(this.sourceRoot,y,this._sourceMapURL));var _=t.getArg(g,"name",null);return _!==null&&(_=this._names.at(_)),{source:y,line:t.getArg(g,"originalLine",null),column:t.getArg(g,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,h){if(!this.sourcesContent)return null;var p=this._findSourceIndex(d);if(p>=0)return this.sourcesContent[p];var g=d;this.sourceRoot!=null&&(g=t.relative(this.sourceRoot,g));var y;if(this.sourceRoot!=null&&(y=t.urlParse(this.sourceRoot))){var _=g.replace(/^file:\/\//,"");if(y.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!y.path||y.path=="/")&&this._sources.has("/"+g))return this.sourcesContent[this._sources.indexOf("/"+g)]}if(h)return null;throw new Error('"'+g+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){var h=t.getArg(d,"source");if(h=this._findSourceIndex(h),h<0)return{line:null,column:null,lastColumn:null};var p={source:h,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},g=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(g>=0){var y=this._originalMappings[g];if(y.source===p.source)return{line:t.getArg(y,"generatedLine",null),column:t.getArg(y,"generatedColumn",null),lastColumn:t.getArg(y,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=f;function u(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var g=t.getArg(p,"version"),y=t.getArg(p,"sections");if(g!=this._version)throw new Error("Unsupported version: "+g);this._sources=new n,this._names=new n;var _={line:-1,column:0};this._sections=y.map(function(S){if(S.url)throw new Error("Support for url field in sections not implemented.");var w=t.getArg(S,"offset"),P=t.getArg(w,"line"),D=t.getArg(w,"column");if(P<_.line||P===_.line&&D<_.column)throw new Error("Section offsets must be ordered and non-overlapping.");return _=w,{generatedOffset:{generatedLine:P+1,generatedColumn:D+1},consumer:new a(t.getArg(S,"map"),h)}})}o(u,"H"),i(u,"IndexedSourceMapConsumer"),u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var d=[],h=0;h<this._sections.length;h++)for(var p=0;p<this._sections[h].consumer.sources.length;p++)d.push(this._sections[h].consumer.sources[p]);return d}}),u.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=r.search(h,this._sections,function(y,_){var S=y.generatedLine-_.generatedOffset.generatedLine;return S||y.generatedColumn-_.generatedOffset.generatedColumn}),g=this._sections[p];return g?g.consumer.originalPositionFor({line:h.generatedLine-(g.generatedOffset.generatedLine-1),column:h.generatedColumn-(g.generatedOffset.generatedLine===h.generatedLine?g.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),u.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),u.prototype.sourceContentFor=i(function(d,h){for(var p=0;p<this._sections.length;p++){var g=this._sections[p],y=g.consumer.sourceContentFor(d,!0);if(y)return y}if(h)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),u.prototype.generatedPositionFor=i(function(d){for(var h=0;h<this._sections.length;h++){var p=this._sections[h];if(p.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var g=p.consumer.generatedPositionFor(d);if(g){var y={line:g.line+(p.generatedOffset.generatedLine-1),column:g.column+(p.generatedOffset.generatedLine===g.line?p.generatedOffset.generatedColumn-1:0)};return y}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),u.prototype._parseMappings=i(function(d,h){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var g=this._sections[p],y=g.consumer._generatedMappings,_=0;_<y.length;_++){var S=y[_],w=g.consumer._sources.at(S.source);w=t.computeSourceURL(g.consumer.sourceRoot,w,this._sourceMapURL),this._sources.add(w),w=this._sources.indexOf(w);var P=null;S.name&&(P=g.consumer._names.at(S.name),this._names.add(P),P=this._names.indexOf(P));var D={source:w,generatedLine:S.generatedLine+(g.generatedOffset.generatedLine-1),generatedColumn:S.generatedColumn+(g.generatedOffset.generatedLine===S.generatedLine?g.generatedOffset.generatedColumn-1:0),originalLine:S.originalLine,originalColumn:S.originalColumn,name:P};this.__generatedMappings.push(D),typeof D.originalLine=="number"&&this.__originalMappings.push(D)}l(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),l(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=u}),_o=M(e=>{var t=Sn().SourceMapGenerator,r=Le(),n=/(\r?\n)/,s=10,l="$$$isSourceNode$$$";function a(f,c,u,d,h){this.children=[],this.sourceContents={},this.line=f!=null?f:null,this.column=c!=null?c:null,this.source=u!=null?u:null,this.name=h!=null?h:null,this[l]=!0,d!=null&&this.add(d)}o(a,"B"),i(a,"SourceNode"),a.fromStringWithSourceMap=i(function(f,c,u){var d=new a,h=f.split(n),p=0,g=i(function(){var P=L(),D=L()||"";return P+D;function L(){return p<h.length?h[p++]:void 0}},"shiftNextLine"),y=1,_=0,S=null;return c.eachMapping(function(P){if(S!==null)if(y<P.generatedLine)w(S,g()),y++,_=0;else{var D=h[p]||"",L=D.substr(0,P.generatedColumn-_);h[p]=D.substr(P.generatedColumn-_),_=P.generatedColumn,w(S,L),S=P;return}for(;y<P.generatedLine;)d.add(g()),y++;if(_<P.generatedColumn){var D=h[p]||"";d.add(D.substr(0,P.generatedColumn)),h[p]=D.substr(P.generatedColumn),_=P.generatedColumn}S=P},this),p<h.length&&(S&&w(S,g()),d.add(h.splice(p).join(""))),c.sources.forEach(function(P){var D=c.sourceContentFor(P);D!=null&&(u!=null&&(P=r.join(u,P)),d.setSourceContent(P,D))}),d;function w(P,D){if(P===null||P.source===void 0)d.add(D);else{var L=u?r.join(u,P.source):P.source;d.add(new a(P.originalLine,P.originalColumn,L,D,P.name))}}},"SourceNode_fromStringWithSourceMap"),a.prototype.add=i(function(f){if(Array.isArray(f))f.forEach(function(c){this.add(c)},this);else if(f[l]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_add"),a.prototype.prepend=i(function(f){if(Array.isArray(f))for(var c=f.length-1;c>=0;c--)this.prepend(f[c]);else if(f[l]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_prepend"),a.prototype.walk=i(function(f){for(var c,u=0,d=this.children.length;u<d;u++)c=this.children[u],c[l]?c.walk(f):c!==""&&f(c,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),a.prototype.join=i(function(f){var c,u,d=this.children.length;if(d>0){for(c=[],u=0;u<d-1;u++)c.push(this.children[u]),c.push(f);c.push(this.children[u]),this.children=c}return this},"SourceNode_join"),a.prototype.replaceRight=i(function(f,c){var u=this.children[this.children.length-1];return u[l]?u.replaceRight(f,c):typeof u=="string"?this.children[this.children.length-1]=u.replace(f,c):this.children.push("".replace(f,c)),this},"SourceNode_replaceRight"),a.prototype.setSourceContent=i(function(f,c){this.sourceContents[r.toSetString(f)]=c},"SourceNode_setSourceContent"),a.prototype.walkSourceContents=i(function(f){for(var c=0,u=this.children.length;c<u;c++)this.children[c][l]&&this.children[c].walkSourceContents(f);for(var d=Object.keys(this.sourceContents),c=0,u=d.length;c<u;c++)f(r.fromSetString(d[c]),this.sourceContents[d[c]])},"SourceNode_walkSourceContents"),a.prototype.toString=i(function(){var f="";return this.walk(function(c){f+=c}),f},"SourceNode_toString"),a.prototype.toStringWithSourceMap=i(function(f){var c={code:"",line:1,column:0},u=new t(f),d=!1,h=null,p=null,g=null,y=null;return this.walk(function(_,S){c.code+=_,S.source!==null&&S.line!==null&&S.column!==null?((h!==S.source||p!==S.line||g!==S.column||y!==S.name)&&u.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:c.line,column:c.column},name:S.name}),h=S.source,p=S.line,g=S.column,y=S.name,d=!0):d&&(u.addMapping({generated:{line:c.line,column:c.column}}),h=null,d=!1);for(var w=0,P=_.length;w<P;w++)_.charCodeAt(w)===s?(c.line++,c.column=0,w+1===P?(h=null,d=!1):d&&u.addMapping({source:S.source,original:{line:S.line,column:S.column},generated:{line:c.line,column:c.column},name:S.name})):c.column++}),this.walkSourceContents(function(_,S){u.setSourceContent(_,S)}),{code:c.code,map:u}},"SourceNode_toStringWithSourceMap"),e.SourceNode=a}),po=M(e=>{e.SourceMapGenerator=Sn().SourceMapGenerator,e.SourceMapConsumer=uo().SourceMapConsumer,e.SourceNode=_o().SourceNode}),mo=M((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(c){return r.call(c).slice(8,-1)==="ArrayBuffer"}o(s,"Mi"),i(s,"isArrayBuffer");function l(c,u,d){u>>>=0;var h=c.byteLength-u;if(h<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=h;else if(d>>>=0,d>h)throw new RangeError("'length' is out of bounds");return n?Buffer.from(c.slice(u,u+d)):new Buffer(new Uint8Array(c.slice(u,u+d)))}o(l,"xi"),i(l,"fromArrayBuffer");function a(c,u){if((typeof u!="string"||u==="")&&(u="utf8"),!Buffer.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(c,u):new Buffer(c,u)}o(a,"Ii"),i(a,"fromString");function f(c,u,d){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return s(c)?l(c,u,d):typeof c=="string"?a(c,u):n?Buffer.from(c):new Buffer(c)}o(f,"Li"),i(f,"bufferFrom"),t.exports=f}),So=M((e,t)=>{var r=po().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var l=mo();function a(de,xe){return de.require(xe)}o(a,"ho"),i(a,"dynamicRequire");var f=!1,c=!1,u=!1,d="auto",h={},p={},g=/^data:application\/json[^,]+base64,/,y=[],_=[];function S(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(S,"An"),i(S,"isInBrowser");function w(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(w,"Ci"),i(w,"hasGlobalProcessEventEmitter");function P(){return typeof process=="object"&&process!==null?process.version:""}o(P,"Ai"),i(P,"globalProcessVersion");function D(){if(typeof process=="object"&&process!==null)return process.stderr}o(D,"Fi"),i(D,"globalProcessStderr");function L(de){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(de)}o(L,"Ri"),i(L,"globalProcessExit");function k(de){return function(xe){for(var r0=0;r0<de.length;r0++){var T0=de[r0](xe);if(T0)return T0}return null}}o(k,"Rt"),i(k,"handlerExec");var B=k(y);y.push(function(de){if(de=de.trim(),/^file:/.test(de)&&(de=de.replace(/file:\/\/\/(\w:)?/,function(T0,v0){return v0?"":"/"})),de in h)return h[de];var xe="";try{if(s)s.existsSync(de)&&(xe=s.readFileSync(de,"utf8"));else{var r0=new XMLHttpRequest;r0.open("GET",de,!1),r0.send(null),r0.readyState===4&&r0.status===200&&(xe=r0.responseText)}}catch{}return h[de]=xe});function ne(de,xe){if(!de)return xe;var r0=n.dirname(de),T0=/^\w+:\/\/[^\/]*/.exec(r0),v0=T0?T0[0]:"",Zt=r0.slice(v0.length);return v0&&/^\/\w\:/.test(Zt)?(v0+="/",v0+n.resolve(r0.slice(v0.length),xe).replace(/\\/g,"/")):v0+n.resolve(r0.slice(v0.length),xe)}o(ne,"Pn"),i(ne,"supportRelativeURL");function ce(de){var xe;if(S())try{var r0=new XMLHttpRequest;r0.open("GET",de,!1),r0.send(null),xe=r0.readyState===4?r0.responseText:null;var T0=r0.getResponseHeader("SourceMap")||r0.getResponseHeader("X-SourceMap");if(T0)return T0}catch{}xe=B(de);for(var v0=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,Zt,G0;G0=v0.exec(xe);)Zt=G0;return Zt?Zt[1]:null}o(ce,"Oi"),i(ce,"retrieveSourceMapURL");var Ge=k(_);_.push(function(de){var xe=ce(de);if(!xe)return null;var r0;if(g.test(xe)){var T0=xe.slice(xe.indexOf(",")+1);r0=l(T0,"base64").toString(),xe=de}else xe=ne(de,xe),r0=B(xe);return r0?{url:xe,map:r0}:null});function st(de){var xe=p[de.source];if(!xe){var r0=Ge(de.source);r0?(xe=p[de.source]={url:r0.url,map:new r(r0.map)},xe.map.sourcesContent&&xe.map.sources.forEach(function(v0,Zt){var G0=xe.map.sourcesContent[Zt];if(G0){var ge=ne(xe.url,v0);h[ge]=G0}})):xe=p[de.source]={url:null,map:null}}if(xe&&xe.map&&typeof xe.map.originalPositionFor=="function"){var T0=xe.map.originalPositionFor(de);if(T0.source!==null)return T0.source=ne(xe.url,T0.source),T0}return de}o(st,"On"),i(st,"mapSourcePosition");function Qe(de){var xe=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(de);if(xe){var r0=st({source:xe[2],line:+xe[3],column:xe[4]-1});return"eval at "+xe[1]+" ("+r0.source+":"+r0.line+":"+(r0.column+1)+")"}return xe=/^eval at ([^(]+) \((.+)\)$/.exec(de),xe?"eval at "+xe[1]+" ("+Qe(xe[2])+")":de}o(Qe,"wo"),i(Qe,"mapEvalOrigin");function Ft(){var de,xe="";if(this.isNative())xe="native";else{de=this.getScriptNameOrSourceURL(),!de&&this.isEval()&&(xe=this.getEvalOrigin(),xe+=", "),de?xe+=de:xe+="<anonymous>";var r0=this.getLineNumber();if(r0!=null){xe+=":"+r0;var T0=this.getColumnNumber();T0&&(xe+=":"+T0)}}var v0="",Zt=this.getFunctionName(),G0=!0,ge=this.isConstructor(),y0=!(this.isToplevel()||ge);if(y0){var et=this.getTypeName();et==="[object Object]"&&(et="null");var m0=this.getMethodName();Zt?(et&&Zt.indexOf(et)!=0&&(v0+=et+"."),v0+=Zt,m0&&Zt.indexOf("."+m0)!=Zt.length-m0.length-1&&(v0+=" [as "+m0+"]")):v0+=et+"."+(m0||"<anonymous>")}else ge?v0+="new "+(Zt||"<anonymous>"):Zt?v0+=Zt:(v0+=xe,G0=!1);return G0&&(v0+=" ("+xe+")"),v0}o(Ft,"Bi"),i(Ft,"CallSiteToString");function ke(de){var xe={};return Object.getOwnPropertyNames(Object.getPrototypeOf(de)).forEach(function(r0){xe[r0]=/^(?:is|get)/.test(r0)?function(){return de[r0].call(de)}:de[r0]}),xe.toString=Ft,xe}o(ke,"yo"),i(ke,"cloneCallSite");function pe(de,xe){if(xe===void 0&&(xe={nextPosition:null,curPosition:null}),de.isNative())return xe.curPosition=null,de;var r0=de.getFileName()||de.getScriptNameOrSourceURL();if(r0){var T0=de.getLineNumber(),v0=de.getColumnNumber()-1,Zt=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,G0=Zt.test(P())?0:62;T0===1&&v0>G0&&!S()&&!de.isEval()&&(v0-=G0);var ge=st({source:r0,line:T0,column:v0});xe.curPosition=ge,de=ke(de);var y0=de.getFunctionName;return de.getFunctionName=function(){return xe.nextPosition==null?y0():xe.nextPosition.name||y0()},de.getFileName=function(){return ge.source},de.getLineNumber=function(){return ge.line},de.getColumnNumber=function(){return ge.column+1},de.getScriptNameOrSourceURL=function(){return ge.source},de}var et=de.isEval()&&de.getEvalOrigin();return et&&(et=Qe(et),de=ke(de),de.getEvalOrigin=function(){return et}),de}o(pe,"vo"),i(pe,"wrapCallSite");function Pt(de,xe){u&&(h={},p={});for(var r0=de.name||"Error",T0=de.message||"",v0=r0+": "+T0,Zt={nextPosition:null,curPosition:null},G0=[],ge=xe.length-1;ge>=0;ge--)G0.push(`
    at `+pe(xe[ge],Zt)),Zt.nextPosition=Zt.curPosition;return Zt.curPosition=Zt.nextPosition=null,v0+G0.reverse().join("")}o(Pt,"Di"),i(Pt,"prepareStackTrace");function Ht(de){var xe=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(de.stack);if(xe){var r0=xe[1],T0=+xe[2],v0=+xe[3],Zt=h[r0];if(!Zt&&s&&s.existsSync(r0))try{Zt=s.readFileSync(r0,"utf8")}catch{Zt=""}if(Zt){var G0=Zt.split(/(?:\r\n|\r|\n)/)[T0-1];if(G0)return r0+":"+T0+`
`+G0+`
`+new Array(v0).join(" ")+"^"}}return null}o(Ht,"Eo"),i(Ht,"getErrorSource");function $t(de){var xe=Ht(de),r0=D();r0&&r0._handle&&r0._handle.setBlocking&&r0._handle.setBlocking(!0),xe&&(console.error(),console.error(xe)),console.error(de.stack),L(1)}o($t,"Wi"),i($t,"printErrorAndExit");function d0(){var de=process.emit;process.emit=function(xe){if(xe==="uncaughtException"){var r0=arguments[1]&&arguments[1].stack,T0=this.listeners(xe).length>0;if(r0&&!T0)return $t(arguments[1])}return de.apply(this,arguments)}}o(d0,"Ui"),i(d0,"shimEmitUncaughtException");var rt=y.slice(0),Nt=_.slice(0);e.wrapCallSite=pe,e.getErrorSource=Ht,e.mapSourcePosition=st,e.retrieveSourceMap=Ge,e.install=function(de){if(de=de||{},de.environment&&(d=de.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(de.retrieveFile&&(de.overrideRetrieveFile&&(y.length=0),y.unshift(de.retrieveFile)),de.retrieveSourceMap&&(de.overrideRetrieveSourceMap&&(_.length=0),_.unshift(de.retrieveSourceMap)),de.hookRequire&&!S()){var xe=a(t,"module"),r0=xe.prototype._compile;r0.__sourceMapSupport||(xe.prototype._compile=function(Zt,G0){return h[G0]=Zt,p[G0]=void 0,r0.call(this,Zt,G0)},xe.prototype._compile.__sourceMapSupport=!0)}if(u||(u="emptyCacheBetweenOperations"in de?de.emptyCacheBetweenOperations:!1),f||(f=!0,Error.prepareStackTrace=Pt),!c){var T0="handleUncaughtExceptions"in de?de.handleUncaughtExceptions:!0;try{var v0=a(t,"worker_threads");v0.isMainThread===!1&&(T0=!1)}catch{}T0&&w()&&(c=!0,d0())}},e.resetRetrieveHandlers=function(){y.length=0,_.length=0,y=rt.slice(0),_=Nt.slice(0),Ge=k(_),B=k(y)}}),To=M(()=>{So().install()}),Po=M((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((a,f)=>{throw f},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((a,f)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),"read_"),readBinary=i(a=>{var f=read_(a,!0);return f.buffer||(f=new Uint8Array(f)),f},"readBinary"),readAsync=i((a,f,c)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(u,d){u?c(u):f(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((a,f)=>{if(keepRuntimeAlive())throw process.exitCode=a,f;logExceptionOnExit(f),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)},"readBinary")),readAsync=i((a,f,c)=>{var u=new XMLHttpRequest;u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?f(u.response):c()},u.onerror=c,u.send(null)},"readAsync"),setWindowTitle=i(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,f,c){for(var u=f+c,d=f;a[d]&&!(d>=u);)++d;if(d-f>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(f,d));for(var h="";f<d;){var p=a[f++];if(128&p){var g=63&a[f++];if((224&p)!=192){var y=63&a[f++];if((p=(240&p)==224?(15&p)<<12|g<<6|y:(7&p)<<18|g<<12|y<<6|63&a[f++])<65536)h+=String.fromCharCode(p);else{var _=p-65536;h+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else h+=String.fromCharCode((31&p)<<6|g)}else h+=String.fromCharCode(p)}return h}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,f){return a?UTF8ArrayToString(HEAPU8,a,f):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,f,c,u){if(!(u>0))return 0;for(var d=c,h=c+u-1,p=0;p<a.length;++p){var g=a.charCodeAt(p);if(g>=55296&&g<=57343&&(g=65536+((1023&g)<<10)|1023&a.charCodeAt(++p)),g<=127){if(c>=h)break;f[c++]=g}else if(g<=2047){if(c+1>=h)break;f[c++]=192|g>>6,f[c++]=128|63&g}else if(g<=65535){if(c+2>=h)break;f[c++]=224|g>>12,f[c++]=128|g>>6&63,f[c++]=128|63&g}else{if(c+3>=h)break;f[c++]=240|g>>18,f[c++]=128|g>>12&63,f[c++]=128|g>>6&63,f[c++]=128|63&g}}return f[c]=0,c-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,f,c){return stringToUTF8Array(a,HEAPU8,f,c)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var f=0,c=0;c<a.length;++c){var u=a.charCodeAt(c);u<=127?f++:u<=2047?f+=2:u>=55296&&u<=57343?(f+=4,++c):f+=3}return f}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var f=dependenciesFulfilled;dependenciesFulfilled=null,f()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(f){abort(f)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,f){readAsync(wasmBinaryFile,function(c){a(new Uint8Array(c))},f)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function f(d,h){var p=d.exports;p=relocateExports(p,1024);var g=getDylinkMetadata(h);g.neededDynlibs&&(dynamicLibraries=g.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(p,"main"),Module.asm=p,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(f,"e"),i(f,"t");function c(d){f(d.instance,d.module)}o(c,"n"),i(c,"r");function u(d){return getBinaryPromise().then(function(h){return WebAssembly.instantiate(h,a)}).then(function(h){return h}).then(d,function(h){err("failed to asynchronously prepare wasm: "+h),abort(h)})}if(o(u,"r"),i(u,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,f)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?u(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,a).then(c,function(h){return err("wasm streaming compile failed: "+h),err("falling back to ArrayBuffer instantiation"),u(c)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,f){var c=GOT[f];return c||(c=GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(f)||(c.required=!0),c}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var f=0,c=0;function u(){for(var ne=0,ce=1;;){var Ge=a[f++];if(ne+=(127&Ge)*ce,ce*=128,!(128&Ge))break}return ne}o(u,"r"),i(u,"_");function d(){var ne=u();return UTF8ArrayToString(a,(f+=ne)-ne,ne)}o(d,"o"),i(d,"n");function h(ne,ce){if(ne)throw new Error(ce)}o(h,"s"),i(h,"s");var p="dylink.0";if(a instanceof WebAssembly.Module){var g=WebAssembly.Module.customSections(a,p);g.length===0&&(p="dylink",g=WebAssembly.Module.customSections(a,p)),h(g.length===0,"need dylink section"),c=(a=new Uint8Array(g[0])).length}else{h(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),h(a[8]!==0,"need the dylink section to be first"),f=9;var y=u();c=f+y,p=d()}var _={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(p=="dylink"){_.memorySize=u(),_.memoryAlign=u(),_.tableSize=u(),_.tableAlign=u();for(var S=u(),w=0;w<S;++w){var P=d();_.neededDynlibs.push(P)}}else for(h(p!=="dylink.0");f<c;){var D=a[f++],L=u();if(D===1)_.memorySize=u(),_.memoryAlign=u(),_.tableSize=u(),_.tableAlign=u();else if(D===2)for(S=u(),w=0;w<S;++w)P=d(),_.neededDynlibs.push(P);else if(D===3)for(var k=u();k--;){var B=d();256&u()&&_.tlsExports.add(B)}else if(D===4)for(k=u();k--;)d(),B=d(),(3&u())==1&&_.weakImports.add(B);else f+=L}return _}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(a,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+f)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,f){for(var c in a)if(a.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=a[c]);var u=asmjsMangle(c);Module.hasOwnProperty(u)||(Module[u]=a[c]),c=="__main_argc_argv"&&(Module._main=a[c])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,f,c){var u=Module["dynCall_"+a];return c&&c.length?u.apply(null,[f].concat(c)):u.call(null,f)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var f=wasmTableMirror[a];return f||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=f=wasmTable.get(a)),f}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,f,c){return a.includes("j")?dynCallLegacy(a,f,c):getWasmTableEntry(f).apply(null,c)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(a){return function(){var f=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(f),c!==c+0)throw c;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,f){return HEAPU8.fill(0,a,a+f),a}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var f=___heap_base,c=f+a+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,f}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(a,f){a<128?f.push(a):f.push(a%128|128,a>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:a[0]=="v"?[]:[f[a[0]]]},u=1;u<a.length;++u)c.parameters.push(f[a[u]]),a[u]==="j"&&c.parameters.push("i32");return c}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,f){var c=a.slice(0,1),u=a.slice(1),d={i:127,p:127,j:126,f:125,d:124};f.push(96),uleb128Encode(u.length,f);for(var h=0;h<u.length;++h)f.push(d[u[h]]);c=="v"?f.push(0):f.push(1,d[c])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(f),a);var c=[1];generateFuncType(f,c);var u=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,u),u.push.apply(u,c),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(u));return new WebAssembly.Instance(d,{e:{f:a}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,f){if(functionsInTableMap)for(var c=a;c<a+f;c++){var u=getWasmTableEntry(c);u&&functionsInTableMap.set(u,c)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,f){wasmTable.set(a,f),wasmTableMirror[a]=wasmTable.get(a)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,f){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var c=getEmptyTableSlot();try{setWasmTableEntry(c,a)}catch(u){if(!(u instanceof TypeError))throw u;setWasmTableEntry(c,convertJsFunctionToWasm(a,f))}return functionsInTableMap.set(a,c),c}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(a,f){for(var c in a)if(!isInternalSym(c)){var u=a[c];c.startsWith("orig$")&&(c=c.split("$")[1],f=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(f||GOT[c].value==0)&&(typeof u=="function"?GOT[c].value=addFunction(u):typeof u=="number"?GOT[c].value=u:err("unhandled export type for `"+c+"`: "+typeof u))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(a,f,c){var u={};for(var d in a){var h=a[d];typeof h=="object"&&(h=h.value),typeof h=="number"&&(h+=f),u[d]=h}return updateGOT(u,c),u}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(a,f){var c;return f&&(c=asmLibraryArg["orig$"+a]),c||(c=asmLibraryArg[a])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(a)]),!c&&a.startsWith("invoke_")&&(c=createInvokeFunction(a.split("_")[1])),c}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,f){return Math.ceil(a/f)*f}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var f=resolveGlobalSymbol(a,!1);return f||(f=moduleExports[a]),f}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,f){switch(f){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(f in asmLibraryArg)return asmLibraryArg[f];var c;return f in a||(a[f]=function(){return c||(c=resolveSymbol(f)),c.apply(null,arguments)}),a[f]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,f,c){f=f||{global:!0,nodelete:!0};var u=LDSO.loadedLibsByName[a];if(u)return f.global&&!u.global&&(u.global=!0,u.module!=="loading"&&mergeLibSymbols(u.module,a)),f.nodelete&&u.refcount!==1/0&&(u.refcount=1/0),u.refcount++,c&&(LDSO.loadedLibsByHandle[c]=u),!f.loadAsync||Promise.resolve(!0);function d(g){if(f.fs&&f.fs.findObject(g)){var y=f.fs.readFile(g,{encoding:"binary"});return y instanceof Uint8Array||(y=new Uint8Array(y)),f.loadAsync?Promise.resolve(y):y}if(g=locateFile(g),f.loadAsync)return new Promise(function(_,S){readAsync(g,w=>_(new Uint8Array(w)),S)});if(!readBinary)throw new Error(g+": file not found, and synchronous loading of external files is not available");return readBinary(g)}o(d,"o"),i(d,"n");function h(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var g=preloadedWasm[a];return f.loadAsync?Promise.resolve(g):g}return f.loadAsync?d(a).then(function(y){return loadWebAssemblyModule(y,f,c)}):loadWebAssemblyModule(d(a),f,c)}o(h,"s"),i(h,"s");function p(g){u.global&&mergeLibSymbols(g,a),u.module=g}return o(p,"a"),i(p,"a"),u={refcount:f.nodelete?1/0:1,name:a,module:"loading",global:f.global},LDSO.loadedLibsByName[a]=u,c&&(LDSO.loadedLibsByHandle[c]=u),f.loadAsync?h().then(function(g){return p(g),!0}):(p(h()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var f=resolveGlobalSymbol(a,!0);if(!f&&!GOT[a].required)continue;if(typeof f=="function")GOT[a].value=addFunction(f,f.sig);else{if(typeof f!="number")throw new Error("bad export type for `"+a+"`: "+typeof f);GOT[a].value=f}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(a,f,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[a>>0]=f;break;case"i16":HEAP16[a>>1]=f;break;case"i32":HEAP32[a>>2]=f;break;case"i64":tempI64=[f>>>0,(tempDouble=f,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=f;break;case"double":HEAPF64[a>>3]=f;break;case"*":HEAPU32[a>>2]=f;break;default:abort("invalid type for setValue: "+c)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,f,c){HEAPU8.copyWithin(a,f,f+c)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var f=HEAPU8.length;a>>>=0;var c=getHeapMax();if(a>c)return!1;for(var u=1;u<=4;u*=2){var d=f*(1+.2/u);if(d=Math.min(d,a+100663296),emscripten_realloc_buffer(Math.min(c,(h=Math.max(a,d))+((p=65536)-h%p)%p)))return!0}var h,p;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,f,c){if(PATH.isAbs(f))return f;var u;if(a===-100?u=FS.cwd():u=SYSCALLS.getStreamFromFD(a).path,f.length==0){if(!c)throw new FS.ErrnoError(44);return u}return PATH.join2(u,f)},doStat:function(a,f,c){try{var u=a(f)}catch(g){if(g&&g.node&&PATH.normalize(f)!==PATH.normalize(FS.getPath(g.node)))return-54;throw g}HEAP32[c>>2]=u.dev,HEAP32[c+8>>2]=u.ino,HEAP32[c+12>>2]=u.mode,HEAPU32[c+16>>2]=u.nlink,HEAP32[c+20>>2]=u.uid,HEAP32[c+24>>2]=u.gid,HEAP32[c+28>>2]=u.rdev,tempI64=[u.size>>>0,(tempDouble=u.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=u.blocks;var d=u.atime.getTime(),h=u.mtime.getTime(),p=u.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=d%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=h%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=p%1e3*1e3,tempI64=[u.ino>>>0,(tempDouble=u.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},doMsync:function(a,f,c,u,d){if(!FS.isFile(f.node.mode))throw new FS.ErrnoError(43);if(2&u)return 0;var h=HEAPU8.slice(a,a+c);FS.msync(f,h,d,c,u)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var f=FS.getStream(a);if(!f)throw new FS.ErrnoError(8);return f}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(a,f){EXITSTATUS=a,_proc_exit(a)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var f=SYSCALLS.getStreamFromFD(a);return FS.close(f),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,f){return f+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*f:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,f,c,u,d){try{var h=convertI32PairToI53Checked(f,c);if(isNaN(h))return 61;var p=SYSCALLS.getStreamFromFD(a);return FS.llseek(p,h,u),tempI64=[p.position>>>0,(tempDouble=p.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],p.getdents&&h===0&&u===0&&(p.getdents=null),0}catch(g){if(typeof FS>"u"||!(g instanceof FS.ErrnoError))throw g;return g.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(a,f,c,u){for(var d=0,h=0;h<c;h++){var p=HEAPU32[f>>2],g=HEAPU32[f+4>>2];f+=8;var y=FS.write(a,HEAP8,p,g,u);if(y<0)return-1;d+=y,u!==void 0&&(u+=y)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(a,f,c,u){try{var d=doWritev(SYSCALLS.getStreamFromFD(a),f,c);return HEAPU32[u>>2]=d,0}catch(h){if(typeof FS>"u"||!(h instanceof FS.ErrnoError))throw h;return h.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,f){if(currentLogCallback){let c=UTF8ToString(f);currentLogCallback(c,a!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,f,c,u,d){var h=currentParseCallback(f,{row:c,column:u});typeof h=="string"?(setValue(d,h.length,"i32"),stringToUTF16(h,a,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(a){var f=lengthBytesUTF8(a)+1,c=stackAlloc(f);return stringToUTF8Array(a,HEAP8,c,f),c}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,f,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var u=f,d=(c-=2)<2*a.length?c/2:a.length,h=0;h<d;++h){var p=a.charCodeAt(h);HEAP16[f>>1]=p,f+=2}return HEAP16[f>>1]=0,f-u}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var f="";;){var c=HEAPU8[a++>>0];if(!c)return f;f+=String.fromCharCode(c)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var f=Module._main;if(f){(a=a||[]).unshift(thisProgram);var c=a.length,u=stackAlloc(4*(c+1)),d=u>>2;a.forEach(p=>{HEAP32[d++]=allocateUTF8OnStack(p)}),HEAP32[d]=0;try{var h=f(c,u);return exitJS(h,!0),h}catch(p){return handleException(p)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"t"),"e");var dylibsLoaded=!1;function run(a){function f(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}o(f,"e"),i(f,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),f()},1)):f()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(f){let c;if(f){if(f.constructor!==Language)throw new Error("Argument must be a Language");{c=f[0];let u=C._ts_language_version(c);if(u<MIN_COMPATIBLE_VERSION||VERSION<u)throw new Error(`Incompatible language version ${u}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,f=null;return this.language=f,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(f,c,u){if(typeof f=="string")currentParseCallback=i((y,_,S)=>f.slice(y,S),"currentParseCallback");else{if(typeof f!="function")throw new Error("Argument must be a string or a function");currentParseCallback=f}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,h=0;if(u&&u.includedRanges){d=u.includedRanges.length,h=C._calloc(d,SIZE_OF_RANGE);let y=h;for(let _=0;_<d;_++)marshalRange(y,u.includedRanges[_]),y+=SIZE_OF_RANGE}let p=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,h,d);if(!p)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let g=new Tree(INTERNAL,p,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,g}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(f){C._ts_parser_set_timeout_micros(this[0],f)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(f){if(f){if(typeof f!="function")throw new Error("Logger callback must be a function")}else f=null;return this.logCallback=f,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(f,c,u,d){assertInternal(f),this[0]=c,this.language=u,this.textCallback=d}copy(){let f=C._ts_tree_copy(this[0]);return new t(INTERNAL,f,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(f){marshalEdit(f),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(f){if(f.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],f[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(c);if(c>0){let h=u;for(let p=0;p<c;p++)d[p]=unmarshalRange(h),h+=SIZE_OF_RANGE;C._free(u)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(f,c){assertInternal(f),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(f){return this.id===f.id}child(f){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}namedChild(f){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldId(f){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldName(f){let c=this.tree.language.fields.indexOf(f);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._children[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._namedChildren[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(f,c,u){Array.isArray(f)||(f=[f]),c||(c=ZERO_POINT),u||(u=ZERO_POINT);let d=[],h=this.tree.language.types;for(let S=0,w=h.length;S<w;S++)f.includes(h[S])&&d.push(S);let p=C._malloc(SIZE_OF_INT*d.length);for(let S=0,w=d.length;S<w;S++)setValue(p+S*SIZE_OF_INT,d[S],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],p,d.length,c.row,c.column,u.row,u.column);let g=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(g);if(g>0){let S=y;for(let w=0;w<g;w++)_[w]=unmarshalNode(this.tree,S),S+=SIZE_OF_NODE}return C._free(y),C._free(p),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let f=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(f);return C._free(f),c}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(f,c){assertInternal(f),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(f){marshalNode(f),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let f=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,f,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoNextSibling(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoParent(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(f,c){assertInternal(f),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let u=0,d=this.types.length;u<d;u++)C._ts_language_symbol_type(this[0],u)<2&&(this.types[u]=UTF8ToString(C._ts_language_symbol_name(this[0],u)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let u=0,d=this.fields.length;u<d;u++){let h=C._ts_language_field_name_for_id(this[0],u);this.fields[u]=h!==0?UTF8ToString(h):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(f){let c=this.fields.indexOf(f);return c!==-1?c:null}fieldNameForId(f){return this.fields[f]||null}idForNodeType(f,c){let u=lengthBytesUTF8(f),d=C._malloc(u+1);stringToUTF8(f,d,u+1);let h=C._ts_language_symbol_for_name(this[0],d,u,c);return C._free(d),h||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(f){let c=C._ts_language_symbol_name(this[0],f);return c?UTF8ToString(c):null}nodeTypeIsNamed(f){return!!C._ts_language_type_is_named_wasm(this[0],f)}nodeTypeIsVisible(f){return!!C._ts_language_type_is_visible_wasm(this[0],f)}query(f){let c=lengthBytesUTF8(f),u=C._malloc(c+1);stringToUTF8(f,u,c+1);let d=C._ts_query_new(this[0],u,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let k=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),B=UTF8ToString(u,getValue(TRANSFER_BUFFER,"i32")).length,ne=f.substr(B,100).split(`
`)[0],ce,Ge=ne.match(QUERY_WORD_REGEX)[0];switch(k){case 2:ce=new RangeError(`Bad node name '${Ge}'`);break;case 3:ce=new RangeError(`Bad field name '${Ge}'`);break;case 4:ce=new RangeError(`Bad capture name @${Ge}`);break;case 5:ce=new TypeError(`Bad pattern structure at offset ${B}: '${ne}'...`),Ge="";break;default:ce=new SyntaxError(`Bad syntax at offset ${B}: '${ne}'...`),Ge=""}throw ce.index=B,ce.length=Ge.length,C._free(u),ce}let h=C._ts_query_string_count(d),p=C._ts_query_capture_count(d),g=C._ts_query_pattern_count(d),y=new Array(p),_=new Array(h);for(let k=0;k<p;k++){let B=C._ts_query_capture_name_for_id(d,k,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");y[k]=UTF8ToString(B,ne)}for(let k=0;k<h;k++){let B=C._ts_query_string_value_for_id(d,k,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");_[k]=UTF8ToString(B,ne)}let S=new Array(g),w=new Array(g),P=new Array(g),D=new Array(g),L=new Array(g);for(let k=0;k<g;k++){let B=C._ts_query_predicates_for_pattern(d,k,TRANSFER_BUFFER),ne=getValue(TRANSFER_BUFFER,"i32");D[k]=[],L[k]=[];let ce=[],Ge=B;for(let st=0;st<ne;st++){let Qe=getValue(Ge,"i32");Ge+=SIZE_OF_INT;let Ft=getValue(Ge,"i32");if(Ge+=SIZE_OF_INT,Qe===PREDICATE_STEP_TYPE_CAPTURE)ce.push({type:"capture",name:y[Ft]});else if(Qe===PREDICATE_STEP_TYPE_STRING)ce.push({type:"string",value:_[Ft]});else if(ce.length>0){if(ce[0].type!=="string")throw new Error("Predicates must begin with a literal value");let ke=ce[0].value,pe=!0;switch(ke){case"not-eq?":pe=!1;case"eq?":if(ce.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(ce.length-1));if(ce[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${ce[1].value}"`);if(ce[2].type==="capture"){let d0=ce[1].name,rt=ce[2].name;L[k].push(function(Nt){let de,xe;for(let r0 of Nt)r0.name===d0&&(de=r0.node),r0.name===rt&&(xe=r0.node);return de===void 0||xe===void 0||de.text===xe.text===pe})}else{let d0=ce[1].name,rt=ce[2].value;L[k].push(function(Nt){for(let de of Nt)if(de.name===d0)return de.node.text===rt===pe;return!0})}break;case"not-match?":pe=!1;case"match?":if(ce.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${ce.length-1}.`);if(ce[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${ce[1].value}".`);if(ce[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${ce[2].value}.`);let Pt=ce[1].name,Ht=new RegExp(ce[2].value);L[k].push(function(d0){for(let rt of d0)if(rt.name===Pt)return Ht.test(rt.node.text)===pe;return!0});break;case"set!":if(ce.length<2||ce.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${ce.length-1}.`);if(ce.some(d0=>d0.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');S[k]||(S[k]={}),S[k][ce[1].value]=ce[2]?ce[2].value:null;break;case"is?":case"is-not?":if(ce.length<2||ce.length>3)throw new Error(`Wrong number of arguments to \`#${ke}\` predicate. Expected 1 or 2. Got ${ce.length-1}.`);if(ce.some(d0=>d0.type!=="string"))throw new Error(`Arguments to \`#${ke}\` predicate must be a strings.".`);let $t=ke==="is?"?w:P;$t[k]||($t[k]={}),$t[k][ce[1].value]=ce[2]?ce[2].value:null;break;default:D[k].push({operator:ke,operands:ce.slice(1)})}ce.length=0}}Object.freeze(S[k]),Object.freeze(w[k]),Object.freeze(P[k])}return C._free(u),new Query(INTERNAL,d,y,L,D,Object.freeze(S),Object.freeze(w),Object.freeze(P))}static load(f){let c;if(f instanceof Uint8Array)c=Promise.resolve(f);else{let d=f;if(typeof process<"u"&&process.versions&&process.versions.node){let h=require("fs");c=Promise.resolve(h.readFileSync(d))}else c=fetch(d).then(h=>h.arrayBuffer().then(p=>{if(h.ok)return new Uint8Array(p);{let g=new TextDecoder("utf-8").decode(p);throw new Error(`Language.load failed with status ${h.status}.

${g}`)}}))}let u=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(d=>u(d,{loadAsync:!0})).then(d=>{let h=Object.keys(d),p=h.find(y=>LANGUAGE_FUNCTION_REGEX.test(y)&&!y.includes("external_scanner_"));p||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(h,null,2)}`);let g=d[p]();return new s(INTERNAL,g)})}};o(s,"Language"),i(s,"Language");let Language=s,l=class l{constructor(f,c,u,d,h,p,g,y){assertInternal(f),this[0]=c,this.captureNames=u,this.textPredicates=d,this.predicates=h,this.setProperties=p,this.assertedProperties=g,this.refutedProperties=y,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_matches_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=new Array(p);this.exceededMatchLimit=!!y;let S=0,w=g;for(let P=0;P<p;P++){let D=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");w+=SIZE_OF_INT;let k=new Array(L);if(w=unmarshalCaptures(this,f.tree,w,k),this.textPredicates[D].every(B=>B(k))){_[S++]={pattern:D,captures:k};let B=this.setProperties[D];B&&(_[P].setProperties=B);let ne=this.assertedProperties[D];ne&&(_[P].assertedProperties=ne);let ce=this.refutedProperties[D];ce&&(_[P].refutedProperties=ce)}}return _.length=S,C._free(g),_}captures(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_captures_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),g=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),y=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=[];this.exceededMatchLimit=!!y;let S=[],w=g;for(let P=0;P<p;P++){let D=getValue(w,"i32");w+=SIZE_OF_INT;let L=getValue(w,"i32");w+=SIZE_OF_INT;let k=getValue(w,"i32");if(w+=SIZE_OF_INT,S.length=L,w=unmarshalCaptures(this,f.tree,w,S),this.textPredicates[D].every(B=>B(S))){let B=S[k],ne=this.setProperties[D];ne&&(B.setProperties=ne);let ce=this.assertedProperties[D];ce&&(B.assertedProperties=ce);let Ge=this.refutedProperties[D];Ge&&(B.refutedProperties=Ge),_.push(B)}}return C._free(g),_}predicatesForPattern(f){return this.predicates[f]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(l,"Query"),i(l,"Query");let Query=l;function getText(a,f,c){let u=c-f,d=a.textCallback(f,null,c);for(f+=d.length;f<c;){let h=a.textCallback(f,null,c);if(!(h&&h.length>0))break;f+=h.length,d+=h}return f>c&&(d=d.slice(0,u)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(a,f,c,u){for(let d=0,h=u.length;d<h;d++){let p=getValue(c,"i32"),g=unmarshalNode(f,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,u[d]={name:a.captureNames[p],node:g}}return c}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(a){let f=TRANSFER_BUFFER;setValue(f,a.id,"i32"),f+=SIZE_OF_INT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.row,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.column,"i32"),f+=SIZE_OF_INT,setValue(f,a[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(a,f=TRANSFER_BUFFER){let c=getValue(f,"i32");if(c===0)return null;let u=getValue(f+=SIZE_OF_INT,"i32"),d=getValue(f+=SIZE_OF_INT,"i32"),h=getValue(f+=SIZE_OF_INT,"i32"),p=getValue(f+=SIZE_OF_INT,"i32"),g=new Node(INTERNAL,a);return g.id=c,g.startIndex=u,g.startPosition={row:d,column:h},g[0]=p,g}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,f=TRANSFER_BUFFER){setValue(f+0*SIZE_OF_INT,a[0],"i32"),setValue(f+1*SIZE_OF_INT,a[1],"i32"),setValue(f+2*SIZE_OF_INT,a[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,f){setValue(a,f.row,"i32"),setValue(a+SIZE_OF_INT,f.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(a,f){marshalPoint(a,f.startPosition),marshalPoint(a+=SIZE_OF_POINT,f.endPosition),setValue(a+=SIZE_OF_POINT,f.startIndex,"i32"),setValue(a+=SIZE_OF_INT,f.endIndex,"i32"),a+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(a){let f={};return f.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,f.endIndex=getValue(a,"i32"),f}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(a){let f=TRANSFER_BUFFER;marshalPoint(f,a.startPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.oldEndPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.newEndPosition),f+=SIZE_OF_POINT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.oldEndIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.newEndIndex,"i32"),f+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),wa={};Ko(wa,{DEFAULT_NUM_OF_SNIPPETS:()=>Wr,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>br,ElidableText:()=>ze,LineEndingOptions:()=>dn,LineWithValueAndCost:()=>Se,MAX_PROMPT_LENGTH:()=>Dr,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>Ur,NeighboringTabsOption:()=>Ze,PromptOptions:()=>Mt,ProviderTimeoutError:()=>ue,SnippetOrchestrator:()=>Bt,SnippetProviderType:()=>J,SnippetSemantics:()=>_e,SuffixMatchOption:()=>jr,SuffixOption:()=>zr,TTokenizer:()=>at,TokenizerName:()=>lt,WASMLanguage:()=>Oo,blankNode:()=>ct,buildLabelRules:()=>ve,clearLabels:()=>lr,clearLabelsIf:()=>nn,combineClosersAndOpeners:()=>dt,comment:()=>Ve,commentBlockAsSingles:()=>Te,createWorker:()=>ya,cutTreeAfterLine:()=>ms,deparseAndCutTree:()=>Ms,deparseLine:()=>Ue,deparseTree:()=>pr,describeTree:()=>fr,duplicateTree:()=>hs,elidableTextForDiff:()=>Bs,elidableTextForSourceCode:()=>on,encodeTree:()=>mr,firstLineOf:()=>hr,flattenVirtual:()=>K,foldTree:()=>Be,fromTreeWithFocussedLines:()=>Ee,fromTreeWithValuedLines:()=>yr,getAncestorWithSiblingFunctions:()=>ua,getBlockCloseToken:()=>oa,getBlockParser:()=>jt,getCursorContext:()=>mt,getFirstPrecedingComment:()=>da,getFunctionPositions:()=>_a,getLanguage:()=>Do,getNodeStart:()=>ba,getPrompt:()=>oi,getTokenizer:()=>V,groupBlocks:()=>rn,isBlank:()=>T,isBlockBodyFinished:()=>ga,isEmptyBlockStart:()=>ha,isFunction:()=>Dt,isFunctionDefinition:()=>ca,isLine:()=>q,isSupportedLanguageId:()=>Xe,isTop:()=>ie,isVirtual:()=>O,labelLines:()=>we,labelVirtualInherited:()=>We,languageCommentMarkers:()=>ft,languageIdToWasmLanguage:()=>U,lastLineOf:()=>gr,lineNode:()=>tn,mapLabels:()=>G,normalizeLanguageId:()=>le,parseRaw:()=>ur,parseTree:()=>ae,parseTreeSitter:()=>Pe,parsesWithoutError:()=>ra,providersErrors:()=>ko,providersPerformance:()=>No,providersSnippets:()=>Lo,queryExports:()=>ia,queryFunctions:()=>Wo,queryGlobalVars:()=>aa,queryImports:()=>sa,queryPythonIsDocstring:()=>Vn,rebuildTree:()=>De,registerLanguageSpecificParser:()=>_t,resetLineNumbers:()=>gs,topNode:()=>Oe,virtualNode:()=>ut,visitTree:()=>x,visitTreeConditionally:()=>bs});module.exports=Jo(wa);var jo=require("path"),Vo=require("worker_threads"),ye=Hn(sr()),ar=require("path"),lt=(e=>(e.cl100k="cl100k_base",e.o200k="o200k_base",e.mock="mock",e))(lt||{}),ir=new Map;function V(e="cl100k_base"){let t=ir.get(e);return t!==void 0||(e==="mock"?t=new en:t=new at(e),ir.set(e,t)),t}o(V,"V");i(V,"getTokenizer");var C8,at=(C8=class{constructor(t){this._tokenizer=(0,ye.createTokenizer)((0,ar.join)(__dirname,`./resources/${t}.tiktoken`),(0,ye.getSpecialTokensByEncoder)(t),(0,ye.getRegexByEncoder)(t),32768)}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(r=>this.detokenize([r]))}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(-l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(-l),f=this.tokenize(a);return f.length<r?t:(f=f.slice(-r),this.detokenize(f))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(0,l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(0,l),f=this.tokenize(a);return f.length<r?{text:t,tokens:f}:(f=f.slice(0,r),{text:this.detokenize(f),tokens:f})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(C8,"at"),i(C8,"TTokenizer"),C8),E8,en=(E8=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(E8,"en"),i(E8,"MockTokenizer"),E8);function ut(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(ut,"ut");i(ut,"virtualNode");function tn(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(tn,"tn");i(tn,"lineNode");function ct(e){return{type:"blank",lineNumber:e,subs:[]}}o(ct,"ct");i(ct,"blankNode");function Oe(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Oe,"Oe");i(Oe,"topNode");function T(e){return e.type==="blank"}o(T,"T");i(T,"isBlank");function q(e){return e.type==="line"}o(q,"q");i(q,"isLine");function O(e){return e.type==="virtual"}o(O,"O");i(O,"isVirtual");function ie(e){return e.type==="top"}o(ie,"ie");i(ie,"isTop");function ms(e,t){function r(n){if(!O(n)&&!ie(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(ms,"ms");i(ms,"cutTreeAfterLine");function hs(e){return JSON.parse(JSON.stringify(e))}o(hs,"hs");i(hs,"duplicateTree");function lr(e){return x(e,t=>{t.label=void 0},"bottomUp"),e}o(lr,"lr");i(lr,"clearLabels");function nn(e,t){return x(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(nn,"nn");i(nn,"clearLabelsIf");function G(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>G(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>G(n,t)),label:e.label?t(e.label):void 0}}}o(G,"G");i(G,"mapLabels");function gs(e){let t=0;function r(n){!O(n)&&!ie(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),x(e,r,"topDown")}o(gs,"gs");i(gs,"resetLineNumbers");function x(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(l=>{n(l)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(x,"x");i(x,"visitTree");function bs(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let l=!0;return s.subs.forEach(a=>{l=l&&n(a)}),r==="bottomUp"&&(l=l&&t(s)),l}o(n,"r"),i(n,"_visit"),n(e)}o(bs,"bs");i(bs,"visitTreeConditionally");function Be(e,t,r,n){let s=t;function l(a){s=r(a,s)}return o(l,"s"),i(l,"visitor"),x(e,l,n),s}o(Be,"Be");i(Be,"foldTree");function De(e,t,r){let n=i(l=>{if(r!==void 0&&r(l))return l;{let a=l.subs.map(n).filter(f=>f!==void 0);return l.subs=a,t(l)}},"rebuild"),s=n(e);return s!==void 0?s:Oe()}o(De,"De");i(De,"rebuildTree");function ur(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function s(u){let[d,h]=l(u+1,r[u]);return[tn(r[u],u,n[u],d),h]}o(s,"o"),i(s,"parseNode");function l(u,d){let h,p=[],g=u,y;for(;g<n.length&&(n[g]===""||r[g]>d);)if(n[g]==="")y===void 0&&(y=g),g+=1;else{if(y!==void 0){for(let _=y;_<g;_++)p.push(ct(_));y=void 0}[h,g]=s(g),p.push(h)}return y!==void 0&&(g=y),[p,g]}o(l,"s"),i(l,"parseSubs");let[a,f]=l(0,-1),c=f;for(;c<n.length&&n[c]==="";)a.push(ct(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Oe(a)}o(ur,"ur");i(ur,"parseRaw");function we(e,t){function r(n){if(q(n)){let s=t.find(l=>l.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),x(e,r,"bottomUp")}o(we,"we");i(we,"labelLines");function We(e){function t(r){if(O(r)&&r.label===void 0){let n=r.subs.filter(s=>!T(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),x(e,t,"bottomUp")}o(We,"We");i(We,"labelVirtualInherited");function ve(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(ve,"ve");i(ve,"buildLabelRules");function dt(e){let t=De(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(l=>l.label==="closer"||l.label==="opener")===-1)return r;let n=[],s;for(let l=0;l<r.subs.length;l++){let a=r.subs[l],f=r.subs[l-1];if(a.label==="opener"&&f!==void 0&&q(f))f.subs.push(a),a.subs.forEach(c=>f.subs.push(c)),a.subs=[];else if(a.label==="closer"&&s!==void 0&&(q(a)||O(a))&&a.indentation>=s.indentation){let c=n.length-1;for(;c>0&&T(n[c]);)c-=1;if(s.subs.push(...n.splice(c+1)),a.subs.length>0){let u=s.subs.findIndex(g=>g.label!=="newVirtual"),d=s.subs.slice(0,u),h=s.subs.slice(u),p=h.length>0?[ut(a.indentation,h,"newVirtual")]:[];s.subs=[...d,...p,a]}else s.subs.push(a)}else n.push(a),T(a)||(s=a)}return r.subs=n,r},"rebuilder"));return nn(e,r=>r==="newVirtual"),t}o(dt,"dt");i(dt,"combineClosersAndOpeners");function rn(e,t=T,r){return De(e,i(function(n){if(n.subs.length<=1)return n;let s=[],l=[],a,f=!1;function c(u=!1){if(a!==void 0&&(s.length>0||!u)){let d=ut(a,l,r);s.push(d)}else l.forEach(d=>s.push(d))}o(c,"d"),i(c,"flushBlockIntoNewSubs");for(let u=0;u<n.subs.length;u++){let d=n.subs[u],h=t(d);!h&&f&&(c(),l=[]),f=h,l.push(d),T(d)||(a=a!=null?a:d.indentation)}return c(!0),n.subs=s,n},"rebuilder"))}o(rn,"rn");i(rn,"groupBlocks");function K(e){return De(e,i(function(t){return O(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&O(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(K,"K");i(K,"flattenVirtual");var ys={opener:/^[\[({]/,closer:/^[\])}]/},ws=ve(ys),cr={};function _t(e,t){cr[e]=t}o(_t,"_t");i(_t,"registerLanguageSpecificParser");function ae(e,t){let r=ur(e),n=cr[t!=null?t:""];return n?n(r):(we(r,ws),dt(r))}o(ae,"ae");i(ae,"parseTree");var vs={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Es=ve(vs);function dr(e){let t=e;return we(t,Es),t=dt(t),t=K(t),We(t),x(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!T(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(dr,"dr");i(dr,"processJava");var Ss={heading:/^# /,subheading:/^## /,subsubheading:/### /},Ts=ve(Ss);function _r(e){let t=e;if(we(t,Ts),T(t))return t;function r(l){if(l.label==="heading")return 1;if(l.label==="subheading")return 2;if(l.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let l of s){let a=r(l);if(a===void 0||T(l))n[n.length-1].subs.push(l);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(l),n[a]=l;n.length>a+1;)n.pop()}}return t=rn(t),t=K(t),We(t),t}o(_r,"_r");i(_r,"processMarkdown");function Ue(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ue,"Ue");i(Ue,"deparseLine");function pr(e){function t(r,n){let s="";return q(r)?s=Ue(r):T(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),Be(e,"",t,"topDown")}o(pr,"pr");i(pr,"deparseTree");function Ms(e,t){let r=new Set(t),n=[],s="";function l(a){a.label!==void 0&&r.has(a.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:a.label,source:pr(a)}),s=""):(q(a)&&(s+=Ue(a)),a.subs.forEach(l))}return o(l,"s"),i(l,"visit"),l(e),s!==""&&n.push({label:void 0,source:s}),n}o(Ms,"Ms");i(Ms,"deparseAndCutTree");function fr(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(a=>fr(a,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(O(e)||ie(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,l=e.label===void 0?"":JSON.stringify(e.label);return O(e)||ie(e)?`${s}vnode(${e.indentation}, ${l}, ${n})`:T(e)?`${s}blank(${l!=null?l:""})`:`${s}lnode(${e.indentation}, ${l}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(fr,"fr");i(fr,"describeTree");function mr(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!T(e)&&e.subs.length>0?`[
${e.subs.map(s=>mr(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(mr,"mr");i(mr,"encodeTree");function hr(e){if(q(e)||T(e))return e.lineNumber;for(let t of e.subs){let r=hr(t);if(r!==void 0)return r}}o(hr,"hr");i(hr,"firstLineOf");function gr(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=gr(e.subs[r]),r--;return t===void 0&&!O(e)&&!ie(e)?e.lineNumber:t}o(gr,"gr");i(gr,"lastLineOf");_t("markdown",_r);_t("java",dr);var br={worthUp:.9,worthSibling:.88,worthDown:.8};function Ee(e,t=br){let r=G(e,n=>n?1:void 0);return x(r,n=>{var l;if(T(n))return;let s=n.subs.reduce((a,f)=>{var c;return Math.max(a,(c=f.label)!=null?c:0)},0);n.label=Math.max((l=n.label)!=null?l:0,s*t.worthUp)},"bottomUp"),x(r,n=>{if(T(n))return;let s=n.subs.map(f=>{var c;return(c=f.label)!=null?c:0}),l=[...s];for(let f=0;f<s.length;f++)s[f]!==0&&(l=l.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(f-u))*s[f])));let a=n.label;a!==void 0&&(l=l.map(f=>Math.max(f,t.worthDown*a))),n.subs.forEach((f,c)=>f.label=l[c])},"topDown"),yr(r)}o(Ee,"Ee");i(Ee,"fromTreeWithFocussedLines");function yr(e){let t=Be(e,[],(r,n)=>{var s,l;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ue(r).trimEnd(),(s=r.label)!=null?s:0]:["",(l=r.label)!=null?l:0]),n},"topDown");return new ze(t)}o(yr,"yr");i(yr,"fromTreeWithValuedLines");function on(e,t=!0,r=!0){let n=typeof e=="string"?ae(e):ae(e.source,e.languageId);K(n);let s=G(n,l=>t&&l!=="closer");return x(s,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&x(s,l=>{if(l.label){let a=!1;for(let f of[...l.subs].reverse())f.label&&!a?a=!0:f.label=!1}else for(let a of l.subs)a.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&x(s,l=>{l.label||(l.label=(q(l)||T(l))&&l.lineNumber==0)},"topDown"),Ee(s)}o(on,"on");i(on,"elidableTextForSourceCode");var Q2,Se=(Q2=class{constructor(t,r,n=V().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>V().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new Q2(this.text,this.value,this.cost,"none")}},o(Q2,"t"),i(Q2,"LineWithValueAndCost"),Q2),e4,ze=(e4=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,l=Array.isArray(n)?n[0]:n;typeof l=="string"?l.split(`
`).forEach(a=>r.push(new Se(a,s))):l instanceof e4?l.lines.forEach(a=>r.push(a.copy().adjustValue(s))):"source"in l&&"languageId"in l&&on(l).lines.forEach(a=>r.push(a.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>V().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",l=V()){let a=this.lines.map(f=>f.copy());return xs(a,t,r,n,s,l)}},o(e4,"t"),i(e4,"ElidableText"),e4);function xs(e,t,r,n,s,l){var h,p,g,y,_,S,w,P,D,L,k,B,ne;if(l.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(ce=>ce.adjustValue(1/ce.cost));let a=e.reduce((ce,Ge)=>Math.max(ce,Ge.value),0)+1,f=e.reduce((ce,Ge)=>Math.max(ce,Ge.text.length),0)+1,c=r.trim(),u=e.reduce((ce,Ge)=>ce+Ge.cost,0),d=e.length+1;for(;u>t&&d-->=-1;){let ce=e.reduce((Pt,Ht)=>Ht.value<Pt.value?Ht:Pt),Ge=e.indexOf(ce),st=(h=e.slice(0,Ge+1).reverse().find(Pt=>Pt.text.trim()!==""))!=null?h:{text:""},Qe=n?Math.min((g=(p=st.text.match(/^\s*/))==null?void 0:p[0].length)!=null?g:0,((y=e[Ge-1])==null?void 0:y.text.trim())===c?(w=(S=(_=e[Ge-1])==null?void 0:_.text.match(/^\s*/))==null?void 0:S[0].length)!=null?w:0:f,((P=e[Ge+1])==null?void 0:P.text.trim())===c?(k=(L=(D=e[Ge+1])==null?void 0:D.text.match(/^\s*/))==null?void 0:L[0].length)!=null?k:0:f):0,Ft=" ".repeat(Qe)+r,ke=new Se(Ft,a,l.tokenLength(Ft+`
`),"loose");e.splice(Ge,1,ke),((B=e[Ge+1])==null?void 0:B.text.trim())===c&&e.splice(Ge+1,1),((ne=e[Ge-1])==null?void 0:ne.text.trim())===c&&e.splice(Ge-1,1);let pe=e.reduce((Pt,Ht)=>Pt+Ht.cost,0);pe>=u&&e.every(Pt=>Pt.value===a)&&(n=!1),u=pe}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(ce=>ce.text).join(`
`)}o(xs,"xs");i(xs,"makePrompt");function te(){}o(te,"te");i(te,"Diff");te.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var l=this;function a(D){return s?(setTimeout(function(){s(void 0,D)},0),!0):D}o(a,"l"),i(a,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var f=t.length,c=e.length,u=1,d=f+c;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=(r=n.timeout)!==null&&r!==void 0?r:1/0,p=Date.now()+h,g=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(g[0],t,e,0);if(g[0].oldPos+1>=c&&y+1>=f)return a([{value:this.join(t),count:t.length}]);var _=-1/0,S=1/0;function w(){for(var D=Math.max(_,-u);D<=Math.min(S,u);D+=2){var L=void 0,k=g[D-1],B=g[D+1];k&&(g[D-1]=void 0);var ne=!1;if(B){var ce=B.oldPos-D;ne=B&&0<=ce&&ce<f}var Ge=k&&k.oldPos+1<c;if(!ne&&!Ge){g[D]=void 0;continue}if(!Ge||ne&&k.oldPos+1<B.oldPos?L=l.addToPath(B,!0,void 0,0):L=l.addToPath(k,void 0,!0,1),y=l.extractCommon(L,t,e,D),L.oldPos+1>=c&&y+1>=f)return a(Is(l,L.lastComponent,t,e,l.useLongestToken));g[D]=L,L.oldPos+1>=c&&(S=Math.min(S,D-1)),y+1>=f&&(_=Math.max(_,D+1))}u++}if(o(w,"g"),i(w,"execEditLength"),s)i(o(function D(){setTimeout(function(){if(u>d||Date.now()>p)return s();w()||D()},0)},"E"),"exec")();else for(;u<=d&&Date.now()<=p;){var P=w();if(P)return P}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,l=r.length,a=e.oldPos,f=a-n,c=0;f+1<s&&a+1<l&&this.equals(t[f+1],r[a+1]);)f++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,f},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Is(e,t,r,n,s){for(var l=[],a;t;)l.push(t),a=t.previousComponent,delete t.previousComponent,t=a;l.reverse();for(var f=0,c=l.length,u=0,d=0;f<c;f++){var h=l[f];if(h.removed){if(h.value=e.join(n.slice(d,d+h.count)),d+=h.count,f&&l[f-1].added){var p=l[f-1];l[f-1]=l[f],l[f]=p}}else{if(!h.added&&s){var g=r.slice(u,u+h.count);g=g.map(function(_,S){var w=n[d+S];return w.length>_.length?w:_}),h.value=e.join(g)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var y=l[c-1];return c>1&&typeof y.value=="string"&&(y.added||y.removed)&&e.equals("",y.value)&&(l[c-2].value+=y.value,l.pop()),l}o(Is,"Is");i(Is,"buildValues");var Jl=new te,wr=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,vr=/\S/,Er=new te;Er.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!vr.test(e)&&!vr.test(t)};Er.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&wr.test(t[r])&&wr.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var cn=new te;cn.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Ls(e,t,r){return cn.diff(e,t,r)}o(Ls,"Ls");i(Ls,"diffLines");var ks=new te;ks.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Ns=new te;Ns.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function pt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pt=i(function(t){return typeof t},"_typeof"):pt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),pt(e)}o(pt,"pt");i(pt,"_typeof");function sn(e){return Ps(e)||Cs(e)||As(e)||Fs()}o(sn,"sn");i(sn,"_toConsumableArray");function Ps(e){if(Array.isArray(e))return an(e)}o(Ps,"Ps");i(Ps,"_arrayWithoutHoles");function Cs(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(Cs,"Cs");i(Cs,"_iterableToArray");function As(e,t){if(e){if(typeof e=="string")return an(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return an(e,t)}}o(As,"As");i(As,"_unsupportedIterableToArray");function an(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(an,"an");i(an,"_arrayLikeToArray");function Fs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(Fs,"Fs");i(Fs,"_nonIterableSpread");var Rs=Object.prototype.toString,je=new te;je.useLongestToken=!0;je.tokenize=cn.tokenize;je.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(l,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(ln(e,null,null,s),s,"  ")};je.equals=function(e,t){return te.prototype.equals.call(je,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function ln(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var l;for(l=0;l<t.length;l+=1)if(t[l]===e)return r[l];var a;if(Rs.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),l=0;l<e.length;l+=1)a[l]=ln(e[l],t,r,n,s);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),pt(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var f=[],c;for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),l=0;l<f.length;l+=1)c=f[l],a[c]=ln(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(ln,"ln");i(ln,"canonicalize");var un=new te;un.tokenize=function(e){return e.slice()};un.join=un.removeEmpty=function(e){return e};function Sr(e,t,r,n,s,l,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var f=Ls(r,n,a);if(!f)return;f.push({value:"",lines:[]});function c(w){return w.map(function(P){return" "+P})}o(c,"u"),i(c,"contextLines");for(var u=[],d=0,h=0,p=[],g=1,y=1,_=i(function(w){var P=f[w],D=P.lines||P.value.replace(/\n$/,"").split(`
`);if(P.lines=D,P.added||P.removed){var L;if(!d){var k=f[w-1];d=g,h=y,k&&(p=a.context>0?c(k.lines.slice(-a.context)):[],d-=p.length,h-=p.length)}(L=p).push.apply(L,sn(D.map(function(ke){return(P.added?"+":"-")+ke}))),P.added?y+=D.length:g+=D.length}else{if(d)if(D.length<=a.context*2&&w<f.length-2){var B;(B=p).push.apply(B,sn(c(D)))}else{var ne,ce=Math.min(D.length,a.context);(ne=p).push.apply(ne,sn(c(D.slice(0,ce))));var Ge={oldStart:d,oldLines:g-d+ce,newStart:h,newLines:y-h+ce,lines:p};if(w>=f.length-2&&D.length<=a.context){var st=/\n$/.test(r),Qe=/\n$/.test(n),Ft=D.length==0&&p.length>Ge.oldLines;!st&&Ft&&r.length>0&&p.splice(Ge.oldLines,0,"\\ No newline at end of file"),(!st&&!Ft||!Qe)&&p.push("\\ No newline at end of file")}u.push(Ge),d=0,h=0,p=[]}g+=D.length,y+=D.length}},"_loop"),S=0;S<f.length;S++)_(S);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:l,hunks:u}}o(Sr,"Sr");i(Sr,"structuredPatch");function Bs(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=Sr("","",e,t),s=new Set,l=new Set;for(let c of n.hunks){for(let u=c.oldStart;u<c.oldStart+c.oldLines;u++)s.add(u);for(let u=c.newStart;u<c.newStart+c.newLines;u++)l.add(u)}let a=G(K(ae(e,r)),()=>!1),f=G(K(ae(t,r)),()=>!1);return x(a,c=>{(c.type==="line"||c.type==="blank")&&s.has(c.lineNumber)&&(c.label=!0)},"topDown"),x(f,c=>{(c.type==="line"||c.type==="blank")&&l.has(c.lineNumber)&&(c.label=!0)},"topDown"),[Ee(a),Ee(f)]}o(Bs,"Bs");i(Bs,"elidableTextForDiff");var ft={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},legend:{start:"//",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slang:{start:"//",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Ds=["php","plaintext"],Tr={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Ws({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Ws,"Ws");i(Ws,"hasLanguageMarker");function Ve(e,t,r){var s;let n=(s=ft[t])!=null?s:r;if(n){let l=n.end==""?"":" "+n.end;return`${n.start} ${e}${l}`}return""}o(Ve,"Ve");i(Ve,"comment");function Te(e,t,r){if(!ft[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(l=>Ve(l,t,r)).join(`
`);return n?s+`
`:s}o(Te,"Te");i(Te,"commentBlockAsSingles");function Mr(e,t){let{languageId:r}=e;return Ds.indexOf(r)===-1&&!Ws(e)?r in Tr?Tr[r]:Ve(`Language: ${r}`,r,t):""}o(Mr,"Mr");i(Mr,"getLanguageMarker");function xr(e,t){return e.relativePath?Ve(`Path: ${e.relativePath}`,e.languageId,t):""}o(xr,"xr");i(xr,"getPathMarker");function Me(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(Me,"Me");i(Me,"newLineEnded");var Us={tokenizerName:"cl100k_base"};function zs(e){return{...Us,...e}}o(zs,"zs");i(zs,"cursorContextOptions");function mt(e,t={}){let r=zs(t),n=V(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(mt,"mt");i(mt,"getCursorContext");function Ir(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Ir,"Ir");i(Ir,"findEditDistanceScore");var qe=50,js=5,T8,ht=(T8=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(T8,"ht"),i(T8,"PromptBackground"),T8),S8,gt=(S8=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(S8,"gt"),i(S8,"PromptChoices"),S8),w8,He=(w8=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===l?r.id-n.id:s-l})}},o(w8,"He"),i(w8,"PromptOrderList"),w8),I8,bt=(I8=class extends He{constructor(t="default"){switch(super(),t){case"office-exp":this._rankedList=["PathMarker","TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","LanguageMarker"];break;default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===l?n.id-r.id:s-l})}},o(I8,"bt"),i(I8,"PromptPriorityList"),I8);function vt(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(vt,"vt");i(vt,"kindForSnippetProviderType");var A8,yt=(A8=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(A8,"yt"),i(A8,"PromptElementRanges"),A8),P8,wt=(P8=class{constructor(t,r,n,s,l){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=l,this.content=[],this.basePromptBackground=new ht,this.baseTallyOfChoices=new gt}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n?/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let l=this.content.length;return this.content.push({id:l,text:t,kind:r,tokens:n,score:s}),l}fulfillPrefix(t){let r=new ht;r.add(this.basePromptBackground);let n=new gt;n.add(this.baseTallyOfChoices);function s(y){r.markUsed(y),n.markUsed(y)}o(s,"o"),i(s,"markUsed");function l(y){r.undoMarkUsed(y),n.undoMarkUsed(y)}o(l,"s"),i(l,"undoMarkUsed");function a(y){r.markUnused(y),n.markUnused(y)}o(a,"a"),i(a,"markUnused"),this.priorityList.sortElements(this.content);let f,c=[],u=t;this.content.forEach(y=>{if(u>0||f===void 0){let _=y.tokens;if(u>=_)u-=_,s(y),c.push(y);else if(y.kind==="BeforeCursor"){let{summarizedElement:S,removedMaterial:w}=this.snippetTextProcessor.summarize(this.tokenizer,y,u);y=S,_=y.tokens,u-=_,y.text.length>0&&s(y),w.text.length>0&&a(w),c.push(y)}else f===void 0?f=y:a(y)}else a(y)}),this.orderingList.sortElements(c);let d=c.reduce((y,_)=>y+_.text,""),h=this.tokenizer.tokenLength(d);for(;h>t;){this.priorityList.sortElements(c);let y=c.pop();y&&(l(y),a(y),f!==void 0&&a(f),f=void 0),this.orderingList.sortElements(c),d=c.reduce((_,S)=>_+S.text,""),h=this.tokenizer.tokenLength(d)}let p=[...c];if(f!==void 0){p.push(f),this.orderingList.sortElements(p);let y=p.reduce((S,w)=>S+w.text,""),_=this.tokenizer.tokenLength(y);if(_<=t){s(f);let S=new yt(p);return{prefix:y,suffix:"",prefixLength:_,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:S}}else a(f)}let g=new yt(c);return{prefix:d,suffix:"",prefixLength:h,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:g}}fulfill(t,r,n){var p;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-js,l=Math.floor(s*(100-r.suffixPercent)/100),a=s-l,f=t.trimStart();if(s>qe&&a<qe)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${qe}
`);let c=this.tokenizer.takeFirstTokens(f,qe),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*((p=Ir(c.tokens,n.tokens.slice(0,qe)))==null?void 0:p.score)<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let d;if(u)l=s-n.tokens.length,d=n;else{let g=this.maxPrefixTokenLength(),y=this.tokenizer.tokenLength(f);g<l?(l=g,a=s-l):y<a&&(l=s-y,a=y),d=this.tokenizer.takeFirstTokens(f,a)}let h=this.fulfillPrefix(l);return h.suffix=d.text,h.suffixLength=d.tokens.length,{promptInfo:h,newCachedSuffix:d}}},o(P8,"wt"),i(P8,"PromptWishlist"),P8),J=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(J||{}),_e=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(_e||{}),Vs={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function qs(e,t,r){let n=Vs[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),Te(s,t,r)}o(qs,"qs");i(qs,"announceSnippet");function Lr(e){e.sort((t,r)=>r.score-t.score)}o(Lr,"Lr");i(Lr,"sortSnippetsDescending");function Hs(e,t,r){if(t==0)return[];let n=e.map(l=>({...l,kind:vt(l.provider)})),s=[];return r.rankedList.forEach(l=>{let a=n.filter(({kind:f})=>f===l);Lr(a),s.push(...a)}),s.slice(0,t)}o(Hs,"Hs");i(Hs,"selectSnippets");function kr(e,t,r,n,s,l){let a=Hs(e,l,n).map(f=>{let c=qs(f,t,s),u=r.tokenLength(c);return{announcedSnippet:c,provider:f.provider,score:f.score,tokens:u,relativePath:f.relativePath}}).filter(f=>f.tokens>0);return Lr(a),a.reverse(),a}o(kr,"kr");i(kr,"processSnippetsForWishlist");var R8,_n=(R8=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(R8,"_n"),i(R8,"FifoCache"),R8),k8,pn=(k8=class{constructor(t){var r;this.stopsForLanguage=(r=Ks.get(t.languageId))!=null?r:Gs}tokenize(t){return new Set(Zs(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(k8,"pn"),i(k8,"Tokenizer"),k8),Nr=new _n(20),N8,Et=(N8=class{constructor(t){this.referenceDoc=t,this.tokenizer=new pn(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var u;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),l=this.id()+":"+t.source,a=(u=Nr.get(l))!=null?u:[],f=a.length==0,c=f?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[h,p]]of this.getWindowsDelineations(s).entries()){if(f){let _=new Set;c.slice(h,p).forEach(S=>S.forEach(_.add,_)),a.push(_)}let g=a[d],y=this.similarityScore(g,this.referenceTokens);n.push({score:y,startLine:h,endLine:p})}return f&&Nr.put(l,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(N8,"Et"),i(N8,"WindowedMatcher"),N8);function Zs(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(Zs,"Zs");i(Zs,"splitIntoWords");var $s=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),Gs=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...$s]),Ks=new Map([]);function Pr(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(Pr,"Pr");i(Pr,"getBasicWindowDelineations");var W5,St=(W5=class extends Et{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return Pr(this.windowLength,t)}_getCursorContextInfo(t){return mt(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return Js(t,r)}},o(W5,"t"),i(W5,"FixedWindowSizeJaccardMatcher"),W5.FACTORY=t=>({to:r=>new W5(r,t)}),W5);function Js(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(Js,"Js");i(Js,"computeScore");var Ze=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(Ze||{}),Qs={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},Xs=1e4,Ys=20;function ei(e,t){return St.FACTORY(t.snippetLength).to(e)}o(ei,"ei");i(ei,"getMatcher");async function Cr(e,t,r){let n={...Qs[r]},s=ei(e,n);return n.numberOfSnippets===0?[]:(await t.filter(l=>l.source.length<Xs&&l.source.length>0).slice(0,Ys).reduce(async(l,a)=>(await l).concat((await s.findMatches(a)).map(f=>({relativePath:a.relativePath,...f}))),Promise.resolve([]))).filter(l=>l.score&&l.snippet&&l.score>n.threshold).sort((l,a)=>l.score-a.score).slice(-n.numberOfSnippets)}o(Cr,"Cr");i(Cr,"getNeighborSnippets");function Ar(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let y=0;y<n.length-1;y++)n[y]+=`
`;let s=[];n.forEach((y,_)=>{y===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(y)});let l=s.map(y=>e.tokenLength(y)),a=1,f=0;for(;a<=l.length;a++){let y=l.at(-a);if(y){if(y+f>r){a--;break}f+=y}}let c=s.slice(-a).join(""),u=e.tokenLength(c),d=s.slice(0,-a).join(""),h=e.tokenLength(d),p={id:t.id,kind:t.kind,text:c,tokens:u,score:t.score},g={id:t.id,kind:t.kind,text:d,tokens:h,score:t.score};return{summarizedElement:p,removedMaterial:g}}o(Ar,"Ar");i(Ar,"truncateFirstLinesFirst");var D8,Tt=(D8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",Ar]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(D8,"Tt"),i(D8,"SnippetTextProcessor"),D8),ni=/(\.|\->|::)\w+$/;function Fr(e,t){let r=`Use ${e}`;return Te(r,t)}o(Fr,"Fr");i(Fr,"announceTooltipSignatureSnippet");function Rr(e){let t=e.source.substring(0,e.offset);return ni.test(t)}o(Rr,"Rr");i(Rr,"endsWithAttributesOrMethod");function Or(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(Or,"Or");i(Or,"transferLastLineToTooltipSignature");var Br={text:"",tokens:[]},Dr=1500,Wr=4,Ur=150,dn=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(dn||{}),zr=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(zr||{}),jr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(jr||{}),L8,Mt=(L8=class{constructor(t){if(this.maxPromptLength=Dr,this.numberOfSnippets=Wr,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k_base",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,t),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(L8,"Mt"),i(L8,"PromptOptions"),L8),ri={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor",c:"cpp"};function le(e){var t;return e=e.toLowerCase(),(t=ri[e])!=null?t:e}o(le,"le");i(le,"normalizeLanguageId");async function oi(e,t={},r=[]){let n=new Mt(t),s=V(n.tokenizerName),l=new Tt(n.snippetTextProcessingPreset),a=new He(n.promptOrderListPreset),f=new bt(n.promptPriorityPreset),{source:c,offset:u}=e;if(u<0||u>c.length)throw new Error(`Offset ${u} is out of range.`);e.languageId=le(e.languageId);let d=new wt(s,n.lineEnding,a,l,f),h=r.find(D=>D.provider==="path"),p=r.find(D=>D.provider==="language"),g=r.find(D=>D.provider==="tooltip-signature");h!==void 0&&h.snippet.length>0?(d.append(h.snippet,"PathMarker"),p&&d.extMarkUnused({text:p.snippet,kind:"LanguageMarker",tokens:s.tokenLength(p.snippet),id:NaN,score:NaN})):p&&d.append(p.snippet,"LanguageMarker"),r=r.filter(D=>D.provider!=="language"&&D.provider!=="path"&&D.provider!=="tooltip-signature");function y(){kr(r,e.languageId,s,f,t.defaultCommentMarker,n.numberOfSnippets).forEach(D=>{let L=vt(D.provider);d.append(D.announcedSnippet,L,D.tokens,D.score)})}o(y,"h"),i(y,"addSnippetsNow"),y();let _=c.substring(0,u);g!==void 0&&s.tokenLength(g.snippet)<=Ur?([_,g]=Or(_,g),d.append(g.snippet,"TooltipSignature")):g!==void 0&&d.extMarkUnused({text:g.snippet,kind:"TooltipSignature",tokens:s.tokenLength(g.snippet),id:NaN,score:NaN}),d.append(_,"BeforeCursor");let S=c.slice(u),{promptInfo:w,newCachedSuffix:P}=d.fulfill(S,n,Br);return Br=P,w}o(oi,"oi");i(oi,"getPrompt");var B8,ue=(B8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(B8,"ue"),i(B8,"ProviderTimeoutError"),B8),O8,Q=(O8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new ue("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new ue(`max runtime exceeded: ${fn} ms`),providerType:this.type})},{once:!0});let l=performance.now();this.buildSnippets(t).then(a=>{let f=performance.now();n({snippets:a,providerType:this.type,runtime:f-l})}).catch(a=>{s({error:a,providerType:this.type})})})}},o(O8,"Q"),i(O8,"SnippetProvider"),O8),F8,xt=(F8=class extends Q{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=le(r.languageId),[{provider:this.type,semantics:"snippet",snippet:Me(Mr(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(F8,"xt"),i(F8,"LanguageSnippetProvider"),F8),M8,It=(M8=class extends Q{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(M8,"It"),i(M8,"NeighborFilesProvider"),M8),U8,Lt=(U8=class extends Q{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=le(r.languageId),[{provider:this.type,semantics:"snippet",snippet:Me(xr(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(U8,"Lt"),i(U8,"PathSnippetProvider"),U8),q8,kt=(q8=class extends Q{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=le(r.languageId),n&&Rr(r)&&s.push({provider:this.type,semantics:"snippet",snippet:Me(Fr(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(q8,"kt"),i(q8,"TooltipSignatureSnippetProvider"),q8),xo=require("path"),Y=require("worker_threads");function Vi(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(Vi,"Vi");i(Vi,"sleep");var Mo=["getNeighborSnippets","sleep"],j8,Bn=(j8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=Cr,this.sleep=Vi,!Y.isMainThread&&((t=Y.workerData)!=null&&t.port)&&(To(),process.cwd=()=>Y.workerData.cwd,this.configureWorkerResponse(Y.workerData.port))}initWorker(){let{port1:t,port2:r}=new Y.MessageChannel;this.port=t,this.worker=new Y.Worker((0,xo.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Mo)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Mo){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let l=this[n];if(!l)throw new Error(`Function not found: ${n}`);try{let a=await l.apply(this,s);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:s}){let l=this.handlers.get(t);l&&(this.handlers.delete(t),r?(r.code=n,l.reject(r)):l.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,l)=>{var a;this.handlers.set(n,{resolve:s,reject:l}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}},o(j8,"Bn"),i(j8,"WorkerProxy"),j8),Ot=new Bn,fn=300,qi=[xt,Lt,It,kt];function Io(e){return e.status==="fulfilled"}o(Io,"Io");i(Io,"isFulfilledResult");function Hi(e){return e.status==="rejected"}o(Hi,"Hi");i(Hi,"isRejectedResult");function Lo(e){return e.filter(Io).flatMap(t=>t.value.snippets)}o(Lo,"Lo");i(Lo,"providersSnippets");function ko(e){return e.filter(Hi).flatMap(t=>t.reason)}o(ko,"ko");i(ko,"providersErrors");function No(e){let t={},r={};return e.forEach(n=>{Io(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof ue&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(No,"No");i(No,"providersPerformance");var $8,Bt=($8=class{constructor(t=qi){this.startThreading=()=>Ot.startThreading(),this.stopThreading=()=>Ot.stopThreading(),this.providers=t.map(r=>new r(Ot))}async getSnippets(t){let r=AbortSignal.timeout(fn),n=this.providers.map(s=>s.getSnippets(t,r));return Promise.allSettled?Promise.allSettled(n):Zi(n)}},o($8,"Bt"),i($8,"SnippetOrchestrator"),$8);function Zi(e){return Promise.all(e.map(t=>t.then($i,Gi)))}o(Zi,"Zi");i(Zi,"allSettledBackup");function $i(e){return{status:"fulfilled",value:e}}o($i,"$i");i($i,"createPromiseFulfilledResult");function Gi(e){return{status:"rejected",reason:e}}o(Gi,"Gi");i(Gi,"createPromiseRejectedResult");var Fo=require("fs"),Ro=require("path"),Wt=Hn(Po()),Oo=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(Oo||{}),jn={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function Xe(e){return e in jn}o(Xe,"Xe");i(Xe,"isSupportedLanguageId");function U(e){if(!(e in jn))throw new Error(`Unrecognized language: ${e}`);return jn[e]}o(U,"U");i(U,"languageIdToWasmLanguage");var Dn=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,Ki={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[Dn]],typescript:[[Dn]],tsx:[[Dn]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},Ji='(call_expression function: ((identifier) @req (#eq? @req "require")))',Co=`(variable_declarator value: ${Ji})`,Bo=`
    (lexical_declaration ${Co}+)
    (variable_declaration ${Co}+)
`,Ao=[[`(program [ ${Bo} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],Qi={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${Bo} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:Ao,tsx:Ao,go:[],ruby:[]},Wn=[["(program (export_statement) @export)"]],Xi={python:[],javascript:Wn,typescript:Wn,tsx:Wn,go:[],ruby:[]},Yi={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},Un=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ea={python:new Set(["function_definition"]),javascript:new Set(Un),typescript:new Set(Un),tsx:new Set(Un),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},ta={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},zn=new Map;async function na(e){await Wt.default.init();let t;try{t=await Fo.promises.readFile((0,Ro.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return Wt.default.Language.load(t)}o(na,"na");i(na,"loadWasmLanguage");async function Do(e){let t=U(e);if(!zn.has(t)){let r=await na(t);zn.set(t,r)}return zn.get(t)}o(Do,"Do");i(Do,"getLanguage");async function Pe(e,t){let r=await Do(e),n;try{n=new Wt.default}catch(l){let a=l.message;if(a&&a.includes("table index is out of bounds")){let f=new Error(`Could not init Parse for language <${e}>`);throw f.cause=l,f}throw l}n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Pe,"Pe");i(Pe,"parseTreeSitter");async function ra(e,t){let r=await Pe(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(ra,"ra");i(ra,"parsesWithoutError");function oa(e){switch(U(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(oa,"oa");i(oa,"getBlockCloseToken");function Ye(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ye,"Ye");i(Ye,"innerQuery");function Wo(e,t){let r=Ki[U(e)];return Ye(r,t)}o(Wo,"Wo");i(Wo,"queryFunctions");function sa(e,t){let r=Qi[U(e)];return Ye(r,t)}o(sa,"sa");i(sa,"queryImports");function ia(e,t){let r=Xi[U(e)];return Ye(r,t)}o(ia,"ia");i(ia,"queryExports");function aa(e,t){let r=Yi[U(e)];return Ye(r,t)}o(aa,"aa");i(aa,"queryGlobalVars");var la=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Vn(e){return Ye([la],e).length==1}o(Vn,"Vn");i(Vn,"queryPythonIsDocstring");function ua(e,t){let r=ta[U(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(ua,"ua");i(ua,"getAncestorWithSiblingFunctions");function Dt(e,t){return ea[U(e)].has(t.type)}o(Dt,"Dt");i(Dt,"isFunction");function ca(e,t){switch(U(e)){case"python":case"go":case"ruby":return Dt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&Dt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&Dt(e,n)}}return!1}}o(ca,"ca");i(ca,"isFunctionDefinition");function da(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(da,"da");i(da,"getFirstPrecedingComment");async function _a(e,t){let r=await Pe(e,t),n=Wo(e,r.rootNode).map(s=>{let l=s.captures.find(a=>a.name==="function").node;return{startIndex:l.startIndex,endIndex:l.endIndex}});return r.delete(),n}o(_a,"_a");i(_a,"getFunctionPositions");var H8,Ut=(H8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var l;let s=await Pe(this.languageId,t);try{let a=s.rootNode.descendantForIndex(r);for(;a;){let f=this.nodeMatch[a.type];if(f){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if(((l=c==""?a.namedChildren[0]:a.childForFieldName(c))==null?void 0:l.type)==f)break}a=a.parent}return a?n(a):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let l=s.children.reverse().find(a=>a.type==this.nodeMatch[s.type]);if(l){if(this.languageId=="python"&&l.parent){let a=l.parent.type==":"?l.parent.parent:l.parent,f=a==null?void 0:a.nextSibling;for(;f&&f.type=="comment";){let c=f.startPosition.row==l.endPosition.row&&f.startPosition.column>=l.endPosition.column,u=f.startPosition.row>a.endPosition.row&&f.startPosition.column>a.startPosition.column;if(c||u)l=f,f=f.nextSibling;else break}}if(!(l.endIndex>=l.tree.rootNode.endIndex-1&&(l.hasError()||l.parent.hasError())))return n(l)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),l=await this.getNextBlockAtPosition(s,n,a=>a.endIndex);if(l!==void 0&&l<s.length){let a=l-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(H8,"Ut"),i(H8,"BaseBlockParser"),H8),V8,zt=(V8=class extends Ut{constructor(t,r,n,s,l){super(t,s,l),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let l=t.substring(r,s.endIndex).trim();return l==""||l.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=zo(t,r),this.isBlockStart(pa(t,r))&&this.isBlockBodyEmpty(t,r)}},o(V8,"zt"),i(V8,"RegexBasedBlockParser"),V8);function pa(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(pa,"pa");i(pa,"getLineAtOffset");function zo(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(zo,"zo");i(zo,"rewindToNearestNonWs");function Uo(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(Uo,"Uo");i(Uo,"indent");function fa(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=Uo(e,r),s=Uo(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(fa,"fa");i(fa,"outdented");var z8,Ce=(z8=class extends Ut{constructor(t,r,n,s,l,a,f){super(t,r,n),this.startKeywords=s,this.blockNodeType=l,this.emptyStatementType=a,this.curlyBraceLanguage=f}isBlockEmpty(t,r){var s,l;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((l=t.parent)==null?void 0:l.type)=="function_definition")&&t.children.length==1&&Vn(t.parent))}async isEmptyBlockStart(t,r){var s,l,a,f;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=zo(t,r);let n=await Pe(this.languageId,t);try{let c=n.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let g=c;for(;g.parent;){if(g.type=="function_signature"||g.type=="method_signature"){let y=c.nextSibling;return y&&g.hasError()&&fa(g,y,t)?!0:!g.children.find(_=>_.type==";")&&g.endIndex<=r}g=g.parent}}let u=null,d=null,h=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){d=p;break}if(this.nodeMatch[p.type]){h=p;break}if(p.type=="ERROR"){u=p;break}p=p.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let g=d.previousSibling;if(g!=null&&g.hasError()&&(g.text.startsWith('"""')||g.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(u!=null){if(((s=u.previousSibling)==null?void 0:s.type)=="module"||((l=u.previousSibling)==null?void 0:l.type)=="internal_module"||((a=u.previousSibling)==null?void 0:a.type)=="def")return!0;let g=[...u.children].reverse(),y=g.find(S=>this.startKeywords.includes(S.type)),_=g.find(S=>S.type==this.blockNodeType);if(y){switch(this.languageId){case"python":{y.type=="try"&&c.type=="identifier"&&c.text.length>4&&(_=(f=g.find(P=>P.hasError()))==null?void 0:f.children.find(P=>P.type=="block"));let S,w=0;for(let P of u.children){if(P.type==":"&&w==0){S=P;break}P.type=="("&&(w+=1),P.type==")"&&(w-=1)}if(S&&y.endIndex<=S.startIndex&&S.nextSibling){if(y.type=="def"){let P=S.nextSibling;if(P.type=='"'||P.type=="'"||P.type=="ERROR"&&(P.text=='"""'||P.text=="'''"))return!0}return!1}break}case"javascript":{let S=g.find(P=>P.type=="formal_parameters");if(y.type=="class"&&S)return!0;let w=g.find(P=>P.type=="{");if(w&&w.startIndex>y.endIndex&&w.nextSibling!=null||g.find(P=>P.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}case"typescript":{let S=g.find(w=>w.type=="{");if(S&&S.startIndex>y.endIndex&&S.nextSibling!=null||g.find(w=>w.type=="do")&&y.type=="while"||y.type=="=>"&&y.nextSibling&&y.nextSibling.type!="{")return!1;break}}return _&&_.startIndex>y.endIndex?this.isBlockEmpty(_,r):!0}}if(h!=null){let g=this.nodeMatch[h.type],y=h.children.slice().reverse().find(_=>_.type==g);if(y)return this.isBlockEmpty(y,r);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let _=this.nodeTypesWithBlockOrStmtChild.get(h.type),S=_==""?h.children[0]:h.childForFieldName(_);if(S&&S.type!=this.blockNodeType&&S.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(z8,"Ce"),i(z8,"TreeSitterBasedBlockParser"),z8),ma={python:new Ce("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new Ce("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new Ce("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new Ce("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new zt("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new zt("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function jt(e){return ma[U(e)]}o(jt,"jt");i(jt,"getBlockParser");async function ha(e,t,r){return Xe(e)?jt(e).isEmptyBlockStart(t,r):!1}o(ha,"ha");i(ha,"isEmptyBlockStart");async function ga(e,t,r,n){if(Xe(e))return jt(e).isBlockBodyFinished(t,r,n)}o(ga,"ga");i(ga,"isBlockBodyFinished");async function ba(e,t,r){if(Xe(e))return jt(e).getNodeStart(t,r)}o(ba,"ba");i(ba,"getNodeStart");function ya(){return new Vo.Worker((0,jo.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(ya,"ya");i(ya,"createWorker")});var ZM=ot((U1e,XM)=>{var G8=1e3,K8=G8*60,W8=K8*60,r4=W8*24,UX=r4*7,qX=r4*365.25;XM.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return jX(e);if(r==="number"&&isFinite(e))return t.long?HX(e):$X(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function jX(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*qX;case"weeks":case"week":case"w":return r*UX;case"days":case"day":case"d":return r*r4;case"hours":case"hour":case"hrs":case"hr":case"h":return r*W8;case"minutes":case"minute":case"mins":case"min":case"m":return r*K8;case"seconds":case"second":case"secs":case"sec":case"s":return r*G8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(jX,"parse");function $X(e){var t=Math.abs(e);return t>=r4?Math.round(e/r4)+"d":t>=W8?Math.round(e/W8)+"h":t>=K8?Math.round(e/K8)+"m":t>=G8?Math.round(e/G8)+"s":e+"ms"}o($X,"fmtShort");function HX(e){var t=Math.abs(e);return t>=r4?jv(e,t,r4,"day"):t>=W8?jv(e,t,W8,"hour"):t>=K8?jv(e,t,K8,"minute"):t>=G8?jv(e,t,G8,"second"):e+" ms"}o(HX,"fmtLong");function jv(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(jv,"plural")});var Nw=ot((j1e,QM)=>{function VX(e){r.debug=r,r.default=r,r.coerce=c,r.disable=l,r.enable=s,r.enabled=a,r.humanize=ZM(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let h,p=null,g,y;function _(...S){if(!_.enabled)return;let w=_,P=Number(new Date),D=P-(h||P);w.diff=D,w.prev=h,w.curr=P,h=P,S[0]=r.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let L=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(B,ne)=>{if(B==="%%")return"%";L++;let ce=r.formatters[ne];if(typeof ce=="function"){let Ge=S[L];B=ce.call(w,Ge),S.splice(L,1),L--}return B}),r.formatArgs.call(w,S),(w.log||r.log).apply(w,S)}return o(_,"debug"),_.namespace=d,_.useColors=r.useColors(),_.color=r.selectColor(d),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(g!==r.namespaces&&(g=r.namespaces,y=r.enabled(d)),y),set:S=>{p=S}}),typeof r.init=="function"&&r.init(_),_}o(r,"createDebug");function n(d,h){let p=r(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,p=(typeof d=="string"?d:"").split(/[\s,]+/),g=p.length;for(h=0;h<g;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function l(){let d=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),d}o(l,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=r.skips.length;h<p;h++)if(r.skips[h].test(d))return!1;for(h=0,p=r.names.length;h<p;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(f,"toNamespace");function c(d){return d instanceof Error?d.stack||d.message:d}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(VX,"setup");QM.exports=VX});var eU=ot((sc,$v)=>{sc.formatArgs=GX;sc.save=KX;sc.load=WX;sc.useColors=zX;sc.storage=YX();sc.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();sc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function zX(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(zX,"useColors");function GX(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+$v.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(GX,"formatArgs");sc.log=console.debug||console.log||(()=>{});function KX(e){try{e?sc.storage.setItem("debug",e):sc.storage.removeItem("debug")}catch{}}o(KX,"save");function WX(){let e;try{e=sc.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(WX,"load");function YX(){try{return localStorage}catch{}}o(YX,"localstorage");$v.exports=Nw()(sc);var{formatters:JX}=$v.exports;JX.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var rU=ot((V1e,tU)=>{"use strict";tU.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var sU=ot((z1e,iU)=>{"use strict";var XX=require("os"),nU=require("tty"),kc=rU(),{env:ll}=process,Y5;kc("no-color")||kc("no-colors")||kc("color=false")||kc("color=never")?Y5=0:(kc("color")||kc("colors")||kc("color=true")||kc("color=always"))&&(Y5=1);"FORCE_COLOR"in ll&&(ll.FORCE_COLOR==="true"?Y5=1:ll.FORCE_COLOR==="false"?Y5=0:Y5=ll.FORCE_COLOR.length===0?1:Math.min(parseInt(ll.FORCE_COLOR,10),3));function Dw(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Dw,"translateLevel");function Lw(e,t){if(Y5===0)return 0;if(kc("color=16m")||kc("color=full")||kc("color=truecolor"))return 3;if(kc("color=256"))return 2;if(e&&!t&&Y5===void 0)return 0;let r=Y5||0;if(ll.TERM==="dumb")return r;if(process.platform==="win32"){let n=XX.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ll)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ll)||ll.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ll)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ll.TEAMCITY_VERSION)?1:0;if(ll.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ll){let n=parseInt((ll.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ll.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ll.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ll.TERM)||"COLORTERM"in ll?1:r}o(Lw,"supportsColor");function ZX(e){let t=Lw(e,e&&e.isTTY);return Dw(t)}o(ZX,"getSupportLevel");iU.exports={supportsColor:ZX,stdout:Dw(Lw(!0,nU.isatty(1))),stderr:Dw(Lw(!0,nU.isatty(2)))}});var aU=ot((Dl,Vv)=>{var QX=require("tty"),Hv=require("util");Dl.init=oZ;Dl.log=nZ;Dl.formatArgs=tZ;Dl.save=iZ;Dl.load=sZ;Dl.useColors=eZ;Dl.destroy=Hv.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Dl.colors=[6,2,3,4,5,1];try{let e=sU();e&&(e.stderr||e).level>=2&&(Dl.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Dl.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,l)=>l.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function eZ(){return"colors"in Dl.inspectOpts?!!Dl.inspectOpts.colors:QX.isatty(process.stderr.fd)}o(eZ,"useColors");function tZ(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),l=`  ${s};1m${t} \x1B[0m`;e[0]=l+e[0].split(`
`).join(`
`+l),e.push(s+"m+"+Vv.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=rZ()+t+" "+e[0]}o(tZ,"formatArgs");function rZ(){return Dl.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(rZ,"getDate");function nZ(...e){return process.stderr.write(Hv.format(...e)+`
`)}o(nZ,"log");function iZ(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(iZ,"save");function sZ(){return process.env.DEBUG}o(sZ,"load");function oZ(e){e.inspectOpts={};let t=Object.keys(Dl.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Dl.inspectOpts[t[r]]}o(oZ,"init");Vv.exports=Nw()(Dl);var{formatters:oU}=Vv.exports;oU.o=function(e){return this.inspectOpts.colors=this.useColors,Hv.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};oU.O=function(e){return this.inspectOpts.colors=this.useColors,Hv.inspect(e,this.inspectOpts)}});var n4=ot((W1e,Bw)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Bw.exports=eU():Bw.exports=aU()});var Hw=ot((Y1e,uU)=>{var Wm=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,aZ=typeof AbortController=="function",Jm,zv=aZ?AbortController:(Jm=class{constructor(){this.signal=new lU}abort(){this.signal.dispatchEvent("abort")}},o(Jm,"AbortController"),Jm),lZ=typeof AbortSignal=="function",fZ=typeof zv.AbortSignal=="function",Xm,lU=lZ?AbortSignal:fZ?zv.AbortController:(Xm=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(Xm,"AbortSignal"),Xm),Uw=new Set,Ow=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;Gv(r)&&qw(r,`${e} option`,`options.${t}`,J8)},"deprecatedOption"),Fw=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(Gv(r)){let{prototype:n}=J8,{get:s}=Object.getOwnPropertyDescriptor(n,e);qw(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),cZ=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(Gv(r)){let{prototype:n}=J8,{get:s}=Object.getOwnPropertyDescriptor(n,e);qw(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),fU=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),Gv=o(e=>!Uw.has(e),"shouldWarn"),qw=o((e,t,r,n)=>{Uw.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;fU(s,"DeprecationWarning",e,n)},"warn"),i4=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),cU=o(e=>i4(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Y8:null:null,"getUintArray"),jw=class jw extends Array{constructor(t){super(t),this.fill(0)}};o(jw,"ZeroArray");var Y8=jw,$w=class $w{constructor(t){if(t===0)return[];let r=cU(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o($w,"Stack");var Mw=$w,Ym=class Ym{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:a,updateAgeOnHas:f,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:p,maxSize:g=0,sizeCalculation:y,fetchMethod:_,fetchContext:S,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:P}=t,{length:D,maxAge:L,stale:k}=t instanceof Ym?{}:t;if(r!==0&&!i4(r))throw new TypeError("max option must be a nonnegative integer");let B=r?cU(r):Array;if(!B)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=g,this.sizeCalculation=y||D,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=S,!this.fetchMethod&&S!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new B(r),this.prev=new B(r),this.head=0,this.tail=0,this.free=new Mw(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!w,this.maxSize!==0){if(!i4(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!k,this.noDeleteOnStaleGet=!!P,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!f,this.ttlResolution=i4(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=n||L||0,this.ttl){if(!i4(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let ne="LRU_CACHE_UNBOUNDED";Gv(ne)&&(Uw.add(ne),fU("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ne,Ym))}k&&Ow("stale","allowStale"),L&&Ow("maxAge","ttl"),D&&Ow("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new Y8(this.max),this.starts=new Y8(this.max),this.setItemTTL=(n,s,l=Wm.now())=>{if(this.starts[n]=s!==0?l:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?Wm.now():0};let t=0,r=o(()=>{let n=Wm.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new Y8(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!i4(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!i4(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Fw("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],a={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){a.ttl=this.ttls[r];let f=Wm.now()-this.starts[r];a.start=Math.floor(Date.now()-f)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=Wm.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,f),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let d=this.valList[u];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():l||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let l=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(l))return l;let a=new zv,f={signal:a.signal,options:n,context:s},c=o(p=>(a.signal.aborted||this.set(t,p,f.options),p),"cb"),u=o(p=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw p},"eb"),d=o(p=>p(this.fetchMethod(t,l,f)),"pcall"),h=new Promise(d).then(c,u);return h.__abortController=a,h.__staleWhileFetching=l,h.__returned=null,r===void 0?(this.set(t,h,f.options),r=this.keyMap.get(t)):this.valList[r]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let g={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:l,noDisposeOnSet:a,size:f,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d},y=this.keyMap.get(t);if(y===void 0){let _=this.backgroundFetch(t,y,g,h);return _.__returned=_}else{let _=this.valList[y];if(this.isBackgroundFetch(_))return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_;if(!p&&!this.isStale(y))return this.moveToTail(y),n&&this.updateItemAge(y),_;let S=this.backgroundFetch(t,y,g,h);return r&&S.__staleWhileFetching!==void 0?S.__staleWhileFetching:S.__returned=S}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let l=this.keyMap.get(t);if(l!==void 0){let a=this.valList[l],f=this.isBackgroundFetch(a);return this.isStale(l)?f?r?a.__staleWhileFetching:void 0:(s||this.delete(t),r?a:void 0):f?void 0:(this.moveToTail(l),n&&this.updateItemAge(l),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Fw("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Fw("reset","clear"),this.clear}get length(){return cZ("length","size"),this.size}static get AbortController(){return zv}static get AbortSignal(){return lU}};o(Ym,"LRUCache");var J8=Ym;uU.exports=J8});var Yw=ot((X1e,dU)=>{"use strict";var Gw=class Gw extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(Gw,"FetchBaseError");var Zm=Gw,Kw=class Kw extends Zm{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o(Kw,"FetchError");var Vw=Kw,Ww=class Ww extends Zm{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(Ww,"AbortError");var zw=Ww;dU.exports={FetchBaseError:Zm,FetchError:Vw,AbortError:zw}});var dd=ot((Q1e,gU)=>{"use strict";var{constants:{MAX_LENGTH:uZ}}=require("buffer"),{pipeline:Kv,PassThrough:dZ}=require("stream"),{promisify:hZ}=require("util"),{createGunzip:gZ,createInflate:mZ,createBrotliDecompress:pZ,constants:{Z_SYNC_FLUSH:hU}}=require("zlib"),yZ=n4()("helix-fetch:utils"),vZ=hZ(Kv),xZ=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),_Z=o((e,t,r,n)=>{if(!xZ(e,t))return r;let s=o(l=>{l&&(yZ(`encountered error while decoding stream: ${l}`),n(l))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Kv(r,gZ({flush:hU,finishFlush:hU}),s);case"deflate":case"x-deflate":return Kv(r,mZ(),s);case"br":return Kv(r,pZ(),s);default:return r}},"decodeStream"),bZ=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Wv=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?CZ(e,t):EZ(e,t);default:return 0}},"calcSize"),CZ=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Wv(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),EZ=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=Wv(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=Wv(e[s],t)}),r},"calcObjectSize"),TZ=o(e=>Wv(e,new WeakSet),"sizeof"),SZ=o(async e=>{let t=new dZ,r=0,n=[];return t.on("data",s=>{if(r+s.length>uZ)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await vZ(e,t),Buffer.concat(n,r)},"streamToBuffer");gU.exports={decodeStream:_Z,isPlainObject:bZ,sizeof:TZ,streamToBuffer:SZ}});var Jv=ot((tue,vU)=>{"use strict";var{PassThrough:mU,Readable:hd}=require("stream"),{types:{isAnyArrayBuffer:yU}}=require("util"),{FetchError:wZ,FetchBaseError:IZ}=Yw(),{streamToBuffer:AZ}=dd(),PZ=Buffer.alloc(0),Nc=Symbol("Body internals"),RZ=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),pU=o(async e=>{if(e[Nc].disturbed)throw new TypeError("Already read");if(e[Nc].error)throw new TypeError(`Stream had error: ${e[Nc].error.message}`);e[Nc].disturbed=!0;let{stream:t}=e[Nc];return t===null?PZ:AZ(t)},"consume"),Jw=class Jw{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=hd.from(t.toString()):t instanceof hd?r=t:Buffer.isBuffer(t)?r=hd.from(t):yU(t)?r=hd.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=hd.from(t):r=hd.from(String(t)),this[Nc]={stream:r,disturbed:!1,error:null},t instanceof hd&&r.on("error",n=>{let s=n instanceof IZ?n:new wZ(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Nc].error=s})}get body(){return this[Nc].stream}get bodyUsed(){return this[Nc].disturbed}async buffer(){return pU(this)}async arrayBuffer(){return RZ(await this.buffer())}async text(){return(await pU(this)).toString()}async json(){return JSON.parse(await this.text())}};o(Jw,"Body");var Yv=Jw;Object.defineProperties(Yv.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var kZ=o(e=>{if(e[Nc].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[Nc],r=t;if(t instanceof hd){r=new mU;let n=new mU;t.pipe(r),t.pipe(n),e[Nc].stream=n}return r},"cloneStream"),NZ=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||yU(e)||e instanceof hd?null:"text/plain; charset=utf-8","guessContentType");vU.exports={Body:Yv,cloneStream:kZ,guessContentType:NZ}});var X8=ot((nue,CU)=>{"use strict";var{validateHeaderName:xU,validateHeaderValue:_U}=require("http"),{isPlainObject:DZ}=dd(),gd=Symbol("Headers internals"),Qm=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof xU=="function")xU(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),bU=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof _U=="function")_U(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),Zv=class Zv{constructor(t={}){if(this[gd]={map:new Map},t instanceof Zv)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(DZ(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[gd].map.set(Qm(t),bU(r,t))}has(t){return this[gd].map.has(Qm(t))}get(t){let r=this[gd].map.get(Qm(t));return r===void 0?null:r}append(t,r){let n=Qm(t),s=bU(r,t),l=this[gd].map.get(n);this[gd].map.set(n,l?`${l}, ${s}`:s)}delete(t){this[gd].map.delete(Qm(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[gd].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[gd].map)}};o(Zv,"Headers");var Xv=Zv;Object.defineProperties(Xv.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));CU.exports={Headers:Xv}});var eI=ot((sue,EU)=>{"use strict";var{EventEmitter:LZ}=require("events"),x1=Symbol("AbortSignal internals"),Xw=class Xw{constructor(){this[x1]={eventEmitter:new LZ,onabort:null,aborted:!1}}get aborted(){return this[x1].aborted}get onabort(){return this[x1].onabort}set onabort(t){this[x1].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[x1].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[x1].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[x1][n]=="function"&&this[n](r),this[x1].eventEmitter.emit(t,r)}fire(){this[x1].aborted=!0,this.dispatchEvent("abort")}};o(Xw,"AbortSignal");var Z8=Xw;Object.defineProperties(Z8.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var Zw=class Zw extends Z8{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[x1].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[x1].timerId)}};o(Zw,"TimeoutSignal");var ex=Zw;Object.defineProperties(ex.prototype,{clear:{enumerable:!0}});var Qv=Symbol("AbortController internals"),Qw=class Qw{constructor(){this[Qv]={signal:new Z8}}get signal(){return this[Qv].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[Qv].signal.aborted||this[Qv].signal.fire()}};o(Qw,"AbortController");var tx=Qw;Object.defineProperties(tx.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});EU.exports={AbortController:tx,AbortSignal:Z8,TimeoutSignal:ex}});var e9=ot((aue,wU)=>{"use strict";var{randomBytes:BZ}=require("crypto"),{Readable:OZ}=require("stream"),rI=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),FZ=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),TU=o(e=>`--${e}--\r
\r
`,"getFooter"),SU=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,rI(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*MZ(e,t){for(let[r,n]of e)yield SU(t,r,n),rI(n)?yield*n.stream():yield n,yield`\r
`;yield TU(t)}o(MZ,"formDataIterator");var UZ=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(SU(t,n,s)),r+=rI(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(TU(t)),r},"getFormDataLength"),nI=class nI{constructor(t){this.fd=t,this.boundary=BZ(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=UZ(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return OZ.from(MZ(this.fd,this.boundary))}};o(nI,"FormDataSerializer");var tI=nI;wU.exports={isFormData:FZ,FormDataSerializer:tI}});var AU=ot((fue,IU)=>{"use strict";var{AbortSignal:qZ}=eI(),{Body:jZ,cloneStream:$Z,guessContentType:HZ}=Jv(),{Headers:VZ}=X8(),{isPlainObject:zZ}=dd(),{isFormData:GZ,FormDataSerializer:KZ}=e9(),WZ=20,J5=Symbol("Request internals"),t9=class t9 extends jZ{constructor(t,r={}){let n=t instanceof t9?t:null,s=n?new URL(n.url):new URL(t),l=r.method||n&&n.method||"GET";if(l=l.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(l))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?$Z(n):null),f=new VZ(r.headers||n&&n.headers||{});if(GZ(a)&&!f.has("content-type")){let h=new KZ(a);a=h.stream(),f.set("content-type",h.contentType()),!f.has("transfer-encoding")&&!f.has("content-length")&&f.set("content-length",h.length())}if(!f.has("content-type"))if(zZ(a))a=JSON.stringify(a),f.set("content-type","application/json");else{let h=HZ(a);h&&f.set("content-type",h)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof qZ))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[J5]={init:{...r},method:l,redirect:u,cache:d,headers:f,parsedURL:s,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=WZ:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[J5].method}get url(){return this[J5].parsedURL.toString()}get headers(){return this[J5].headers}get redirect(){return this[J5].redirect}get cache(){return this[J5].cache}get signal(){return this[J5].signal}clone(){return new t9(this)}get init(){return this[J5].init}get[Symbol.toStringTag](){return this.constructor.name}};o(t9,"Request");var rx=t9;Object.defineProperties(rx.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});IU.exports={Request:rx}});var iI=ot((uue,PU)=>{"use strict";var{Body:YZ,cloneStream:JZ,guessContentType:XZ}=Jv(),{Headers:ZZ}=X8(),{isPlainObject:QZ}=dd(),{isFormData:eQ,FormDataSerializer:tQ}=e9(),_1=Symbol("Response internals"),r9=class r9 extends YZ{constructor(t=null,r={}){let n=new ZZ(r.headers),s=t;if(eQ(s)&&!n.has("content-type")){let l=new tQ(s);s=l.stream(),n.set("content-type",l.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",l.length())}if(s!==null&&!n.has("content-type"))if(QZ(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let l=XZ(s);l&&n.set("content-type",l)}super(s),this[_1]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[_1].url||""}get status(){return this[_1].status}get statusText(){return this[_1].statusText}get ok(){return this[_1].status>=200&&this[_1].status<300}get redirected(){return this[_1].counter>0}get headers(){return this[_1].headers}get httpVersion(){return this[_1].httpVersion}get decoded(){return this[_1].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new r9(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new r9(JZ(this),{...this[_1]})}get[Symbol.toStringTag](){return this.constructor.name}};o(r9,"Response");var nx=r9;Object.defineProperties(nx.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});PU.exports={Response:nx}});var kU=ot((hue,RU)=>{"use strict";var rQ=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),nQ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),iQ=new Set([500,502,503,504]),sQ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},oQ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function s4(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(s4,"toNumberOrZero");function aQ(e){return e?iQ.has(e.status):!0}o(aQ,"isErrorResponse");function sI(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,l]=n.split(/=/,2);t[s.trim()]=l===void 0?!0:l.trim().replace(/^"|"$/g,"")}return t}o(sI,"parseCacheControl");function lQ(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(lQ,"formatCacheControl");var n9;RU.exports=(n9=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:l,ignoreCargoCult:a,_fromObject:f}={}){if(f){this._fromObject(f);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=l!==void 0?l:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=sI(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=sI(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":lQ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&nQ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||rQ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=sI(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)sQ[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return s4(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return s4(this._rescc["s-maxage"])}if(this._rescc["max-age"])return s4(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+s4(this._rescc["stale-if-error"]),n=t+s4(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+s4(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+s4(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(l=>!/^\s*W\//.test(l));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&aQ(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let a in this._resHeaders)s[a]=a in r.headers&&!oQ[a]?r.headers[a]:this._resHeaders[a];let l=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,l,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(n9,"CachePolicy"),n9)});var BU=ot((mue,LU)=>{"use strict";var fQ=kU(),{Headers:cQ}=X8(),NU=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),DU=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),aI=class aI{constructor(t,r,n){this.policy=new fQ(NU(t),DU(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(NU(t))}responseHeaders(t){return new cQ(this.policy.responseHeaders(DU(t)))}timeToLive(){return this.policy.timeToLive()}};o(aI,"CachePolicyWrapper");var oI=aI;LU.exports=oI});var MU=ot((yue,FU)=>{"use strict";var{Readable:uQ}=require("stream"),{Headers:OU}=X8(),{Response:dQ}=iI(),X5=Symbol("CacheableResponse internals"),hQ=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),ix=class ix extends dQ{constructor(t,r){super(t,r);let n=new OU(r.headers);this[X5]={headers:n,bufferedBody:t}}get headers(){return this[X5].headers}set headers(t){if(t instanceof OU)this[X5].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return uQ.from(this[X5].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[X5].bufferedBody}async arrayBuffer(){return hQ(this[X5].bufferedBody)}async text(){return this[X5].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f}=this;return new ix(this[X5].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f})}get[Symbol.toStringTag](){return this.constructor.name}};o(ix,"CacheableResponse");var lI=ix,gQ=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c}=e;return new lI(t,{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c})},"cacheableResponse");FU.exports={cacheableResponse:gQ}});var sx=ot((xue,UU)=>{"use strict";var cI=class cI extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(cI,"RequestAbortedError");var fI=cI;UU.exports={RequestAbortedError:fI}});var VU=ot((bue,HU)=>{"use strict";var jU=require("http"),$U=require("https"),{Readable:mQ}=require("stream"),md=n4()("helix-fetch:h1"),{RequestAbortedError:qU}=sx(),{decodeStream:pQ}=dd(),yQ=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new $U.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new jU.Agent(n),r.httpAgent):void 0},"getAgent"),vQ=o(e=>{e.h1={}},"setupContext"),xQ=o(async({h1:e})=>{e.httpAgent&&(md("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(md("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),_Q=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c}=e,u=t?pQ(n,c,e,r):e;return{statusCode:n,statusText:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),bQ=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?$U:jU,s=yQ(e,t.protocol),l={...r,agent:s},{socket:a,body:f}=l;return a&&(delete l.socket,a.assigned||(a.assigned=!0,s?l.agent=new Proxy(s,{get:(c,u)=>u==="createConnection"&&!a.inUse?(d,h)=>{md(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:c[u]}):l.createConnection=(c,u)=>{md(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{md(`${l.method} ${t.href}`);let d,{signal:h}=l,p=o(()=>{h.removeEventListener("abort",p),a&&!a.inUse&&(md(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new qU),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){u(new qU);return}h.addEventListener("abort",p)}d=n(t,l),d.once("response",g=>{h&&h.removeEventListener("abort",p),a&&!a.inUse&&(md(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(_Q(g,l.decode,u))}),d.once("error",g=>{h&&h.removeEventListener("abort",p),a&&!a.inUse&&(md(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(md(`${l.method} ${t.href} failed with: ${g.message}`),d.abort(),u(g))}),f instanceof mQ?f.pipe(d):(f&&d.write(f),d.end())})},"h1Request");HU.exports={request:bQ,setupContext:vQ,resetContext:xQ}});var WU=ot((Eue,KU)=>{"use strict";var{connect:CQ,constants:EQ}=require("http2"),{Readable:TQ}=require("stream"),to=n4()("helix-fetch:h2"),{RequestAbortedError:zU}=sx(),{decodeStream:SQ}=dd(),{NGHTTP2_CANCEL:i9}=EQ,wQ=5*60*1e3,IQ=5e3,AQ=o(e=>{e.h2={sessionCache:{}}},"setupContext"),PQ=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),to(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),GU=o((e,t,r,n=()=>{})=>{let s={...e},l=s[":status"];delete s[":status"];let a=r?SQ(l,e,t,n):t;return{statusCode:l,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),RQ=o((e,t,r,n,s,l)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:f,pushedStreamIdleTimeout:c=IQ}}}=e,u=s[":path"],d=`${t}${u}`;to(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${l}`),a&&a(d,s,o(()=>{n.close(i9)},"rejectPush")),n.on("push",(h,p)=>{to(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${p}`),n.setTimeout(c,()=>{to(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(i9)}),f&&f(d,s,GU(h,n,r))}),n.on("aborted",()=>{to(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{to(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,p,g)=>{to(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${p}, id: ${g}`)})},"handlePush"),kQ=o(async(e,t,r)=>{let{origin:n,pathname:s,search:l,hash:a}=t,f=`${s}${l}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:d=wQ,pushPromiseHandler:h,pushHandler:p}=c,g={...r},{method:y,headers:_,socket:S,body:w,decode:P}=g;return S&&delete g.socket,_.host&&(_[":authority"]=_.host,delete _.host),new Promise((D,L)=>{let k=u[n];if(!k||k.closed||k.destroyed){let st=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),Qe={...c,rejectUnauthorized:st};S&&!S.inUse&&(Qe.createConnection=()=>(to(`reusing socket #${S.id} (${S.servername})`),S.inUse=!0,S)),k=CQ(n,{...Qe,settings:{enablePush:!!(h||p)}}),k.setMaxListeners(1e3),k.setTimeout(d,()=>{to(`closing session ${n} after ${d} ms of inactivity`),k.close()}),k.once("connect",()=>{to(`session ${n} established`),to(`caching session ${n}`),u[n]=k}),k.on("localSettings",ke=>{to(`session ${n} localSettings: ${JSON.stringify(ke)}`)}),k.on("remoteSettings",ke=>{to(`session ${n} remoteSettings: ${JSON.stringify(ke)}`)}),k.once("close",()=>{to(`session ${n} closed`),u[n]===k&&(to(`discarding cached session ${n}`),delete u[n])}),k.once("error",ke=>{to(`session ${n} encountered error: ${ke}`),u[n]===k&&(to(`discarding cached session ${n}`),delete u[n])}),k.on("frameError",(ke,pe,Pt)=>{to(`session ${n} encountered frameError: type: ${ke}, code: ${pe}, id: ${Pt}`)}),k.once("goaway",(ke,pe,Pt)=>{to(`session ${n} received GOAWAY frame: errorCode: ${ke}, lastStreamID: ${pe}, opaqueData: ${Pt?Pt.toString():void 0}`)}),k.on("stream",(ke,pe,Pt)=>{RQ(e,n,P,ke,pe,Pt)})}else S&&S.id!==k.socket.id&&!S.inUse&&(to(`discarding redundant socket used for ALPN: #${S.id} ${S.servername}`),S.destroy());to(`${y} ${t.host}${f}`);let B,{signal:ne}=g,ce=o(()=>{ne.removeEventListener("abort",ce),L(new zU),B&&B.close(i9)},"onAbortSignal");if(ne){if(ne.aborted){L(new zU);return}ne.addEventListener("abort",ce)}let Ge=o(st=>{to(`session ${n} encountered error during ${g.method} ${t.href}: ${st}`),L(st)},"onSessionError");k.once("error",Ge),B=k.request({":method":y,":path":f,..._}),B.once("response",st=>{k.off("error",Ge),ne&&ne.removeEventListener("abort",ce),D(GU(st,B,g.decode,L))}),B.once("error",st=>{k.off("error",Ge),ne&&ne.removeEventListener("abort",ce),B.rstCode!==i9&&(to(`${g.method} ${t.href} failed with: ${st.message}`),B.close(i9),L(st))}),B.once("frameError",(st,Qe,Ft)=>{k.off("error",Ge),to(`encountered frameError during ${g.method} ${t.href}: type: ${st}, code: ${Qe}, id: ${Ft}`)}),B.on("push",(st,Qe)=>{to(`received 'push' event: headers: ${JSON.stringify(st)}, flags: ${Qe}`)}),w instanceof TQ?w.pipe(B):(w&&B.write(w),B.end())})},"request");KU.exports={request:kQ,setupContext:AQ,resetContext:PQ}});var JU=ot((Sue,YU)=>{"use strict";var{EventEmitter:NQ}=require("events"),DQ=o(()=>{let e={},t=new NQ;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(l=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(l))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");YU.exports=DQ});var XU=ot((Iue,LQ)=>{LQ.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var rq=ot((Aue,tq)=>{"use strict";var{Readable:BQ}=require("stream"),OQ=require("tls"),{types:{isAnyArrayBuffer:FQ}}=require("util"),MQ=Hw(),uI=n4()("helix-fetch:core"),{RequestAbortedError:ox}=sx(),dI=VU(),ax=WU(),UQ=JU(),{isPlainObject:qQ}=dd(),{isFormData:jQ,FormDataSerializer:$Q}=e9(),{version:HQ}=XU(),hI="h2",gI="h2c",mI="http/1.0",o4="http/1.1",VQ=100,zQ=60*60*1e3,GQ=[hI,o4,mI],KQ=`helix-fetch/${HQ}`,WQ={method:"GET",compress:!0,decode:!0},ZU=0,QU=UQ(),eq=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,l,a=o(()=>{s.removeEventListener("abort",a);let u=new ox;n(u),l&&l.destroy(u)},"onAbortSignal");if(s){if(s.aborted){n(new ox);return}s.addEventListener("abort",a)}let f=+e.port||443,c=o(u=>{s&&s.removeEventListener("abort",a),u instanceof ox||(uI(`connecting to ${e.hostname}:${f} failed with: ${u.message}`),n(u))},"onError");l=OQ.connect(f,e.hostname,t),l.once("secureConnect",()=>{s&&s.removeEventListener("abort",a),l.off("error",c),ZU+=1,l.id=ZU,l.secureConnecting=!1,uI(`established TLS connection: #${l.id} (${l.servername})`),r(l)}),l.once("error",c)}),"connectTLS"),YQ=o(async(e,t)=>{let r=await QU.acquire(e.origin);try{return r||(r=await eq(e,t)),r}finally{QU.release(e.origin,r)}},"connect"),JQ=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=o4,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=gI,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:l,h1:a={},h2:f={}}}=e,c=!(l===!1||a.rejectUnauthorized===!1||f.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let d=await YQ(t,u);return s=d.alpnProtocol,s||(s=o4),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),XQ=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),ZQ=o(async(e,t,r,n)=>{let s=t.protocol==="https:",l;t.port?l=t.port:s?l=443:l=80;let a={...r,host:t.host,hostname:t.hostname,port:l},f=await e(a);if(s){let u={...a,ALPNProtocols:n};u.socket=f,u.servername=a.host;let d=await eq(t,u);return{protocol:d.alpnProtocol||o4,socket:d}}return{protocol:f.alpnProtocol||o4,socket:f}},"getProtocolAndSocketFromFactory"),QQ=o(async(e,t,r)=>{let n=new URL(t),s={...WQ,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=XQ(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let l;if(s.body instanceof URLSearchParams)l="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(jQ(s.body)){let u=new $Q(s.body);l=u.contentType(),s.body=u.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(u.length()))}else typeof s.body=="string"||s.body instanceof String?l="text/plain; charset=utf-8":qQ(s.body)?(s.body=JSON.stringify(s.body),l="application/json"):FQ(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&l!==void 0&&(s.headers["content-type"]=l),s.body!=null&&(s.body instanceof BQ||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=s,{protocol:f,socket:c=null}=e.socketFactory?await ZQ(e.socketFactory,n,s,e.alpnProtocols):await JQ(e,n,a);switch(uI(`${n.host} -> ${f}`),f){case hI:try{return await ax.request(e,n,c?{...s,socket:c}:s)}catch(u){let{code:d,message:h}=u;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case gI:return ax.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...s,socket:c}:s);case mI:case o4:return dI.request(e,n,c?{...s,socket:c}:s);default:throw new TypeError(`unsupported protocol: ${f}`)}},"request"),eee=o(async e=>(e.alpnCache.clear(),Promise.all([dI.resetContext(e),ax.resetContext(e)])),"resetContext"),tee=o(e=>{let{options:{alpnProtocols:t=GQ,alpnCacheTTL:r=zQ,alpnCacheSize:n=VQ,userAgent:s=KQ,socketFactory:l}}=e;e.alpnProtocols=t,e.alpnCache=new MQ({max:n,ttl:r}),e.userAgent=s,e.socketFactory=l,dI.setupContext(e),ax.setupContext(e)},"setupContext");tq.exports={request:QQ,setupContext:tee,resetContext:eee,RequestAbortedError:ox,ALPN_HTTP2:hI,ALPN_HTTP2C:gI,ALPN_HTTP1_1:o4,ALPN_HTTP1_0:mI}});var iq=ot((Rue,nq)=>{"use strict";var ree=n4()("helix-fetch:core"),{request:nee,setupContext:iee,resetContext:see,RequestAbortedError:oee,ALPN_HTTP2:aee,ALPN_HTTP2C:lee,ALPN_HTTP1_1:fee,ALPN_HTTP1_0:cee}=rq(),lx=class lx{constructor(t){this.options={...t||{}},iee(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new lx(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:oee,ALPN_HTTP2:aee,ALPN_HTTP2C:lee,ALPN_HTTP1_1:fee,ALPN_HTTP1_0:cee}}async request(t,r){return nee(this,t,r)}setCA(t){this.options.ca=t}async reset(){return ree("resetting context"),see(this)}};o(lx,"RequestContext");var pI=lx;nq.exports=new pI().api()});var fq=ot((Nue,lq)=>{"use strict";var{EventEmitter:uee}=require("events"),{Readable:s9}=require("stream"),yI=n4()("helix-fetch"),dee=Hw(),{Body:hee}=Jv(),{Headers:bI}=X8(),{Request:a4}=AU(),{Response:xI}=iI(),{FetchBaseError:gee,FetchError:o9,AbortError:fx}=Yw(),{AbortController:mee,AbortSignal:pee,TimeoutSignal:yee}=eI(),vee=BU(),{cacheableResponse:xee}=MU(),{sizeof:_ee}=dd(),{isFormData:bee}=e9(),{context:Cee,RequestAbortedError:Eee}=iq(),sq=["GET","HEAD"],Tee=500,See=100*1024*1024,vI="push",oq=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof a4&&typeof r>"u"?t:new a4(t,r),{method:l,body:a,signal:f,compress:c,decode:u,follow:d,redirect:h,init:{body:p}}=s,g;if(f&&f.aborted){let k=new fx("The operation was aborted.");throw s.init.body instanceof s9&&s.init.body.destroy(k),k}try{g=await n(s.url,{...r,method:l,headers:s.headers.plain(),body:p&&!(p instanceof s9)&&!bee(p)?p:a,compress:c,decode:u,follow:d,redirect:h,signal:f})}catch(k){throw p instanceof s9&&p.destroy(k),k instanceof TypeError?k:k instanceof Eee?new fx("The operation was aborted."):new o9(k.message,"system",k)}let y=o(()=>{f.removeEventListener("abort",y);let k=new fx("The operation was aborted.");s.init.body instanceof s9&&s.init.body.destroy(k),g.readable.emit("error",k)},"abortHandler");f&&f.addEventListener("abort",y);let{statusCode:_,statusText:S,httpVersion:w,headers:P,readable:D,decoded:L}=g;if([301,302,303,307,308].includes(_)){let{location:k}=P,B=k==null?null:new URL(k,s.url);switch(s.redirect){case"manual":break;case"error":throw f&&f.removeEventListener("abort",y),new o9(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if(B===null)break;if(s.counter>=s.follow)throw f&&f.removeEventListener("abort",y),new o9(`maximum redirect reached at: ${s.url}`,"max-redirect");let ne={headers:new bI(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(_!==303&&s.body&&s.init.body instanceof s9)throw f&&f.removeEventListener("abort",y),new o9("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(_===303||(_===301||_===302)&&s.method==="POST")&&(ne.method="GET",ne.body=void 0,ne.headers.delete("content-length")),f&&f.removeEventListener("abort",y),oq(e,new a4(B,ne))}default:}}return f&&(D.once("end",()=>{f.removeEventListener("abort",y)}),D.once("error",()=>{f.removeEventListener("abort",y)})),new xI(D,{url:s.url,status:_,statusText:S,headers:P,httpVersion:w,decoded:L,counter:s.counter})},"fetch"),aq=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!sq.includes(t.method))return r;let n=new vee(t,r,{shared:!1});if(n.storable()){let s=await xee(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),wee=o(async(e,t,r)=>{let n=new a4(t,r);if(e.options.maxCacheSize!==0&&sq.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:f}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){f.headers=new bI(a.responseHeaders(f));let c=f.clone();return c.fromCache=!0,c}}let l=await oq(e,n);return n.cache!=="no-store"?aq(e,n,l):l},"cachingFetch"),Iee=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(l=>r.searchParams.append(n,l)):r.searchParams.append(n,s)}),r.href},"createUrl"),Aee=o(e=>new yee(e),"timeoutSignal"),pd=class pd{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:See,s=Tee;n===0&&(n=1,s=1);let l=o(({response:f},c)=>_ee(f),"sizeCalculation");this.cache=new dee({max:s,maxSize:n,sizeCalculation:l}),this.eventEmitter=new uee,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(f,d,u)},this.options.h2.pushHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(w=>w.startsWith(":")).forEach(w=>delete d[w]);let{statusCode:h,statusText:p,httpVersion:g,headers:y,readable:_,decoded:S}=u;this.pushHandler(f,d,new xI(_,{url:f,status:h,statusText:p,headers:y,httpVersion:g,decoded:S}))}),this.context=Cee(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:hee,Headers:bI,Request:a4,Response:xI,AbortController:mee,AbortSignal:pee,FetchBaseError:gee,FetchError:o9,AbortError:fx,context:(t={})=>new pd(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new pd({...t,maxCacheSize:0}).api(),h1:(t={})=>new pd({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new pd({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new pd({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new pd({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:Iee,timeoutSignal:Aee,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return wee(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(vI,t)}offPush(t){return this.eventEmitter.off(vI,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){yI(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new a4(t,{headers:r}),{policy:l}=this.cache.get(t)||{};l&&l.satisfiesWithoutRevalidation(s)&&(yI(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){yI(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await aq(this,new a4(t,{headers:r}),n);this.eventEmitter.emit(vI,t,s)}};o(pd,"FetchContext");var _I=pd;lq.exports=new _I().api()});var uq=ot((Lue,cq)=>{"use strict";cq.exports=fq()});var $I=ot((Hde,Oee)=>{Oee.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.197.0",build:"904",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot?editor=vscode",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup?editor=vscode",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.
  
[Getting started videos](https://github.com/features/copilot/getting-started?utm_source=editor&utm_medium=walkthrough&utm_campaign=2024q3-em-MSFT-videolandingpage)`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chatWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `ctrl + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.chatNonWin",title:"Chat with Copilot",description:"Ask Copilot general programming questions with chat. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands. Use `cmd + shift + i` to open inline chat.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!isWindows && !github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Harness the power of context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Harness the power of context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://code.visualstudio.com/docs/copilot/prompt-crafting)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused && !commentEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible && activeWebviewPanelId == 'GitHub Copilot Suggestions'"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}},"copilot-blocked":{description:"GitHub Copilot blocked icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0045"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:'run-p --aggregate-output "lint:*"',"lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint -f visualstudio --cache .","lint:prettier":"prettier --check . 2>&1","lint:types":"tsc --noEmit && tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.33.0","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.7.1","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.1.0","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",jhaystack:"^0.1.8",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^9.0.0","vscode-languageserver-protocol":"^3.17","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var Pq=ot((Cx,Aq)=>{(function(e,t){typeof Cx=="object"&&typeof Aq<"u"?t(Cx):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Cx,function(e){"use strict";var t=void 0,r=null,n="",s="function",l="number",a="object",f="prototype",c="__proto__",u="string",d="undefined",h="constructor",p="Symbol",g="_polyfill",y="indexOf",_="length",S="value",w="name",P="slice",D="call",L="toString",k=Object,B=k[f],ne=String,ce=ne[f],Ge=Math,st=Array,Qe=st[f];function Ft(b,A){try{return{v:b.apply(this,A)}}catch(R){return{e:R}}}o(Ft,"safe");function ke(b){return function(A){return typeof A===b}}o(ke,"_createIs");function pe(b){var A="[object "+b+"]";return function(R){return!!(R&&Pt(R)===A)}}o(pe,"_createObjIs");function Pt(b){return B.toString.call(b)}o(Pt,"objToString");function Ht(b){return typeof b===d||b===d}o(Ht,"isUndefined");function $t(b){return b===r||Ht(b)}o($t,"isNullOrUndefined");function d0(b){return!!b||b!==t}o(d0,"isDefined");var rt=ke(u),Nt=ke(s);function de(b){return!b&&$t(b)?!1:!!b&&typeof b===a}o(de,"isObject");var xe=st.isArray,r0=pe("Error"),T0=k.getOwnPropertyDescriptor;function v0(b,A){return!!b&&B.hasOwnProperty[D](b,A)}o(v0,"objHasOwnProperty");var Zt=k.hasOwn||G0;function G0(b,A){return v0(b,A)||!!T0(b,A)}o(G0,"polyObjHasOwn");function ge(b,A,R){if(b&&de(b)){for(var F in b)if(Zt(b,F)&&A[D](R||b,F,b[F])===-1)break}}o(ge,"objForEachKey");function y0(b,A,R,F){var fe={};return ge(b,function($e,Ct){fe[$e]=A?Ct:$e,fe[Ct]=R?Ct:$e}),F(fe)}o(y0,"_createKeyValueMap");function et(b){throw new Error(b)}o(et,"throwError");function m0(b){throw new TypeError(b)}o(m0,"throwTypeError");var h0=k.freeze;function w0(b){return b}o(w0,"_doNothing");function K0(b){return b[c]||r}o(K0,"_getProto");var $r=k.assign,er=k.keys;function se(b){return h0&&ge(b,function(A,R){(xe(R)||de(R))&&h0(R)}),Kr(b)}o(se,"objDeepFreeze");var Kr=h0||w0,U0=k.getPrototypeOf||K0;function es(b){return y0(b,1,0,se)}o(es,"createEnum");function Li(b){var A={};return ge(b,function(R,F){A[R]=F[1],A[F[0]]=F[1]}),se(A)}o(Li,"createSimpleMap");function ds(b){return Li(b)}o(ds,"createTypeMap");var Bi=ne,Ra="__tsUtils$gblCfg",Ga;function yl(){var b;return typeof globalThis!==d&&(b=globalThis),!b&&typeof self!==d&&(b=self),!b&&typeof window!==d&&(b=window),!b&&typeof global!==d&&(b=global),b}o(yl,"_getGlobalValue");function Ka(){if(!Ga){var b=Ft(yl).v||{};Ga=b[Ra]=b[Ra]||{}}return Ga}o(Ka,"_getGlobalConfig");var mn="[object Error]";function be(b,A){var R=n,F=B[L][D](b);F===mn&&(b={stack:Bi(b.stack),message:Bi(b.message),name:Bi(b.name)});try{R=JSON.stringify(b,r,A?typeof A===l?A:4:t),R=R&&R.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Bi(b)}catch(fe){R=" - "+be(fe,A)}return F+": "+R}o(be,"dumpObj");var j,H=Jr,x0=Jr;function Jr(b,A,R){j=j||Qe[P];var F=A&&A[b];return function(fe){var $e=fe&&fe[b]||F;if($e||R){var Ct=arguments;return($e||R).apply(fe,$e?j[D](Ct,1):Ct)}m0('"'+Bi(b)+'" not defined for '+be(fe))}}o(Jr,"_unwrapFunctionWithPoly");var ui=Ge.max,hi=x0(P,ce),Qr=x0("substring",ce),ki=Jr("substr",ce,On);function On(b,A,R){return $t(b)&&m0("'polyStrSubstr called with invalid "+be(b)),R<0?n:(A=A||0,A<0&&(A=ui(A+b[_],0)),Ht(R)?hi(b,A):hi(b,A,A+R))}o(On,"polyStrSubstr");function Mi(b,A){return Qr(b,0,A)}o(Mi,"strLeft");var di="_urid",Oi;function X0(){if(!Oi){var b=Ka();Oi=b.gblSym=b.gblSym||{k:{},s:{}}}return Oi}o(X0,"_globalSymbolRegistry");function Hf(b){var A={description:Bi(b),toString:function(){return p+"("+b+")"}};return A[g]=!0,A}o(Hf,"polyNewSymbol");function Tu(b){var A=X0();if(!Zt(A.k,b)){var R=Hf(b),F=er(A.s).length;R[di]=function(){return F+"_"+R[L]()},A.k[b]=R,A.s[R[di]()]=Bi(b)}return A.k[b]}o(Tu,"polySymbolFor");var vl={e:"enumerable",c:"configurable",v:S,w:"writable",g:"get",s:"set"};function dc(b){var A={};if(A[vl.c]=!0,A[vl.e]=!0,b.l){A.get=function(){return b.l.v};var R=T0(b.l,"v");R&&R.set&&(A.set=function(F){b.l.v=F})}return ge(b,function(F,fe){A[vl[F]]=Ht(fe)?A[vl[F]]:fe}),A}o(dc,"_createProp");var _f=k.defineProperty;function Wc(b,A,R){return _f(b,A,dc(R))}o(Wc,"objDefine");var Rt;function X(){Rt=Ka()}o(X,"_initTestHooks");function Ke(b){var A={};return!Rt&&X(),A.b=Rt.lzy,_f(A,"v",{configurable:!0,get:function(){var R=b();return Rt.lzy||_f(A,"v",{value:R}),A.b=Rt.lzy,R}}),A}o(Ke,"getLazy");function tt(b,A){return Ke(function(){var R=Ft(b);return R.e?A:R.v})}o(tt,"safeGetLazy");function he(b){return _f({toJSON:function(){return b}},"v",{value:b})}o(he,"createCachedValue");var z="window",Vt,c0,Yr,ts;function Ui(b){return Ke(function(){return Ft(ns,[b]).v||t})}o(Ui,"lazySafeGetInst");function xl(b){return!Rt&&X(),(!Vt||b===!1||Rt.lzy)&&(Vt=he(Ft(yl).v||r)),Vt.v}o(xl,"getGlobal");function ns(b,A){var R=!Vt||A===!1?xl(A):Vt.v;return R&&R[b]?R[b]:b===z&&c0?c0.v:r}o(ns,"getInst");function ql(){return!Rt&&X(),(!Yr||Rt.lzy)&&(Yr=he(Ft(ns,["document"]).v)),Yr.v}o(ql,"getDocument");function An(){return!!ji()}o(An,"hasWindow");function ji(){return!Rt&&X(),(!c0||Rt.lzy)&&(c0=he(Ft(ns,[z]).v)),c0.v}o(ji,"getWindow");function os(){return!!_l()}o(os,"hasNavigator");function _l(){return!Rt&&X(),(!ts||Rt.lzy)&&(ts=he(Ft(ns,["navigator"]).v)),ts.v}o(_l,"getNavigator");var af,M4;function Su(){(!af||!af.b)&&(af=Ui(p),M4=tt(function(){return af.v?af.v.for:t},t))}o(Su,"_initSymbol");function Bd(b,A){return!Rt&&X(),(!af||Rt.lzy)&&Su(),af.v?af.v(b):A?r:Hf(b)}o(Bd,"newSymbol");function wu(b){return!Rt&&X(),(!M4||!af||Rt.lzy)&&Su(),(M4.v||Tu)(b)}o(wu,"symbolFor");var Yc=H("apply");function jl(b,A,R){if(b)for(var F=b[_]>>>0,fe=0;fe<F&&!(fe in b&&A[D](R||b,b[fe],fe,b)===-1);fe++);}o(jl,"arrForEach");var P1=x0(y,Qe),Iu=x0("map",Qe),K6=x0("reduce",Qe),Vf=k.create||ka;function ka(b){if(!b)return{};var A=typeof b;A!==a&&A!==s&&m0("Prototype must be an Object or function: "+be(b));function R(){}return o(R,"tempFunc"),R[f]=b,new R}o(ka,"polyObjCreate");var W6;function Au(b,A){var R=k.setPrototypeOf||function(F,fe){!W6&&(W6=Ke(function(){var $e;return $e={},$e[c]=[],$e instanceof Array})),W6.v?F[c]=fe:ge(fe,function($e,Ct){return F[$e]=Ct})};return R(b,A)}o(Au,"objSetPrototypeOf");function Ob(b,A,R){Ft(Wc,[A,w,{v:b,c:!0,e:!1}]),A=Au(A,R);function F(){this.constructor=A,Ft(Wc,[this,w,{v:b,c:!0,e:!1}])}return o(F,"__"),A[f]=R===r?Vf(R):(F[f]=R[f],new F),A}o(Ob,"_createCustomError");function Jc(b,A){A&&(b[w]=A)}o(Jc,"_setName");function Fb(b,A,R){var F=R||Error,fe=F[f][w],$e=Error.captureStackTrace;return Ob(b,function(){var Ct=this,Gt=arguments;try{Ft(Jc,[F,b]);var t0=Yc(F,Ct,Qe[P][D](Gt))||Ct;if(t0!==Ct){var p0=U0(Ct);p0!==U0(t0)&&Au(t0,p0)}return $e&&$e(t0,Ct[h]),A&&A(t0,Gt),t0}finally{Ft(Jc,[F,fe])}},F)}o(Fb,"createCustomError");function R1(){return(Date.now||Mb)()}o(R1,"utcNow");function Mb(){return new Date().getTime()}o(Mb,"polyUtcNow");function $l(b){return o(function(R){return $t(R)&&m0("strTrim called ["+be(R)+"]"),R&&R.replace&&(R=R.replace(b,n)),R},"_doTrim")}o($l,"_createTrimFn");var Y6=$l(/^\s+|(?=\s)\s+$/g),zf=Jr("trim",ce,Y6),J6,X6,b3;function hc(b){if(!b||typeof b!==a)return!1;b3||(b3=An()?ji():!0);var A=!1;if(b!==b3){X6||(J6=Function[f][L],X6=J6[D](k));try{var R=U0(b);A=!R,A||(v0(R,h)&&(R=R[h]),A=R&&typeof R===s&&J6[D](R)===X6)}catch{}}return A}o(hc,"isPlainObject");var Od;function U4(){return!Rt&&X(),(!Od||!Od.b&&Rt.lzy)&&(Od=Ui("performance")),Od.v}o(U4,"getPerformance");var Ub=Jr("endsWith",ce,q4);function q4(b,A,R){rt(b)||m0("'"+be(b)+"' is not a string");var F=rt(A)?A:Bi(A),fe=!Ht(R)&&R<b[_]?R:b[_];return Qr(b,fe-F[_],fe)===F}o(q4,"polyStrEndsWith");var C3=x0(y,ce),Xc="ref",k1="un"+Xc,yn="hasRef",bf="enabled";function E3(b,A,R){var F,fe=!0,$e=b?A(r):r,Ct,Gt=o(function(){return fe=!1,$e&&$e[k1]&&$e[k1](),Ct},"_unref"),t0=o(function(){return fe=!0,$e&&$e[Xc]&&$e[Xc](),Ct},"_ref"),p0=o(function(){return $e&&$e[yn]?$e[yn]():fe},"_hasRef"),B0=o(function(){return $e=A($e),fe||Gt(),Ct},"_refresh"),Rn=o(function(){$e&&R($e),$e=r},"_cancel"),In=o(function(xn){!xn&&$e&&Rn(),xn&&!$e&&B0()},"_setEnabled");return Ct=(F={cancel:Rn,refresh:B0},F[yn]=p0,F[Xc]=t0,F[k1]=Gt,F[bf]=!1,F),_f(Ct,bf,{get:function(){return!!$e},set:In}),{h:Ct,dn:function(){$e=r}}}o(E3,"_createTimerHandler");function Z6(b,A,R,F){var fe=xe(R),$e=fe?R.length:0,Ct=($e>0?R[0]:fe?t:R)||setTimeout,Gt=($e>1?R[1]:t)||clearTimeout,t0=F[0];F[0]=function(){p0.dn(),Yc(t0,b,Qe[P][D](arguments))};var p0=E3(A,function(B0){if(B0){if(B0.refresh)return B0.refresh(),B0;Yc(Gt,b,[B0])}return Yc(Ct,b,F)},function(B0){Yc(Gt,b,[B0])});return p0.h}o(Z6,"_createTimeoutWith");function qb(b,A){return Z6(this,!0,t,Qe[P][D](arguments))}o(qb,"scheduleTimeout");var Gf=es,jb=ds,Fd="toLowerCase",T3="blkVal",Na="length",S3="rdOnly",Q6="notify",N1="warnToConsole",w3="throwInternal",eg="setDf",tg="watch",Sa="logger",rg="apply",gc="push",j4="splice",Hl="hdlr",$b="cancel",$4="name",Hb="unload",I3="version",u7="loggingLevelConsole",ng="messageId",A3="message",d7="diagLog",h7="userAgent",ig="split",H4="nodeType",Md="replace",g7="logInternalMessage",Zc="type",V4="handler",m7="traceId",Ud="spanId",Pu="traceFlags",P3;function sg(b,A){P3||(P3=Fb("AggregationError",function(F,fe){fe[Na]>1&&(F.errors=fe[1])}));var R=b||"One or more errors occurred.";throw jl(A,function(F,fe){R+=`
`.concat(fe," > ").concat(be(F))}),new P3(R,A||[])}o(sg,"throwAggregationError");var p7="function",Vb="object",y7="undefined",mc="prototype",v7=Object,z4=v7[mc],R3="hasOwnProperty",Qc=o(function(b){for(var A,R=1,F=arguments.length;R<F;R++){A=arguments[R];for(var fe in A)z4[R3].call(A,fe)&&(b[fe]=A[fe])}return b},"__objAssignFnImpl"),Ru=$r||Qc,qd=o(function(b,A){return qd=v7.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var fe in F)F[R3](fe)&&(R[fe]=F[fe])},qd(b,A)},"extendStaticsFn");function og(b,A){typeof A!==p7&&A!==null&&m0("Class extends value "+String(A)+" is not a constructor or null"),qd(b,A);function R(){this.constructor=b}o(R,"__"),b[mc]=A===null?Vf(A):(R[mc]=A[mc],new R)}o(og,"__extendsFn");var e1,G4="constructor",Kf="prototype",D1="function",k3="_dynInstFuncs",K4="_isDynProxy",L1="_dynClass",W4="_dynCls$",Y4="_dynInstChk",ku=Y4,N3="_dfOpts",J4="_unknown_",D3="__proto__",B1="_dyn"+D3,ag="__dynProto$Gbl",X4="_dynInstProto",jd="useBaseInst",$d="setInstFuncs",L3=Object,Wf=L3.getPrototypeOf,B3=L3.getOwnPropertyNames,Z4=xl(),Hd=Z4[ag]||(Z4[ag]={o:(e1={},e1[$d]=!0,e1[jd]=!0,e1),n:1e3});function Q4(b){return b&&(b===L3[Kf]||b===Array[Kf])}o(Q4,"_isObjectOrArrayPrototype");function O3(b){return Q4(b)||b===Function[Kf]}o(O3,"_isObjectArrayOrFunctionPrototype");function Nu(b){var A;if(b){if(Wf)return Wf(b);var R=b[D3]||b[Kf]||(b[G4]?b[G4][Kf]:null);A=b[B1]||R,v0(b,B1)||(delete b[X4],A=b[B1]=b[X4]||b[B1],b[X4]=R)}return A}o(Nu,"_getObjProto");function eh(b,A){var R=[];if(B3)R=B3(b);else for(var F in b)typeof F=="string"&&v0(b,F)&&R.push(F);if(R&&R.length>0)for(var fe=0;fe<R.length;fe++)A(R[fe])}o(eh,"_forEachProp");function lg(b,A,R){return A!==G4&&typeof b[A]===D1&&(R||v0(b,A))&&A!==D3&&A!==Kf}o(lg,"_isDynamicCandidate");function th(b){m0("DynamicProto: "+b)}o(th,"_throwTypeError");function zb(b){var A=Vf(null);return eh(b,function(R){!A[R]&&lg(b,R,!1)&&(A[R]=b[R])}),A}o(zb,"_getInstanceFuncs");function F3(b,A){for(var R=b.length-1;R>=0;R--)if(b[R]===A)return!0;return!1}o(F3,"_hasVisited");function Vl(b,A,R,F){function fe(t0,p0,B0){var Rn=p0[B0];if(Rn[K4]&&F){var In=t0[k3]||{};In[ku]!==!1&&(Rn=(In[p0[L1]]||{})[B0]||Rn)}return function(){return Rn.apply(t0,arguments)}}o(fe,"_instFuncProxy");var $e=Vf(null);eh(R,function(t0){$e[t0]=fe(A,R,t0)});for(var Ct=Nu(b),Gt=[];Ct&&!O3(Ct)&&!F3(Gt,Ct);)eh(Ct,function(t0){!$e[t0]&&lg(Ct,t0,!Wf)&&($e[t0]=fe(A,Ct,t0))}),Gt.push(Ct),Ct=Nu(Ct);return $e}o(Vl,"_getBaseFuncs");function Gb(b,A,R,F){var fe=null;if(b&&v0(R,L1)){var $e=b[k3]||Vf(null);if(fe=($e[R[L1]]||Vf(null))[A],fe||th("Missing ["+A+"] "+D1),!fe[Y4]&&$e[ku]!==!1){for(var Ct=!v0(b,A),Gt=Nu(b),t0=[];Ct&&Gt&&!O3(Gt)&&!F3(t0,Gt);){var p0=Gt[A];if(p0){Ct=p0===F;break}t0.push(Gt),Gt=Nu(Gt)}try{Ct&&(b[A]=fe),fe[Y4]=1}catch{$e[ku]=!1}}}return fe}o(Gb,"_getInstFunc");function x7(b,A,R){var F=A[b];return F===R&&(F=Nu(A)[b]),typeof F!==D1&&th("["+b+"] is not a "+D1),F}o(x7,"_getProtoFunc");function _7(b,A,R,F,fe){function $e(t0,p0){var B0=o(function(){var Rn=Gb(this,p0,t0,B0)||x7(p0,t0,B0);return Rn.apply(this,arguments)},"dynProtoProxy");return B0[K4]=1,B0}if(o($e,"_createDynamicPrototype"),!Q4(b)){var Ct=R[k3]=R[k3]||Vf(null);if(!Q4(Ct)){var Gt=Ct[A]=Ct[A]||Vf(null);Ct[ku]!==!1&&(Ct[ku]=!!fe),Q4(Gt)||eh(R,function(t0){lg(R,t0,!1)&&R[t0]!==F[t0]&&(Gt[t0]=R[t0],delete R[t0],(!v0(b,t0)||b[t0]&&!b[t0][K4])&&(b[t0]=$e(b,t0)))})}}}o(_7,"_populatePrototype");function M3(b,A){if(Wf){for(var R=[],F=Nu(A);F&&!O3(F)&&!F3(R,F);){if(F===b)return!0;R.push(F),F=Nu(F)}return!1}return!0}o(M3,"_checkPrototype");function U3(b,A){return v0(b,Kf)?b.name||A||J4:((b||{})[G4]||{}).name||A||J4}o(U3,"_getObjName");function fg(b,A,R,F){v0(b,Kf)||th("theClass is an invalid class definition.");var fe=b[Kf];M3(fe,A)||th("["+U3(b)+"] not in hierarchy of ["+U3(A)+"]");var $e=null;v0(fe,L1)?$e=fe[L1]:($e=W4+U3(b,"_")+"$"+Hd.n,Hd.n++,fe[L1]=$e);var Ct=fg[N3],Gt=!!Ct[jd];Gt&&F&&F[jd]!==void 0&&(Gt=!!F[jd]);var t0=zb(A),p0=Vl(fe,A,t0,Gt);R(A,p0);var B0=!!Wf&&!!Ct[$d];B0&&F&&(B0=!!F[$d]),_7(fe,$e,A,t0,B0!==!1)}o(fg,"dynamicProto"),fg[N3]=Hd.o;var b7=void 0,vo="",O1="Not dynamic - ",cg=/-([a-z])/g,q3=/([^\w\d_$])/g,C7=/^(\d+[\w\d_$])/;function rh(b){return!$t(b)}o(rh,"isNotNullOrUndefined");function ug(b){var A=b;return A&&rt(A)&&(A=A[Md](cg,function(R,F){return F.toUpperCase()}),A=A[Md](q3,"_"),A=A[Md](C7,function(R,F){return"_"+F})),A}o(ug,"normalizeJsName");function j3(b,A){return b&&A?C3(b,A)!==-1:!1}o(j3,"strContains");function $3(b){return b&&b.toISOString()||""}o($3,"toISOString");function si(b){return r0(b)?b[$4]:vo}o(si,"getExceptionName");function nh(b){return function(){function A(){var R=this;b&&ge(b,function(F,fe){R[F]=fe})}return o(A,"class_1"),A}()}o(nh,"createClassFromInterface");var ih="console",H3="JSON",V3="crypto",Vd="msCrypto",t1="msie",wo="trident/",zd=null,zi=null,Du=null;function E7(){return typeof console!==y7?console:ns(ih)}o(E7,"getConsole");function Lu(){return!!(typeof JSON===Vb&&JSON||ns(H3)!==null)}o(Lu,"hasJSON");function z3(){return Lu()?JSON||ns(H3):null}o(z3,"getJSON");function F1(){return ns(V3)}o(F1,"getCrypto");function pc(){return ns(Vd)}o(pc,"getMsCrypto");function G3(){var b=_l();if(b&&(b[h7]!==zi||zd===null)){zi=b[h7];var A=(zi||vo)[Fd]();zd=j3(A,t1)||j3(A,wo)}return zd}o(G3,"isIE");function T7(b){return(Du===null||b===!1)&&(Du=os()&&!!_l().sendBeacon),Du}o(T7,"isBeaconsSupported");function M1(b,A){if(b)for(var R=0;R<b[Na];R++){var F=b[R];if(F[$4]&&F[$4]===A)return F}return{}}o(M1,"_getNamedValue");function Gd(b){var A=ql();return A&&b?M1(A.querySelectorAll("meta"),b).content:null}o(Gd,"findMetaTag");function bl(b){var A,R=U4();if(R){var F=R.getEntriesByType("navigation")||[];A=M1((F[Na]>0?F[0]:{}).serverTiming,b).description}return A}o(bl,"findNamedServerTiming");var dg=4294967296,Cf=4294967295,K3=123456789,W3=987654321,Bu=!1,Kd=K3,Ef=W3;function sh(b){b<0&&(b>>>=0),Kd=K3+b&Cf,Ef=W3-b&Cf,Bu=!0}o(sh,"_mwcSeed");function S7(){try{var b=R1()&2147483647;sh((Math.random()*dg^b)+b)}catch{}}o(S7,"_autoSeedMwc");function w7(b){return b>0?Math.floor(Yf()/Cf*(b+1))>>>0:0}o(w7,"randomValue");function Yf(b){var A=0,R=F1()||pc();return R&&R.getRandomValues&&(A=R.getRandomValues(new Uint32Array(1))[0]&Cf),A===0&&G3()&&(Bu||S7(),A=r1()&Cf),A===0&&(A=Math.floor(dg*Math.random()|0)),b||(A>>>=0),A}o(Yf,"random32");function r1(b){Ef=36969*(Ef&65535)+(Ef>>16)&Cf,Kd=18e3*(Kd&65535)+(Kd>>16)&Cf;var A=(Ef<<16)+(Kd&65535)>>>0&Cf|0;return b||(A>>>=0),A}o(r1,"mwcRandom32");function oh(b){b===void 0&&(b=22);for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=Yf()>>>0,F=0,fe=vo;fe[Na]<b;)F++,fe+=A.charAt(R&63),R>>>=6,F===5&&(R=(Yf()<<2&4294967295|R&3)>>>0,F=0);return fe}o(oh,"newId");var Ou="3.0.5",Wd="."+oh(6),n1=0;function ah(b){return b[H4]===1||b[H4]===9||!+b[H4]}o(ah,"_canAcceptData");function Y3(b,A){var R=A[b.id];if(!R){R={};try{ah(A)&&Wc(A,b.id,{e:!1,v:R})}catch{}}return R}o(Y3,"_getCache");function zl(b,A){return A===void 0&&(A=!1),ug(b+n1+++(A?"."+Ou:vo)+Wd)}o(zl,"createUniqueNamespace");function J3(b){var A={id:zl("_aiData-"+(b||vo)+"."+Ou),accept:function(R){return ah(R)},get:function(R,F,fe,$e){var Ct=R[A.id];return Ct?Ct[ug(F)]:($e&&(Ct=Y3(A,R),Ct[ug(F)]=fe),fe)},kill:function(R,F){if(R&&R[F])try{delete R[F]}catch{}}};return A}o(J3,"createElmNodeData");function Yd(b){return b&&de(b)&&(b.isVal||b.fb||Zt(b,"v")||Zt(b,"mrg")||Zt(b,"ref")||b.set)}o(Yd,"_isConfigDefaults");function Jd(b,A,R){var F,fe=R.dfVal||d0;if(A&&R.fb){var $e=R.fb;xe($e)||($e=[$e]);for(var Ct=0;Ct<$e[Na];Ct++){var Gt=$e[Ct],t0=A[Gt];if(fe(t0)?F=t0:b&&(t0=b.cfg[Gt],fe(t0)&&(F=t0),b.set(b.cfg,Bi(Gt),t0)),fe(F))break}}return!fe(F)&&fe(R.v)&&(F=R.v),F}o(Jd,"_getDefault");function X3(b,A,R){var F=R;if(R&&Yd(R)&&(F=Jd(b,A,R)),F){Yd(F)&&(F=X3(b,A,F));var fe;xe(F)?(fe=[],fe[Na]=F[Na]):hc(F)&&(fe={}),fe&&(ge(F,function($e,Ct){Ct&&Yd(Ct)&&(Ct=X3(b,A,Ct)),fe[$e]=Ct}),F=fe)}return F}o(X3,"_resolveDefaultValue");function Fu(b,A,R,F){var fe,$e,Ct,Gt=F,t0,p0,B0,Rn;Yd(Gt)?(fe=Gt.isVal,$e=Gt.set,B0=Gt[S3],Rn=Gt[T3],t0=Gt.mrg,p0=Gt.ref,!p0&&Ht(p0)&&(p0=!!t0),Ct=Jd(b,A,Gt)):Ct=F,Rn&&b[T3](A,R);var In,xn=!0,Y0=A[R];(Y0||!$t(Y0))&&(In=Y0,xn=!1,fe&&In!==Ct&&!fe(In)&&(In=Ct,xn=!0),$e&&(In=$e(In,Ct,A),xn=In===Ct)),xn?Ct?In=X3(b,A,Ct):In=Ct:(hc(In)||xe(Ct))&&t0&&Ct&&(hc(Ct)||xe(Ct))&&ge(Ct,function(ai,Xr){Fu(b,In,ai,Xr)}),b.set(A,R,In),p0&&b.ref(A,R),B0&&b[S3](A,R)}o(Fu,"_applyDefaultValue");var U1=wu("[[ai_dynCfg_1]]"),yc=wu("[[ai_blkDynCfg_1]]"),hg=wu("[[ai_frcDynCfg_1]]");function lh(b){if(b){var A;if(xe(b)?(A=[],A[Na]=b[Na]):hc(b)&&(A={}),A)return ge(b,function(R,F){A[R]=lh(F)}),A}return b}o(lh,"_cfgDeepCopy");function Xd(b){if(b){var A=b[U1]||b;if(A.cfg&&(A.cfg===b||A.cfg[U1]===A))return A}return null}o(Xd,"getDynamicConfigHandler");function vc(b){if(b&&(hc(b)||xe(b)))try{b[yc]=!0}catch{}return b}o(vc,"blockDynamicConversion");function Z3(b,A,R){var F=!1;return R&&!b[A.blkVal]&&(F=R[hg],!F&&!R[yc]&&(F=hc(R)||xe(R))),F}o(Z3,"_canMakeDynamic");function gg(b){m0("InvalidAccess:"+b)}o(gg,"throwInvalidAccess");var I7=["push","pop","shift","unshift","splice"],Zd=o(function(b,A,R,F){b&&b[w3](3,108,"".concat(R," [").concat(A,"] failed - ")+be(F))},"_throwDynamicError");function mg(b,A,R){xe(A)&&jl(I7,function(F){var fe=A[F];A[F]=function(){for(var $e=[],Ct=0;Ct<arguments.length;Ct++)$e[Ct]=arguments[Ct];var Gt=fe[rg](this,$e);return e2(b,A,R,"Patching"),Gt}})}o(mg,"_patchArray");function fh(b,A){var R=T0(b,A);return R&&R.get}o(fh,"_getOwnPropGetter");function ch(b,A,R,F){var fe={n:R,h:[],trk:function(p0){p0&&p0.fn&&(P1(fe.h,p0)===-1&&fe.h[gc](p0),b.trk(p0,fe))},clr:function(p0){var B0=P1(fe.h,p0);B0!==-1&&fe.h[j4](B0,1)}},$e=!0,Ct=!1;function Gt(){$e&&(Ct=Ct||Z3(Gt,b,F),F&&!F[U1]&&Ct&&(F=e2(b,F,R,"Converting")),$e=!1);var p0=b.act;return p0&&fe.trk(p0),F}o(Gt,"_getProperty"),Gt[b.prop]={chng:function(){b.add(fe)}};function t0(p0){if(F!==p0){Gt[b.ro]&&!b.upd&&gg("["+R+"] is read-only:"+be(A)),$e&&(Ct=Ct||Z3(Gt,b,F),$e=!1);var B0=Ct&&Gt[b.rf];if(Ct)if(B0){ge(F,function(In){F[In]=p0?p0[In]:b7});try{ge(p0,function(In,xn){Q3(b,F,In,xn)}),p0=F}catch(In){Zd((b.hdlr||{})[Sa],R,"Assigning",In),Ct=!1}}else F&&F[U1]&&ge(F,function(In){var xn=fh(F,In);if(xn){var Y0=xn[b.prop];Y0&&Y0.chng()}});if(p0!==F){var Rn=p0&&Z3(Gt,b,p0);!B0&&Rn&&(p0=e2(b,p0,R,"Converting")),F=p0,Ct=Rn}b.add(fe)}}o(t0,"_setProperty"),Wc(A,fe.n,{g:Gt,s:t0})}o(ch,"_createDynamicProperty");function Q3(b,A,R,F){if(A){var fe=fh(A,R),$e=fe&&!!fe[b.prop];$e?A[R]=F:ch(b,A,R,F)}return A}o(Q3,"_setDynamicProperty");function pg(b,A,R,F){if(A){var fe=fh(A,R),$e=fe&&!!fe[b.prop],Ct=F&&F[0],Gt=F&&F[1],t0=F&&F[2];if(!$e){if(t0)try{vc(A)}catch(p0){Zd((b.hdlr||{})[Sa],R,"Blocking",p0)}try{Q3(b,A,R,A[R]),fe=fh(A,R)}catch(p0){Zd((b.hdlr||{})[Sa],R,"State",p0)}}Ct&&(fe[b.rf]=Ct),Gt&&(fe[b.ro]=Gt),t0&&(fe[b.blkVal]=!0)}return A}o(pg,"_setDynamicPropertyState");function e2(b,A,R,F){try{ge(A,function(fe,$e){Q3(b,A,fe,$e)}),A[U1]||(_f(A,U1,{get:function(){return b[Hl]}}),mg(b,A,R))}catch(fe){Zd((b.hdlr||{})[Sa],R,F,fe)}return A}o(e2,"_makeDynamicObject");var Qd="[[ai_",q1="]]";function Kb(b){var A,R=Bd(Qd+"get"+b.uid+q1),F=Bd(Qd+"ro"+b.uid+q1),fe=Bd(Qd+"rf"+b.uid+q1),$e=Bd(Qd+"blkVal"+b.uid+q1),Ct=Bd(Qd+"dtl"+b.uid+q1),Gt=null,t0=null,p0;function B0(Y0,ai){var Xr=p0.act;try{p0.act=Y0,Y0&&Y0[Ct]&&(jl(Y0[Ct],function(Kn){Kn.clr(Y0)}),Y0[Ct]=[]),ai({cfg:b.cfg,set:b.set.bind(b),setDf:b[eg].bind(b),ref:b.ref.bind(b),rdOnly:b[S3].bind(b)})}catch(Kn){var Ei=b[Sa];throw Ei&&Ei[w3](1,107,be(Kn)),Kn}finally{p0.act=Xr||null}}o(B0,"_useHandler");function Rn(){if(Gt){var Y0=Gt;Gt=null,t0&&t0[$b](),t0=null;var ai=[];if(jl(Y0,function(Xr){if(Xr&&(Xr[Ct]&&(jl(Xr[Ct],function(Ei){Ei.clr(Xr)}),Xr[Ct]=null),Xr.fn))try{B0(Xr,Xr.fn)}catch(Ei){ai[gc](Ei)}}),Gt)try{Rn()}catch(Xr){ai[gc](Xr)}ai[Na]>0&&sg("Watcher error(s): ",ai)}}o(Rn,"_notifyWatchers");function In(Y0){if(Y0&&Y0.h[Na]>0){Gt||(Gt=[]),t0||(t0=qb(function(){t0=null,Rn()},0));for(var ai=0;ai<Y0.h[Na];ai++){var Xr=Y0.h[ai];Xr&&P1(Gt,Xr)===-1&&Gt[gc](Xr)}}}o(In,"_addWatcher");function xn(Y0,ai){if(Y0){var Xr=Y0[Ct]=Y0[Ct]||[];P1(Xr,ai)===-1&&Xr[gc](ai)}}return o(xn,"_trackHandler"),p0=(A={prop:R,ro:F,rf:fe},A[T3]=$e,A[Hl]=b,A.add=In,A[Q6]=Rn,A.use=B0,A.trk=xn,A),p0}o(Kb,"_createState");function uh(b,A){var R={fn:A,rm:function(){R.fn=null,b=null,A=null}};return b.use(R,A),R}o(uh,"_createAndUseHandler");function A7(b,A,R){var F,fe=Xd(A);if(fe)return fe;var $e=zl("dyncfg",!0),Ct=A&&R!==!1?A:lh(A),Gt;function t0(){Gt[Q6]()}o(t0,"_notifyWatchers");function p0(Ei,Kn,Cn){try{Ei=Q3(Gt,Ei,Kn,Cn)}catch(oo){Zd(b,Kn,"Setting value",oo)}return Ei[Kn]}o(p0,"_setValue");function B0(Ei){return uh(Gt,Ei)}o(B0,"_watch");function Rn(Ei,Kn){Gt.use(null,function(Cn){var oo=Gt.upd;try{Ht(Kn)||(Gt.upd=Kn),Ei(Cn)}finally{Gt.upd=oo}})}o(Rn,"_block");function In(Ei,Kn){var Cn;return pg(Gt,Ei,Kn,(Cn={},Cn[0]=!0,Cn))[Kn]}o(In,"_ref");function xn(Ei,Kn){var Cn;return pg(Gt,Ei,Kn,(Cn={},Cn[1]=!0,Cn))[Kn]}o(xn,"_rdOnly");function Y0(Ei,Kn){var Cn;return pg(Gt,Ei,Kn,(Cn={},Cn[2]=!0,Cn))[Kn]}o(Y0,"_blkPropValue");function ai(Ei,Kn){return Kn&&ge(Kn,function(Cn,oo){Fu(Xr,Ei,Cn,oo)}),Ei}o(ai,"_applyDefaults");var Xr=(F={uid:null,cfg:Ct},F[Sa]=b,F[Q6]=t0,F.set=p0,F[eg]=ai,F[tg]=B0,F.ref=In,F[S3]=xn,F[T3]=Y0,F._block=Rn,F);return Wc(Xr,"uid",{c:!1,e:!1,w:!1,v:$e}),Gt=Kb(Xr),e2(Gt,Ct,"config","Creating"),Xr}o(A7,"_createDynamicHandler");function Wb(b,A){b?(b[N1](A),b[w3](2,108,A)):gg(A)}o(Wb,"_logInvalidAccess");function P7(b,A,R,F){var fe=A7(R,b||{},F);return A&&fe[eg](fe.cfg,A),fe}o(P7,"createDynamicConfig");function dh(b,A,R){var F=b[U1]||b;return F.cfg&&(F.cfg===b||F.cfg[U1]===F)?F[tg](A):(Wb(R,O1+be(b)),P7(b,null,R)[tg](A))}o(dh,"onConfigChange");var t2=null;function Yb(){var b=ns("Microsoft");return b&&(t2=b.ApplicationInsights),t2}o(Yb,"_getExtensionNamespace");function Jb(b){var A=t2;return!A&&b.disableDbgExt!==!0&&(A=t2||Yb()),A?A.ChromeDbgExt:null}o(Jb,"getDebugExt");var e5,R7="warnToConsole",k7="AI (Internal): ",yg="AI: ",Xb="AITR_",vg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},t5=(e5={},e5[0]=null,e5[1]="errorToConsole",e5[2]=R7,e5[3]="debugToConsole",e5);function N7(b){return b?'"'+b[Md](/\"/g,vo)+'"':vo}o(N7,"_sanitizeDiagnosticText");function Tf(b,A){var R=E7();if(R){var F="log";R[b]&&(F=b),Nt(R[F])&&R[F](A)}}o(Tf,"_logToConsole");var xi=function(){function b(A,R,F,fe){F===void 0&&(F=!1);var $e=this;$e[ng]=A,$e[A3]=(F?yg:k7)+A;var Ct=vo;Lu()&&(Ct=z3().stringify(fe));var Gt=(R?" message:"+N7(R):vo)+(fe?" props:"+N7(Ct):vo);$e[A3]+=Gt}return o(b,"_InternalLogMessage"),b.dataType="MessageData",b}();function Mu(b,A){return(b||{})[Sa]||new Yo(A)}o(Mu,"safeGetLogger");var Yo=function(){function b(A){this.identifier="DiagnosticLogger",this.queue=[];var R=0,F={},fe,$e,Ct,Gt,t0;fg(b,this,function(p0){t0=Rn(A||{}),p0.consoleLoggingLevel=function(){return fe},p0[w3]=function(Y0,ai,Xr,Ei,Kn){Kn===void 0&&(Kn=!1);var Cn=new xi(ai,Xr,Kn,Ei);if(Gt)throw be(Cn);var oo=t5[Y0]||R7;if(Ht(Cn[A3]))xn("throw"+(Y0===1?"Critical":"Warning"),Cn);else{if(Kn){var E5=+Cn[ng];!F[E5]&&fe>=Y0&&(p0[oo](Cn[A3]),F[E5]=!0)}else fe>=Y0&&p0[oo](Cn[A3]);B0(Y0,Cn)}},p0.debugToConsole=function(Y0){Tf("debug",Y0),xn("warning",Y0)},p0[N1]=function(Y0){Tf("warn",Y0),xn("warning",Y0)},p0.errorToConsole=function(Y0){Tf("error",Y0),xn("error",Y0)},p0.resetInternalMessageCount=function(){R=0,F={}},p0[g7]=B0,p0[Hb]=function(Y0){t0&&t0.rm(),t0=null};function B0(Y0,ai){if(!In()){var Xr=!0,Ei=Xb+ai[ng];if(F[Ei]?Xr=!1:F[Ei]=!0,Xr&&(Y0<=$e&&(p0.queue[gc](ai),R++,xn(Y0===1?"error":"warn",ai)),R===Ct)){var Kn="Internal events throttle limit per PageView reached for this app.",Cn=new xi(23,Kn,!1);p0.queue[gc](Cn),Y0===1?p0.errorToConsole(Kn):p0[N1](Kn)}}}o(B0,"_logInternalMessage");function Rn(Y0){return dh(P7(Y0,vg,p0).cfg,function(ai){var Xr=ai.cfg;fe=Xr[u7],$e=Xr.loggingLevelTelemetry,Ct=Xr.maxMessageLimit,Gt=Xr.enableDebug})}o(Rn,"_setDefaultsFromConfig");function In(){return R>=Ct}o(In,"_areInternalMessagesThrottled");function xn(Y0,ai){var Xr=Jb(A||{});Xr&&Xr[d7]&&Xr[d7](Y0,ai)}o(xn,"_debugExtMsg")})}return o(b,"DiagnosticLogger"),b.__ieDyn=1,b}();function xg(b){return b||new Yo}o(xg,"_getLogger");function Cl(b,A,R,F,fe,$e){$e===void 0&&($e=!1),xg(b)[w3](A,R,F,fe,$e)}o(Cl,"_throwInternal");function Uu(){for(var b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],A=vo,R,F=0;F<4;F++)R=Yf(),A+=b[R&15]+b[R>>4&15]+b[R>>8&15]+b[R>>12&15]+b[R>>16&15]+b[R>>20&15]+b[R>>24&15]+b[R>>28&15];var fe=b[8+(Yf()&3)|0];return ki(A,0,8)+ki(A,9,4)+"4"+ki(A,13,3)+fe+ki(A,16,3)+ki(A,19,12)}o(Uu,"generateW3CId");var r5=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Sf="00",n5="ff",qu="00000000000000000000000000000000",j1="0000000000000000",r2=1;function El(b,A,R){return b&&b[Na]===A&&b!==R?!!b.match(/^[\da-f]*$/i):!1}o(El,"_isValid");function n2(b,A,R){return El(b,A)?b:R}o(n2,"_formatValue");function hh(b){(isNaN(b)||b<0||b>255)&&(b=1);for(var A=b.toString(16);A[Na]<2;)A="0"+A;return A}o(hh,"_formatFlags");function _g(b,A,R,F){var fe;return fe={},fe[I3]=El(F,2,n5)?F:Sf,fe[m7]=Cg(b)?b:Uu(),fe[Ud]=Eg(A)?A:Mi(Uu(),16),fe.traceFlags=R>=0&&R<=255?R:1,fe}o(_g,"createTraceParent");function bg(b,A){var R;if(!b||(xe(b)&&(b=b[0]||""),!b||!rt(b)||b[Na]>8192))return null;if(b.indexOf(",")!==-1){var F=b[ig](",");b=F[A>0&&F[Na]>A?A:0]}var fe=r5.exec(zf(b));return!fe||fe[1]===n5||fe[2]===qu||fe[3]===j1?null:(R={version:(fe[1]||vo)[Fd](),traceId:(fe[2]||vo)[Fd](),spanId:(fe[3]||vo)[Fd]()},R[Pu]=parseInt(fe[4],16),R)}o(bg,"parseTraceParent");function Cg(b){return El(b,32,qu)}o(Cg,"isValidTraceId");function Eg(b){return El(b,16,j1)}o(Eg,"isValidSpanId");function D7(b){return!(!b||!El(b[I3],2,n5)||!El(b[m7],32,qu)||!El(b[Ud],16,j1)||!El(hh(b[Pu]),2))}o(D7,"isValidTraceParent");function Tg(b){return D7(b)?(b[Pu]&r2)===r2:!1}o(Tg,"isSampledFlag");function Sg(b){if(b){var A=hh(b[Pu]);El(A,2)||(A="01");var R=b[I3]||Sf;return R!=="00"&&R!=="ff"&&(R=Sf),"".concat(R.toLowerCase(),"-").concat(n2(b.traceId,32,qu).toLowerCase(),"-").concat(n2(b.spanId,16,j1).toLowerCase(),"-").concat(A.toLowerCase())}return""}o(Sg,"formatTraceParent");function el(b){var A="traceparent",R=bg(Gd(A),b);return R||(R=bg(bl(A),b)),R}o(el,"findW3cTraceParent");var i2="on",Tl="attachEvent",$1="addEventListener",L7="detachEvent",B7="removeEventListener",i5="events";zl("aiEvtPageHide"),zl("aiEvtPageShow");var wg=/\.[\.]+/g,Zb=/[\.]+$/,O7=1,s2=J3("events"),Qb=/^([^.]*)(?:\.(.+)|)/;function F7(b){return b&&b[Md]?b[Md](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,vo):b}o(F7,"_normalizeNamespace");function Ig(b,A){var R;if(A){var F=vo;xe(A)?(F=vo,jl(A,function($e){$e=F7($e),$e&&($e[0]!=="."&&($e="."+$e),F+=$e)})):F=F7(A),F&&(F[0]!=="."&&(F="."+F),b=(b||vo)+F)}var fe=Qb.exec(b||vo)||[];return R={},R[Zc]=fe[1],R.ns=(fe[2]||vo).replace(wg,".").replace(Zb,vo)[ig](".").sort().join("."),R}o(Ig,"_getEvtNamespace");function Ag(b,A,R){R===void 0&&(R=!0);var F=s2.get(b,i5,{},R),fe=F[A];return fe||(fe=F[A]=[]),fe}o(Ag,"_getRegisteredEvents");function M7(b,A,R,F){b&&A&&A[Zc]&&(b[B7]?b[B7](A[Zc],R,F):b[L7]&&b[L7](i2+A[Zc],R))}o(M7,"_doDetach");function eC(b,A,R,F){var fe=!1;return b&&A&&A[Zc]&&R&&(b[$1]?(b[$1](A[Zc],R,F),fe=!0):b[Tl]&&(b[Tl](i2+A[Zc],R),fe=!0)),fe}o(eC,"_doAttach");function gh(b,A,R,F){for(var fe=A[Na];fe--;){var $e=A[fe];$e&&(!R.ns||R.ns===$e.evtName.ns)&&(!F||F($e))&&(M7(b,$e.evtName,$e[V4],$e.capture),A[j4](fe,1))}}o(gh,"_doUnregister");function Pg(b,A,R){if(A[Zc])gh(b,Ag(b,A[Zc]),A,R);else{var F=s2.get(b,i5,{});ge(F,function(fe,$e){gh(b,$e,A,R)}),er(F)[Na]===0&&s2.kill(b,i5)}}o(Pg,"_unregisterEvents");function U7(b,A){var R;return A?(xe(A)?R=[b].concat(A):R=[b,A],R=Ig("xx",R).ns[ig](".")):R=b,R}o(U7,"mergeEvtNamespace");function mh(b,A,R,F,fe){var $e;fe===void 0&&(fe=!1);var Ct=!1;if(b)try{var Gt=Ig(A,F);if(Ct=eC(b,Gt,R,fe),Ct&&s2.accept(b)){var t0=($e={guid:O7++,evtName:Gt},$e[V4]=R,$e.capture=fe,$e);Ag(b,Gt.type)[gc](t0)}}catch{}return Ct}o(mh,"eventOn");function Rg(b,A,R,F,fe){if(fe===void 0&&(fe=!1),b)try{var $e=Ig(A,F),Ct=!1;Pg(b,$e,function(Gt){return $e.ns&&!R||Gt[V4]===R?(Ct=!0,!0):!1}),Ct||M7(b,$e,R,fe)}catch{}}o(Rg,"eventOff");var tC="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",s5="sampleRate",kg="ProcessLegacy",q7="http.method",Ng="https://dc.services.visualstudio.com",ph="/v2/track",lf="not_specified",xc="iKey",j7=jb({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),o5="split",Pn="length",a5="toLowerCase",_c="ingestionendpoint",ju="toString",o2="push",yh="removeItem",wf="name",Gl="message",$u="count",vh="preTriggerDate",xh="disabled",Hu="interval",l5="daysOfMonth",Dg="date",Lg="getUTCDate",a2="stringify",_h="pathname",$7="correlationHeaderExcludePatterns",l2="extensionConfig",f5="exceptions",Jf="parsedStack",Xf="properties",i1="measurements",If="sizeInBytes",bc="typeName",H1="severityLevel",bh="problemGroup",f2="isManual",Ch="CreateFromInterface",ff="assembly",V1="fileName",Eh="hasFullStack",c2="level",c5="method",u2="line",u5="duration",Bg="receivedResponse";function Og(b,A,R){var F=A[Pn],fe=d5(b,A);if(fe[Pn]!==F){for(var $e=0,Ct=fe;R[Ct]!==void 0;)$e++,Ct=Qr(fe,0,147)+H7($e);fe=Ct}return fe}o(Og,"dataSanitizeKeyAndAddUniqueness");function d5(b,A){var R;return A&&(A=zf(Bi(A)),A[Pn]>150&&(R=Qr(A,0,150),Cl(b,2,57,"name is too long.  It has been truncated to 150 characters.",{name:A},!0))),R||A}o(d5,"dataSanitizeKey");function tl(b,A,R){R===void 0&&(R=1024);var F;return A&&(R=R||1024,A=zf(Bi(A)),A[Pn]>R&&(F=Qr(A,0,R),Cl(b,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:A},!0))),F||A}o(tl,"dataSanitizeString");function Vu(b,A){return zu(b,A,2048,66)}o(Vu,"dataSanitizeUrl");function Fg(b,A){var R;return A&&A[Pn]>32768&&(R=Qr(A,0,32768),Cl(b,2,56,"message is too long, it has been truncated to 32768 characters.",{message:A},!0)),R||A}o(Fg,"dataSanitizeMessage");function d2(b,A){var R;if(A){var F=""+A;F[Pn]>32768&&(R=Qr(F,0,32768),Cl(b,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:A},!0))}return R||A}o(d2,"dataSanitizeException");function Cc(b,A){if(A){var R={};ge(A,function(F,fe){if(de(fe)&&Lu())try{fe=z3()[a2](fe)}catch($e){Cl(b,2,49,"custom property is not valid",{exception:$e},!0)}fe=tl(b,fe,8192),F=Og(b,F,R),R[F]=fe}),A=R}return A}o(Cc,"dataSanitizeProperties");function Zf(b,A){if(A){var R={};ge(A,function(F,fe){F=Og(b,F,R),R[F]=fe}),A=R}return A}o(Zf,"dataSanitizeMeasurements");function h5(b,A){return A&&zu(b,A,128,69)[ju]()}o(h5,"dataSanitizeId");function zu(b,A,R,F){var fe;return A&&(A=zf(Bi(A)),A[Pn]>R&&(fe=Qr(A,0,R),Cl(b,2,F,"input is too long, it has been truncated to "+R+" characters.",{data:A},!0))),fe||A}o(zu,"dataSanitizeInput");function H7(b){var A="00"+b;return ki(A,A[Pn]-3)}o(H7,"dsPadNumber");var V7=ql()||{},z7=0,rC=[null,null,null,null,null];function rl(b){var A=z7,R=rC,F=R[A];return V7.createElement?R[A]||(F=R[A]=V7.createElement("a")):F={host:K7(b,!0)},F.href=b,A++,A>=R[Pn]&&(A=0),z7=A,F}o(rl,"urlParseUrl");function g5(b){var A,R=rl(b);return R&&(A=R.href),A}o(g5,"urlGetAbsoluteUrl");function m5(b){var A,R=rl(b);return R&&(A=R[_h]),A}o(m5,"urlGetPathName");function G7(b,A){return b?b.toUpperCase()+" "+A:A}o(G7,"urlGetCompleteUrl");function K7(b,A){var R=Mg(b,A)||"";if(R){var F=R.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(F!=null&&F[Pn]>3&&rt(F[2])&&F[2][Pn]>0)return F[2]+(F[3]||"")}return R}o(K7,"urlParseHost");function Mg(b,A){var R=null;if(b){var F=b.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(F!=null&&F[Pn]>2&&rt(F[2])&&F[2][Pn]>0&&(R=F[2]||"",A&&F[Pn]>2)){var fe=(F[1]||"")[a5](),$e=F[3]||"";(fe==="http"&&$e===":80"||fe==="https"&&$e===":443")&&($e=""),R+=$e}}return R}o(Mg,"urlParseFullHost");var nC=[Ng+ph,"https://breeze.aimon.applicationinsights.io"+ph,"https://dc-int.services.visualstudio.com"+ph],h2="cid-v1:";function Ec(b){return P1(nC,b[a5]())!==-1}o(Ec,"isInternalApplicationInsightsEndpoint");function Ug(b){h2=b}o(Ug,"correlationIdSetPrefix");function Th(){return h2}o(Th,"correlationIdGetPrefix");function Sh(b,A,R){if(!A||b&&b.disableCorrelationHeaders)return!1;if(b&&b[$7]){for(var F=0;F<b.correlationHeaderExcludePatterns[Pn];F++)if(b[$7][F].test(A))return!1}var fe=rl(A).host[a5]();if(fe&&(C3(fe,":443")!==-1||C3(fe,":80")!==-1)&&(fe=(Mg(A,!0)||"")[a5]()),(!b||!b.enableCorsCorrelation)&&fe&&fe!==R)return!1;var $e=b&&b.correlationHeaderDomains;if($e){var Ct;if(jl($e,function(p0){var B0=new RegExp(p0.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ct=Ct||B0.test(fe)}),!Ct)return!1}var Gt=b&&b.correlationHeaderExcludedDomains;if(!Gt||Gt[Pn]===0)return!0;for(var F=0;F<Gt[Pn];F++){var t0=new RegExp(Gt[F].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(t0.test(fe))return!1}return fe&&fe[Pn]>0}o(Sh,"correlationIdCanIncludeCorrelationHeader");function iC(b){if(b){var A=W7(b,j7[1]);if(A&&A!==h2)return A}}o(iC,"correlationIdGetCorrelationContext");function W7(b,A){if(b)for(var R=b[o5](","),F=0;F<R[Pn];++F){var fe=R[F][o5]("=");if(fe[Pn]===2&&fe[0]===A)return fe[1]}}o(W7,"correlationIdGetCorrelationContextValue");function Y7(b,A,R,F){var fe,$e=F,Ct=F;if(A&&A[Pn]>0){var Gt=rl(A);if(fe=Gt.host,!$e)if(Gt[_h]!=null){var t0=Gt.pathname[Pn]===0?"/":Gt[_h];t0.charAt(0)!=="/"&&(t0="/"+t0),Ct=Gt[_h],$e=tl(b,R?R+" "+t0:t0)}else $e=tl(b,A)}else fe=F,$e=F;return{target:fe,name:$e,data:Ct}}o(Y7,"AjaxHelperParseDependencyPath");function sC(){var b=U4();if(b&&b.now&&b.timing){var A=b.now()+b.timing.navigationStart;if(A>0)return A}return R1()}o(sC,"dateTimeUtilsNow");function p5(b,A){var R=null;return b!==0&&A!==0&&!$t(b)&&!$t(A)&&(R=A-b),R}o(p5,"dateTimeUtilsDuration");function J7(b,A){var R=b||{};return{getName:function(){return R[wf]},setName:function(F){A&&A.setName(F),R[wf]=F},getTraceId:function(){return R.traceID},setTraceId:function(F){A&&A.setTraceId(F),Cg(F)&&(R.traceID=F)},getSpanId:function(){return R.parentID},setSpanId:function(F){A&&A.setSpanId(F),Eg(F)&&(R.parentID=F)},getTraceFlags:function(){return R.traceFlags},setTraceFlags:function(F){A&&A.setTraceFlags(F),R.traceFlags=F}}}o(J7,"createDistributedTraceContextFromTrace");var g2=Gf({LocalStorage:0,SessionStorage:1}),oC=Gf({AI:0,AI_AND_W3C:1,W3C:2}),aC=Gf({Normal:1,Critical:2}),z1=void 0,G1=void 0,qg="";function m2(){return v5()?y5(g2.LocalStorage):null}o(m2,"_getLocalStorageObject");function y5(b){try{if($t(xl()))return null;var A=new Date()[ju](),R=ns(b===g2.LocalStorage?"localStorage":"sessionStorage"),F=qg+A;R.setItem(F,A);var fe=R.getItem(F)!==A;if(R[yh](F),!fe)return R}catch{}return null}o(y5,"_getVerifiedStorageObject");function p2(){return y2()?y5(g2.SessionStorage):null}o(p2,"_getSessionStorageObject");function wh(){z1=!1,G1=!1}o(wh,"utlDisableStorage");function X7(b){qg=b||""}o(X7,"utlSetStoragePrefix");function rr(){z1=v5(!0),G1=y2(!0)}o(rr,"utlEnableStorage");function v5(b){return(b||z1===void 0)&&(z1=!!y5(g2.LocalStorage)),z1}o(v5,"utlCanUseLocalStorage");function Ih(b,A){var R=m2();if(R!==null)try{return R.getItem(A)}catch(F){z1=!1,Cl(b,2,1,"Browser failed read of local storage. "+si(F),{exception:be(F)})}return null}o(Ih,"utlGetLocalStorage");function K1(b,A,R){var F=m2();if(F!==null)try{return F.setItem(A,R),!0}catch(fe){z1=!1,Cl(b,2,3,"Browser failed write to local storage. "+si(fe),{exception:be(fe)})}return!1}o(K1,"utlSetLocalStorage");function Z7(b,A){var R=m2();if(R!==null)try{return R[yh](A),!0}catch(F){z1=!1,Cl(b,2,5,"Browser failed removal of local storage item. "+si(F),{exception:be(F)})}return!1}o(Z7,"utlRemoveStorage");function y2(b){return(b||G1===void 0)&&(G1=!!y5(g2.SessionStorage)),G1}o(y2,"utlCanUseSessionStorage");function jg(){var b=[];return y2()&&ge(ns("sessionStorage"),function(A){b[o2](A)}),b}o(jg,"utlGetSessionStorageKeys");function $g(b,A){var R=p2();if(R!==null)try{return R.getItem(A)}catch(F){G1=!1,Cl(b,2,2,"Browser failed read of session storage. "+si(F),{exception:be(F)})}return null}o($g,"utlGetSessionStorage");function Q7(b,A,R){var F=p2();if(F!==null)try{return F.setItem(A,R),!0}catch(fe){G1=!1,Cl(b,2,4,"Browser failed write to session storage. "+si(fe),{exception:be(fe)})}return!1}o(Q7,"utlSetSessionStorage");function Hg(b,A){var R=p2();if(R!==null)try{return R[yh](A),!0}catch(F){G1=!1,Cl(b,2,6,"Browser failed removal of session storage item. "+si(F),{exception:be(F)})}return!1}o(Hg,"utlRemoveSessionStorage");var ep="appInsightsThrottle",Ah=function(){function b(A,R){var F=this,fe,$e,Ct,Gt,t0,p0,B0,Rn=!1,In=!1;Y0(),F._getDbgPlgTargets=function(){return[B0]},F.getConfig=function(){return Ct},F.canThrottle=function(A0){var Z0=kh(A0),kn=ai(A0);return Kn(kn,fe,Z0)},F.isTriggered=function(A0){return dp(A0)},F.isReady=function(){return Rn},F.flush=function(A0){try{var Z0=am(A0);if(Z0&&Z0[Pn]>0){var kn=Z0.slice(0);return B0[A0]=[],jl(kn,function(as){xn(as.msgID,as[Gl],as.severity,!1)}),!0}}catch{}return!1},F.flushAll=function(){try{if(B0){var A0=!0;return ge(B0,function(Z0){var kn=F.flush(parseInt(Z0));A0=A0&&kn}),A0}}catch{}return!1},F.onReadyState=function(A0,Z0){return Z0===void 0&&(Z0=!0),Rn=$t(A0)?!0:A0,Rn&&Z0?F.flushAll():null},F.sendMessage=function(A0,Z0,kn){return xn(A0,Z0,kn,!0)};function xn(A0,Z0,kn,as){if(Rn){var Ia=up(A0);if(!Ia)return;var Qo=ai(A0),va=kh(A0),Yu=Kn(Qo,fe,va),l1=!1,f1=0,Q1=dp(A0);try{Yu&&!Q1?(f1=Math.min(Qo.limit.maxSendNumber,va[$u]+1),va[$u]=0,l1=!0,t0[A0]=!0,va[vh]=new Date):(t0[A0]=Yu,va[$u]+=1);var T5=Cn(A0);cp($e,T5,va);for(var _2=0;_2<f1;_2++)om(A0,$e,Z0,kn)}catch{}return{isThrottled:l1,throttleNum:f1}}else if(as){var _i=am(A0);_i[o2]({msgID:A0,message:Z0,severity:kn})}return null}o(xn,"_flushMessage");function Y0(){$e=Mu(A),t0={},Gt={},B0={},Ct={},Xr(109),p0=rh(R)?R:"",A.addUnloadHook(dh(A.config,function(A0){var Z0=A0.cfg;fe=v5();var kn=Z0.throttleMgrCfg||{};ge(kn,function(as,Ia){Xr(parseInt(as),Ia)})}))}o(Y0,"_initConfig");function ai(A0){return Ct[A0]||Ct[109]}o(ai,"_getCfgByKey");function Xr(A0,Z0){var kn,as;try{var Ia=Z0||{},Qo={};Qo[xh]=!!Ia[xh];var va=Ia[Hu]||{};In=(va==null?void 0:va.daysOfMonth)&&(va==null?void 0:va.daysOfMonth[Pn])>0,Qo[Hu]=Ei(va);var Yu={samplingRate:((kn=Ia.limit)===null||kn===void 0?void 0:kn.samplingRate)||100,maxSendNumber:((as=Ia.limit)===null||as===void 0?void 0:as.maxSendNumber)||1};Qo.limit=Yu,Ct[A0]=Qo}catch{}}o(Xr,"_setCfgByKey");function Ei(A0){A0=A0||{};var Z0=A0==null?void 0:A0.monthInterval,kn=A0==null?void 0:A0.dayInterval;return $t(Z0)&&$t(kn)&&(A0.monthInterval=3,In||(A0[l5]=[28],In=!0)),A0={monthInterval:A0==null?void 0:A0.monthInterval,dayInterval:A0==null?void 0:A0.dayInterval,daysOfMonth:A0==null?void 0:A0.daysOfMonth},A0}o(Ei,"_getIntervalConfig");function Kn(A0,Z0,kn){if(A0&&!A0[xh]&&Z0&&rh(kn)){var as=Z1(),Ia=kn[Dg],Qo=A0[Hu],va=1;if(Qo!=null&&Qo.monthInterval){var Yu=(as.getUTCFullYear()-Ia.getUTCFullYear())*12+as.getUTCMonth()-Ia.getUTCMonth();va=sm(Qo.monthInterval,0,Yu)}var l1=1;if(In)l1=P1(Qo[l5],as[Lg]());else if(Qo!=null&&Qo.dayInterval){var f1=Math.floor((as.getTime()-Ia.getTime())/864e5);l1=sm(Qo.dayInterval,0,f1)}return va>=0&&l1>=0}return!1}o(Kn,"_canThrottle");function Cn(A0,Z0){var kn=rh(Z0)?Z0:"";return A0?ep+kn+"-"+A0:null}o(Cn,"_getLocalStorageName");function oo(A0){try{if(A0){var Z0=new Date;return A0.getUTCFullYear()===Z0.getUTCFullYear()&&A0.getUTCMonth()===Z0.getUTCMonth()&&A0[Lg]()===Z0[Lg]()}}catch{}return!1}o(oo,"_isTriggeredOnCurDate");function E5(A0,Z0,kn){try{var as={date:Z1(),count:0};if(A0){var Ia=JSON.parse(A0),Qo={date:Z1(Ia[Dg])||as[Dg],count:Ia[$u]||as[$u],preTriggerDate:Ia.preTriggerDate?Z1(Ia[vh]):void 0};return Qo}else return cp(Z0,kn,as),as}catch{}return null}o(E5,"_getLocalStorageObj");function Z1(A0){try{if(A0){var Z0=new Date(A0);if(!isNaN(Z0.getDate()))return Z0}else return new Date}catch{}return null}o(Z1,"_getThrottleDate");function cp(A0,Z0,kn){try{return K1(A0,Z0,zf(JSON[a2](kn)))}catch{}return!1}o(cp,"_resetLocalStorage");function sm(A0,Z0,kn){return A0<=0?1:kn>=Z0&&(kn-Z0)%A0==0?Math.floor((kn-Z0)/A0)+1:-1}o(sm,"_checkInterval");function om(A0,Z0,kn,as){Cl(Z0,as||1,A0,kn)}o(om,"_sendMessage");function up(A0){try{var Z0=ai(A0);return w7(1e6)<=Z0.limit.samplingRate}catch{}return!1}o(up,"_canSampledIn");function kh(A0){try{var Z0=Gt[A0];if(!Z0){var kn=Cn(A0,p0);Z0=E5(Ih($e,kn),$e,kn),Gt[A0]=Z0}return Gt[A0]}catch{}return null}o(kh,"_getLocalStorageObjByKey");function dp(A0){var Z0=t0[A0];if($t(Z0)){Z0=!1;var kn=kh(A0);kn&&(Z0=oo(kn[vh])),t0[A0]=Z0}return t0[A0]}o(dp,"_isTrigger");function am(A0){return B0=B0||{},$t(B0[A0])&&(B0[A0]=[]),B0[A0]}o(am,"_getQueueByKey")}return o(b,"ThrottleMgr"),b}(),Vg=";",tp="=";function Qf(b){if(!b)return{};var A=b[o5](Vg),R=K6(A,function(fe,$e){var Ct=$e[o5](tp);if(Ct[Pn]===2){var Gt=Ct[0][a5](),t0=Ct[1];fe[Gt]=t0}return fe},{});if(er(R)[Pn]>0){if(R.endpointsuffix){var F=R.location?R.location+".":"";R[_c]=R[_c]||"https://"+F+"dc."+R.endpointsuffix}R[_c]=R[_c]||Ng,Ub(R[_c],"/")&&(R[_c]=R[_c].slice(0,-1))}return R}o(Qf,"parseConnectionString");var rp={parse:Qf},np=function(){function b(A,R,F){var fe=this,$e=this;$e.ver=1,$e.sampleRate=100,$e.tags={},$e[wf]=tl(A,F)||lf,$e.data=R,$e.time=$3(new Date),$e.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return fe.sampleRate===100?4:1},tags:1,data:1}}return o(b,"Envelope"),b}(),lC=function(){function b(A,R,F,fe){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var $e=this;$e.ver=2,$e[wf]=tl(A,R)||lf,$e[Xf]=Cc(A,F),$e[i1]=Zf(A,fe)}return o(b,"Event"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Event",b.dataType="EventData",b}(),zg="<no_method>",s1="error",Sl="stack",Gg="stackDetails",Kg="errorSrc",Wg="message",Yg="description";function Ph(b,A){var R=b;return R&&!rt(R)&&(JSON&&JSON[a2]?(R=JSON[a2](b),A&&(!R||R==="{}")&&(Nt(b[ju])?R=b[ju]():R=""+b)):R=""+b+" - (Missing JSON.stringify)"),R||""}o(Ph,"_stringify");function Jg(b,A){var R=b;return b&&(R&&!rt(R)&&(R=b[Wg]||b[Yg]||R),R&&!rt(R)&&(R=Ph(R,!0)),b.filename&&(R=R+" @"+(b.filename||"")+":"+(b.lineno||"?")+":"+(b.colno||"?"))),A&&A!=="String"&&A!=="Object"&&A!=="Error"&&C3(R||"",A)===-1&&(R=A+": "+R),R||""}o(Jg,"_formatMessage");function ip(b){try{if(de(b))return"hasFullStack"in b&&"typeName"in b}catch{}return!1}o(ip,"_isExceptionDetailsInternal");function fC(b){try{if(de(b))return"ver"in b&&"exceptions"in b&&"properties"in b}catch{}return!1}o(fC,"_isExceptionInternal");function Xg(b){return b&&b.src&&rt(b.src)&&b.obj&&xe(b.obj)}o(Xg,"_isStackDetails");function Gu(b){var A=b||"";rt(A)||(rt(A[Sl])?A=A[Sl]:A=""+A);var R=A[o5](`
`);return{src:A,obj:R}}o(Gu,"_convertStackObj");function cC(b){for(var A=[],R=b[o5](`
`),F=0;F<R[Pn];F++){var fe=R[F];R[F+1]&&(fe+="@"+R[F+1],F++),A[o2](fe)}return{src:b,obj:A}}o(cC,"_getOperaStack");function x5(b){var A=null;if(b)try{if(b[Sl])A=Gu(b[Sl]);else if(b[s1]&&b[s1][Sl])A=Gu(b[s1][Sl]);else if(b.exception&&b.exception[Sl])A=Gu(b.exception[Sl]);else if(Xg(b))A=b;else if(Xg(b[Gg]))A=b[Gg];else if(ji()&&ji().opera&&b[Wg])A=cC(b[Gl]);else if(b.reason&&b.reason[Sl])A=Gu(b.reason[Sl]);else if(rt(b))A=Gu(b);else{var R=b[Wg]||b[Yg]||"";rt(b[Kg])&&(R&&(R+=`
`),R+=" from "+b[Kg]),R&&(A=Gu(R))}}catch(F){A=Gu(F)}return A||{src:"",obj:null}}o(x5,"_getStackFromErrorObj");function uC(b){var A="";return b&&(b.obj?jl(b.obj,function(R){A+=R+`
`}):A=b.src||""),A}o(uC,"_formatStackTrace");function _5(b){var A,R=b.obj;if(R&&R[Pn]>0){A=[];var F=0,fe=0;jl(R,function(Y0){var ai=Y0[ju]();if(Zg.regex.test(ai)){var Xr=new Zg(ai,F++);fe+=Xr[If],A[o2](Xr)}});var $e=32*1024;if(fe>$e)for(var Ct=0,Gt=A[Pn]-1,t0=0,p0=Ct,B0=Gt;Ct<Gt;){var Rn=A[Ct][If],In=A[Gt][If];if(t0+=Rn+In,t0>$e){var xn=B0-p0+1;A.splice(p0,xn);break}p0=Ct,B0=Gt,Ct++,Gt--}}return A}o(_5,"_parseStack");function b5(b){var A="";if(b&&(A=b.typeName||b[wf]||"",!A))try{var R=/function (.{1,200})\(/,F=R.exec(b.constructor[ju]());A=F&&F[Pn]>1?F[1]:""}catch{}return A}o(b5,"_getErrorType");function Ku(b){if(b)try{if(!rt(b)){var A=b5(b),R=Ph(b,!1);return(!R||R==="{}")&&(b[s1]&&(b=b[s1],A=b5(b)),R=Ph(b,!0)),C3(R,A)!==0&&A!=="String"?A+":"+R:R}}catch{}return""+(b||"")}o(Ku,"_formatErrorCode");var dC=function(){function b(A,R,F,fe,$e,Ct){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Gt=this;Gt.ver=2,fC(R)?(Gt[f5]=R[f5]||[],Gt[Xf]=R[Xf],Gt[i1]=R[i1],R[H1]&&(Gt[H1]=R[H1]),R.id&&(Gt.id=R.id,R[Xf].id=R.id),R[bh]&&(Gt[bh]=R[bh]),$t(R[f2])||(Gt[f2]=R[f2])):(F||(F={}),Ct&&(F.id=Ct),Gt[f5]=[new v2(A,R,F)],Gt[Xf]=Cc(A,F),Gt[i1]=Zf(A,fe),$e&&(Gt[H1]=$e),Ct&&(Gt.id=Ct))}return o(b,"Exception"),b.CreateAutoException=function(A,R,F,fe,$e,Ct,Gt,t0){var p0,B0=b5($e||Ct||A);return p0={},p0[Gl]=Jg(A,B0),p0.url=R,p0.lineNumber=F,p0.columnNumber=fe,p0.error=Ku($e||Ct||A),p0.evt=Ku(Ct||A),p0[bc]=B0,p0.stackDetails=x5(Gt||$e||Ct),p0.errorSrc=t0,p0},b.CreateFromInterface=function(A,R,F,fe){var $e=R[f5]&&Iu(R[f5],function(Gt){return v2[Ch](A,Gt)}),Ct=new b(A,Ru(Ru({},R),{exceptions:$e}),F,fe);return Ct},b.prototype.toInterface=function(){var A,R=this,F=R.exceptions,fe=R.properties,$e=R.measurements,Ct=R.severityLevel,Gt=R.problemGroup,t0=R.id,p0=R.isManual,B0=F instanceof Array&&Iu(F,function(Rn){return Rn.toInterface()})||void 0;return A={ver:"4.0"},A[f5]=B0,A.severityLevel=Ct,A.properties=fe,A.measurements=$e,A.problemGroup=Gt,A.id=t0,A.isManual=p0,A},b.CreateSimpleException=function(A,R,F,fe,$e,Ct){var Gt;return{exceptions:[(Gt={},Gt[Eh]=!0,Gt.message=A,Gt.stack=$e,Gt.typeName=R,Gt)]}},b.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",b.dataType="ExceptionData",b.formatError=Ku,b}(),v2=function(){function b(A,R,F){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var fe=this;if(ip(R))fe[bc]=R[bc],fe[Gl]=R[Gl],fe[Sl]=R[Sl],fe[Jf]=R[Jf]||[],fe[Eh]=R[Eh];else{var $e=R,Ct=$e&&$e.evt;r0($e)||($e=$e[s1]||Ct||$e),fe[bc]=tl(A,b5($e))||lf,fe[Gl]=Fg(A,Jg(R||$e,fe[bc]))||lf;var Gt=R[Gg]||x5(R);fe[Jf]=_5(Gt),xe(fe[Jf])&&Iu(fe[Jf],function(t0){t0[ff]=tl(A,t0[ff]),t0[V1]=tl(A,t0[V1])}),fe[Sl]=d2(A,uC(Gt)),fe.hasFullStack=xe(fe.parsedStack)&&fe.parsedStack[Pn]>0,F&&(F[bc]=F[bc]||fe[bc])}}return o(b,"_ExceptionDetails"),b.prototype.toInterface=function(){var A,R=this,F=R[Jf]instanceof Array&&Iu(R[Jf],function($e){return $e.toInterface()}),fe=(A={id:R.id,outerId:R.outerId,typeName:R[bc],message:R[Gl],hasFullStack:R[Eh],stack:R[Sl]},A[Jf]=F||void 0,A);return fe},b.CreateFromInterface=function(A,R){var F=R[Jf]instanceof Array&&Iu(R[Jf],function($e){return Zg[Ch]($e)})||R[Jf],fe=new b(A,Ru(Ru({},R),{parsedStack:F}));return fe},b}(),Zg=function(){function b(A,R){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var F=this;if(F[If]=0,typeof A=="string"){var fe=A;F[c2]=R,F[c5]=zg,F[ff]=zf(fe),F[V1]="",F[u2]=0;var $e=fe.match(b.regex);$e&&$e[Pn]>=5&&(F[c5]=zf($e[2])||F[c5],F[V1]=zf($e[4]),F[u2]=parseInt($e[5])||0)}else F[c2]=A[c2],F[c5]=A[c5],F[ff]=A[ff],F[V1]=A[V1],F[u2]=A[u2],F[If]=0;F.sizeInBytes+=F.method[Pn],F.sizeInBytes+=F.fileName[Pn],F.sizeInBytes+=F.assembly[Pn],F[If]+=b.baseSize,F.sizeInBytes+=F.level.toString()[Pn],F.sizeInBytes+=F.line.toString()[Pn]}return o(b,"_StackFrame"),b.CreateFromInterface=function(A){return new b(A,null)},b.prototype.toInterface=function(){var A=this;return{level:A[c2],method:A[c5],assembly:A[ff],fileName:A[V1],line:A[u2]}},b.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,b.baseSize=58,b}(),Qg=function(){function b(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(b,"DataPoint"),b}(),sp=function(){function b(A,R,F,fe,$e,Ct,Gt,t0,p0){this.aiDataContract={ver:1,metrics:1,properties:0};var B0=this;B0.ver=2;var Rn=new Qg;Rn[$u]=fe>0?fe:void 0,Rn.max=isNaN(Ct)||Ct===null?void 0:Ct,Rn.min=isNaN($e)||$e===null?void 0:$e,Rn[wf]=tl(A,R)||lf,Rn.value=F,Rn.stdDev=isNaN(Gt)||Gt===null?void 0:Gt,B0.metrics=[Rn],B0[Xf]=Cc(A,t0),B0[i1]=Zf(A,p0)}return o(b,"Metric"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",b.dataType="MetricData",b}(),x2="";function hC(b,A){return A===void 0&&(A=!1),b==null?A:b.toString()[a5]()==="true"}o(hC,"stringToBoolOrDefault");function em(b){(isNaN(b)||b<0)&&(b=0),b=Math.round(b);var A=x2+b%1e3,R=x2+Math.floor(b/1e3)%60,F=x2+Math.floor(b/(1e3*60))%60,fe=x2+Math.floor(b/(1e3*60*60))%24,$e=Math.floor(b/(1e3*60*60*24));return A=A[Pn]===1?"00"+A:A[Pn]===2?"0"+A:A,R=R[Pn]<2?"0"+R:R,F=F[Pn]<2?"0"+F:F,fe=fe[Pn]<2?"0"+fe:fe,($e>0?$e+".":x2)+fe+":"+F+":"+R+"."+A}o(em,"msToTimeSpan");function op(b,A){var R=null;return jl(b,function(F){if(F.identifier===A)return R=F,-1}),R}o(op,"getExtensionByName");function gC(b,A,R,F,fe){return!fe&&rt(b)&&(b==="Script error."||b==="Script error")}o(gC,"isCrossOriginError");var mC=function(){function b(A,R,F,fe,$e,Ct,Gt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var t0=this;t0.ver=2,t0.id=h5(A,Gt),t0.url=Vu(A,F),t0[wf]=tl(A,R)||lf,isNaN(fe)||(t0[u5]=em(fe)),t0[Xf]=Cc(A,$e),t0[i1]=Zf(A,Ct)}return o(b,"PageView"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",b.dataType="PageviewData",b}(),pC=function(){function b(A,R,F,fe,$e,Ct,Gt,t0,p0,B0,Rn,In){p0===void 0&&(p0="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var xn=this;xn.ver=2,xn.id=R,xn[u5]=em($e),xn.success=Ct,xn.resultCode=Gt+"",xn.type=tl(A,p0);var Y0=Y7(A,F,t0,fe);xn.data=Vu(A,fe)||Y0.data,xn.target=tl(A,Y0.target),B0&&(xn.target="".concat(xn.target," | ").concat(B0)),xn[wf]=tl(A,Y0[wf]),xn[Xf]=Cc(A,Rn),xn[i1]=Zf(A,In)}return o(b,"RemoteDependencyData"),b.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",b.dataType="RemoteDependencyData",b}(),Wu=function(){function b(A,R,F,fe,$e){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ct=this;Ct.ver=2,R=R||lf,Ct[Gl]=Fg(A,R),Ct[Xf]=Cc(A,fe),Ct[i1]=Zf(A,$e),F&&(Ct[H1]=F)}return o(b,"Trace"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Message",b.dataType="MessageData",b}(),ap=function(){function b(A,R,F,fe,$e,Ct,Gt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var t0=this;t0.ver=2,t0.url=Vu(A,F),t0[wf]=tl(A,R)||lf,t0[Xf]=Cc(A,$e),t0[i1]=Zf(A,Ct),Gt&&(t0.domProcessing=Gt.domProcessing,t0[u5]=Gt[u5],t0.networkConnect=Gt.networkConnect,t0.perfTotal=Gt.perfTotal,t0[Bg]=Gt[Bg],t0.sentRequest=Gt.sentRequest)}return o(b,"PageViewPerformance"),b.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",b.dataType="PageviewPerformanceData",b}(),tm=function(){function b(A,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=A,this.baseData=R}return o(b,"Data"),b}(),yC=Gf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),vC=function(){function b(){}return o(b,"ConfigurationManager"),b.getConfig=function(A,R,F,fe){fe===void 0&&(fe=!1);var $e;return F&&A[l2]&&A[l2][F]&&!$t(A[l2][F][R])?$e=A[l2][F][R]:$e=A[R],$t($e)?fe:$e},b}();function o1(b){var A="ai."+b+".";return function(R){return A+R}}o(o1,"_aiNameFunc");var C5=o1("application"),Xo=o1("device"),Rh=o1("location"),W1=o1("operation"),Y1=o1("session"),ec=o1("user"),a1=o1("cloud"),tc=o1("internal"),lp=function(b){og(A,b);function A(){return b.call(this)||this}return o(A,"ContextTagKeys"),A}(nh({applicationVersion:C5("ver"),applicationBuild:C5("build"),applicationTypeId:C5("typeId"),applicationId:C5("applicationId"),applicationLayer:C5("layer"),deviceId:Xo("id"),deviceIp:Xo("ip"),deviceLanguage:Xo("language"),deviceLocale:Xo("locale"),deviceModel:Xo("model"),deviceFriendlyName:Xo("friendlyName"),deviceNetwork:Xo("network"),deviceNetworkName:Xo("networkName"),deviceOEMName:Xo("oemName"),deviceOS:Xo("os"),deviceOSVersion:Xo("osVersion"),deviceRoleInstance:Xo("roleInstance"),deviceRoleName:Xo("roleName"),deviceScreenResolution:Xo("screenResolution"),deviceType:Xo("type"),deviceMachineName:Xo("machineName"),deviceVMName:Xo("vmName"),deviceBrowser:Xo("browser"),deviceBrowserVersion:Xo("browserVersion"),locationIp:Rh("ip"),locationCountry:Rh("country"),locationProvince:Rh("province"),locationCity:Rh("city"),operationId:W1("id"),operationName:W1("name"),operationParentId:W1("parentId"),operationRootId:W1("rootId"),operationSyntheticSource:W1("syntheticSource"),operationCorrelationVector:W1("correlationVector"),sessionId:Y1("id"),sessionIsFirst:Y1("isFirst"),sessionIsNew:Y1("isNew"),userAccountAcquisitionDate:ec("accountAcquisitionDate"),userAccountId:ec("accountId"),userAgent:ec("userAgent"),userId:ec("id"),userStoreRegion:ec("storeRegion"),userAuthUserId:ec("authUserId"),userAnonymousUserAcquisitionDate:ec("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ec("authUserAcquisitionDate"),cloudName:a1("name"),cloudRole:a1("role"),cloudRoleVer:a1("roleVer"),cloudRoleInstance:a1("roleInstance"),cloudEnvironment:a1("environment"),cloudLocation:a1("location"),cloudDeploymentUnit:a1("deploymentUnit"),internalNodeName:tc("nodeName"),internalSdkVersion:tc("sdkVersion"),internalAgentVersion:tc("agentVersion"),internalSnippet:tc("snippet"),internalSdkSrc:tc("sdkSrc")}));function rm(b,A,R,F,fe,$e){var Ct;R=tl(F,R)||lf,($t(b)||$t(A)||$t(R))&&et("Input doesn't contain all required fields");var Gt="";b[xc]&&(Gt=b[xc],delete b[xc]);var t0=(Ct={},Ct[wf]=R,Ct.time=$3(new Date),Ct.iKey=Gt,Ct.ext=$e||{},Ct.tags=[],Ct.data={},Ct.baseType=A,Ct.baseData=b,Ct);return $t(fe)||ge(fe,function(p0,B0){t0.data[p0]=B0}),t0}o(rm,"createTelemetryItem");var fp=function(){function b(){}return o(b,"TelemetryItemCreator"),b.create=rm,b}(),nm={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},J1=new lp;function xC(b){var A=null;if(Nt(Event))A=new Event(b);else{var R=ql();R&&R.createEvent&&(A=R.createEvent("Event"),A.initEvent(b,!0,!0))}return A}o(xC,"createDomEvent");function im(b,A){Rg(b,null,null,A)}o(im,"_disableEvents");function _C(b){var A=ql(),R=_l(),F=!1,fe=[],$e=1;R&&!$t(R.onLine)&&!R.onLine&&($e=2);var Ct=0,Gt=In(),t0=U7(zl("OfflineListener"),b);try{if(B0(ji())&&(F=!0),A){var p0=A.body||A;p0.ononline&&B0(p0)&&(F=!0)}}catch{F=!1}function B0(Cn){var oo=!1;return Cn&&(oo=mh(Cn,"online",ai,t0),oo&&mh(Cn,"offline",Xr,t0)),oo}o(B0,"_enableEvents");function Rn(){return Gt}o(Rn,"_isOnline");function In(){return!(Ct===2||$e===2)}o(In,"calCurrentState");function xn(){var Cn=In();Gt!==Cn&&(Gt=Cn,jl(fe,function(oo){var E5={isOnline:Gt,rState:$e,uState:Ct};try{oo(E5)}catch{}}))}o(xn,"listnerNoticeCheck");function Y0(Cn){Ct=Cn,xn()}o(Y0,"setOnlineState");function ai(){$e=1,xn()}o(ai,"_setOnline");function Xr(){$e=2,xn()}o(Xr,"_setOffline");function Ei(){var Cn=ji();if(Cn&&F){if(im(Cn,t0),A){var oo=A.body||A;Ht(oo.ononline)||im(oo,t0)}F=!1}}o(Ei,"_unload");function Kn(Cn){return fe[o2](Cn),{rm:function(){var oo=fe.indexOf(Cn);if(oo>-1)return fe.splice(oo,1)}}}return o(Kn,"addListener"),{isOnline:Rn,isListening:function(){return F},unload:Ei,addListener:Kn,setOnlineState:Y0}}o(_C,"createOfflineListener");var bC="AppInsightsPropertiesPlugin",CC="AppInsightsChannelPlugin",X1="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=X1,e.BreezeChannelIdentifier=CC,e.ConfigurationManager=vC,e.ConnectionStringParser=rp,e.ContextTagKeys=lp,e.CtxTagKeys=J1,e.DEFAULT_BREEZE_ENDPOINT=Ng,e.DEFAULT_BREEZE_PATH=ph,e.Data=tm,e.DisabledPropertyName=tC,e.DistributedTracingModes=oC,e.Envelope=np,e.Event=lC,e.EventPersistence=aC,e.Exception=dC,e.Extensions=nm,e.HttpMethod=q7,e.Metric=sp,e.PageView=mC,e.PageViewPerformance=ap,e.ProcessLegacy=kg,e.PropertiesPluginIdentifier=bC,e.RemoteDependencyData=pC,e.RequestHeaders=j7,e.SampleRate=s5,e.SeverityLevel=yC,e.TelemetryItemCreator=fp,e.ThrottleMgr=Ah,e.Trace=Wu,e.correlationIdCanIncludeCorrelationHeader=Sh,e.correlationIdGetCorrelationContext=iC,e.correlationIdGetCorrelationContextValue=W7,e.correlationIdGetPrefix=Th,e.correlationIdSetPrefix=Ug,e.createDistributedTraceContextFromTrace=J7,e.createDomEvent=xC,e.createOfflineListener=_C,e.createTelemetryItem=rm,e.createTraceParent=_g,e.dataSanitizeException=d2,e.dataSanitizeId=h5,e.dataSanitizeInput=zu,e.dataSanitizeKey=d5,e.dataSanitizeKeyAndAddUniqueness=Og,e.dataSanitizeMeasurements=Zf,e.dataSanitizeMessage=Fg,e.dataSanitizeProperties=Cc,e.dataSanitizeString=tl,e.dataSanitizeUrl=Vu,e.dateTimeUtilsDuration=p5,e.dateTimeUtilsNow=sC,e.dsPadNumber=H7,e.findW3cTraceParent=el,e.formatTraceParent=Sg,e.getExtensionByName=op,e.isBeaconApiSupported=T7,e.isCrossOriginError=gC,e.isInternalApplicationInsightsEndpoint=Ec,e.isSampledFlag=Tg,e.isValidSpanId=Eg,e.isValidTraceId=Cg,e.isValidTraceParent=D7,e.msToTimeSpan=em,e.parseConnectionString=Qf,e.parseTraceParent=bg,e.strNotSpecified=lf,e.stringToBoolOrDefault=hC,e.urlGetAbsoluteUrl=g5,e.urlGetCompleteUrl=G7,e.urlGetPathName=m5,e.urlParseFullHost=Mg,e.urlParseHost=K7,e.urlParseUrl=rl,e.utlCanUseLocalStorage=v5,e.utlCanUseSessionStorage=y2,e.utlDisableStorage=wh,e.utlEnableStorage=rr,e.utlGetLocalStorage=Ih,e.utlGetSessionStorage=$g,e.utlGetSessionStorageKeys=jg,e.utlRemoveSessionStorage=Hg,e.utlRemoveStorage=Z7,e.utlSetLocalStorage=K1,e.utlSetSessionStorage=Q7,e.utlSetStoragePrefix=X7})});var kq=ot((Ex,Rq)=>{(function(e,t){typeof Ex=="object"&&typeof Rq<"u"?t(Ex):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Ex,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",l="function",a="number",f="object",c="prototype",u="__proto__",d="string",h="undefined",p="constructor",g="Symbol",y="_polyfill",_="indexOf",S="length",w="done",P="value",D="name",L="slice",k="call",B="toString",ne=Object,ce=ne[c],Ge=String,st=Ge[c],Qe=Math,Ft=Array,ke=Ft[c];function pe(m,v){try{return{v:m.apply(this,v)}}catch(E){return{e:E}}}o(pe,"safe");function Pt(m,v){var E=pe(m);return E.e?v:E.v}o(Pt,"safeGet");var Ht=[d,a,s,h,"symbol","bigint"];function $t(m){return function(v){return typeof v===m}}o($t,"_createIs");function d0(m){var v="[object "+m+"]";return function(E){return!!(E&&rt(E)===v)}}o(d0,"_createObjIs");function rt(m){return ce.toString.call(m)}o(rt,"objToString");function Nt(m){return typeof m===h||m===h}o(Nt,"isUndefined");function de(m){return m===r||Nt(m)}o(de,"isNullOrUndefined");function xe(m){return m===r||!r0(m)}o(xe,"isStrictNullOrUndefined");function r0(m){return!!m||m!==t}o(r0,"isDefined");function T0(m){return m!==f&&Ht.indexOf(m)!==-1}o(T0,"isPrimitiveType");var v0=$t(d),Zt=$t(l);function G0(m){return!m&&de(m)?!1:!!m&&typeof m===f}o(G0,"isObject");var ge=Ft.isArray,y0=d0("Date"),et=$t(a),m0=$t(s),h0=d0("Error");function w0(m){return!!(m&&m.then&&Zt(m.then))}o(w0,"isPromiseLike");function K0(m){return!(!m||Pt(function(){return!(m&&0+m)},!m))}o(K0,"isTruthy");var $r=ne.getOwnPropertyDescriptor;function er(m,v){return!!m&&ce.hasOwnProperty[k](m,v)}o(er,"objHasOwnProperty");var se=ne.hasOwn||Kr;function Kr(m,v){return er(m,v)||!!$r(m,v)}o(Kr,"polyObjHasOwn");function U0(m,v,E){if(m&&G0(m)){for(var I in m)if(se(m,I)&&v[k](E||m,I,m[I])===-1)break}}o(U0,"objForEachKey");function es(m,v,E,I){var N={};return U0(m,function($,W){N[$]=v?W:$,N[W]=E?W:$}),I(N)}o(es,"_createKeyValueMap");function Li(m){throw new Error(m)}o(Li,"throwError");function ds(m){throw new TypeError(m)}o(ds,"throwTypeError");var Bi=ne.freeze;function Ra(m){return m}o(Ra,"_doNothing");function Ga(m){return m[u]||r}o(Ga,"_getProto");var yl=ne.assign,Ka=ne.keys;function mn(m){return Bi&&U0(m,function(v,E){(ge(E)||G0(E))&&Bi(E)}),be(m)}o(mn,"objDeepFreeze");var be=Bi||Ra,j=ne.getPrototypeOf||Ga;function H(m){return es(m,1,0,mn)}o(H,"createEnum");function x0(m){return es(m,0,0,mn)}o(x0,"createEnumKeyMap");function Jr(m){var v={};return U0(m,function(E,I){v[E]=I[1],v[I[0]]=I[1]}),mn(v)}o(Jr,"createSimpleMap");function ui(m){return Jr(m)}o(ui,"createTypeMap");var hi=x0({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Qr=Ge,ki="__tsUtils$gblCfg",On;function Mi(){var m;return typeof globalThis!==h&&(m=globalThis),!m&&typeof self!==h&&(m=self),!m&&typeof window!==h&&(m=window),!m&&typeof global!==h&&(m=global),m}o(Mi,"_getGlobalValue");function di(){if(!On){var m=pe(Mi).v||{};On=m[ki]=m[ki]||{}}return On}o(di,"_getGlobalConfig");var Oi="[object Error]";function X0(m,v){var E=n,I=ce[B][k](m);I===Oi&&(m={stack:Qr(m.stack),message:Qr(m.message),name:Qr(m.name)});try{E=JSON.stringify(m,r,v?typeof v===a?v:4:t),E=E&&E.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||Qr(m)}catch(N){E=" - "+X0(N,v)}return I+": "+E}o(X0,"dumpObj");var Hf,Tu=dc,vl=dc;function dc(m,v,E){Hf=Hf||ke[L];var I=v&&v[m];return function(N){var $=N&&N[m]||I;if($||E){var W=arguments;return($||E).apply(N,$?Hf[k](W,1):W)}ds('"'+Qr(m)+'" not defined for '+X0(N))}}o(dc,"_unwrapFunctionWithPoly");function _f(m){return function(v){return v[m]}}o(_f,"_unwrapProp");var Wc=Qe.max,Rt=vl(L,st),X=vl("substring",st),Ke=dc("substr",st,tt);function tt(m,v,E){return de(m)&&ds("'polyStrSubstr called with invalid "+X0(m)),E<0?n:(v=v||0,v<0&&(v=Wc(v+m[S],0)),Nt(E)?Rt(m,v):Rt(m,v,v+E))}o(tt,"polyStrSubstr");function he(m,v){return X(m,0,v)}o(he,"strLeft");var z="_urid",Vt;function c0(){if(!Vt){var m=di();Vt=m.gblSym=m.gblSym||{k:{},s:{}}}return Vt}o(c0,"_globalSymbolRegistry");var Yr;function ts(m){var v={description:Qr(m),toString:function(){return g+"("+m+")"}};return v[y]=!0,v}o(ts,"polyNewSymbol");function Ui(m){var v=c0();if(!se(v.k,m)){var E=ts(m),I=Ka(v.s).length;E[z]=function(){return I+"_"+E[B]()},v.k[m]=E,v.s[E[z]()]=Qr(m)}return v.k[m]}o(Ui,"polySymbolFor");function xl(m){!Yr&&(Yr={});var v,E=hi[m];return E&&(v=Yr[E]=Yr[E]||ts(g+"."+E)),v}o(xl,"polyGetKnownSymbol");var ns={e:"enumerable",c:"configurable",v:P,w:"writable",g:"get",s:"set"};function ql(m){var v={};if(v[ns.c]=!0,v[ns.e]=!0,m.l){v.get=function(){return m.l.v};var E=$r(m.l,"v");E&&E.set&&(v.set=function(I){m.l.v=I})}return U0(m,function(I,N){v[ns[I]]=Nt(N)?v[ns[I]]:N}),v}o(ql,"_createProp");var An=ne.defineProperty;function ji(m,v,E){return An(m,v,ql(E))}o(ji,"objDefine");var os;function _l(){os=di()}o(_l,"_initTestHooks");function af(m){var v={};return!os&&_l(),v.b=os.lzy,An(v,"v",{configurable:!0,get:function(){var E=m();return os.lzy||An(v,"v",{value:E}),v.b=os.lzy,E}}),v}o(af,"getLazy");function M4(m,v){return af(function(){var E=pe(m);return E.e?v:E.v})}o(M4,"safeGetLazy");function Su(m){return An({toJSON:function(){return m}},"v",{value:m})}o(Su,"createCachedValue");var Bd="window",wu,Yc,jl,P1,Iu;function K6(m){return af(function(){return pe(ka,[m]).v||t})}o(K6,"lazySafeGetInst");function Vf(m){return!os&&_l(),(!wu||m===!1||os.lzy)&&(wu=Su(pe(Mi).v||r)),wu.v}o(Vf,"getGlobal");function ka(m,v){var E=!wu||v===!1?Vf(v):wu.v;return E&&E[m]?E[m]:m===Bd&&Yc?Yc.v:r}o(ka,"getInst");function W6(){return!!Au()}o(W6,"hasDocument");function Au(){return!os&&_l(),(!jl||os.lzy)&&(jl=Su(pe(ka,["document"]).v)),jl.v}o(Au,"getDocument");function Ob(){return!!Jc()}o(Ob,"hasWindow");function Jc(){return!os&&_l(),(!Yc||os.lzy)&&(Yc=Su(pe(ka,[Bd]).v)),Yc.v}o(Jc,"getWindow");function Fb(){return!!R1()}o(Fb,"hasNavigator");function R1(){return!os&&_l(),(!P1||os.lzy)&&(P1=Su(pe(ka,["navigator"]).v)),P1.v}o(R1,"getNavigator");function Mb(){return!Iu&&(Iu=Su(!!pe(function(){return process&&(process.versions||{}).node}).v)),Iu.v}o(Mb,"isNode");var $l,Y6;function zf(){(!$l||!$l.b)&&($l=K6(g),Y6=M4(function(){return $l.v?$l.v.for:t},t))}o(zf,"_initSymbol");function J6(){return!!X6()}o(J6,"hasSymbol");function X6(){return!os&&_l(),(!$l||os.lzy)&&zf(),$l.v}o(X6,"getSymbol");function b3(m,v){var E=hi[m];return!os&&_l(),(!$l||os.lzy)&&zf(),$l.v?$l.v[E||m]:v?t:xl(m)}o(b3,"getKnownSymbol");function hc(m,v){return!os&&_l(),(!$l||os.lzy)&&zf(),$l.v?$l.v(m):v?r:ts(m)}o(hc,"newSymbol");function Od(m){return!os&&_l(),(!Y6||!$l||os.lzy)&&zf(),(Y6.v||Ui)(m)}o(Od,"symbolFor");function U4(m){return!!m&&Zt(m.next)}o(U4,"isIterator");function Ub(m){return!xe(m)&&Zt(m[b3(3)])}o(Ub,"isIterable");var q4;function C3(m,v,E){if(m&&(U4(m)||(!q4&&(q4=Su(b3(3))),m=m[q4.v]?m[q4.v]():null),U4(m))){var I=void 0,N=void 0;try{for(var $=0;!(N=m.next())[w]&&v[k](E||m,N[P],$,m)!==-1;)$++}catch(W){I={e:W},m.throw&&(N=null,m.throw(I))}finally{try{N&&!N[w]&&m.return&&m.return(N)}finally{if(I)throw I.e}}}}o(C3,"iterForOf");var Xc=Tu("apply");function k1(m,v){return!Nt(v)&&m&&(ge(v)?Xc(m.push,m,v):U4(v)||Ub(v)?C3(v,function(E){m.push(E)}):m.push(v)),m}o(k1,"arrAppend");function yn(m,v,E){if(m)for(var I=m[S]>>>0,N=0;N<I&&!(N in m&&v[k](E||m,m[N],N,m)===-1);N++);}o(yn,"arrForEach");var bf=vl(_,ke),E3=vl("map",ke),Z6=vl(L,ke),qb=vl("reduce",ke),Gf=ne.create||jb;function jb(m){if(!m)return{};var v=typeof m;v!==f&&v!==l&&ds("Prototype must be an Object or function: "+X0(m));function E(){}return o(E,"tempFunc"),E[c]=m,new E}o(jb,"polyObjCreate");var Fd;function T3(m,v){var E=ne.setPrototypeOf||function(I,N){!Fd&&(Fd=af(function(){var $;return $={},$[u]=[],$ instanceof Array})),Fd.v?I[u]=N:U0(N,function($,W){return I[$]=W})};return E(m,v)}o(T3,"objSetPrototypeOf");function Na(m,v,E){pe(ji,[v,D,{v:m,c:!0,e:!1}]),v=T3(v,E);function I(){this.constructor=v,pe(ji,[this,D,{v:m,c:!0,e:!1}])}return o(I,"__"),v[c]=E===r?Gf(E):(I[c]=E[c],new I),v}o(Na,"_createCustomError");function S3(m,v){v&&(m[D]=v)}o(S3,"_setName");function Q6(m,v,E){var I=E||Error,N=I[c][D],$=Error.captureStackTrace;return Na(m,function(){var W=this,oe=arguments;try{pe(S3,[I,m]);var me=Xc(I,W,ke[L][k](oe))||W;if(me!==W){var Ae=j(W);Ae!==j(me)&&T3(me,Ae)}return $&&$(me,W[p]),v&&v(me,oe),me}finally{pe(S3,[I,N])}},I)}o(Q6,"createCustomError");function N1(){return(Date.now||w3)()}o(N1,"utcNow");function w3(){return new Date().getTime()}o(w3,"polyUtcNow");function eg(m){return o(function(E){return de(E)&&ds("strTrim called ["+X0(E)+"]"),E&&E.replace&&(E=E.replace(m,n)),E},"_doTrim")}o(eg,"_createTrimFn");var tg=eg(/^\s+|(?=\s)\s+$/g),Sa=dc("trim",st,tg),rg,gc,j4;function Hl(m){if(!m||typeof m!==f)return!1;j4||(j4=Ob()?Jc():!0);var v=!1;if(m!==j4){gc||(rg=Function[c][B],gc=rg[k](ne));try{var E=j(m);v=!E,v||(er(E,p)&&(E=E[p]),v=E&&typeof E===l&&rg[k](E)===gc)}catch{}}return v}o(Hl,"isPlainObject");var $b=o(function(m){return m.value&&H4(m),!0},"_defaultDeepCopyHandler"),$4=[d7,H4,ig,h7];function Hb(m,v,E,I){var N;return yn(m,function($){if($.k===v)return N=$,-1}),N||(N={k:v,v},m.push(N),I(N)),N.v}o(Hb,"_getSetVisited");function I3(m,v,E,I){var N=E.handler,$=E.path?I?E.path.concat(I):E.path:[],W={handler:E.handler,src:E.src,path:$},oe=typeof v,me=!1,Ae=!1;v&&oe===f?me=Hl(v):Ae=v===r||T0(oe);var nt={type:oe,isPrim:Ae,isPlain:me,value:v,result:v,path:$,origin:E.src,copy:function(Qt,s0){return I3(m,Qt,s0?W:E,s0)},copyTo:function(Qt,s0){return u7(m,Qt,s0,W)}};return nt.isPrim?N&&N[k](E,nt)?nt.result:v:Hb(m,v,$,function(Qt){ji(nt,"result",{g:function(){return Qt.v},s:function(Kt){Qt.v=Kt}});for(var s0=0,e0=N;!(e0||(s0<$4.length?$4[s0++]:$b))[k](E,nt);)e0=r})}o(I3,"_deepCopy");function u7(m,v,E,I){if(!de(E))for(var N in E)v[N]=I3(m,E[N],I,N);return v}o(u7,"_copyProps");function ng(m,v,E){var I={handler:E,src:v,path:[]};return u7([],m,v,I)}o(ng,"objCopyProps");function A3(m,v){var E={handler:v,src:m};return I3([],m,E)}o(A3,"objDeepCopy");function d7(m){var v=m.value;if(ge(v)){var E=m.result=[];return E.length=v.length,m.copyTo(E,v),!0}return!1}o(d7,"arrayDeepCopyHandler");function h7(m){var v=m.value;return y0(v)?(m.result=new Date(v.getTime()),!0):!1}o(h7,"dateDeepCopyHandler");function ig(m){return m.type===l}o(ig,"functionDeepCopyHandler");function H4(m){var v=m.value;if(v&&m.isPlain){var E=m.result={};return m.copyTo(E,v),!0}return!1}o(H4,"plainObjDeepCopyHandler");function Md(m,v){return yn(v,function(E){ng(m,E)}),m}o(Md,"_doExtend");function g7(m,v,E,I,N,$,W){return Md(A3(m)||{},ke[L][k](arguments))}o(g7,"deepExtend");var Zc=_f(S),V4=dc("endsWith",st,m7);function m7(m,v,E){v0(m)||ds("'"+X0(m)+"' is not a string");var I=v0(v)?v:Qr(v),N=!Nt(E)&&E<m[S]?E:m[S];return X(m,N-I[S],N)===I}o(m7,"polyStrEndsWith");var Ud=vl(_,st),Pu="ref",P3="un"+Pu,sg="hasRef",p7="enabled";function Vb(m,v,E){var I,N=!0,$=m?v(r):r,W,oe=o(function(){return N=!1,$&&$[P3]&&$[P3](),W},"_unref"),me=o(function(){return N=!0,$&&$[Pu]&&$[Pu](),W},"_ref"),Ae=o(function(){return $&&$[sg]?$[sg]():N},"_hasRef"),nt=o(function(){return $=v($),N||oe(),W},"_refresh"),Qt=o(function(){$&&E($),$=r},"_cancel"),s0=o(function(e0){!e0&&$&&Qt(),e0&&!$&&nt()},"_setEnabled");return W=(I={cancel:Qt,refresh:nt},I[sg]=Ae,I[Pu]=me,I[P3]=oe,I[p7]=!1,I),An(W,p7,{get:function(){return!!$},set:s0}),{h:W,dn:function(){$=r}}}o(Vb,"_createTimerHandler");function y7(m,v,E,I){var N=ge(E),$=N?E.length:0,W=($>0?E[0]:N?t:E)||setTimeout,oe=($>1?E[1]:t)||clearTimeout,me=I[0];I[0]=function(){Ae.dn(),Xc(me,m,ke[L][k](arguments))};var Ae=Vb(v,function(nt){if(nt){if(nt.refresh)return nt.refresh(),nt;Xc(oe,m,[nt])}return Xc(W,m,I)},function(nt){Xc(oe,m,[nt])});return Ae.h}o(y7,"_createTimeoutWith");function mc(m,v){return y7(this,!0,t,ke[L][k](arguments))}o(mc,"scheduleTimeout");function v7(m,v){return y7(this,!1,t,ke[L][k](arguments))}o(v7,"createTimeout");var z4,R3="constructor",Qc="prototype",Ru="function",qd="_dynInstFuncs",og="_isDynProxy",e1="_dynClass",G4="_dynCls$",Kf="_dynInstChk",D1=Kf,k3="_dfOpts",K4="_unknown_",L1="__proto__",W4="_dyn"+L1,Y4="__dynProto$Gbl",ku="_dynInstProto",N3="useBaseInst",J4="setInstFuncs",D3=Object,B1=D3.getPrototypeOf,ag=D3.getOwnPropertyNames,X4=Vf(),jd=X4[Y4]||(X4[Y4]={o:(z4={},z4[J4]=!0,z4[N3]=!0,z4),n:1e3});function $d(m){return m&&(m===D3[Qc]||m===Array[Qc])}o($d,"_isObjectOrArrayPrototype");function L3(m){return $d(m)||m===Function[Qc]}o(L3,"_isObjectArrayOrFunctionPrototype");function Wf(m){var v;if(m){if(B1)return B1(m);var E=m[L1]||m[Qc]||(m[R3]?m[R3][Qc]:null);v=m[W4]||E,er(m,W4)||(delete m[ku],v=m[W4]=m[ku]||m[W4],m[ku]=E)}return v}o(Wf,"_getObjProto");function B3(m,v){var E=[];if(ag)E=ag(m);else for(var I in m)typeof I=="string"&&er(m,I)&&E.push(I);if(E&&E.length>0)for(var N=0;N<E.length;N++)v(E[N])}o(B3,"_forEachProp");function Z4(m,v,E){return v!==R3&&typeof m[v]===Ru&&(E||er(m,v))&&v!==L1&&v!==Qc}o(Z4,"_isDynamicCandidate");function Hd(m){ds("DynamicProto: "+m)}o(Hd,"_throwTypeError");function Q4(m){var v=Gf(null);return B3(m,function(E){!v[E]&&Z4(m,E,!1)&&(v[E]=m[E])}),v}o(Q4,"_getInstanceFuncs");function O3(m,v){for(var E=m.length-1;E>=0;E--)if(m[E]===v)return!0;return!1}o(O3,"_hasVisited");function Nu(m,v,E,I){function N(me,Ae,nt){var Qt=Ae[nt];if(Qt[og]&&I){var s0=me[qd]||{};s0[D1]!==!1&&(Qt=(s0[Ae[e1]]||{})[nt]||Qt)}return function(){return Qt.apply(me,arguments)}}o(N,"_instFuncProxy");var $=Gf(null);B3(E,function(me){$[me]=N(v,E,me)});for(var W=Wf(m),oe=[];W&&!L3(W)&&!O3(oe,W);)B3(W,function(me){!$[me]&&Z4(W,me,!B1)&&($[me]=N(v,W,me))}),oe.push(W),W=Wf(W);return $}o(Nu,"_getBaseFuncs");function eh(m,v,E,I){var N=null;if(m&&er(E,e1)){var $=m[qd]||Gf(null);if(N=($[E[e1]]||Gf(null))[v],N||Hd("Missing ["+v+"] "+Ru),!N[Kf]&&$[D1]!==!1){for(var W=!er(m,v),oe=Wf(m),me=[];W&&oe&&!L3(oe)&&!O3(me,oe);){var Ae=oe[v];if(Ae){W=Ae===I;break}me.push(oe),oe=Wf(oe)}try{W&&(m[v]=N),N[Kf]=1}catch{$[D1]=!1}}}return N}o(eh,"_getInstFunc");function lg(m,v,E){var I=v[m];return I===E&&(I=Wf(v)[m]),typeof I!==Ru&&Hd("["+m+"] is not a "+Ru),I}o(lg,"_getProtoFunc");function th(m,v,E,I,N){function $(me,Ae){var nt=o(function(){var Qt=eh(this,Ae,me,nt)||lg(Ae,me,nt);return Qt.apply(this,arguments)},"dynProtoProxy");return nt[og]=1,nt}if(o($,"_createDynamicPrototype"),!$d(m)){var W=E[qd]=E[qd]||Gf(null);if(!$d(W)){var oe=W[v]=W[v]||Gf(null);W[D1]!==!1&&(W[D1]=!!N),$d(oe)||B3(E,function(me){Z4(E,me,!1)&&E[me]!==I[me]&&(oe[me]=E[me],delete E[me],(!er(m,me)||m[me]&&!m[me][og])&&(m[me]=$(m,me)))})}}}o(th,"_populatePrototype");function zb(m,v){if(B1){for(var E=[],I=Wf(v);I&&!L3(I)&&!O3(E,I);){if(I===m)return!0;E.push(I),I=Wf(I)}return!1}return!0}o(zb,"_checkPrototype");function F3(m,v){return er(m,Qc)?m.name||v||K4:((m||{})[R3]||{}).name||v||K4}o(F3,"_getObjName");function Vl(m,v,E,I){er(m,Qc)||Hd("theClass is an invalid class definition.");var N=m[Qc];zb(N,v)||Hd("["+F3(m)+"] not in hierarchy of ["+F3(v)+"]");var $=null;er(N,e1)?$=N[e1]:($=G4+F3(m,"_")+"$"+jd.n,jd.n++,N[e1]=$);var W=Vl[k3],oe=!!W[N3];oe&&I&&I[N3]!==void 0&&(oe=!!I[N3]);var me=Q4(v),Ae=Nu(N,v,me,oe);E(v,Ae);var nt=!!B1&&!!W[J4];nt&&I&&(nt=!!I[J4]),th(N,$,v,me,nt!==!1)}o(Vl,"dynamicProto"),Vl[k3]=jd.o;var Gb="function",x7="object",_7="undefined",M3="prototype",U3=Object,fg=U3[M3],b7="hasOwnProperty",vo=o(function(m){for(var v,E=1,I=arguments.length;E<I;E++){v=arguments[E];for(var N in v)fg[b7].call(v,N)&&(m[N]=v[N])}return m},"__objAssignFnImpl"),O1=yl||vo,cg=o(function(m,v){return cg=U3.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,I){E.__proto__=I}||function(E,I){for(var N in I)I[b7](N)&&(E[N]=I[N])},cg(m,v)},"extendStaticsFn");function q3(m,v){typeof v!==Gb&&v!==null&&ds("Class extends value "+String(v)+" is not a constructor or null"),cg(m,v);function E(){this.constructor=m}o(E,"__"),m[M3]=v===null?Gf(v):(E[M3]=v[M3],new E)}o(q3,"__extendsFn");function C7(m,v){for(var E=0,I=v.length,N=m.length;E<I;E++,N++)m[N]=v[E];return m}o(C7,"__spreadArrayFn");var rh=H,ug=ui,j3="toLowerCase",$3="blkVal",si="length",nh="rdOnly",ih="notify",H3="warnToConsole",V3="throwInternal",Vd="setDf",t1="watch",wo="logger",zd="apply",zi="push",Du="splice",E7="hdlr",Lu="cancel",z3="initialize",F1="identifier",pc="isInitialized",G3="getPlugin",T7="pollInternalLogs",M1="name",Gd="time",bl="processNext",dg="getProcessTelContext",Cf="getNotifyMgr",K3="addNotificationListener",W3="removeNotificationListener",Bu="enabled",Kd="stopPollingInternalLogs",Ef="unload",sh="onComplete",S7="version",w7="loggingLevelConsole",Yf="createNew",r1="teardown",oh="messageId",Ou="message",Wd="isAsync",n1="diagLog",ah="_doTeardown",Y3="update",zl="getNext",J3="setNextPlugin",Yd="userAgent",Jd="split",X3="nodeType",Fu="replace",U1="logInternalMessage",yc="type",hg="handler",lh="isChildEvt",Xd="getCtx",vc="setCtx",Z3="complete",gg="traceId",I7="spanId",Zd="traceFlags",mg;function fh(m,v){mg||(mg=Q6("AggregationError",function(I,N){N[si]>1&&(I.errors=N[1])}));var E=m||"One or more errors occurred.";throw yn(v,function(I,N){E+=`
`.concat(N," > ").concat(X0(I))}),new mg(E,v||[])}o(fh,"throwAggregationError");function ch(m,v){return Q3(m,function(E){return v?v({value:E,rejected:!1}):E},function(E){return v?v({rejected:!0,reason:E}):E})}o(ch,"doAwaitResponse");function Q3(m,v,E,I){var N=m;return w0(m)?(v||E)&&(N=m.then(v,E)):v&&(N=v(m)),I&&pg(N,I),N}o(Q3,"doAwait");function pg(m,v){var E=m;return v&&(w0(m)?m.finally?E=m.finally(v):E=m.then(function(I){return v(),I},function(I){throw v(),I}):v()),E}o(pg,"doFinally");var e2=["pending","resolving","resolved","rejected"],Qd="dispatchEvent",q1;function Kb(m,v,E,I){var N=Au();!q1&&(q1=M4(function(){var me;return N&&N.createEvent&&(me=N.createEvent("Event")),!!me&&me.initEvent},null));var $=q1.v?N.createEvent("Event"):I?new Event(v):{};if(E&&E($),q1.v&&$.initEvent(v,!1,!0),$&&m[Qd])m[Qd]($);else{var W=m["on"+v];if(W)W($);else{var oe=ka("console");oe&&(oe.error||oe.log)(v,X0($))}}}o(Kb,"emitEvent");var uh="Promise",A7="unhandledRejection",Wb=A7.toLowerCase(),P7=10,dh;function t2(m){return Zt(m)?m.toString():X0(m)}o(t2,"dumpFnObj");function Yb(m,v,E){var I=Z6(arguments,3),N=0,$=!1,W,oe=[],me=!1,Ae=null,nt;!dh&&(dh=K6(uh+"RejectionEvent"));var Qt=o(function(g0,N0){try{me=!0,Ae&&Ae.cancel(),Ae=null;var Tn=m(function(Fi,fo){oe.push(function(){try{var ls=N===2?g0:N0,ol=Nt(ls)?W:Zt(ls)?ls(W):ls;w0(ol)?ol.then(Fi,fo):ls?Fi(ol):N===3?fo(ol):Fi(ol)}catch(La){fo(La)}}),$&&b0()},I);return Tn}finally{}},"_then"),s0=o(function(g0){return Qt(void 0,g0)},"_catch"),e0=o(function(g0){var N0=g0,Tn=g0;return Zt(g0)&&(N0=o(function(Fi){return g0&&g0(),Fi},"thenFinally"),Tn=o(function(Fi){throw g0&&g0(),Fi},"catchFinally")),Qt(N0,Tn)},"_finally"),Kt=o(function(){return e2[N]},"_strState"),b0=o(function(){if(oe.length>0){var g0=oe.slice();oe=[],me=!0,v(g0),Ae&&Ae.cancel(),Ae=null}},"_processQueue"),a0=o(function(g0,N0){return function(Tn){if(N===N0){if(g0===2&&w0(Tn)){N=1,Tn.then(a0(2,1),a0(3,1));return}N=g0,$=!0,W=Tn,b0(),!me&&g0===3&&!Ae&&(Ae=mc(I0,P7))}}},"_createSettleIfFn"),I0=o(function(){if(!me)if(Mb())process.emit(A7,W,nt);else{var g0=Jc()||Vf();Kb(g0,Wb,function(N0){return ji(N0,"promise",{g:function(){return nt}}),N0.reason=W,N0},!!dh.v)}},"_notifyUnhandledRejection");nt={then:Qt,catch:s0,finally:e0},An(nt,"state",{get:Kt}),J6()&&(nt[b3(11)]="IPromise");var _0=o(function(){return"IPromise "+Kt()+($?" - "+t2(W):"")},"_toString");return nt.toString=_0,o(function(){Zt(E)||ds(uh+": executor is not a function - "+t2(E));var N0=a0(3,0);try{E.call(nt,a0(2,0),N0)}catch(Tn){N0(Tn)}},"_initialize")(),nt}o(Yb,"_createPromise");function Jb(m){return function(v){var E=Z6(arguments,1);return m(function(I,N){try{var $=[],W=1;yn(v,function(oe,me){oe&&(W++,Q3(oe,function(Ae){$[me]=Ae,--W===0&&I($)},N))}),W--,W===0&&I($)}catch(oe){N(oe)}},E)}}o(Jb,"_createAllPromise");var e5=o(function(m){yn(m,function(v){try{v()}catch{}})},"_processPendingItems");function R7(m){var v=et(m)?m:0;return function(E){mc(function(){e5(E)},v)}}o(R7,"timeoutItemProcessor");function k7(m,v){return Yb(k7,R7(v),m,v)}o(k7,"createAsyncPromise");var yg;function Xb(m,v){!yg&&(yg=K6(uh));var E=yg.v;if(!E)return k7(m);Zt(m)||ds(uh+": executor is not a function - "+X0(m));var I=0;function N(){return e2[I]}o(N,"_strState");var $=new E(function(W,oe){function me(nt){I=2,W(nt)}o(me,"_resolve");function Ae(nt){I=3,oe(nt)}o(Ae,"_reject"),m(me,Ae)});return An($,"state",{get:N}),$}o(Xb,"createNativePromise");var vg;function t5(m,v){return!vg&&(vg=af(function(){return Xb})),vg.v.call(this,m,v)}o(t5,"createPromise");var N7=Jb(t5),Tf=void 0,xi="",Mu="channels",Yo="core",xg="createPerfMgr",Cl="disabled",Uu="extensionConfig",r5="extensions",Sf="processTelemetry",n5="priority",qu="eventsSent",j1="eventsDiscarded",r2="eventsSendRequest",El="perfEvent",n2="getPerfMgr",hh="domain",_g="path",bg="Not dynamic - ",Cg=/-([a-z])/g,Eg=/([^\w\d_$])/g,D7=/^(\d+[\w\d_$])/;function Tg(m){return!de(m)}o(Tg,"isNotNullOrUndefined");function Sg(m){var v=m;return v&&v0(v)&&(v=v[Fu](Cg,function(E,I){return I.toUpperCase()}),v=v[Fu](Eg,"_"),v=v[Fu](D7,function(E,I){return"_"+I})),v}o(Sg,"normalizeJsName");function el(m,v){return m&&v?Ud(m,v)!==-1:!1}o(el,"strContains");function i2(m){return m&&m.toISOString()||""}o(i2,"toISOString");function Tl(m){return h0(m)?m[M1]:xi}o(Tl,"getExceptionName");function $1(m,v,E,I,N){var $=E;return m&&($=m[v],$!==E&&(!N||N($))&&(!I||I(E))&&($=E,m[v]=$)),$}o($1,"setValue");function L7(m,v,E){var I;return m?(I=m[v],!I&&de(I)&&(I=Nt(E)?{}:E,m[v]=I)):I=Nt(E)?{}:E,I}o(L7,"getSetValue");function B7(m,v){var E=null,I=null;return Zt(m)?E=m:I=m,function(){var N=arguments;if(E&&(I=E()),I)return I[v][zd](I,N)}}o(B7,"_createProxyFunction");function i5(m,v,E,I,N){m&&v&&E&&(N!==!1||Nt(m[v]))&&(m[v]=B7(E,I))}o(i5,"proxyFunctionAs");function wg(m,v,E,I){return m&&v&&G0(m)&&ge(E)&&yn(E,function(N){v0(N)&&i5(m,N,v,N,I)}),m}o(wg,"proxyFunctions");function Zb(m){return function(){function v(){var E=this;m&&U0(m,function(I,N){E[I]=N})}return o(v,"class_1"),v}()}o(Zb,"createClassFromInterface");function O7(m){return m&&yl&&(m=U3(yl({},m))),m}o(O7,"optimizeObject");function s2(m,v,E,I,N,$){var W=arguments,oe=W[0]||{},me=W[si],Ae=!1,nt=1;for(me>0&&m0(oe)&&(Ae=oe,oe=W[nt]||{},nt++),G0(oe)||(oe={});nt<me;nt++){var Qt=W[nt],s0=ge(Qt),e0=G0(Qt);for(var Kt in Qt){var b0=s0&&Kt in Qt||e0&&se(Qt,Kt);if(b0){var a0=Qt[Kt],I0=void 0;if(Ae&&a0&&((I0=ge(a0))||Hl(a0))){var _0=oe[Kt];I0?ge(_0)||(_0=[]):Hl(_0)||(_0={}),a0=s2(Ae,_0,a0)}a0!==void 0&&(oe[Kt]=a0)}}}return oe}o(s2,"objExtend");var Qb="documentMode",F7="location",Ig="console",Ag="JSON",M7="crypto",eC="msCrypto",gh="msie",Pg="trident/",U7="XMLHttpRequest",mh=null,Rg=null,tC=!1,s5=null,kg=null;function q7(m,v){var E=!1;if(m){try{if(E=v in m,!E){var I=m[M3];I&&(E=v in I)}}catch{}if(!E)try{var N=new m;E=!Nt(N[v])}catch{}}return E}o(q7,"_hasProperty");function Ng(m){if(m&&tC){var v=ka("__mockLocation");if(v)return v}return typeof location===x7&&location?location:ka(F7)}o(Ng,"getLocation");function ph(){return typeof console!==_7?console:ka(Ig)}o(ph,"getConsole");function lf(){return!!(typeof JSON===x7&&JSON||ka(Ag)!==null)}o(lf,"hasJSON");function xc(){return lf()?JSON||ka(Ag):null}o(xc,"getJSON");function j7(){return ka(M7)}o(j7,"getCrypto");function o5(){return ka(eC)}o(o5,"getMsCrypto");function Pn(){var m=R1();if(m&&(m[Yd]!==Rg||mh===null)){Rg=m[Yd];var v=(Rg||xi)[j3]();mh=el(v,gh)||el(v,Pg)}return mh}o(Pn,"isIE");function a5(m){if(m===void 0&&(m=null),!m){var v=R1()||{};m=v?(v.userAgent||xi)[j3]():xi}var E=(m||xi)[j3]();if(el(E,gh)){var I=Au()||{};return Math.max(parseInt(E[Jd](gh)[1]),I[Qb]||0)}else if(el(E,Pg)){var N=parseInt(E[Jd](Pg)[1]);if(N)return N+4}return null}o(a5,"getIEVersion");function _c(m){return(kg===null||m===!1)&&(kg=Fb()&&!!R1().sendBeacon),kg}o(_c,"isBeaconsSupported");function ju(m){var v=!1;try{v=!!ka("fetch");var E=ka("Request");v&&m&&E&&(v=q7(E,"keepalive"))}catch{}return v}o(ju,"isFetchSupported");function o2(){return s5===null&&(s5=typeof XDomainRequest!==_7,s5&&yh()&&(s5=s5&&!q7(ka(U7),"withCredentials"))),s5}o(o2,"useXDomainRequest");function yh(){var m=!1;try{var v=ka(U7);m=!!v}catch{}return m}o(yh,"isXhrSupported");var wf=4294967296,Gl=4294967295,$u=123456789,vh=987654321,xh=!1,Hu=$u,l5=vh;function Dg(m){m<0&&(m>>>=0),Hu=$u+m&Gl,l5=vh-m&Gl,xh=!0}o(Dg,"_mwcSeed");function Lg(){try{var m=N1()&2147483647;Dg((Math.random()*wf^m)+m)}catch{}}o(Lg,"_autoSeedMwc");function a2(m){var v=0,E=j7()||o5();return E&&E.getRandomValues&&(v=E.getRandomValues(new Uint32Array(1))[0]&Gl),v===0&&Pn()&&(xh||Lg(),v=_h()&Gl),v===0&&(v=Math.floor(wf*Math.random()|0)),m||(v>>>=0),v}o(a2,"random32");function _h(m){l5=36969*(l5&65535)+(l5>>16)&Gl,Hu=18e3*(Hu&65535)+(Hu>>16)&Gl;var v=(l5<<16)+(Hu&65535)>>>0&Gl|0;return m||(v>>>=0),v}o(_h,"mwcRandom32");function $7(m){m===void 0&&(m=22);for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=a2()>>>0,I=0,N=xi;N[si]<m;)I++,N+=v.charAt(E&63),E>>>=6,I===5&&(E=(a2()<<2&4294967295|E&3)>>>0,I=0);return N}o($7,"newId");var l2="3.0.5",f5="."+$7(6),Jf=0;function Xf(m){return m[X3]===1||m[X3]===9||!+m[X3]}o(Xf,"_canAcceptData");function i1(m,v){var E=v[m.id];if(!E){E={};try{Xf(v)&&ji(v,m.id,{e:!1,v:E})}catch{}}return E}o(i1,"_getCache");function If(m,v){return v===void 0&&(v=!1),Sg(m+Jf+++(v?"."+l2:xi)+f5)}o(If,"createUniqueNamespace");function bc(m){var v={id:If("_aiData-"+(m||xi)+"."+l2),accept:function(E){return Xf(E)},get:function(E,I,N,$){var W=E[v.id];return W?W[Sg(I)]:($&&(W=i1(v,E),W[Sg(I)]=N),N)},kill:function(E,I){if(E&&E[I])try{delete E[I]}catch{}}};return v}o(bc,"createElmNodeData");function H1(m){return m&&G0(m)&&(m.isVal||m.fb||se(m,"v")||se(m,"mrg")||se(m,"ref")||m.set)}o(H1,"_isConfigDefaults");function bh(m,v,E){var I,N=E.dfVal||r0;if(v&&E.fb){var $=E.fb;ge($)||($=[$]);for(var W=0;W<$[si];W++){var oe=$[W],me=v[oe];if(N(me)?I=me:m&&(me=m.cfg[oe],N(me)&&(I=me),m.set(m.cfg,Qr(oe),me)),N(I))break}}return!N(I)&&N(E.v)&&(I=E.v),I}o(bh,"_getDefault");function f2(m,v,E){var I=E;if(E&&H1(E)&&(I=bh(m,v,E)),I){H1(I)&&(I=f2(m,v,I));var N;ge(I)?(N=[],N[si]=I[si]):Hl(I)&&(N={}),N&&(U0(I,function($,W){W&&H1(W)&&(W=f2(m,v,W)),N[$]=W}),I=N)}return I}o(f2,"_resolveDefaultValue");function Ch(m,v,E,I){var N,$,W,oe=I,me,Ae,nt,Qt;H1(oe)?(N=oe.isVal,$=oe.set,nt=oe[nh],Qt=oe[$3],me=oe.mrg,Ae=oe.ref,!Ae&&Nt(Ae)&&(Ae=!!me),W=bh(m,v,oe)):W=I,Qt&&m[$3](v,E);var s0,e0=!0,Kt=v[E];(Kt||!de(Kt))&&(s0=Kt,e0=!1,N&&s0!==W&&!N(s0)&&(s0=W,e0=!0),$&&(s0=$(s0,W,v),e0=s0===W)),e0?W?s0=f2(m,v,W):s0=W:(Hl(s0)||ge(W))&&me&&W&&(Hl(W)||ge(W))&&U0(W,function(b0,a0){Ch(m,s0,b0,a0)}),m.set(v,E,s0),Ae&&m.ref(v,E),nt&&m[nh](v,E)}o(Ch,"_applyDefaultValue");var ff=Od("[[ai_dynCfg_1]]"),V1=Od("[[ai_blkDynCfg_1]]"),Eh=Od("[[ai_frcDynCfg_1]]");function c2(m){if(m){var v;if(ge(m)?(v=[],v[si]=m[si]):Hl(m)&&(v={}),v)return U0(m,function(E,I){v[E]=c2(I)}),v}return m}o(c2,"_cfgDeepCopy");function c5(m){if(m){var v=m[ff]||m;if(v.cfg&&(v.cfg===m||v.cfg[ff]===v))return v}return null}o(c5,"getDynamicConfigHandler");function u2(m){if(m&&(Hl(m)||ge(m)))try{m[V1]=!0}catch{}return m}o(u2,"blockDynamicConversion");function u5(m,v,E){var I=!1;return E&&!m[v.blkVal]&&(I=E[Eh],!I&&!E[V1]&&(I=Hl(E)||ge(E))),I}o(u5,"_canMakeDynamic");function Bg(m){ds("InvalidAccess:"+m)}o(Bg,"throwInvalidAccess");var Og=["push","pop","shift","unshift","splice"],d5=o(function(m,v,E,I){m&&m[V3](3,108,"".concat(E," [").concat(v,"] failed - ")+X0(I))},"_throwDynamicError");function tl(m,v,E){ge(v)&&yn(Og,function(I){var N=v[I];v[I]=function(){for(var $=[],W=0;W<arguments.length;W++)$[W]=arguments[W];var oe=N[zd](this,$);return Zf(m,v,E,"Patching"),oe}})}o(tl,"_patchArray");function Vu(m,v){var E=$r(m,v);return E&&E.get}o(Vu,"_getOwnPropGetter");function Fg(m,v,E,I){var N={n:E,h:[],trk:function(Ae){Ae&&Ae.fn&&(bf(N.h,Ae)===-1&&N.h[zi](Ae),m.trk(Ae,N))},clr:function(Ae){var nt=bf(N.h,Ae);nt!==-1&&N.h[Du](nt,1)}},$=!0,W=!1;function oe(){$&&(W=W||u5(oe,m,I),I&&!I[ff]&&W&&(I=Zf(m,I,E,"Converting")),$=!1);var Ae=m.act;return Ae&&N.trk(Ae),I}o(oe,"_getProperty"),oe[m.prop]={chng:function(){m.add(N)}};function me(Ae){if(I!==Ae){oe[m.ro]&&!m.upd&&Bg("["+E+"] is read-only:"+X0(v)),$&&(W=W||u5(oe,m,I),$=!1);var nt=W&&oe[m.rf];if(W)if(nt){U0(I,function(s0){I[s0]=Ae?Ae[s0]:Tf});try{U0(Ae,function(s0,e0){d2(m,I,s0,e0)}),Ae=I}catch(s0){d5((m.hdlr||{})[wo],E,"Assigning",s0),W=!1}}else I&&I[ff]&&U0(I,function(s0){var e0=Vu(I,s0);if(e0){var Kt=e0[m.prop];Kt&&Kt.chng()}});if(Ae!==I){var Qt=Ae&&u5(oe,m,Ae);!nt&&Qt&&(Ae=Zf(m,Ae,E,"Converting")),I=Ae,W=Qt}m.add(N)}}o(me,"_setProperty"),ji(v,N.n,{g:oe,s:me})}o(Fg,"_createDynamicProperty");function d2(m,v,E,I){if(v){var N=Vu(v,E),$=N&&!!N[m.prop];$?v[E]=I:Fg(m,v,E,I)}return v}o(d2,"_setDynamicProperty");function Cc(m,v,E,I){if(v){var N=Vu(v,E),$=N&&!!N[m.prop],W=I&&I[0],oe=I&&I[1],me=I&&I[2];if(!$){if(me)try{u2(v)}catch(Ae){d5((m.hdlr||{})[wo],E,"Blocking",Ae)}try{d2(m,v,E,v[E]),N=Vu(v,E)}catch(Ae){d5((m.hdlr||{})[wo],E,"State",Ae)}}W&&(N[m.rf]=W),oe&&(N[m.ro]=oe),me&&(N[m.blkVal]=!0)}return v}o(Cc,"_setDynamicPropertyState");function Zf(m,v,E,I){try{U0(v,function(N,$){d2(m,v,N,$)}),v[ff]||(An(v,ff,{get:function(){return m[E7]}}),tl(m,v,E))}catch(N){d5((m.hdlr||{})[wo],E,I,N)}return v}o(Zf,"_makeDynamicObject");var h5="[[ai_",zu="]]";function H7(m){var v,E=hc(h5+"get"+m.uid+zu),I=hc(h5+"ro"+m.uid+zu),N=hc(h5+"rf"+m.uid+zu),$=hc(h5+"blkVal"+m.uid+zu),W=hc(h5+"dtl"+m.uid+zu),oe=null,me=null,Ae;function nt(Kt,b0){var a0=Ae.act;try{Ae.act=Kt,Kt&&Kt[W]&&(yn(Kt[W],function(_0){_0.clr(Kt)}),Kt[W]=[]),b0({cfg:m.cfg,set:m.set.bind(m),setDf:m[Vd].bind(m),ref:m.ref.bind(m),rdOnly:m[nh].bind(m)})}catch(_0){var I0=m[wo];throw I0&&I0[V3](1,107,X0(_0)),_0}finally{Ae.act=a0||null}}o(nt,"_useHandler");function Qt(){if(oe){var Kt=oe;oe=null,me&&me[Lu](),me=null;var b0=[];if(yn(Kt,function(a0){if(a0&&(a0[W]&&(yn(a0[W],function(I0){I0.clr(a0)}),a0[W]=null),a0.fn))try{nt(a0,a0.fn)}catch(I0){b0[zi](I0)}}),oe)try{Qt()}catch(a0){b0[zi](a0)}b0[si]>0&&fh("Watcher error(s): ",b0)}}o(Qt,"_notifyWatchers");function s0(Kt){if(Kt&&Kt.h[si]>0){oe||(oe=[]),me||(me=mc(function(){me=null,Qt()},0));for(var b0=0;b0<Kt.h[si];b0++){var a0=Kt.h[b0];a0&&bf(oe,a0)===-1&&oe[zi](a0)}}}o(s0,"_addWatcher");function e0(Kt,b0){if(Kt){var a0=Kt[W]=Kt[W]||[];bf(a0,b0)===-1&&a0[zi](b0)}}return o(e0,"_trackHandler"),Ae=(v={prop:E,ro:I,rf:N},v[$3]=$,v[E7]=m,v.add=s0,v[ih]=Qt,v.use=nt,v.trk=e0,v),Ae}o(H7,"_createState");function V7(m,v){var E={fn:v,rm:function(){E.fn=null,m=null,v=null}};return m.use(E,v),E}o(V7,"_createAndUseHandler");function z7(m,v,E){var I,N=c5(v);if(N)return N;var $=If("dyncfg",!0),W=v&&E!==!1?v:c2(v),oe;function me(){oe[ih]()}o(me,"_notifyWatchers");function Ae(I0,_0,g0){try{I0=d2(oe,I0,_0,g0)}catch(N0){d5(m,_0,"Setting value",N0)}return I0[_0]}o(Ae,"_setValue");function nt(I0){return V7(oe,I0)}o(nt,"_watch");function Qt(I0,_0){oe.use(null,function(g0){var N0=oe.upd;try{Nt(_0)||(oe.upd=_0),I0(g0)}finally{oe.upd=N0}})}o(Qt,"_block");function s0(I0,_0){var g0;return Cc(oe,I0,_0,(g0={},g0[0]=!0,g0))[_0]}o(s0,"_ref");function e0(I0,_0){var g0;return Cc(oe,I0,_0,(g0={},g0[1]=!0,g0))[_0]}o(e0,"_rdOnly");function Kt(I0,_0){var g0;return Cc(oe,I0,_0,(g0={},g0[2]=!0,g0))[_0]}o(Kt,"_blkPropValue");function b0(I0,_0){return _0&&U0(_0,function(g0,N0){Ch(a0,I0,g0,N0)}),I0}o(b0,"_applyDefaults");var a0=(I={uid:null,cfg:W},I[wo]=m,I[ih]=me,I.set=Ae,I[Vd]=b0,I[t1]=nt,I.ref=s0,I[nh]=e0,I[$3]=Kt,I._block=Qt,I);return ji(a0,"uid",{c:!1,e:!1,w:!1,v:$}),oe=H7(a0),Zf(oe,W,"config","Creating"),a0}o(z7,"_createDynamicHandler");function rC(m,v){m?(m[H3](v),m[V3](2,108,v)):Bg(v)}o(rC,"_logInvalidAccess");function rl(m,v,E,I){var N=z7(E,m||{},I);return v&&N[Vd](N.cfg,v),N}o(rl,"createDynamicConfig");function g5(m,v,E){var I=m[ff]||m;return I.cfg&&(I.cfg===m||I.cfg[ff]===I)?I[t1](v):(rC(E,bg+X0(m)),rl(m,null,E)[t1](v))}o(g5,"onConfigChange");function m5(m,v){if(m&&m[Ef])return m[Ef](v)}o(m5,"runTargetUnload");function G7(m,v,E){var I;return E||(I=t5(function(N){E=N})),m&&Zc(m)>0?ch(m5(m[0],v),function(){G7(Z6(m,1),v,E)}):E(),I}o(G7,"doUnloadAll");var K7=500;function Mg(m,v,E){return!m&&de(m)?v:m0(m)?m:Qr(m)[j3]()==="true"}o(Mg,"_stringToBoolOrDefault");function nC(m){return{mrg:!0,v:m}}o(nC,"cfgDfMerge");function h2(m,v,E){return{fb:E,isVal:m,v}}o(h2,"cfgDfValidate");function Ec(m,v){return{fb:v,set:Mg,v:!!m}}o(Ec,"cfgDfBoolean");var Ug=[qu,j1,r2,El],Th=null,Sh;function iC(m,v){return function(){var E=arguments,I=Y7(v);if(I){var N=I.listener;N&&N[m]&&N[m][zd](N,E)}}}o(iC,"_listenerProxyFunc");function W7(){var m=ka("Microsoft");return m&&(Th=m.ApplicationInsights),Th}o(W7,"_getExtensionNamespace");function Y7(m){var v=Th;return!v&&m.disableDbgExt!==!0&&(v=Th||W7()),v?v.ChromeDbgExt:null}o(Y7,"getDebugExt");function sC(m){if(!Sh){Sh={};for(var v=0;v<Ug[si];v++)Sh[Ug[v]]=iC(Ug[v],m)}return Sh}o(sC,"getDebugListener");var p5,J7="warnToConsole",g2="AI (Internal): ",oC="AI: ",aC="AITR_",z1={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},G1=(p5={},p5[0]=null,p5[1]="errorToConsole",p5[2]=J7,p5[3]="debugToConsole",p5);function qg(m){return m?'"'+m[Fu](/\"/g,xi)+'"':xi}o(qg,"_sanitizeDiagnosticText");function m2(m,v){var E=ph();if(E){var I="log";E[m]&&(I=m),Zt(E[I])&&E[I](v)}}o(m2,"_logToConsole");var y5=function(){function m(v,E,I,N){I===void 0&&(I=!1);var $=this;$[oh]=v,$[Ou]=(I?oC:g2)+v;var W=xi;lf()&&(W=xc().stringify(N));var oe=(E?" message:"+qg(E):xi)+(N?" props:"+qg(W):xi);$[Ou]+=oe}return o(m,"_InternalLogMessage"),m.dataType="MessageData",m}();function p2(m,v){return(m||{})[wo]||new wh(v)}o(p2,"safeGetLogger");var wh=function(){function m(v){this.identifier="DiagnosticLogger",this.queue=[];var E=0,I={},N,$,W,oe,me;Vl(m,this,function(Ae){me=Qt(v||{}),Ae.consoleLoggingLevel=function(){return N},Ae[V3]=function(Kt,b0,a0,I0,_0){_0===void 0&&(_0=!1);var g0=new y5(b0,a0,_0,I0);if(oe)throw X0(g0);var N0=G1[Kt]||J7;if(Nt(g0[Ou]))e0("throw"+(Kt===1?"Critical":"Warning"),g0);else{if(_0){var Tn=+g0[oh];!I[Tn]&&N>=Kt&&(Ae[N0](g0[Ou]),I[Tn]=!0)}else N>=Kt&&Ae[N0](g0[Ou]);nt(Kt,g0)}},Ae.debugToConsole=function(Kt){m2("debug",Kt),e0("warning",Kt)},Ae[H3]=function(Kt){m2("warn",Kt),e0("warning",Kt)},Ae.errorToConsole=function(Kt){m2("error",Kt),e0("error",Kt)},Ae.resetInternalMessageCount=function(){E=0,I={}},Ae[U1]=nt,Ae[Ef]=function(Kt){me&&me.rm(),me=null};function nt(Kt,b0){if(!s0()){var a0=!0,I0=aC+b0[oh];if(I[I0]?a0=!1:I[I0]=!0,a0&&(Kt<=$&&(Ae.queue[zi](b0),E++,e0(Kt===1?"error":"warn",b0)),E===W)){var _0="Internal events throttle limit per PageView reached for this app.",g0=new y5(23,_0,!1);Ae.queue[zi](g0),Kt===1?Ae.errorToConsole(_0):Ae[H3](_0)}}}o(nt,"_logInternalMessage");function Qt(Kt){return g5(rl(Kt,z1,Ae).cfg,function(b0){var a0=b0.cfg;N=a0[w7],$=a0.loggingLevelTelemetry,W=a0.maxMessageLimit,oe=a0.enableDebug})}o(Qt,"_setDefaultsFromConfig");function s0(){return E>=W}o(s0,"_areInternalMessagesThrottled");function e0(Kt,b0){var a0=Y7(v||{});a0&&a0[n1]&&a0[n1](Kt,b0)}o(e0,"_debugExtMsg")})}return o(m,"DiagnosticLogger"),m.__ieDyn=1,m}();function X7(m){return m||new wh}o(X7,"_getLogger");function rr(m,v,E,I,N,$){$===void 0&&($=!1),X7(m)[V3](v,E,I,N,$)}o(rr,"_throwInternal");function v5(m,v){X7(m)[H3](v)}o(v5,"_warnToConsole");var Ih,K1,Z7="toGMTString",y2="toUTCString",jg="cookie",$g="expires",Q7="isCookieUseDisabled",Hg="disableCookiesUsage",ep="_ckMgr",Ah=null,Vg=null,tp=null,Qf,rp={},np={},lC=(Ih={cookieCfg:nC((K1={},K1[hh]={fb:"cookieDomain",dfVal:Tg},K1.path={fb:"cookiePath",dfVal:Tg},K1.enabled=Tf,K1.ignoreCookies=Tf,K1.blockedCookies=Tf,K1)),cookieDomain:Tf,cookiePath:Tf},Ih[Hg]=Tf,Ih);function zg(){!Qf&&(Qf=af(function(){return Au()}))}o(zg,"_getDoc");function s1(m){return m?m.isEnabled():!0}o(s1,"_isMgrEnabled");function Sl(m,v){return v&&m&&ge(m.ignoreCookies)?bf(m.ignoreCookies,v)!==-1:!1}o(Sl,"_isIgnoredCookie");function Gg(m,v){return v&&m&&ge(m.blockedCookies)&&bf(m.blockedCookies,v)!==-1?!0:Sl(m,v)}o(Gg,"_isBlockedCookie");function Kg(m,v){var E=v[Bu];if(de(E)){var I=void 0;Nt(m[Q7])||(I=!m[Q7]),Nt(m[Hg])||(I=!m[Hg]),E=I}return E}o(Kg,"_isCfgEnabled");function Wg(m,v){var E,I,N,$,W,oe,me,Ae,nt;m=rl(m||np,null,v).cfg,W=g5(m,function(s0){s0[Vd](s0.cfg,lC),I=s0.ref(s0.cfg,"cookieCfg"),N=I[_g]||"/",$=I[hh],oe=Kg(m,I)!==!1,me=I.getCookie||fC,Ae=I.setCookie||Xg,nt=I.delCookie||Xg},v);var Qt=(E={isEnabled:function(){var s0=Kg(m,I)!==!1&&oe&&Yg(v),e0=np[ep];return s0&&e0&&Qt!==e0&&(s0=s1(e0)),s0},setEnabled:function(s0){oe=s0!==!1,I[Bu]=s0},set:function(s0,e0,Kt,b0,a0){var I0=!1;if(s1(Qt)&&!Gg(I,s0)){var _0={},g0=Sa(e0||xi),N0=Ud(g0,";");if(N0!==-1&&(g0=Sa(he(e0,N0)),_0=Ph(X(e0,N0+1))),$1(_0,hh,b0||$,K0,Nt),!de(Kt)){var Tn=Pn();if(Nt(_0[$g])){var Fi=N1(),fo=Fi+Kt*1e3;if(fo>0){var ls=new Date;ls.setTime(fo),$1(_0,$g,Jg(ls,Tn?Z7:y2)||Jg(ls,Tn?Z7:y2)||xi,K0)}}Tn||$1(_0,"max-age",xi+Kt,null,Nt)}var ol=Ng();ol&&ol.protocol==="https:"&&($1(_0,"secure",null,null,Nt),Vg===null&&(Vg=!Gu((R1()||{})[Yd])),Vg&&$1(_0,"SameSite","None",null,Nt)),$1(_0,_g,a0||N,null,Nt),Ae(s0,ip(g0,_0)),I0=!0}return I0},get:function(s0){var e0=xi;return s1(Qt)&&!Sl(I,s0)&&(e0=me(s0)),e0},del:function(s0,e0){var Kt=!1;return s1(Qt)&&(Kt=Qt.purge(s0,e0)),Kt},purge:function(s0,e0){var Kt,b0=!1;if(Yg(v)){var a0=(Kt={},Kt[_g]=e0||"/",Kt[$g]="Thu, 01 Jan 1970 00:00:01 GMT",Kt);Pn()||(a0["max-age"]="0"),nt(s0,ip(xi,a0)),b0=!0}return b0}},E[Ef]=function(s0){W&&W.rm(),W=null},E);return Qt[ep]=Qt,Qt}o(Wg,"createCookieMgr");function Yg(m){if(Ah===null){Ah=!1,!Qf&&zg();try{var v=Qf.v||{};Ah=v[jg]!==void 0}catch(E){rr(m,2,68,"Cannot access document.cookie - "+Tl(E),{exception:X0(E)})}}return Ah}o(Yg,"areCookiesSupported");function Ph(m){var v={};if(m&&m[si]){var E=Sa(m)[Jd](";");yn(E,function(I){if(I=Sa(I||xi),I){var N=Ud(I,"=");N===-1?v[I]=null:v[Sa(he(I,N))]=Sa(X(I,N+1))}})}return v}o(Ph,"_extractParts");function Jg(m,v){return Zt(m[v])?m[v]():null}o(Jg,"_formatDate");function ip(m,v){var E=m||xi;return U0(v,function(I,N){E+="; "+I+(de(N)?xi:"="+N)}),E}o(ip,"_formatCookieValue");function fC(m){var v=xi;if(!Qf&&zg(),Qf.v){var E=Qf.v[jg]||xi;tp!==E&&(rp=Ph(E),tp=E),v=Sa(rp[m]||xi)}return v}o(fC,"_getCookieValue");function Xg(m,v){!Qf&&zg(),Qf.v&&(Qf.v[jg]=m+"="+v)}o(Xg,"_setCookieValue");function Gu(m){return v0(m)?!!(el(m,"CPU iPhone OS 12")||el(m,"iPad; CPU OS 12")||el(m,"Macintosh; Intel Mac OS X 10_14")&&el(m,"Version/")&&el(m,"Safari")||el(m,"Macintosh; Intel Mac OS X 10_14")&&V4(m,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||el(m,"Chrome/5")||el(m,"Chrome/6")||el(m,"UnrealEngine")&&!el(m,"Chrome")||el(m,"UCBrowser/12")||el(m,"UCBrowser/11")):!1}o(Gu,"uaDisallowsSameSiteNone");var cC={perfEvtsSendAll:!1};function x5(m,v,E,I){yn(m,function(N){if(N&&N[v])if(E)mc(function(){return I(N)},0);else try{I(N)}catch{}})}o(x5,"_runListeners");var uC=function(){function m(v){this.listeners=[];var E,I,N=[],$=rl(v,cC);I=$[t1](function(W){E=!!W.cfg.perfEvtsSendAll}),Vl(m,this,function(W){ji(W,"listeners",{g:function(){return N}}),W[K3]=function(oe){N[zi](oe)},W[W3]=function(oe){for(var me=bf(N,oe);me>-1;)N[Du](me,1),me=bf(N,oe)},W[qu]=function(oe){x5(N,qu,!0,function(me){me[qu](oe)})},W[j1]=function(oe,me){x5(N,j1,!0,function(Ae){Ae[j1](oe,me)})},W[r2]=function(oe,me){x5(N,r2,me,function(Ae){Ae[r2](oe,me)})},W[El]=function(oe){oe&&(E||!oe[lh]())&&x5(N,El,!1,function(me){oe[Wd]?mc(function(){return me[El](oe)},0):me[El](oe)})},W[Ef]=function(oe){var me=o(function(){I&&I.rm(),I=null,N=[]},"_finishUnload"),Ae;if(x5(N,"unload",!1,function(nt){var Qt=nt[Ef](oe);Qt&&(Ae||(Ae=[]),Ae[zi](Qt))}),Ae)return t5(function(nt){return ch(N7(Ae),function(){me(),nt()})});me()}})}return o(m,"NotificationManager"),m.__ieDyn=1,m}(),_5="ctx",b5="ParentContextKey",Ku="ChildrenContextKey",dC=null,v2=function(){function m(v,E,I){var N=this;if(N.start=N1(),N[M1]=v,N[Wd]=I,N[lh]=function(){return!1},Zt(E)){var $;ji(N,"payload",{g:function(){return!$&&Zt(E)&&($=E(),E=null),$}})}N[Xd]=function(W){return W?W===m[b5]||W===m[Ku]?N[W]:(N[_5]||{})[W]:null},N[vc]=function(W,oe){if(W)if(W===m[b5])N[W]||(N[lh]=function(){return!0}),N[W]=oe;else if(W===m[Ku])N[W]=oe;else{var me=N[_5]=N[_5]||{};me[W]=oe}},N[Z3]=function(){var W=0,oe=N[Xd](m[Ku]);if(ge(oe))for(var me=0;me<oe[si];me++){var Ae=oe[me];Ae&&(W+=Ae[Gd])}N[Gd]=N1()-N.start,N.exTime=N[Gd]-W,N[Z3]=function(){}}}return o(m,"PerfEvent"),m.ParentContextKey="parent",m.ChildrenContextKey="childEvts",m}(),Zg=function(){function m(v){this.ctx={},Vl(m,this,function(E){E.create=function(I,N,$){return new v2(I,N,$)},E.fire=function(I){I&&(I[Z3](),v&&Zt(v[El])&&v[El](I))},E[vc]=function(I,N){if(I){var $=E[_5]=E[_5]||{};$[I]=N}},E[Xd]=function(I){return(E[_5]||{})[I]}})}return o(m,"PerfManager"),m.__ieDyn=1,m}(),Qg="CoreUtils.doPerf";function sp(m,v,E,I,N){if(m){var $=m;if($[n2]&&($=$[n2]()),$){var W=void 0,oe=$[Xd](Qg);try{if(W=$.create(v(),I,N),W){if(oe&&W[vc]&&(W[vc](v2[b5],oe),oe[Xd]&&oe[vc])){var me=oe[Xd](v2[Ku]);me||(me=[],oe[vc](v2[Ku],me)),me[zi](W)}return $[vc](Qg,W),E(W)}}catch(Ae){W&&W[vc]&&W[vc]("exception",Ae)}finally{W&&$.fire(W),$[vc](Qg,oe)}}}return E()}o(sp,"doPerf");function x2(){return dC}o(x2,"getGblPerfMgr");var hC="00000000000000000000000000000000",em="0000000000000000";function op(m,v,E){return m&&m[si]===v&&m!==E?!!m.match(/^[\da-f]*$/i):!1}o(op,"_isValid");function gC(m){return op(m,32,hC)}o(gC,"isValidTraceId");function mC(m){return op(m,16,em)}o(mC,"isValidSpanId");var pC=bc("plugin");function Wu(m){return pC.get(m,"state",{},!0)}o(Wu,"_getPluginState");function ap(m,v){for(var E=[],I=null,N=m[zl](),$;N;){var W=N[G3]();if(W){I&&I[J3]&&W[Sf]&&I[J3](W),$=Wu(W);var oe=!!$[pc];W[pc]&&(oe=W[pc]()),oe||E[zi](W),I=W,N=N[zl]()}}yn(E,function(me){var Ae=m[Yo]();me[z3](m.getCfg(),Ae,v,m[zl]()),$=Wu(me),!me[Yo]&&!$[Yo]&&($[Yo]=Ae),$[pc]=!0,delete $[r1]})}o(ap,"initializePlugins");function tm(m){return m.sort(function(v,E){var I=0;if(E){var N=E[Sf];v[Sf]?I=N?v[n5]-E[n5]:1:N&&(I=-1)}else I=v?1:-1;return I})}o(tm,"sortPlugins");function yC(m){var v={};return{getName:function(){return v[M1]},setName:function(E){m&&m.setName(E),v[M1]=E},getTraceId:function(){return v[gg]},setTraceId:function(E){m&&m.setTraceId(E),gC(E)&&(v[gg]=E)},getSpanId:function(){return v[I7]},setSpanId:function(E){m&&m.setSpanId(E),mC(E)&&(v[I7]=E)},getTraceFlags:function(){return v[Zd]},setTraceFlags:function(E){m&&m.setTraceFlags(E),v[Zd]=E}}}o(yC,"createDistributedTraceContext");var vC="TelemetryPluginChain",o1="_hasRun",C5="_getTelCtx",Xo=0;function Rh(m,v,E){for(;m;){if(m[G3]()===E)return m;m=m[zl]()}return tc([E],v.config||{},v)}o(Rh,"_getNextProxyStart");function W1(m,v,E,I){var N=null,$=[];v||(v=rl({},null,E[wo])),I!==null&&(N=I?Rh(m,E,I):m);var W={_next:me,ctx:{core:function(){return E},diagLog:function(){return p2(E,v.cfg)},getCfg:function(){return v.cfg},getExtCfg:nt,getConfig:Qt,hasNext:function(){return!!N},getNext:function(){return N},setNext:function(e0){N=e0},iterate:s0,onComplete:oe}};function oe(e0,Kt){for(var b0=[],a0=2;a0<arguments.length;a0++)b0[a0-2]=arguments[a0];e0&&$[zi]({func:e0,self:Nt(Kt)?W.ctx:Kt,args:b0})}o(oe,"_addOnComplete");function me(){var e0=N;if(N=e0?e0[zl]():null,!e0){var Kt=$;Kt&&Kt[si]>0&&(yn(Kt,function(b0){try{b0.func.call(b0.self,b0.args)}catch(a0){rr(E[wo],2,73,"Unexpected Exception during onComplete - "+X0(a0))}}),$=[])}return e0}o(me,"_moveNext");function Ae(e0,Kt){var b0=null,a0=v.cfg;if(a0&&e0){var I0=a0[Uu];!I0&&Kt&&(I0={}),a0[Uu]=I0,I0=v.ref(a0,Uu),I0&&(b0=I0[e0],!b0&&Kt&&(b0={}),I0[e0]=b0,b0=v.ref(I0,e0))}return b0}o(Ae,"_getExtCfg");function nt(e0,Kt){var b0=Ae(e0,!0);return Kt&&U0(Kt,function(a0,I0){if(de(b0[a0])){var _0=v.cfg[a0];(_0||!de(_0))&&(b0[a0]=_0)}Ch(v,b0,a0,I0)}),v[Vd](b0,Kt)}o(nt,"_resolveExtCfg");function Qt(e0,Kt,b0){b0===void 0&&(b0=!1);var a0,I0=Ae(e0,!1),_0=v.cfg;return I0&&(I0[Kt]||!de(I0[Kt]))?a0=I0[Kt]:(_0[Kt]||!de(_0[Kt]))&&(a0=_0[Kt]),a0||!de(a0)?a0:b0}o(Qt,"_getConfig");function s0(e0){for(var Kt;Kt=W._next();){var b0=Kt[G3]();b0&&e0(b0)}}return o(s0,"_iterateChain"),W}o(W1,"_createInternalContext");function Y1(m,v,E,I){var N=rl(v),$=W1(m,N,E,I),W=$.ctx;function oe(Ae){var nt=$._next();return nt&&nt[Sf](Ae,W),!nt}o(oe,"_processNext");function me(Ae,nt){return Ae===void 0&&(Ae=null),ge(Ae)&&(Ae=tc(Ae,N.cfg,E,nt)),Y1(Ae||W[zl](),N.cfg,E,nt)}return o(me,"_createNew"),W[bl]=oe,W[Yf]=me,W}o(Y1,"createProcessTelemetryContext");function ec(m,v,E){var I=rl(v.config),N=W1(m,I,v,E),$=N.ctx;function W(me){var Ae=N._next();return Ae&&Ae[Ef]($,me),!Ae}o(W,"_processNext");function oe(me,Ae){return me===void 0&&(me=null),ge(me)&&(me=tc(me,I.cfg,v,Ae)),ec(me||$[zl](),v,Ae)}return o(oe,"_createNew"),$[bl]=W,$[Yf]=oe,$}o(ec,"createProcessTelemetryUnloadContext");function a1(m,v,E){var I=rl(v.config),N=W1(m,I,v,E),$=N.ctx;function W(me){return $.iterate(function(Ae){Zt(Ae[Y3])&&Ae[Y3]($,me)})}o(W,"_processNext");function oe(me,Ae){return me===void 0&&(me=null),ge(me)&&(me=tc(me,I.cfg,v,Ae)),a1(me||$[zl](),v,Ae)}return o(oe,"_createNew"),$[bl]=W,$[Yf]=oe,$}o(a1,"createProcessTelemetryUpdateContext");function tc(m,v,E,I){var N=null,$=!I;if(ge(m)&&m[si]>0){var W=null;yn(m,function(oe){if(!$&&I===oe&&($=!0),$&&oe&&Zt(oe[Sf])){var me=lp(oe,v,E);N||(N=me),W&&W._setNext(me),W=me}})}return I&&!N?tc([I],v,E):N}o(tc,"createTelemetryProxyChain");function lp(m,v,E){var I=null,N=Zt(m[Sf]),$=Zt(m[J3]),W;m?W=m[F1]+"-"+m[n5]+"-"+Xo++:W="Unknown-0-"+Xo++;var oe={getPlugin:function(){return m},getNext:function(){return I},processTelemetry:nt,unload:Qt,update:s0,_id:W,_setNext:function(e0){I=e0}};function me(){var e0;return m&&Zt(m[C5])&&(e0=m[C5]()),e0||(e0=Y1(oe,v,E)),e0}o(me,"_getTelCtx");function Ae(e0,Kt,b0,a0,I0){var _0=!1,g0=m?m[F1]:vC,N0=e0[o1];return N0||(N0=e0[o1]={}),e0.setNext(I),m&&sp(e0[Yo](),function(){return g0+":"+b0},function(){N0[W]=!0;try{var Tn=I?I._id:xi;Tn&&(N0[Tn]=!1),_0=Kt(e0)}catch(fo){var Fi=I?N0[I._id]:!0;Fi&&(_0=!0),(!I||!Fi)&&rr(e0[n1](),1,73,"Plugin ["+g0+"] failed during "+b0+" - "+X0(fo)+", run flags: "+X0(N0))}},a0,I0),_0}o(Ae,"_processChain");function nt(e0,Kt){Kt=Kt||me();function b0(a0){if(!m||!N)return!1;var I0=Wu(m);return I0[r1]||I0[Cl]?!1:($&&m[J3](I),m[Sf](e0,a0),!0)}o(b0,"_callProcessTelemetry"),Ae(Kt,b0,"processTelemetry",function(){return{item:e0}},!e0.sync)||Kt[bl](e0)}o(nt,"_processTelemetry");function Qt(e0,Kt){function b0(){var a0=!1;if(m){var I0=Wu(m),_0=m[Yo]||I0[Yo];m&&(!_0||_0===e0.core())&&!I0[r1]&&(I0[Yo]=null,I0[r1]=!0,I0[pc]=!1,m[r1]&&m[r1](e0,Kt)===!0&&(a0=!0))}return a0}o(b0,"_callTeardown"),Ae(e0,b0,"unload",function(){},Kt[Wd])||e0[bl](Kt)}o(Qt,"_unloadPlugin");function s0(e0,Kt){function b0(){var a0=!1;if(m){var I0=Wu(m),_0=m[Yo]||I0[Yo];m&&(!_0||_0===e0.core())&&!I0[r1]&&m[Y3]&&m[Y3](e0,Kt)===!0&&(a0=!0)}return a0}o(b0,"_callUpdate"),Ae(e0,b0,"update",function(){},!1)||e0[bl](Kt)}return o(s0,"_updatePlugin"),be(oe)}o(lp,"createTelemetryPluginProxy");function rm(){var m=[];function v(I){I&&m[zi](I)}o(v,"_addHandler");function E(I,N){yn(m,function($){try{$(I,N)}catch(W){rr(I[n1](),2,73,"Unexpected error calling unload handler - "+X0(W))}}),m=[]}return o(E,"_runHandlers"),{add:v,run:E}}o(rm,"createUnloadHandlerContainer");function fp(){var m=[];function v(I){var N=m;m=[],yn(N,function($){try{($.rm||$.remove).call($)}catch(W){rr(I,2,73,"Unloading:"+X0(W))}})}o(v,"_doUnload");function E(I){I&&k1(m,I)}return o(E,"_addHook"),{run:v,add:E}}o(fp,"createUnloadHookContainer");var nm,J1="getPlugin",xC=(nm={},nm[Uu]={isVal:Tg,v:{}},nm),im=function(){function m(){var v=this,E,I,N,$,W;Ae(),Vl(m,v,function(nt){nt[z3]=function(Qt,s0,e0,Kt){me(Qt,s0,Kt),E=!0},nt[r1]=function(Qt,s0){var e0,Kt=nt[Yo];if(!Kt||Qt&&Kt!==Qt[Yo]())return;var b0,a0=!1,I0=Qt||ec(null,Kt,N&&N[J1]?N[J1]():N),_0=s0||(e0={reason:0},e0[Wd]=!1,e0);function g0(){a0||(a0=!0,$.run(I0,s0),W.run(I0[n1]()),b0===!0&&I0[bl](_0),Ae())}return o(g0,"_unloadCallback"),!nt[ah]||nt[ah](I0,_0,g0)!==!0?g0():b0=!0,b0},nt[Y3]=function(Qt,s0){var e0=nt[Yo];if(!e0||Qt&&e0!==Qt[Yo]())return;var Kt,b0=!1,a0=Qt||a1(null,e0,N&&N[J1]?N[J1]():N),I0=s0||{reason:0};function _0(){b0||(b0=!0,me(a0.getCfg(),a0.core(),a0[zl]()))}return o(_0,"_updateCallback"),!nt._doUpdate||nt._doUpdate(a0,I0,_0)!==!0?_0():Kt=!0,Kt},i5(nt,"_addUnloadCb",function(){return $},"add"),i5(nt,"_addHook",function(){return W},"add"),ji(nt,"_unloadHooks",{g:function(){return W}})}),v[n1]=function(nt){return oe(nt)[n1]()},v[pc]=function(){return E},v.setInitialized=function(nt){E=nt},v[J3]=function(nt){N=nt},v[bl]=function(nt,Qt){Qt?Qt[bl](nt):N&&Zt(N[Sf])&&N[Sf](nt,null)},v._getTelCtx=oe;function oe(nt){nt===void 0&&(nt=null);var Qt=nt;if(!Qt){var s0=I||Y1(null,{},v[Yo]);N&&N[J1]?Qt=s0[Yf](null,N[J1]):Qt=s0[Yf](null,N)}return Qt}o(oe,"_getTelCtx");function me(nt,Qt,s0){rl(nt,xC,p2(Qt)),!s0&&Qt&&(s0=Qt[dg]()[zl]());var e0=N;N&&N[J1]&&(e0=N[J1]()),v[Yo]=Qt,I=Y1(s0,nt,Qt,e0)}o(me,"_setDefaults");function Ae(){E=!1,v[Yo]=null,I=null,N=null,W=fp(),$=rm()}o(Ae,"_initDefaults")}return o(m,"BaseTelemetryPlugin"),m.__ieDyn=1,m}();function _C(m,v,E){var I={id:v,fn:E};k1(m,I);var N={remove:function(){yn(m,function($,W){if($.id===I.id)return m[Du](W,1),-1})}};return N}o(_C,"_addInitializer");function bC(m,v,E){for(var I=!1,N=m[si],$=0;$<N;++$){var W=m[$];if(W)try{if(W.fn[zd](null,[v])===!1){I=!0;break}}catch(oe){rr(E,2,64,"Telemetry initializer failed: "+Tl(oe),{exception:X0(oe)},!0)}}return!I}o(bC,"_runInitializers");var CC=function(m){q3(v,m);function v(){var E=m.call(this)||this;E.identifier="TelemetryInitializerPlugin",E.priority=199;var I,N;$(),Vl(v,E,function(W,oe){W.addTelemetryInitializer=function(me){return _C(N,I++,me)},W[Sf]=function(me,Ae){bC(N,me,Ae?Ae[n1]():W[n1]())&&W[bl](me,Ae)},W[ah]=function(){$()}});function $(){I=0,N=[]}return o($,"_initDefaults"),E}return o(v,"TelemetryInitializerPlugin"),v.__ieDyn=1,v}(im),X1,b="Plugins must provide initialize method",A="_notificationManager",R="SDK is still unloading...",F="SDK is not initialized",fe=mn((X1={cookieCfg:{}},X1[r5]={rdOnly:!0,ref:!0,v:[]},X1[Mu]={rdOnly:!0,ref:!0,v:[]},X1[Uu]={ref:!0,v:{}},X1[xg]=Tf,X1.loggingLevelConsole=0,X1.diagnosticLogInterval=Tf,X1));function $e(m,v){return new Zg(v)}o($e,"_createPerfManager");function Ct(m,v,E){var I,N=[],$=[],W={};return yn(E,function(oe){(de(oe)||de(oe[z3]))&&Li(b);var me=oe[n5],Ae=oe[F1];oe&&me&&(de(W[me])?W[me]=Ae:v5(m,"Two extensions have same priority #"+me+" - "+W[me]+", "+Ae)),!me||me<v?N[zi](oe):$[zi](oe)}),I={},I[Yo]=N,I[Mu]=$,I}o(Ct,"_validateExtensions");function Gt(m,v){var E=!1;return yn(v,function(I){if(I===m)return E=!0,-1}),E}o(Gt,"_isPluginPresent");function t0(m,v,E,I){E&&U0(E,function(N,$){I&&Hl($)&&Hl(v[N])&&t0(m,v[N],$,I),I&&Hl($)&&Hl(v[N])?t0(m,v[N],$,I):m.set(v,N,$)})}o(t0,"_deepMergeConfig");function p0(m,v){var E=null,I=-1;return yn(m,function(N,$){if(N.w===v)return E=N,I=$,-1}),{i:I,l:E}}o(p0,"_findWatcher");function B0(m,v){var E=p0(m,v).l;return E||(E={w:v,rm:function(){var I=p0(m,v);I.i!==-1&&m[Du](I.i,1)}},m[zi](E)),E}o(B0,"_addDelayedCfgListener");function Rn(m,v,E){yn(v,function(I){var N=g5(m,I.w,E);delete I.w,I.rm=function(){N.rm()}})}o(Rn,"_registerDelayedCfgListener");var In=function(){function m(){var v,E,I,N,$,W,oe,me,Ae,nt,Qt,s0,e0,Kt,b0,a0,I0,_0,g0,N0,Tn,Fi,fo,ls,ol,La,Tm,k5;Vl(m,this,function(F0){N5(),F0._getDbgPlgTargets=function(){return[fo]},F0[pc]=function(){return E},F0[z3]=function(u0,H0,wn,Zr){e0&&Li(R),F0[pc]()&&Li("Core cannot be initialized more than once"),v=rl(u0,fe,wn||F0[wo],!1),u0=v.cfg,rd(v[t1](function(Ti){Tn=Ti.cfg.instrumentationKey;var Ba=Ti.ref(Ti.cfg,Uu);U0(Ba,function(Ya){Ti.ref(Ba,Ya)}),de(Tn)&&Li("Please provide instrumentation key")})),$=Zr,QC(),eE(),F0[wo]=wn;var hn=u0[r5];if(nt=[],nt[zi].apply(nt,C7(C7([],H0,!1),hn)),Qt=u0[Mu],Tc(null),(!s0||s0[si]===0)&&Li("No "+Mu+" available"),Qt&&Qt[si]>1){var is=F0[G3]("TeeChannelController");(!is||!is.plugin)&&rr(I,1,28,"TeeChannel required")}Rn(u0,Fi,I),Fi=null,E=!0,F0.releaseQueue(),F0[T7]()},F0.getChannels=function(){var u0=[];return s0&&yn(s0,function(H0){u0[zi](H0)}),be(u0)},F0.track=function(u0){sp(F0[n2](),function(){return"AppInsightsCore:track"},function(){u0===null&&(wm(u0),Li("Invalid telemetry item")),!u0[M1]&&de(u0[M1])&&(wm(u0),Li("telemetry name required")),u0.iKey=u0.iKey||Tn,u0[Gd]=u0[Gd]||i2(new Date),u0.ver=u0.ver||"4.0",!e0&&F0[pc]()?td()[bl](u0):N[zi](u0)},function(){return{item:u0}},!u0.sync)},F0[dg]=td,F0[Cf]=function(){return $||($=new uC(v.cfg),F0[A]=$),$},F0[K3]=function(u0){F0[Cf]()[K3](u0)},F0[W3]=function(u0){$&&$[W3](u0)},F0.getCookieMgr=function(){return me||(me=Wg(v.cfg,F0[wo])),me},F0.setCookieMgr=function(u0){me!==u0&&(m5(me,!1),me=u0)},F0[n2]=function(){return!W&&!oe&&rd(v[t1](function(u0){if(u0.cfg.enablePerfMgr){var H0=u0.cfg[xg];Zt(H0)&&(oe=H0(F0,F0[Cf]()))}})),W||oe||x2()},F0.setPerfMgr=function(u0){W=u0},F0.eventCnt=function(){return N[si]},F0.releaseQueue=function(){if(E&&N[si]>0){var u0=N;N=[],yn(u0,function(H0){td()[bl](H0)})}},F0[T7]=function(u0){return b0=u0||null,k5=!1,La&&La[Lu](),u1(!0)};function u1(u0){if((!La||!La[Bu])&&!k5){var H0=u0||I&&I.queue[si]>0;H0&&(Tm||(Tm=!0,rd(v[t1](function(wn){var Zr=wn.cfg.diagnosticLogInterval;(!Zr||!(Zr>0))&&(Zr=1e4);var hn=!1;La&&(hn=La[Bu],La[Lu]()),La=v7(j2,Zr),La.unref(),La[Bu]=hn}))),La[Bu]=!0)}return La}o(u1,"_startLogPoller"),F0[Kd]=function(){k5=!0,La&&La[Lu](),j2()},wg(F0,function(){return Kt},["addTelemetryInitializer"]),F0[Ef]=function(u0,H0,wn){var Zr;u0===void 0&&(u0=!0),E||Li(F),e0&&Li(R);var hn=(Zr={reason:50},Zr[Wd]=u0,Zr.flushComplete=!1,Zr),is;u0&&!H0&&(is=t5(function(Ya){H0=Ya}));var Ti=ec(S0(),F0);Ti[sh](function(){_0.run(F0[wo]),G7([me,$,I],u0,function(){N5(),H0&&H0(hn)})},F0);function Ba(Ya){hn.flushComplete=Ya,e0=!0,I0.run(Ti,hn),F0[Kd](),Ti[bl](hn)}return o(Ba,"_doUnload"),j2(),Sm(u0,Ba,6,wn),is},F0[G3]=$h,F0.addPlugin=function(u0,H0,wn,Zr){if(!u0){Zr&&Zr(!1),Np(b);return}var hn=$h(u0[F1]);if(hn&&!H0){Zr&&Zr(!1),Np("Plugin ["+u0[F1]+"] is already loaded!");return}var is={reason:16};function Ti(Pf){nt[zi](u0),is.added=[u0],Tc(is),Zr&&Zr(!0)}if(o(Ti,"_addPlugin"),hn){var Ba=[hn.plugin],Ya={reason:2,isAsync:!!wn};Rp(Ba,Ya,function(Pf){Pf?(is.removed=Ba,is.reason|=32,Ti()):Zr&&Zr(!1)})}else Ti()},F0.updateCfg=function(u0,H0){H0===void 0&&(H0=!0);var wn;if(F0[pc]()){wn={reason:1,cfg:v.cfg,oldCfg:g7({},v.cfg),newConfig:g7({},u0),merge:H0},u0=wn.newConfig;var Zr=v.cfg;u0[r5]=Zr[r5],u0[Mu]=Zr[Mu]}v._block(function(hn){var is=hn.cfg;t0(hn,is,u0,H0),H0||U0(is,function(Ti){se(u0,Ti)||hn.set(is,Ti,Tf)}),hn[Vd](is,fe)},!0),v[ih](),wn&&kp(wn)},F0.evtNamespace=function(){return a0},F0.flush=Sm,F0.getTraceCtx=function(u0){return N0||(N0=yC()),N0},F0.setTraceCtx=function(u0){N0=u0||null},F0.addUnloadHook=rd,i5(F0,"addUnloadCb",function(){return I0},"add"),F0.onCfgChange=function(u0){var H0;return E?H0=g5(v.cfg,u0,F0[wo]):H0=B0(Fi,u0),{rm:function(){H0.rm()}}},F0.getWParam=function(){return W6()||v.cfg.enableWParam?0:-1};function q2(){var u0={};ls=[];var H0=o(function(wn){wn&&yn(wn,function(Zr){if(Zr[F1]&&Zr[S7]&&!u0[Zr.identifier]){var hn=Zr[F1]+"="+Zr[S7];ls[zi](hn),u0[Zr.identifier]=Zr}})},"_addPluginVersions");H0(s0),Qt&&yn(Qt,function(wn){H0(wn)}),H0(nt)}o(q2,"_setPluginVersions");function N5(){E=!1,v=rl({},fe,F0[wo]),v.cfg[w7]=1,ji(F0,"config",{g:function(){return v.cfg},s:function(H0){F0.updateCfg(H0,!1)}}),ji(F0,"pluginVersionStringArr",{g:function(){return ls||q2(),ls}}),ji(F0,"pluginVersionString",{g:function(){return ol||(ls||q2(),ol=ls.join(";")),ol||xi}}),ji(F0,"logger",{g:function(){return I||(I=new wh(v.cfg),v[wo]=I),I},s:function(H0){v[wo]=H0,I!==H0&&(m5(I,!1),I=H0)}}),F0[wo]=new wh(v.cfg),fo=[];var u0=F0.config[r5]||[];u0.splice(0,u0[si]),k1(u0,fo),Kt=new CC,N=[],m5($,!1),$=null,W=null,oe=null,m5(me,!1),me=null,Ae=null,nt=[],Qt=null,s0=null,e0=!1,b0=null,a0=If("AIBaseCore",!0),I0=rm(),N0=null,Tn=null,_0=fp(),Fi=[],ol=null,ls=null,k5=!1}o(N5,"_initDefaults");function td(){var u0=Y1(S0(),v.cfg,F0);return u0[sh](u1),u0}o(td,"_createTelCtx");function Tc(u0){var H0=Ct(F0[wo],K7,nt);Ae=null,ol=null,ls=null,s0=(Qt||[])[0]||[],s0=tm(k1(s0,H0[Mu]));var wn=k1(tm(H0[Yo]),s0);fo=be(wn);var Zr=F0.config[r5]||[];Zr.splice(0,Zr[si]),k1(Zr,fo);var hn=td();s0&&s0[si]>0&&ap(hn[Yf](s0),wn),ap(hn,wn),u0&&kp(u0)}o(Tc,"_initPluginChain");function $h(u0){var H0=null,wn=null,Zr=[];return yn(fo,function(hn){if(hn[F1]===u0&&hn!==Kt)return wn=hn,-1;hn.getChannel&&Zr[zi](hn)}),!wn&&Zr[si]>0&&yn(Zr,function(hn){if(wn=hn.getChannel(u0),!wn)return-1}),wn&&(H0={plugin:wn,setEnabled:function(hn){Wu(wn)[Cl]=!hn},isEnabled:function(){var hn=Wu(wn);return!hn[r1]&&!hn[Cl]},remove:function(hn,is){var Ti;hn===void 0&&(hn=!0);var Ba=[wn],Ya=(Ti={reason:1},Ti[Wd]=hn,Ti);Rp(Ba,Ya,function(Pf){Pf&&Tc({reason:32,removed:Ba}),is&&is(Pf)})}}),H0}o($h,"_getPlugin");function S0(){if(!Ae){var u0=(fo||[]).slice();bf(u0,Kt)===-1&&u0[zi](Kt),Ae=tc(tm(u0),v.cfg,F0)}return Ae}o(S0,"_getPluginChain");function Rp(u0,H0,wn){if(u0&&u0[si]>0){var Zr=tc(u0,v.cfg,F0),hn=ec(Zr,F0);hn[sh](function(){var is=!1,Ti=[];yn(nt,function(Ya,Pf){Gt(Ya,u0)?is=!0:Ti[zi](Ya)}),nt=Ti,ol=null,ls=null;var Ba=[];Qt&&(yn(Qt,function(Ya,Pf){var D5=[];yn(Ya,function(Dp){Gt(Dp,u0)?is=!0:D5[zi](Dp)}),Ba[zi](D5)}),Qt=Ba),wn&&wn(is),u1()}),hn[bl](H0)}else wn(!1)}o(Rp,"_removePlugins");function j2(){if(I&&I.queue){var u0=I.queue.slice(0);I.queue[si]=0,yn(u0,function(H0){var wn,Zr=(wn={},wn[M1]=b0||"InternalMessageId: "+H0[oh],wn.iKey=Tn,wn[Gd]=i2(new Date),wn.baseType=y5.dataType,wn.baseData={message:H0[Ou]},wn);F0.track(Zr)})}}o(j2,"_flushInternalLogs");function Sm(u0,H0,wn,Zr){var hn=1,is=!1,Ti=null;Zr=Zr||5e3;function Ba(){hn--,is&&hn===0&&(Ti&&Ti[Lu](),Ti=null,H0&&H0(is),H0=null)}if(o(Ba,"doCallback"),s0&&s0[si]>0){var Ya=td()[Yf](s0);Ya.iterate(function(Pf){if(Pf.flush){hn++;var D5=!1;Pf.flush(u0,function(){D5=!0,Ba()},wn)||D5||(u0&&Ti==null?Ti=mc(function(){Ti=null,Ba()},Zr):Ba())}})}return is=!0,Ba(),!0}o(Sm,"_flushChannels");function QC(){!$&&F0[Cf](),rd(v[t1](function(u0){var H0=u0.cfg.disableDbgExt;H0===!0&&g0&&($[W3](g0),g0=null),$&&!g0&&H0!==!0&&(g0=sC(u0.cfg),$[K3](g0))}))}o(QC,"_initDebugListener");function eE(){rd(v[t1](function(u0){var H0=u0.cfg.enablePerfMgr;!H0&&oe&&(oe=null),H0&&L7(u0.cfg,xg,$e)}))}o(eE,"_initPerfManager");function kp(u0){var H0=a1(S0(),F0);H0[sh](u1),(!F0._updateHook||F0._updateHook(H0,u0)!==!0)&&H0[bl](u0)}o(kp,"_doUpdate");function Np(u0){var H0=F0[wo];H0?(rr(H0,2,73,u0),u1()):Li(u0)}o(Np,"_logOrThrowError");function wm(u0){var H0=F0[Cf]();H0&&H0[j1]([u0],2)}o(wm,"_notifyInvalidEvent");function rd(u0){_0.add(u0)}o(rd,"_addUnloadHook")})}return o(m,"AppInsightsCore"),m.__ieDyn=1,m}(),xn="on",Y0="attachEvent",ai="addEventListener",Xr="detachEvent",Ei="removeEventListener",Kn="events";If("aiEvtPageHide"),If("aiEvtPageShow");var Cn=/\.[\.]+/g,oo=/[\.]+$/,E5=1,Z1=bc("events"),cp=/^([^.]*)(?:\.(.+)|)/;function sm(m){return m&&m[Fu]?m[Fu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,xi):m}o(sm,"_normalizeNamespace");function om(m,v){var E;if(v){var I=xi;ge(v)?(I=xi,yn(v,function($){$=sm($),$&&($[0]!=="."&&($="."+$),I+=$)})):I=sm(v),I&&(I[0]!=="."&&(I="."+I),m=(m||xi)+I)}var N=cp.exec(m||xi)||[];return E={},E[yc]=N[1],E.ns=(N[2]||xi).replace(Cn,".").replace(oo,xi)[Jd](".").sort().join("."),E}o(om,"_getEvtNamespace");function up(m,v,E){E===void 0&&(E=!0);var I=Z1.get(m,Kn,{},E),N=I[v];return N||(N=I[v]=[]),N}o(up,"_getRegisteredEvents");function kh(m,v,E,I){m&&v&&v[yc]&&(m[Ei]?m[Ei](v[yc],E,I):m[Xr]&&m[Xr](xn+v[yc],E))}o(kh,"_doDetach");function dp(m,v,E,I){var N=!1;return m&&v&&v[yc]&&E&&(m[ai]?(m[ai](v[yc],E,I),N=!0):m[Y0]&&(m[Y0](xn+v[yc],E),N=!0)),N}o(dp,"_doAttach");function am(m,v,E,I){for(var N=v[si];N--;){var $=v[N];$&&(!E.ns||E.ns===$.evtName.ns)&&(!I||I($))&&(kh(m,$.evtName,$[hg],$.capture),v[Du](N,1))}}o(am,"_doUnregister");function A0(m,v,E){if(v[yc])am(m,up(m,v[yc]),v,E);else{var I=Z1.get(m,Kn,{});U0(I,function(N,$){am(m,$,v,E)}),Ka(I)[si]===0&&Z1.kill(m,Kn)}}o(A0,"_unregisterEvents");function Z0(m,v){var E;return v?(ge(v)?E=[m].concat(v):E=[m,v],E=om("xx",E).ns[Jd](".")):E=m,E}o(Z0,"mergeEvtNamespace");function kn(m,v,E,I,N){var $;N===void 0&&(N=!1);var W=!1;if(m)try{var oe=om(v,I);if(W=dp(m,oe,E,N),W&&Z1.accept(m)){var me=($={guid:E5++,evtName:oe},$[hg]=E,$.capture=N,$);up(m,oe.type)[zi](me)}}catch{}return W}o(kn,"eventOn");function as(m,v,E,I,N){if(N===void 0&&(N=!1),m)try{var $=om(v,I),W=!1;A0(m,$,function(oe){return $.ns&&!E||oe[hg]===E?(W=!0,!0):!1}),W||kh(m,$,E,N)}catch{}}o(as,"eventOff");var Ia="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Qo="sampleRate",va="ProcessLegacy",Yu="http.method",l1="https://dc.services.visualstudio.com",f1="/v2/track",Q1="not_specified",T5=ug({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),_2="split",_i="length",hp="toLowerCase",b2="ingestionendpoint",Nh="toString",EC="push",SK="removeItem",S5="name",C2="message",wK="count",TC="stringify",SC="pathname",Dh="exceptions",c1="parsedStack",eu="properties",Ju="measurements",Lh="sizeInBytes",Xu="typeName",lm="severityLevel",wC="problemGroup",IC="isManual",YN="CreateFromInterface",Bh="assembly",E2="fileName",gp="hasFullStack",mp="level",Oh="method",fm="line",pp="duration",JN="receivedResponse";function XN(m,v,E){var I=v[_i],N=IK(m,v);if(N[_i]!==I){for(var $=0,W=N;E[W]!==void 0;)$++,W=X(N,0,147)+RK($);N=W}return N}o(XN,"dataSanitizeKeyAndAddUniqueness");function IK(m,v){var E;return v&&(v=Sa(Qr(v)),v[_i]>150&&(E=X(v,0,150),rr(m,2,57,"name is too long.  It has been truncated to 150 characters.",{name:v},!0))),E||v}o(IK,"dataSanitizeKey");function Kl(m,v,E){E===void 0&&(E=1024);var I;return v&&(E=E||1024,v=Sa(Qr(v)),v[_i]>E&&(I=X(v,0,E),rr(m,2,61,"string value is too long. It has been truncated to "+E+" characters.",{value:v},!0))),I||v}o(Kl,"dataSanitizeString");function AC(m,v){return QN(m,v,2048,66)}o(AC,"dataSanitizeUrl");function ZN(m,v){var E;return v&&v[_i]>32768&&(E=X(v,0,32768),rr(m,2,56,"message is too long, it has been truncated to 32768 characters.",{message:v},!0)),E||v}o(ZN,"dataSanitizeMessage");function AK(m,v){var E;if(v){var I=""+v;I[_i]>32768&&(E=X(I,0,32768),rr(m,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:v},!0))}return E||v}o(AK,"dataSanitizeException");function T2(m,v){if(v){var E={};U0(v,function(I,N){if(G0(N)&&lf())try{N=xc()[TC](N)}catch($){rr(m,2,49,"custom property is not valid",{exception:$},!0)}N=Kl(m,N,8192),I=XN(m,I,E),E[I]=N}),v=E}return v}o(T2,"dataSanitizeProperties");function S2(m,v){if(v){var E={};U0(v,function(I,N){I=XN(m,I,E),E[I]=N}),v=E}return v}o(S2,"dataSanitizeMeasurements");function PK(m,v){return v&&QN(m,v,128,69)[Nh]()}o(PK,"dataSanitizeId");function QN(m,v,E,I){var N;return v&&(v=Sa(Qr(v)),v[_i]>E&&(N=X(v,0,E),rr(m,2,I,"input is too long, it has been truncated to "+E+" characters.",{data:v},!0))),N||v}o(QN,"dataSanitizeInput");function RK(m){var v="00"+m;return Ke(v,v[_i]-3)}o(RK,"dsPadNumber");var eD=Au()||{},tD=0,kK=[null,null,null,null,null];function NK(m){var v=tD,E=kK,I=E[v];return eD.createElement?E[v]||(I=E[v]=eD.createElement("a")):I={host:DK(m,!0)},I.href=m,v++,v>=E[_i]&&(v=0),tD=v,I}o(NK,"urlParseUrl");function DK(m,v){var E=LK(m,v)||"";if(E){var I=E.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[_i]>3&&v0(I[2])&&I[2][_i]>0)return I[2]+(I[3]||"")}return E}o(DK,"urlParseHost");function LK(m,v){var E=null;if(m){var I=m.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[_i]>2&&v0(I[2])&&I[2][_i]>0&&(E=I[2]||"",v&&I[_i]>2)){var N=(I[1]||"")[hp](),$=I[3]||"";(N==="http"&&$===":80"||N==="https"&&$===":443")&&($=""),E+=$}}return E}o(LK,"urlParseFullHost");var BK=[l1+f1,"https://breeze.aimon.applicationinsights.io"+f1,"https://dc-int.services.visualstudio.com"+f1];function yp(m){return bf(BK,m[hp]())!==-1}o(yp,"isInternalApplicationInsightsEndpoint");function OK(m,v,E,I){var N,$=I,W=I;if(v&&v[_i]>0){var oe=NK(v);if(N=oe.host,!$)if(oe[SC]!=null){var me=oe.pathname[_i]===0?"/":oe[SC];me.charAt(0)!=="/"&&(me="/"+me),W=oe[SC],$=Kl(m,E?E+" "+me:me)}else $=Kl(m,v)}else N=I,$=I;return{target:N,name:$,data:W}}o(OK,"AjaxHelperParseDependencyPath");var PC=rh({LocalStorage:0,SessionStorage:1}),cm=void 0,rD="";function nD(m){try{if(de(Vf()))return null;var v=new Date()[Nh](),E=ka(m===PC.LocalStorage?"localStorage":"sessionStorage"),I=rD+v;E.setItem(I,v);var N=E.getItem(I)!==v;if(E[SK](I),!N)return E}catch{}return null}o(nD,"_getVerifiedStorageObject");function iD(){return sD()?nD(PC.SessionStorage):null}o(iD,"_getSessionStorageObject");function FK(m){rD=m||""}o(FK,"utlSetStoragePrefix");function sD(m){return(m||cm===void 0)&&(cm=!!nD(PC.SessionStorage)),cm}o(sD,"utlCanUseSessionStorage");function MK(m,v){var E=iD();if(E!==null)try{return E.getItem(v)}catch(I){cm=!1,rr(m,2,2,"Browser failed read of session storage. "+Tl(I),{exception:X0(I)})}return null}o(MK,"utlGetSessionStorage");function UK(m,v,E){var I=iD();if(I!==null)try{return I.setItem(v,E),!0}catch(N){cm=!1,rr(m,2,4,"Browser failed write to session storage. "+Tl(N),{exception:X0(N)})}return!1}o(UK,"utlSetSessionStorage");var qK=";",jK="=";function $K(m){if(!m)return{};var v=m[_2](qK),E=qb(v,function(N,$){var W=$[_2](jK);if(W[_i]===2){var oe=W[0][hp](),me=W[1];N[oe]=me}return N},{});if(Ka(E)[_i]>0){if(E.endpointsuffix){var I=E.location?E.location+".":"";E[b2]=E[b2]||"https://"+I+"dc."+E.endpointsuffix}E[b2]=E[b2]||l1,V4(E[b2],"/")&&(E[b2]=E[b2].slice(0,-1))}return E}o($K,"parseConnectionString");var HK=function(){function m(v,E,I){var N=this,$=this;$.ver=1,$.sampleRate=100,$.tags={},$[S5]=Kl(v,I)||Q1,$.data=E,$.time=i2(new Date),$.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return N.sampleRate===100?4:1},tags:1,data:1}}return o(m,"Envelope"),m}(),Fh=function(){function m(v,E,I,N){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var $=this;$.ver=2,$[S5]=Kl(v,E)||Q1,$[eu]=T2(v,I),$[Ju]=S2(v,N)}return o(m,"Event"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Event",m.dataType="EventData",m}(),VK="<no_method>",Mh="error",Af="stack",RC="stackDetails",oD="errorSrc",kC="message",aD="description";function NC(m,v){var E=m;return E&&!v0(E)&&(JSON&&JSON[TC]?(E=JSON[TC](m),v&&(!E||E==="{}")&&(Zt(m[Nh])?E=m[Nh]():E=""+m)):E=""+m+" - (Missing JSON.stringify)"),E||""}o(NC,"_stringify");function lD(m,v){var E=m;return m&&(E&&!v0(E)&&(E=m[kC]||m[aD]||E),E&&!v0(E)&&(E=NC(E,!0)),m.filename&&(E=E+" @"+(m.filename||"")+":"+(m.lineno||"?")+":"+(m.colno||"?"))),v&&v!=="String"&&v!=="Object"&&v!=="Error"&&Ud(E||"",v)===-1&&(E=v+": "+E),E||""}o(lD,"_formatMessage");function zK(m){try{if(G0(m))return"hasFullStack"in m&&"typeName"in m}catch{}return!1}o(zK,"_isExceptionDetailsInternal");function GK(m){try{if(G0(m))return"ver"in m&&"exceptions"in m&&"properties"in m}catch{}return!1}o(GK,"_isExceptionInternal");function fD(m){return m&&m.src&&v0(m.src)&&m.obj&&ge(m.obj)}o(fD,"_isStackDetails");function w2(m){var v=m||"";v0(v)||(v0(v[Af])?v=v[Af]:v=""+v);var E=v[_2](`
`);return{src:v,obj:E}}o(w2,"_convertStackObj");function KK(m){for(var v=[],E=m[_2](`
`),I=0;I<E[_i];I++){var N=E[I];E[I+1]&&(N+="@"+E[I+1],I++),v[EC](N)}return{src:m,obj:v}}o(KK,"_getOperaStack");function cD(m){var v=null;if(m)try{if(m[Af])v=w2(m[Af]);else if(m[Mh]&&m[Mh][Af])v=w2(m[Mh][Af]);else if(m.exception&&m.exception[Af])v=w2(m.exception[Af]);else if(fD(m))v=m;else if(fD(m[RC]))v=m[RC];else if(Jc()&&Jc().opera&&m[kC])v=KK(m[C2]);else if(m.reason&&m.reason[Af])v=w2(m.reason[Af]);else if(v0(m))v=w2(m);else{var E=m[kC]||m[aD]||"";v0(m[oD])&&(E&&(E+=`
`),E+=" from "+m[oD]),E&&(v=w2(E))}}catch(I){v=w2(I)}return v||{src:"",obj:null}}o(cD,"_getStackFromErrorObj");function WK(m){var v="";return m&&(m.obj?yn(m.obj,function(E){v+=E+`
`}):v=m.src||""),v}o(WK,"_formatStackTrace");function YK(m){var v,E=m.obj;if(E&&E[_i]>0){v=[];var I=0,N=0;yn(E,function(Kt){var b0=Kt[Nh]();if(LC.regex.test(b0)){var a0=new LC(b0,I++);N+=a0[Lh],v[EC](a0)}});var $=32*1024;if(N>$)for(var W=0,oe=v[_i]-1,me=0,Ae=W,nt=oe;W<oe;){var Qt=v[W][Lh],s0=v[oe][Lh];if(me+=Qt+s0,me>$){var e0=nt-Ae+1;v.splice(Ae,e0);break}Ae=W,nt=oe,W++,oe--}}return v}o(YK,"_parseStack");function vp(m){var v="";if(m&&(v=m.typeName||m[S5]||"",!v))try{var E=/function (.{1,200})\(/,I=E.exec(m.constructor[Nh]());v=I&&I[_i]>1?I[1]:""}catch{}return v}o(vp,"_getErrorType");function DC(m){if(m)try{if(!v0(m)){var v=vp(m),E=NC(m,!1);return(!E||E==="{}")&&(m[Mh]&&(m=m[Mh],v=vp(m)),E=NC(m,!0)),Ud(E,v)!==0&&v!=="String"?v+":"+E:E}}catch{}return""+(m||"")}o(DC,"_formatErrorCode");var xp=function(){function m(v,E,I,N,$,W){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,GK(E)?(oe[Dh]=E[Dh]||[],oe[eu]=E[eu],oe[Ju]=E[Ju],E[lm]&&(oe[lm]=E[lm]),E.id&&(oe.id=E.id,E[eu].id=E.id),E[wC]&&(oe[wC]=E[wC]),de(E[IC])||(oe[IC]=E[IC])):(I||(I={}),W&&(I.id=W),oe[Dh]=[new uD(v,E,I)],oe[eu]=T2(v,I),oe[Ju]=S2(v,N),$&&(oe[lm]=$),W&&(oe.id=W))}return o(m,"Exception"),m.CreateAutoException=function(v,E,I,N,$,W,oe,me){var Ae,nt=vp($||W||v);return Ae={},Ae[C2]=lD(v,nt),Ae.url=E,Ae.lineNumber=I,Ae.columnNumber=N,Ae.error=DC($||W||v),Ae.evt=DC(W||v),Ae[Xu]=nt,Ae.stackDetails=cD(oe||$||W),Ae.errorSrc=me,Ae},m.CreateFromInterface=function(v,E,I,N){var $=E[Dh]&&E3(E[Dh],function(oe){return uD[YN](v,oe)}),W=new m(v,O1(O1({},E),{exceptions:$}),I,N);return W},m.prototype.toInterface=function(){var v,E=this,I=E.exceptions,N=E.properties,$=E.measurements,W=E.severityLevel,oe=E.problemGroup,me=E.id,Ae=E.isManual,nt=I instanceof Array&&E3(I,function(Qt){return Qt.toInterface()})||void 0;return v={ver:"4.0"},v[Dh]=nt,v.severityLevel=W,v.properties=N,v.measurements=$,v.problemGroup=oe,v.id=me,v.isManual=Ae,v},m.CreateSimpleException=function(v,E,I,N,$,W){var oe;return{exceptions:[(oe={},oe[gp]=!0,oe.message=v,oe.stack=$,oe.typeName=E,oe)]}},m.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",m.dataType="ExceptionData",m.formatError=DC,m}(),uD=function(){function m(v,E,I){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var N=this;if(zK(E))N[Xu]=E[Xu],N[C2]=E[C2],N[Af]=E[Af],N[c1]=E[c1]||[],N[gp]=E[gp];else{var $=E,W=$&&$.evt;h0($)||($=$[Mh]||W||$),N[Xu]=Kl(v,vp($))||Q1,N[C2]=ZN(v,lD(E||$,N[Xu]))||Q1;var oe=E[RC]||cD(E);N[c1]=YK(oe),ge(N[c1])&&E3(N[c1],function(me){me[Bh]=Kl(v,me[Bh]),me[E2]=Kl(v,me[E2])}),N[Af]=AK(v,WK(oe)),N.hasFullStack=ge(N.parsedStack)&&N.parsedStack[_i]>0,I&&(I[Xu]=I[Xu]||N[Xu])}}return o(m,"_ExceptionDetails"),m.prototype.toInterface=function(){var v,E=this,I=E[c1]instanceof Array&&E3(E[c1],function($){return $.toInterface()}),N=(v={id:E.id,outerId:E.outerId,typeName:E[Xu],message:E[C2],hasFullStack:E[gp],stack:E[Af]},v[c1]=I||void 0,v);return N},m.CreateFromInterface=function(v,E){var I=E[c1]instanceof Array&&E3(E[c1],function($){return LC[YN]($)})||E[c1],N=new m(v,O1(O1({},E),{parsedStack:I}));return N},m}(),LC=function(){function m(v,E){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var I=this;if(I[Lh]=0,typeof v=="string"){var N=v;I[mp]=E,I[Oh]=VK,I[Bh]=Sa(N),I[E2]="",I[fm]=0;var $=N.match(m.regex);$&&$[_i]>=5&&(I[Oh]=Sa($[2])||I[Oh],I[E2]=Sa($[4]),I[fm]=parseInt($[5])||0)}else I[mp]=v[mp],I[Oh]=v[Oh],I[Bh]=v[Bh],I[E2]=v[E2],I[fm]=v[fm],I[Lh]=0;I.sizeInBytes+=I.method[_i],I.sizeInBytes+=I.fileName[_i],I.sizeInBytes+=I.assembly[_i],I[Lh]+=m.baseSize,I.sizeInBytes+=I.level.toString()[_i],I.sizeInBytes+=I.line.toString()[_i]}return o(m,"_StackFrame"),m.CreateFromInterface=function(v){return new m(v,null)},m.prototype.toInterface=function(){var v=this;return{level:v[mp],method:v[Oh],assembly:v[Bh],fileName:v[E2],line:v[fm]}},m.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,m.baseSize=58,m}(),JK=function(){function m(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(m,"DataPoint"),m}(),um=function(){function m(v,E,I,N,$,W,oe,me,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var nt=this;nt.ver=2;var Qt=new JK;Qt[wK]=N>0?N:void 0,Qt.max=isNaN(W)||W===null?void 0:W,Qt.min=isNaN($)||$===null?void 0:$,Qt[S5]=Kl(v,E)||Q1,Qt.value=I,Qt.stdDev=isNaN(oe)||oe===null?void 0:oe,nt.metrics=[Qt],nt[eu]=T2(v,me),nt[Ju]=S2(v,Ae)}return o(m,"Metric"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",m.dataType="MetricData",m}(),dm="";function dD(m){(isNaN(m)||m<0)&&(m=0),m=Math.round(m);var v=dm+m%1e3,E=dm+Math.floor(m/1e3)%60,I=dm+Math.floor(m/(1e3*60))%60,N=dm+Math.floor(m/(1e3*60*60))%24,$=Math.floor(m/(1e3*60*60*24));return v=v[_i]===1?"00"+v:v[_i]===2?"0"+v:v,E=E[_i]<2?"0"+E:E,I=I[_i]<2?"0"+I:I,N=N[_i]<2?"0"+N:N,($>0?$+".":dm)+N+":"+I+":"+E+"."+v}o(dD,"msToTimeSpan");var _p=function(){function m(v,E,I,N,$,W,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var me=this;me.ver=2,me.id=PK(v,oe),me.url=AC(v,I),me[S5]=Kl(v,E)||Q1,isNaN(N)||(me[pp]=dD(N)),me[eu]=T2(v,$),me[Ju]=S2(v,W)}return o(m,"PageView"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",m.dataType="PageviewData",m}(),bp=function(){function m(v,E,I,N,$,W,oe,me,Ae,nt,Qt,s0){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var e0=this;e0.ver=2,e0.id=E,e0[pp]=dD($),e0.success=W,e0.resultCode=oe+"",e0.type=Kl(v,Ae);var Kt=OK(v,I,me,N);e0.data=AC(v,N)||Kt.data,e0.target=Kl(v,Kt.target),nt&&(e0.target="".concat(e0.target," | ").concat(nt)),e0[S5]=Kl(v,Kt[S5]),e0[eu]=T2(v,Qt),e0[Ju]=S2(v,s0)}return o(m,"RemoteDependencyData"),m.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",m.dataType="RemoteDependencyData",m}(),Cp=function(){function m(v,E,I,N,$){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var W=this;W.ver=2,E=E||Q1,W[C2]=ZN(v,E),W[eu]=T2(v,N),W[Ju]=S2(v,$),I&&(W[lm]=I)}return o(m,"Trace"),m.envelopeType="Microsoft.ApplicationInsights.{0}.Message",m.dataType="MessageData",m}(),Ep=function(){function m(v,E,I,N,$,W,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var me=this;me.ver=2,me.url=AC(v,I),me[S5]=Kl(v,E)||Q1,me[eu]=T2(v,$),me[Ju]=S2(v,W),oe&&(me.domProcessing=oe.domProcessing,me[pp]=oe[pp],me.networkConnect=oe.networkConnect,me.perfTotal=oe.perfTotal,me[JN]=oe[JN],me.sentRequest=oe.sentRequest)}return o(m,"PageViewPerformance"),m.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",m.dataType="PageviewPerformanceData",m}(),I2=function(){function m(v,E){this.aiDataContract={baseType:1,baseData:1},this.baseType=v,this.baseData=E}return o(m,"Data"),m}(),XK=rh({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function w5(m){var v="ai."+m+".";return function(E){return v+E}}o(w5,"_aiNameFunc");var hm=w5("application"),Wa=w5("device"),Tp=w5("location"),Uh=w5("operation"),BC=w5("session"),I5=w5("user"),A2=w5("cloud"),gm=w5("internal"),hD=function(m){q3(v,m);function v(){return m.call(this)||this}return o(v,"ContextTagKeys"),v}(Zb({applicationVersion:hm("ver"),applicationBuild:hm("build"),applicationTypeId:hm("typeId"),applicationId:hm("applicationId"),applicationLayer:hm("layer"),deviceId:Wa("id"),deviceIp:Wa("ip"),deviceLanguage:Wa("language"),deviceLocale:Wa("locale"),deviceModel:Wa("model"),deviceFriendlyName:Wa("friendlyName"),deviceNetwork:Wa("network"),deviceNetworkName:Wa("networkName"),deviceOEMName:Wa("oemName"),deviceOS:Wa("os"),deviceOSVersion:Wa("osVersion"),deviceRoleInstance:Wa("roleInstance"),deviceRoleName:Wa("roleName"),deviceScreenResolution:Wa("screenResolution"),deviceType:Wa("type"),deviceMachineName:Wa("machineName"),deviceVMName:Wa("vmName"),deviceBrowser:Wa("browser"),deviceBrowserVersion:Wa("browserVersion"),locationIp:Tp("ip"),locationCountry:Tp("country"),locationProvince:Tp("province"),locationCity:Tp("city"),operationId:Uh("id"),operationName:Uh("name"),operationParentId:Uh("parentId"),operationRootId:Uh("rootId"),operationSyntheticSource:Uh("syntheticSource"),operationCorrelationVector:Uh("correlationVector"),sessionId:BC("id"),sessionIsFirst:BC("isFirst"),sessionIsNew:BC("isNew"),userAccountAcquisitionDate:I5("accountAcquisitionDate"),userAccountId:I5("accountId"),userAgent:I5("userAgent"),userId:I5("id"),userStoreRegion:I5("storeRegion"),userAuthUserId:I5("authUserId"),userAnonymousUserAcquisitionDate:I5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:I5("authUserAcquisitionDate"),cloudName:A2("name"),cloudRole:A2("role"),cloudRoleVer:A2("roleVer"),cloudRoleInstance:A2("roleInstance"),cloudEnvironment:A2("environment"),cloudLocation:A2("location"),cloudDeploymentUnit:A2("deploymentUnit"),internalNodeName:gm("nodeName"),internalSdkVersion:gm("sdkVersion"),internalAgentVersion:gm("agentVersion"),internalSnippet:gm("snippet"),internalSdkSrc:gm("sdkSrc")})),wl=new hD;function gD(m,v){as(m,null,null,v)}o(gD,"_disableEvents");function ZK(m){var v=Au(),E=R1(),I=!1,N=[],$=1;E&&!de(E.onLine)&&!E.onLine&&($=2);var W=0,oe=s0(),me=Z0(If("OfflineListener"),m);try{if(nt(Jc())&&(I=!0),v){var Ae=v.body||v;Ae.ononline&&nt(Ae)&&(I=!0)}}catch{I=!1}function nt(g0){var N0=!1;return g0&&(N0=kn(g0,"online",b0,me),N0&&kn(g0,"offline",a0,me)),N0}o(nt,"_enableEvents");function Qt(){return oe}o(Qt,"_isOnline");function s0(){return!(W===2||$===2)}o(s0,"calCurrentState");function e0(){var g0=s0();oe!==g0&&(oe=g0,yn(N,function(N0){var Tn={isOnline:oe,rState:$,uState:W};try{N0(Tn)}catch{}}))}o(e0,"listnerNoticeCheck");function Kt(g0){W=g0,e0()}o(Kt,"setOnlineState");function b0(){$=1,e0()}o(b0,"_setOnline");function a0(){$=2,e0()}o(a0,"_setOffline");function I0(){var g0=Jc();if(g0&&I){if(gD(g0,me),v){var N0=v.body||v;Nt(N0.ononline)||gD(N0,me)}I=!1}}o(I0,"_unload");function _0(g0){return N[EC](g0),{rm:function(){var N0=N.indexOf(g0);if(N0>-1)return N.splice(N0,1)}}}return o(_0,"addListener"),{isOnline:Qt,isListening:function(){return I},unload:I0,addListener:_0,setOnlineState:Kt}}o(ZK,"createOfflineListener");var QK="AppInsightsChannelPlugin",P2="duration",Il="tags",OC="deviceType",nl="data",Zu="name",mm="traceID",li="length",pm="stringify",R2="measurements",tu="dataType",k2="envelopeType",N2="toString",ym="_get",D2="enqueue",L2="count",mD="eventsLimitInMem",qh="push",FC="emitLineDelimitedJson",B2="clear",MC="batchPayloads",UC="createNew",jh="markAsSent",vm="clearSent",qC="bufferOverride",jC="BUFFER_KEY",A5="SENT_BUFFER_KEY",xm="concat",_m="MAX_BUFFER_SIZE",$C="sendPOST",bm="triggerSend",il="diagLog",Cm="_sender",HC="customHeaders",pD="maxBatchSizeInBytes",VC="onunloadDisableBeacon",zC="isBeaconApiDisabled",yD="alwaysUseXhrOverride",vD="enableSessionStorageBuffer",P5="_buffer",xD="onunloadDisableFetch",_D="disableSendBeaconSplit",bD="instrumentationKey",CD="unloadTransports",ED="convertUndefined",TD="maxBatchInterval",Sp="serialize",eW="_xhrReadyStateChange",O2="_onError",GC="_onPartialSuccess",wp="_onSuccess",Ip="itemsAccepted",tW="itemsReceived",KC="baseType",Ap="sampleRate",Em="oriPayload",WC="setRequestHeader",SD="eventsSendRequest",wD="getSamplingScore",rW="getHashCodeScore",YC="baseType",lo="baseData",sl="properties",ID="true";function Da(m,v,E){return $1(m,v,E,K0)}o(Da,"_setValueIf");function nW(m,v,E){var I=E[Il]=E[Il]||{},N=v.ext=v.ext||{},$=v[Il]=v[Il]||[],W=N.user;W&&(Da(I,wl.userAuthUserId,W.authId),Da(I,wl.userId,W.id||W.localId));var oe=N.app;oe&&Da(I,wl.sessionId,oe.sesId);var me=N.device;me&&(Da(I,wl.deviceId,me.id||me.localId),Da(I,wl[OC],me.deviceClass),Da(I,wl.deviceIp,me.ip),Da(I,wl.deviceModel,me.model),Da(I,wl[OC],me[OC]));var Ae=v.ext.web;if(Ae){Da(I,wl.deviceLanguage,Ae.browserLang),Da(I,wl.deviceBrowserVersion,Ae.browserVer),Da(I,wl.deviceBrowser,Ae.browser);var nt=E[nl]=E[nl]||{},Qt=nt[lo]=nt[lo]||{},s0=Qt[sl]=Qt[sl]||{};Da(s0,"domain",Ae.domain),Da(s0,"isManual",Ae.isManual?ID:null),Da(s0,"screenRes",Ae.screenRes),Da(s0,"userConsent",Ae.userConsent?ID:null)}var e0=N.os;e0&&Da(I,wl.deviceOS,e0[Zu]);var Kt=N.trace;Kt&&(Da(I,wl.operationParentId,Kt.parentID),Da(I,wl.operationName,Kl(m,Kt[Zu])),Da(I,wl.operationId,Kt[mm]));for(var b0={},a0=$[li]-1;a0>=0;a0--){var I0=$[a0];U0(I0,function(g0,N0){b0[g0]=N0}),$.splice(a0,1)}U0($,function(g0,N0){b0[g0]=N0});var _0=O1(O1({},I),b0);_0[wl.internalSdkVersion]||(_0[wl.internalSdkVersion]=Kl(m,"javascript:".concat(iW.Version),64)),E[Il]=O7(_0)}o(nW,"_extractPartAExtensions");function R5(m,v,E){de(m)||U0(m,function(I,N){et(N)?E[I]=N:v0(N)?v[I]=N:lf()&&(v[I]=xc()[pm](N))})}o(R5,"_extractPropsAndMeasurements");function F2(m,v){de(m)||U0(m,function(E,I){m[E]=I||v})}o(F2,"_convertPropsUndefinedToCustomDefinedValue");function M2(m,v,E,I){var N=new HK(m,I,v);Da(N,"sampleRate",E[Qo]),(E[lo]||{}).startTime&&(N.time=i2(E[lo].startTime)),N.iKey=E.iKey;var $=E.iKey.replace(/-/g,"");return N[Zu]=N[Zu].replace("{0}",$),nW(m,E,N),E[Il]=E[Il]||[],O7(N)}o(M2,"_createEnvelope");function U2(m,v){de(v[lo])&&rr(m,1,46,"telemetryItem.baseData cannot be null.")}o(U2,"EnvelopeCreatorInit");var iW={Version:"3.1.0"};function sW(m,v,E){U2(m,v);var I=v[lo][R2]||{},N=v[lo][sl]||{};R5(v[nl],N,I),de(E)||F2(N,E);var $=v[lo];if(de($))return v5(m,"Invalid input for dependency data"),null;var W=$[sl]&&$[sl][Yu]?$[sl][Yu]:"GET",oe=new bp(m,$.id,$.target,$[Zu],$[P2],$.success,$.responseCode,W,$.type,$.correlationContext,N,I),me=new I2(bp[tu],oe);return M2(m,bp[k2],v,me)}o(sW,"DependencyEnvelopeCreator");function AD(m,v,E){U2(m,v);var I={},N={};v[YC]!==Fh[tu]&&(I.baseTypeSource=v[YC]),v[YC]===Fh[tu]?(I=v[lo][sl]||{},N=v[lo][R2]||{}):v[lo]&&R5(v[lo],I,N),R5(v[nl],I,N),de(E)||F2(I,E);var $=v[lo][Zu],W=new Fh(m,$,I,N),oe=new I2(Fh[tu],W);return M2(m,Fh[k2],v,oe)}o(AD,"EventEnvelopeCreator");function oW(m,v,E){U2(m,v);var I=v[lo][R2]||{},N=v[lo][sl]||{};R5(v[nl],N,I),de(E)||F2(N,E);var $=v[lo],W=xp.CreateFromInterface(m,$,N,I),oe=new I2(xp[tu],W);return M2(m,xp[k2],v,oe)}o(oW,"ExceptionEnvelopeCreator");function aW(m,v,E){U2(m,v);var I=v[lo],N=I[sl]||{},$=I[R2]||{};R5(v[nl],N,$),de(E)||F2(N,E);var W=new um(m,I[Zu],I.average,I.sampleCount,I.min,I.max,I.stdDev,N,$),oe=new I2(um[tu],W);return M2(m,um[k2],v,oe)}o(aW,"MetricEnvelopeCreator");function lW(m,v,E){U2(m,v);var I,N=v[lo];!de(N)&&!de(N[sl])&&!de(N[sl][P2])?(I=N[sl][P2],delete N[sl][P2]):!de(v[nl])&&!de(v[nl][P2])&&(I=v[nl][P2],delete v[nl][P2]);var $=v[lo],W;((v.ext||{}).trace||{})[mm]&&(W=v.ext.trace[mm]);var oe=$.id||W,me=$[Zu],Ae=$.uri,nt=$[sl]||{},Qt=$[R2]||{};if(de($.refUri)||(nt.refUri=$.refUri),de($.pageType)||(nt.pageType=$.pageType),de($.isLoggedIn)||(nt.isLoggedIn=$.isLoggedIn[N2]()),!de($[sl])){var s0=$[sl];U0(s0,function(b0,a0){nt[b0]=a0})}R5(v[nl],nt,Qt),de(E)||F2(nt,E);var e0=new _p(m,me,Ae,I,nt,Qt,oe),Kt=new I2(_p[tu],e0);return M2(m,_p[k2],v,Kt)}o(lW,"PageViewEnvelopeCreator");function fW(m,v,E){U2(m,v);var I=v[lo],N=I[Zu],$=I.uri||I.url,W=I[sl]||{},oe=I[R2]||{};R5(v[nl],W,oe),de(E)||F2(W,E);var me=new Ep(m,N,$,void 0,W,oe,I),Ae=new I2(Ep[tu],me);return M2(m,Ep[k2],v,Ae)}o(fW,"PageViewPerformanceEnvelopeCreator");function cW(m,v,E){U2(m,v);var I=v[lo].message,N=v[lo].severityLevel,$=v[lo][sl]||{},W=v[lo][R2]||{};R5(v[nl],$,W),de(E)||F2($,E);var oe=new Cp(m,I,N,$,W),me=new I2(Cp[tu],oe);return M2(m,Cp[k2],v,me)}o(cW,"TraceEnvelopeCreator");var PD=function(){function m(v,E){var I=[],N=!1;this[ym]=function(){return I},this._set=function($){return I=$,I},Vl(m,this,function($){$[D2]=function(W){if($[L2]()>=E[mD]){N||(rr(v,2,105,"Maximum in-memory buffer size reached: "+$[L2](),!0),N=!0);return}I[qh](W)},$[L2]=function(){return I[li]},$.size=function(){for(var W=I[li],oe=0;oe<I[li];oe++)W+=I[oe][li];return E[FC]||(W+=2),W},$[B2]=function(){I=[],N=!1},$.getItems=function(){return I.slice(0)},$[MC]=function(W){if(W&&W[li]>0){var oe=E[FC]?W.join(`
`):"["+W.join(",")+"]";return oe}return null},$[UC]=function(W,oe,me){var Ae=I.slice(0);W=W||v,oe=oe||{};var nt=me?new RD(W,oe):new JC(W,oe);return yn(Ae,function(Qt){nt[D2](Qt)}),nt}})}return o(m,"BaseSendBuffer"),m.__ieDyn=1,m}(),JC=function(m){q3(v,m);function v(E,I){var N=m.call(this,E,I)||this;return Vl(v,N,function($,W){$[jh]=function(oe){W[B2]()},$[vm]=function(oe){}}),N}return o(v,"ArraySendBuffer"),v.__ieDyn=1,v}(PD),RD=function(m){q3(v,m);function v(E,I){var N=m.call(this,E,I)||this,$=!1,W=I==null?void 0:I.namePrefix,oe=I[qC]||{getItem:MK,setItem:UK},me=oe.getItem,Ae=oe.setItem;return Vl(v,N,function(nt,Qt){var s0=a0(v[jC]),e0=a0(v[A5]),Kt=nt._set(s0[xm](e0));Kt[li]>v[_m]&&(Kt[li]=v[_m]),I0(v[A5],[]),I0(v[jC],Kt),nt[D2]=function(_0){if(nt[L2]()>=v[_m]){$||(rr(E,2,67,"Maximum buffer size reached: "+nt[L2](),!0),$=!0);return}Qt[D2](_0),I0(v.BUFFER_KEY,nt[ym]())},nt[B2]=function(){Qt[B2](),I0(v.BUFFER_KEY,nt[ym]()),I0(v[A5],[]),$=!1},nt[jh]=function(_0){I0(v[jC],nt._set(b0(_0,nt[ym]())));var g0=a0(v[A5]);g0 instanceof Array&&_0 instanceof Array&&(g0=g0[xm](_0),g0[li]>v[_m]&&(rr(E,1,67,"Sent buffer reached its maximum size: "+g0[li],!0),g0[li]=v[_m]),I0(v[A5],g0))},nt[vm]=function(_0){var g0=a0(v[A5]);g0=b0(_0,g0),I0(v[A5],g0)},nt[UC]=function(_0,g0,N0){N0=!!N0;var Tn=nt[ym]().slice(0),Fi=a0(v[A5]).slice(0);_0=_0||E,g0=g0||{},nt[B2]();var fo=N0?new v(_0,g0):new JC(_0,g0);return yn(Tn,function(ls){fo[D2](ls)}),N0&&fo[jh](Fi),fo};function b0(_0,g0){var N0=[];return yn(g0,function(Tn){!Zt(Tn)&&bf(_0,Tn)===-1&&N0[qh](Tn)}),N0}o(b0,"_removePayloadsFromBuffer");function a0(_0){var g0=_0;try{g0=W?W+"_"+g0:g0;var N0=me(E,g0);if(N0){var Tn=xc().parse(N0);if(v0(Tn)&&(Tn=xc().parse(Tn)),Tn&&ge(Tn))return Tn}}catch(Fi){rr(E,1,42," storage key: "+g0+", "+Tl(Fi),{exception:X0(Fi)})}return[]}o(a0,"_getBuffer");function I0(_0,g0){var N0=_0;try{N0=W?W+"_"+N0:N0;var Tn=JSON[pm](g0);Ae(E,N0,Tn)}catch(Fi){Ae(E,N0,JSON[pm]([])),rr(E,2,41," storage key: "+N0+", "+Tl(Fi)+". Buffer cleared",{exception:X0(Fi)})}}o(I0,"_setBuffer")}),N}return o(v,"SessionStorageSendBuffer"),v.BUFFER_KEY="AI_buffer",v.SENT_BUFFER_KEY="AI_sentBuffer",v.MAX_BUFFER_SIZE=2e3,v}(PD),uW=function(){function m(v){Vl(m,this,function(E){E[Sp]=function(W){var oe=I(W,"root");try{return xc()[pm](oe)}catch(me){rr(v,1,48,me&&Zt(me[N2])?me[N2]():"Error serializing object",null,!0)}};function I(W,oe){var me="__aiCircularRefCheck",Ae={};if(!W)return rr(v,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ae;if(W[me])return rr(v,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ae;if(!W.aiDataContract){if(oe==="measurements")Ae=$(W,"number",oe);else if(oe==="properties")Ae=$(W,"string",oe);else if(oe==="tags")Ae=$(W,"string",oe);else if(ge(W))Ae=N(W,oe);else{rr(v,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{xc()[pm](W),Ae=W}catch(nt){rr(v,1,48,nt&&Zt(nt[N2])?nt[N2]():"Error serializing object",null,!0)}}return Ae}return W[me]=!0,U0(W.aiDataContract,function(nt,Qt){var s0=Zt(Qt)?Qt()&1:Qt&1,e0=Zt(Qt)?Qt()&4:Qt&4,Kt=Qt&2,b0=W[nt]!==void 0,a0=G0(W[nt])&&W[nt]!==null;if(s0&&!b0&&!Kt)rr(v,1,24,"Missing required field specification. The field is required but not present on source",{field:nt,name:oe});else if(!e0){var I0=void 0;a0?Kt?I0=N(W[nt],nt):I0=I(W[nt],nt):I0=W[nt],I0!==void 0&&(Ae[nt]=I0)}}),delete W[me],Ae}o(I,"_serializeObject");function N(W,oe){var me;if(W)if(!ge(W))rr(v,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{me=[];for(var Ae=0;Ae<W[li];Ae++){var nt=W[Ae],Qt=I(nt,oe+"["+Ae+"]");me[qh](Qt)}}return me}o(N,"_serializeArray");function $(W,oe,me){var Ae;return W&&(Ae={},U0(W,function(nt,Qt){if(oe==="string")Qt===void 0?Ae[nt]="undefined":Qt===null?Ae[nt]="null":Qt[N2]?Ae[nt]=Qt[N2]():Ae[nt]="invalid field: toString() is not defined.";else if(oe==="number")if(Qt===void 0)Ae[nt]="undefined";else if(Qt===null)Ae[nt]="null";else{var s0=parseFloat(Qt);Ae[nt]=s0}else Ae[nt]="invalid field: "+me+" is of unknown type.",rr(v,1,Ae[nt],null,!0)})),Ae}o($,"_serializeStringMap")})}return o(m,"Serializer"),m.__ieDyn=1,m}(),dW=8,hW=function(){function m(){}return o(m,"HashCodeScoreGenerator"),m.prototype.getHashCodeScore=function(v){var E=this.getHashCode(v)/m.INT_MAX_VALUE;return E*100},m.prototype.getHashCode=function(v){if(v==="")return 0;for(;v[li]<dW;)v=v[xm](v);for(var E=5381,I=0;I<v[li];++I)E=(E<<5)+E+v.charCodeAt(I),E=E&E;return Math.abs(E)},m.INT_MAX_VALUE=2147483647,m}(),gW=function(){function m(){var v=this,E=new hW,I=new hD;v[wD]=function(N){var $=0;return N[Il]&&N[Il][I.userId]?$=E.getHashCodeScore(N[Il][I.userId]):N.ext&&N.ext.user&&N.ext.user.id?$=E[rW](N.ext.user.id):N[Il]&&N[Il][I.operationId]?$=E.getHashCodeScore(N[Il][I.operationId]):N.ext&&N.ext.telemetryTrace&&N.ext.telemetryTrace[mm]?$=E.getHashCodeScore(N.ext.telemetryTrace[mm]):$=Math.random()*100,$}}return o(m,"SamplingScoreGenerator"),m}(),mW=function(){function m(v,E){this.INT_MAX_VALUE=2147483647;var I=E||p2(null);(v>100||v<0)&&(I.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:v},!0),v=100),this[Ap]=v,this.samplingScoreGenerator=new gW}return o(m,"Sample"),m.prototype.isSampledIn=function(v){var E=this[Ap],I=!1;return E==null||E>=100||v.baseType===um[tu]?!0:(I=this.samplingScoreGenerator[wD](v)<E,I)},m}(),bo,Qu,ed=void 0,kD="",pW=65e3;function Pp(m){try{return m.responseText}catch{}return null}o(Pp,"_getResponseText");function yW(m){return m&&m[$C]}o(yW,"isOverrideFn");function ND(m,v){return v&&(et(v)?m=[v][xm](m):ge(v)&&(m=v[xm](m))),m}o(ND,"_prependTransports");var DD=mn((bo={endpointUrl:h2(K0,l1+f1)},bo[FC]=Ec(),bo[TD]=15e3,bo[pD]=102400,bo.disableTelemetry=Ec(),bo[vD]=Ec(!0),bo.isRetryDisabled=Ec(),bo[zC]=Ec(!0),bo[_D]=Ec(!0),bo.disableXhr=Ec(),bo[xD]=Ec(),bo[VC]=Ec(),bo[bD]=ed,bo.namePrefix=ed,bo.samplingPercentage=h2(vW,100),bo[HC]=ed,bo[ED]=ed,bo[mD]=1e4,bo[qC]=!1,bo.httpXHROverride={isVal:yW,v:ed},bo[yD]=Ec(),bo.transports=ed,bo));function vW(m){return!isNaN(m)&&m>0&&m<=100}o(vW,"_chkSampling");var xW=(Qu={},Qu[Fh.dataType]=AD,Qu[Cp.dataType]=cW,Qu[_p.dataType]=lW,Qu[Ep.dataType]=fW,Qu[xp.dataType]=oW,Qu[um.dataType]=aW,Qu[bp.dataType]=sW,Qu),LD=function(m){q3(v,m);function v(){var E=m.call(this)||this;E.priority=1001,E.identifier=QK;var I,N,$,W,oe,me,Ae,nt=0,Qt,s0,e0,Kt,b0,a0,I0,_0,g0,N0,Tn,Fi,fo,ls,ol,La,Tm,k5,F0,u1,q2,N5,td,Tc,$h;return Vl(v,E,function(S0,Rp){MD(),S0.pause=function(){iE(),$=!0},S0.resume=function(){$&&($=!1,N=null,Zr(),nE())},S0.flush=function(qt,n0,O0){if(qt===void 0&&(qt=!0),!$){iE();try{return S0[bm](qt,null,O0||1)}catch(q0){rr(S0[il](),1,22,"flush failed, telemetry will not be collected: "+Tl(q0),{exception:X0(q0)})}}},S0.onunloadFlush=function(){if(!$)if(I0||u1)try{return S0[bm](!0,Ba,2)}catch(qt){rr(S0[il](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Tl(qt),{exception:X0(qt)})}else S0.flush(!1)},S0.addHeader=function(qt,n0){Ae[qt]=n0},S0.initialize=function(qt,n0,O0,q0){S0.isInitialized()&&rr(S0[il](),1,28,"Sender is already initialized"),Rp.initialize(qt,n0,O0,q0);var W0=S0.identifier;oe=new uW(n0.logger),I=0,N=null,S0[Cm]=null,me=0;var Q0=S0[il]();e0=Z0(If("Sender"),n0.evtNamespace&&n0.evtNamespace()),s0=ZK(e0),S0._addHook(g5(qt,function(Yn){var Jn=Yn.cfg;Jn.storagePrefix&&FK(Jn.storagePrefix);var Wl=Y1(null,Jn,n0),Hr=Wl.getExtCfg(W0,DD);ji(S0,"_senderConfig",{g:function(){return Hr}}),b0!==Hr.endpointUrl&&(Kt=b0=Hr.endpointUrl),N0&&N0!==Hr[HC]&&yn(N0,function(Oa){delete Ae[Oa.header]}),a0=Hr[pD],I0=(Hr[VC]===!1||Hr[zC]===!1)&&_c(),_0=Hr[VC]===!1&&_c(),g0=Hr[zC]===!1&&_c(),u1=Hr[yD],q2=!!Hr.disableXhr;var d1=Hr[qC],ru=!!Hr[vD]&&(!!d1||sD()),Hh=Hr.namePrefix,Lp=ru!==La||ru&&k5!==Hh||ru&&Tm!==d1;if(S0[P5]){if(Lp)try{S0._buffer=S0._buffer[UC](Q0,Hr,ru)}catch(Oa){rr(S0[il](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Tl(Oa),{exception:X0(Oa)})}Zr()}else S0[P5]=ru?new RD(Q0,Hr):new JC(Q0,Hr);k5=Hh,La=ru,Tm=d1,N5=!Hr[xD]&&ju(!0),$h=!!Hr[_D],S0._sample=new mW(Hr.samplingPercentage,Q0),Fi=Hr[bD],IW(Fi,Jn)||rr(Q0,1,100,"Invalid Instrumentation key "+Fi),N0=Hr[HC],!yp(Kt)&&N0&&N0[li]>0?yn(N0,function(Oa){E.addHeader(Oa.header,Oa.value)}):N0=null,F0=Hr.enableSendPromise;var nu=Hr.httpXHROverride,$2=null,L5=null,Yl=ND([3,1,2],Hr.transports);$2=wm(Yl,!1);var Sc={sendPOST:D5};td=o(function(Oa,H2){return u0(Sc,Oa,H2)},"_xhrSend"),Tc=o(function(Oa,H2){return u0(Sc,Oa,H2,!1)},"_fallbackSend"),$2=u1?nu:$2||nu||Sc,S0[Cm]=function(Oa,H2){return u0($2,Oa,H2)},N5&&(Qt=Dp);var Im=ND([3,1],Hr[CD]);N5||(Im=Im.filter(function(Oa){return Oa!==2})),L5=wm(Im,!0),L5=u1?nu:L5||nu,(u1||Hr[CD]||!Qt)&&L5&&(Qt=o(function(Oa,H2){return u0(L5,Oa,H2)},"_syncUnloadSender")),Qt||(Qt=td),Tn=Hr.disableTelemetry,fo=Hr[ED]||ed,ls=Hr.isRetryDisabled,ol=Hr[TD]}))},S0.processTelemetry=function(qt,n0){n0=S0._getTelCtx(n0);var O0=n0[il]();try{var q0=j2(qt,O0);if(!q0)return;var W0=Sm(qt,O0);if(!W0)return;var Q0=oe[Sp](W0),Yn=S0[P5];Zr(Q0),Yn[D2](Q0),nE()}catch(Jn){rr(O0,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Tl(Jn),{exception:X0(Jn)})}S0.processNext(qt,n0)},S0.isCompletelyIdle=function(){return!$&&nt===0&&S0._buffer[L2]()===0},S0[eW]=function(qt,n0,O0){qt.readyState===4&&hn(qt.status,n0,qt.responseURL,O0,sE(qt),Pp(qt)||qt.response)},S0[bm]=function(qt,n0,O0){qt===void 0&&(qt=!0);var q0;if(!$)try{var W0=S0[P5];if(Tn)W0[B2]();else if(W0[L2]()>0){var Q0=W0.getItems();wW(O0||0,qt),n0?q0=n0.call(S0,Q0,qt):q0=S0[Cm](Q0,qt)}iE()}catch(Jn){var Yn=a5();(!Yn||Yn>9)&&rr(S0[il](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Tl(Jn),{exception:X0(Jn)})}return q0},S0.getOfflineSupport=function(){var qt;return qt={getUrl:function(){return Kt},createPayload:kp},qt[Sp]=QC,qt.batch=eE,qt.shouldProcess=function(n0){return!!j2(n0)},qt},S0._doTeardown=function(qt,n0){S0.onunloadFlush(),m5(s0,!1),MD()},S0[O2]=function(qt,n0,O0){rr(S0[il](),2,26,"Failed to send telemetry.",{message:n0}),S0._buffer&&S0._buffer[vm](qt)},S0[GC]=function(qt,n0){for(var O0=[],q0=[],W0=n0.errors.reverse(),Q0=0,Yn=W0;Q0<Yn.length;Q0++){var Jn=Yn[Q0],Wl=qt.splice(Jn.index,1)[0];OD(Jn.statusCode)?q0[qh](Wl):O0[qh](Wl)}qt[li]>0&&S0[wp](qt,n0[Ip]),O0[li]>0&&S0[O2](O0,sE(null,["partial success",n0[Ip],"of",n0.itemsReceived].join(" "))),q0[li]>0&&(rE(q0),rr(S0[il](),2,40,"Partial success. Delivered: "+qt[li]+", Failed: "+O0[li]+". Will retry to send "+q0[li]+" our of "+n0[tW]+" items"))},S0[wp]=function(qt,n0){S0._buffer&&S0._buffer[vm](qt)},S0._xdrOnLoad=function(qt,n0){var O0=Pp(qt);if(qt&&(O0+""=="200"||O0===""))I=0,S0[wp](n0,0);else{var q0=tE(O0);q0&&q0.itemsReceived&&q0.itemsReceived>q0[Ip]&&!ls?S0[GC](n0,q0):S0[O2](n0,FD(qt))}};function j2(qt,n0){if(Tn)return!1;if(!qt)return n0&&rr(n0,1,7,"Cannot send empty telemetry"),!1;if(qt.baseData&&!qt[KC])return n0&&rr(n0,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(qt[KC]||(qt[KC]="EventData"),!S0[Cm])return n0&&rr(n0,1,28,"Sender was not initialized"),!1;if(Np(qt))qt[Qo]=S0._sample[Ap];else return n0&&rr(n0,2,33,"Telemetry item was sampled out and not sent",{SampleRate:S0._sample[Ap]}),!1;return!0}o(j2,"_validate");function Sm(qt,n0){var O0=qt.iKey||Fi,q0=v.constructEnvelope(qt,O0,n0,fo);if(!q0){rr(n0,1,47,"Unable to create an AppInsights envelope");return}var W0=!1;if(qt[Il]&&qt[Il][va]&&(yn(qt[Il][va],function(Q0){try{Q0&&Q0(q0)===!1&&(W0=!0,v5(n0,"Telemetry processor check returns false"))}catch(Yn){rr(n0,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Tl(Yn),{exception:X0(Yn)},!0)}}),delete qt[Il][va]),!W0)return q0}o(Sm,"_getEnvelope");function QC(qt){var n0=kD,O0=S0[il]();try{var q0=j2(qt,O0),W0=null;q0&&(W0=Sm(qt,O0)),W0&&(n0=oe[Sp](W0))}catch{}return n0}o(QC,"_serialize");function eE(qt){var n0=kD;return qt&&qt[li]&&(n0="["+qt.join(",")+"]"),n0}o(eE,"_batch");function kp(qt){var n0,O0=Ae;return yp(Kt)&&(O0[T5[6]]=T5[7]),n0={urlString:Kt},n0[nl]=qt,n0.headers=O0,n0}o(kp,"_createPayload");function Np(qt){return S0._sample.isSampledIn(qt)}o(Np,"_isSampledIn");function wm(qt,n0){for(var O0,q0=null,W0=null,Q0=0;W0==null&&Q0<qt[li];)q0=qt[Q0],!q2&&q0===1?o2()?W0=TW:yh()&&(W0=D5):q0===2&&ju(n0)?W0=wn:q0===3&&(n0?_0:g0)&&(W0=Pf),Q0++;return W0?(O0={},O0[$C]=W0,O0):null}o(wm,"_getSenderInterface");function rd(qt,n0,O0,q0){n0===200&&qt?S0._onSuccess(qt,qt[li]):q0&&S0[O2](qt,q0)}o(rd,"_getOnComplete");function u0(qt,n0,O0,q0){q0===void 0&&(q0=!0);var W0=o(function(Jn,Wl,Hr){return rd(n0,Jn,Wl,Hr)},"onComplete"),Q0=H0(n0),Yn=qt&&qt[$C];return Yn&&Q0?(q0&&S0._buffer[jh](n0),Yn(Q0,W0,!O0)):null}o(u0,"_doSend");function H0(qt){var n0;if(ge(qt)&&qt[li]>0){var O0=S0._buffer[MC](qt),q0=(n0={},n0[nl]=O0,n0.urlString=Kt,n0.headers=Ae,n0.disableXhrSync=q2,n0.disableFetchKeepAlive=!N5,n0[Em]=qt,n0);return q0}return null}o(H0,"_getPayload");function wn(qt,n0,O0){return BD(qt,n0,!1)}o(wn,"_fetchSender");function Zr(qt){var n0=qt?qt[li]:0;return S0[P5].size()+n0>a0?((!s0||s0.isOnline())&&S0[bm](!0,null,10),!0):!1}o(Zr,"_checkMaxSize");function hn(qt,n0,O0,q0,W0,Q0){var Yn=null;if(S0._appId||(Yn=tE(Q0),Yn&&Yn.appId&&(S0._appId=Yn.appId)),(qt<200||qt>=300)&&qt!==0){if((qt===301||qt===307||qt===308)&&!is(O0)){S0[O2](n0,W0);return}!ls&&OD(qt)?(rE(n0),rr(S0[il](),2,40,". Response code "+qt+". Will retry to send "+n0[li]+" items.")):S0[O2](n0,W0)}else if(s0&&!s0.isOnline()){if(!ls){var Jn=10;rE(n0,Jn),rr(S0[il](),2,40,". Offline - Response Code: ".concat(qt,". Offline status: ").concat(!s0.isOnline(),". Will retry to send ").concat(n0.length," items."))}}else is(O0),qt===206?(Yn||(Yn=tE(Q0)),Yn&&!ls?S0[GC](n0,Yn):S0[O2](n0,W0)):(I=0,S0[wp](n0,q0))}o(hn,"_checkResponsStatus");function is(qt){return me>=10?!1:!de(qt)&&qt!==""&&qt!==Kt?(Kt=qt,++me,!0):!1}o(is,"_checkAndUpdateEndPointUrl");function Ti(qt,n0,O0,q0){try{qt(n0,O0,q0)}catch{}}o(Ti,"_doOnComplete");function Ba(qt,n0){if(Qt)Qt(qt,!1);else{var O0=H0(qt);S0._buffer[jh](qt),Pf(O0)}}o(Ba,"_doUnloadSend");function Ya(qt,n0){var O0=R1(),q0=Kt,W0=S0[P5],Q0=W0[MC](qt),Yn=new Blob([Q0],{type:"text/plain;charset=UTF-8"}),Jn=O0.sendBeacon(q0,Yn);return Jn&&S0._onSuccess(qt,qt[li]),Jn}o(Ya,"_doBeaconSend");function Pf(qt,n0,O0){var q0=qt,W0=q0&&q0[Em];if(ge(W0)&&W0[li]>0&&!Ya(W0))if($h)Tc&&Tc(W0,!0),rr(S0[il](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Q0=[],Yn=0;Yn<W0[li];Yn++){var Jn=W0[Yn];Ya([Jn])||Q0[qh](Jn)}Q0[li]>0&&(Tc&&Tc(Q0,!0),rr(S0[il](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Pf,"_beaconSender");function D5(qt,n0,O0){var q0=qt,W0,Q0,Yn,Jn=new XMLHttpRequest,Wl=Kt;try{Jn[Ia]=!0}catch{}return Jn.open("POST",Wl,!O0),Jn[WC]("Content-type","application/json"),yp(Wl)&&Jn[WC](T5[6],T5[7]),yn(Ka(Ae),function(Hr){Jn[WC](Hr,Ae[Hr])}),Jn.onreadystatechange=function(){var Hr=q0[Em];S0._xhrReadyStateChange(Jn,Hr,Hr[li]),Jn.readyState===4&&Q0&&Q0(!0)},Jn.onerror=function(Hr){Ti(n0,400,{},sE(Jn)),Yn&&Yn(Hr)},!O0&&F0&&(W0=t5(function(Hr,d1){Q0=Hr,Yn=d1})),Jn.send(qt[nl]),W0}o(D5,"_xhrSender");function Dp(qt,n0){var O0=o(function(Yn,Jn,Wl){return rd(qt,Yn,Jn,Wl)},"onComplete");if(ge(qt)){for(var q0=qt[li],W0=0;W0<qt[li];W0++)q0+=qt[W0][li];var Q0=H0(qt);S0._buffer[jh](qt),nt+q0<=pW?BD(Q0,O0,!0):_c()?Pf(Q0):(Tc&&Tc(qt,!0),rr(S0[il](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(Dp,"_fetchKeepAliveSender");function BD(qt,n0,O0){var q0,W0=Kt,Q0=qt,Yn=Q0[nl],Jn=new Blob([Yn],{type:"application/json"}),Wl,Hr,d1,ru=new Headers,Hh=Yn[li],Lp=!1,nu=!1;yp(W0)&&ru.append(T5[6],T5[7]),yn(Ka(Ae),function(Yl){ru.append(Yl,Ae[Yl])});var $2=(q0={method:"POST",headers:ru,body:Jn},q0[Ia]=!0,q0);O0&&($2.keepalive=!0,Lp=!0,nt+=Hh);var L5=new Request(W0,$2);try{L5[Ia]=!0}catch{}!O0&&F0&&(Wl=t5(function(Yl,Sc){Hr=Yl,d1=Sc}));try{ch(fetch(L5),function(Yl){if(O0&&(nt-=Hh,Hh=0),!nu)if(nu=!0,Yl.rejected)Ti(n0,400,{},Yl.reason&&Yl.reason.message),d1&&d1(Yl.reason);else{var Sc=Yl.value;Sc.ok?ch(Sc.text(),function(Im){var Oa=Q0[Em];hn(Sc.status,Oa,Sc.url,Oa[li],Sc.statusText,Im.value||""),Hr&&Hr(!0)}):(Ti(n0,400,{},Sc.statusText),Hr&&Hr(!1))}})}catch(Yl){nu||(Ti(n0,400,{},X0(Yl)),d1&&d1(Yl))}return Lp&&!nu&&(nu=!0,Ti(n0,200,{}),Hr&&Hr(!0)),Wl}o(BD,"_doFetchSender");function tE(qt){try{if(qt&&qt!==""){var n0=xc().parse(qt);if(n0&&n0.itemsReceived&&n0.itemsReceived>=n0[Ip]&&n0.itemsReceived-n0.itemsAccepted===n0.errors[li])return n0}}catch(O0){rr(S0[il](),1,43,"Cannot parse the response. "+Tl(O0),{response:qt})}return null}o(tE,"_parseResponse");function rE(qt,n0){if(n0===void 0&&(n0=1),!(!qt||qt[li]===0)){var O0=S0[P5];O0[vm](qt),I++;for(var q0=0,W0=qt;q0<W0.length;q0++){var Q0=W0[q0];O0[D2](Q0)}EW(n0),nE()}}o(rE,"_resendPayload");function EW(qt){var n0=10,O0;if(I<=1)O0=n0;else{var q0=(Math.pow(2,I)-1)/2,W0=Math.floor(Math.random()*q0*n0)+1;W0=qt*W0,O0=Math.max(Math.min(W0,3600),n0)}var Q0=N1()+O0*1e3;N=Q0}o(EW,"_setRetryTime");function nE(){if(!W&&!$){var qt=N?Math.max(0,N-N1()):0,n0=Math.max(ol,qt);W=mc(function(){W=null,S0[bm](!0,null,1)},n0)}}o(nE,"_setupTimer");function iE(){W&&W.cancel(),W=null,N=null}o(iE,"_clearScheduledTimer");function OD(qt){return qt===401||qt===403||qt===408||qt===429||qt===500||qt===502||qt===503||qt===504}o(OD,"_isRetriable");function sE(qt,n0){return qt?"XMLHttpRequest,Status:"+qt.status+",Response:"+Pp(qt)||qt.response||"":n0}o(sE,"_formatErrorMessageXhr");function TW(qt,n0,O0){var q0=qt,W0=Jc(),Q0=new XDomainRequest,Yn=q0[nl];Q0.onload=function(){var Hr=q0[Em];S0._xdrOnLoad(Q0,Hr)},Q0.onerror=function(){Ti(n0,400,{},FD(Q0))};var Jn=W0&&W0.location&&W0.location.protocol||"";if(Kt.lastIndexOf(Jn,0)!==0){rr(S0[il](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),S0._buffer[B2]();return}var Wl=Kt.replace(/^(https?:)/,"");Q0.open("POST",Wl),Q0.send(Yn)}o(TW,"_xdrSender");function FD(qt,n0){return qt?"XDomainRequest,Response:"+Pp(qt)||"":n0}o(FD,"_formatErrorMessageXdr");function SW(){var qt="getNotifyMgr";return S0.core[qt]?S0.core[qt]():S0.core._notificationManager}o(SW,"_getNotifyMgr");function wW(qt,n0){var O0=SW();if(O0&&O0[SD])try{O0[SD](qt,n0)}catch(q0){rr(S0[il](),1,74,"send request notification failed: "+Tl(q0),{exception:X0(q0)})}}o(wW,"_notifySendRequest");function IW(qt,n0){var O0=n0.disableInstrumentationKeyValidation,q0=de(O0)?!1:O0;if(q0)return!0;var W0="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Q0=new RegExp(W0);return Q0.test(qt)}o(IW,"_validateInstrumentationKey");function MD(){S0[Cm]=null,S0[P5]=null,S0._appId=null,S0._sample=null,Ae={},s0=null,I=0,N=null,$=!1,W=null,oe=null,me=0,nt=0,Qt=null,e0=null,Kt=null,b0=null,a0=0,I0=!1,N0=null,Tn=!1,Fi=null,fo=ed,ls=!1,La=null,k5=ed,q2=!1,N5=!1,$h=!1,td=null,Tc=null,ji(S0,"_senderConfig",{g:function(){return s2({},DD)}})}o(MD,"_initDefaults")}),E}return o(v,"Sender"),v.constructEnvelope=function(E,I,N,$){var W;I!==E.iKey&&!de(I)?W=O1(O1({},E),{iKey:I}):W=E;var oe=xW[W.baseType]||AD;return oe(N,W,$)},v}(im),XC="instrumentationKey",ZC="connectionString",_W={diagnosticLogInterval:h2(bW,1e4)};function bW(m){return m&&m>0}o(bW,"_chkDiagLevel");var CW=function(){function m(v){var E=new In,I;(de(v)||de(v[XC])&&de(v[ZC]))&&Li("Invalid input configuration"),Vl(m,this,function($){ji($,"config",{g:function(){return I}}),W(),$.initialize=W,$.track=N,wg($,E,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function W(){var oe=rl(v||{},_W);I=oe.cfg,E.addUnloadHook(g5(oe,function(){if(I[ZC]){var me=$K(I[ZC]),Ae=me.ingestionendpoint;I.endpointUrl=Ae?Ae+f1:I.endpointUrl,I[XC]=me.instrumentationkey||I[XC]}})),E.initialize(I,[new LD])}o(W,"_initialize")});function N($){$&&($.baseData=$.baseData||{},$.baseType=$.baseType||"EventData"),E.track($)}o(N,"_track")}return o(m,"ApplicationInsights"),m.__ieDyn=1,m}();e.AppInsightsCore=In,e.ApplicationInsights=CW,e.Sender=LD,e.SeverityLevel=XK,e.arrForEach=yn,e.isNullOrUndefined=de,e.proxyFunctions=wg,e.throwError=Li})});var wA=ot((g3e,Wq)=>{"use strict";var Kq=require("fs"),SA;function gte(){try{return Kq.statSync("/.dockerenv"),!0}catch{return!1}}o(gte,"hasDockerEnv");function mte(){try{return Kq.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(mte,"hasDockerCGroup");Wq.exports=()=>(SA===void 0&&(SA=gte()||mte()),SA)});var Xq=ot((p3e,IA)=>{"use strict";var pte=require("os"),yte=require("fs"),Yq=wA(),Jq=o(()=>{if(process.platform!=="linux")return!1;if(pte.release().toLowerCase().includes("microsoft"))return!Yq();try{return yte.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Yq():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?IA.exports=Jq:IA.exports=Jq()});var Qq=ot((v3e,Zq)=>{"use strict";Zq.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var oj=ot((_3e,sj)=>{var vte=require("path"),xte=require("child_process"),{promises:Ox,constants:ij}=require("fs"),Bx=Xq(),_te=wA(),PA=Qq(),ej=vte.join(__dirname,"xdg-open"),{platform:o6,arch:tj}=process,bte=o(()=>{try{return Ox.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),AA;function Cte(){return AA===void 0&&(AA=bte()||_te()),AA}o(Cte,"isInsideContainer");var Ete=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Ox.access(r,ij.F_OK),n=!0}catch{}if(!n)return e;let s=await Ox.readFile(r,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return l?(t=l.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),rj=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),Fx=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return rj(e.app,f=>Fx({...e,app:f}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return rj(t,f=>Fx({...e,app:{name:f,arguments:r}}));let n,s=[],l={};if(o6==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if(o6==="win32"||Bx&&!Cte()&&!t){let f=await Ete();n=Bx?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Bx||(l.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let f=!__dirname||__dirname==="/",c=!1;try{await Ox.access(ej,ij.X_OK),c=!0}catch{}n=process.versions.electron||o6==="android"||f||!c?"xdg-open":ej}r.length>0&&s.push(...r),e.wait||(l.stdio="ignore",l.detached=!0)}e.target&&s.push(e.target),o6==="darwin"&&r.length>0&&s.push("--args",...r);let a=xte.spawn(n,s,l);return e.wait?new Promise((f,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}f(a)})}):(a.unref(),a)},"baseOpen"),RA=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Fx({...t,target:e})},"open"),Tte=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return Fx({...t,app:{name:e,arguments:r}})},"openApp");function nj(e){if(typeof e=="string"||Array.isArray(e))return e;let{[tj]:t}=e;if(!t)throw new Error(`${tj} is not supported`);return t}o(nj,"detectArchBinary");function kA({[o6]:e},{wsl:t}){if(t&&Bx)return nj(t);if(!e)throw new Error(`${o6} is not supported`);return nj(e)}o(kA,"detectPlatformBinary");var Mx={};PA(Mx,"chrome",()=>kA({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));PA(Mx,"firefox",()=>kA({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));PA(Mx,"edge",()=>kA({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));RA.apps=Mx;RA.openApp=Tte;sj.exports=RA});var y4=ot((_9,FA)=>{(function(e,t){if(typeof _9=="object"&&typeof FA=="object")FA.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof _9=="object"?_9:e)[n]=r[n]}})(_9,()=>(()=>{"use strict";var e={470:s=>{function l(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}o(l,"e");function a(c,u){for(var d,h="",p=0,g=-1,y=0,_=0;_<=c.length;++_){if(_<c.length)d=c.charCodeAt(_);else{if(d===47)break;d=47}if(d===47){if(!(g===_-1||y===1))if(g!==_-1&&y===2){if(h.length<2||p!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var S=h.lastIndexOf("/");if(S!==h.length-1){S===-1?(h="",p=0):p=(h=h.slice(0,S)).length-1-h.lastIndexOf("/"),g=_,y=0;continue}}else if(h.length===2||h.length===1){h="",p=0,g=_,y=0;continue}}u&&(h.length>0?h+="/..":h="..",p=2)}else h.length>0?h+="/"+c.slice(g+1,_):h=c.slice(g+1,_),p=_-g-1;g=_,y=0}else d===46&&y!==-1?++y:y=-1}return h}o(a,"r");var f={resolve:function(){for(var c,u="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var p;h>=0?p=arguments[h]:(c===void 0&&(c=process.cwd()),p=c),l(p),p.length!==0&&(u=p+"/"+u,d=p.charCodeAt(0)===47)}return u=a(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(l(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=a(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return l(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];l(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":f.normalize(c)},relative:function(c,u){if(l(c),l(u),c===u||(c=f.resolve(c))===(u=f.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,p=h-d,g=1;g<u.length&&u.charCodeAt(g)===47;++g);for(var y=u.length-g,_=p<y?p:y,S=-1,w=0;w<=_;++w){if(w===_){if(y>_){if(u.charCodeAt(g+w)===47)return u.slice(g+w+1);if(w===0)return u.slice(g+w)}else p>_&&(c.charCodeAt(d+w)===47?S=w:w===0&&(S=0));break}var P=c.charCodeAt(d+w);if(P!==u.charCodeAt(g+w))break;P===47&&(S=w)}var D="";for(w=d+S+1;w<=h;++w)w!==h&&c.charCodeAt(w)!==47||(D.length===0?D+="..":D+="/..");return D.length>0?D+u.slice(g+S):(g+=S,u.charCodeAt(g)===47&&++g,u.slice(g))},_makeLong:function(c){return c},dirname:function(c){if(l(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,h=-1,p=!0,g=c.length-1;g>=1;--g)if((u=c.charCodeAt(g))===47){if(!p){h=g;break}}else p=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');l(c);var d,h=0,p=-1,g=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var y=u.length-1,_=-1;for(d=c.length-1;d>=0;--d){var S=c.charCodeAt(d);if(S===47){if(!g){h=d+1;break}}else _===-1&&(g=!1,_=d+1),y>=0&&(S===u.charCodeAt(y)?--y==-1&&(p=d):(y=-1,p=_))}return h===p?p=_:p===-1&&(p=c.length),c.slice(h,p)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!g){h=d+1;break}}else p===-1&&(g=!1,p=d+1);return p===-1?"":c.slice(h,p)},extname:function(c){l(c);for(var u=-1,d=0,h=-1,p=!0,g=0,y=c.length-1;y>=0;--y){var _=c.charCodeAt(y);if(_!==47)h===-1&&(p=!1,h=y+1),_===46?u===-1?u=y:g!==1&&(g=1):u!==-1&&(g=-1);else if(!p){d=y+1;break}}return u===-1||h===-1||g===0||g===1&&u===h-1&&u===d+1?"":c.slice(u,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var h=d.dir||d.root,p=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+p:h+"/"+p:p}(0,c)},parse:function(c){l(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,h=c.charCodeAt(0),p=h===47;p?(u.root="/",d=1):d=0;for(var g=-1,y=0,_=-1,S=!0,w=c.length-1,P=0;w>=d;--w)if((h=c.charCodeAt(w))!==47)_===-1&&(S=!1,_=w+1),h===46?g===-1?g=w:P!==1&&(P=1):g!==-1&&(P=-1);else if(!S){y=w+1;break}return g===-1||_===-1||P===0||P===1&&g===_-1&&g===y+1?_!==-1&&(u.base=u.name=y===0&&p?c.slice(1,_):c.slice(y,_)):(y===0&&p?(u.name=c.slice(1,g),u.base=c.slice(1,_)):(u.name=c.slice(y,g),u.base=c.slice(y,_)),u.ext=c.slice(g,_)),y>0?u.dir=c.slice(0,y-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},674:(s,l)=>{if(Object.defineProperty(l,"__esModule",{value:!0}),l.isWindows=void 0,typeof process=="object")l.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;l.isWindows=a.indexOf("Windows")>=0}},796:function(s,l,a){var f,c,u=this&&this.__extends||(f=o(function(ke,pe){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pt,Ht){Pt.__proto__=Ht}||function(Pt,Ht){for(var $t in Ht)Object.prototype.hasOwnProperty.call(Ht,$t)&&(Pt[$t]=Ht[$t])},f(ke,pe)},"n"),function(ke,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function Pt(){this.constructor=ke}o(Pt,"r"),f(ke,pe),ke.prototype=pe===null?Object.create(pe):(Pt.prototype=pe.prototype,new Pt)});Object.defineProperty(l,"__esModule",{value:!0}),l.uriToFsPath=l.URI=void 0;var d=a(674),h=/^\w[\w\d+.-]*$/,p=/^\//,g=/^\/\//;function y(ke,pe){if(!ke.scheme&&pe)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ke.authority,'", path: "').concat(ke.path,'", query: "').concat(ke.query,'", fragment: "').concat(ke.fragment,'"}'));if(ke.scheme&&!h.test(ke.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ke.path){if(ke.authority){if(!p.test(ke.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(g.test(ke.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(y,"f");var _="",S="/",w=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,P=function(){function ke(pe,Pt,Ht,$t,d0,rt){rt===void 0&&(rt=!1),typeof pe=="object"?(this.scheme=pe.scheme||_,this.authority=pe.authority||_,this.path=pe.path||_,this.query=pe.query||_,this.fragment=pe.fragment||_):(this.scheme=function(Nt,de){return Nt||de?Nt:"file"}(pe,rt),this.authority=Pt||_,this.path=function(Nt,de){switch(Nt){case"https":case"http":case"file":de?de[0]!==S&&(de=S+de):de=S}return de}(this.scheme,Ht||_),this.query=$t||_,this.fragment=d0||_,y(this,rt))}return o(ke,"t"),ke.isUri=function(pe){return pe instanceof ke||!!pe&&typeof pe.authority=="string"&&typeof pe.fragment=="string"&&typeof pe.path=="string"&&typeof pe.query=="string"&&typeof pe.scheme=="string"&&typeof pe.fsPath=="string"&&typeof pe.with=="function"&&typeof pe.toString=="function"},Object.defineProperty(ke.prototype,"fsPath",{get:function(){return ce(this,!1)},enumerable:!1,configurable:!0}),ke.prototype.with=function(pe){if(!pe)return this;var Pt=pe.scheme,Ht=pe.authority,$t=pe.path,d0=pe.query,rt=pe.fragment;return Pt===void 0?Pt=this.scheme:Pt===null&&(Pt=_),Ht===void 0?Ht=this.authority:Ht===null&&(Ht=_),$t===void 0?$t=this.path:$t===null&&($t=_),d0===void 0?d0=this.query:d0===null&&(d0=_),rt===void 0?rt=this.fragment:rt===null&&(rt=_),Pt===this.scheme&&Ht===this.authority&&$t===this.path&&d0===this.query&&rt===this.fragment?this:new L(Pt,Ht,$t,d0,rt)},ke.parse=function(pe,Pt){Pt===void 0&&(Pt=!1);var Ht=w.exec(pe);return Ht?new L(Ht[2]||_,Ft(Ht[4]||_),Ft(Ht[5]||_),Ft(Ht[7]||_),Ft(Ht[9]||_),Pt):new L(_,_,_,_,_)},ke.file=function(pe){var Pt=_;if(d.isWindows&&(pe=pe.replace(/\\/g,S)),pe[0]===S&&pe[1]===S){var Ht=pe.indexOf(S,2);Ht===-1?(Pt=pe.substring(2),pe=S):(Pt=pe.substring(2,Ht),pe=pe.substring(Ht)||S)}return new L("file",Pt,pe,_,_)},ke.from=function(pe){var Pt=new L(pe.scheme,pe.authority,pe.path,pe.query,pe.fragment);return y(Pt,!0),Pt},ke.prototype.toString=function(pe){return pe===void 0&&(pe=!1),Ge(this,pe)},ke.prototype.toJSON=function(){return this},ke.revive=function(pe){if(pe){if(pe instanceof ke)return pe;var Pt=new L(pe);return Pt._formatted=pe.external,Pt._fsPath=pe._sep===D?pe.fsPath:null,Pt}return pe},ke}();l.URI=P;var D=d.isWindows?1:void 0,L=function(ke){function pe(){var Pt=ke!==null&&ke.apply(this,arguments)||this;return Pt._formatted=null,Pt._fsPath=null,Pt}return o(pe,"e"),u(pe,ke),Object.defineProperty(pe.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ce(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),pe.prototype.toString=function(Pt){return Pt===void 0&&(Pt=!1),Pt?Ge(this,!0):(this._formatted||(this._formatted=Ge(this,!1)),this._formatted)},pe.prototype.toJSON=function(){var Pt={$mid:1};return this._fsPath&&(Pt.fsPath=this._fsPath,Pt._sep=D),this._formatted&&(Pt.external=this._formatted),this.path&&(Pt.path=this.path),this.scheme&&(Pt.scheme=this.scheme),this.authority&&(Pt.authority=this.authority),this.query&&(Pt.query=this.query),this.fragment&&(Pt.fragment=this.fragment),Pt},pe}(P),k=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function B(ke,pe,Pt){for(var Ht=void 0,$t=-1,d0=0;d0<ke.length;d0++){var rt=ke.charCodeAt(d0);if(rt>=97&&rt<=122||rt>=65&&rt<=90||rt>=48&&rt<=57||rt===45||rt===46||rt===95||rt===126||pe&&rt===47||Pt&&rt===91||Pt&&rt===93||Pt&&rt===58)$t!==-1&&(Ht+=encodeURIComponent(ke.substring($t,d0)),$t=-1),Ht!==void 0&&(Ht+=ke.charAt(d0));else{Ht===void 0&&(Ht=ke.substr(0,d0));var Nt=k[rt];Nt!==void 0?($t!==-1&&(Ht+=encodeURIComponent(ke.substring($t,d0)),$t=-1),Ht+=Nt):$t===-1&&($t=d0)}}return $t!==-1&&(Ht+=encodeURIComponent(ke.substring($t))),Ht!==void 0?Ht:ke}o(B,"m");function ne(ke){for(var pe=void 0,Pt=0;Pt<ke.length;Pt++){var Ht=ke.charCodeAt(Pt);Ht===35||Ht===63?(pe===void 0&&(pe=ke.substr(0,Pt)),pe+=k[Ht]):pe!==void 0&&(pe+=ke[Pt])}return pe!==void 0?pe:ke}o(ne,"b");function ce(ke,pe){var Pt;return Pt=ke.authority&&ke.path.length>1&&ke.scheme==="file"?"//".concat(ke.authority).concat(ke.path):ke.path.charCodeAt(0)===47&&(ke.path.charCodeAt(1)>=65&&ke.path.charCodeAt(1)<=90||ke.path.charCodeAt(1)>=97&&ke.path.charCodeAt(1)<=122)&&ke.path.charCodeAt(2)===58?pe?ke.path.substr(1):ke.path[1].toLowerCase()+ke.path.substr(2):ke.path,d.isWindows&&(Pt=Pt.replace(/\//g,"\\")),Pt}o(ce,"C");function Ge(ke,pe){var Pt=pe?ne:B,Ht="",$t=ke.scheme,d0=ke.authority,rt=ke.path,Nt=ke.query,de=ke.fragment;if($t&&(Ht+=$t,Ht+=":"),(d0||$t==="file")&&(Ht+=S,Ht+=S),d0){var xe=d0.indexOf("@");if(xe!==-1){var r0=d0.substr(0,xe);d0=d0.substr(xe+1),(xe=r0.lastIndexOf(":"))===-1?Ht+=Pt(r0,!1,!1):(Ht+=Pt(r0.substr(0,xe),!1,!1),Ht+=":",Ht+=Pt(r0.substr(xe+1),!1,!0)),Ht+="@"}(xe=(d0=d0.toLowerCase()).lastIndexOf(":"))===-1?Ht+=Pt(d0,!1,!0):(Ht+=Pt(d0.substr(0,xe),!1,!0),Ht+=d0.substr(xe))}if(rt){if(rt.length>=3&&rt.charCodeAt(0)===47&&rt.charCodeAt(2)===58)(T0=rt.charCodeAt(1))>=65&&T0<=90&&(rt="/".concat(String.fromCharCode(T0+32),":").concat(rt.substr(3)));else if(rt.length>=2&&rt.charCodeAt(1)===58){var T0;(T0=rt.charCodeAt(0))>=65&&T0<=90&&(rt="".concat(String.fromCharCode(T0+32),":").concat(rt.substr(2)))}Ht+=Pt(rt,!0,!1)}return Nt&&(Ht+="?",Ht+=Pt(Nt,!1,!1)),de&&(Ht+="#",Ht+=pe?de:B(de,!1,!1)),Ht}o(Ge,"A");function st(ke){try{return decodeURIComponent(ke)}catch{return ke.length>3?ke.substr(0,3)+st(ke.substr(3)):ke}}o(st,"w"),l.uriToFsPath=ce;var Qe=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ft(ke){return ke.match(Qe)?ke.replace(Qe,function(pe){return st(pe)}):ke}o(Ft,"x")},679:function(s,l,a){var f=this&&this.__spreadArray||function(p,g,y){if(y||arguments.length===2)for(var _,S=0,w=g.length;S<w;S++)!_&&S in g||(_||(_=Array.prototype.slice.call(g,0,S)),_[S]=g[S]);return p.concat(_||Array.prototype.slice.call(g))};Object.defineProperty(l,"__esModule",{value:!0}),l.Utils=void 0;var c,u=a(470),d=u.posix||u,h="/";(c=l.Utils||(l.Utils={})).joinPath=function(p){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];return p.with({path:d.join.apply(d,f([p.path],g,!1))})},c.resolvePath=function(p){for(var g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];var _=p.path,S=!1;_[0]!==h&&(_=h+_,S=!0);var w=d.resolve.apply(d,f([_],g,!1));return S&&w[0]===h&&!p.authority&&(w=w.substring(1)),p.with({path:w})},c.dirname=function(p){if(p.path.length===0||p.path===h)return p;var g=d.dirname(p.path);return g.length===1&&g.charCodeAt(0)===46&&(g=""),p.with({path:g})},c.basename=function(p){return d.basename(p.path)},c.extname=function(p){return d.extname(p.path)}}},t={};function r(s){var l=t[s];if(l!==void 0)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var l=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return l.URI}});var a=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var VA=ot((F2e,dj)=>{"use strict";dj.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var gj=ot((U2e,hj)=>{"use strict";var Ate=VA();function Pte(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=Ate(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(Pte,"parsePath");hj.exports=Pte});var yj=ot((j2e,pj)=>{"use strict";var Rte=gj();function kte(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(kte,"_interopDefaultLegacy");var Nte=kte(Rte),Dte="text/plain",Lte="us-ascii",mj=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),Bte=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:l}=r.groups,a=n.split(";");l=t?"":l;let f=!1;a[a.length-1]==="base64"&&(a.pop(),f=!0);let c=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[p,g=""]=h.split("=").map(y=>y.trim());return p==="charset"&&(g=g.toLowerCase(),g===Lte)?"":`${p}${g?`=${g}`:""}`}).filter(Boolean)];return f&&d.push("base64"),(d.length>0||c&&c!==Dte)&&d.unshift(c),`data:${d.join(";")},${f?s.trim():s}${l?`#${l}`:""}`},"normalizeDataURL");function Ote(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return Bte(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,f=0,c="";for(;;){let d=a.exec(s.pathname);if(!d)break;let h=d[0],p=d.index,g=s.pathname.slice(f,p);c+=g.replace(/\/{2,}/g,"/"),c+=h,f=p+h.length}let u=s.pathname.slice(f,s.pathname.length);c+=u.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=s.pathname.split("/"),f=a[a.length-1];mj(f,t.removeDirectoryIndex)&&(a=a.slice(0,-1),s.pathname=a.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...s.searchParams.keys()])mj(a,t.removeQueryParameters)&&s.searchParams.delete(a);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let l=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!l.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(Ote,"normalizeUrl");var zA=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(l=>{let a=new Error(l);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>zA.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=Ote(e,t));let s=Nte.default(e);if(s.parse_failed){let l=s.href.match(r);l?(s.protocols=["ssh"],s.protocol="ssh",s.resource=l[2],s.host=l[2],s.user=l[1],s.pathname=`/${l[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");zA.MAX_INPUT_LENGTH=2048;pj.exports=zA});var _j=ot((H2e,xj)=>{"use strict";var Fte=VA();function vj(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=Fte(e);if(e=e.substring(e.indexOf("://")+3),vj(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(vj,"isSsh");xj.exports=vj});var Ej=ot((z2e,Cj)=>{"use strict";var Mte=yj(),bj=_j();function Ute(e){var t=Mte(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),bj(t.protocols)||t.protocols.length===0&&bj(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(Ute,"gitUp");Cj.exports=Ute});var Sj=ot((K2e,Tj)=>{"use strict";var qte=Ej();function GA(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=qte(e),n=r.resource.split("."),s=null;switch(r.toString=function(S){return GA.stringify(this,S)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var l=s.length-1;if(s.length>=2){var a=s.indexOf("-",2),f=s.indexOf("blob",2),c=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("src",2),h=s.indexOf("raw",2),p=s.indexOf("edit",2);l=a>0?a-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:h>0?h-1:p>0?p-1:l,r.owner=s.slice(0,l).join("/"),r.name=s[l],u&&(r.commit=s[l+2])}r.ref="",r.filepathtype="",r.filepath="";var g=s.length>l&&s[l+1]==="-"?l+1:l;s.length>g+2&&["raw","src","blob","tree","edit"].indexOf(s[g+1])>=0&&(r.filepathtype=s[g+1],r.ref=s[g+2],s.length>g+3&&(r.filepath=s.slice(g+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var y=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=y.exec(r.pathname);return _!=null&&(r.source="bitbucket-server",_[1]==="users"?r.owner="~"+_[2]:r.owner=_[2],r.organization=r.owner,r.name=_[3],s=_[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o(GA,"gitUrlParse");GA.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var l=e.token?jte(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+l+e.resource+r+"/"+$te(e)+s;default:return e.href}};function jte(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(jte,"buildToken");function $te(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o($te,"buildPath");Tj.exports=GA});var z$=ot((Lhe,V$)=>{"use strict";V$.exports=$$;function $$(e,t,r){e instanceof RegExp&&(e=j$(e,r)),t instanceof RegExp&&(t=j$(t,r));var n=H$(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o($$,"balanced");function j$(e,t){var r=t.match(e);return r?r[0]:null}o(j$,"maybeMatch");$$.range=H$;function H$(e,t,r){var n,s,l,a,f,c=r.indexOf(e),u=r.indexOf(t,c+1),d=c;if(c>=0&&u>0){for(n=[],l=r.length;d>=0&&!f;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?f=[n.pop(),u]:(s=n.pop(),s<l&&(l=s,a=u),u=r.indexOf(t,d+1)),d=c<u&&c>=0?c:u;n.length&&(f=[l,a])}return f}o(H$,"range")});var Q$=ot((Ohe,Z$)=>{var G$=z$();Z$.exports=v0e;var K$="\0SLASH"+Math.random()+"\0",W$="\0OPEN"+Math.random()+"\0",BP="\0CLOSE"+Math.random()+"\0",Y$="\0COMMA"+Math.random()+"\0",J$="\0PERIOD"+Math.random()+"\0";function LP(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(LP,"numeric");function p0e(e){return e.split("\\\\").join(K$).split("\\{").join(W$).split("\\}").join(BP).split("\\,").join(Y$).split("\\.").join(J$)}o(p0e,"escapeBraces");function y0e(e){return e.split(K$).join("\\").split(W$).join("{").split(BP).join("}").split(Y$).join(",").split(J$).join(".")}o(y0e,"unescapeBraces");function X$(e){if(!e)return[""];var t=[],r=G$("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,l=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var f=X$(l);return l.length&&(a[a.length-1]+=f.shift(),a.push.apply(a,f)),t.push.apply(t,a),t}o(X$,"parseCommaParts");function v0e(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),k9(p0e(e),!0).map(y0e)):[]}o(v0e,"expandTop");function x0e(e){return"{"+e+"}"}o(x0e,"embrace");function _0e(e){return/^-?0\d/.test(e)}o(_0e,"isPadded");function b0e(e,t){return e<=t}o(b0e,"lte");function C0e(e,t){return e>=t}o(C0e,"gte");function k9(e,t){var r=[],n=G$("{","}",e);if(!n)return[e];var s=n.pre,l=n.post.length?k9(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<l.length;a++){var f=s+"{"+n.body+"}"+l[a];r.push(f)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=c||u,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+BP+n.post,k9(e)):[e];var p;if(d)p=n.body.split(/\.\./);else if(p=X$(n.body),p.length===1&&(p=k9(p[0],!1).map(x0e),p.length===1))return l.map(function(st){return n.pre+p[0]+st});var g;if(d){var y=LP(p[0]),_=LP(p[1]),S=Math.max(p[0].length,p[1].length),w=p.length==3?Math.abs(LP(p[2])):1,P=b0e,D=_<y;D&&(w*=-1,P=C0e);var L=p.some(_0e);g=[];for(var k=y;P(k,_);k+=w){var B;if(u)B=String.fromCharCode(k),B==="\\"&&(B="");else if(B=String(k),L){var ne=S-B.length;if(ne>0){var ce=new Array(ne+1).join("0");k<0?B="-"+ce+B.slice(1):B=ce+B}}g.push(B)}}else{g=[];for(var Ge=0;Ge<p.length;Ge++)g.push.apply(g,k9(p[Ge],!1))}for(var Ge=0;Ge<g.length;Ge++)for(var a=0;a<l.length;a++){var f=s+g[Ge]+l[a];(!t||d||f)&&r.push(f)}}return r}o(k9,"expand")});var m_=ot(n3=>{"use strict";Object.defineProperty(n3,"__esModule",{value:!0});n3.ValuePointer=n3.ValuePointerRootDeleteError=n3.ValuePointerRootSetError=void 0;var WP=class WP extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(WP,"ValuePointerRootSetError");var h_=WP;n3.ValuePointerRootSetError=h_;var YP=class YP extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(YP,"ValuePointerRootDeleteError");var g_=YP;n3.ValuePointerRootDeleteError=g_;var pH;(function(e){function t(f){return f.indexOf("~")===-1?f:f.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(f){if(f==="")return;let[c,u]=[0,0];for(let d=0;d<f.length;d++)f.charAt(d)==="/"?(d===0||(u=d,yield t(f.slice(c,u))),c=d+1):u=d;yield t(f.slice(c))}o(r,"Format"),e.Format=r;function n(f,c,u){if(c==="")throw new h_(f,c,u);let[d,h,p]=[null,f,""];for(let g of r(c))h[g]===void 0&&(h[g]={}),d=h,h=h[g],p=g;d[p]=u}o(n,"Set"),e.Set=n;function s(f,c){if(c==="")throw new g_(f,c);let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0||d[p]===null)return;u=d,d=d[p],h=p}if(Array.isArray(u)){let p=parseInt(h);u.splice(p,1)}else delete u[h]}o(s,"Delete"),e.Delete=s;function l(f,c){if(c==="")return!0;let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0)return!1;u=d,d=d[p],h=p}return Object.getOwnPropertyNames(u).includes(h)}o(l,"Has"),e.Has=l;function a(f,c){if(c==="")return f;let u=f;for(let d of r(c)){if(u[d]===void 0)return;u=u[d]}return u}o(a,"Get"),e.Get=a})(pH||(n3.ValuePointer=pH={}))});var v6=ot(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});p_.Clone=void 0;var O9=kf();function are(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:JP(e[n])}),{})}o(are,"ObjectType");function lre(e){return e.map(t=>JP(t))}o(lre,"ArrayType");function fre(e){return e.slice()}o(fre,"TypedArrayType");function cre(e){return new Date(e.toISOString())}o(cre,"DateType");function JP(e){if((0,O9.IsArray)(e))return lre(e);if((0,O9.IsDate)(e))return cre(e);if((0,O9.IsPlainObject)(e))return are(e);if((0,O9.IsTypedArray)(e))return fre(e);if((0,O9.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(JP,"Clone");p_.Clone=JP});var tR=ot(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.Patch=Pa.Diff=Pa.ValueDeltaUnableToDiffUnknownValue=Pa.ValueDeltaObjectWithSymbolKeyError=Pa.Edit=Pa.Delete=Pa.Update=Pa.Insert=void 0;var nf=kf(),Uc=Rf(),XP=m_(),ZP=v6();Pa.Insert=Uc.Type.Object({type:Uc.Type.Literal("insert"),path:Uc.Type.String(),value:Uc.Type.Unknown()});Pa.Update=Uc.Type.Object({type:Uc.Type.Literal("update"),path:Uc.Type.String(),value:Uc.Type.Unknown()});Pa.Delete=Uc.Type.Object({type:Uc.Type.Literal("delete"),path:Uc.Type.String()});Pa.Edit=Uc.Type.Union([Pa.Insert,Pa.Update,Pa.Delete]);var QP=class QP extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(QP,"ValueDeltaObjectWithSymbolKeyError");var T4=QP;Pa.ValueDeltaObjectWithSymbolKeyError=T4;var eR=class eR extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(eR,"ValueDeltaUnableToDiffUnknownValue");var y_=eR;Pa.ValueDeltaUnableToDiffUnknownValue=y_;function F9(e,t){return{type:"update",path:e,value:t}}o(F9,"CreateUpdate");function yH(e,t){return{type:"insert",path:e,value:t}}o(yH,"CreateInsert");function vH(e){return{type:"delete",path:e}}o(vH,"CreateDelete");function*ure(e,t,r){if(!(0,nf.IsPlainObject)(r))return yield F9(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let l of n){if((0,nf.IsSymbol)(l))throw new T4(l);(0,nf.IsUndefined)(r[l])&&s.includes(l)&&(yield F9(`${e}/${String(l)}`,void 0))}for(let l of s)if(!((0,nf.IsUndefined)(t[l])||(0,nf.IsUndefined)(r[l]))){if((0,nf.IsSymbol)(l))throw new T4(l);yield*v_(`${e}/${String(l)}`,t[l],r[l])}for(let l of s){if((0,nf.IsSymbol)(l))throw new T4(l);(0,nf.IsUndefined)(t[l])&&(yield yH(`${e}/${String(l)}`,r[l]))}for(let l of n.reverse()){if((0,nf.IsSymbol)(l))throw new T4(l);(0,nf.IsUndefined)(r[l])&&!s.includes(l)&&(yield vH(`${e}/${String(l)}`))}}o(ure,"ObjectType");function*dre(e,t,r){if(!(0,nf.IsArray)(r))return yield F9(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*v_(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield yH(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield vH(`${e}/${n}`))}o(dre,"ArrayType");function*hre(e,t,r){if(!(0,nf.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield F9(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*v_(`${e}/${n}`,t[n],r[n])}o(hre,"TypedArrayType");function*gre(e,t,r){t!==r&&(yield F9(e,r))}o(gre,"ValueType");function*v_(e,t,r){if((0,nf.IsPlainObject)(t))return yield*ure(e,t,r);if((0,nf.IsArray)(t))return yield*dre(e,t,r);if((0,nf.IsTypedArray)(t))return yield*hre(e,t,r);if((0,nf.IsValueType)(t))return yield*gre(e,t,r);throw new y_(t)}o(v_,"Visit");function mre(e,t){return[...v_("",e,t)]}o(mre,"Diff");Pa.Diff=mre;function pre(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(pre,"IsRootUpdate");function yre(e){return e.length===0}o(yre,"IsIdentity");function vre(e,t){if(pre(t))return(0,ZP.Clone)(t[0].value);if(yre(t))return(0,ZP.Clone)(e);let r=(0,ZP.Clone)(e);for(let n of t)switch(n.type){case"insert":{XP.ValuePointer.Set(r,n.path,n.value);break}case"update":{XP.ValuePointer.Set(r,n.path,n.value);break}case"delete":{XP.ValuePointer.Delete(r,n.path);break}}return r}o(vre,"Patch");Pa.Patch=vre});var _H=ot(i3=>{"use strict";Object.defineProperty(i3,"__esModule",{value:!0});i3.Mutate=i3.ValueMutateInvalidRootMutationError=i3.ValueMutateTypeMismatchError=void 0;var lc=kf(),b_=m_(),rR=v6(),iR=class iR extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(iR,"ValueMutateTypeMismatchError");var x_=iR;i3.ValueMutateTypeMismatchError=x_;var sR=class sR extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(sR,"ValueMutateInvalidRootMutationError");var __=sR;i3.ValueMutateInvalidRootMutationError=__;function xre(e,t,r,n){if(!(0,lc.IsPlainObject)(r))b_.ValuePointer.Set(e,t,(0,rR.Clone)(n));else{let s=Object.keys(r),l=Object.keys(n);for(let a of s)l.includes(a)||delete r[a];for(let a of l)s.includes(a)||(r[a]=null);for(let a of l)nR(e,`${t}/${a}`,r[a],n[a])}}o(xre,"ObjectType");function _re(e,t,r,n){if(!(0,lc.IsArray)(r))b_.ValuePointer.Set(e,t,(0,rR.Clone)(n));else{for(let s=0;s<n.length;s++)nR(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(_re,"ArrayType");function bre(e,t,r,n){if((0,lc.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else b_.ValuePointer.Set(e,t,(0,rR.Clone)(n))}o(bre,"TypedArrayType");function Cre(e,t,r,n){r!==n&&b_.ValuePointer.Set(e,t,n)}o(Cre,"ValueType");function nR(e,t,r,n){if((0,lc.IsArray)(n))return _re(e,t,r,n);if((0,lc.IsTypedArray)(n))return bre(e,t,r,n);if((0,lc.IsPlainObject)(n))return xre(e,t,r,n);if((0,lc.IsValueType)(n))return Cre(e,t,r,n)}o(nR,"Visit");function xH(e){return(0,lc.IsTypedArray)(e)||(0,lc.IsValueType)(e)}o(xH,"IsNonMutableValue");function Ere(e,t){return(0,lc.IsPlainObject)(e)&&(0,lc.IsArray)(t)||(0,lc.IsArray)(e)&&(0,lc.IsPlainObject)(t)}o(Ere,"IsMismatchedValue");function Tre(e,t){if(xH(e)||xH(t))throw new __;if(Ere(e,t))throw new x_;nR(e,"",e,t)}o(Tre,"Mutate");i3.Mutate=Tre});var bH=ot(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.Equal=void 0;var Sd=kf();function Sre(e,t){if(!(0,Sd.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>C_(e[s],t[s]))}o(Sre,"ObjectType");function wre(e,t){return(0,Sd.IsDate)(t)&&e.getTime()===t.getTime()}o(wre,"DateType");function Ire(e,t){return!(0,Sd.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>C_(r,t[n]))}o(Ire,"ArrayType");function Are(e,t){return!(0,Sd.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>C_(r,t[n]))}o(Are,"TypedArrayType");function Pre(e,t){return e===t}o(Pre,"ValueType");function C_(e,t){if((0,Sd.IsPlainObject)(e))return Sre(e,t);if((0,Sd.IsDate)(e))return wre(e,t);if((0,Sd.IsTypedArray)(e))return Are(e,t);if((0,Sd.IsArray)(e))return Ire(e,t);if((0,Sd.IsValueType)(e))return Pre(e,t);throw new Error("ValueEquals: Unable to compare value")}o(C_,"Equal");E_.Equal=C_});var dR=ot(sf=>{"use strict";Object.defineProperty(sf,"__esModule",{value:!0});sf.Create=sf.ValueCreateRecursiveInstantiationError=sf.ValueCreateTempateLiteralTypeError=sf.ValueCreateIntersectTypeError=sf.ValueCreateNotTypeError=sf.ValueCreateNeverTypeError=sf.ValueCreateUnknownTypeError=void 0;var Ai=kf(),Rre=e8(),EH=B5(),Uf=Rf(),oR=class oR extends Uf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(oR,"ValueCreateUnknownTypeError");var T_=oR;sf.ValueCreateUnknownTypeError=T_;var aR=class aR extends Uf.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(aR,"ValueCreateNeverTypeError");var S_=aR;sf.ValueCreateNeverTypeError=S_;var lR=class lR extends Uf.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(lR,"ValueCreateNotTypeError");var w_=lR;sf.ValueCreateNotTypeError=w_;var fR=class fR extends Uf.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(fR,"ValueCreateIntersectTypeError");var I_=fR;sf.ValueCreateIntersectTypeError=I_;var cR=class cR extends Uf.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(cR,"ValueCreateTempateLiteralTypeError");var A_=cR;sf.ValueCreateTempateLiteralTypeError=A_;var uR=class uR extends Uf.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(uR,"ValueCreateRecursiveInstantiationError");var P_=uR;sf.ValueCreateRecursiveInstantiationError=P_;function kre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:{}}o(kre,"TAny");function Nre(e,t){if(e.uniqueItems===!0&&!(0,Ai.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,Ai.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>fc(e.items,t)):[]}o(Nre,"TArray");function Dre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(Dre,"TAsyncIterator");function Lre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(Lre,"TBigInt");function Bre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:!1}o(Bre,"TBoolean");function Ore(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;{let r=fc(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let l=this;l[n]=s}}}:class{}}}o(Ore,"TConstructor");function Fre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(Fre,"TDate");function Mre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:()=>fc(e.returns,t)}o(Mre,"TFunction");function Ure(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(Ure,"TInteger");function qre(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let l=fc(s,t);return typeof l=="object"?{...n,...l}:l},{});if(!(0,Rre.Check)(e,t,r))throw new I_(e);return r}}o(qre,"TIntersect");function jre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(jre,"TIterator");function $re(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.const}o($re,"TLiteral");function Hre(e,t){throw new S_(e)}o(Hre,"TNever");function Vre(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;throw new w_(e)}o(Vre,"TNot");function zre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:null}o(zre,"TNull");function Gre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(Gre,"TNumber");function Kre(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,l])=>r.has(s)?{...n,[s]:fc(l,t)}:{...n},{})}}o(Kre,"TObject");function Wre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:Promise.resolve(fc(e.item,t))}o(Wre,"TPromise");function Yre(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,Ai.HasPropertyKey)(e,"default")?e.default:r===Uf.PatternStringExact||r===Uf.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((l,a)=>({...l,[a]:fc(n,t)}),{})}o(Yre,"TRecord");function Jre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:fc((0,EH.Deref)(e,t),t)}o(Jre,"TRef");function Xre(e,t){if(e.pattern!==void 0){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(Xre,"TString");function Zre(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(Zre,"TSymbol");function Qre(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;let r=Uf.TemplateLiteralParser.ParseExact(e.pattern);if(!Uf.TemplateLiteralFinite.Check(r))throw new A_(e);return Uf.TemplateLiteralGenerator.Generate(r).next().value}o(Qre,"TTemplateLiteral");function ene(e,t){if(TH++>CH)throw new P_(e,CH);return(0,Ai.HasPropertyKey)(e,"default")?e.default:fc((0,EH.Deref)(e,t),t)}o(ene,"TThis");function tne(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>fc(e.items[n],t))}o(tne,"TTuple");function rne(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default}o(rne,"TUndefined");function nne(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return fc(e.anyOf[0],t)}o(nne,"TUnion");function ine(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(ine,"TUint8Array");function sne(e,t){return(0,Ai.HasPropertyKey)(e,"default")?e.default:{}}o(sne,"TUnknown");function one(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default}o(one,"TVoid");function ane(e,t){if((0,Ai.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(ane,"TKind");function fc(e,t){let r=(0,Ai.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[Uf.Kind]){case"Any":return kre(n,r);case"Array":return Nre(n,r);case"AsyncIterator":return Dre(n,r);case"BigInt":return Lre(n,r);case"Boolean":return Bre(n,r);case"Constructor":return Ore(n,r);case"Date":return Fre(n,r);case"Function":return Mre(n,r);case"Integer":return Ure(n,r);case"Intersect":return qre(n,r);case"Iterator":return jre(n,r);case"Literal":return $re(n,r);case"Never":return Hre(n,r);case"Not":return Vre(n,r);case"Null":return zre(n,r);case"Number":return Gre(n,r);case"Object":return Kre(n,r);case"Promise":return Wre(n,r);case"Record":return Yre(n,r);case"Ref":return Jre(n,r);case"String":return Xre(n,r);case"Symbol":return Zre(n,r);case"TemplateLiteral":return Qre(n,r);case"This":return ene(n,r);case"Tuple":return tne(n,r);case"Undefined":return rne(n,r);case"Union":return nne(n,r);case"Uint8Array":return ine(n,r);case"Unknown":return sne(n,r);case"Void":return one(n,r);default:if(!Uf.TypeRegistry.Has(n[Uf.Kind]))throw new T_(n);return ane(n,r)}}o(fc,"Visit");var CH=512,TH=0;function lne(...e){return TH=0,e.length===2?fc(e[0],e[1]):fc(e[0],[])}o(lne,"Create");sf.Create=lne});var AH=ot(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.Cast=of.Default=of.DefaultClone=of.ValueCastUnknownTypeError=of.ValueCastRecursiveTypeError=of.ValueCastNeverTypeError=of.ValueCastArrayUniqueItemsTypeError=void 0;var s3=kf(),Id=dR(),qc=e8(),x6=v6(),SH=B5(),wd=Rf(),pR=class pR extends wd.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(pR,"ValueCastArrayUniqueItemsTypeError");var R_=pR;of.ValueCastArrayUniqueItemsTypeError=R_;var yR=class yR extends wd.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(yR,"ValueCastNeverTypeError");var k_=yR;of.ValueCastNeverTypeError=k_;var vR=class vR extends wd.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(vR,"ValueCastRecursiveTypeError");var hR=vR;of.ValueCastRecursiveTypeError=hR;var xR=class xR extends wd.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(xR,"ValueCastUnknownTypeError");var N_=xR;of.ValueCastUnknownTypeError=N_;var gR;(function(e){function t(s,l,a){if(s[wd.Kind]==="Object"&&typeof a=="object"&&!(0,s3.IsNull)(a)){let f=s,c=Object.getOwnPropertyNames(a),u=Object.entries(f.properties),[d,h]=[1/u.length,u.length];return u.reduce((p,[g,y])=>{let _=y[wd.Kind]==="Literal"&&y.const===a[g]?h:0,S=(0,qc.Check)(y,l,a[g])?d:0,w=c.includes(g)?d:0;return p+(_+S+w)},0)}else return(0,qc.Check)(s,l,a)?1:0}o(t,"Score");function r(s,l,a){let[f,c]=[s.anyOf[0],0];for(let u of s.anyOf){let d=t(u,l,a);d>c&&(f=u,c=d)}return f}o(r,"Select");function n(s,l,a){if("default"in s)return s.default;{let f=r(s,l,a);return IH(f,l,a)}}o(n,"Create"),e.Create=n})(gR||(gR={}));function wH(e,t,r){return(0,qc.Check)(e,t,r)?(0,x6.Clone)(r):(0,Id.Create)(e,t)}o(wH,"DefaultClone");of.DefaultClone=wH;function mR(e,t,r){return(0,qc.Check)(e,t,r)?r:(0,Id.Create)(e,t)}o(mR,"Default");of.Default=mR;function fne(e,t,r){if((0,qc.Check)(e,t,r))return(0,x6.Clone)(r);let n=(0,s3.IsArray)(r)?(0,x6.Clone)(r):(0,Id.Create)(e,t),s=(0,s3.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,s3.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(c=>du(e.items,t,c));if(e.uniqueItems!==!0)return a;let f=[...new Set(a)];if(!(0,qc.Check)(e,t,f))throw new R_(e,f);return f}o(fne,"TArray");function cne(e,t,r){if((0,qc.Check)(e,t,r))return(0,Id.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[l,a]of Object.entries(e.returns.properties))!n.has(l)&&r.prototype[l]===void 0||(s.prototype[l]=du(a,t,r.prototype[l]));return s}o(cne,"TConstructor");function une(e,t,r){let n=(0,Id.Create)(e,t),s=(0,s3.IsPlainObject)(n)&&(0,s3.IsPlainObject)(r)?{...n,...r}:r;return(0,qc.Check)(e,t,s)?s:(0,Id.Create)(e,t)}o(une,"TIntersect");function dne(e,t,r){throw new k_(e)}o(dne,"TNever");function hne(e,t,r){if((0,qc.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,Id.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[l,a]of Object.entries(e.properties))!n.has(l)&&r[l]===void 0||(s[l]=du(a,t,r[l]));if(typeof e.additionalProperties=="object"){let l=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))l.includes(a)||(s[a]=du(e.additionalProperties,t,r[a]))}return s}o(hne,"TObject");function gne(e,t,r){if((0,qc.Check)(e,t,r))return(0,x6.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,Id.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=du(s,t,f);return l}o(gne,"TRecord");function mne(e,t,r){return du((0,SH.Deref)(e,t),t,r)}o(mne,"TRef");function pne(e,t,r){return du((0,SH.Deref)(e,t),t,r)}o(pne,"TThis");function yne(e,t,r){return(0,qc.Check)(e,t,r)?(0,x6.Clone)(r):(0,s3.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>du(n,t,r[s])):(0,Id.Create)(e,t)}o(yne,"TTuple");function vne(e,t,r){return(0,qc.Check)(e,t,r)?(0,x6.Clone)(r):gR.Create(e,t,r)}o(vne,"TUnion");function du(e,t,r){let n=(0,s3.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[wd.Kind]){case"Array":return fne(s,n,r);case"Constructor":return cne(s,n,r);case"Intersect":return une(s,n,r);case"Never":return dne(s,n,r);case"Object":return hne(s,n,r);case"Record":return gne(s,n,r);case"Ref":return mne(s,n,r);case"This":return pne(s,n,r);case"Tuple":return yne(s,n,r);case"Union":return vne(s,n,r);case"Date":case"Symbol":case"Uint8Array":return wH(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return mR(s,n,r);default:if(!wd.TypeRegistry.Has(s[wd.Kind]))throw new N_(s);return mR(s,n,r)}}o(du,"Visit");function IH(...e){return e.length===3?du(e[0],e[1],e[2]):du(e[0],[],e[1])}o(IH,"Cast");of.Cast=IH});var DH=ot(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.Convert=o3.Default=o3.ValueConvertUnknownTypeError=void 0;var ss=kf(),xne=v6(),_ne=e8(),PH=B5(),_6=Rf(),_R=class _R extends _6.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(_R,"ValueConvertUnknownTypeError");var D_=_R;o3.ValueConvertUnknownTypeError=D_;function L_(e){return(0,ss.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(L_,"IsStringNumeric");function bne(e){return(0,ss.IsBigInt)(e)||(0,ss.IsBoolean)(e)||(0,ss.IsNumber)(e)}o(bne,"IsValueToString");function M9(e){return e===!0||(0,ss.IsNumber)(e)&&e===1||(0,ss.IsBigInt)(e)&&e===BigInt("1")||(0,ss.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(M9,"IsValueTrue");function U9(e){return e===!1||(0,ss.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,ss.IsBigInt)(e)&&e===BigInt("0")||(0,ss.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(U9,"IsValueFalse");function Cne(e){return(0,ss.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Cne,"IsTimeStringWithTimeZone");function Ene(e){return(0,ss.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Ene,"IsTimeStringWithoutTimeZone");function Tne(e){return(0,ss.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(Tne,"IsDateTimeStringWithTimeZone");function Sne(e){return(0,ss.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(Sne,"IsDateTimeStringWithoutTimeZone");function wne(e){return(0,ss.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(wne,"IsDateString");function Ine(e,t){let r=kH(e);return r===t?r:e}o(Ine,"TryConvertLiteralString");function Ane(e,t){let r=NH(e);return r===t?r:e}o(Ane,"TryConvertLiteralNumber");function Pne(e,t){let r=RH(e);return r===t?r:e}o(Pne,"TryConvertLiteralBoolean");function Rne(e,t){return typeof e.const=="string"?Ine(t,e.const):typeof e.const=="number"?Ane(t,e.const):typeof e.const=="boolean"?Pne(t,e.const):(0,xne.Clone)(t)}o(Rne,"TryConvertLiteral");function RH(e){return M9(e)?!0:U9(e)?!1:e}o(RH,"TryConvertBoolean");function kne(e){return L_(e)?BigInt(parseInt(e)):(0,ss.IsNumber)(e)?BigInt(e|0):U9(e)?BigInt(0):M9(e)?BigInt(1):e}o(kne,"TryConvertBigInt");function kH(e){return bne(e)?e.toString():(0,ss.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o(kH,"TryConvertString");function NH(e){return L_(e)?parseFloat(e):M9(e)?1:U9(e)?0:e}o(NH,"TryConvertNumber");function Nne(e){return L_(e)?parseInt(e):(0,ss.IsNumber)(e)?e|0:M9(e)?1:U9(e)?0:e}o(Nne,"TryConvertInteger");function Dne(e){return(0,ss.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(Dne,"TryConvertNull");function Lne(e){return(0,ss.IsString)(e)&&e==="undefined"?void 0:e}o(Lne,"TryConvertUndefined");function Bne(e){return(0,ss.IsDate)(e)?e:(0,ss.IsNumber)(e)?new Date(e):M9(e)?new Date(1):U9(e)?new Date(0):L_(e)?new Date(parseInt(e)):Ene(e)?new Date(`1970-01-01T${e}.000Z`):Cne(e)?new Date(`1970-01-01T${e}`):Sne(e)?new Date(`${e}.000Z`):Tne(e)?new Date(e):wne(e)?new Date(`${e}T00:00:00.000Z`):e}o(Bne,"TryConvertDate");function One(e){return e}o(One,"Default");o3.Default=One;function Fne(e,t,r){return(0,ss.IsArray)(r)?r.map(n=>E1(e.items,t,n)):r}o(Fne,"TArray");function Mne(e,t,r){return kne(r)}o(Mne,"TBigInt");function Une(e,t,r){return RH(r)}o(Une,"TBoolean");function qne(e,t,r){return Bne(r)}o(qne,"TDate");function jne(e,t,r){return Nne(r)}o(jne,"TInteger");function $ne(e,t,r){return e.allOf.every(n=>_6.TypeGuard.TObject(n))?E1(_6.Type.Composite(e.allOf),t,r):E1(e.allOf[0],t,r)}o($ne,"TIntersect");function Hne(e,t,r){return Rne(e,r)}o(Hne,"TLiteral");function Vne(e,t,r){return Dne(r)}o(Vne,"TNull");function zne(e,t,r){return NH(r)}o(zne,"TNumber");function Gne(e,t,r){return(0,ss.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:E1(e.properties[s],t,r[s])}:{...n},r):r}o(Gne,"TObject");function Kne(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=E1(s,t,f);return l}o(Kne,"TRecord");function Wne(e,t,r){return E1((0,PH.Deref)(e,t),t,r)}o(Wne,"TRef");function Yne(e,t,r){return kH(r)}o(Yne,"TString");function Jne(e,t,r){return(0,ss.IsString)(r)||(0,ss.IsNumber)(r)?Symbol(r):r}o(Jne,"TSymbol");function Xne(e,t,r){return E1((0,PH.Deref)(e,t),t,r)}o(Xne,"TThis");function Zne(e,t,r){return(0,ss.IsArray)(r)&&!(0,ss.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?E1(e.items[s],t,n):n):r}o(Zne,"TTuple");function Qne(e,t,r){return Lne(r)}o(Qne,"TUndefined");function eie(e,t,r){for(let n of e.anyOf){let s=E1(n,t,r);if((0,_ne.Check)(n,t,s))return s}return r}o(eie,"TUnion");function E1(e,t,r){let n=(0,ss.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[_6.Kind]){case"Array":return Fne(s,n,r);case"BigInt":return Mne(s,n,r);case"Boolean":return Une(s,n,r);case"Date":return qne(s,n,r);case"Integer":return jne(s,n,r);case"Intersect":return $ne(s,n,r);case"Literal":return Hne(s,n,r);case"Null":return Vne(s,n,r);case"Number":return zne(s,n,r);case"Object":return Gne(s,n,r);case"Record":return Kne(s,n,r);case"Ref":return Wne(s,n,r);case"String":return Yne(s,n,r);case"Symbol":return Jne(s,n,r);case"This":return Xne(s,n,r);case"Tuple":return Zne(s,n,r);case"Undefined":return Qne(s,n,r);case"Union":return eie(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!_6.TypeRegistry.Has(s[_6.Kind]))throw new D_(s);return r}}o(E1,"Visit");function tie(...e){return e.length===3?E1(e[0],e[1],e[2]):E1(e[0],[],e[1])}o(tie,"Convert");o3.Convert=tie});var jH=ot(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});O_.Value=void 0;var LH=ry(),rie=_H(),nie=Nm(),iie=bH(),BH=AH(),sie=v6(),OH=DH(),FH=dR(),MH=e8(),UH=tR(),B_=VE(),qH;(function(e){function t(...y){return BH.Cast.apply(BH,y)}o(t,"Cast"),e.Cast=t;function r(...y){return FH.Create.apply(FH,y)}o(r,"Create"),e.Create=r;function n(...y){return MH.Check.apply(MH,y)}o(n,"Check"),e.Check=n;function s(...y){return OH.Convert.apply(OH,y)}o(s,"Convert"),e.Convert=s;function l(y){return sie.Clone(y)}o(l,"Clone"),e.Clone=l;function a(...y){let[_,S,w]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]];if(!n(_,S,w))throw new B_.TransformDecodeCheckError(_,w,c(_,S,w).First());return B_.DecodeTransform.Decode(_,S,w)}o(a,"Decode"),e.Decode=a;function f(...y){let[_,S,w]=y.length===3?[y[0],y[1],y[2]]:[y[0],[],y[1]],P=B_.EncodeTransform.Encode(_,S,w);if(!n(_,S,P))throw new B_.TransformEncodeCheckError(_,w,c(_,S,w).First());return P}o(f,"Encode"),e.Encode=f;function c(...y){return LH.Errors.apply(LH,y)}o(c,"Errors"),e.Errors=c;function u(y,_){return iie.Equal(y,_)}o(u,"Equal"),e.Equal=u;function d(y,_){return UH.Diff(y,_)}o(d,"Diff"),e.Diff=d;function h(y){return nie.Hash(y)}o(h,"Hash"),e.Hash=h;function p(y,_){return UH.Patch(y,_)}o(p,"Patch"),e.Patch=p;function g(y,_){rie.Mutate(y,_)}o(g,"Mutate"),e.Mutate=g})(qH||(O_.Value=qH={}))});var HH=ot(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Value=dl.ValuePointer=dl.Delete=dl.Update=dl.Insert=dl.Edit=dl.ValueErrorIterator=dl.ValueErrorType=void 0;var $H=ry();Object.defineProperty(dl,"ValueErrorType",{enumerable:!0,get:function(){return $H.ValueErrorType}});Object.defineProperty(dl,"ValueErrorIterator",{enumerable:!0,get:function(){return $H.ValueErrorIterator}});var F_=tR();Object.defineProperty(dl,"Edit",{enumerable:!0,get:function(){return F_.Edit}});Object.defineProperty(dl,"Insert",{enumerable:!0,get:function(){return F_.Insert}});Object.defineProperty(dl,"Update",{enumerable:!0,get:function(){return F_.Update}});Object.defineProperty(dl,"Delete",{enumerable:!0,get:function(){return F_.Delete}});var oie=m_();Object.defineProperty(dl,"ValuePointer",{enumerable:!0,get:function(){return oie.ValuePointer}});var aie=jH();Object.defineProperty(dl,"Value",{enumerable:!0,get:function(){return aie.Value}})});var tV=ot((dge,eV)=>{"use strict";eV.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,l;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(l=Object.keys(t),n=l.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=n;s--!==0;){var a=l[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},"equal")});var ii=ot((H7e,gV)=>{gV.exports={options:{usePureJavaScript:!1}}});var yV=ot((V7e,pV)=>{var rk={};pV.exports=rk;var mV={};rk.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=Pie(e,t);else{var s=0,l=t.length,a=t.charAt(0),f=[0];for(s=0;s<e.length;++s){for(var c=0,u=e[s];c<f.length;++c)u+=f[c]<<8,f[c]=u%l,u=u/l|0;for(;u>0;)f.push(u%l),u=u/l|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=a;for(s=f.length-1;s>=0;--s)n+=t[f[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};rk.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=mV[t];if(!r){r=mV[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,l=t.charAt(0),a=[0],n=0;n<e.length;n++){var f=r[e.charCodeAt(n)];if(f===void 0)return;for(var c=0,u=f;c<a.length;++c)u+=a[c]*s,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var d=0;e[d]===l&&d<e.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function Pie(e,t){var r=0,n=t.length,s=t.charAt(0),l=[0];for(r=0;r<e.length();++r){for(var a=0,f=e.at(r);a<l.length;++a)f+=l[a]<<8,l[a]=f%n,f=f/n|0;for(;f>0;)l.push(f%n),f=f/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=l.length-1;r>=0;--r)c+=t[l[r]];return c}o(Pie,"_encodeWithByteBuffer")});var Ni=ot((G7e,bV)=>{var vV=ii(),xV=yV(),At=bV.exports=vV.util=vV.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){At.nextTick=process.nextTick,typeof setImmediate=="function"?At.setImmediate=setImmediate:At.setImmediate=At.nextTick;return}if(typeof setImmediate=="function"){At.setImmediate=function(){return setImmediate.apply(void 0,arguments)},At.nextTick=function(f){return setImmediate(f)};return}if(At.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(d){d()})}};var a=f;o(f,"handler");var e="forge.setImmediate",t=[];At.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(s,{attributes:!0});var l=At.setImmediate;At.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),l(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}At.nextTick=At.setImmediate})();At.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;At.globalScope=function(){return At.isNodejs?global:typeof self>"u"?window:self}();At.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};At.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};At.isArrayBufferView=function(e){return e&&At.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function W9(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o(W9,"_checkBitsParam");At.ByteBuffer=nk;function nk(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(At.isArrayBuffer(e)||At.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof nk||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(nk,"ByteStringBuffer");At.ByteStringBuffer=nk;var Rie=4096;At.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Rie&&(this.data.substr(0,1),this._constructedStringLength=0)};At.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};At.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};At.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};At.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};At.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};At.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(At.encodeUtf8(e))};At.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};At.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};At.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};At.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};At.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};At.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};At.ByteStringBuffer.prototype.putInt=function(e,t){W9(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};At.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};At.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};At.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};At.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};At.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};At.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};At.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};At.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};At.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};At.ByteStringBuffer.prototype.getInt=function(e){W9(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};At.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};At.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};At.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};At.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};At.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};At.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};At.ByteStringBuffer.prototype.copy=function(){var e=At.createBuffer(this.data);return e.read=this.read,e};At.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};At.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};At.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};At.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};At.ByteStringBuffer.prototype.toString=function(){return At.decodeUtf8(this.bytes())};function kie(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=At.isArrayBuffer(e),n=At.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(kie,"DataBuffer");At.DataBuffer=kie;At.DataBuffer.prototype.length=function(){return this.write-this.read};At.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};At.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};At.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};At.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};At.DataBuffer.prototype.putBytes=function(e,t){if(At.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(At.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof At.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&At.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof At.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var l;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),l=new Uint8Array(this.data.buffer,this.write),this.write+=At.binary.hex.decode(e,l,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),l=new Uint8Array(this.data.buffer,this.write),this.write+=At.binary.base64.decode(e,l,this.write),this;if(t==="utf8"&&(e=At.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),l=new Uint8Array(this.data.buffer,this.write),this.write+=At.binary.raw.decode(l),this;if(t==="utf16")return this.accommodate(e.length*2),l=new Uint16Array(this.data.buffer,this.write),this.write+=At.text.utf16.encode(l),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};At.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};At.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};At.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};At.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};At.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};At.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};At.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};At.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};At.DataBuffer.prototype.putInt=function(e,t){W9(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};At.DataBuffer.prototype.putSignedInt=function(e,t){return W9(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};At.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};At.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};At.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};At.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};At.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};At.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};At.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};At.DataBuffer.prototype.getInt=function(e){W9(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};At.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};At.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};At.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};At.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};At.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};At.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};At.DataBuffer.prototype.copy=function(){return new At.DataBuffer(this)};At.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};At.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};At.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};At.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};At.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return At.binary.raw.encode(t);if(e==="hex")return At.binary.hex.encode(t);if(e==="base64")return At.binary.base64.encode(t);if(e==="utf8")return At.text.utf8.decode(t);if(e==="utf16")return At.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};At.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=At.encodeUtf8(e)),new At.ByteBuffer(e)};At.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};At.xorBytes=function(e,t,r){for(var n="",s="",l="",a=0,f=0;r>0;--r,++a)s=e.charCodeAt(a)^t.charCodeAt(a),f>=10&&(n+=l,l="",f=0),l+=String.fromCharCode(s),++f;return n+=l,n};At.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};At.bytesToHex=function(e){return At.createBuffer(e).toHex()};At.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var l3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f3=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_V="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";At.encode64=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.length;)s=e.charCodeAt(f++),l=e.charCodeAt(f++),a=e.charCodeAt(f++),r+=l3.charAt(s>>2),r+=l3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=l3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":l3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};At.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,l,a=0;a<e.length;)r=f3[e.charCodeAt(a++)-43],n=f3[e.charCodeAt(a++)-43],s=f3[e.charCodeAt(a++)-43],l=f3[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),l!==64&&(t+=String.fromCharCode((s&3)<<6|l)));return t};At.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};At.decodeUtf8=function(e){return decodeURIComponent(escape(e))};At.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:xV.encode,decode:xV.decode}};At.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};At.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};At.binary.hex.encode=At.bytesToHex;At.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,l=r;for(e.length&1&&(s=1,n[l++]=parseInt(e[0],16));s<e.length;s+=2)n[l++]=parseInt(e.substr(s,2),16);return t?l-r:n};At.binary.base64.encode=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.byteLength;)s=e[f++],l=e[f++],a=e[f++],r+=l3.charAt(s>>2),r+=l3.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=l3.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":l3.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};At.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,l,a,f,c=0,u=r;c<e.length;)s=f3[e.charCodeAt(c++)-43],l=f3[e.charCodeAt(c++)-43],a=f3[e.charCodeAt(c++)-43],f=f3[e.charCodeAt(c++)-43],n[u++]=s<<2|l>>4,a!==64&&(n[u++]=(l&15)<<4|a>>2,f!==64&&(n[u++]=(a&3)<<6|f));return t?u-r:n.subarray(0,u)};At.binary.base58.encode=function(e,t){return At.binary.baseN.encode(e,_V,t)};At.binary.base58.decode=function(e,t){return At.binary.baseN.decode(e,_V,t)};At.text={utf8:{},utf16:{}};At.text.utf8.encode=function(e,t,r){e=At.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};At.text.utf8.decode=function(e){return At.decodeUtf8(String.fromCharCode.apply(null,e))};At.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var l=r,a=r,f=0;f<e.length;++f)s[a++]=e.charCodeAt(f),l+=2;return t?l-r:n};At.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};At.deflate=function(e,t,r){if(t=At.decode64(e.deflate(At.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};At.inflate=function(e,t,r){var n=e.inflate(At.encode64(t)).rval;return n===null?null:At.decode64(n)};var ik=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=At.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),sk=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(At.decode64(r))),r},"_getStorageObject"),Nie=o(function(e,t,r,n){var s=sk(e,t);s===null&&(s={}),s[r]=n,ik(e,t,s)},"_setItem"),Die=o(function(e,t,r){var n=sk(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),Lie=o(function(e,t,r){var n=sk(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var l in n){s=!1;break}s&&(n=null),ik(e,t,n)}},"_removeItem"),Bie=o(function(e,t){ik(e,t,null)},"_clearItems"),K_=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,l=!1,a=null;for(var f in r){s=r[f];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),l=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),l=!0)}catch(c){a=c}if(l)break}if(!l)throw a;return n},"_callStorageFunction");At.setItem=function(e,t,r,n,s){K_(Nie,arguments,s)};At.getItem=function(e,t,r,n){return K_(Die,arguments,n)};At.removeItem=function(e,t,r,n){K_(Lie,arguments,n)};At.clearItems=function(e,t,r){K_(Bie,arguments,r)};At.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};At.format=function(e){for(var t=/%./g,r,n,s=0,l=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&l.push(n),a=t.lastIndex;var f=r[0][1];switch(f){case"s":case"o":s<arguments.length?l.push(arguments[s+++1]):l.push("<?>");break;case"%":l.push("%");break;default:l.push("<%"+f+"?>")}}return l.push(e.substring(a)),l.join("")};At.formatNumber=function(e,t,r,n){var s=e,l=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,f=n===void 0?".":n,c=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(l),10)+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+f:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+f)+(l?a+Math.abs(s-u).toFixed(l).slice(2):"")};At.formatSize=function(e){return e>=1073741824?e=At.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=At.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=At.formatNumber(e/1024,0)+" KiB":e=At.formatNumber(e,0)+" bytes",e};At.bytesFromIP=function(e){return e.indexOf(".")!==-1?At.bytesFromIPv4(e):e.indexOf(":")!==-1?At.bytesFromIPv6(e):null};At.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=At.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};At.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=At.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var l=At.hexToBytes(e[s]);l.length<2&&n.putByte(0),n.putBytes(l)}return n.getBytes()};At.bytesToIP=function(e){return e.length===4?At.bytesToIPv4(e):e.length===16?At.bytesToIPv6(e):null};At.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};At.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var l=At.bytesToHex(e[s]+e[s+1]);l[0]==="0"&&l!=="0";)l=l.substr(1);if(l==="0"){var a=r[r.length-1],f=t.length;!a||f!==a.end+1?r.push({start:f,end:f}):(a.end=f,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(l)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};At.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in At&&!e.update)return t(null,At.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return At.cores=navigator.hardwareConcurrency,t(null,At.cores);if(typeof Worker>"u")return At.cores=1,t(null,At.cores);if(typeof Blob>"u")return At.cores=2,t(null,At.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var f=Date.now(),c=f+4;Date.now()<c;);self.postMessage({st:f,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,f,c){if(f===0){var u=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return At.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,At.cores)}s(c,function(d,h){a.push(l(c,h)),n(a,f-1,c)})}o(n,"sample");function s(a,f){for(var c=[],u=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(p){if(u.push(p.data),u.length===a){for(var g=0;g<a;++g)c[g].terminate();f(null,u)}}),c.push(h)}for(var d=0;d<a;++d)c[d].postMessage(d)}o(s,"map");function l(a,f){for(var c=[],u=0;u<a;++u)for(var d=f[u],h=c[u]=[],p=0;p<a;++p)if(u!==p){var g=f[p];(d.st>g.st&&d.st<g.et||g.st>d.st&&g.st<d.et)&&h.push(p)}return c.reduce(function(y,_){return Math.max(y,_.length)},0)}o(l,"reduce")}});var W_=ot((W7e,CV)=>{var hl=ii();Ni();CV.exports=hl.cipher=hl.cipher||{};hl.cipher.algorithms=hl.cipher.algorithms||{};hl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=hl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new hl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};hl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=hl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new hl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};hl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),hl.cipher.algorithms[e]=t};hl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in hl.cipher.algorithms?hl.cipher.algorithms[e]:null};var ok=hl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};ok.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=hl.util.createBuffer(),this.output=e.output||hl.util.createBuffer(),this.mode.start(t)};ok.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ok.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var lk=ot((Y7e,EV)=>{var gl=ii();Ni();gl.cipher=gl.cipher||{};var pi=EV.exports=gl.cipher.modes=gl.cipher.modes||{};pi.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};pi.ecb.prototype.start=function(e){};pi.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};pi.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};pi.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};pi.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};pi.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};pi.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Y_(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};pi.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};pi.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};pi.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};pi.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};pi.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=gl.util.createBuffer(),this._partialBytes=0};pi.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Y_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};pi.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};pi.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};pi.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=gl.util.createBuffer(),this._partialBytes=0};pi.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Y_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};pi.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};pi.ofb.prototype.decrypt=pi.ofb.prototype.encrypt;pi.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=gl.util.createBuffer(),this._partialBytes=0};pi.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Y_(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};pi.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}J_(this._inBlock)};pi.ctr.prototype.decrypt=pi.ctr.prototype.encrypt;pi.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=gl.util.createBuffer(),this._partialBytes=0,this._R=3774873600};pi.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=gl.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=gl.util.createBuffer(e.additionalData):r=gl.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=gl.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(ak(n*8)))}this._inBlock=this._j0.slice(0),J_(this._inBlock),this._partialBytes=0,r=gl.util.createBuffer(r),this._aDataLength=ak(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};pi.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),J_(this._inBlock)};pi.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),J_(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};pi.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=gl.util.createBuffer();var n=this._aDataLength.concat(ak(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var l=0;l<this._ints;++l)this.tag.putInt32(this._s[l]^s[l]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};pi.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var l=e[s/32|0]&1<<31-s%32;l&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};pi.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};pi.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,l=this._m[r][s];t[0]^=l[0],t[1]^=l[1],t[2]^=l[2],t[3]^=l[3]}return t};pi.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};pi.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,l=new Array(s),a=0;a<s;++a){var f=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;f[c]=1<<t-1<<u,l[a]=this.generateSubHashTable(this.multiply(f,e),t)}return l};pi.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var l=n>>>1;l>0;)this.pow(s[2*l],s[l]=[]),l>>=1;for(l=2;l<n;){for(var a=1;a<l;++a){var f=s[l],c=s[a];s[l+a]=[f[0]^c[0],f[1]^c[1],f[2]^c[2],f[3]^c[3]]}l*=2}for(s[0]=[0,0,0,0],l=n+1;l<r;++l){var u=s[l^n];s[l]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return s};function Y_(e,t){if(typeof e=="string"&&(e=gl.util.createBuffer(e)),gl.util.isArray(e)&&e.length>4){var r=e;e=gl.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!gl.util.isArray(e)){for(var s=[],l=t/4,n=0;n<l;++n)s.push(e.getInt32());e=s}return e}o(Y_,"transformIV");function J_(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(J_,"inc32");function ak(e){return[e/4294967296|0,e&4294967295]}o(ak,"from64To32")});var c3=ot((X7e,IV)=>{var _s=ii();W_();lk();Ni();IV.exports=_s.aes=_s.aes||{};_s.aes.startEncrypting=function(e,t,r,n){var s=X_({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};_s.aes.createEncryptionCipher=function(e,t){return X_({key:e,output:null,decrypt:!1,mode:t})};_s.aes.startDecrypting=function(e,t,r,n){var s=X_({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};_s.aes.createDecryptionCipher=function(e,t){return X_({key:e,output:null,decrypt:!0,mode:t})};_s.aes.Algorithm=function(e,t){uk||SV();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return ck(r._w,n,s,!1)},decrypt:function(n,s){return ck(r._w,n,s,!0)}}}),r._init=!1};_s.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=_s.util.createBuffer(t);else if(_s.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=_s.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!_s.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!_s.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var l=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(l)!==-1;this._w=wV(t,e.decrypt&&!a),this._init=!0}};_s.aes._expandKey=function(e,t){return uk||SV(),wV(e,t)};_s.aes._updateBlock=ck;P6("AES-ECB",_s.cipher.modes.ecb);P6("AES-CBC",_s.cipher.modes.cbc);P6("AES-CFB",_s.cipher.modes.cfb);P6("AES-OFB",_s.cipher.modes.ofb);P6("AES-CTR",_s.cipher.modes.ctr);P6("AES-GCM",_s.cipher.modes.gcm);function P6(e,t){var r=o(function(){return new _s.aes.Algorithm(e,t)},"factory");_s.cipher.registerAlgorithm(e,r)}o(P6,"registerAlgorithm");var uk=!1,A6=4,pf,fk,TV,I4,S1;function SV(){uk=!0,TV=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;pf=new Array(256),fk=new Array(256),I4=new Array(4),S1=new Array(4);for(var t=0;t<4;++t)I4[t]=new Array(256),S1[t]=new Array(256);for(var r=0,n=0,s,l,a,f,c,u,d,t=0;t<256;++t){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,pf[r]=f,fk[f]=r,c=e[f],s=e[r],l=e[s],a=e[l],u=c<<24^f<<16^f<<8^(f^c),d=(s^l^a)<<24^(r^a)<<16^(r^l^a)<<8^(r^s^a);for(var h=0;h<4;++h)I4[h][r]=u,S1[h][f]=d,u=u<<24|u>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^a]]],n^=e[e[n]])}}o(SV,"initialize");function wV(e,t){for(var r=e.slice(0),n,s=1,l=r.length,a=l+6+1,f=A6*a,c=l;c<f;++c)n=r[c-1],c%l===0?(n=pf[n>>>16&255]<<24^pf[n>>>8&255]<<16^pf[n&255]<<8^pf[n>>>24]^TV[s]<<24,s++):l>6&&c%l===4&&(n=pf[n>>>24]<<24^pf[n>>>16&255]<<16^pf[n>>>8&255]<<8^pf[n&255]),r[c]=r[c-l]^n;if(t){var u,d=S1[0],h=S1[1],p=S1[2],g=S1[3],y=r.slice(0);f=r.length;for(var c=0,_=f-A6;c<f;c+=A6,_-=A6)if(c===0||c===f-A6)y[c]=r[_],y[c+1]=r[_+3],y[c+2]=r[_+2],y[c+3]=r[_+1];else for(var S=0;S<A6;++S)u=r[_+S],y[c+(3&-S)]=d[pf[u>>>24]]^h[pf[u>>>16&255]]^p[pf[u>>>8&255]]^g[pf[u&255]];r=y}return r}o(wV,"_expandKey");function ck(e,t,r,n){var s=e.length/4-1,l,a,f,c,u;n?(l=S1[0],a=S1[1],f=S1[2],c=S1[3],u=fk):(l=I4[0],a=I4[1],f=I4[2],c=I4[3],u=pf);var d,h,p,g,y,_,S;d=t[0]^e[0],h=t[n?3:1]^e[1],p=t[2]^e[2],g=t[n?1:3]^e[3];for(var w=3,P=1;P<s;++P)y=l[d>>>24]^a[h>>>16&255]^f[p>>>8&255]^c[g&255]^e[++w],_=l[h>>>24]^a[p>>>16&255]^f[g>>>8&255]^c[d&255]^e[++w],S=l[p>>>24]^a[g>>>16&255]^f[d>>>8&255]^c[h&255]^e[++w],g=l[g>>>24]^a[d>>>16&255]^f[h>>>8&255]^c[p&255]^e[++w],d=y,h=_,p=S;r[0]=u[d>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[g&255]^e[++w],r[n?3:1]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[g>>>8&255]<<8^u[d&255]^e[++w],r[2]=u[p>>>24]<<24^u[g>>>16&255]<<16^u[d>>>8&255]<<8^u[h&255]^e[++w],r[n?1:3]=u[g>>>24]<<24^u[d>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++w]}o(ck,"_updateBlock");function X_(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=_s.cipher.createDecipher(r,e.key):n=_s.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof _s.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(X_,"_createCipher")});var u3=ot((Q7e,AV)=>{var Y9=ii();Y9.pki=Y9.pki||{};var dk=AV.exports=Y9.pki.oids=Y9.oids=Y9.oids||{};function P0(e,t){dk[e]=t,dk[t]=e}o(P0,"_IN");function rs(e,t){dk[e]=t}o(rs,"_I_");P0("1.2.840.113549.1.1.1","rsaEncryption");P0("1.2.840.113549.1.1.4","md5WithRSAEncryption");P0("1.2.840.113549.1.1.5","sha1WithRSAEncryption");P0("1.2.840.113549.1.1.7","RSAES-OAEP");P0("1.2.840.113549.1.1.8","mgf1");P0("1.2.840.113549.1.1.9","pSpecified");P0("1.2.840.113549.1.1.10","RSASSA-PSS");P0("1.2.840.113549.1.1.11","sha256WithRSAEncryption");P0("1.2.840.113549.1.1.12","sha384WithRSAEncryption");P0("1.2.840.113549.1.1.13","sha512WithRSAEncryption");P0("1.3.101.112","EdDSA25519");P0("1.2.840.10040.4.3","dsa-with-sha1");P0("1.3.14.3.2.7","desCBC");P0("1.3.14.3.2.26","sha1");P0("1.3.14.3.2.29","sha1WithRSASignature");P0("2.16.840.1.101.3.4.2.1","sha256");P0("2.16.840.1.101.3.4.2.2","sha384");P0("2.16.840.1.101.3.4.2.3","sha512");P0("2.16.840.1.101.3.4.2.4","sha224");P0("2.16.840.1.101.3.4.2.5","sha512-224");P0("2.16.840.1.101.3.4.2.6","sha512-256");P0("1.2.840.113549.2.2","md2");P0("1.2.840.113549.2.5","md5");P0("1.2.840.113549.1.7.1","data");P0("1.2.840.113549.1.7.2","signedData");P0("1.2.840.113549.1.7.3","envelopedData");P0("1.2.840.113549.1.7.4","signedAndEnvelopedData");P0("1.2.840.113549.1.7.5","digestedData");P0("1.2.840.113549.1.7.6","encryptedData");P0("1.2.840.113549.1.9.1","emailAddress");P0("1.2.840.113549.1.9.2","unstructuredName");P0("1.2.840.113549.1.9.3","contentType");P0("1.2.840.113549.1.9.4","messageDigest");P0("1.2.840.113549.1.9.5","signingTime");P0("1.2.840.113549.1.9.6","counterSignature");P0("1.2.840.113549.1.9.7","challengePassword");P0("1.2.840.113549.1.9.8","unstructuredAddress");P0("1.2.840.113549.1.9.14","extensionRequest");P0("1.2.840.113549.1.9.20","friendlyName");P0("1.2.840.113549.1.9.21","localKeyId");P0("1.2.840.113549.1.9.22.1","x509Certificate");P0("1.2.840.113549.1.12.10.1.1","keyBag");P0("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");P0("1.2.840.113549.1.12.10.1.3","certBag");P0("1.2.840.113549.1.12.10.1.4","crlBag");P0("1.2.840.113549.1.12.10.1.5","secretBag");P0("1.2.840.113549.1.12.10.1.6","safeContentsBag");P0("1.2.840.113549.1.5.13","pkcs5PBES2");P0("1.2.840.113549.1.5.12","pkcs5PBKDF2");P0("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");P0("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");P0("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");P0("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");P0("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");P0("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");P0("1.2.840.113549.2.7","hmacWithSHA1");P0("1.2.840.113549.2.8","hmacWithSHA224");P0("1.2.840.113549.2.9","hmacWithSHA256");P0("1.2.840.113549.2.10","hmacWithSHA384");P0("1.2.840.113549.2.11","hmacWithSHA512");P0("1.2.840.113549.3.7","des-EDE3-CBC");P0("2.16.840.1.101.3.4.1.2","aes128-CBC");P0("2.16.840.1.101.3.4.1.22","aes192-CBC");P0("2.16.840.1.101.3.4.1.42","aes256-CBC");P0("2.5.4.3","commonName");P0("2.5.4.4","surname");P0("2.5.4.5","serialNumber");P0("2.5.4.6","countryName");P0("2.5.4.7","localityName");P0("2.5.4.8","stateOrProvinceName");P0("2.5.4.9","streetAddress");P0("2.5.4.10","organizationName");P0("2.5.4.11","organizationalUnitName");P0("2.5.4.12","title");P0("2.5.4.13","description");P0("2.5.4.15","businessCategory");P0("2.5.4.17","postalCode");P0("2.5.4.42","givenName");P0("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");P0("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");P0("2.16.840.1.113730.1.1","nsCertType");P0("2.16.840.1.113730.1.13","nsComment");rs("2.5.29.1","authorityKeyIdentifier");rs("2.5.29.2","keyAttributes");rs("2.5.29.3","certificatePolicies");rs("2.5.29.4","keyUsageRestriction");rs("2.5.29.5","policyMapping");rs("2.5.29.6","subtreesConstraint");rs("2.5.29.7","subjectAltName");rs("2.5.29.8","issuerAltName");rs("2.5.29.9","subjectDirectoryAttributes");rs("2.5.29.10","basicConstraints");rs("2.5.29.11","nameConstraints");rs("2.5.29.12","policyConstraints");rs("2.5.29.13","basicConstraints");P0("2.5.29.14","subjectKeyIdentifier");P0("2.5.29.15","keyUsage");rs("2.5.29.16","privateKeyUsagePeriod");P0("2.5.29.17","subjectAltName");P0("2.5.29.18","issuerAltName");P0("2.5.29.19","basicConstraints");rs("2.5.29.20","cRLNumber");rs("2.5.29.21","cRLReason");rs("2.5.29.22","expirationDate");rs("2.5.29.23","instructionCode");rs("2.5.29.24","invalidityDate");rs("2.5.29.25","cRLDistributionPoints");rs("2.5.29.26","issuingDistributionPoint");rs("2.5.29.27","deltaCRLIndicator");rs("2.5.29.28","issuingDistributionPoint");rs("2.5.29.29","certificateIssuer");rs("2.5.29.30","nameConstraints");P0("2.5.29.31","cRLDistributionPoints");P0("2.5.29.32","certificatePolicies");rs("2.5.29.33","policyMappings");rs("2.5.29.34","policyConstraints");P0("2.5.29.35","authorityKeyIdentifier");rs("2.5.29.36","policyConstraints");P0("2.5.29.37","extKeyUsage");rs("2.5.29.46","freshestCRL");rs("2.5.29.54","inhibitAnyPolicy");P0("1.3.6.1.4.1.11129.2.4.2","timestampList");P0("1.3.6.1.5.5.7.1.1","authorityInfoAccess");P0("1.3.6.1.5.5.7.3.1","serverAuth");P0("1.3.6.1.5.5.7.3.2","clientAuth");P0("1.3.6.1.5.5.7.3.3","codeSigning");P0("1.3.6.1.5.5.7.3.4","emailProtection");P0("1.3.6.1.5.5.7.3.8","timeStamping")});var w1=ot((tpe,RV)=>{var no=ii();Ni();u3();var M0=RV.exports=no.asn1=no.asn1||{};M0.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};M0.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};M0.create=function(e,t,r,n,s){if(no.util.isArray(n)){for(var l=[],a=0;a<n.length;++a)n[a]!==void 0&&l.push(n[a]);n=l}var f={tagClass:e,type:t,constructed:r,composed:r||no.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(f.bitStringContents=s.bitStringContents,f.original=M0.copy(f)),f};M0.copy=function(e,t){var r;if(no.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(M0.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:M0.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};M0.equals=function(e,t,r){if(no.util.isArray(e)){if(!no.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!M0.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&M0.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};M0.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function J9(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(J9,"_checkBufferLength");var Oie=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var l=r&127;J9(e,t,l),n=e.getInt(l<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");M0.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=no.util.createBuffer(e));var r=e.length(),n=Z_(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function Z_(e,t,r,n){var s;J9(e,t,2);var l=e.getByte();t--;var a=l&192,f=l&31;s=e.length();var c=Oie(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var d,h,p=(l&32)===32;if(p)if(d=[],c===void 0)for(;;){if(J9(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(Z_(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),d.push(Z_(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(d===void 0&&a===M0.Class.UNIVERSAL&&f===M0.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&a===M0.Class.UNIVERSAL&&f===M0.Type.BITSTRING&&c>1){var g=e.read,y=t,_=0;if(f===M0.Type.BITSTRING&&(J9(e,t,1),_=e.getByte(),t--),_===0)try{s=e.length();var S={strict:!0,decodeBitStrings:!0},w=Z_(e,t,r+1,S),P=s-e.length();t-=P,f==M0.Type.BITSTRING&&P++;var D=w.tagClass;P===c&&(D===M0.Class.UNIVERSAL||D===M0.Class.CONTEXT_SPECIFIC)&&(d=[w])}catch{}d===void 0&&(e.read=g,t=y)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(f===M0.Type.BMPSTRING)for(d="";c>0;c-=2)J9(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var L=h===void 0?null:{bitStringContents:h};return M0.create(a,f,p,d,L)}o(Z_,"_fromDer");M0.toDer=function(e){var t=no.util.createBuffer(),r=e.tagClass|e.type,n=no.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=M0.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var l=0;l<e.value.length;++l)e.value[l]!==void 0&&n.putBuffer(M0.toDer(e.value[l]))}else if(e.type===M0.Type.BMPSTRING)for(var l=0;l<e.value.length;++l)n.putInt16(e.value.charCodeAt(l));else e.type===M0.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),f="";do f+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(f.length|128);for(var l=f.length-1;l>=0;--l)t.putByte(f.charCodeAt(l))}return t.putBuffer(n),t};M0.oidToDer=function(e){var t=e.split("."),r=no.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,l,a,f=2;f<t.length;++f){n=!0,s=[],l=parseInt(t[f],10);do a=l&127,l=l>>>7,n||(a|=128),s.push(a),n=!1;while(l>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};M0.derToOid=function(e){var t;typeof e=="string"&&(e=no.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};M0.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),l=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),f=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(f=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var d=parseInt(e.substr(u+1,2),10),h=parseInt(e.substr(u+4,2),10),p=d*60+h;p*=6e4,c==="+"?t.setTime(+t-p):t.setTime(+t+p)}return t};M0.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),f=parseInt(e.substr(12,2),10),c=0,u=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,p=e.charAt(h);if(p==="+"||p==="-"){var g=parseInt(e.substr(h+1,2),10),y=parseInt(e.substr(h+4,2),10);u=g*60+y,u*=6e4,p==="+"&&(u*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,c),t.setTime(+t+u)):(t.setFullYear(r,n,s),t.setHours(l,a,f,c)),t};M0.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};M0.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};M0.integerToDer=function(e){var t=no.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};M0.derToInteger=function(e){typeof e=="string"&&(e=no.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};M0.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&no.util.isArray(t.value))for(var l=0,a=0;s&&a<t.value.length;++a)s=t.value[a].optional||!1,e.value[l]&&(s=M0.validate(e.value[l],t.value[a],r,n),s?++l:t.value[a].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var f;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var PV=/[^\\u0000-\\u00ff]/;M0.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",l=0;l<t*r;++l)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case M0.Class.UNIVERSAL:n+="Universal:";break;case M0.Class.APPLICATION:n+="Application:";break;case M0.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case M0.Class.PRIVATE:n+="Private:";break}if(e.tagClass===M0.Class.UNIVERSAL)switch(n+=e.type,e.type){case M0.Type.NONE:n+=" (None)";break;case M0.Type.BOOLEAN:n+=" (Boolean)";break;case M0.Type.INTEGER:n+=" (Integer)";break;case M0.Type.BITSTRING:n+=" (Bit string)";break;case M0.Type.OCTETSTRING:n+=" (Octet string)";break;case M0.Type.NULL:n+=" (Null)";break;case M0.Type.OID:n+=" (Object Identifier)";break;case M0.Type.ODESC:n+=" (Object Descriptor)";break;case M0.Type.EXTERNAL:n+=" (External or Instance of)";break;case M0.Type.REAL:n+=" (Real)";break;case M0.Type.ENUMERATED:n+=" (Enumerated)";break;case M0.Type.EMBEDDED:n+=" (Embedded PDV)";break;case M0.Type.UTF8:n+=" (UTF8)";break;case M0.Type.ROID:n+=" (Relative Object Identifier)";break;case M0.Type.SEQUENCE:n+=" (Sequence)";break;case M0.Type.SET:n+=" (Set)";break;case M0.Type.PRINTABLESTRING:n+=" (Printable String)";break;case M0.Type.IA5String:n+=" (IA5String (ASCII))";break;case M0.Type.UTCTIME:n+=" (UTC time)";break;case M0.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case M0.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,f="",l=0;l<e.value.length;++l)e.value[l]!==void 0&&(a+=1,f+=M0.prettyPrint(e.value[l],t+1,r),l+1<e.value.length&&(f+=","));n+=s+"Sub values: "+a+f}else{if(n+=s+"Value: ",e.type===M0.Type.OID){var c=M0.derToOid(e.value);n+=c,no.pki&&no.pki.oids&&c in no.pki.oids&&(n+=" ("+no.pki.oids[c]+") ")}if(e.type===M0.Type.INTEGER)try{n+=M0.derToInteger(e.value)}catch{n+="0x"+no.util.bytesToHex(e.value)}else if(e.type===M0.Type.BITSTRING){if(e.value.length>1?n+="0x"+no.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===M0.Type.OCTETSTRING)PV.test(e.value)||(n+="("+e.value+") "),n+="0x"+no.util.bytesToHex(e.value);else if(e.type===M0.Type.UTF8)try{n+=no.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+no.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===M0.Type.PRINTABLESTRING||e.type===M0.Type.IA5String?n+=e.value:PV.test(e.value)?n+="0x"+no.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var gu=ot((npe,kV)=>{var Q_=ii();kV.exports=Q_.md=Q_.md||{};Q_.md.algorithms=Q_.md.algorithms||{}});var R6=ot((ipe,NV)=>{var kd=ii();gu();Ni();var Fie=NV.exports=kd.hmac=kd.hmac||{};Fie.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(l,a){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in kd.md.algorithms)t=kd.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else t=l;if(a===null)a=e;else{if(typeof a=="string")a=kd.util.createBuffer(a);else if(kd.util.isArray(a)){var f=a;a=kd.util.createBuffer();for(var c=0;c<f.length;++c)a.putByte(f[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=kd.util.createBuffer(),n=kd.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var f=a.at(c);r.putByte(54^f),n.putByte(92^f)}if(u<t.blockLength)for(var f=t.blockLength-u,c=0;c<f;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(l){t.update(l)},s.getMac=function(){var l=t.digest().bytes();return t.start(),t.update(n),t.update(l),t.digest()},s.digest=s.getMac,s}});var tb=ot((spe,OV)=>{var mu=ii();gu();Ni();var LV=OV.exports=mu.md5=mu.md5||{};mu.md.md5=mu.md.algorithms.md5=LV;LV.create=function(){BV||Mie();var e=null,t=mu.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=mu.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=mu.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),DV(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=mu.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(hk.substr(0,n.blockLength-a));for(var f,c=0,u=n.fullMessageLength.length-1;u>=0;--u)f=n.fullMessageLength[u]*8+c,c=f/4294967296>>>0,s.putInt32Le(f>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};DV(d,r,s);var h=mu.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var hk=null,eb=null,X9=null,k6=null,BV=!1;function Mie(){hk="\x80",hk+=mu.util.fillString("\0",64),eb=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],X9=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],k6=new Array(64);for(var e=0;e<64;++e)k6[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);BV=!0}o(Mie,"_init");function DV(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=f^l&(a^f),n=s+c+k6[d]+t[d],u=X9[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<32;++d)c=a^f&(l^a),n=s+c+k6[d]+t[eb[d]],u=X9[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<48;++d)c=l^a^f,n=s+c+k6[d]+t[eb[d]],u=X9[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<64;++d)c=a^(l|~f),n=s+c+k6[d]+t[eb[d]],u=X9[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,h-=64}}o(DV,"_update")});var A4=ot((ape,MV)=>{var nb=ii();Ni();var FV=MV.exports=nb.pem=nb.pem||{};FV.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=rb(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=rb(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=rb(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=rb(e.headers[s]);return e.procType&&(r+=`\r
`),r+=nb.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};FV.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,l;l=r.exec(e),!!l;){var a=l[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var f={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:nb.util.decode64(l[3])};if(t.push(f),!!l[2]){for(var c=l[2].split(s),u=0;l&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;d+=p,u=h}if(l=d.match(n),l){for(var g={name:l[1],values:[]},y=l[2].split(","),_=0;_<y.length;++_)g.values.push(Uie(y[_]));if(f.procType)if(!f.contentDomain&&g.name==="Content-Domain")f.contentDomain=y[0]||"";else if(!f.dekInfo&&g.name==="DEK-Info"){if(g.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:y[0],parameters:y[1]||null}}else f.headers.push(g);else{if(g.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(g.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:y[0],type:y[1]}}}++u}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function rb(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var l=0,a=-1,s=0;s<t.length;++s,++l)if(l>65&&a!==-1){var f=t[a];f===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+f+t.substr(a+1),l=s-a-1,a=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(a=s);return t}o(rb,"foldHeader");function Uie(e){return e.replace(/^\s+/,"")}o(Uie,"ltrim")});var Z9=ot((fpe,qV)=>{var yo=ii();W_();lk();Ni();qV.exports=yo.des=yo.des||{};yo.des.startEncrypting=function(e,t,r,n){var s=ib({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};yo.des.createEncryptionCipher=function(e,t){return ib({key:e,output:null,decrypt:!1,mode:t})};yo.des.startDecrypting=function(e,t,r,n){var s=ib({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};yo.des.createDecryptionCipher=function(e,t){return ib({key:e,output:null,decrypt:!0,mode:t})};yo.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return UV(r._keys,n,s,!1)},decrypt:function(n,s){return UV(r._keys,n,s,!0)}}}),r._init=!1};yo.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=yo.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=Wie(t),this._init=!0}};pu("DES-ECB",yo.cipher.modes.ecb);pu("DES-CBC",yo.cipher.modes.cbc);pu("DES-CFB",yo.cipher.modes.cfb);pu("DES-OFB",yo.cipher.modes.ofb);pu("DES-CTR",yo.cipher.modes.ctr);pu("3DES-ECB",yo.cipher.modes.ecb);pu("3DES-CBC",yo.cipher.modes.cbc);pu("3DES-CFB",yo.cipher.modes.cfb);pu("3DES-OFB",yo.cipher.modes.ofb);pu("3DES-CTR",yo.cipher.modes.ctr);function pu(e,t){var r=o(function(){return new yo.des.Algorithm(e,t)},"factory");yo.cipher.registerAlgorithm(e,r)}o(pu,"registerAlgorithm");var qie=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],jie=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],$ie=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Hie=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Vie=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],zie=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Gie=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Kie=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Wie(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,S=[],w=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,D,L=0;L<_;L++){var k=e.getInt32(),B=e.getInt32();D=(k>>>4^B)&252645135,B^=D,k^=D<<4,D=(B>>>-16^k)&65535,k^=D,B^=D<<-16,D=(k>>>2^B)&858993459,B^=D,k^=D<<2,D=(B>>>-16^k)&65535,k^=D,B^=D<<-16,D=(k>>>1^B)&1431655765,B^=D,k^=D<<1,D=(B>>>8^k)&16711935,k^=D,B^=D<<8,D=(k>>>1^B)&1431655765,B^=D,k^=D<<1,D=k<<8|B>>>20&240,k=B<<24|B<<8&16711680|B>>>8&65280|B>>>24&240,B=D;for(var ne=0;ne<w.length;++ne){w[ne]?(k=k<<2|k>>>26,B=B<<2|B>>>26):(k=k<<1|k>>>27,B=B<<1|B>>>27),k&=-15,B&=-15;var ce=t[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|s[k>>>16&15]|l[k>>>12&15]|a[k>>>8&15]|f[k>>>4&15],Ge=c[B>>>28]|u[B>>>24&15]|d[B>>>20&15]|h[B>>>16&15]|p[B>>>12&15]|g[B>>>8&15]|y[B>>>4&15];D=(Ge>>>16^ce)&65535,S[P++]=ce^D,S[P++]=Ge^D<<16}}return S}o(Wie,"_createKeys");function UV(e,t,r,n){var s=e.length===32?3:9,l;s===3?l=n?[30,-2,-2]:[0,32,2]:l=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,f=t[0],c=t[1];a=(f>>>4^c)&252645135,c^=a,f^=a<<4,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,f=f<<1|f>>>31,c=c<<1|c>>>31;for(var u=0;u<s;u+=3){for(var d=l[u+1],h=l[u+2],p=l[u];p!=d;p+=h){var g=c^e[p],y=(c>>>4|c<<28)^e[p+1];a=f,f=c,c=a^(jie[g>>>24&63]|Hie[g>>>16&63]|zie[g>>>8&63]|Kie[g&63]|qie[y>>>24&63]|$ie[y>>>16&63]|Vie[y>>>8&63]|Gie[y&63])}a=f,f=c,c=a}f=f>>>1|f<<31,c=c>>>1|c<<31,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(f>>>4^c)&252645135,c^=a,f^=a<<4,r[0]=f,r[1]=c}o(UV,"_updateBlock");function ib(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=yo.cipher.createDecipher(r,e.key):n=yo.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof yo.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(ib,"_createCipher")});var sb=ot((upe,jV)=>{var yf=ii();R6();gu();Ni();var Yie=yf.pkcs5=yf.pkcs5||{},Nd;yf.util.isNodejs&&!yf.options.usePureJavaScript&&(Nd=require("crypto"));jV.exports=yf.pbkdf2=Yie.pbkdf2=function(e,t,r,n,s,l){if(typeof s=="function"&&(l=s,s=null),yf.util.isNodejs&&!yf.options.usePureJavaScript&&Nd.pbkdf2&&(s===null||typeof s!="object")&&(Nd.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),l?Nd.pbkdf2Sync.length===4?Nd.pbkdf2(e,t,r,n,function(D,L){if(D)return l(D);l(null,L.toString("binary"))}):Nd.pbkdf2(e,t,r,n,s,function(D,L){if(D)return l(D);l(null,L.toString("binary"))}):Nd.pbkdf2Sync.length===4?Nd.pbkdf2Sync(e,t,r,n).toString("binary"):Nd.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in yf.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=yf.md[s].create()}var a=s.digestLength;if(n>4294967295*a){var f=new Error("Derived key is too long.");if(l)return l(f);throw f}var c=Math.ceil(n/a),u=n-(c-1)*a,d=yf.hmac.create();d.start(s,e);var h="",p,g,y;if(!l){for(var _=1;_<=c;++_){d.start(null,null),d.update(t),d.update(yf.util.int32ToBytes(_)),p=y=d.digest().getBytes();for(var S=2;S<=r;++S)d.start(null,null),d.update(y),g=d.digest().getBytes(),p=yf.util.xorBytes(p,g,a),y=g;h+=_<c?p:p.substr(0,u)}return h}var _=1,S;function w(){if(_>c)return l(null,h);d.start(null,null),d.update(t),d.update(yf.util.int32ToBytes(_)),p=y=d.digest().getBytes(),S=2,P()}o(w,"outer");function P(){if(S<=r)return d.start(null,null),d.update(y),g=d.digest().getBytes(),p=yf.util.xorBytes(p,g,a),y=g,++S,yf.util.setImmediate(P);h+=_<c?p:p.substr(0,u),++_,w()}o(P,"inner"),w()}});var mk=ot((hpe,GV)=>{var yu=ii();gu();Ni();var HV=GV.exports=yu.sha256=yu.sha256||{};yu.md.sha256=yu.md.algorithms.sha256=HV;HV.create=function(){VV||Jie();var e=null,t=yu.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=yu.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=yu.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),$V(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=yu.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(gk.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};$V(h,r,s);var p=yu.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},n};var gk=null,VV=!1,zV=null;function Jie(){gk="\x80",gk+=yu.util.fillString("\0",64),zV=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],VV=!0}o(Jie,"_init");function $V(e,t,r){for(var n,s,l,a,f,c,u,d,h,p,g,y,_,S,w,P=r.length();P>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[u]=n+t[u-7]+s+t[u-16]|0;for(d=e.h0,h=e.h1,p=e.h2,g=e.h3,y=e.h4,_=e.h5,S=e.h6,w=e.h7,u=0;u<64;++u)a=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),f=S^y&(_^S),l=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|p&(d^h),n=w+a+f+zV[u]+t[u],s=l+c,w=S,S=_,_=y,y=g+n>>>0,g=p,p=h,h=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+p|0,e.h3=e.h3+g|0,e.h4=e.h4+y|0,e.h5=e.h5+_|0,e.h6=e.h6+S|0,e.h7=e.h7+w|0,P-=64}}o($V,"_update")});var pk=ot((mpe,KV)=>{var vu=ii();Ni();var ob=null;vu.util.isNodejs&&!vu.options.usePureJavaScript&&!process.versions["node-webkit"]&&(ob=require("crypto"));var Xie=KV.exports=vu.prng=vu.prng||{};Xie.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(u,d){if(!d)return t.generateSync(u);var h=t.plugin.cipher,p=t.plugin.increment,g=t.plugin.formatKey,y=t.plugin.formatSeed,_=vu.util.createBuffer();t.key=null,S();function S(w){if(w)return d(w);if(_.length()>=u)return d(null,_.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return vu.util.nextTick(function(){l(S)});var P=h(t.key,t.seed);t.generated+=P.length,_.putBytes(P),t.key=g(h(t.key,p(t.seed))),t.seed=y(h(t.key,t.seed)),vu.util.setImmediate(S)}o(S,"generate")},t.generateSync=function(u){var d=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,g=t.plugin.formatSeed;t.key=null;for(var y=vu.util.createBuffer();y.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var _=d(t.key,t.seed);t.generated+=_.length,y.putBytes(_),t.key=p(d(t.key,h(t.seed))),t.seed=g(d(t.key,t.seed))}return y.getBytes(u)};function l(u){if(t.pools[0].messageLength>=32)return f(),u();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,p){if(h)return u(h);t.collect(p),f(),u()})}o(l,"_reseed");function a(){if(t.pools[0].messageLength>=32)return f();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),f()}o(a,"_reseedSync");function f(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d===0&&(u.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var p=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(p),t.generated=0}o(f,"_seed");function c(u){var d=null,h=vu.util.globalScope,p=h.crypto||h.msCrypto;p&&p.getRandomValues&&(d=o(function(k){return p.getRandomValues(k)},"getRandomValues"));var g=vu.util.createBuffer();if(d)for(;g.length()<u;){var y=Math.max(1,Math.min(u-g.length(),65536)/4),_=new Uint32Array(Math.floor(y));try{d(_);for(var S=0;S<_.length;++S)g.putInt32(_[S])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(g.length()<u)for(var w,P,D,L=Math.floor(Math.random()*65536);g.length()<u;){P=16807*(L&65535),w=16807*(L>>16),P+=(w&32767)<<16,P+=w>>15,P=(P&2147483647)+(P>>31),L=P&4294967295;for(var S=0;S<3;++S)D=L>>>(S<<3),D^=Math.floor(Math.random()*256),g.putByte(D&255)}return g.getBytes(u)}return o(c,"defaultSeedFile"),ob?(t.seedFile=function(u,d){ob.randomBytes(u,function(h,p){if(h)return d(h);d(null,p.toString())})},t.seedFileSync=function(u){return ob.randomBytes(u).toString()}):(t.seedFile=function(u,d){try{d(null,c(u))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(u){for(var d=u.length,h=0;h<d;++h)t.pools[t.pool].update(u.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,d){for(var h="",p=0;p<d;p+=8)h+=String.fromCharCode(u>>p&255);t.collect(h)},t.registerWorker=function(u){if(u===self)t.seedFile=function(h,p){function g(y){var _=y.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",g),p(_.forge.prng.err,_.forge.prng.bytes))}o(g,"listener"),self.addEventListener("message",g),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var p=h.data;p.forge&&p.forge.prng&&t.seedFile(p.forge.prng.needed,function(g,y){u.postMessage({forge:{prng:{err:g,bytes:y}}})})},"listener");u.addEventListener("message",d)}},t}});var $c=ot((ype,yk)=>{var ml=ii();c3();mk();pk();Ni();(function(){if(ml.random&&ml.random.getBytes){yk.exports=ml.random;return}(function(e){var t={},r=new Array(4),n=ml.util.createBuffer();t.formatKey=function(h){var p=ml.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),ml.aes._expandKey(h,!1)},t.formatSeed=function(h){var p=ml.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),h},t.cipher=function(h,p){return ml.aes._updateBlock(h,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=ml.md.sha256;function s(){var h=ml.prng.create(t);return h.getBytes=function(p,g){return h.generate(p,g)},h.getBytesSync=function(p){return h.generate(p)},h}o(s,"spawnPrng");var l=s(),a=null,f=ml.util.globalScope,c=f.crypto||f.msCrypto;if(c&&c.getRandomValues&&(a=o(function(h){return c.getRandomValues(h)},"getRandomValues")),ml.options.usePureJavaScript||!ml.util.isNodejs&&!a){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}l.collect(u),u=null}e&&(e().mousemove(function(h){l.collectInt(h.clientX,16),l.collectInt(h.clientY,16)}),e().keypress(function(h){l.collectInt(h.charCode,8)}))}if(!ml.random)ml.random=l;else for(var d in l)ml.random[d]=l[d];ml.random.createInstance=s,yk.exports=ml.random})(typeof jQuery<"u"?jQuery:null)})()});var xk=ot((xpe,JV)=>{var qf=ii();Ni();var vk=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],WV=[1,2,3,5],Zie=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),Qie=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");JV.exports=qf.rc2=qf.rc2||{};qf.rc2.expandKey=function(e,t){typeof e=="string"&&(e=qf.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,l=Math.ceil(s/8),a=255>>(s&7),f;for(f=n;f<128;f++)r.putByte(vk[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-l,vk[r.at(128-l)&a]),f=127-l;f>=0;f--)r.setAt(f,vk[r.at(f+1)^r.at(f+l)]);return r};var YV=o(function(e,t,r){var n=!1,s=null,l=null,a=null,f,c,u,d,h=[];for(e=qf.rc2.expandKey(e,t),u=0;u<64;u++)h.push(e.getInt16Le());r?(f=o(function(y){for(u=0;u<4;u++)y[u]+=h[d]+(y[(u+3)%4]&y[(u+2)%4])+(~y[(u+3)%4]&y[(u+1)%4]),y[u]=Zie(y[u],WV[u]),d++},"mixRound"),c=o(function(y){for(u=0;u<4;u++)y[u]+=h[y[(u+3)%4]&63]},"mashRound")):(f=o(function(y){for(u=3;u>=0;u--)y[u]=Qie(y[u],WV[u]),y[u]-=h[d]+(y[(u+3)%4]&y[(u+2)%4])+(~y[(u+3)%4]&y[(u+1)%4]),d--},"mixRound"),c=o(function(y){for(u=3;u>=0;u--)y[u]-=h[y[(u+3)%4]&63]},"mashRound"));var p=o(function(y){var _=[];for(u=0;u<4;u++){var S=s.getInt16Le();a!==null&&(r?S^=a.getInt16Le():a.putInt16Le(S)),_.push(S&65535)}d=r?0:63;for(var w=0;w<y.length;w++)for(var P=0;P<y[w][0];P++)y[w][1](_);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(_[u]):_[u]^=a.getInt16Le()),l.putInt16Le(_[u])},"runPlan"),g=null;return g={start:function(y,_){y&&typeof y=="string"&&(y=qf.util.createBuffer(y)),n=!1,s=qf.util.createBuffer(),l=_||new qf.util.createBuffer,a=y,g.output=l},update:function(y){for(n||s.putBuffer(y);s.length()>=8;)p([[5,f],[1,c],[6,f],[1,c],[5,f]])},finish:function(y){var _=!0;if(r)if(y)_=y(8,s,!r);else{var S=s.length()===8?8:8-s.length();s.fillWithByte(S,S)}if(_&&(n=!0,g.update()),!r&&(_=s.length()===0,_))if(y)_=y(8,l,!r);else{var w=l.length(),P=l.at(w-1);P>w?_=!1:l.truncate(P)}return _}},g},"createCipher");qf.rc2.startEncrypting=function(e,t,r){var n=qf.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};qf.rc2.createEncryptionCipher=function(e,t){return YV(e,t,!0)};qf.rc2.startDecrypting=function(e,t,r){var n=qf.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};qf.rc2.createDecryptionCipher=function(e,t){return YV(e,t,!1)}});var e7=ot((bpe,iz)=>{var _k=ii();iz.exports=_k.jsbn=_k.jsbn||{};var Dd,ese=0xdeadbeefcafe,XV=(ese&16777215)==15715070;function C0(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(C0,"BigInteger");_k.jsbn.BigInteger=C0;function Di(){return new C0(null)}o(Di,"nbi");function tse(e,t,r,n,s,l){for(;--l>=0;){var a=t*this.data[e++]+r.data[n]+s;s=Math.floor(a/67108864),r.data[n++]=a&67108863}return s}o(tse,"am1");function rse(e,t,r,n,s,l){for(var a=t&32767,f=t>>15;--l>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,d=f*c+u*a;c=a*c+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(d>>>15)+f*u+(s>>>30),r.data[n++]=c&1073741823}return s}o(rse,"am2");function ZV(e,t,r,n,s,l){for(var a=t&16383,f=t>>14;--l>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,d=f*c+u*a;c=a*c+((d&16383)<<14)+r.data[n]+s,s=(c>>28)+(d>>14)+f*u,r.data[n++]=c&268435455}return s}o(ZV,"am3");typeof navigator>"u"?(C0.prototype.am=ZV,Dd=28):XV&&navigator.appName=="Microsoft Internet Explorer"?(C0.prototype.am=rse,Dd=30):XV&&navigator.appName!="Netscape"?(C0.prototype.am=tse,Dd=26):(C0.prototype.am=ZV,Dd=28);C0.prototype.DB=Dd;C0.prototype.DM=(1<<Dd)-1;C0.prototype.DV=1<<Dd;var bk=52;C0.prototype.FV=Math.pow(2,bk);C0.prototype.F1=bk-Dd;C0.prototype.F2=2*Dd-bk;var nse="0123456789abcdefghijklmnopqrstuvwxyz",ab=new Array,N6,Hc;N6=48;for(Hc=0;Hc<=9;++Hc)ab[N6++]=Hc;N6=97;for(Hc=10;Hc<36;++Hc)ab[N6++]=Hc;N6=65;for(Hc=10;Hc<36;++Hc)ab[N6++]=Hc;function QV(e){return nse.charAt(e)}o(QV,"int2char");function ez(e,t){var r=ab[e.charCodeAt(t)];return r==null?-1:r}o(ez,"intAt");function ise(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(ise,"bnpCopyTo");function sse(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(sse,"bnpFromInt");function d3(e){var t=Di();return t.fromInt(e),t}o(d3,"nbv");function ose(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,l=0;--n>=0;){var a=r==8?e[n]&255:ez(e,n);if(a<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,l==0?this.data[this.t++]=a:l+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-l)-1)<<l,this.data[this.t++]=a>>this.DB-l):this.data[this.t-1]|=a<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&e[0]&128&&(this.s=-1,l>0&&(this.data[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),s&&C0.ZERO.subTo(this,this)}o(ose,"bnpFromString");function ase(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(ase,"bnpClamp");function lse(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,l="",a=this.t,f=this.DB-a*this.DB%t;if(a-- >0)for(f<this.DB&&(n=this.data[a]>>f)>0&&(s=!0,l=QV(n));a>=0;)f<t?(n=(this.data[a]&(1<<f)-1)<<t-f,n|=this.data[--a]>>(f+=this.DB-t)):(n=this.data[a]>>(f-=t)&r,f<=0&&(f+=this.DB,--a)),n>0&&(s=!0),s&&(l+=QV(n));return s?l:"0"}o(lse,"bnToString");function fse(){var e=Di();return C0.ZERO.subTo(this,e),e}o(fse,"bnNegate");function cse(){return this.s<0?this.negate():this}o(cse,"bnAbs");function use(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(use,"bnCompareTo");function lb(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(lb,"nbits");function dse(){return this.t<=0?0:this.DB*(this.t-1)+lb(this.data[this.t-1]^this.s&this.DM)}o(dse,"bnBitLength");function hse(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(hse,"bnpDLShiftTo");function gse(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(gse,"bnpDRShiftTo");function mse(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,l=Math.floor(e/this.DB),a=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)t.data[f+l+1]=this.data[f]>>n|a,a=(this.data[f]&s)<<r;for(f=l-1;f>=0;--f)t.data[f]=0;t.data[l]=a,t.t=this.t+l+1,t.s=this.s,t.clamp()}o(mse,"bnpLShiftTo");function pse(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,l=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&l)<<s,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&l)<<s),t.t=this.t-r,t.clamp()}o(pse,"bnpRShiftTo");function yse(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(yse,"bnpSubTo");function vse(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&C0.ZERO.subTo(t,t)}o(vse,"bnpMultiplyTo");function xse(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(xse,"bnpSquareTo");function _se(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Di());var l=Di(),a=this.s,f=e.s,c=this.DB-lb(n.data[n.t-1]);c>0?(n.lShiftTo(c,l),s.lShiftTo(c,r)):(n.copyTo(l),s.copyTo(r));var u=l.t,d=l.data[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?l.data[u-2]>>this.F2:0),p=this.FV/h,g=(1<<this.F1)/h,y=1<<this.F2,_=r.t,S=_-u,w=t==null?Di():t;for(l.dlShiftTo(S,w),r.compareTo(w)>=0&&(r.data[r.t++]=1,r.subTo(w,r)),C0.ONE.dlShiftTo(u,w),w.subTo(l,l);l.t<u;)l.data[l.t++]=0;for(;--S>=0;){var P=r.data[--_]==d?this.DM:Math.floor(r.data[_]*p+(r.data[_-1]+y)*g);if((r.data[_]+=l.am(0,P,r,S,0,u))<P)for(l.dlShiftTo(S,w),r.subTo(w,r);r.data[_]<--P;)r.subTo(w,r)}t!=null&&(r.drShiftTo(u,t),a!=f&&C0.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&C0.ZERO.subTo(r,r)}}}o(_se,"bnpDivRemTo");function bse(e){var t=Di();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(C0.ZERO)>0&&e.subTo(t,t),t}o(bse,"bnMod");function P4(e){this.m=e}o(P4,"Classic");function Cse(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(Cse,"cConvert");function Ese(e){return e}o(Ese,"cRevert");function Tse(e){e.divRemTo(this.m,null,e)}o(Tse,"cReduce");function Sse(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Sse,"cMulTo");function wse(e,t){e.squareTo(t),this.reduce(t)}o(wse,"cSqrTo");P4.prototype.convert=Cse;P4.prototype.revert=Ese;P4.prototype.reduce=Tse;P4.prototype.mulTo=Sse;P4.prototype.sqrTo=wse;function Ise(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(Ise,"bnpInvDigit");function R4(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(R4,"Montgomery");function Ase(e){var t=Di();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(C0.ZERO)>0&&this.m.subTo(t,t),t}o(Ase,"montConvert");function Pse(e){var t=Di();return e.copyTo(t),this.reduce(t),t}o(Pse,"montRevert");function Rse(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(Rse,"montReduce");function kse(e,t){e.squareTo(t),this.reduce(t)}o(kse,"montSqrTo");function Nse(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(Nse,"montMulTo");R4.prototype.convert=Ase;R4.prototype.revert=Pse;R4.prototype.reduce=Rse;R4.prototype.mulTo=Nse;R4.prototype.sqrTo=kse;function Dse(){return(this.t>0?this.data[0]&1:this.s)==0}o(Dse,"bnpIsEven");function Lse(e,t){if(e>4294967295||e<1)return C0.ONE;var r=Di(),n=Di(),s=t.convert(this),l=lb(e)-1;for(s.copyTo(r);--l>=0;)if(t.sqrTo(r,n),(e&1<<l)>0)t.mulTo(n,s,r);else{var a=r;r=n,n=a}return t.revert(r)}o(Lse,"bnpExp");function Bse(e,t){var r;return e<256||t.isEven()?r=new P4(t):r=new R4(t),this.exp(e,r)}o(Bse,"bnModPowInt");C0.prototype.copyTo=ise;C0.prototype.fromInt=sse;C0.prototype.fromString=ose;C0.prototype.clamp=ase;C0.prototype.dlShiftTo=hse;C0.prototype.drShiftTo=gse;C0.prototype.lShiftTo=mse;C0.prototype.rShiftTo=pse;C0.prototype.subTo=yse;C0.prototype.multiplyTo=vse;C0.prototype.squareTo=xse;C0.prototype.divRemTo=_se;C0.prototype.invDigit=Ise;C0.prototype.isEven=Dse;C0.prototype.exp=Lse;C0.prototype.toString=lse;C0.prototype.negate=fse;C0.prototype.abs=cse;C0.prototype.compareTo=use;C0.prototype.bitLength=dse;C0.prototype.mod=bse;C0.prototype.modPowInt=Bse;C0.ZERO=d3(0);C0.ONE=d3(1);function Ose(){var e=Di();return this.copyTo(e),e}o(Ose,"bnClone");function Fse(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(Fse,"bnIntValue");function Mse(){return this.t==0?this.s:this.data[0]<<24>>24}o(Mse,"bnByteValue");function Use(){return this.t==0?this.s:this.data[0]<<16>>16}o(Use,"bnShortValue");function qse(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(qse,"bnpChunkSize");function jse(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(jse,"bnSigNum");function $se(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=d3(r),s=Di(),l=Di(),a="";for(this.divRemTo(n,s,l);s.signum()>0;)a=(r+l.intValue()).toString(e).substr(1)+a,s.divRemTo(n,s,l);return l.intValue().toString(e)+a}o($se,"bnpToRadix");function Hse(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,l=0,a=0,f=0;f<e.length;++f){var c=ez(e,f);if(c<0){e.charAt(f)=="-"&&this.signum()==0&&(s=!0);continue}a=t*a+c,++l>=r&&(this.dMultiply(n),this.dAddOffset(a,0),l=0,a=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(a,0)),s&&C0.ZERO.subTo(this,this)}o(Hse,"bnpFromRadix");function Vse(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(C0.ONE.shiftLeft(e-1),Ck,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(C0.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o(Vse,"bnpFromNumber");function zse(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(zse,"bnToByteArray");function Gse(e){return this.compareTo(e)==0}o(Gse,"bnEquals");function Kse(e){return this.compareTo(e)<0?this:e}o(Kse,"bnMin");function Wse(e){return this.compareTo(e)>0?this:e}o(Wse,"bnMax");function Yse(e,t,r){var n,s,l=Math.min(e.t,this.t);for(n=0;n<l;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=l;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=l;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(Yse,"bnpBitwiseTo");function Jse(e,t){return e&t}o(Jse,"op_and");function Xse(e){var t=Di();return this.bitwiseTo(e,Jse,t),t}o(Xse,"bnAnd");function Ck(e,t){return e|t}o(Ck,"op_or");function Zse(e){var t=Di();return this.bitwiseTo(e,Ck,t),t}o(Zse,"bnOr");function tz(e,t){return e^t}o(tz,"op_xor");function Qse(e){var t=Di();return this.bitwiseTo(e,tz,t),t}o(Qse,"bnXor");function rz(e,t){return e&~t}o(rz,"op_andnot");function eoe(e){var t=Di();return this.bitwiseTo(e,rz,t),t}o(eoe,"bnAndNot");function toe(){for(var e=Di(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(toe,"bnNot");function roe(e){var t=Di();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(roe,"bnShiftLeft");function noe(e){var t=Di();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(noe,"bnShiftRight");function ioe(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(ioe,"lbit");function soe(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+ioe(this.data[e]);return this.s<0?this.t*this.DB:-1}o(soe,"bnGetLowestSetBit");function ooe(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(ooe,"cbit");function aoe(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=ooe(this.data[r]^t);return e}o(aoe,"bnBitCount");function loe(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(loe,"bnTestBit");function foe(e,t){var r=C0.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(foe,"bnpChangeBit");function coe(e){return this.changeBit(e,Ck)}o(coe,"bnSetBit");function uoe(e){return this.changeBit(e,rz)}o(uoe,"bnClearBit");function doe(e){return this.changeBit(e,tz)}o(doe,"bnFlipBit");function hoe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(hoe,"bnpAddTo");function goe(e){var t=Di();return this.addTo(e,t),t}o(goe,"bnAdd");function moe(e){var t=Di();return this.subTo(e,t),t}o(moe,"bnSubtract");function poe(e){var t=Di();return this.multiplyTo(e,t),t}o(poe,"bnMultiply");function yoe(e){var t=Di();return this.divRemTo(e,t,null),t}o(yoe,"bnDivide");function voe(e){var t=Di();return this.divRemTo(e,null,t),t}o(voe,"bnRemainder");function xoe(e){var t=Di(),r=Di();return this.divRemTo(e,t,r),new Array(t,r)}o(xoe,"bnDivideAndRemainder");function _oe(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(_oe,"bnpDMultiply");function boe(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(boe,"bnpDAddOffset");function Q9(){}o(Q9,"NullExp");function nz(e){return e}o(nz,"nNop");function Coe(e,t,r){e.multiplyTo(t,r)}o(Coe,"nMulTo");function Eoe(e,t){e.squareTo(t)}o(Eoe,"nSqrTo");Q9.prototype.convert=nz;Q9.prototype.revert=nz;Q9.prototype.mulTo=Coe;Q9.prototype.sqrTo=Eoe;function Toe(e){return this.exp(e,new Q9)}o(Toe,"bnPow");function Soe(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(Soe,"bnpMultiplyLowerTo");function woe(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(woe,"bnpMultiplyUpperTo");function D6(e){this.r2=Di(),this.q3=Di(),C0.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(D6,"Barrett");function Ioe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Di();return e.copyTo(t),this.reduce(t),t}o(Ioe,"barrettConvert");function Aoe(e){return e}o(Aoe,"barrettRevert");function Poe(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(Poe,"barrettReduce");function Roe(e,t){e.squareTo(t),this.reduce(t)}o(Roe,"barrettSqrTo");function koe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(koe,"barrettMulTo");D6.prototype.convert=Ioe;D6.prototype.revert=Aoe;D6.prototype.reduce=Poe;D6.prototype.mulTo=koe;D6.prototype.sqrTo=Roe;function Noe(e,t){var r=e.bitLength(),n,s=d3(1),l;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?l=new P4(t):t.isEven()?l=new D6(t):l=new R4(t);var a=new Array,f=3,c=n-1,u=(1<<n)-1;if(a[1]=l.convert(this),n>1){var d=Di();for(l.sqrTo(a[1],d);f<=u;)a[f]=Di(),l.mulTo(d,a[f-2],a[f]),f+=2}var h=e.t-1,p,g=!0,y=Di(),_;for(r=lb(e.data[h])-1;h>=0;){for(r>=c?p=e.data[h]>>r-c&u:(p=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(p|=e.data[h-1]>>this.DB+r-c)),f=n;!(p&1);)p>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),g)a[p].copyTo(s),g=!1;else{for(;f>1;)l.sqrTo(s,y),l.sqrTo(y,s),f-=2;f>0?l.sqrTo(s,y):(_=s,s=y,y=_),l.mulTo(y,a[p],s)}for(;h>=0&&!(e.data[h]&1<<r);)l.sqrTo(s,y),_=s,s=y,y=_,--r<0&&(r=this.DB-1,--h)}return l.revert(s)}o(Noe,"bnModPow");function Doe(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(s<l&&(l=s),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r}o(Doe,"bnGCD");function Loe(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(Loe,"bnpModInt");function Boe(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return C0.ZERO;for(var r=e.clone(),n=this.clone(),s=d3(1),l=d3(0),a=d3(0),f=d3(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!f.isEven())&&(a.addTo(this,a),f.subTo(e,f)),a.rShiftTo(1,a)):f.isEven()||f.subTo(e,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(a,s),l.subTo(f,l)):(n.subTo(r,n),t&&a.subTo(s,a),f.subTo(l,f))}if(n.compareTo(C0.ONE)!=0)return C0.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;return f.signum()<0?f.add(e):f}o(Boe,"bnModInverse");var I1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ooe=(1<<26)/I1[I1.length-1];function Foe(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=I1[I1.length-1]){for(t=0;t<I1.length;++t)if(r.data[0]==I1[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<I1.length;){for(var n=I1[t],s=t+1;s<I1.length&&n<Ooe;)n*=I1[s++];for(n=r.modInt(n);t<s;)if(n%I1[t++]==0)return!1}return r.millerRabin(e)}o(Foe,"bnIsProbablePrime");function Moe(e){var t=this.subtract(C0.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=Uoe(),l,a=0;a<e;++a){do l=new C0(this.bitLength(),s);while(l.compareTo(C0.ONE)<=0||l.compareTo(t)>=0);var f=l.modPow(n,this);if(f.compareTo(C0.ONE)!=0&&f.compareTo(t)!=0){for(var c=1;c++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(C0.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0}o(Moe,"bnpMillerRabin");function Uoe(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(Uoe,"bnGetPrng");C0.prototype.chunkSize=qse;C0.prototype.toRadix=$se;C0.prototype.fromRadix=Hse;C0.prototype.fromNumber=Vse;C0.prototype.bitwiseTo=Yse;C0.prototype.changeBit=foe;C0.prototype.addTo=hoe;C0.prototype.dMultiply=_oe;C0.prototype.dAddOffset=boe;C0.prototype.multiplyLowerTo=Soe;C0.prototype.multiplyUpperTo=woe;C0.prototype.modInt=Loe;C0.prototype.millerRabin=Moe;C0.prototype.clone=Ose;C0.prototype.intValue=Fse;C0.prototype.byteValue=Mse;C0.prototype.shortValue=Use;C0.prototype.signum=jse;C0.prototype.toByteArray=zse;C0.prototype.equals=Gse;C0.prototype.min=Kse;C0.prototype.max=Wse;C0.prototype.and=Xse;C0.prototype.or=Zse;C0.prototype.xor=Qse;C0.prototype.andNot=eoe;C0.prototype.not=toe;C0.prototype.shiftLeft=roe;C0.prototype.shiftRight=noe;C0.prototype.getLowestSetBit=soe;C0.prototype.bitCount=aoe;C0.prototype.testBit=loe;C0.prototype.setBit=coe;C0.prototype.clearBit=uoe;C0.prototype.flipBit=doe;C0.prototype.add=goe;C0.prototype.subtract=moe;C0.prototype.multiply=poe;C0.prototype.divide=yoe;C0.prototype.remainder=voe;C0.prototype.divideAndRemainder=xoe;C0.prototype.modPow=Noe;C0.prototype.modInverse=Boe;C0.prototype.pow=Toe;C0.prototype.gcd=Doe;C0.prototype.isProbablePrime=Foe});var L6=ot((Epe,lz)=>{var xu=ii();gu();Ni();var oz=lz.exports=xu.sha1=xu.sha1||{};xu.md.sha1=xu.md.algorithms.sha1=oz;oz.create=function(){az||qoe();var e=null,t=xu.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=xu.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=xu.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),sz(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=xu.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(Ek.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};sz(h,r,s);var p=xu.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},n};var Ek=null,az=!1;function qoe(){Ek="\x80",Ek+=xu.util.fillString("\0",64),az=!0}o(qoe,"_init");function sz(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l&a|f&(l^a),n=(s<<5|s>>>27)+u+c+2400959708+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+3395469782+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,e.h4=e.h4+c|0,h-=64}}o(sz,"_update")});var Tk=ot((Spe,cz)=>{var _u=ii();Ni();$c();L6();var fz=cz.exports=_u.pkcs1=_u.pkcs1||{};fz.encode_rsa_oaep=function(e,t,r){var n,s,l,a;typeof r=="string"?(n=r,s=arguments[3]||void 0,l=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,l=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),l?l.start():l=_u.md.sha1.create(),a||(a=l);var f=Math.ceil(e.n.bitLength()/8),c=f-2*l.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),l.update(n,"raw");for(var d=l.digest(),h="",p=c-t.length,g=0;g<p;g++)h+="\0";var y=d.getBytes()+h+""+t;if(!s)s=_u.random.getBytes(l.digestLength);else if(s.length!==l.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=l.digestLength,u}var _=fb(s,f-l.digestLength-1,a),S=_u.util.xorBytes(y,_,y.length),w=fb(S,l.digestLength,a),P=_u.util.xorBytes(s,w,s.length);return"\0"+P+S};fz.decode_rsa_oaep=function(e,t,r){var n,s,l;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=t.length,S.expectedLength=a,S}if(s===void 0?s=_u.md.sha1.create():s.start(),l||(l=s),a<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var f=s.digest().getBytes(),c=t.charAt(0),u=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=fb(d,s.digestLength,l),p=_u.util.xorBytes(u,h,u.length),g=fb(p,a-s.digestLength-1,l),y=_u.util.xorBytes(d,g,d.length),_=y.substring(0,s.digestLength),S=c!=="\0",w=0;w<s.digestLength;++w)S|=f.charAt(w)!==_.charAt(w);for(var P=1,D=s.digestLength,L=s.digestLength;L<y.length;L++){var k=y.charCodeAt(L),B=k&1^1,ne=P?65534:0;S|=k&ne,P=P&B,D+=P}if(S||y.charCodeAt(D)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(D+1)};function fb(e,t,r){r||(r=_u.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),l=0;l<s;++l){var a=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(fb,"rsa_mgf1")});var wk=ot((Ipe,Sk)=>{var h3=ii();Ni();e7();$c();(function(){if(h3.prime){Sk.exports=h3.prime;return}var e=Sk.exports=h3.prime=h3.prime||{},t=h3.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(h,p){return h|p},"op_or");e.generateProbablePrime=function(h,p,g){typeof p=="function"&&(g=p,p={}),p=p||{};var y=p.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var _=p.prng||h3.random,S={nextBytes:function(w){for(var P=_.getBytesSync(w.length),D=0;D<w.length;++D)w[D]=P.charCodeAt(D)}};if(y.name==="PRIMEINC")return l(h,S,y.options,g);throw new Error("Invalid prime generation algorithm: "+y.name)};function l(h,p,g,y){return"workers"in g?c(h,p,g,y):a(h,p,g,y)}o(l,"primeincFindPrime");function a(h,p,g,y){var _=u(h,p),S=0,w=d(_.bitLength());"millerRabinTests"in g&&(w=g.millerRabinTests);var P=10;"maxBlockTime"in g&&(P=g.maxBlockTime),f(_,h,p,S,w,P,y)}o(a,"primeincFindPrimeWithoutWorkers");function f(h,p,g,y,_,S,w){var P=+new Date;do{if(h.bitLength()>p&&(h=u(p,g)),h.isProbablePrime(_))return w(null,h);h.dAddOffset(r[y++%8],0)}while(S<0||+new Date-P<S);h3.util.setImmediate(function(){f(h,p,g,y,_,S,w)})}o(f,"_primeinc");function c(h,p,g,y){if(typeof Worker>"u")return a(h,p,g,y);var _=u(h,p),S=g.workers,w=g.workLoad||100,P=w*30/8,D=g.workerScript||"forge/prime.worker.js";if(S===-1)return h3.util.estimateCores(function(k,B){k&&(B=2),S=B-1,L()});L();function L(){S=Math.max(1,S);for(var k=[],B=0;B<S;++B)k[B]=new Worker(D);for(var ne=S,B=0;B<S;++B)k[B].addEventListener("message",Ge);var ce=!1;function Ge(st){if(!ce){--ne;var Qe=st.data;if(Qe.found){for(var Ft=0;Ft<k.length;++Ft)k[Ft].terminate();return ce=!0,y(null,new t(Qe.prime,16))}_.bitLength()>h&&(_=u(h,p));var ke=_.toString(16);st.target.postMessage({hex:ke,workLoad:w}),_.dAddOffset(P,0)}}o(Ge,"workerMessage")}o(L,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(h,p){var g=new t(h,p),y=h-1;return g.testBit(y)||g.bitwiseTo(t.ONE.shiftLeft(y),s,g),g.dAddOffset(31-g.mod(n).byteValue(),0),g}o(u,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var t7=ot((Ppe,yz)=>{var Vr=ii();w1();e7();u3();Tk();wk();$c();Ni();typeof Pi>"u"&&(Pi=Vr.jsbn.BigInteger);var Pi,Ik=Vr.util.isNodejs?require("crypto"):null,Yt=Vr.asn1,Vc=Vr.util;Vr.pki=Vr.pki||{};yz.exports=Vr.pki.rsa=Vr.rsa=Vr.rsa||{};var Ln=Vr.pki,joe=[6,4,2,4,2,4,6,2],$oe={name:"PrivateKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Hoe={name:"RSAPrivateKey",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Voe={name:"RSAPublicKey",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},zoe=Vr.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Goe={name:"DigestInfo",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Yt.Class.UNIVERSAL,type:Yt.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Koe=o(function(e){var t;if(e.algorithm in Ln.oids)t=Ln.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=Yt.oidToDer(t).getBytes(),s=Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[]),l=Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[]);l.value.push(Yt.create(Yt.Class.UNIVERSAL,Yt.Type.OID,!1,n)),l.value.push(Yt.create(Yt.Class.UNIVERSAL,Yt.Type.NULL,!1,""));var a=Yt.create(Yt.Class.UNIVERSAL,Yt.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(l),s.value.push(a),Yt.toDer(s).getBytes()},"emsaPkcs1v15encode"),mz=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(Pi.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(Pi.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new Pi(Vr.util.bytesToHex(Vr.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(Pi.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),l=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(l)<0;)s=s.add(t.p);var a=s.subtract(l).multiply(t.qInv).mod(t.p).multiply(t.q).add(l);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");Ln.rsa.encrypt=function(e,t,r){var n=r,s,l=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=pz(e,t,r)):(s=Vr.util.createBuffer(),s.putBytes(e));for(var a=new Pi(s.toHex(),16),f=mz(a,t,n),c=f.toString(16),u=Vr.util.createBuffer(),d=l-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(Vr.util.hexToBytes(c)),u.getBytes()};Ln.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var l=new Error("Encrypted message length is invalid.");throw l.length=e.length,l.expected=s,l}var a=new Pi(Vr.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=mz(a,t,r),c=f.toString(16),u=Vr.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(Vr.util.hexToBytes(c)),n!==!1?cb(u.getBytes(),t,r):u.getBytes()};Ln.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Vr.random,s={nextBytes:function(f){for(var c=n.getBytesSync(f.length),u=0;u<f.length;++u)f[u]=c.charCodeAt(u)}},l=r.algorithm||"PRIMEINC",a;if(l==="PRIMEINC")a={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new Pi(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+l);return a};Ln.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new Pi(null);r.fromInt(30);for(var n=0,s=o(function(h,p){return h|p},"op_or"),l=+new Date,a,f=0;e.keys===null&&(t<=0||f<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new Pi(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(Pi.ONE.shiftLeft(u),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(Yoe(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(joe[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(Pi.ONE).gcd(e.e).compareTo(Pi.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(Pi.ONE),e.q1=e.q.subtract(Pi.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(Pi.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:Ln.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ln.rsa.setPublicKey(e.n,e.e)}}a=+new Date,f+=a-l,l=a}return e.keys!==null};Ln.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Vr.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(uz("generateKeyPair"))return Ik.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,c,u){if(f)return n(f);n(null,{privateKey:Ln.privateKeyFromPem(u),publicKey:Ln.publicKeyFromPem(c)})});if(dz("generateKey")&&dz("exportKey"))return Vc.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:gz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return Vc.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var c=Ln.privateKeyFromAsn1(Yt.fromDer(Vr.util.createBuffer(f)));n(null,{privateKey:c,publicKey:Ln.setRsaPublicKey(c.n,c.e)})}});if(hz("generateKey")&&hz("exportKey")){var s=Vc.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:gz(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(f){var c=f.target.result,u=Vc.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(d){var h=d.target.result,p=Ln.privateKeyFromAsn1(Yt.fromDer(Vr.util.createBuffer(h)));n(null,{privateKey:p,publicKey:Ln.setRsaPublicKey(p.n,p.e)})},u.onerror=function(d){n(d)}},s.onerror=function(f){n(f)};return}}else if(uz("generateKeyPairSync")){var l=Ik.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Ln.privateKeyFromPem(l.privateKey),publicKey:Ln.publicKeyFromPem(l.publicKey)}}}var a=Ln.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Ln.rsa.stepKeyPairGenerationState(a,0),a.keys;Woe(a,r,n)};Ln.setRsaPublicKey=Ln.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,l){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(f,c,u){return pz(f,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(f,c){return Vr.pkcs1.encode_rsa_oaep(c,f,l)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(f){return f}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var a=s.encode(n,r,!0);return Ln.rsa.encrypt(a,r,!0)},r.verify=function(n,s,l,a){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),l==="RSASSA-PKCS1-V1_5"?l={verify:function(c,u){u=cb(u,r,!0);var d=Yt.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),h={},p=[];if(!Yt.validate(d,Goe,h,p)){var g=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw g.errors=p,g}var y=Yt.derToOid(h.algorithmIdentifier);if(!(y===Vr.oids.md2||y===Vr.oids.md5||y===Vr.oids.sha1||y===Vr.oids.sha224||y===Vr.oids.sha256||y===Vr.oids.sha384||y===Vr.oids.sha512||y===Vr.oids["sha512-224"]||y===Vr.oids["sha512-256"])){var g=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw g.oid=y,g}if((y===Vr.oids.md2||y===Vr.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(l==="NONE"||l==="NULL"||l===null)&&(l={verify:function(c,u){return u=cb(u,r,!0),c===u}});var f=Ln.rsa.decrypt(s,r,!0,!1);return l.verify(n,f,r.n.bitLength())},r};Ln.setRsaPrivateKey=Ln.rsa.setPrivateKey=function(e,t,r,n,s,l,a,f){var c={n:e,e:t,d:r,p:n,q:s,dP:l,dQ:a,qInv:f};return c.decrypt=function(u,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var p=Ln.rsa.decrypt(u,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:cb};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(g,y){return Vr.pkcs1.decode_rsa_oaep(y,g,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(g){return g}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(p,c,!1)},c.sign=function(u,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:Koe},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return u}},h=1);var p=d.encode(u,c.n.bitLength());return Ln.rsa.encrypt(p,c,h)},c};Ln.wrapRsaPrivateKey=function(e){return Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,Yt.integerToDer(0).getBytes()),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.OID,!1,Yt.oidToDer(Ln.oids.rsaEncryption).getBytes()),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.NULL,!1,"")]),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.OCTETSTRING,!1,Yt.toDer(e).getBytes())])};Ln.privateKeyFromAsn1=function(e){var t={},r=[];if(Yt.validate(e,$oe,t,r)&&(e=Yt.fromDer(Vr.util.createBuffer(t.privateKey))),t={},r=[],!Yt.validate(e,Hoe,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,l,a,f,c,u,d,h;return s=Vr.util.createBuffer(t.privateKeyModulus).toHex(),l=Vr.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Vr.util.createBuffer(t.privateKeyPrivateExponent).toHex(),f=Vr.util.createBuffer(t.privateKeyPrime1).toHex(),c=Vr.util.createBuffer(t.privateKeyPrime2).toHex(),u=Vr.util.createBuffer(t.privateKeyExponent1).toHex(),d=Vr.util.createBuffer(t.privateKeyExponent2).toHex(),h=Vr.util.createBuffer(t.privateKeyCoefficient).toHex(),Ln.setRsaPrivateKey(new Pi(s,16),new Pi(l,16),new Pi(a,16),new Pi(f,16),new Pi(c,16),new Pi(u,16),new Pi(d,16),new Pi(h,16))};Ln.privateKeyToAsn1=Ln.privateKeyToRSAPrivateKey=function(e){return Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,Yt.integerToDer(0).getBytes()),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.n)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.e)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.d)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.p)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.q)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.dP)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.dQ)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.qInv))])};Ln.publicKeyFromAsn1=function(e){var t={},r=[];if(Yt.validate(e,zoe,t,r)){var n=Yt.derToOid(t.publicKeyOid);if(n!==Ln.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!Yt.validate(e,Voe,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var l=Vr.util.createBuffer(t.publicKeyModulus).toHex(),a=Vr.util.createBuffer(t.publicKeyExponent).toHex();return Ln.setRsaPublicKey(new Pi(l,16),new Pi(a,16))};Ln.publicKeyToAsn1=Ln.publicKeyToSubjectPublicKeyInfo=function(e){return Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.OID,!1,Yt.oidToDer(Ln.oids.rsaEncryption).getBytes()),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.NULL,!1,"")]),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.BITSTRING,!1,[Ln.publicKeyToRSAPublicKey(e)])])};Ln.publicKeyToRSAPublicKey=function(e){return Yt.create(Yt.Class.UNIVERSAL,Yt.Type.SEQUENCE,!0,[Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.n)),Yt.create(Yt.Class.UNIVERSAL,Yt.Type.INTEGER,!1,bu(e.e))])};function pz(e,t,r){var n=Vr.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var l=new Error("Message is too long for PKCS#1 v1.5 padding.");throw l.length=e.length,l.max=s-11,l}n.putByte(0),n.putByte(r);var a=s-3-e.length,f;if(r===0||r===1){f=r===0?0:255;for(var c=0;c<a;++c)n.putByte(f)}else for(;a>0;){for(var u=0,d=Vr.random.getBytes(a),c=0;c<a;++c)f=d.charCodeAt(c),f===0?++u:n.putByte(f);a=u}return n.putByte(0),n.putBytes(e),n}o(pz,"_encodePkcs1_v1_5");function cb(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),l=Vr.util.createBuffer(e),a=l.getByte(),f=l.getByte();if(a!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(f===0){c=s-3-n;for(var u=0;u<c;++u)if(l.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(c=0;l.length()>1;){if(l.getByte()!==255){--l.read;break}++c}else if(f===2)for(c=0;l.length()>1;){if(l.getByte()===0){--l.read;break}++c}var d=l.getByte();if(d!==0||c!==s-3-l.length())throw new Error("Encryption block is invalid.");return l.getBytes()}o(cb,"_decodePkcs1_v1_5");function Woe(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){l(e.pBits,function(f,c){if(f)return r(f);if(e.p=c,e.q!==null)return a(f,e.q);l(e.qBits,a)})}o(s,"generate");function l(f,c){Vr.prime.generateProbablePrime(f,n,c)}o(l,"getPrime");function a(f,c){if(f)return r(f);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract(Pi.ONE).gcd(e.e).compareTo(Pi.ONE)!==0){e.p=null,s();return}if(e.q.subtract(Pi.ONE).gcd(e.e).compareTo(Pi.ONE)!==0){e.q=null,l(e.qBits,a);return}if(e.p1=e.p.subtract(Pi.ONE),e.q1=e.q.subtract(Pi.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(Pi.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,l(e.qBits,a);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:Ln.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ln.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(Woe,"_generateKeyPair");function bu(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Vr.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(bu,"_bnToBytes");function Yoe(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(Yoe,"_getMillerRabinTests");function uz(e){return Vr.util.isNodejs&&typeof Ik[e]=="function"}o(uz,"_detectNodeCrypto");function dz(e){return typeof Vc.globalScope<"u"&&typeof Vc.globalScope.crypto=="object"&&typeof Vc.globalScope.crypto.subtle=="object"&&typeof Vc.globalScope.crypto.subtle[e]=="function"}o(dz,"_detectSubtleCrypto");function hz(e){return typeof Vc.globalScope<"u"&&typeof Vc.globalScope.msCrypto=="object"&&typeof Vc.globalScope.msCrypto.subtle=="object"&&typeof Vc.globalScope.msCrypto.subtle[e]=="function"}o(hz,"_detectSubtleMsCrypto");function gz(e){for(var t=Vr.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(gz,"_intToUint8Array")});var Ak=ot((kpe,Cz)=>{var z0=ii();c3();w1();Z9();gu();u3();sb();A4();$c();xk();t7();Ni();typeof vz>"u"&&(vz=z0.jsbn.BigInteger);var vz,o0=z0.asn1,Xn=z0.pki=z0.pki||{};Cz.exports=Xn.pbe=z0.pbe=z0.pbe||{};var k4=Xn.oids,Joe={name:"EncryptedPrivateKeyInfo",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Xoe={name:"PBES2Algorithms",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o0.Class.UNIVERSAL,type:o0.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o0.Class.UNIVERSAL,type:o0.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Zoe={name:"pkcs-12PbeParams",tagClass:o0.Class.UNIVERSAL,type:o0.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o0.Class.UNIVERSAL,type:o0.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o0.Class.UNIVERSAL,type:o0.Type.INTEGER,constructed:!1,capture:"iterations"}]};Xn.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=z0.random.getBytesSync(r.saltSize),s=r.count,l=o0.integerToDer(s),a,f,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,d,h;switch(r.algorithm){case"aes128":a=16,u=16,d=k4["aes128-CBC"],h=z0.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,d=k4["aes192-CBC"],h=z0.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,d=k4["aes256-CBC"],h=z0.aes.createEncryptionCipher;break;case"des":a=8,u=8,d=k4.desCBC,h=z0.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var g="hmacWith"+r.prfAlgorithm.toUpperCase(),y=bz(g),_=z0.pkcs5.pbkdf2(t,n,s,a,y),S=z0.random.getBytesSync(u),w=h(_);w.start(S),w.update(o0.toDer(e)),w.finish(),c=w.output.getBytes();var P=Qoe(n,l,a,g);f=o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OID,!1,o0.oidToDer(k4.pkcs5PBES2).getBytes()),o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OID,!1,o0.oidToDer(k4.pkcs5PBKDF2).getBytes()),P]),o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OID,!1,o0.oidToDer(d).getBytes()),o0.create(o0.Class.UNIVERSAL,o0.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){a=24;var D=new z0.util.ByteBuffer(n),_=Xn.pbe.generatePkcs12Key(t,D,1,s,a),S=Xn.pbe.generatePkcs12Key(t,D,2,s,a),w=z0.des.createEncryptionCipher(_);w.start(S),w.update(o0.toDer(e)),w.finish(),c=w.output.getBytes(),f=o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OID,!1,o0.oidToDer(k4["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OCTETSTRING,!1,n),o0.create(o0.Class.UNIVERSAL,o0.Type.INTEGER,!1,l.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var L=o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[f,o0.create(o0.Class.UNIVERSAL,o0.Type.OCTETSTRING,!1,c)]);return L};Xn.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!o0.validate(e,Joe,n,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=o0.derToOid(n.encryptionOid),f=Xn.pbe.getCipher(a,n.encryptionParams,t),c=z0.util.createBuffer(n.encryptedData);return f.update(c),f.finish()&&(r=o0.fromDer(f.output)),r};Xn.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:o0.toDer(e).getBytes()};return z0.pem.encode(r,{maxline:t})};Xn.encryptedPrivateKeyFromPem=function(e){var t=z0.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o0.fromDer(t.body)};Xn.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=Xn.wrapRsaPrivateKey(Xn.privateKeyToAsn1(e));return n=Xn.encryptPrivateKeyInfo(n,t,r),Xn.encryptedPrivateKeyToPem(n)}var s,l,a,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",a=16,l=z0.random.getBytesSync(16),f=z0.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",a=24,l=z0.random.getBytesSync(16),f=z0.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",a=32,l=z0.random.getBytesSync(16),f=z0.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",a=24,l=z0.random.getBytesSync(8),f=z0.des.createEncryptionCipher;break;case"des":s="DES-CBC",a=8,l=z0.random.getBytesSync(8),f=z0.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=z0.pbe.opensslDeriveBytes(t,l.substr(0,8),a),d=f(u);d.start(l),d.update(o0.toDer(Xn.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:z0.util.bytesToHex(l).toUpperCase()},body:d.output.getBytes()};return z0.pem.encode(h)};Xn.decryptRsaPrivateKey=function(e,t){var r=null,n=z0.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var l,a;switch(n.dekInfo.algorithm){case"DES-CBC":l=8,a=z0.des.createDecryptionCipher;break;case"DES-EDE3-CBC":l=24,a=z0.des.createDecryptionCipher;break;case"AES-128-CBC":l=16,a=z0.aes.createDecryptionCipher;break;case"AES-192-CBC":l=24,a=z0.aes.createDecryptionCipher;break;case"AES-256-CBC":l=32,a=z0.aes.createDecryptionCipher;break;case"RC2-40-CBC":l=5,a=o(function(h){return z0.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":l=8,a=o(function(h){return z0.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":l=16,a=o(function(h){return z0.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var f=z0.util.hexToBytes(n.dekInfo.parameters),c=z0.pbe.opensslDeriveBytes(t,f.substr(0,8),l),u=a(c);if(u.start(f),u.update(z0.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Xn.decryptPrivateKeyInfo(o0.fromDer(r),t):r=o0.fromDer(r),r!==null&&(r=Xn.privateKeyFromAsn1(r)),r};Xn.pbe.generatePkcs12Key=function(e,t,r,n,s,l){var a,f;if(typeof l>"u"||l===null){if(!("sha1"in z0.md))throw new Error('"sha1" hash algorithm unavailable.');l=z0.md.sha1.create()}var c=l.digestLength,u=l.blockLength,d=new z0.util.ByteBuffer,h=new z0.util.ByteBuffer;if(e!=null){for(f=0;f<e.length;f++)h.putInt16(e.charCodeAt(f));h.putInt16(0)}var p=h.length(),g=t.length(),y=new z0.util.ByteBuffer;y.fillWithByte(r,u);var _=u*Math.ceil(g/u),S=new z0.util.ByteBuffer;for(f=0;f<_;f++)S.putByte(t.at(f%g));var w=u*Math.ceil(p/u),P=new z0.util.ByteBuffer;for(f=0;f<w;f++)P.putByte(h.at(f%p));var D=S;D.putBuffer(P);for(var L=Math.ceil(s/c),k=1;k<=L;k++){var B=new z0.util.ByteBuffer;B.putBytes(y.bytes()),B.putBytes(D.bytes());for(var ne=0;ne<n;ne++)l.start(),l.update(B.getBytes()),B=l.digest();var ce=new z0.util.ByteBuffer;for(f=0;f<u;f++)ce.putByte(B.at(f%c));var Ge=Math.ceil(g/u)+Math.ceil(p/u),st=new z0.util.ByteBuffer;for(a=0;a<Ge;a++){var Qe=new z0.util.ByteBuffer(D.getBytes(u)),Ft=511;for(f=ce.length()-1;f>=0;f--)Ft=Ft>>8,Ft+=ce.at(f)+Qe.at(f),Qe.setAt(f,Ft&255);st.putBuffer(Qe)}D=st,d.putBuffer(B)}return d.truncate(d.length()-s),d};Xn.pbe.getCipher=function(e,t,r){switch(e){case Xn.oids.pkcs5PBES2:return Xn.pbe.getCipherForPBES2(e,t,r);case Xn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Xn.oids["pbewithSHAAnd40BitRC2-CBC"]:return Xn.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Xn.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!o0.validate(t,Xoe,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}if(e=o0.derToOid(n.kdfOid),e!==Xn.oids.pkcs5PBKDF2){var l=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw l.oid=e,l.supportedOids=["pkcs5PBKDF2"],l}if(e=o0.derToOid(n.encOid),e!==Xn.oids["aes128-CBC"]&&e!==Xn.oids["aes192-CBC"]&&e!==Xn.oids["aes256-CBC"]&&e!==Xn.oids["des-EDE3-CBC"]&&e!==Xn.oids.desCBC){var l=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw l.oid=e,l.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],l}var a=n.kdfSalt,f=z0.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var c,u;switch(Xn.oids[e]){case"aes128-CBC":c=16,u=z0.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=z0.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=z0.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=z0.des.createDecryptionCipher;break;case"desCBC":c=8,u=z0.des.createDecryptionCipher;break}var d=_z(n.prfOid),h=z0.pkcs5.pbkdf2(r,a,f,c,d),p=n.encIv,g=u(h);return g.start(p),g};Xn.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!o0.validate(t,Zoe,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=z0.util.createBuffer(n.salt),f=z0.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var c,u,d;switch(e){case Xn.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,d=z0.des.startDecrypting;break;case Xn.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,d=o(function(_,S){var w=z0.rc2.createDecryptionCipher(_,40);return w.start(S,null),w},"cipherFn");break;default:var l=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw l.oid=e,l}var h=_z(n.prfOid),p=Xn.pbe.generatePkcs12Key(r,a,1,f,c,h);h.start();var g=Xn.pbe.generatePkcs12Key(r,a,2,f,u,h);return d(p,g)};Xn.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in z0.md))throw new Error('"md5" hash algorithm unavailable.');n=z0.md.md5.create()}t===null&&(t="");for(var s=[xz(n,e+t)],l=16,a=1;l<r;++a,l+=16)s.push(xz(n,s[a-1]+e+t));return s.join("").substr(0,r)};function xz(e,t){return e.start().update(t).digest().getBytes()}o(xz,"hash");function _z(e){var t;if(!e)t="hmacWithSHA1";else if(t=Xn.oids[o0.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return bz(t)}o(_z,"prfOidToMessageDigest");function bz(e){var t=z0.md;switch(e){case"hmacWithSHA224":t=z0.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(bz,"prfAlgorithmToMessageDigest");function Qoe(e,t,r,n){var s=o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OCTETSTRING,!1,e),o0.create(o0.Class.UNIVERSAL,o0.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(o0.create(o0.Class.UNIVERSAL,o0.Type.INTEGER,!1,z0.util.hexToBytes(r.toString(16))),o0.create(o0.Class.UNIVERSAL,o0.Type.SEQUENCE,!0,[o0.create(o0.Class.UNIVERSAL,o0.Type.OID,!1,o0.oidToDer(Xn.oids[n]).getBytes()),o0.create(o0.Class.UNIVERSAL,o0.Type.NULL,!1,"")])),s}o(Qoe,"createPbkdf2Params")});var Pk=ot((Dpe,Sz)=>{var B6=ii();w1();Ni();var $0=B6.asn1,O6=Sz.exports=B6.pkcs7asn1=B6.pkcs7asn1||{};B6.pkcs7=B6.pkcs7||{};B6.pkcs7.asn1=O6;var Ez={name:"ContentInfo",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:$0.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};O6.contentInfoValidator=Ez;var Tz={name:"EncryptedContentInfo",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:$0.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:$0.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};O6.envelopedDataValidator={name:"EnvelopedData",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(Tz)};O6.encryptedDataValidator={name:"EncryptedData",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"version"}].concat(Tz)};var eae={name:"SignerInfo",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:$0.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:$0.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:$0.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};O6.signedDataValidator={name:"SignedData",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Ez,{name:"SignedData.Certificates",tagClass:$0.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:$0.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SET,capture:"signerInfos",optional:!0,value:[eae]}]};O6.recipientInfoValidator={name:"RecipientInfo",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:$0.Class.UNIVERSAL,type:$0.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:$0.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:$0.Class.UNIVERSAL,type:$0.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var Rk=ot((Lpe,wz)=>{var N4=ii();Ni();N4.mgf=N4.mgf||{};var tae=wz.exports=N4.mgf.mgf1=N4.mgf1=N4.mgf1||{};tae.create=function(e){var t={generate:function(r,n){for(var s=new N4.util.ByteBuffer,l=Math.ceil(n/e.digestLength),a=0;a<l;a++){var f=new N4.util.ByteBuffer;f.putInt32(a),e.start(),e.update(r+f.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var Az=ot((Bpe,Iz)=>{var ub=ii();Rk();Iz.exports=ub.mgf=ub.mgf||{};ub.mgf.mgf1=ub.mgf1});var db=ot((Ope,Pz)=>{var D4=ii();$c();Ni();var rae=Pz.exports=D4.pss=D4.pss||{};rae.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=D4.util.createBuffer(s));var l;if("saltLength"in e)l=e.saltLength;else if(s!==null)l=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==l)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||D4.random,f={};return f.encode=function(c,u){var d,h=u-1,p=Math.ceil(h/8),g=c.digest().getBytes();if(p<n+l+2)throw new Error("Message is too long to encrypt.");var y;s===null?y=a.getBytesSync(l):y=s.bytes();var _=new D4.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(g),_.putBytes(y),t.start(),t.update(_.getBytes());var S=t.digest().getBytes(),w=new D4.util.ByteBuffer;w.fillWithByte(0,p-l-n-2),w.putByte(1),w.putBytes(y);var P=w.getBytes(),D=p-n-1,L=r.generate(S,D),k="";for(d=0;d<D;d++)k+=String.fromCharCode(P.charCodeAt(d)^L.charCodeAt(d));var B=65280>>8*p-h&255;return k=String.fromCharCode(k.charCodeAt(0)&~B)+k.substr(1),k+S+"\xBC"},f.verify=function(c,u,d){var h,p=d-1,g=Math.ceil(p/8);if(u=u.substr(-g),g<n+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=g-n-1,_=u.substr(0,y),S=u.substr(y,n),w=65280>>8*g-p&255;if(_.charCodeAt(0)&w)throw new Error("Bits beyond keysize not zero as expected.");var P=r.generate(S,y),D="";for(h=0;h<y;h++)D+=String.fromCharCode(_.charCodeAt(h)^P.charCodeAt(h));D=String.fromCharCode(D.charCodeAt(0)&~w)+D.substr(1);var L=g-n-l-2;for(h=0;h<L;h++)if(D.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(L)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=D.substr(-l),B=new D4.util.ByteBuffer;B.fillWithByte(0,8),B.putBytes(c),B.putBytes(k),t.start(),t.update(B.getBytes());var ne=t.digest().getBytes();return S===ne},f}});var mb=ot((Fpe,Lz)=>{var Gr=ii();c3();w1();Z9();gu();Az();u3();A4();db();t7();Ni();var Z=Gr.asn1,k0=Lz.exports=Gr.pki=Gr.pki||{},Ri=k0.oids,Ta={};Ta.CN=Ri.commonName;Ta.commonName="CN";Ta.C=Ri.countryName;Ta.countryName="C";Ta.L=Ri.localityName;Ta.localityName="L";Ta.ST=Ri.stateOrProvinceName;Ta.stateOrProvinceName="ST";Ta.O=Ri.organizationName;Ta.organizationName="O";Ta.OU=Ri.organizationalUnitName;Ta.organizationalUnitName="OU";Ta.E=Ri.emailAddress;Ta.emailAddress="E";var kz=Gr.pki.rsa.publicKeyValidator,nae={name:"Certificate",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:Z.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:Z.Class.UNIVERSAL,type:Z.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:Z.Class.UNIVERSAL,type:Z.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:Z.Class.UNIVERSAL,type:Z.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:Z.Class.UNIVERSAL,type:Z.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},kz,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:Z.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:Z.Class.UNIVERSAL,type:Z.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:Z.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:Z.Class.UNIVERSAL,type:Z.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:Z.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:Z.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:Z.Class.UNIVERSAL,type:Z.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},iae={name:"rsapss",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:Z.Class.UNIVERSAL,type:Z.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:Z.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:Z.Class.UNIVERSAL,type:Z.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:Z.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:Z.Class.UNIVERSAL,type:Z.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:Z.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:Z.Class.UNIVERSAL,type:Z.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},sae={name:"CertificationRequestInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},kz,{name:"CertificationRequestInfo.attributes",tagClass:Z.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SET,constructed:!0}]}]}]},oae={name:"CertificationRequest",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[sae,{name:"CertificationRequest.signatureAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:Z.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:Z.Class.UNIVERSAL,type:Z.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};k0.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,l,a=0;a<e.value.length;++a){n=e.value[a];for(var f=0;f<n.value.length;++f)l={},s=n.value[f],l.type=Z.derToOid(s.value[0].value),l.value=s.value[1].value,l.valueTagClass=s.value[1].type,l.type in Ri&&(l.name=Ri[l.type],l.name in Ta&&(l.shortName=Ta[l.name])),t&&(t.update(l.type),t.update(l.value)),r.push(l)}return r};k0.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=Z.derToOid(n.value[0].value),l=n.value[1].value,a=0;a<l.length;++a){var f={};if(f.type=s,f.value=l[a].value,f.valueTagClass=l[a].type,f.type in Ri&&(f.name=Ri[f.type],f.name in Ta&&(f.shortName=Ta[f.name])),f.type===Ri.extensionRequest){f.extensions=[];for(var c=0;c<f.value.length;++c)f.extensions.push(k0.certificateExtensionFromAsn1(f.value[c]))}t.push(f)}return t};function g3(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(g3,"_getAttribute");var hb=o(function(e,t,r){var n={};if(e!==Ri["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Ri.sha1},mgf:{algorithmOid:Ri.mgf1,hash:{algorithmOid:Ri.sha1}},saltLength:20});var s={},l=[];if(!Z.validate(t,iae,s,l)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=l,a}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=Z.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=Z.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=Z.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),gb=o(function(e){switch(Ri[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Gr.md.sha1.create();case"md5WithRSAEncryption":return Gr.md.md5.create();case"sha256WithRSAEncryption":return Gr.md.sha256.create();case"sha384WithRSAEncryption":return Gr.md.sha384.create();case"sha512WithRSAEncryption":return Gr.md.sha512.create();case"RSASSA-PSS":return Gr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),Nz=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Ri.sha1WithRSAEncryption:case Ri.sha1WithRSASignature:break;case Ri["RSASSA-PSS"]:var n,s;if(n=Ri[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||Gr.md[n]===void 0){var l=new Error("Unsupported MGF hash function.");throw l.oid=t.signatureParameters.mgf.hash.algorithmOid,l.name=n,l}if(s=Ri[t.signatureParameters.mgf.algorithmOid],s===void 0||Gr.mgf[s]===void 0){var l=new Error("Unsupported MGF function.");throw l.oid=t.signatureParameters.mgf.algorithmOid,l.name=s,l}if(s=Gr.mgf[s].create(Gr.md[n].create()),n=Ri[t.signatureParameters.hash.algorithmOid],n===void 0||Gr.md[n]===void 0){var l=new Error("Unsupported RSASSA-PSS hash function.");throw l.oid=t.signatureParameters.hash.algorithmOid,l.name=n,l}r=Gr.pss.create(Gr.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");k0.certificateFromPem=function(e,t,r){var n=Gr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=Z.fromDer(n.body,r);return k0.certificateFromAsn1(l,t)};k0.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:Z.toDer(k0.certificateToAsn1(e)).getBytes()};return Gr.pem.encode(r,{maxline:t})};k0.publicKeyFromPem=function(e){var t=Gr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=Z.fromDer(t.body);return k0.publicKeyFromAsn1(n)};k0.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:Z.toDer(k0.publicKeyToAsn1(e)).getBytes()};return Gr.pem.encode(r,{maxline:t})};k0.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:Z.toDer(k0.publicKeyToRSAPublicKey(e)).getBytes()};return Gr.pem.encode(r,{maxline:t})};k0.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||Gr.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=Z.toDer(k0.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=Z.toDer(k0.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};k0.certificationRequestFromPem=function(e,t,r){var n=Gr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=Z.fromDer(n.body,r);return k0.certificationRequestFromAsn1(l,t)};k0.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:Z.toDer(k0.certificationRequestToAsn1(e)).getBytes()};return Gr.pem.encode(r,{maxline:t})};k0.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return g3(e.issuer,t)},e.issuer.addField=function(t){zc([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return g3(e.subject,t)},e.subject.addField=function(t){zc([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){zc(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){zc(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)Dz(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||Gr.md.sha1.create();var n=Ri[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=k0.getTBSCertificate(e);var l=Z.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,l=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw l.expectedIssuer=s.attributes,l.actualIssuer=n.attributes,l}var a=t.md;if(a===null){a=gb({signatureOid:t.signatureOid,type:"certificate"});var f=t.tbsCertificate||k0.getTBSCertificate(t),c=Z.toDer(f);a.update(c.getBytes())}return a!==null&&(r=Nz({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var l,a,f=0;r&&f<n.attributes.length;++f)l=n.attributes[f],a=s.attributes[f],(l.type!==a.type||l.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return k0.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Ri.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return Gr.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};k0.certificateFromAsn1=function(e,t){var r={},n=[];if(!Z.validate(e,nae,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var l=Z.derToOid(r.publicKeyOid);if(l!==k0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=k0.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=Gr.util.createBuffer(r.certSerialNumber);a.serialNumber=f.toHex(),a.signatureOid=Gr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=hb(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Gr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=hb(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(Z.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(Z.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(Z.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(Z.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=gb({signatureOid:a.signatureOid,type:"certificate"});var u=Z.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var d=Gr.md.sha1.create(),h=Z.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(y){return g3(a.issuer,y)},a.issuer.addField=function(y){zc([y]),a.issuer.attributes.push(y)},a.issuer.attributes=k0.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var p=Gr.md.sha1.create(),g=Z.toDer(r.certSubject);return p.update(g.getBytes()),a.subject.getField=function(y){return g3(a.subject,y)},a.subject.addField=function(y){zc([y]),a.subject.attributes.push(y)},a.subject.attributes=k0.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=p.digest().toHex(),r.certExtensions?a.extensions=k0.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=k0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};k0.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(k0.certificateExtensionFromAsn1(n.value[s]));return t};k0.certificateExtensionFromAsn1=function(e){var t={};if(t.id=Z.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===Z.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Ri){if(t.name=Ri[t.id],t.name==="keyUsage"){var r=Z.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=Z.fromDer(t.value);r.value.length>0&&r.value[0].type===Z.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var l=null;r.value.length>0&&r.value[0].type===Z.Type.INTEGER?l=r.value[0].value:r.value.length>1&&(l=r.value[1].value),l!==null&&(t.pathLenConstraint=Z.derToInteger(l))}else if(t.name==="extKeyUsage")for(var r=Z.fromDer(t.value),a=0;a<r.value.length;++a){var f=Z.derToOid(r.value[a].value);f in Ri?t[Ri[f]]=!0:t[f]=!0}else if(t.name==="nsCertType"){var r=Z.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=Z.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=Gr.util.bytesToIP(c.value);break;case 8:d.oid=Z.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=Z.fromDer(t.value);t.subjectKeyIdentifier=Gr.util.bytesToHex(r.value)}}return t};k0.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!Z.validate(e,oae,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var l=Z.derToOid(r.publicKeyOid);if(l!==k0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=k0.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Gr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=hb(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Gr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=hb(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=gb({signatureOid:a.signatureOid,type:"certification request"});var f=Z.toDer(a.certificationRequestInfo);a.md.update(f.getBytes())}var c=Gr.md.sha1.create();return a.subject.getField=function(u){return g3(a.subject,u)},a.subject.addField=function(u){zc([u]),a.subject.attributes.push(u)},a.subject.attributes=k0.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=k0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return g3(a,u)},a.addAttribute=function(u){zc([u]),a.attributes.push(u)},a.attributes=k0.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};k0.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return g3(e.subject,t)},e.subject.addField=function(t){zc([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return g3(e,t)},e.addAttribute=function(t){zc([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){zc(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){zc(t),e.attributes=t},e.sign=function(t,r){e.md=r||Gr.md.sha1.create();var n=Ri[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=k0.getCertificationRequestInfo(e);var l=Z.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=gb({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||k0.getCertificationRequestInfo(e),s=Z.toDer(n);r.update(s.getBytes())}return r!==null&&(t=Nz({certificate:e,md:r,signature:e.signature})),t},e};function F6(e){for(var t=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,l=0;l<s.length;++l){r=s[l];var a=r.value,f=Z.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===Z.Type.UTF8&&(a=Gr.util.encodeUtf8(a))),n=Z.create(Z.Class.UNIVERSAL,Z.Type.SET,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(r.type).getBytes()),Z.create(Z.Class.UNIVERSAL,f,!1,a)])]),t.value.push(n)}return t}o(F6,"_dnToAsn1");function zc(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in k0.oids?t.name=k0.oids[t.type]:t.shortName&&t.shortName in Ta&&(t.name=k0.oids[Ta[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in k0.oids)t.type=k0.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Ta&&(t.shortName=Ta[t.name]),t.type===Ri.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=Z.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(k0.certificateExtensionToAsn1(Dz(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(zc,"_fillMissingFields");function Dz(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in k0.oids&&(e.name=k0.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in k0.oids)e.id=k0.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,l=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(l|=128,n=7);var a=String.fromCharCode(n);l!==0?a+=String.fromCharCode(s)+String.fromCharCode(l):s!==0&&(a+=String.fromCharCode(s)),e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var c in e)e[c]===!0&&(c in Ri?f.push(Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(Ri[c]).getBytes())):c.indexOf(".")!==-1&&f.push(Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var a=String.fromCharCode(n);s!==0&&(a+=String.fromCharCode(s)),e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);for(var u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=Gr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=Z.oidToDer(Z.oidToDer(u.oid)):a=Z.oidToDer(a));e.value.value.push(Z.create(Z.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);var f=e.value.value;if(e.keyIdentifier){var p=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(Z.create(Z.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var g=[Z.create(Z.Class.CONTEXT_SPECIFIC,4,!0,[F6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];f.push(Z.create(Z.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var y=Gr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);f.push(Z.create(Z.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(e.name==="cRLDistributionPoints"){e.value=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);for(var f=e.value.value,_=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]),S=Z.create(Z.Class.CONTEXT_SPECIFIC,0,!0,[]),u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=Gr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=Z.oidToDer(Z.oidToDer(u.oid)):a=Z.oidToDer(a));S.value.push(Z.create(Z.Class.CONTEXT_SPECIFIC,u.type,!1,a))}_.value.push(Z.create(Z.Class.CONTEXT_SPECIFIC,0,!0,[S])),f.push(_)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(Dz,"_fillMissingExtensionFields");function kk(e,t){switch(e){case Ri["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(Z.create(Z.Class.CONTEXT_SPECIFIC,0,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(t.hash.algorithmOid).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(Z.create(Z.Class.CONTEXT_SPECIFIC,1,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(t.mgf.algorithmOid).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(t.mgf.hash.algorithmOid).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(Z.create(Z.Class.CONTEXT_SPECIFIC,2,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(t.saltLength).getBytes())])),Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,r);default:return Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,"")}}o(kk,"_signatureParametersToAsn1");function aae(e){var t=Z.create(Z.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],l=s.value,a=Z.Type.UTF8;"valueTagClass"in s&&(a=s.valueTagClass),a===Z.Type.UTF8&&(l=Gr.util.encodeUtf8(l));var f=!1;"valueConstructed"in s&&(f=s.valueConstructed);var c=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(s.type).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.SET,!0,[Z.create(Z.Class.UNIVERSAL,a,f,l)])]);t.value.push(c)}return t}o(aae,"_CRIAttributesToAsn1");var lae=new Date("1950-01-01T00:00:00Z"),fae=new Date("2050-01-01T00:00:00Z");function Rz(e){return e>=lae&&e<fae?Z.create(Z.Class.UNIVERSAL,Z.Type.UTCTIME,!1,Z.dateToUtcTime(e)):Z.create(Z.Class.UNIVERSAL,Z.Type.GENERALIZEDTIME,!1,Z.dateToGeneralizedTime(e))}o(Rz,"_dateToAsn1");k0.getTBSCertificate=function(e){var t=Rz(e.validity.notBefore),r=Rz(e.validity.notAfter),n=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.CONTEXT_SPECIFIC,0,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(e.version).getBytes())]),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Gr.util.hexToBytes(e.serialNumber)),Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(e.siginfo.algorithmOid).getBytes()),kk(e.siginfo.algorithmOid,e.siginfo.parameters)]),F6(e.issuer),Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[t,r]),F6(e.subject),k0.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(Z.create(Z.Class.CONTEXT_SPECIFIC,1,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(Z.create(Z.Class.CONTEXT_SPECIFIC,2,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(k0.certificateExtensionsToAsn1(e.extensions)),n};k0.getCertificationRequestInfo=function(e){var t=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(e.version).getBytes()),F6(e.subject),k0.publicKeyToAsn1(e.publicKey),aae(e)]);return t};k0.distinguishedNameToAsn1=function(e){return F6(e)};k0.certificateToAsn1=function(e){var t=e.tbsCertificate||k0.getTBSCertificate(e);return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[t,Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(e.signatureOid).getBytes()),kk(e.signatureOid,e.signatureParameters)]),Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,"\0"+e.signature)])};k0.certificateExtensionsToAsn1=function(e){var t=Z.create(Z.Class.CONTEXT_SPECIFIC,3,!0,[]),r=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(k0.certificateExtensionToAsn1(e[n]));return t};k0.certificateExtensionToAsn1=function(e){var t=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);t.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(e.id).getBytes())),e.critical&&t.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=Z.toDer(r).getBytes()),t.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.OCTETSTRING,!1,r)),t};k0.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||k0.getCertificationRequestInfo(e);return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[t,Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(e.signatureOid).getBytes()),kk(e.signatureOid,e.signatureParameters)]),Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,"\0"+e.signature)])};k0.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var f=r(a.issuer);return f},t.addCertificate=function(a){if(typeof a=="string"&&(a=Gr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var f=t.certs[a.subject.hash];Gr.util.isArray(f)||(f=[f]),f.push(a),t.certs[a.subject.hash]=f}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=Gr.pki.certificateFromPem(a));var f=r(a.subject);if(!f)return!1;Gr.util.isArray(f)||(f=[f]);for(var c=Z.toDer(k0.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=Z.toDer(k0.certificateToAsn1(f[u])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var f in t.certs)if(t.certs.hasOwnProperty(f)){var c=t.certs[f];if(!Gr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var f;if(typeof a=="string"&&(a=Gr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!Gr.util.isArray(c))return f=t.certs[a.subject.hash],delete t.certs[a.subject.hash],f;for(var u=Z.toDer(k0.certificateToAsn1(a)).getBytes(),d=0;d<c.length;++d){var h=Z.toDer(k0.certificateToAsn1(c[d])).getBytes();u===h&&(f=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[a.subject.hash],f};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var f=Gr.md.sha1.create();a.attributes=k0.RDNAttributesAsArray(F6(a),f),a.hash=f.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t};k0.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};k0.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var l=!0,a=null,f=0;do{var c=t.shift(),u=null,d=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:k0.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;Gr.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){u=h.shift();try{p=u.verify(c)}catch{}}p||(a={message:"Certificate signature is invalid.",error:k0.certificateError.bad_certificate})}a===null&&(!u||d)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:k0.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:k0.certificateError.bad_certificate}),a===null)for(var g={keyUsage:!0,basicConstraints:!0},y=0;a===null&&y<c.extensions.length;++y){var _=c.extensions[y];_.critical&&!(_.name in g)&&(a={message:"Certificate has an unsupported critical extension.",error:k0.certificateError.unsupported_certificate})}if(a===null&&(!l||t.length===0&&(!u||d))){var S=c.getExtension("basicConstraints"),w=c.getExtension("keyUsage");if(w!==null&&(!w.keyCertSign||S===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:k0.certificateError.bad_certificate}),a===null&&S!==null&&!S.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:k0.certificateError.bad_certificate}),a===null&&w!==null&&"pathLenConstraint"in S){var P=f-1;P>S.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:k0.certificateError.bad_certificate})}}var D=a===null?!0:a.error,L=r.verify?r.verify(D,f,n):D;if(L===!0)a=null;else throw D===!0&&(a={message:"The application rejected the certificate.",error:k0.certificateError.bad_certificate}),(L||L===0)&&(typeof L=="object"&&!Gr.util.isArray(L)?(L.message&&(a.message=L.message),L.error&&(a.error=L.error)):typeof L=="string"&&(a.error=L)),a;l=!1,++f}while(t.length>0);return!0}});var Dk=ot((Upe,Oz)=>{var Os=ii();w1();R6();u3();Pk();Ak();$c();t7();L6();Ni();mb();var Je=Os.asn1,yi=Os.pki,n7=Oz.exports=Os.pkcs12=Os.pkcs12||{},Bz={name:"ContentInfo",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Je.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},cae={name:"PFX",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:Je.Class.UNIVERSAL,type:Je.Type.INTEGER,constructed:!1,capture:"version"},Bz,{name:"PFX.macData",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:Je.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:Je.Class.UNIVERSAL,type:Je.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},uae={name:"SafeBag",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:Je.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},dae={name:"Attribute",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SET,constructed:!0,capture:"values"}]},hae={name:"CertBag",tagClass:Je.Class.UNIVERSAL,type:Je.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:Je.Class.UNIVERSAL,type:Je.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:Je.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:Je.Class.UNIVERSAL,type:Je.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function r7(e,t,r,n){for(var s=[],l=0;l<e.length;l++)for(var a=0;a<e[l].safeBags.length;a++){var f=e[l].safeBags[a];if(!(n!==void 0&&f.type!==n)){if(t===null){s.push(f);continue}f.attributes[t]!==void 0&&f.attributes[t].indexOf(r)>=0&&s.push(f)}}return s}o(r7,"_getBagsByAttribute");n7.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!Je.validate(e,cae,n,s)){var l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw l.errors=l,l}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var w={},P;return"localKeyId"in S?P=S.localKeyId:"localKeyIdHex"in S&&(P=Os.util.hexToBytes(S.localKeyIdHex)),P===void 0&&!("friendlyName"in S)&&"bagType"in S&&(w[S.bagType]=r7(a.safeContents,null,null,S.bagType)),P!==void 0&&(w.localKeyId=r7(a.safeContents,"localKeyId",P,S.bagType)),"friendlyName"in S&&(w.friendlyName=r7(a.safeContents,"friendlyName",S.friendlyName,S.bagType)),w},getBagsByFriendlyName:function(S,w){return r7(a.safeContents,"friendlyName",S,w)},getBagsByLocalKeyId:function(S,w){return r7(a.safeContents,"localKeyId",S,w)}};if(n.version.charCodeAt(0)!==3){var l=new Error("PKCS#12 PFX of version other than 3 not supported.");throw l.version=n.version.charCodeAt(0),l}if(Je.derToOid(n.contentType)!==yi.oids.data){var l=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw l.oid=Je.derToOid(n.contentType),l}var f=n.content.value[0];if(f.tagClass!==Je.Class.UNIVERSAL||f.type!==Je.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=Nk(f),n.mac){var c=null,u=0,d=Je.derToOid(n.macAlgorithm);switch(d){case yi.oids.sha1:c=Os.md.sha1.create(),u=20;break;case yi.oids.sha256:c=Os.md.sha256.create(),u=32;break;case yi.oids.sha384:c=Os.md.sha384.create(),u=48;break;case yi.oids.sha512:c=Os.md.sha512.create(),u=64;break;case yi.oids.md5:c=Os.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new Os.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(Os.util.bytesToHex(n.macIterations),16):1,g=n7.generateKey(r,h,3,p,u,c),y=Os.hmac.create();y.start(c,g),y.update(f.value);var _=y.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return gae(a,f.value,t,r),a};function Nk(e){if(e.composed||e.constructed){for(var t=Os.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(Nk,"_decodePkcs7Data");function gae(e,t,r,n){if(t=Je.fromDer(t,r),t.tagClass!==Je.Class.UNIVERSAL||t.type!==Je.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var l=t.value[s],a={},f=[];if(!Je.validate(l,Bz,a,f)){var c=new Error("Cannot read ContentInfo.");throw c.errors=f,c}var u={encrypted:!1},d=null,h=a.content.value[0];switch(Je.derToOid(a.contentType)){case yi.oids.data:if(h.tagClass!==Je.Class.UNIVERSAL||h.type!==Je.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=Nk(h).value;break;case yi.oids.encryptedData:d=mae(h,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=Je.derToOid(a.contentType),c}u.safeBags=pae(d,r,n),e.safeContents.push(u)}}o(gae,"_decodeAuthenticatedSafe");function mae(e,t){var r={},n=[];if(!Je.validate(e,Os.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var l=Je.derToOid(r.contentType);if(l!==yi.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=l,s}l=Je.derToOid(r.encAlgorithm);var a=yi.pbe.getCipher(l,r.encParameter,t),f=Nk(r.encryptedContentAsn1),c=Os.util.createBuffer(f.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(mae,"_decryptSafeContents");function pae(e,t,r){if(!t&&e.length===0)return[];if(e=Je.fromDer(e,t),e.tagClass!==Je.Class.UNIVERSAL||e.type!==Je.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var l=e.value[s],a={},f=[];if(!Je.validate(l,uae,a,f)){var c=new Error("Cannot read SafeBag.");throw c.errors=f,c}var u={type:Je.derToOid(a.bagId),attributes:yae(a.bagAttributes)};n.push(u);var d,h,p=a.bagValue.value[0];switch(u.type){case yi.oids.pkcs8ShroudedKeyBag:if(p=yi.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case yi.oids.keyBag:try{u.key=yi.privateKeyFromAsn1(p)}catch{u.key=null,u.asn1=p}continue;case yi.oids.certBag:d=hae,h=o(function(){if(Je.derToOid(a.certId)!==yi.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=Je.derToOid(a.certId),y}var _=Je.fromDer(a.cert,t);try{u.cert=yi.certificateFromAsn1(_,!0)}catch{u.cert=null,u.asn1=_}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(d!==void 0&&!Je.validate(p,d,a,f)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=f,c}h()}return n}o(pae,"_decodeSafeContents");function yae(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!Je.validate(e[r],dae,n,s)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=s,l}var a=Je.derToOid(n.oid);if(yi.oids[a]!==void 0){t[yi.oids[a]]=[];for(var f=0;f<n.values.length;++f)t[yi.oids[a]].push(n.values[f].value)}}return t}o(yae,"_decodeBagAttributes");n7.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,l;if(s!==null)s=Os.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var a=Os.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=yi.certificateFromPem(a));var f=Os.md.sha1.create();f.update(Je.toDer(yi.certificateToAsn1(a)).getBytes()),s=f.digest().getBytes()}else s=Os.random.getBytes(20);var c=[];s!==null&&c.push(Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.localKeyId).getBytes()),Je.create(Je.Class.UNIVERSAL,Je.Type.SET,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.friendlyName).getBytes()),Je.create(Je.Class.UNIVERSAL,Je.Type.SET,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(l=Je.create(Je.Class.UNIVERSAL,Je.Type.SET,!0,c));var u=[],d=[];t!==null&&(Os.util.isArray(t)?d=t:d=[t]);for(var h=[],p=0;p<d.length;++p){t=d[p],typeof t=="string"&&(t=yi.certificateFromPem(t));var g=p===0?l:void 0,y=yi.certificateToAsn1(t),_=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.certBag).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.x509Certificate).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,Je.toDer(y).getBytes())])])]),g]);h.push(_)}if(h.length>0){var S=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,h),w=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.data).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,Je.toDer(S).getBytes())])]);u.push(w)}var P=null;if(e!==null){var D=yi.wrapRsaPrivateKey(yi.privateKeyToAsn1(e));r===null?P=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.keyBag).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[D]),l]):P=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.pkcs8ShroudedKeyBag).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[yi.encryptPrivateKeyInfo(D,r,n)]),l]);var L=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[P]),k=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.data).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,Je.toDer(L).getBytes())])]);u.push(k)}var B=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,u),ne;if(n.useMac){var f=Os.md.sha1.create(),ce=new Os.util.ByteBuffer(Os.random.getBytes(n.saltSize)),Ge=n.count,e=n7.generateKey(r,ce,3,Ge,20),st=Os.hmac.create();st.start(f,e),st.update(Je.toDer(B).getBytes());var Qe=st.getMac();ne=Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.sha1).getBytes()),Je.create(Je.Class.UNIVERSAL,Je.Type.NULL,!1,"")]),Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,Qe.getBytes())]),Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,ce.getBytes()),Je.create(Je.Class.UNIVERSAL,Je.Type.INTEGER,!1,Je.integerToDer(Ge).getBytes())])}return Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.INTEGER,!1,Je.integerToDer(3).getBytes()),Je.create(Je.Class.UNIVERSAL,Je.Type.SEQUENCE,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OID,!1,Je.oidToDer(yi.oids.data).getBytes()),Je.create(Je.Class.CONTEXT_SPECIFIC,0,!0,[Je.create(Je.Class.UNIVERSAL,Je.Type.OCTETSTRING,!1,Je.toDer(B).getBytes())])]),ne])};n7.generateKey=Os.pbe.generatePkcs12Key});var Bk=ot((jpe,Fz)=>{var m3=ii();w1();u3();Ak();A4();sb();Dk();db();t7();Ni();mb();var Lk=m3.asn1,M6=Fz.exports=m3.pki=m3.pki||{};M6.pemToDer=function(e){var t=m3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return m3.util.createBuffer(t.body)};M6.privateKeyFromPem=function(e){var t=m3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Lk.fromDer(t.body);return M6.privateKeyFromAsn1(n)};M6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:Lk.toDer(M6.privateKeyToAsn1(e)).getBytes()};return m3.pem.encode(r,{maxline:t})};M6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:Lk.toDer(e).getBytes()};return m3.pem.encode(r,{maxline:t})}});var jk=ot(($pe,zz)=>{var E0=ii();w1();R6();tb();A4();Bk();$c();L6();Ni();var xb=o(function(e,t,r,n){var s=E0.util.createBuffer(),l=e.length>>1,a=l+(e.length&1),f=e.substr(0,a),c=e.substr(l,a),u=E0.util.createBuffer(),d=E0.hmac.create();r=t+r;var h=Math.ceil(n/16),p=Math.ceil(n/20);d.start("MD5",f);var g=E0.util.createBuffer();u.putBytes(r);for(var y=0;y<h;++y)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),g.putBuffer(d.digest());d.start("SHA1",c);var _=E0.util.createBuffer();u.clear(),u.putBytes(r);for(var y=0;y<p;++y)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),_.putBuffer(d.digest());return s.putBytes(E0.util.xorBytes(g.getBytes(),_.getBytes(),n)),s},"prf_TLS1"),vae=o(function(e,t,r){var n=E0.hmac.create();n.start("SHA1",e);var s=E0.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),xae=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=E0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),_ae=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=E0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),cc=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return E0.util.createBuffer(e.getBytes(r))},"readVector"),Gc=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),re={};re.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};re.SupportedVersions=[re.Versions.TLS_1_1,re.Versions.TLS_1_0];re.Version=re.SupportedVersions[0];re.MaxFragment=15360;re.ConnectionEnd={server:0,client:1};re.PRFAlgorithm={tls_prf_sha256:0};re.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};re.CipherType={stream:0,block:1,aead:2};re.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};re.CompressionMethod={none:0,deflate:1};re.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};re.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};re.Alert={};re.Alert.Level={warning:1,fatal:2};re.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};re.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};re.CipherSuites={};re.getCipherSuite=function(e){var t=null;for(var r in re.CipherSuites){var n=re.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};re.handleUnexpected=function(e,t){var r=!e.open&&e.entity===re.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.unexpected_message}})};re.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(re.queue(e,re.createAlert(e,{level:re.Alert.Level.warning,description:re.Alert.Description.no_renegotiation})),re.flush(e)),e.process()};re.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===re.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}});else{var l=t.fragment,a=l.length();if(n={version:{major:l.getByte(),minor:l.getByte()},random:E0.util.createBuffer(l.getBytes(32)),session_id:cc(l,1),extensions:[]},s?(n.cipher_suite=l.getBytes(2),n.compression_method=l.getByte()):(n.cipher_suites=cc(l,2),n.compression_methods=cc(l,1)),a=r-(a-l.length()),a>0){for(var f=cc(l,2);f.length()>0;)n.extensions.push({type:[f.getByte(),f.getByte()],data:cc(f,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var d=cc(u.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(cc(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=re.getCipherSuite(n.cipher_suite);else for(var p=E0.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=re.getCipherSuite(p.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.handshake_failure},cipherSuite:E0.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=re.CompressionMethod.none}return n};re.createSecurityParameters=function(e,t){var r=e.entity===re.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,l=r?n:re.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:re.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:l}};re.handleServerHello=function(e,t,r){var n=re.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=qz,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Cae,e.session.resuming=!1,re.createSecurityParameters(e,n)),e.session.id=s,e.process()}};re.handleClientHello=function(e,t,r){var n=re.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),l=null;if(e.sessionCache&&(l=e.sessionCache.getSession(s),l===null?s="":(l.version.major!==n.version.major||l.version.minor>n.version.minor)&&(l=null,s="")),s.length===0&&(s=E0.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},l)e.version=e.session.version=l.version,e.session.sp=l.sp;else{for(var a,f=1;f<re.SupportedVersions.length&&(a=re.SupportedVersions[f],!(a.minor<=n.version.minor));++f);e.version={major:a.major,minor:a.minor},e.session.version=e.version}l!==null?(e.expect=Uk,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?Pae:Mk,e.session.resuming=!1,re.createSecurityParameters(e,n)),e.open=!0,re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createServerHello(e)})),e.session.resuming?(re.queue(e,re.createRecord(e,{type:re.ContentType.change_cipher_spec,data:re.createChangeCipherSpec()})),e.state.pending=re.createConnectionState(e),e.state.current.write=e.state.pending.write,re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createFinished(e)}))):(re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createCertificate(e)})),e.fail||(re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createServerKeyExchange(e)})),e.verifyClient!==!1&&re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createCertificateRequest(e)})),re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createServerHelloDone(e)})))),re.flush(e),e.process()}};re.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:cc(n,3)},l,a,f=[];try{for(;s.certificate_list.length()>0;)l=cc(s.certificate_list,3),a=E0.asn1.fromDer(l),l=E0.pki.certificateFromAsn1(a,!0),f.push(l)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.bad_certificate}})}var c=e.entity===re.ConnectionEnd.client;(c||e.verifyClient===!0)&&f.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}}):f.length===0?e.expect=c?Mz:Mk:(c?e.session.serverCertificate=f[0]:e.session.clientCertificate=f[0],re.verifyCertificateChain(e,f)&&(e.expect=c?Mz:Mk)),e.process()};re.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.unsupported_certificate}});e.expect=Eae,e.process()};re.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:cc(n,2).getBytes()},l=null;if(e.getPrivateKey)try{l=e.getPrivateKey(e,e.session.serverCertificate),l=E0.pki.privateKeyFromPem(l)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}})}if(l===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=l.decrypt(s.enc_pre_master_secret);var f=e.session.clientHelloVersion;if(f.major!==a.pre_master_secret.charCodeAt(0)||f.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=E0.random.getBytes(48)}e.expect=Uk,e.session.clientCertificate!==null&&(e.expect=Rae),e.process()};re.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:cc(n,1),certificate_authorities:cc(n,2)};e.session.certificateRequest=s,e.expect=Tae,e.process()};re.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l={signature:cc(n,2).getBytes()},a=E0.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var f=e.session.clientCertificate;if(!f.publicKey.verify(a,l.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.handshake_failure}})}e.expect=Uk,e.process()};re.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.insufficient_security}},s=0,l=e.verify(e,n.alert.description,s,[]);if(l!==!0)return(l||l===0)&&(typeof l=="object"&&!E0.util.isArray(l)?(l.message&&(n.message=l.message),l.alert&&(n.alert.description=l.alert)):typeof l=="number"&&(n.alert.description=l)),e.error(e,n)}e.session.certificateRequest!==null&&(t=re.createRecord(e,{type:re.ContentType.handshake,data:re.createCertificate(e)}),re.queue(e,t)),t=re.createRecord(e,{type:re.ContentType.handshake,data:re.createClientKeyExchange(e)}),re.queue(e,t),e.expect=Iae;var a=o(function(f,c){f.session.certificateRequest!==null&&f.session.clientCertificate!==null&&re.queue(f,re.createRecord(f,{type:re.ContentType.handshake,data:re.createCertificateVerify(f,c)})),re.queue(f,re.createRecord(f,{type:re.ContentType.change_cipher_spec,data:re.createChangeCipherSpec()})),f.state.pending=re.createConnectionState(f),f.state.current.write=f.state.pending.write,re.queue(f,re.createRecord(f,{type:re.ContentType.handshake,data:re.createFinished(f)})),f.expect=qz,re.flush(f),f.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);re.getClientSignature(e,a)};re.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.illegal_parameter}});var r=e.entity===re.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=re.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Sae:kae,e.process()};re.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l=t.fragment.getBytes();n=E0.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===re.ConnectionEnd.client,f=a?"server finished":"client finished",c=e.session.sp,u=12,d=xb;if(n=d(c.master_secret,f,n.getBytes(),u),n.getBytes()!==l)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&a||!e.session.resuming&&!a)&&(re.queue(e,re.createRecord(e,{type:re.ContentType.change_cipher_spec,data:re.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,re.queue(e,re.createRecord(e,{type:re.ContentType.handshake,data:re.createFinished(e)}))),e.expect=a?wae:Nae,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,re.flush(e),e.isConnected=!0,e.connected(e),e.process()};re.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case re.Alert.Description.close_notify:s="Connection closed.";break;case re.Alert.Description.unexpected_message:s="Unexpected message.";break;case re.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case re.Alert.Description.decryption_failed:s="Decryption failed.";break;case re.Alert.Description.record_overflow:s="Record overflow.";break;case re.Alert.Description.decompression_failure:s="Decompression failed.";break;case re.Alert.Description.handshake_failure:s="Handshake failure.";break;case re.Alert.Description.bad_certificate:s="Bad certificate.";break;case re.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case re.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case re.Alert.Description.certificate_expired:s="Certificate expired.";break;case re.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case re.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case re.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case re.Alert.Description.access_denied:s="Access denied.";break;case re.Alert.Description.decode_error:s="Decode error.";break;case re.Alert.Description.decrypt_error:s="Decrypt error.";break;case re.Alert.Description.export_restriction:s="Export restriction.";break;case re.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case re.Alert.Description.insufficient_security:s="Insufficient security.";break;case re.Alert.Description.internal_error:s="Internal error.";break;case re.Alert.Description.user_canceled:s="User canceled.";break;case re.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===re.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===re.ConnectionEnd.client?"server":"client",alert:n}),e.process()};re.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=E0.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var l=r.bytes(s+4);r.read+=4,n in vb[e.entity][e.expect]?(e.entity===re.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:E0.md.md5.create(),sha1:E0.md.sha1.create()}),n!==re.HandshakeType.hello_request&&n!==re.HandshakeType.certificate_verify&&n!==re.HandshakeType.finished&&(e.session.md5.update(l),e.session.sha1.update(l)),vb[e.entity][e.expect][n](e,t,s)):re.handleUnexpected(e,t)};re.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};re.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),l=r.getBytes(s);if(n===re.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>l.length)return e.process();re.queue(e,re.createRecord(e,{type:re.ContentType.heartbeat,data:re.createHeartbeat(re.HeartbeatMessageType.heartbeat_response,l)})),re.flush(e)}else if(n===re.HeartbeatMessageType.heartbeat_response){if(l!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,E0.util.createBuffer(l))}e.process()};var bae=0,Cae=1,Mz=2,Eae=3,Tae=4,qz=5,Sae=6,wae=7,Iae=8,Aae=0,Pae=1,Mk=2,Rae=3,Uk=4,kae=5,Nae=6,ee=re.handleUnexpected,jz=re.handleChangeCipherSpec,Ol=re.handleAlert,vf=re.handleHandshake,$z=re.handleApplicationData,Fl=re.handleHeartbeat,qk=[];qk[re.ConnectionEnd.client]=[[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[jz,Ol,ee,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,$z,Fl],[ee,Ol,vf,ee,Fl]];qk[re.ConnectionEnd.server]=[[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,ee,Fl],[jz,Ol,ee,ee,Fl],[ee,Ol,vf,ee,Fl],[ee,Ol,vf,$z,Fl],[ee,Ol,vf,ee,Fl]];var p3=re.handleHelloRequest,Dae=re.handleServerHello,Hz=re.handleCertificate,Uz=re.handleServerKeyExchange,Ok=re.handleCertificateRequest,pb=re.handleServerHelloDone,Vz=re.handleFinished,vb=[];vb[re.ConnectionEnd.client]=[[ee,ee,Dae,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Hz,Uz,Ok,pb,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Uz,Ok,pb,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Ok,pb,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,pb,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Vz],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[p3,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee]];var Lae=re.handleClientHello,Bae=re.handleClientKeyExchange,Oae=re.handleCertificateVerify;vb[re.ConnectionEnd.server]=[[ee,Lae,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Hz,ee,ee,ee,ee,ee,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Bae,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Oae,ee,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,Vz],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee],[ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee,ee]];re.generateKeys=function(e,t){var r=xb,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,l=e.version.major===re.Versions.TLS_1_0.major&&e.version.minor===re.Versions.TLS_1_0.minor;l&&(s+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,s),f={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return l&&(f.client_write_IV=a.getBytes(t.fixed_iv_length),f.server_write_IV=a.getBytes(t.fixed_iv_length)),f};re.createConnectionState=function(e){var t=e.entity===re.ConnectionEnd.client,r=o(function(){var l={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){l.sequenceNumber[1]===4294967295?(l.sequenceNumber[1]=0,++l.sequenceNumber[0]):++l.sequenceNumber[1]}};return l},"createMode"),n={read:r(),write:r()};if(n.read.update=function(l,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(l,a,n.read)||l.error(l,{message:"Could not decompress record.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.decompression_failure}}):l.error(l,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.bad_record_mac}}),!l.fail},n.write.update=function(l,a){return n.write.compressFunction(l,a,n.write)?n.write.cipherFunction(a,n.write)||l.error(l,{message:"Could not encrypt record.",send:!1,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}}):l.error(l,{message:"Could not compress record.",send:!1,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}}),!l.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=re.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case re.CompressionMethod.none:break;case re.CompressionMethod.deflate:n.read.compressFunction=_ae,n.write.compressFunction=xae;break;default:throw new Error("Unsupported compression algorithm.")}}return n};re.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=E0.util.createBuffer();return r.putInt32(t),r.putBytes(E0.random.getBytes(28)),r};re.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};re.createAlert=function(e,t){var r=E0.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),re.createRecord(e,{type:re.ContentType.alert,data:r})};re.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=E0.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),l=E0.util.createBuffer();l.putByte(re.CompressionMethod.none);var a=l.length(),f=E0.util.createBuffer();if(e.virtualHost){var c=E0.util.createBuffer();c.putByte(0),c.putByte(0);var u=E0.util.createBuffer();u.putByte(0),Gc(u,2,E0.util.createBuffer(e.virtualHost));var d=E0.util.createBuffer();Gc(d,2,u),Gc(c,2,d),f.putBuffer(c)}var h=f.length();h>0&&(h+=2);var p=e.session.id,g=p.length+1+2+4+28+2+s+1+a+h,y=E0.util.createBuffer();return y.putByte(re.HandshakeType.client_hello),y.putInt24(g),y.putByte(e.version.major),y.putByte(e.version.minor),y.putBytes(e.session.sp.client_random),Gc(y,1,E0.util.createBuffer(p)),Gc(y,2,t),Gc(y,1,l),h>0&&Gc(y,2,f),y};re.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=E0.util.createBuffer();return n.putByte(re.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Gc(n,1,E0.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};re.createCertificate=function(e){var t=e.entity===re.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=E0.util.createBuffer();if(r!==null)try{E0.util.isArray(r)||(r=[r]);for(var l=null,a=0;a<r.length;++a){var f=E0.pem.decode(r[a])[0];if(f.type!=="CERTIFICATE"&&f.type!=="X509 CERTIFICATE"&&f.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=f.type,c}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=E0.util.createBuffer(f.body);l===null&&(l=E0.asn1.fromDer(u.bytes(),!1));var d=E0.util.createBuffer();Gc(d,3,u),s.putBuffer(d)}r=E0.pki.certificateFromAsn1(l),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(g){return e.error(e,{message:"Could not send certificate list.",cause:g,send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.bad_certificate}})}var h=3+s.length(),p=E0.util.createBuffer();return p.putByte(re.HandshakeType.certificate),p.putInt24(h),Gc(p,3,s),p};re.createClientKeyExchange=function(e){var t=E0.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(E0.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,l=E0.util.createBuffer();return l.putByte(re.HandshakeType.client_key_exchange),l.putInt24(s),l.putInt16(t.length),l.putBytes(t),l};re.createServerKeyExchange=function(e){var t=0,r=E0.util.createBuffer();return t>0&&(r.putByte(re.HandshakeType.server_key_exchange),r.putInt24(t)),r};re.getClientSignature=function(e,t){var r=E0.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,l){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=E0.pki.privateKeyFromPem(a)}catch(f){n.error(n,{message:"Could not get private key.",cause:f,send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.internal_error}}):s=a.sign(s,null),l(n,s)},e.getSignature(e,r,t)};re.createCertificateVerify=function(e,t){var r=t.length+2,n=E0.util.createBuffer();return n.putByte(re.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};re.createCertificateRequest=function(e){var t=E0.util.createBuffer();t.putByte(1);var r=E0.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],l=E0.pki.distinguishedNameToAsn1(s.subject),a=E0.asn1.toDer(l);r.putInt16(a.length()),r.putBuffer(a)}var f=1+t.length()+2+r.length(),c=E0.util.createBuffer();return c.putByte(re.HandshakeType.certificate_request),c.putInt24(f),Gc(c,1,t),Gc(c,2,r),c};re.createServerHelloDone=function(e){var t=E0.util.createBuffer();return t.putByte(re.HandshakeType.server_hello_done),t.putInt24(0),t};re.createChangeCipherSpec=function(){var e=E0.util.createBuffer();return e.putByte(1),e};re.createFinished=function(e){var t=E0.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===re.ConnectionEnd.client,n=e.session.sp,s=12,l=xb,a=r?"client finished":"server finished";t=l(n.master_secret,a,t.getBytes(),s);var f=E0.util.createBuffer();return f.putByte(re.HandshakeType.finished),f.putInt24(t.length()),f.putBuffer(t),f};re.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=E0.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),l=Math.max(16,s-r-3);return n.putBytes(E0.random.getBytes(l)),n};re.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===re.ContentType.handshake||t.type===re.ContentType.alert||t.type===re.ContentType.change_cipher_spec))){if(t.type===re.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=re.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>re.MaxFragment;)n.push(re.createRecord(e,{type:t.type,data:E0.util.createBuffer(s.slice(0,re.MaxFragment))})),s=s.slice(re.MaxFragment);s.length>0&&n.push(re.createRecord(e,{type:t.type,data:E0.util.createBuffer(s)}))}for(var l=0;l<n.length&&!e.fail;++l){var a=n[l],f=e.state.current.write;f.update(e,a)&&e.records.push(a)}}};re.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var Fk=o(function(e){switch(e){case!0:return!0;case E0.pki.certificateError.bad_certificate:return re.Alert.Description.bad_certificate;case E0.pki.certificateError.unsupported_certificate:return re.Alert.Description.unsupported_certificate;case E0.pki.certificateError.certificate_revoked:return re.Alert.Description.certificate_revoked;case E0.pki.certificateError.certificate_expired:return re.Alert.Description.certificate_expired;case E0.pki.certificateError.certificate_unknown:return re.Alert.Description.certificate_unknown;case E0.pki.certificateError.unknown_ca:return re.Alert.Description.unknown_ca;default:return re.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),Fae=o(function(e){switch(e){case!0:return!0;case re.Alert.Description.bad_certificate:return E0.pki.certificateError.bad_certificate;case re.Alert.Description.unsupported_certificate:return E0.pki.certificateError.unsupported_certificate;case re.Alert.Description.certificate_revoked:return E0.pki.certificateError.certificate_revoked;case re.Alert.Description.certificate_expired:return E0.pki.certificateError.certificate_expired;case re.Alert.Description.certificate_unknown:return E0.pki.certificateError.certificate_unknown;case re.Alert.Description.unknown_ca:return E0.pki.certificateError.unknown_ca;default:return E0.pki.certificateError.bad_certificate}},"_alertDescToCertError");re.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(l,a,f){var c=Fk(l),u=e.verify(e,l,a,f);if(u!==!0){if(typeof u=="object"&&!E0.util.isArray(u)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:re.Alert.Level.fatal,description:re.Alert.Description.bad_certificate},u.message&&(d.message=u.message),u.alert&&(d.alert.description=u.alert),d}u!==l&&(u=Fae(u))}return u},E0.pki.verifyCertificateChain(e.caStore,t,r)}catch(l){var s=l;(typeof s!="object"||E0.util.isArray(s))&&(s={send:!0,alert:{level:re.Alert.Level.fatal,description:Fk(l)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:re.Alert.Level.fatal,description:Fk(s.error)}),e.error(e,s)}return!e.fail};re.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var l=null,a=null;if(s?a=E0.util.bytesToHex(s):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){l=r.cache[a],delete r.cache[a];for(var f in r.order)if(r.order[f]===a){r.order.splice(f,1);break}}return l},r.setSession=function(s,l){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=E0.util.bytesToHex(s);r.order.push(a),r.cache[a]=l}}return r};re.createConnection=function(e){var t=null;e.caStore?E0.util.isArray(e.caStore)?t=E0.pki.createCaStore(e.caStore):t=e.caStore:t=E0.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in re.CipherSuites)r.push(re.CipherSuites[n])}var s=e.server?re.ConnectionEnd.server:re.ConnectionEnd.client,l=e.sessionCache?re.createSessionCache(e.sessionCache):null,a={version:{major:re.Version.major,minor:re.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:l,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,p,g){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:E0.util.createBuffer(),tlsData:E0.util.createBuffer(),data:E0.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===re.ConnectionEnd.client?"client":"server"),h.send&&(re.queue(d,re.createAlert(d,h.alert)),re.flush(d));var p=h.fatal!==!1;p&&(d.fail=!0),e.error(d,h),p&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(d){a.version={major:re.Version.major,minor:re.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===re.ConnectionEnd.client?bae:Aae,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=re.createConnectionState(a)},a.reset();var f=o(function(d,h){var p=h.type-re.ContentType.change_cipher_spec,g=qk[d.entity][d.expect];p in g?g[p](d,h):re.handleUnexpected(d,h)},"_update"),c=o(function(d){var h=0,p=d.input,g=p.length();if(g<5)h=5-g;else{d.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:E0.util.createBuffer(),ready:!1};var y=d.record.version.major===d.version.major;y&&d.session&&d.session.version&&(y=d.record.version.minor===d.version.minor),y||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),u=o(function(d){var h=0,p=d.input,g=p.length();if(g<d.record.length)h=d.record.length-g;else{d.record.fragment.putBytes(p.getBytes(d.record.length)),p.compact();var y=d.state.current.read;y.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:re.Alert.Level.fatal,description:re.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==re.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:E0.md.md5.create(),sha1:E0.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=re.createRandom().getBytes(),a.open=!0,re.queue(a,re.createRecord(a,{type:re.ContentType.handshake,data:re.createClientHello(a)})),re.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=u(a)),!a.fail&&a.record!==null&&a.record.ready&&f(a,a.record)),h},a.prepare=function(d){return re.queue(a,re.createRecord(a,{type:re.ContentType.application_data,data:E0.util.createBuffer(d)})),re.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof E0.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,re.queue(a,re.createRecord(a,{type:re.ContentType.heartbeat,data:re.createHeartbeat(re.HeartbeatMessageType.heartbeat_request,d,h)})),re.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,re.queue(a,re.createAlert(a,{level:re.Alert.Level.warning,description:re.Alert.Description.close_notify})),re.flush(a)),a.closed(a)),a.reset(d)},a};zz.exports=E0.tls=E0.tls||{};for(yb in re)typeof re[yb]!="function"&&(E0.tls[yb]=re[yb]);var yb;E0.tls.prf_tls1=xb;E0.tls.hmac_sha1=vae;E0.tls.createSessionCache=re.createSessionCache;E0.tls.createConnection=re.createConnection});var Wz=ot((Vpe,Kz)=>{var y3=ii();c3();jk();var Kc=Kz.exports=y3.tls;Kc.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Kc.BulkCipherAlgorithm.aes,e.cipher_type=Kc.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Kc.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Gz};Kc.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Kc.BulkCipherAlgorithm.aes,e.cipher_type=Kc.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Kc.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Gz};function Gz(e,t,r){var n=t.entity===y3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:y3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:y3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=jae,e.write.cipherFunction=Mae,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Kc.hmac_sha1}o(Gz,"initConnectionState");function Mae(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===Kc.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=y3.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:s}),e.version.minor>=Kc.Versions.TLS_1_1.minor&&l.output.putBytes(s),l.update(e.fragment),l.finish(Uae)&&(e.fragment=l.output,e.length=e.fragment.length(),r=!0),r}o(Mae,"encrypt_aes_cbc_sha1");function Uae(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(Uae,"encrypt_aes_cbc_sha1_padding");function qae(e,t,r){var n=!0;if(r){for(var s=t.length(),l=t.last(),a=s-1-l;a<s-1;++a)n=n&&t.at(a)==l;n&&t.truncate(l+1)}return n}o(qae,"decrypt_aes_cbc_sha1_padding");function jae(e,t){var r=!1,n;e.version.minor===Kc.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(qae);var l=t.macLength,a=y3.random.getBytesSync(l),f=s.output.length();f>=l?(e.fragment=s.output.getBytes(f-l),a=s.output.getBytes(l)):e.fragment=s.output.getBytes(),e.fragment=y3.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=$ae(t.macKey,a,c)&&r,r}o(jae,"decrypt_aes_cbc_sha1");function $ae(e,t,r){var n=y3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o($ae,"compareMacs")});var Vk=ot((Gpe,Zz)=>{var io=ii();gu();Ni();var i7=Zz.exports=io.sha512=io.sha512||{};io.md.sha512=io.md.algorithms.sha512=i7;var Jz=io.sha384=io.sha512.sha384=io.sha512.sha384||{};Jz.create=function(){return i7.create("SHA-384")};io.md.sha384=io.md.algorithms.sha384=Jz;io.sha512.sha256=io.sha512.sha256||{create:function(){return i7.create("SHA-512/256")}};io.md["sha512/256"]=io.md.algorithms["sha512/256"]=io.sha512.sha256;io.sha512.sha224=io.sha512.sha224||{create:function(){return i7.create("SHA-512/224")}};io.md["sha512/224"]=io.md.algorithms["sha512/224"]=io.sha512.sha224;i7.create=function(e){if(Xz||Hae(),typeof e>"u"&&(e="SHA-512"),!(e in L4))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=L4[e],r=null,n=io.util.createBuffer(),s=new Array(80),l=0;l<80;++l)s[l]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var c=f.messageLengthSize/4,u=0;u<c;++u)f.fullMessageLength.push(0);n=io.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return f},f.start(),f.update=function(c,u){u==="utf8"&&(c=io.util.encodeUtf8(c));var d=c.length;f.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=d[1],d[1]=d[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),Yz(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var c=io.util.createBuffer();c.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,d=u&f.blockLength-1;c.putBytes($k.substr(0,f.blockLength-d));for(var h,p,g=f.fullMessageLength[0]*8,y=0;y<f.fullMessageLength.length-1;++y)h=f.fullMessageLength[y+1]*8,p=h/4294967296>>>0,g+=p,c.putInt32(g>>>0),g=h>>>0;c.putInt32(g);for(var _=new Array(r.length),y=0;y<r.length;++y)_[y]=r[y].slice(0);Yz(_,s,c);var S=io.util.createBuffer(),w;e==="SHA-512"?w=_.length:e==="SHA-384"?w=_.length-2:w=_.length-4;for(var y=0;y<w;++y)S.putInt32(_[y][0]),(y!==w-1||e!=="SHA-512/224")&&S.putInt32(_[y][1]);return S},f};var $k=null,Xz=!1,Hk=null,L4=null;function Hae(){$k="\x80",$k+=io.util.fillString("\0",128),Hk=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],L4={},L4["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],L4["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],L4["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],L4["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Xz=!0}o(Hae,"_init");function Yz(e,t,r){for(var n,s,l,a,f,c,u,d,h,p,g,y,_,S,w,P,D,L,k,B,ne,ce,Ge,st,Qe,Ft,ke,pe,Pt,Ht,$t,d0,rt,Nt,de,xe=r.length();xe>=128;){for(Pt=0;Pt<16;++Pt)t[Pt][0]=r.getInt32()>>>0,t[Pt][1]=r.getInt32()>>>0;for(;Pt<80;++Pt)d0=t[Pt-2],Ht=d0[0],$t=d0[1],n=((Ht>>>19|$t<<13)^($t>>>29|Ht<<3)^Ht>>>6)>>>0,s=((Ht<<13|$t>>>19)^($t<<3|Ht>>>29)^(Ht<<26|$t>>>6))>>>0,Nt=t[Pt-15],Ht=Nt[0],$t=Nt[1],l=((Ht>>>1|$t<<31)^(Ht>>>8|$t<<24)^Ht>>>7)>>>0,a=((Ht<<31|$t>>>1)^(Ht<<24|$t>>>8)^(Ht<<25|$t>>>7))>>>0,rt=t[Pt-7],de=t[Pt-16],$t=s+rt[1]+a+de[1],t[Pt][0]=n+rt[0]+l+de[0]+($t/4294967296>>>0)>>>0,t[Pt][1]=$t>>>0;for(_=e[0][0],S=e[0][1],w=e[1][0],P=e[1][1],D=e[2][0],L=e[2][1],k=e[3][0],B=e[3][1],ne=e[4][0],ce=e[4][1],Ge=e[5][0],st=e[5][1],Qe=e[6][0],Ft=e[6][1],ke=e[7][0],pe=e[7][1],Pt=0;Pt<80;++Pt)u=((ne>>>14|ce<<18)^(ne>>>18|ce<<14)^(ce>>>9|ne<<23))>>>0,d=((ne<<18|ce>>>14)^(ne<<14|ce>>>18)^(ce<<23|ne>>>9))>>>0,h=(Qe^ne&(Ge^Qe))>>>0,p=(Ft^ce&(st^Ft))>>>0,f=((_>>>28|S<<4)^(S>>>2|_<<30)^(S>>>7|_<<25))>>>0,c=((_<<4|S>>>28)^(S<<30|_>>>2)^(S<<25|_>>>7))>>>0,g=(_&w|D&(_^w))>>>0,y=(S&P|L&(S^P))>>>0,$t=pe+d+p+Hk[Pt][1]+t[Pt][1],n=ke+u+h+Hk[Pt][0]+t[Pt][0]+($t/4294967296>>>0)>>>0,s=$t>>>0,$t=c+y,l=f+g+($t/4294967296>>>0)>>>0,a=$t>>>0,ke=Qe,pe=Ft,Qe=Ge,Ft=st,Ge=ne,st=ce,$t=B+s,ne=k+n+($t/4294967296>>>0)>>>0,ce=$t>>>0,k=D,B=L,D=w,L=P,w=_,P=S,$t=s+a,_=n+l+($t/4294967296>>>0)>>>0,S=$t>>>0;$t=e[0][1]+S,e[0][0]=e[0][0]+_+($t/4294967296>>>0)>>>0,e[0][1]=$t>>>0,$t=e[1][1]+P,e[1][0]=e[1][0]+w+($t/4294967296>>>0)>>>0,e[1][1]=$t>>>0,$t=e[2][1]+L,e[2][0]=e[2][0]+D+($t/4294967296>>>0)>>>0,e[2][1]=$t>>>0,$t=e[3][1]+B,e[3][0]=e[3][0]+k+($t/4294967296>>>0)>>>0,e[3][1]=$t>>>0,$t=e[4][1]+ce,e[4][0]=e[4][0]+ne+($t/4294967296>>>0)>>>0,e[4][1]=$t>>>0,$t=e[5][1]+st,e[5][0]=e[5][0]+Ge+($t/4294967296>>>0)>>>0,e[5][1]=$t>>>0,$t=e[6][1]+Ft,e[6][0]=e[6][0]+Qe+($t/4294967296>>>0)>>>0,e[6][1]=$t>>>0,$t=e[7][1]+pe,e[7][0]=e[7][0]+ke+($t/4294967296>>>0)>>>0,e[7][1]=$t>>>0,xe-=128}}o(Yz,"_update")});var Qz=ot(zk=>{var Vae=ii();w1();var pl=Vae.asn1;zk.privateKeyValidator={name:"PrivateKeyInfo",tagClass:pl.Class.UNIVERSAL,type:pl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:pl.Class.UNIVERSAL,type:pl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:pl.Class.UNIVERSAL,type:pl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:pl.Class.UNIVERSAL,type:pl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:pl.Class.UNIVERSAL,type:pl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};zk.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:pl.Class.UNIVERSAL,type:pl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:pl.Class.UNIVERSAL,type:pl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:pl.Class.UNIVERSAL,type:pl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:pl.Class.UNIVERSAL,type:pl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var dG=ot((Ype,uG)=>{var Ml=ii();e7();$c();Vk();Ni();var sG=Qz(),zae=sG.publicKeyValidator,Gae=sG.privateKeyValidator;typeof eG>"u"&&(eG=Ml.jsbn.BigInteger);var eG,Wk=Ml.util.ByteBuffer,jf=typeof Buffer>"u"?Uint8Array:Buffer;Ml.pki=Ml.pki||{};uG.exports=Ml.pki.ed25519=Ml.ed25519=Ml.ed25519||{};var vi=Ml.ed25519;vi.constants={};vi.constants.PUBLIC_KEY_BYTE_LENGTH=32;vi.constants.PRIVATE_KEY_BYTE_LENGTH=64;vi.constants.SEED_BYTE_LENGTH=32;vi.constants.SIGN_BYTE_LENGTH=64;vi.constants.HASH_BYTE_LENGTH=64;vi.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=Ml.random.getBytesSync(vi.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==vi.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+vi.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Ld({message:t,encoding:"binary"});for(var r=new jf(vi.constants.PUBLIC_KEY_BYTE_LENGTH),n=new jf(vi.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return Jae(r,n),{publicKey:r,privateKey:n}};vi.privateKeyFromAsn1=function(e){var t={},r=[],n=Ml.asn1.validate(e,Gae,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=Ml.asn1.derToOid(t.privateKeyOid),a=Ml.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.privateKey,c=Ld({message:Ml.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:c}};vi.publicKeyFromAsn1=function(e){var t={},r=[],n=Ml.asn1.validate(e,zae,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=Ml.asn1.derToOid(t.publicKeyOid),a=Ml.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.ed25519PublicKey;if(f.length!==vi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Ld({message:f,encoding:"binary"})};vi.publicKeyFromPrivateKey=function(e){e=e||{};var t=Ld({message:e.privateKey,encoding:"binary"});if(t.length!==vi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vi.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new jf(vi.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};vi.sign=function(e){e=e||{};var t=Ld(e),r=Ld({message:e.privateKey,encoding:"binary"});if(r.length===vi.constants.SEED_BYTE_LENGTH){var n=vi.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==vi.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+vi.constants.SEED_BYTE_LENGTH+" or "+vi.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new jf(vi.constants.SIGN_BYTE_LENGTH+t.length);Xae(s,t,t.length,r);for(var l=new jf(vi.constants.SIGN_BYTE_LENGTH),a=0;a<l.length;++a)l[a]=s[a];return l};vi.verify=function(e){e=e||{};var t=Ld(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Ld({message:e.signature,encoding:"binary"});if(r.length!==vi.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+vi.constants.SIGN_BYTE_LENGTH);var n=Ld({message:e.publicKey,encoding:"binary"});if(n.length!==vi.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+vi.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new jf(vi.constants.SIGN_BYTE_LENGTH+t.length),l=new jf(vi.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<vi.constants.SIGN_BYTE_LENGTH;++a)s[a]=r[a];for(a=0;a<t.length;++a)s[a+vi.constants.SIGN_BYTE_LENGTH]=t[a];return Zae(l,s,s.length,n)>=0};function Ld(e){var t=e.message;if(t instanceof Uint8Array||t instanceof jf)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new Wk(t,r)}else if(!(t instanceof Wk))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new jf(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(Ld,"messageToNativeBuffer");var Yk=gn(),_b=gn([1]),Kae=gn([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Wae=gn([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),tG=gn([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),rG=gn([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Gk=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Yae=gn([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function s7(e,t){var r=Ml.md.sha512.create(),n=new Wk(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var l=new jf(vi.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)l[a]=s.charCodeAt(a);return l}o(s7,"sha512");function Jae(e,t){var r=[gn(),gn(),gn(),gn()],n,s=s7(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,Qk(r,s),Zk(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(Jae,"crypto_sign_keypair");function Xae(e,t,r,n){var s,l,a=new Float64Array(64),f=[gn(),gn(),gn(),gn()],c=s7(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var d=s7(e.subarray(32),r+32);for(Jk(d),Qk(f,d),Zk(e,f),s=32;s<64;++s)e[s]=n[s];var h=s7(e,r+64);for(Jk(h),s=32;s<64;++s)a[s]=0;for(s=0;s<32;++s)a[s]=d[s];for(s=0;s<32;++s)for(l=0;l<32;l++)a[s+l]+=h[s]*c[l];return oG(e.subarray(32),a),u}o(Xae,"crypto_sign");function Zae(e,t,r,n){var s,l,a=new jf(32),f=[gn(),gn(),gn(),gn()],c=[gn(),gn(),gn(),gn()];if(l=-1,r<64||Qae(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var u=s7(e,r);if(Jk(u),fG(f,c,u),Qk(c,t.subarray(32)),Xk(f,c),Zk(a,f),r-=64,aG(t,0,a,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return l=r,l}o(Zae,"crypto_sign_open");function oG(e,t){var r,n,s,l;for(n=63;n>=32;--n){for(r=0,s=n-32,l=n-12;s<l;++s)t[s]+=r-16*t[n]*Gk[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*Gk[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*Gk[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(oG,"modL");function Jk(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;oG(e,t)}o(Jk,"reduce");function Xk(e,t){var r=gn(),n=gn(),s=gn(),l=gn(),a=gn(),f=gn(),c=gn(),u=gn(),d=gn();q6(r,e[1],e[0]),q6(d,t[1],t[0]),us(r,r,d),U6(n,e[0],e[1]),U6(d,t[0],t[1]),us(n,n,d),us(s,e[3],t[3]),us(s,s,Wae),us(l,e[2],t[2]),U6(l,l,l),q6(a,n,r),q6(f,l,s),U6(c,l,s),U6(u,n,r),us(e[0],a,f),us(e[1],u,c),us(e[2],c,f),us(e[3],a,u)}o(Xk,"add");function nG(e,t,r){for(var n=0;n<4;++n)cG(e[n],t[n],r)}o(nG,"cswap");function Zk(e,t){var r=gn(),n=gn(),s=gn();nle(s,t[2]),us(r,t[0],s),us(n,t[1],s),bb(e,n),e[31]^=lG(r)<<7}o(Zk,"pack");function bb(e,t){var r,n,s,l=gn(),a=gn();for(r=0;r<16;++r)a[r]=t[r];for(Kk(a),Kk(a),Kk(a),n=0;n<2;++n){for(l[0]=a[0]-65517,r=1;r<15;++r)l[r]=a[r]-65535-(l[r-1]>>16&1),l[r-1]&=65535;l[15]=a[15]-32767-(l[14]>>16&1),s=l[15]>>16&1,l[14]&=65535,cG(a,l,1-s)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(bb,"pack25519");function Qae(e,t){var r=gn(),n=gn(),s=gn(),l=gn(),a=gn(),f=gn(),c=gn();return v3(e[2],_b),ele(e[1],t),B4(s,e[1]),us(l,s,Kae),q6(s,s,e[2]),U6(l,e[2],l),B4(a,l),B4(f,a),us(c,f,a),us(r,c,s),us(r,r,l),tle(r,r),us(r,r,s),us(r,r,l),us(r,r,l),us(e[0],r,l),B4(n,e[0]),us(n,n,l),iG(n,s)&&us(e[0],e[0],Yae),B4(n,e[0]),us(n,n,l),iG(n,s)?-1:(lG(e[0])===t[31]>>7&&q6(e[0],Yk,e[0]),us(e[3],e[0],e[1]),0)}o(Qae,"unpackneg");function ele(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(ele,"unpack25519");function tle(e,t){var r=gn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)B4(r,r),n!==1&&us(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(tle,"pow2523");function iG(e,t){var r=new jf(32),n=new jf(32);return bb(r,e),bb(n,t),aG(r,0,n,0)}o(iG,"neq25519");function aG(e,t,r,n){return rle(e,t,r,n,32)}o(aG,"crypto_verify_32");function rle(e,t,r,n,s){var l,a=0;for(l=0;l<s;++l)a|=e[t+l]^r[n+l];return(1&a-1>>>8)-1}o(rle,"vn");function lG(e){var t=new jf(32);return bb(t,e),t[0]&1}o(lG,"par25519");function fG(e,t,r){var n,s;for(v3(e[0],Yk),v3(e[1],_b),v3(e[2],_b),v3(e[3],Yk),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,nG(e,t,n),Xk(t,e),Xk(e,e),nG(e,t,n)}o(fG,"scalarmult");function Qk(e,t){var r=[gn(),gn(),gn(),gn()];v3(r[0],tG),v3(r[1],rG),v3(r[2],_b),us(r[3],tG,rG),fG(e,r,t)}o(Qk,"scalarbase");function v3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(v3,"set25519");function nle(e,t){var r=gn(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)B4(r,r),n!==2&&n!==4&&us(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(nle,"inv25519");function Kk(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(Kk,"car25519");function cG(e,t,r){for(var n,s=~(r-1),l=0;l<16;++l)n=s&(e[l]^t[l]),e[l]^=n,t[l]^=n}o(cG,"sel25519");function gn(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(gn,"gf");function U6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(U6,"A");function q6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(q6,"Z");function B4(e,t){us(e,t,t)}o(B4,"S");function us(e,t,r){var n,s,l=0,a=0,f=0,c=0,u=0,d=0,h=0,p=0,g=0,y=0,_=0,S=0,w=0,P=0,D=0,L=0,k=0,B=0,ne=0,ce=0,Ge=0,st=0,Qe=0,Ft=0,ke=0,pe=0,Pt=0,Ht=0,$t=0,d0=0,rt=0,Nt=r[0],de=r[1],xe=r[2],r0=r[3],T0=r[4],v0=r[5],Zt=r[6],G0=r[7],ge=r[8],y0=r[9],et=r[10],m0=r[11],h0=r[12],w0=r[13],K0=r[14],$r=r[15];n=t[0],l+=n*Nt,a+=n*de,f+=n*xe,c+=n*r0,u+=n*T0,d+=n*v0,h+=n*Zt,p+=n*G0,g+=n*ge,y+=n*y0,_+=n*et,S+=n*m0,w+=n*h0,P+=n*w0,D+=n*K0,L+=n*$r,n=t[1],a+=n*Nt,f+=n*de,c+=n*xe,u+=n*r0,d+=n*T0,h+=n*v0,p+=n*Zt,g+=n*G0,y+=n*ge,_+=n*y0,S+=n*et,w+=n*m0,P+=n*h0,D+=n*w0,L+=n*K0,k+=n*$r,n=t[2],f+=n*Nt,c+=n*de,u+=n*xe,d+=n*r0,h+=n*T0,p+=n*v0,g+=n*Zt,y+=n*G0,_+=n*ge,S+=n*y0,w+=n*et,P+=n*m0,D+=n*h0,L+=n*w0,k+=n*K0,B+=n*$r,n=t[3],c+=n*Nt,u+=n*de,d+=n*xe,h+=n*r0,p+=n*T0,g+=n*v0,y+=n*Zt,_+=n*G0,S+=n*ge,w+=n*y0,P+=n*et,D+=n*m0,L+=n*h0,k+=n*w0,B+=n*K0,ne+=n*$r,n=t[4],u+=n*Nt,d+=n*de,h+=n*xe,p+=n*r0,g+=n*T0,y+=n*v0,_+=n*Zt,S+=n*G0,w+=n*ge,P+=n*y0,D+=n*et,L+=n*m0,k+=n*h0,B+=n*w0,ne+=n*K0,ce+=n*$r,n=t[5],d+=n*Nt,h+=n*de,p+=n*xe,g+=n*r0,y+=n*T0,_+=n*v0,S+=n*Zt,w+=n*G0,P+=n*ge,D+=n*y0,L+=n*et,k+=n*m0,B+=n*h0,ne+=n*w0,ce+=n*K0,Ge+=n*$r,n=t[6],h+=n*Nt,p+=n*de,g+=n*xe,y+=n*r0,_+=n*T0,S+=n*v0,w+=n*Zt,P+=n*G0,D+=n*ge,L+=n*y0,k+=n*et,B+=n*m0,ne+=n*h0,ce+=n*w0,Ge+=n*K0,st+=n*$r,n=t[7],p+=n*Nt,g+=n*de,y+=n*xe,_+=n*r0,S+=n*T0,w+=n*v0,P+=n*Zt,D+=n*G0,L+=n*ge,k+=n*y0,B+=n*et,ne+=n*m0,ce+=n*h0,Ge+=n*w0,st+=n*K0,Qe+=n*$r,n=t[8],g+=n*Nt,y+=n*de,_+=n*xe,S+=n*r0,w+=n*T0,P+=n*v0,D+=n*Zt,L+=n*G0,k+=n*ge,B+=n*y0,ne+=n*et,ce+=n*m0,Ge+=n*h0,st+=n*w0,Qe+=n*K0,Ft+=n*$r,n=t[9],y+=n*Nt,_+=n*de,S+=n*xe,w+=n*r0,P+=n*T0,D+=n*v0,L+=n*Zt,k+=n*G0,B+=n*ge,ne+=n*y0,ce+=n*et,Ge+=n*m0,st+=n*h0,Qe+=n*w0,Ft+=n*K0,ke+=n*$r,n=t[10],_+=n*Nt,S+=n*de,w+=n*xe,P+=n*r0,D+=n*T0,L+=n*v0,k+=n*Zt,B+=n*G0,ne+=n*ge,ce+=n*y0,Ge+=n*et,st+=n*m0,Qe+=n*h0,Ft+=n*w0,ke+=n*K0,pe+=n*$r,n=t[11],S+=n*Nt,w+=n*de,P+=n*xe,D+=n*r0,L+=n*T0,k+=n*v0,B+=n*Zt,ne+=n*G0,ce+=n*ge,Ge+=n*y0,st+=n*et,Qe+=n*m0,Ft+=n*h0,ke+=n*w0,pe+=n*K0,Pt+=n*$r,n=t[12],w+=n*Nt,P+=n*de,D+=n*xe,L+=n*r0,k+=n*T0,B+=n*v0,ne+=n*Zt,ce+=n*G0,Ge+=n*ge,st+=n*y0,Qe+=n*et,Ft+=n*m0,ke+=n*h0,pe+=n*w0,Pt+=n*K0,Ht+=n*$r,n=t[13],P+=n*Nt,D+=n*de,L+=n*xe,k+=n*r0,B+=n*T0,ne+=n*v0,ce+=n*Zt,Ge+=n*G0,st+=n*ge,Qe+=n*y0,Ft+=n*et,ke+=n*m0,pe+=n*h0,Pt+=n*w0,Ht+=n*K0,$t+=n*$r,n=t[14],D+=n*Nt,L+=n*de,k+=n*xe,B+=n*r0,ne+=n*T0,ce+=n*v0,Ge+=n*Zt,st+=n*G0,Qe+=n*ge,Ft+=n*y0,ke+=n*et,pe+=n*m0,Pt+=n*h0,Ht+=n*w0,$t+=n*K0,d0+=n*$r,n=t[15],L+=n*Nt,k+=n*de,B+=n*xe,ne+=n*r0,ce+=n*T0,Ge+=n*v0,st+=n*Zt,Qe+=n*G0,Ft+=n*ge,ke+=n*y0,pe+=n*et,Pt+=n*m0,Ht+=n*h0,$t+=n*w0,d0+=n*K0,rt+=n*$r,l+=38*k,a+=38*B,f+=38*ne,c+=38*ce,u+=38*Ge,d+=38*st,h+=38*Qe,p+=38*Ft,g+=38*ke,y+=38*pe,_+=38*Pt,S+=38*Ht,w+=38*$t,P+=38*d0,D+=38*rt,s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=w+s+65535,s=Math.floor(n/65536),w=n-s*65536,n=P+s+65535,s=Math.floor(n/65536),P=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,l+=s-1+37*(s-1),s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=w+s+65535,s=Math.floor(n/65536),w=n-s*65536,n=P+s+65535,s=Math.floor(n/65536),P=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,l+=s-1+37*(s-1),e[0]=l,e[1]=a,e[2]=f,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=p,e[8]=g,e[9]=y,e[10]=_,e[11]=S,e[12]=w,e[13]=P,e[14]=D,e[15]=L}o(us,"M")});var pG=ot((Xpe,mG)=>{var uc=ii();Ni();$c();e7();mG.exports=uc.kem=uc.kem||{};var hG=uc.jsbn.BigInteger;uc.kem.rsa={};uc.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||uc.random,n={};return n.encrypt=function(s,l){var a=Math.ceil(s.n.bitLength()/8),f;do f=new hG(uc.util.bytesToHex(r.getBytesSync(a)),16).mod(s.n);while(f.compareTo(hG.ONE)<=0);f=uc.util.hexToBytes(f.toString(16));var c=a-f.length;c>0&&(f=uc.util.fillString("\0",c)+f);var u=s.encrypt(f,"NONE"),d=e.generate(f,l);return{encapsulation:u,key:d}},n.decrypt=function(s,l,a){var f=s.decrypt(l,"NONE");return e.generate(f,a)},n};uc.kem.kdf1=function(e,t){gG(this,e,0,t||e.digestLength)};uc.kem.kdf2=function(e,t){gG(this,e,1,t||e.digestLength)};function gG(e,t,r,n){e.generate=function(s,l){for(var a=new uc.util.ByteBuffer,f=Math.ceil(l/n)+r,c=new uc.util.ByteBuffer,u=r;u<f;++u){c.putInt32(u),t.start(),t.update(s+c.getBytes());var d=t.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-l),a.getBytes()}}o(gG,"_createKDF")});var _G=ot((Qpe,xG)=>{var Ci=ii();Ni();xG.exports=Ci.log=Ci.log||{};Ci.log.levels=["none","error","warning","info","debug","verbose","max"];var Cb={},rN=[],a7=null;Ci.log.LEVEL_LOCKED=2;Ci.log.NO_LEVEL_CHECK=4;Ci.log.INTERPOLATE=8;for(Cu=0;Cu<Ci.log.levels.length;++Cu)eN=Ci.log.levels[Cu],Cb[eN]={index:Cu,name:eN.toUpperCase()};var eN,Cu;Ci.log.logMessage=function(e){for(var t=Cb[e.level].index,r=0;r<rN.length;++r){var n=rN[r];if(n.flags&Ci.log.NO_LEVEL_CHECK)n.f(e);else{var s=Cb[n.level].index;t<=s&&n.f(n,e)}}};Ci.log.prepareStandard=function(e){"standard"in e||(e.standard=Cb[e.level].name+" ["+e.category+"] "+e.message)};Ci.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Ci.util.format.apply(this,t)}};Ci.log.prepareStandardFull=function(e){"standardFull"in e||(Ci.log.prepareStandard(e),e.standardFull=e.standard)};for(tN=["error","warning","info","debug","verbose"],Cu=0;Cu<tN.length;++Cu)(function(t){Ci.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),l={timestamp:new Date,level:t,category:r,message:n,arguments:s};Ci.log.logMessage(l)}})(tN[Cu]);var tN,Cu;Ci.log.makeLogger=function(e){var t={flags:0,f:e};return Ci.log.setLevel(t,"none"),t};Ci.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Ci.log.LEVEL_LOCKED))for(var n=0;n<Ci.log.levels.length;++n){var s=Ci.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};Ci.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Ci.log.LEVEL_LOCKED:e.flags&=~Ci.log.LEVEL_LOCKED};Ci.log.addLogger=function(e){rN.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(yG={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},l7=o(function(e,t){Ci.log.prepareStandard(t);var r=yG[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),j6=Ci.log.makeLogger(l7)):(l7=o(function(t,r){Ci.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),j6=Ci.log.makeLogger(l7)),Ci.log.setLevel(j6,"debug"),Ci.log.addLogger(j6),a7=j6):console={log:function(){}};var j6,yG,l7;a7!==null&&typeof window<"u"&&window.location&&(o7=new URL(window.location.href).searchParams,o7.has("console.level")&&Ci.log.setLevel(a7,o7.get("console.level").slice(-1)[0]),o7.has("console.lock")&&(vG=o7.get("console.lock").slice(-1)[0],vG=="true"&&Ci.log.lock(a7)));var o7,vG;Ci.log.consoleLogger=a7});var CG=ot((tye,bG)=>{bG.exports=gu();tb();L6();mk();Vk()});var SG=ot((rye,TG)=>{var L0=ii();c3();w1();Z9();u3();A4();Pk();$c();Ni();mb();var it=L0.asn1,xf=TG.exports=L0.pkcs7=L0.pkcs7||{};xf.messageFromPem=function(e){var t=L0.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=it.fromDer(t.body);return xf.messageFromAsn1(n)};xf.messageToPem=function(e,t){var r={type:"PKCS7",body:it.toDer(e.toAsn1()).getBytes()};return L0.pem.encode(r,{maxline:t})};xf.messageFromAsn1=function(e){var t={},r=[];if(!it.validate(e,xf.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=it.derToOid(t.contentType),l;switch(s){case L0.pki.oids.envelopedData:l=xf.createEnvelopedData();break;case L0.pki.oids.encryptedData:l=xf.createEncryptedData();break;case L0.pki.oids.signedData:l=xf.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return l.fromAsn1(t.content.value[0]),l};xf.createSignedData=function(){var e=null;return e={type:L0.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(iN(e,n,xf.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,l=0;l<s.length;++l)e.certificates.push(L0.pki.certificateFromAsn1(s[l]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(L0.pki.certificateToAsn1(e.certificates[s]));var l=[],a=it.create(it.Class.CONTEXT_SPECIFIC,0,!0,[it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,it.integerToDer(e.version).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(it.create(it.Class.CONTEXT_SPECIFIC,0,!0,n)),l.length>0&&a.value[0].value.push(it.create(it.Class.CONTEXT_SPECIFIC,1,!0,l)),a.value[0].value.push(it.create(it.Class.UNIVERSAL,it.Type.SET,!0,e.signerInfos)),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var s=n.issuer,l=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=L0.pki.certificateFromPem(a)),s=a.issuer.attributes,l=a.serialNumber}var f=n.key;if(!f)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof f=="string"&&(f=L0.pki.privateKeyFromPem(f));var c=n.digestAlgorithm||L0.pki.oids.sha1;switch(c){case L0.pki.oids.sha1:case L0.pki.oids.sha256:case L0.pki.oids.sha384:case L0.pki.oids.sha512:case L0.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var d=!1,h=!1,p=0;p<u.length;++p){var g=u[p];if(!d&&g.type===L0.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&g.type===L0.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:f,version:1,issuer:s,serialNumber:l,digestAlgorithm:c,signatureAlgorithm:L0.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(L0.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof L0.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=L0.util.encodeUtf8(e.content)),n.detached?e.detachedContent=it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(it.create(it.Class.CONTEXT_SPECIFIC,0,!0,[it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var l=t();r(l)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=L0.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var l=e.signers[s],a=l.digestAlgorithm;a in n||(n[a]=L0.md[L0.pki.oids[a]].create()),l.authenticatedAttributes.length===0?l.md=n[a]:l.md=L0.md[L0.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(a).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var l=it.derToOid(e.contentInfo.value[0].value),a=it.toDer(s);a.getByte(),it.getBerValueLength(a),a=a.getBytes();for(var f in n)n[f].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(d.authenticatedAttributes.length===0){if(l!==L0.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=it.create(it.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=it.create(it.Class.UNIVERSAL,it.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var g=d.authenticatedAttributes[p];g.type===L0.pki.oids.messageDigest?g.value=n[d.digestAlgorithm].digest():g.type===L0.pki.oids.signingTime&&(g.value||(g.value=c)),h.value.push(nN(g)),d.authenticatedAttributesAsn1.value.push(nN(g))}a=it.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=fle(e.signers)}o(r,"addSignerInfos")};xf.createEncryptedData=function(){var e=null;return e={type:L0.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:L0.pki.oids["aes256-CBC"]},fromAsn1:function(t){iN(e,t,xf.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),EG(e)}},e};xf.createEnvelopedData=function(){var e=null;return e={type:L0.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:L0.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=iN(e,t,xf.asn1.envelopedDataValidator);e.recipients=ole(r.recipientInfos.value)},toAsn1:function(){return it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.type).getBytes()),it.create(it.Class.CONTEXT_SPECIFIC,0,!0,[it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,it.integerToDer(e.version).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SET,!0,ale(e.recipients)),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,cle(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],l=s.issuer;if(s.serialNumber===t.serialNumber&&l.length===r.length){for(var a=!0,f=0;f<r.length;++f)if(l[f].type!==r[f].type||l[f].value!==r[f].value){a=!1;break}if(a)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case L0.pki.oids.rsaEncryption:case L0.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=L0.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}EG(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:L0.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,l;switch(r){case L0.pki.oids["aes128-CBC"]:n=16,s=16,l=L0.aes.createEncryptionCipher;break;case L0.pki.oids["aes192-CBC"]:n=24,s=16,l=L0.aes.createEncryptionCipher;break;case L0.pki.oids["aes256-CBC"]:n=32,s=16,l=L0.aes.createEncryptionCipher;break;case L0.pki.oids["des-EDE3-CBC"]:n=24,s=8,l=L0.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=L0.util.createBuffer(L0.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=L0.util.createBuffer(L0.random.getBytes(s));var a=l(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var f=0;f<e.recipients.length;++f){var c=e.recipients[f];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case L0.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function ile(e){var t={},r=[];if(!it.validate(e,xf.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:L0.pki.RDNAttributesAsArray(t.issuer),serialNumber:L0.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:it.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(ile,"_recipientFromAsn1");function sle(e){return it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,it.integerToDer(e.version).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[L0.pki.distinguishedNameToAsn1({attributes:e.issuer}),it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,L0.util.hexToBytes(e.serialNumber))]),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.encryptedContent.algorithm).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.NULL,!1,"")]),it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(sle,"_recipientToAsn1");function ole(e){for(var t=[],r=0;r<e.length;++r)t.push(ile(e[r]));return t}o(ole,"_recipientsFromAsn1");function ale(e){for(var t=[],r=0;r<e.length;++r)t.push(sle(e[r]));return t}o(ale,"_recipientsToAsn1");function lle(e){var t=it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,it.integerToDer(e.version).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[L0.pki.distinguishedNameToAsn1({attributes:e.issuer}),it.create(it.Class.UNIVERSAL,it.Type.INTEGER,!1,L0.util.hexToBytes(e.serialNumber))]),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.digestAlgorithm).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.signatureAlgorithm).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.NULL,!1,"")])),t.value.push(it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=it.create(it.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(nN(s))}t.value.push(r)}return t}o(lle,"_signerToAsn1");function fle(e){for(var t=[],r=0;r<e.length;++r)t.push(lle(e[r]));return t}o(fle,"_signersToAsn1");function nN(e){var t;if(e.type===L0.pki.oids.contentType)t=it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.value).getBytes());else if(e.type===L0.pki.oids.messageDigest)t=it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===L0.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var l=Date.parse(s);isNaN(l)?s.length===13?s=it.utcTimeToDate(s):s=it.generalizedTimeToDate(s):s=new Date(l)}s>=r&&s<n?t=it.create(it.Class.UNIVERSAL,it.Type.UTCTIME,!1,it.dateToUtcTime(s)):t=it.create(it.Class.UNIVERSAL,it.Type.GENERALIZEDTIME,!1,it.dateToGeneralizedTime(s))}return it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.type).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SET,!0,[t])])}o(nN,"_attributeToAsn1");function cle(e){return[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(L0.pki.oids.data).getBytes()),it.create(it.Class.UNIVERSAL,it.Type.SEQUENCE,!0,[it.create(it.Class.UNIVERSAL,it.Type.OID,!1,it.oidToDer(e.algorithm).getBytes()),e.parameter?it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),it.create(it.Class.CONTEXT_SPECIFIC,0,!0,[it.create(it.Class.UNIVERSAL,it.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(cle,"_encryptedContentToAsn1");function iN(e,t,r){var n={},s=[];if(!it.validate(t,r,n,s)){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}var a=it.derToOid(n.contentType);if(a!==L0.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var f="";if(L0.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==it.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");f+=n.encryptedContent[c].value}else f=n.encryptedContent;e.encryptedContent={algorithm:it.derToOid(n.encAlgorithm),parameter:L0.util.createBuffer(n.encParameter.value),content:L0.util.createBuffer(f)}}if(n.content){var f="";if(L0.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==it.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=n.content[c].value}else f=n.content;e.content=L0.util.createBuffer(f)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(iN,"_fromAsn1");function EG(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case L0.pki.oids["aes128-CBC"]:case L0.pki.oids["aes192-CBC"]:case L0.pki.oids["aes256-CBC"]:t=L0.aes.createDecryptionCipher(e.encryptedContent.key);break;case L0.pki.oids.desCBC:case L0.pki.oids["des-EDE3-CBC"]:t=L0.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(EG,"_decryptContent")});var IG=ot((iye,wG)=>{var za=ii();c3();R6();tb();L6();Ni();var Tb=wG.exports=za.ssh=za.ssh||{};Tb.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: "+n+`\r
`;l+="Encryption: "+s+`\r
`,l+="Comment: "+r+`\r
`;var a=za.util.createBuffer();$6(a,n),Eu(a,e.e),Eu(a,e.n);var f=za.util.encode64(a.bytes(),64),c=Math.floor(f.length/66)+1;l+="Public-Lines: "+c+`\r
`,l+=f;var u=za.util.createBuffer();Eu(u,e.d),Eu(u,e.p),Eu(u,e.q),Eu(u,e.qInv);var d;if(!t)d=za.util.encode64(u.bytes(),64);else{var h=u.length()+16-1;h-=h%16;var p=Eb(u.bytes());p.truncate(p.length()-h+u.length()),u.putBuffer(p);var g=za.util.createBuffer();g.putBuffer(Eb("\0\0\0\0",t)),g.putBuffer(Eb("\0\0\0",t));var y=za.aes.createEncryptionCipher(g.truncate(8),"CBC");y.start(za.util.createBuffer().fillWithByte(0,16)),y.update(u.copy()),y.finish();var _=y.output;_.truncate(16),d=za.util.encode64(_.bytes(),64)}c=Math.floor(d.length/66)+1,l+=`\r
Private-Lines: `+c+`\r
`,l+=d;var S=Eb("putty-private-key-file-mac-key",t),w=za.util.createBuffer();$6(w,n),$6(w,s),$6(w,r),w.putInt32(a.length()),w.putBuffer(a),w.putInt32(u.length()),w.putBuffer(u);var P=za.hmac.create();return P.start("sha1",S),P.update(w.bytes()),l+=`\r
Private-MAC: `+P.digest().toHex()+`\r
`,l};Tb.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=za.util.createBuffer();return $6(n,r),Eu(n,e.e),Eu(n,e.n),r+" "+za.util.encode64(n.bytes())+" "+t};Tb.privateKeyToOpenSSH=function(e,t){return t?za.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):za.pki.privateKeyToPem(e)};Tb.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||za.md.md5.create(),n="ssh-rsa",s=za.util.createBuffer();$6(s,n),Eu(s,e.e),Eu(s,e.n),r.start(),r.update(s.getBytes());var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};function Eu(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=za.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Eu,"_addBigIntegerToBuffer");function $6(e,t){e.putInt32(t.length),e.putString(t)}o($6,"_addStringToBuffer");function Eb(){for(var e=za.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(Eb,"_sha1")});var PG=ot((oye,AG)=>{AG.exports=ii();c3();Wz();w1();W_();Z9();dG();R6();pG();_G();CG();Rk();sb();A4();Tk();Dk();SG();Bk();wk();pk();db();$c();xk();IG();jk();Ni()});var RG=ot((aye,ule)=>{ule.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var DG=ot((lye,sN)=>{var wb=PG(),kG=RG(),Sb=sN.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function NG(e){let t=wb.pki.pemToDer(e),r=wb.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],l=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,a=n.slice(l);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(NG,"myASN");function dle(e){let t=NG(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),s=t.valid.value.map(a=>a.value).join(" - "),l=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${l} by ${kG.name}@${kG.version}`,String(e)].join(`
`)}o(dle,"txtFormat");sN.exports.transform=function(e){return function(t){try{switch(e){case Sb.der:return wb.pki.pemToDer(t);case Sb.pem:return t;case Sb.txt:return dle(t);case Sb.asn1:return NG(t);default:return wb.pki.certificateFromPem(t)}}catch{return}}}});var LG=ot((cye,H6)=>{var oN=require("https"),aN=DG();if(process.platform!=="darwin")H6.exports.all=()=>[],H6.exports.each=()=>{};else{let f=function(u,d,h){return h.indexOf(u)===d};hle=f,o(f,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),l=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);oN.globalAgent.options.ca=oN.globalAgent.options.ca||[];let a=oN.globalAgent.options.ca,c=s.concat(l);c.filter(f).forEach(u=>a.push(u)),H6.exports.der2=aN.validFormats,H6.exports.all=function(u){return c.map(aN.transform(u)).filter(d=>d)},H6.exports.each=function(u,d){return typeof u=="function"&&(d=u,u=void 0),c.map(aN.transform(u)).filter(h=>h).forEach(d)}}var hle});var BG=ot((dye,lN)=>{function gle(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],l=new n.Crypt32;try{let a;for(;a=l.next();){let f=new e(a);s.push(f.toString())}}finally{l.done()}return Array.from(new Set(s))}o(gle,"all");process.platform!=="win32"?lN.exports.all=()=>[]:lN.exports.all=gle});var jG=ot((yye,qG)=>{var Ab=require("path").sep||"/";qG.exports=ple;function ple(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=Ab+Ab+n),s=s.replace(/^(.+)\|/,"$1:"),Ab=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=Ab+s),n+s}o(ple,"fileUriToPath")});var GG=ot((kb,zG)=>{var wN=require("fs"),Rb=require("path"),yle=jG(),Pb=Rb.join,VG=Rb.dirname,$G=wN.accessSync&&function(e){try{wN.accessSync(e)}catch{return!1}return!0}||wN.existsSync||Rb.existsSync,HG={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function vle(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(HG).map(function(c){c in e||(e[c]=HG[c])}),e.module_root||(e.module_root=VG(__filename)),Rb.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,l,a,f;n<s;n++){l=Pb.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(l);try{return a=e.path?t.resolve(l):t(l),e.path||(a.path=l),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw f=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),f.tries=r,f}o(vle,"bindings");zG.exports=kb=vle;kb.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},l;Error.stackTraceLimit=10,Error.prepareStackTrace=function(f,c){for(var u=0,d=c.length;u<d;u++)if(l=c[u].getFileName(),l!==__filename)if(t){if(l!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return l.indexOf(a)===0&&(l=yle(l)),l},"getFileName");kb.getRoot=o(function(t){for(var r=VG(t),n;;){if(r==="."&&(r=process.cwd()),$G(Pb(r,"package.json"))||$G(Pb(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=Pb(r,"..")}},"getRoot")});var YG=ot((_ye,WG)=>{"use strict";function KG(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(l=>l.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(KG,"validateParameter");function xle(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(xle,"hasOwnProperty");function _le(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let l=0,a=0;l<t.length;++l,++a){let f=t[l],c=r[a];xle(f,"default")&&c==null&&(c=f.default),f.type==="object"&&f.default!=null&&(c=Object.assign({},f.default,c)),f.name==="options"&&(typeof c=="function"||c==null)&&(c={}),KG(c,t,l)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((l,a)=>{n.push((f,c)=>{if(f)return a(f);l(c)}),e.apply(this,n)});e.apply(this,n)}}o(_le,"defineOperation");WG.exports={defineOperation:_le,validateParameter:KG}});var IN=ot((Cye,ZG)=>{"use strict";var z6=GG()("kerberos"),V6=z6.KerberosClient,JG=z6.KerberosServer,x3=YG().defineOperation,ble=1,Cle=2,Ele=4,Tle=8,Sle=16,wle=32,Ile=64,Ale=128,Ple=256,XG=0,Rle=9,kle=6;V6.prototype.step=x3(V6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);V6.prototype.wrap=x3(V6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);V6.prototype.unwrap=x3(V6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);JG.prototype.step=x3(JG.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var Nle=x3(z6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),Dle=x3(z6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),Lle=x3(z6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:XG}},{name:"callback",type:"function",required:!1}]),Ble=x3(z6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);ZG.exports={initializeClient:Lle,initializeServer:Ble,principalDetails:Dle,checkPassword:Nle,GSS_C_DELEG_FLAG:ble,GSS_C_MUTUAL_FLAG:Cle,GSS_C_REPLAY_FLAG:Ele,GSS_C_SEQUENCE_FLAG:Tle,GSS_C_CONF_FLAG:Sle,GSS_C_INTEG_FLAG:wle,GSS_C_ANON_FLAG:Ile,GSS_C_PROT_READY_FLAG:Ale,GSS_C_TRANS_FLAG:Ple,GSS_C_NO_OID:XG,GSS_MECH_OID_KRB5:Rle,GSS_MECH_OID_SPNEGO:kle}});var QG=ot((Eye,Ole)=>{Ole.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var tK=ot((Tye,eK)=>{"use strict";var Fle=require("dns"),Mle=IN(),PN=class PN{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=Ule(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function l(a,f,c){if(!a)return c();Fle.resolveCname(f,(u,d)=>{if(u)return c(u);Array.isArray(d)&&d.length>0&&(s.host=d[0]),c()})}o(l,"performGssapiCanonicalizeHostName"),l(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let f={};r!=null&&Object.assign(f,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;Mle.initializeClient(c,f,(u,d)=>{if(u)return n(u,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(PN,"MongoAuthProcess");var AN=PN;function Ule(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=qle(e),r(null,s)})}}o(Ule,"firstTransition");function qle(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=jle(e),r(null,s||"")})}}o(qle,"secondTransition");function jle(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(l,a)=>{if(l)return r(l,!1);e._transition=$le(e),r(null,a)})})}}o(jle,"thirdTransition");function $le(e){return(t,r)=>{e._transition=null,r(null,!0)}}o($le,"fourthTransition");eK.exports={MongoAuthProcess:AN}});var nK=ot((wye,f7)=>{"use strict";var rK=IN();f7.exports=rK;f7.exports.Kerberos=rK;f7.exports.version=QG().version;f7.exports.processes={MongoAuthProcess:tK().MongoAuthProcess}});var vd=Qn(Rf()),pA=Qn(lL()),Px=Qn(Mm());var pB=Qn(require("crypto"));var Wy=new Uint8Array(256),Ky=Wy.length;function ZE(){return Ky>Wy.length-16&&(pB.default.randomFillSync(Wy),Ky=0),Wy.slice(Ky,Ky+=16)}o(ZE,"rng");var kl=[];for(let e=0;e<256;++e)kl.push((e+256).toString(16).slice(1));function yB(e,t=0){return kl[e[t+0]]+kl[e[t+1]]+kl[e[t+2]]+kl[e[t+3]]+"-"+kl[e[t+4]]+kl[e[t+5]]+"-"+kl[e[t+6]]+kl[e[t+7]]+"-"+kl[e[t+8]]+kl[e[t+9]]+"-"+kl[e[t+10]]+kl[e[t+11]]+kl[e[t+12]]+kl[e[t+13]]+kl[e[t+14]]+kl[e[t+15]]}o(yB,"unsafeStringify");var vB=Qn(require("crypto")),QE={randomUUID:vB.default.randomUUID};function LJ(e,t,r){if(QE.randomUUID&&!t&&!e)return QE.randomUUID();e=e||{};let n=e.random||(e.rng||ZE)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return yB(n)}o(LJ,"v4");var K2=LJ;var Rx=Qn(WM());var Pw=class Pw extends Error{constructor(r,n){super(r);this.cause=n;this.name="CopilotAuthError"}};o(Pw,"CopilotAuthError");var cd=Pw;var px=Qn(ud());var Uv="github.copilot";var Lc=Qn(ud());var Rw=class Rw{now(){return new Date}};o(Rw,"Clock");var t4=Rw;var YM=Qn(Mm());var kw=class kw{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(kw,"LRUCacheMap");var ho=kw;var qv=class qv{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return JM(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new qv({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o(qv,"ExpConfig");var v1=qv;var Q8=Qn(uq(),1),Bue={ALPN_HTTP2:Q8.default.ALPN_HTTP2,ALPN_HTTP2C:Q8.default.ALPN_HTTP2C,ALPN_HTTP1_1:Q8.default.ALPN_HTTP1_1,ALPN_HTTP1_0:Q8.default.ALPN_HTTP1_0},{fetch:Oue,context:dq,reset:Fue,noCache:Mue,h1:Uue,keepAlive:que,h1NoCache:jue,keepAliveNoCache:$ue,cacheStats:Hue,clearCache:Vue,offPush:zue,onPush:Gue,createUrl:Kue,timeoutSignal:Wue,Body:Yue,Headers:Jue,Request:Xue,Response:Zue,AbortController:hq,AbortError:gq,AbortSignal:Que,FetchBaseError:ede,FetchError:a9,ALPN_HTTP2:tde,ALPN_HTTP2C:rde,ALPN_HTTP1_1:nde,ALPN_HTTP1_0:ide}=Q8.default;var pq=Qn(require("util")),yq=require("util");var CI=class CI{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(CI,"HeaderContributors");var l4=CI;var l9,f9,wI=class wI{constructor(){gi(this,l9,void 0);gi(this,f9,void 0)}set rejectUnauthorized(t){ti(this,l9,t)}get rejectUnauthorized(){return f0(this,l9)}set clientFetch(t){ti(this,f9,t)}get clientFetch(){return f0(this,f9)}};l9=new WeakMap,f9=new WeakMap,o(wI,"Fetcher");var fl=wI;function EI(e){return e instanceof gq||e.name==="AbortError"||e instanceof a9&&e.code==="ABORT_ERR"}o(EI,"isAbortError");var II=class II extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(II,"JsonParseError");var e6=II,AI=class AI extends Error{constructor(t){super(`HTTP ${t.status} ${t.statusText}`),this.name="FetchResponseError",this.code=`HTTP${t.status}`}};o(AI,"FetchResponseError");var f4=AI,Pee=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE","ERR_TLS_CERT_ALTNAME_INVALID"]);function TI(e,t=!0){var r;return t&&(e!=null&&e.cause)&&TI(e.cause,!1)?!0:e instanceof a9||e instanceof Error&&e.name==="FetchError"||e instanceof e6||e instanceof f4||((r=e==null?void 0:e.message)==null?void 0:r.startsWith("net::"))||e instanceof Error&&Pee.has(e.code)}o(TI,"isNetworkError");var PI=class PI{constructor(t,r,n,s,l,a){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=l;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new e6(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let l=new yq.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new e6(`Response body truncated: actualLength=${l}`,"Truncated"):new e6(`Response body truncated: actualLength=${l}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(PI,"Response");var cx=PI,Ree=30*1e3;function SI(e,t,r,n,s,l,a,f){let c={...f,Authorization:pq.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(ja).sessionId,"VScode-MachineId":e.get(ja).machineId,...RI(e)};e.get(l4).contributeHeaders(t,c),n&&(c["OpenAI-Intent"]=n);let u={method:"POST",headers:c,json:l,timeout:Ree},d=e.get(fl);if(a){let p=d.makeAbortController();a.onCancellationRequested(()=>{mi(e,"networking.cancelRequest",cs.createAndMarkAsIssued({headerRequestId:s})),p.abort()}),u.signal=p.signal}return d.fetch(t,u).catch(p=>{if(p.code=="ECONNRESET"||p.code=="ETIMEDOUT"||p.code=="ERR_HTTP2_INVALID_SESSION"||p.message=="ERR_HTTP2_GOAWAY_SESSION")return mi(e,"networking.disconnectAll"),d.disconnectAll().then(()=>d.fetch(t,u));throw p})}o(SI,"postRequest");var kI=class kI{};o(kI,"ExpConfigMaker");var c4=kI,kee="https://default.exp-tas.com",NI=class NI extends c4{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var u;let s=r.get(fl),l;try{l=await s.fetch(kee+this.expPath,{method:"GET",headers:n})}catch(d){return v1.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!l.ok)return v1.createFallbackConfig(r,`ExP responded with ${l.status}`);let a;try{a=await l.json()}catch(d){if(d instanceof SyntaxError)return Dc(r,d,"fetchExperiments"),v1.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let f=(u=a.Configs.find(d=>d.Id==="vscode"))!=null?u:{Id:"vscode",Parameters:{}},c=Object.entries(f.Parameters).map(([d,h])=>d+(h?"":"cf"));return new v1(f.Parameters,a.AssignmentContext,c.join(";"))}};o(NI,"ExpConfigFromTAS");var ux=NI;var Nee={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},dx=class dx{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=Nee[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new dx({...this.filters,[t]:r})}};o(dx,"FilterSettings");var u4=dx;var LI=class LI{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(LI,"GranularityImplementation");var hx=LI,BI=class BI extends hx{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(BI,"ConstantGranularity");var DI=BI,vq=o(e=>new DI(e),"DEFAULT_GRANULARITY"),OI=class OI extends hx{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),l=this.getUpcomingByCallBucketStrings();for(let a of s)for(let f of l)n.push(this.prefix+a+f);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(OI,"TimeBucketGranularity");var gx=OI;var xq="X-Copilot-ClientTimeBucket",FI=class FI{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=vq(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new gx(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(xq,n),otherFilterSettingsToPrefetch:s.map(l=>t.withChange(xq,l))}}};o(FI,"GranularityDirectory");var mx=FI;var qI=class qI{constructor(t){this.ctx=t;this.cache=new ho(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new UI(()=>this.ctx.get(c4).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(qI,"FilterSettingsToExpConfigs");var MI=qI,jI=class jI{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(jI,"Task");var UI=jI;var yd=class yd{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new MI(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:l,customModel:a},f){var w,P;if(f instanceof c9)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let c={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":a,"X-Copilot-RetrievalOrg":l},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),h=u.extendFilters(d),p=await this.getExpConfig(h.newFilterSettings);u.update(d,+((w=p.variables.copilotbycallbuckets)!=null?w:NaN),+((P=p.variables.copilottimeperiodsizeinh)!=null?P:NaN));let g=u.extendFilters(d),y=g.newFilterSettings,_=await this.getExpConfig(y),S=new Promise(D=>setTimeout(D,yd.upcomingDynamicFilterCheckDelayMs));for(let D of g.otherFilterSettingsToPrefetch)S=S.then(async()=>{await new Promise(L=>setTimeout(L,yd.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(D)});return this.prepareForUpcomingFilters(y),new c9(f.properties,f.measurements,f.issuedTime,{filters:y,exp:_})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(ja).machineId;this.granularityDirectory=new mx(t,this.ctx.get(t4))}return this.granularityDirectory}makeFilterSettings(t){return new u4({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return v1.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-yd.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,yd.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new u4({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:Lc.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return Lc.NeighboringTabsOption.None;case"conservative":return Lc.NeighboringTabsOption.Conservative;case"medium":return Lc.NeighboringTabsOption.Medium;case"eager":return Lc.NeighboringTabsOption.Eager;case"eagerbutlittle":return Lc.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return Lc.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return Lc.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return Lc.NeighboringTabsOption.RetrievalComparable;default:return Lc.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}cppHeaders(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcppheaders)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}defaultCommentMarker(t){var s,l;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(l=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?l:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){case"office-exp":return"office-exp";default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}ideAgentChatExpTestModelGpt4(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt4)!=null?r:""}ideAgentChatExpTestModelGpt35(t){var r;return(r=t.filtersAndExp.exp.variables.exptestmodelgpt35)!=null?r:""}ideAgentChatEnableProjectMetadata(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatenableprojectmetadata)!=null?r:!1}ideAgentChatMetaPromptVersion(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatmetapromptversion)!=null?r:""}};o(yd,"Features"),yd.upcomingDynamicFilterCheckDelayMs=20,yd.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var $a=yd;var bq=$I(),b1={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:"editor.showEditorCompletions",EnableAutoCompletions:"editor.enableAutoCompletions",DelayCompletions:"editor.delayCompletions",FilterCompletions:"editor.filterCompletions",DebugOverrideCppHeaders:"advanced.debug.overrideCppHeaders",DebugOverrideCapiUrl:"advanced.debug.overrideCapiUrl",DebugTestOverrideCapiUrl:"advanced.debug.testOverrideCapiUrl",DebugOverrideProxyUrl:"advanced.debug.overrideProxyUrl",DebugTestOverrideProxyUrl:"advanced.debug.testOverrideProxyUrl",DebugOverrideEngine:"advanced.debug.overrideEngine",DebugOverrideLogLevels:"advanced.debug.overrideLogLevels",DebugFilterLogCategories:"advanced.debug.filterLogCategories",DebugSnippyOverrideUrl:"advanced.debug.codeRefOverrideUrl",DebugUseElectronFetcher:"advanced.debug.useElectronFetcher",DebugUseEditorFetcher:"advanced.debug.useEditorFetcher"};var VI=class VI{};o(VI,"BlockModeConfig");var t6=VI,zI=class zI extends t6{async forLanguage(t,r,n){let s=t.get($a).overrideBlockMode(n);return s?Fee(s,r):r=="ruby"?"parsing":(0,px.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(zI,"ConfigBlockModeConfig");var yx=zI;function Fee(e,t){switch(e){case"parsing":return(0,px.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,px.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(Fee,"toApplicableBlockMode");var GI=class GI{};o(GI,"ConfigProvider");var d4=GI,KI=class KI extends d4{getConfig(t){return Uee(t)}getOptionalConfig(t){return Cq(t)}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(KI,"DefaultsOnlyConfigProvider");var vx=KI;function Mee(e){return(e==null?void 0:e.type)==="object"&&"properties"in e}o(Mee,"isContributesObject");function Uee(e){let t=Cq(e);if(t!==void 0)return t;throw new Error(`Missing config default value: ${Uv}.${e}`)}o(Uee,"getConfigDefaultForKey");function Cq(e){try{let t=bq.contributes.configuration[0],r=[],n=`${Uv}.${e}`.split(".");for(;n.length>0;){r.push(n.shift());let s=t.properties[r.join(".")];if(Mee(s))r.length=0,t=s;else if(n.length==0&&(s==null?void 0:s.default)!==void 0)return s.default}}catch(t){throw new Error(`Error inspecting config default value ${Uv}.${e}: ${t}`)}}o(Cq,"getOptionalConfigDefaultForKey");function Z5(e,t){return e.get(d4).getConfig(t)}o(Z5,"getConfig");function Eq(e){return e.get(d4).dumpForTelemetry()}o(Eq,"dumpForTelemetry");var WI=class WI{constructor(){this.packageJson=bq}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o(WI,"BuildInfo");var df=WI;function d9(e){return e.get(df).isProduction()}o(d9,"isProduction");function HI(e){return e.get(df).getBuildType()}o(HI,"getBuildType");function Tq(e){return e.get(df).getBuild()}o(Tq,"getBuild");function Sq(e){return e.get(df).getVersion()}o(Sq,"getVersion");var YI=class YI{constructor(t,r){this.sessionId=t;this.machineId=r}};o(YI,"EditorSession");var ja=YI;function lu({name:e,version:t}){return`${e}/${t}`}o(lu,"formatNameAndVersion");var JI=class JI{};o(JI,"EditorAndPluginInfo");var cl=JI;function RI(e){let t=e.get(cl);return{"Editor-Version":lu(t.getEditorInfo()),"Editor-Plugin-Version":lu(t.getEditorPluginInfo())}}o(RI,"editorVersionHeaders");var _q="Iv1.b507a08c87ecfe98",XI=class XI{findAppItToAuthenticate(){var t;return(t=this.githubAppId)!=null?t:_q}fallbackAppId(){return _q}};o(XI,"GitHubAppInfo");var u9=XI;var xx=Qn(Mm()),_x=Qn(require("os"));var qee=require("events"),ZI=class ZI extends qee{constructor(){super(),this.setMaxListeners(14)}emit(t,r){return super.emit(t,r)}};o(ZI,"CopilotTokenNotifier");var hf=ZI;var QI=class QI{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(hf).on("onCopilotToken",r=>{var u;let n=r.getTokenValue("rt")==="1",s=(u=r.getTokenValue("ft"))!=null?u:"",l=r.getTokenValue("tid"),a=r.organization_list,f=r.enterprise_list,c=r.getTokenValue("sku");l!==void 0&&(this.trackingId=l,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=f==null?void 0:f.toString(),this.sku=c,this.optedIn=n,this.ftFlag=s)})}};o(QI,"TelemetryUserConfig");var rf=QI;var jee=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function $ee(e){var n,s,l,a,f,c;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let u of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=u.match(jee),h={filename:"",function:""};d&&(h.function=(a=(l=(s=d[2])==null?void 0:s.trim())==null?void 0:l.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:h.function,h.filename=(c=(f=d[4])==null?void 0:f.trim())!=null?c:h.filename,d[5]&&d[5]!==":0"&&(h.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(h.colno=d[6].slice(1)),h.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(h.filename)),t.stacktrace.push(h)}}return t}o($ee,"buildExceptionDetail");function Hee(e,t){var a,f;let r=e.get(cl),n=r.getEditorInfo(),s=e.get(rf),l={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":lu({name:(f=n.devName)!=null?f:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":lu(r.getEditorPluginInfo()),"#session_id":e.get(ja).sessionId,"#machine_id":e.get(ja).machineId,"#architecture":_x.arch(),"#os_platform":_x.platform(),...t};return s.trackingId&&(l.user=s.trackingId,l["#tracking_id"]=s.trackingId),l}o(Hee,"buildContext");function wq(e,t){var u,d,h,p;let r=e.get(df),n=e.get(cl).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotLanguageServer",context:Hee(e,{"#node_version":process.versions.node}),sensitive_context:{}},l=[];s.exception_detail=[];let a=0,f=t;for(;f instanceof Error&&a<10;){let g=$ee(f);s.exception_detail.unshift(g),l.unshift([f,g]),a+=1,f=f.cause}let c=[];for(let[g,y]of l)if(y.stacktrace&&y.stacktrace.length>0){c.push(`${y.type}: ${(u=g.code)!=null?u:""}`);let _=[...y.stacktrace].reverse();for(let S of _)if((d=S.filename)!=null&&d.startsWith("./dist/"))return s;for(let S of _)if(S.in_app){c.push(`${(h=S.filename)==null?void 0:h.replace(/^\.\//,"")}:${S.lineno}:${S.colno}`);break}c.push(`${(p=_[0].filename)==null?void 0:p.replace(/^\.\//,"")}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,xx.SHA256)(xx.enc.Utf16.parse(c.join(`
`))).toString()),s}o(wq,"buildPayload");var bx=class bx{constructor(t){this.flags=t}static fromEnvironment(t){return new bx({debug:zee(process.argv,process.env),verboseLogging:Gee(process.env),telemetryLogging:Kee(process.env),testMode:t})}};o(bx,"RuntimeMode");var h4=bx;function g4(e){return e.get(h4).flags.testMode}o(g4,"isRunningInTest");function h9(e){return g4(e)}o(h9,"shouldFailForDebugPurposes");function Iq(e){return e.get(h4).flags.verboseLogging}o(Iq,"isVerboseLoggingEnabled");function zee(e,t){return e.includes("--debug")||eA(t,"DEBUG")}o(zee,"determineDebugFlag");function Gee(e){var t;return e.COPILOT_AGENT_VERBOSE==="1"||((t=e.COPILOT_AGENT_VERBOSE)==null?void 0:t.toLowerCase())==="true"||eA(e,"VERBOSE")}o(Gee,"determineVerboseLoggingEnabled");function Kee(e){return eA(e,"LOG_TELEMETRY")}o(Kee,"determineTelemetryLoggingEnabled");function eA(e,t){for(let r of["GH_COPILOT_","GITHUB_COPILOT_"]){let n=e[`${r}${t}`];if(n)return n==="1"||(n==null?void 0:n.toLowerCase())==="true"}return!1}o(eA,"determineEnvFlagEnabled");var tA=class tA{};o(tA,"NetworkConfiguration");var Ff=tA;var Dq=Qn(Pq()),Lq=Qn(kq()),fu=Qn(require("os"));var Aa=(s=>(s[s.DEBUG=4]="DEBUG",s[s.INFO=3]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=1]="ERROR",s))(Aa||{}),rA=class rA{constructor(t){this.logVerbose=t}};o(rA,"LogVerbose");var r6=rA;function Nq(e){return e.get(r6).logVerbose}o(Nq,"verboseLogging");var nA=class nA{shouldLog(t,r){}};o(nA,"LogTarget");var n6=nA,iA=class iA extends n6{constructor(r){super();this.console=r}logIt(r,n,s,...l){n==1?this.console.error(s,...l):(n==2||Nq(r))&&this.console.warn(s,...l)}};o(iA,"ConsoleLog");var Tx=iA;var sA=class sA{constructor(t,r){this.maxLoggedLevel=t;this.context=r}setLevel(t){this.maxLoggedLevel=t}stringToLevel(t){return Aa[t]}log(t,r,...n){let s=t.get(n6),l=s.shouldLog(t,r);if(l===!1||l===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;s.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){m9(t,r,cs.createAndMarkAsIssued({context:this.context,level:Aa[1],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var f,c;if(Nq(t))return!0;let s=Z5(t,b1.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if(d9(t))return r<=this.maxLoggedLevel;let l=Z5(t,b1.DebugOverrideLogLevels),a=(c=(f=this.stringToLevel(l["*"]))!=null?f:this.stringToLevel(l[this.context]))!=null?c:this.maxLoggedLevel;return r<=a}debug(t,...r){this.log(t,4,...r)}info(t,...r){this.log(t,3,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,1,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),Dc(t,r,n);let l=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,1,`${s}:`,l)}};o(sA,"Logger");var ci=sA;var g9=new ci(3,"default");var oA=class oA{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var l;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(l=t.headers)!=null?l:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data};this.ctx.get(fl).fetch(t.urlString,s).then(a=>a.text().then(f=>{r(a.status,a.headers,f)})).catch(a=>{g9.error(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new Lq.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(Ff).getTelemetryUrl(),extensionConfig:{[Dq.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Wee(t),this.commonProperties=Yee(t),t.get(hf).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:this.tags,data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(hf).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,200)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(oA,"AppInsightsReporter");var i6=oA;function Wee(e){let t={},r=e.get(ja);t["ai.session.id"]=r.sessionId;let n=e.get(rf);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${fu.type()} ${fu.release()}`,t["ai.device.osArchitecture"]=fu.arch(),t["ai.device.osPlatform"]=fu.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(df).getVersion(),t}o(Wee,"getTags");function Yee(e){let t={};t.common_os=fu.platform(),t.common_platformversion=fu.release();let r=e.get(ja);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(Yee,"getCommonProperties");var Bq="7d7048df-6dd0-4048-bb23-b716c1461f8f",Oq="3fdd7f28-937a-48c8-9a21-ba337db23bd1",Jee="f0000000-0000-0000-0000-000000000000",lA=class lA{constructor(){this._initialized=!1}get isInitialized(){return this._initialized}async initialize(t,r,n){let s=t.get(Bc).deactivate();if(this._namespace=r,this._enabled=n,this._initialized=!0,n){let l=t.get(Bc);l.setReporter(new i6(t,r,Bq)),l.setRestrictedReporter(new i6(t,r,Oq)),l.setFTReporter(new i6(t,r,Jee,!0))}await s}reInitialize(t){return this._initialized?this.initialize(t,this._namespace,this._enabled):Promise.reject(new Error("Cannot re-initialize telemetry that has not been initialized."))}};o(lA,"TelemetryInitialization");var Q5=lA;function aA(e,t,r){return e.get(Q5).initialize(e,t,r)}o(aA,"setupTelemetryReporters");var fA=class fA{constructor(){this.promises=new Set}async register(t){return this.promises.add(t),t.finally(()=>this.promises.delete(t))}async flush(){await Promise.allSettled(this.promises)}};o(fA,"PromiseQueue");var gf=fA;var cA=class cA extends gf{async awaitPromises(){await Promise.all(this.promises)}};o(cA,"TestPromiseQueue");var wx=cA;var uA=class uA{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(uA,"FailingTelemetryReporter");var p9=uA;var Uq=require("os"),qq=Qn(require("path"));function y9(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(y9,"redactPaths");var Xee=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),Zee=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function hA(e){if(Xee.has(e))return e;for(let t of Zee)if(t.test(e))return e;return y9(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(hA,"redactMessage");function Ix(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Ix,"escapeForRegExp");var Qee=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+Ix((0,Uq.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function dA(e){return e.replace(Qee,"~")}o(dA,"redactHomeDir");var jq="[\\\\/]?([^:)]*)(?=:\\d)",Fq=new RegExp(Ix(qq.sep),"g"),Mq=new RegExp(Ix(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+jq,"gi");function gA(e,t,r=!1,n=[]){var f;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let l=(f=e.stack)==null?void 0:f.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[e.toString(),`${e.name}: ${e.message}`])if(l!=null&&l.startsWith(c+`
`)){a=l.slice(c.length+1).split(/\n/);break}if(a){s.stack=s.toString();for(let c of a)if(Mq.test(c))s.stack+=`
${y9(c.replace(Mq,(u,d)=>"./"+d.replace(Fq,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))s.stack+=`
${y9(c)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let p=new RegExp(Ix(h.replace(/[\\/]$/,""))+jq,"gi");if(p.test(c)){s.stack+=`
${y9(c.replace(p,(g,y)=>d+y.replace(Fq,"/")))}`,u=!0;break}}if(u)continue;r?s.stack+=`
${dA(c)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&l&&(s.stack=dA(l));return e.cause instanceof Error&&(s.cause=gA(e.cause,t,r,n)),s}o(gA,"cloneError");function $q(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o($q,"errorMessageWithoutPath");function Hq(e,t){return gA(e,o(function(n){return dA($q(n))},"prepareMessage"),!0,t)}o(Hq,"prepareErrorForRestrictedTelemetry");function mA(e,t,r=!1){return gA(e,o(function(s){if(r)return hA($q(s));let l="[redacted]";return s.syscall&&s.code!==void 0?l=`${y9(s.syscall.toString())} ${s.code} ${l}`:s instanceof a9&&s.erroredSysCall&&s.code!==void 0?l=`${s.erroredSysCall} ${s.code} ${l}`:s.code!==void 0&&(l=`${s.code} ${l}`),l},"prepareMessage"),!1,t)}o(mA,"redactError");function s6(e){return e===1}o(s6,"isRestricted");var ete=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var xA=class xA{getReporter(t,r=0){return s6(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(kx(t))return this.reporterRestricted;if(h9(t))return new p9}getFTReporter(t){if(Vq(t))return this.reporterFT;if(h9(t))return new p9}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(xA,"TelemetryReporters");var Bc=xA,tte=vd.Type.Object({},{additionalProperties:vd.Type.String()}),rte=vd.Type.Object({meanLogProb:vd.Type.Optional(vd.Type.Number()),meanAlternativeLogProb:vd.Type.Optional(vd.Type.Number())},{additionalProperties:vd.Type.Number()}),nte=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function ite(e){var t;return nte.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(ite,"isOomError");function ste(e){return TI(e)?"network":ite(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(ste,"getErrorType");var Xa=class Xa{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new Xa(t||{},r||{},xd())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new Xa(n,s,this.issuedTime);return l.displayedTime=this.displayedTime,l}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=xd())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get($a).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=lu(t.get(cl).getEditorInfo()),this.properties.editor_plugin_version=lu(t.get(cl).getEditorPluginInfo());let r=t.get(ja);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${Sq(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(cl);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=lu(n.getEditorInfo());let s=t.get(fl);this.properties.fetcher=s.name;let l=s.proxySettings;this.properties.proxy_enabled=l?"true":"false",this.properties.proxy_auth=l!=null&&l.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=l!=null&&l.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=Eq(t);r["copilot.build"]=Tq(t),r["copilot.buildType"]=HI(t);let n=t.get(rf);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(s6(t))return r;let n={};for(let s in r)Xa.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=Xa.sanitizeKeys(this.properties),this.measurements=Xa.sanitizeKeys(this.measurements);for(let t in this.measurements)isNaN(this.measurements[t])&&delete this.measurements[t]}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=Xa.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateMeasurements(){let t=xd()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=xd()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}this.measurements.current_time===void 0&&(this.measurements.current_time=lte())}validateData(t,r){var s;let n;if(Xa.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...Xa.validateTelemetryProperties.Errors(this.properties)])}),!Xa.validateTelemetryMeasurements.Check(this.measurements)){let l=JSON.stringify([...Xa.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:l}:(n.problem="both",n.error+=`; ${l}`)}if(n===void 0)return!0;if(h9(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return m9(t,"invalidTelemetryData",Xa.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),s6(r)&&m9(t,"invalidTelemetryData_in_secure",Xa.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateMeasurements(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),ute(t,this.properties)}};o(Xa,"TelemetryData"),Xa.validateTelemetryProperties=pA.TypeCompiler.Compile(tte),Xa.validateTelemetryMeasurements=pA.TypeCompiler.Compile(rte),Xa.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],Xa.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var cs=Xa,v9=class v9 extends cs{constructor(t,r,n,s){super(t,r,n),this.filtersAndExp=s}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new v9(n,s,this.issuedTime,this.filtersAndExp);return l.displayedTime=this.displayedTime,l}async extendWithExpTelemetry(t){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new v9({},{},0,{filters:new u4({}),exp:v1.createEmptyConfig()})}};o(v9,"TelemetryWithExp");var c9=v9;function Ax(e,t,r,n){var s;(s=e.get(Bc).getReporter(e,t))==null||s.sendTelemetryEvent(r,cs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Ax,"sendTelemetryEvent");function ote(e,t,r,n){var s;(s=e.get(Bc).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,cs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(ote,"sendTelemetryErrorEvent");function ate(e,t,r,n){var s;(s=e.get(Bc).getFTReporter(e))==null||s.sendTelemetryEvent(r,cs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(ate,"sendFTTelemetryEvent");function vA(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(vA,"telemetrizePromptLength");function xd(){return Date.now()}o(xd,"now");function lte(){return Math.floor(xd()/1e3)}o(lte,"nowSeconds");function kx(e){return e.get(rf).optedIn}o(kx,"shouldSendRestricted");function Vq(e){return e.get(rf).ftFlag!==""}o(Vq,"shouldSendFinetuningTelemetry");async function mi(e,t,r,n){await e.get(gf).register(fte(e,t,r,n))}o(mi,"telemetry");async function fte(e,t,r,n=0){let s=r||cs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!s6(n)||kx(e))&&Ax(e,n,t,s),s6(n)&&ete.includes(t)&&Vq(e)&&ate(e,n,t,s)}o(fte,"_telemetry");async function JM(e,t){await e.get(gf).register(cte(e,t))}o(JM,"telemetryExpProblem");async function cte(e,t){let r="expProblem",n=cs.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),Ax(e,0,r,n)}o(cte,"_telemetryExpProblem");function ute(e,t){t.unique_id=K2();let r=e.get(cl);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=lu(r.getEditorInfo())}o(ute,"addRequiredProperties");var _A=class _A extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError",this.code=(0,Px.SHA256)(Px.enc.Utf16.parse(this.message)).toString().slice(0,16)}};o(_A,"CopilotNonError");var yA=_A;async function Dc(e,t,r,n,s){var a;let l;if(t instanceof Error){if(l=t,l.name==="Canceled"&&l.message==="Canceled"||l.name==="CodeExpectedError"||l instanceof cd||l instanceof Rx.ConnectionError||l instanceof Rx.ResponseError)return}else{if(l=new yA(t),t&&typeof t=="object"&&t.name==="ExitStatus")return;if((a=l.stack)!=null&&a.startsWith(`${l}
`)){let f=l.stack.slice(`${l}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(f[0])&&f.shift(),l.stack=`${l}
${f.join(`
`)}`}}await e.get(gf).register(dte(e,l,r,n,s))}o(Dc,"telemetryException");async function dte(e,t,r,n,s){var p,g;let l=e.get(cl).getEditorInfo(),a;l.root&&(a=[{prefix:`${l.name}:`,path:l.root}]);let f=mA(t,a),c=kx(e),u=ste(t),d=u==="exception",h=cs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:f.stack||f.toString(),message:f.message,...n});if(await h.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let y of s.exception_detail)y.value&&(c?y.value=hA(y.value):y.value="[redacted]");if(s!=null||(s=wq(e,mA(t,a,c))),s.context={...s.context,"copilot_event.unique_id":h.properties.unique_id,"#restricted_telemetry":c?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(h.properties.errno=s.rollup_id),s.created_at=new Date(h.issuedTime).toISOString(),c){let y=Hq(t,a),_=cs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(g=t.code)!=null?g:""}`,reason:y.stack||y.toString(),message:y.message,...n});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(e,1,"IncludeExp"),_.properties.unique_id=h.properties.unique_id,h.properties.restricted_unique_id=_.properties.unique_id,Ax(e,1,`error.${u}`,_)}d&&(h.properties.failbot_payload=JSON.stringify(s)),Ax(e,0,`error.${u}`,h)}o(dte,"_telemetryException");async function m9(e,t,r,n){await e.get(gf).register(hte(e,t,r,n))}o(m9,"telemetryError");async function hte(e,t,r,n=0){if(s6(n)&&!kx(e))return;let s=r||cs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),ote(e,n,t,s)}o(hte,"_telemetryError");async function zq(e,t,r,n,s){var a;let l=cs.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[f,c]of Object.entries(r.logprobs))l.properties["logprobs_"+f]=(a=JSON.stringify(c))!=null?a:"unset";l.extendWithRequestId(n),await mi(e,"engine.completion",l,1)}o(zq,"logEngineCompletion");async function Gq(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await mi(e,"engine.prompt",s,1)}o(Gq,"logEnginePrompt");var bA=class bA{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?mi(t,"installed.reinstall"):mi(t,"installed.new")}async handleUpgrade(t){mi(t,"installed.upgrade")}async handleUninstall(t){mi(t,"uninstalled")}};o(bA,"InstallationManager");var Nx=bA;var CA=class CA extends Nx{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(CA,"VsCodeUninstallationManager");var Dx=CA;var CK=require("child_process");var $N=Qn(ud());var EA=class EA{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(EA,"Context");var Lx=EA;var TA=class TA{};o(TA,"NotificationSender");var m4=TA;var C3e=oj(),NA=class NA{};o(NA,"UrlOpener");var x9=NA;var Ste=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],aj="Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.",lj="https://gh.io/copilot-network-errors",DA=class DA{constructor(){this.notifiedErrorCodes=[]}async notifyUser(t,r){Ste.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){new ci(1,"certificates").error(t,`${aj} Please visit ${lj} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t)}showCertificateWarningMessage(t){let r={title:"Learn more"};t.get(m4).showWarningMessage(aj,r).then(n=>{(n==null?void 0:n.title)===r.title&&t.get(x9).open(lj)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(DA,"UserErrorNotifier");var p4=DA;var LA=class LA{constructor(){this._cache=new ho(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(LA,"CompletionsCache");var a6=LA;var BA=class BA{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(BA,"ContextualFilterManager");var l6=BA;var Iie=Qn(ud()),Aie=Qn(Mm());var OA=class OA{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(OA,"Debouncer");var Ux=OA;async function*fj(e,t){for await(let r of e)yield t(r)}o(fj,"asyncIterableMap");async function*cj(e,t){for await(let r of e)await t(r)&&(yield r)}o(cj,"asyncIterableFilter");var uj=require("events");var s2e=new ci(3,"auth");var C2e=new ci(3,"auth"),MA=class MA{constructor(){this.tokenRefreshEventEmitter=new uj.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o(MA,"CopilotTokenManager");var mf=MA;var UA="copilot-codex",Ite=new ci(4,"customModels"),qA=class qA{async getModels(t){let r=await t.get(mf).getCopilotToken(t);return new qx(r)}logModelsForToken(t,r){let s=new qx(r).getModelIds();s.length>1&&s.forEach(l=>Ite.info(t,`Available model: ${l}`))}};o(qA,"AvailableModelManager");var v4=qA,jA=class jA{constructor(t){this.token=t}getModelIds(){var r,n;return[...(n=(r=this.token.getTokenValue("cml"))==null?void 0:r.split(","))!=null?n:[],UA]}async getModelForResource(t,r,n=void 0){let s=Z5(t,b1.DebugOverrideEngine);if(s)return new b9(s,UA===s);if(n){let a=t.get($a).customEngine(n);if(a)return new b9(a,UA===a)}let l=this.getModelIds();return new b9(l[0])}};o(jA,"AvailableModels");var qx=jA,$A=class $A{constructor(t,r=!1){this.modelId=t;this.forceBaseModel=r}get path(){return`/v1/engines/${encodeURIComponent(this.modelId)}`}get headers(){return this.forceBaseModel?{"X-Custom-Model":"disable"}:{}}};o($A,"ModelRequestInfo");var b9=$A;var Dj=Qn(require("util"));var HA=class HA{};o(HA,"StatusReporter");var _d=HA;var Aj=Qn(Sj()),T9=require("path"),Vx=Qn(y4());var KA=require("os"),jx=require("path"),f6=Qn(y4());function C9(e){return wj(e)}o(C9,"isSupportedUriScheme");function wj(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}o(wj,"isFsScheme");function Ij(e){return wj(e.scheme)&&(!e.authority||(0,KA.platform)()=="win32")}o(Ij,"isFsUri");function $x(e){if(Ij(e))if((0,KA.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,jx.normalize)(t)}else return e.authority?void 0:e.path}o($x,"getFsPath");function E9(e,t){return Ij(e)?f6.URI.file((0,jx.resolve)($x(e),t)):f6.Utils.resolvePath(e,Hte(t))}o(E9,"resolveFilePath");function Hte(e){return Vte(e)?e.replaceAll("\\","/"):e}o(Hte,"pathToURIPath");function Vte(e){return/^[^/\\]*\\/.test(e)}o(Vte,"isWinPath");function Hx(e){return["notebook","vscode-notebook","vscode-notebook-cell"].includes(e.scheme)?f6.Utils.dirname(e).with({scheme:"file",fragment:""}):f6.Utils.dirname(e)}o(Hx,"dirname");var WA=class WA{};o(WA,"FileSystem");var cu=WA;function JA(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(JA,"tryGetGitHubNWO");var i4e=Yte(zte,1e4);async function zte(e,t){var c;if(!C9(t.scheme))return;let r=await Kte(e,t.fsPath);if(!r)return;let n=e.get(cu),s=(0,T9.join)(r,".git","config"),l;try{l=await n.readFileString(Vx.URI.file(s))}catch{return}let a=(c=Wte(l))!=null?c:"",f=Gte(a);return f===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...f}}o(zte,"extractRepoInfo");function Gte(e){let t={};try{if(t=(0,Aj.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(Gte,"parseRepoUrl");async function Kte(e,t){let r=t+"_add_to_make_longer",n=e.get(cu);for(;t.length>1&&t.length<r.length;){let s=(0,T9.join)(t,".git","config"),l=!1;try{await n.stat(Vx.URI.file(s)),l=!0}catch{l=!1}if(l)return t;r=t,t=(0,T9.dirname)(t)}}o(Kte,"getRepoBaseFolder");function Wte(e){var c;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,l,a,f=!1;for(let u of e.split(`
`))if(f&&l!==void 0){if(l+=u,u.endsWith("\\"))l=l.substring(0,l.length-1);else if(f=!1,a==="origin")return l}else{let d=(c=u.match(t))!=null?c:u.match(r);if(d)a=d[1];else if(u.match(s))a=void 0;else{if(l&&a!=="origin")continue;{let h=u.match(n);if(h){if(l=h[1],l.endsWith("\\"))l=l.substring(0,l.length-1),f=!0;else if(a==="origin")return l}}}}return l}o(Wte,"getRepoUrlFromConfigText");var XA=class XA{constructor(t){this.result=t}};o(XA,"CompletedComputation");var YA=XA;function Yte(e,t){let r=new ho(t),n=new Set;return(s,...l)=>{let a=JSON.stringify(l),f=r.get(a);if(f)return f.result;if(n.has(a))return 0;let c=e(s,...l);return n.add(a),c.then(u=>{r.set(a,new YA(u)),n.delete(a)}),0}}o(Yte,"computeInBackgroundAndMemoize");function Pj(e,t,r,n,s,l,a,f){return zq(e,t,r,s,n),{completionText:t,meanLogProb:Jte(e,r),meanAlternativeLogProb:Xte(e,r),choiceIndex:n,requestId:s,modelInfo:f,blockFinished:l,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}o(Pj,"convertToAPIChoice");function Jte(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--)n+=t.logprobs.token_logprobs[a],s+=1;return s>0?n/s:void 0}catch(n){g9.exception(e,n,"Error calculating mean prob")}}o(Jte,"calculateMeanLogProb");function Xte(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--){let f={...t.logprobs.top_logprobs[a]};delete f[t.logprobs.tokens[a]],n+=Math.max(...Object.values(f)),s+=1}return s>0?n/s:void 0}catch(n){g9.exception(e,n,"Error calculating mean prob")}}o(Xte,"calculateMeanAlternativeLogProb");function ZA(e,t){return g4(e)||t<=1?0:t<10?.2:t<20?.4:.8}o(ZA,"getTemperatureForSamples");var Zte={markdown:[`


`],python:[`
def `,`
class `,`
if `,`

#`]};function Rj(e,t){var r;return(r=Zte[t!=null?t:""])!=null?r:[`


`,"\n```"]}o(Rj,"getStops");function kj(e){return 1}o(kj,"getTopP");function QA(e){return 500}o(QA,"getMaxSolutionTokens");var Mf=new ci(3,"streamChoices"),sP=class sP{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new rP;this.function_call=new tP}append(t){var r,n,s,l,a,f,c;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((l=t.logprobs.token_logprobs)!=null?l:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(f=t.delta)!=null&&f.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations),(c=t.delta)!=null&&c.function_call&&this.function_call.update(t.delta.function_call)}};o(sP,"APIJsonDataStreaming");var eP=sP;function e0e(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(e0e,"splitChunk");var oP=class oP{constructor(){this.arguments=[]}update(t){t.name&&(this.name=t.name),this.arguments.push(t.arguments)}};o(oP,"StreamingFunctionCall");var tP=oP,aP=class aP{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(l=>l.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(aP,"StreamCopilotAnnotations");var rP=aP,Gx=class Gx{constructor(t,r,n,s,l,a,f,c){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=l;this.dropCompletionReasons=a;this.fastCancellation=f;this.cancellationToken=c;this.requestId=S9(this.response);this.stats=new nP(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,l,a){let f=await n.body();f.setEncoding("utf8");let c=t.get($a).fastCancellation(s);return new Gx(t,r,n,f,s,l!=null?l:["content_filter"],c,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),Mf.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Mf.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,l,a,f;let r="";e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Mf.debug(this.ctx,"chunk",c.toString());let[u,d]=e0e(r+c.toString());r=d;for(let h of u){let p=h.slice(5).trim();if(p=="[DONE]"){yield*this.finishSolutions();return}let g;try{g=JSON.parse(p)}catch{Mf.error(this.ctx,"Error parsing JSON stream data",h);continue}if(g.choices===void 0){g.error!==void 0?Mf.error(this.ctx,"Error in response:",g.error.message):Mf.error(this.ctx,"Unexpected response with no choices or error: "+p);continue}if(this.requestId.created==0&&(this.requestId=S9(this.response,g),this.requestId.created===0&&((n=g.choices)!=null&&n.length)&&Mf.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let y=0;y<g.choices.length;y++){let _=g.choices[y];Mf.debug(this.ctx,"choice",_),this.stats.add(_.index),_.index in this.solutions||(this.solutions[_.index]=new eP);let S=this.solutions[_.index];if(S==null)continue;S.append(_);let w,P=((s=_.text)==null?void 0:s.indexOf(`
`))>-1||((a=(l=_.delta)==null?void 0:l.content)==null?void 0:a.indexOf(`
`))>-1;if((_.finish_reason||P)&&(w=await t(S.text.join(""),S.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(_.finish_reason||w!==void 0))continue;let L=(f=_.finish_reason)!=null?f:"client-trimmed";if(mi(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:L})),this.dropCompletionReasons.includes(_.finish_reason)?this.solutions[_.index]=null:(this.stats.markYielded(_.index),yield{solution:S,finishOffset:w,reason:_.finish_reason,requestId:this.requestId,index:_.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[_.index]=null}}}for(let[c,u]of Object.entries(this.solutions)){let d=Number(c);if(u!=null&&(this.stats.markYielded(d),yield{solution:u,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:d},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&Mf.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{Mf.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(Mf.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(Gx,"SSEProcessor");var zx=Gx;function Nj(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(Mf.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),Mf.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Mf.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let l=t0e(t.solution);return Pj(e,n,l,t.index,t.requestId,s,r)}o(Nj,"prepareSolutionForReturn");function t0e(e){let t=e.text.join(""),r=r0e(e),n={text:t,tokens:e.text,function_call:r};if(e.logprobs.length===0)return n;let s=e.logprobs.reduce((c,u)=>c.concat(u),[]),l=e.top_logprobs.reduce((c,u)=>c.concat(u),[]),a=e.text_offset.reduce((c,u)=>c.concat(u),[]),f=e.tokens.reduce((c,u)=>c.concat(u),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:l,text_offset:a,tokens:f}}}o(t0e,"convertToAPIJsonData");function r0e(e){if(e.function_call.name){let t=e.function_call.arguments.length>0?JSON.parse(e.function_call.arguments.join("")):[];return{name:e.function_call.name,arguments:t}}}o(r0e,"extractFunctionCall");var lP=class lP{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new iP)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(lP,"ChunkStats");var nP=lP,fP=class fP{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(fP,"ChoiceStats");var iP=fP;var oc=new ci(3,"fetchCompletions");function S9(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(S9,"getRequestId");function n0e(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(n0e,"getProcessingTime");function cP(e,t){let r=t.split("/").pop();return r||(oc.error(e,"Malformed engine URL: "+t),t)}o(cP,"extractEngineName");function i0e(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(i0e,"uiKindToIntent");var uP=class uP{};o(uP,"OpenAIFetcher");var x4=uP;function s0e(e,t,r,n,s,l,a,f,c,u,d){var S;let h=e.get(_d),p=Dj.format("%s/%s",r,n);if(!a){oc.error(e,`Failed to send request to ${p} due to missing key`);return}let g=cs.createAndMarkAsIssued({endpoint:n,engineName:cP(e,r),uiKind:f},vA(t));u&&(g=g.extendedBy(u));for(let[w,P]of Object.entries(l))w=="prompt"||w=="suffix"||(g.properties[`request.option.${w}`]=(S=JSON.stringify(P))!=null?S:"undefined");g.properties.headerRequestId=s,mi(e,"request.sent",g);let y=xd(),_=i0e(f);return SI(e,p,a,_,s,l,c,d).then(w=>{let P=S9(w,void 0);g.extendWithRequestId(P);let D=xd()-y;return g.measurements.totalTimeMs=D,oc.info(e,`request.response: [${p}] took ${D} ms`),oc.debug(e,"request.response properties",g.properties),oc.debug(e,"request.response measurements",g.measurements),oc.debug(e,"prompt:",t),mi(e,"request.response",g),w}).catch(w=>{var L,k,B,ne;if(EI(w))throw w;h.setWarning(w.message);let P=g.extendedBy({error:"Network exception"});mi(e,"request.shownWarning",P),g.properties.message=String((L=w.name)!=null?L:""),g.properties.code=String((k=w.code)!=null?k:""),g.properties.errno=String((B=w.errno)!=null?B:""),g.properties.type=String((ne=w.type)!=null?ne:"");let D=xd()-y;throw g.measurements.totalTimeMs=D,oc.debug(e,`request.response: [${p}] took ${D} ms`),oc.debug(e,"request.error properties",g.properties),oc.debug(e,"request.error measurements",g.measurements),mi(e,"request.error",g),w}).finally(()=>{Gq(e,t,g)})}o(s0e,"fetchWithInstrumentation");function o0e(e,t){return t!=null&&t?e:cj(e,async r=>r.completionText.trim().length>0)}o(o0e,"postProcessChoices");var dP=class dP extends x4{async fetchAndStreamCompletions(t,r,n,s,l,a){let f=t.get(_d),c="completions",u=await this.fetchWithParameters(t,c,r,n,l,a);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(l!=null&&l.isCancellationRequested){let y=await u.body();try{y.destroy()}catch(_){oc.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u===void 0){let y=this.createTelemetryData(c,t,r);return f.setWarning(),y.properties.error="Response was undefined",mi(t,"request.shownWarning",y),{type:"failed",reason:"fetch response was undefined"}}if(u.status!==200){let y=this.createTelemetryData(c,t,r);return this.handleError(t,f,y,u)}let d=t.get($a).dropCompletionReasons(n),p=(await zx.create(t,r.count,u,n,d,l)).processSSE(s),g=fj(p,async y=>Nj(t,y,n));return{type:"success",choices:o0e(g,r.allowEmptyChoices),getProcessingTime:()=>n0e(u)}}createTelemetryData(t,r,n){return cs.createAndMarkAsIssued({endpoint:t,engineName:cP(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,l,a){let f=t.get($a).disableLogProb(s),c={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:QA(t),temperature:ZA(t,n.count),top_p:kj(t),n:n.count,stop:Rj(t,n.languageId)};(n.requestLogProbs||!f)&&(c.logprobs=2);let u=JA(n.repoInfo);return u!==void 0&&(c.nwo=u),n.postOptions&&Object.assign(c,n.postOptions),await new Promise((h,p)=>{setImmediate(h)}),l!=null&&l.isCancellationRequested?"not-sent":await s0e(t,n.prompt,n.engineUrl,r,n.ourRequestId,c,(await t.get(mf).getCopilotToken(t)).token,n.uiKind,l,a,n.headers)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),mi(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(mf).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return oc.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let l=await s.text();return s.status===466?(r.setError(l),oc.info(t,l),{type:"failed",reason:`client not supported: ${l}`}):(oc.error(t,"Unhandled status from server:",s.status,l),{type:"failed",reason:`unhandled status from server: ${s.status} ${l}`})}};o(dP,"LiveOpenAIFetcher");var w9=dP;var I9=class I9{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(I9.isIncremental(n)){let s=Bj(n.range),l=this.offsetAt(s.start),a=this.offsetAt(s.end);this._content=this._content.substring(0,l)+n.text+this._content.substring(a,this._content.length);let f=Math.max(s.start.line,0),c=Math.max(s.end.line,0),u=this._lineOffsets,d=Lj(n.text,!1,l);if(c-f===d.length)for(let p=0,g=d.length;p<g;p++)u[p+f+1]=d[p];else d.length<1e4?u.splice(f+1,c-f,...d):this._lineOffsets=u=u.slice(0,f+1).concat(d,u.slice(c+1));let h=n.text.length-(a-l);if(h!==0)for(let p=f+1+d.length,g=u.length;p<g;p++)u[p]=u[p]+h}else if(I9.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Lj(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return{line:l,character:t-r[l]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(I9,"FullTextDocument");var Kx=I9,hP;(function(e){function t(s,l,a,f){return new Kx(s,l,a,f)}o(t,"create"),e.create=t;function r(s,l,a){if(s instanceof Kx)return s.update(l,a),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,l){let a=s.getText(),f=gP(l.map(a0e),(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),c=0,u=[];for(let d of f){let h=s.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&u.push(a.substring(c,h)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(hP||(hP={}));function gP(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);gP(n,t),gP(s,t);let l=0,a=0,f=0;for(;l<n.length&&a<s.length;)t(n[l],s[a])<=0?e[f++]=n[l++]:e[f++]=s[a++];for(;l<n.length;)e[f++]=n[l++];for(;a<s.length;)e[f++]=s[a++];return e}o(gP,"mergeSort");function Lj(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let l=e.charCodeAt(s);(l===13||l===10)&&(l===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(Lj,"computeLineOffsets");function Bj(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(Bj,"getWellformedRange");function a0e(e){let t=Bj(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(a0e,"getWellformedEdit");var Oj;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(Oj||(Oj={}));var mP;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(mP||(mP={}));var Fj;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Fj||(Fj={}));var Wx;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Wx||(Wx={}));var Oc;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=Wx.MAX_VALUE),s===Number.MAX_VALUE&&(s=Wx.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Xt.uinteger(s.line)&&Xt.uinteger(s.character)}o(r,"is"),e.is=r})(Oc||(Oc={}));var Ea;(function(e){function t(n,s,l,a){if(Xt.uinteger(n)&&Xt.uinteger(s)&&Xt.uinteger(l)&&Xt.uinteger(a))return{start:Oc.create(n,s),end:Oc.create(l,a)};if(Oc.is(n)&&Oc.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${l}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Oc.is(s.start)&&Oc.is(s.end)}o(r,"is"),e.is=r})(Ea||(Ea={}));var Yx;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Ea.is(s.range)&&(Xt.string(s.uri)||Xt.undefined(s.uri))}o(r,"is"),e.is=r})(Yx||(Yx={}));var Mj;(function(e){function t(n,s,l,a){return{targetUri:n,targetRange:s,targetSelectionRange:l,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Ea.is(s.targetRange)&&Xt.string(s.targetUri)&&Ea.is(s.targetSelectionRange)&&(Ea.is(s.originSelectionRange)||Xt.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})(Mj||(Mj={}));var pP;(function(e){function t(n,s,l,a){return{red:n,green:s,blue:l,alpha:a}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Xt.numberRange(s.red,0,1)&&Xt.numberRange(s.green,0,1)&&Xt.numberRange(s.blue,0,1)&&Xt.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(pP||(pP={}));var Uj;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Ea.is(s.range)&&pP.is(s.color)}o(r,"is"),e.is=r})(Uj||(Uj={}));var qj;(function(e){function t(n,s,l){return{label:n,textEdit:s,additionalTextEdits:l}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Xt.string(s.label)&&(Xt.undefined(s.textEdit)||u6.is(s))&&(Xt.undefined(s.additionalTextEdits)||Xt.typedArray(s.additionalTextEdits,u6.is))}o(r,"is"),e.is=r})(qj||(qj={}));var jj;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(jj||(jj={}));var $j;(function(e){function t(n,s,l,a,f,c){let u={startLine:n,endLine:s};return Xt.defined(l)&&(u.startCharacter=l),Xt.defined(a)&&(u.endCharacter=a),Xt.defined(f)&&(u.kind=f),Xt.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Xt.uinteger(s.startLine)&&Xt.uinteger(s.startLine)&&(Xt.undefined(s.startCharacter)||Xt.uinteger(s.startCharacter))&&(Xt.undefined(s.endCharacter)||Xt.uinteger(s.endCharacter))&&(Xt.undefined(s.kind)||Xt.string(s.kind))}o(r,"is"),e.is=r})($j||($j={}));var yP;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Yx.is(s.location)&&Xt.string(s.message)}o(r,"is"),e.is=r})(yP||(yP={}));var Hj;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Hj||(Hj={}));var Vj;(function(e){e.Unnecessary=1,e.Deprecated=2})(Vj||(Vj={}));var zj;(function(e){function t(r){let n=r;return Xt.objectLiteral(n)&&Xt.string(n.href)}o(t,"is"),e.is=t})(zj||(zj={}));var Jx;(function(e){function t(n,s,l,a,f,c){let u={range:n,message:s};return Xt.defined(l)&&(u.severity=l),Xt.defined(a)&&(u.code=a),Xt.defined(f)&&(u.source=f),Xt.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var s;let l=n;return Xt.defined(l)&&Ea.is(l.range)&&Xt.string(l.message)&&(Xt.number(l.severity)||Xt.undefined(l.severity))&&(Xt.integer(l.code)||Xt.string(l.code)||Xt.undefined(l.code))&&(Xt.undefined(l.codeDescription)||Xt.string((s=l.codeDescription)===null||s===void 0?void 0:s.href))&&(Xt.string(l.source)||Xt.undefined(l.source))&&(Xt.undefined(l.relatedInformation)||Xt.typedArray(l.relatedInformation,yP.is))}o(r,"is"),e.is=r})(Jx||(Jx={}));var c6;(function(e){function t(n,s,...l){let a={title:n,command:s};return Xt.defined(l)&&l.length>0&&(a.arguments=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.string(s.title)&&Xt.string(s.command)}o(r,"is"),e.is=r})(c6||(c6={}));var u6;(function(e){function t(l,a){return{range:l,newText:a}}o(t,"replace"),e.replace=t;function r(l,a){return{range:{start:l,end:l},newText:a}}o(r,"insert"),e.insert=r;function n(l){return{range:l,newText:""}}o(n,"del"),e.del=n;function s(l){let a=l;return Xt.objectLiteral(a)&&Xt.string(a.newText)&&Ea.is(a.range)}o(s,"is"),e.is=s})(u6||(u6={}));var vP;(function(e){function t(n,s,l){let a={label:n};return s!==void 0&&(a.needsConfirmation=s),l!==void 0&&(a.description=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Xt.string(s.label)&&(Xt.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(Xt.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(vP||(vP={}));var d6;(function(e){function t(r){let n=r;return Xt.string(n)}o(t,"is"),e.is=t})(d6||(d6={}));var Gj;(function(e){function t(l,a,f){return{range:l,newText:a,annotationId:f}}o(t,"replace"),e.replace=t;function r(l,a,f){return{range:{start:l,end:l},newText:a,annotationId:f}}o(r,"insert"),e.insert=r;function n(l,a){return{range:l,newText:"",annotationId:a}}o(n,"del"),e.del=n;function s(l){let a=l;return u6.is(a)&&(vP.is(a.annotationId)||d6.is(a.annotationId))}o(s,"is"),e.is=s})(Gj||(Gj={}));var xP;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&TP.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(xP||(xP={}));var _P;(function(e){function t(n,s,l){let a={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&Xt.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||Xt.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||Xt.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||d6.is(s.annotationId))}o(r,"is"),e.is=r})(_P||(_P={}));var bP;(function(e){function t(n,s,l,a){let f={kind:"rename",oldUri:n,newUri:s};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(f.options=l),a!==void 0&&(f.annotationId=a),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&Xt.string(s.oldUri)&&Xt.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||Xt.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||Xt.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||d6.is(s.annotationId))}o(r,"is"),e.is=r})(bP||(bP={}));var CP;(function(e){function t(n,s,l){let a={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&Xt.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||Xt.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||Xt.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||d6.is(s.annotationId))}o(r,"is"),e.is=r})(CP||(CP={}));var EP;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>Xt.string(s.kind)?_P.is(s)||bP.is(s)||CP.is(s):xP.is(s)))}o(t,"is"),e.is=t})(EP||(EP={}));var Kj;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.string(s.uri)}o(r,"is"),e.is=r})(Kj||(Kj={}));var Wj;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.string(s.uri)&&Xt.integer(s.version)}o(r,"is"),e.is=r})(Wj||(Wj={}));var TP;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.string(s.uri)&&(s.version===null||Xt.integer(s.version))}o(r,"is"),e.is=r})(TP||(TP={}));var Yj;(function(e){function t(n,s,l,a){return{uri:n,languageId:s,version:l,text:a}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.string(s.uri)&&Xt.string(s.languageId)&&Xt.integer(s.version)&&Xt.string(s.text)}o(r,"is"),e.is=r})(Yj||(Yj={}));var SP;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(SP||(SP={}));var A9;(function(e){function t(r){let n=r;return Xt.objectLiteral(r)&&SP.is(n.kind)&&Xt.string(n.value)}o(t,"is"),e.is=t})(A9||(A9={}));var Jj;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Jj||(Jj={}));var Xj;(function(e){e.PlainText=1,e.Snippet=2})(Xj||(Xj={}));var Zj;(function(e){e.Deprecated=1})(Zj||(Zj={}));var Qj;(function(e){function t(n,s,l){return{newText:n,insert:s,replace:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Xt.string(s.newText)&&Ea.is(s.insert)&&Ea.is(s.replace)}o(r,"is"),e.is=r})(Qj||(Qj={}));var e$;(function(e){e.asIs=1,e.adjustIndentation=2})(e$||(e$={}));var t$;(function(e){function t(r){let n=r;return n&&(Xt.string(n.detail)||n.detail===void 0)&&(Xt.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(t$||(t$={}));var r$;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(r$||(r$={}));var n$;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(n$||(n$={}));var Xx;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return Xt.string(s)||Xt.objectLiteral(s)&&Xt.string(s.language)&&Xt.string(s.value)}o(r,"is"),e.is=r})(Xx||(Xx={}));var i$;(function(e){function t(r){let n=r;return!!n&&Xt.objectLiteral(n)&&(A9.is(n.contents)||Xx.is(n.contents)||Xt.typedArray(n.contents,Xx.is))&&(r.range===void 0||Ea.is(r.range))}o(t,"is"),e.is=t})(i$||(i$={}));var s$;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(s$||(s$={}));var o$;(function(e){function t(r,n,...s){let l={label:r};return Xt.defined(n)&&(l.documentation=n),Xt.defined(s)?l.parameters=s:l.parameters=[],l}o(t,"create"),e.create=t})(o$||(o$={}));var a$;(function(e){e.Text=1,e.Read=2,e.Write=3})(a$||(a$={}));var l$;(function(e){function t(r,n){let s={range:r};return Xt.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})(l$||(l$={}));var f$;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(f$||(f$={}));var c$;(function(e){e.Deprecated=1})(c$||(c$={}));var u$;(function(e){function t(r,n,s,l,a){let f={name:r,kind:n,location:{uri:l,range:s}};return a&&(f.containerName=a),f}o(t,"create"),e.create=t})(u$||(u$={}));var d$;(function(e){function t(r,n,s,l){return l!==void 0?{name:r,kind:n,location:{uri:s,range:l}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(d$||(d$={}));var h$;(function(e){function t(n,s,l,a,f,c){let u={name:n,detail:s,kind:l,range:a,selectionRange:f};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Xt.string(s.name)&&Xt.number(s.kind)&&Ea.is(s.range)&&Ea.is(s.selectionRange)&&(s.detail===void 0||Xt.string(s.detail))&&(s.deprecated===void 0||Xt.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(h$||(h$={}));var g$;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(g$||(g$={}));var Zx;(function(e){e.Invoked=1,e.Automatic=2})(Zx||(Zx={}));var m$;(function(e){function t(n,s,l){let a={diagnostics:n};return s!=null&&(a.only=s),l!=null&&(a.triggerKind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.typedArray(s.diagnostics,Jx.is)&&(s.only===void 0||Xt.typedArray(s.only,Xt.string))&&(s.triggerKind===void 0||s.triggerKind===Zx.Invoked||s.triggerKind===Zx.Automatic)}o(r,"is"),e.is=r})(m$||(m$={}));var p$;(function(e){function t(n,s,l){let a={title:n},f=!0;return typeof s=="string"?(f=!1,a.kind=s):c6.is(s)?a.command=s:a.edit=s,f&&l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Xt.string(s.title)&&(s.diagnostics===void 0||Xt.typedArray(s.diagnostics,Jx.is))&&(s.kind===void 0||Xt.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||c6.is(s.command))&&(s.isPreferred===void 0||Xt.boolean(s.isPreferred))&&(s.edit===void 0||EP.is(s.edit))}o(r,"is"),e.is=r})(p$||(p$={}));var y$;(function(e){function t(n,s){let l={range:n};return Xt.defined(s)&&(l.data=s),l}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Ea.is(s.range)&&(Xt.undefined(s.command)||c6.is(s.command))}o(r,"is"),e.is=r})(y$||(y$={}));var v$;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Xt.uinteger(s.tabSize)&&Xt.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(v$||(v$={}));var x$;(function(e){function t(n,s,l){return{range:n,target:s,data:l}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Ea.is(s.range)&&(Xt.undefined(s.target)||Xt.string(s.target))}o(r,"is"),e.is=r})(x$||(x$={}));var _$;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Ea.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(_$||(_$={}));var b$;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(b$||(b$={}));var C$;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(C$||(C$={}));var E$;(function(e){function t(r){let n=r;return Xt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(E$||(E$={}));var T$;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ea.is(s.range)&&Xt.string(s.text)}o(r,"is"),e.is=r})(T$||(T$={}));var S$;(function(e){function t(n,s,l){return{range:n,variableName:s,caseSensitiveLookup:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ea.is(s.range)&&Xt.boolean(s.caseSensitiveLookup)&&(Xt.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(S$||(S$={}));var w$;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ea.is(s.range)&&(Xt.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(w$||(w$={}));var I$;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.defined(s)&&Ea.is(n.stoppedLocation)}o(r,"is"),e.is=r})(I$||(I$={}));var wP;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(wP||(wP={}));var IP;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&(s.tooltip===void 0||Xt.string(s.tooltip)||A9.is(s.tooltip))&&(s.location===void 0||Yx.is(s.location))&&(s.command===void 0||c6.is(s.command))}o(r,"is"),e.is=r})(IP||(IP={}));var A$;(function(e){function t(n,s,l){let a={position:n,label:s};return l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return Xt.objectLiteral(s)&&Oc.is(s.position)&&(Xt.string(s.label)||Xt.typedArray(s.label,IP.is))&&(s.kind===void 0||wP.is(s.kind))&&s.textEdits===void 0||Xt.typedArray(s.textEdits,u6.is)&&(s.tooltip===void 0||Xt.string(s.tooltip)||A9.is(s.tooltip))&&(s.paddingLeft===void 0||Xt.boolean(s.paddingLeft))&&(s.paddingRight===void 0||Xt.boolean(s.paddingRight))}o(r,"is"),e.is=r})(A$||(A$={}));var P$;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(P$||(P$={}));var R$;(function(e){function t(r,n,s,l){return{insertText:r,filterText:n,range:s,command:l}}o(t,"create"),e.create=t})(R$||(R$={}));var k$;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(k$||(k$={}));var N$;(function(e){e.Invoked=0,e.Automatic=1})(N$||(N$={}));var D$;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(D$||(D$={}));var L$;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(L$||(L$={}));var B$;(function(e){function t(r){let n=r;return Xt.objectLiteral(n)&&mP.is(n.uri)&&Xt.string(n.name)}o(t,"is"),e.is=t})(B$||(B$={}));var O$;(function(e){function t(l,a,f,c){return new AP(l,a,f,c)}o(t,"create"),e.create=t;function r(l){let a=l;return!!(Xt.defined(a)&&Xt.string(a.uri)&&(Xt.undefined(a.languageId)||Xt.string(a.languageId))&&Xt.uinteger(a.lineCount)&&Xt.func(a.getText)&&Xt.func(a.positionAt)&&Xt.func(a.offsetAt))}o(r,"is"),e.is=r;function n(l,a){let f=l.getText(),c=s(a,(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),u=f.length;for(let d=c.length-1;d>=0;d--){let h=c[d],p=l.offsetAt(h.range.start),g=l.offsetAt(h.range.end);if(g<=u)f=f.substring(0,p)+h.newText+f.substring(g,f.length);else throw new Error("Overlapping edit");u=p}return f}o(n,"applyEdits"),e.applyEdits=n;function s(l,a){if(l.length<=1)return l;let f=l.length/2|0,c=l.slice(0,f),u=l.slice(f);s(c,a),s(u,a);let d=0,h=0,p=0;for(;d<c.length&&h<u.length;)a(c[d],u[h])<=0?l[p++]=c[d++]:l[p++]=u[h++];for(;d<c.length;)l[p++]=c[d++];for(;h<u.length;)l[p++]=u[h++];return l}o(s,"mergeSort")})(O$||(O$={}));var PP=class PP{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let l=r.charAt(s);n=l==="\r"||l===`
`,l==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return Oc.create(0,t);for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return Oc.create(l,t-r[l])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(PP,"FullTextDocument");var AP=PP,Xt;(function(e){let t=Object.prototype.toString;function r(g){return typeof g<"u"}o(r,"defined"),e.defined=r;function n(g){return typeof g>"u"}o(n,"undefined"),e.undefined=n;function s(g){return g===!0||g===!1}o(s,"boolean"),e.boolean=s;function l(g){return t.call(g)==="[object String]"}o(l,"string"),e.string=l;function a(g){return t.call(g)==="[object Number]"}o(a,"number"),e.number=a;function f(g,y,_){return t.call(g)==="[object Number]"&&y<=g&&g<=_}o(f,"numberRange"),e.numberRange=f;function c(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}o(c,"integer"),e.integer=c;function u(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}o(u,"uinteger"),e.uinteger=u;function d(g){return t.call(g)==="[object Function]"}o(d,"func"),e.func=d;function h(g){return g!==null&&typeof g=="object"}o(h,"objectLiteral"),e.objectLiteral=h;function p(g,y){return Array.isArray(g)&&g.every(y)}o(p,"typedArray"),e.typedArray=p})(Xt||(Xt={}));var bd=Qn(ud());var l0e=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],f0e=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],the=[...l0e,...f0e];var u0e=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),lhe=new RegExp(`^(${u0e.join("|")})`);var Pd=Qn(ud());function h0e(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(h0e,"isDocumentTooLarge");async function RP(e,t){var n;if(h0e(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(P9).evaluate(t.vscodeUri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(RP,"isDocumentValid");var g0e=require("path"),kP=class kP{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getOpenTextDocuments(),r=[];for(let n of t)(await RP(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getOpenTextDocuments()).find(s=>s.vscodeUri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):RP(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.vscodeUri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.vscodeUri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return g0e.basename(t.vscodeUri.fsPath)}}};o(kP,"TextDocumentManager");var ac=kP;var M$="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var _4={isBlocked:!1,reason:"VALID_FILE"},Cd={isBlocked:!1,reason:"NO_MATCHING_POLICY"},R9={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var NP=class NP{};o(NP,"PolicyEvaluator");var h6=NP;var Qa=Qn(Rf());var Qx=new WeakMap;function e_(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,l=Object.prototype.toString.call(e);if(l!=="[object RegExp]"&&l!=="[object Date]"&&Qx.has(e))return Qx.get(e);switch(Qx.set(e,"~"+ ++t),l){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=e_(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+e_(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+e_(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return Qx.set(e,n),n}o(e_,"t");function t_(e){return e_(e,0)}o(t_,"r");var DP=new WeakMap;function U$(e,t,r=t_(t)){let n,s,l=DP.get(e);l||(DP.set(e,l=[[],s=[],n=[]]),queueMicrotask(function(){let u,d=0;function h(p){for(;u=n[d++];u.r(p));}o(h,"o"),DP.delete(e),e(s).then(function(p){if(p.length!==n.length)return h(new Error("loader value length mismatch"));for(;u=p[d++],d<=p.length;u instanceof Error?n[d-1].r(u):n[d-1].s(u));},h)}));let a=l[0].indexOf(r);if(~a)return l[2][a].p;let f=l[0].push(r)-1,c=l[2][f]={};return l[1][f]=t,c.p=new Promise(function(u,d){c.s=u,c.r=d})}o(U$,"n");var q$=new WeakMap;function m0e(e,t,r,n=t_(r)){if(t||(t=q$.get(e)),t||q$.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=U$(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(m0e,"n");function r_(e,t){return function(r,n){return m0e(e,t,r,n)}}o(r_,"o");var fH=Qn(Q$(),1);var N9=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var E0e={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},D9=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),T0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),eH=o(e=>e.join(""),"rangesToString"),tH=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],l=r+1,a=!1,f=!1,c=!1,u=!1,d=r,h="";e:for(;l<e.length;){let _=e.charAt(l);if((_==="!"||_==="^")&&l===r+1){u=!0,l++;continue}if(_==="]"&&a&&!c){d=l+1;break}if(a=!0,_==="\\"&&!c){c=!0,l++;continue}if(_==="["&&!c){for(let[S,[w,P,D]]of Object.entries(E0e))if(e.startsWith(S,l)){if(h)return["$.",!1,e.length-r,!0];l+=S.length,D?s.push(w):n.push(w),f=f||P;continue e}}if(c=!1,h){_>h?n.push(D9(h)+"-"+D9(_)):_===h&&n.push(D9(_)),h="",l++;continue}if(e.startsWith("-]",l+1)){n.push(D9(_+"-")),l+=2;continue}if(e.startsWith("-",l+1)){h=_,l+=2;continue}n.push(D9(_)),l++}if(d<l)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let _=n[0].length===2?n[0].slice(-1):n[0];return[T0e(_),!1,d-r,!1]}let p="["+(u?"^":"")+eH(n)+"]",g="["+(u?"":"^")+eH(s)+"]";return[n.length&&s.length?"("+p+"|"+g+")":n.length?p:g,f,d-r,!0]},"parseClass");var e3=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var S0e=new Set(["!","?","+","*","@"]),rH=o(e=>S0e.has(e),"isExtglobType"),w0e="(?!(?:^|/)\\.\\.?(?:$|/))",n_="(?!\\.)",I0e=new Set(["[","."]),A0e=new Set(["..","."]),P0e=new Set("().*{}+?[]^$\\!"),R0e=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),FP="[^/]",nH=FP+"*?",iH=FP+"+?",Za,ul,Ed,go,Ha,t3,b4,r3,Td,C4,L9,s_,sH,g6,i_,B9,OP,o_,oH,Ll=class Ll{constructor(t,r,n={}){gi(this,s_);gi(this,B9);Fa(this,"type");gi(this,Za,void 0);gi(this,ul,void 0);gi(this,Ed,!1);gi(this,go,[]);gi(this,Ha,void 0);gi(this,t3,void 0);gi(this,b4,void 0);gi(this,r3,!1);gi(this,Td,void 0);gi(this,C4,void 0);gi(this,L9,!1);this.type=t,t&&ti(this,ul,!0),ti(this,Ha,r),ti(this,Za,f0(this,Ha)?f0(f0(this,Ha),Za):this),ti(this,Td,f0(this,Za)===this?n:f0(f0(this,Za),Td)),ti(this,b4,f0(this,Za)===this?[]:f0(f0(this,Za),b4)),t==="!"&&!f0(f0(this,Za),r3)&&f0(this,b4).push(this),ti(this,t3,f0(this,Ha)?f0(f0(this,Ha),go).length:0)}get hasMagic(){if(f0(this,ul)!==void 0)return f0(this,ul);for(let t of f0(this,go))if(typeof t!="string"&&(t.type||t.hasMagic))return ti(this,ul,!0);return f0(this,ul)}toString(){return f0(this,C4)!==void 0?f0(this,C4):this.type?ti(this,C4,this.type+"("+f0(this,go).map(t=>String(t)).join("|")+")"):ti(this,C4,f0(this,go).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Ll&&f0(r,Ha)===this))throw new Error("invalid part: "+r);f0(this,go).push(r)}}toJSON(){var r;let t=this.type===null?f0(this,go).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...f0(this,go).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===f0(this,Za)||f0(f0(this,Za),r3)&&((r=f0(this,Ha))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(f0(this,Za)===this)return!0;if(!((r=f0(this,Ha))!=null&&r.isStart()))return!1;if(f0(this,t3)===0)return!0;let t=f0(this,Ha);for(let n=0;n<f0(this,t3);n++){let s=f0(t,go)[n];if(!(s instanceof Ll&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(f0(this,Za)===this||((r=f0(this,Ha))==null?void 0:r.type)==="!")return!0;if(!((n=f0(this,Ha))!=null&&n.isEnd()))return!1;if(!this.type)return(s=f0(this,Ha))==null?void 0:s.isEnd();let t=f0(this,Ha)?f0(f0(this,Ha),go).length:0;return f0(this,t3)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Ll(this.type,t);for(let n of f0(this,go))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new Ll(null,void 0,r);return cf(s=Ll,g6,i_).call(s,t,n,0,r),n}toMMPattern(){if(this!==f0(this,Za))return f0(this,Za).toMMPattern();let t=this.toString(),[r,n,s,l]=this.toRegExpSource();if(!(s||f0(this,ul)||f0(this,Td).nocase&&!f0(this,Td).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let f=(f0(this,Td).nocase?"i":"")+(l?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:t})}toRegExpSource(t){var c;let r=t!=null?t:!!f0(this,Td).dot;if(f0(this,Za)===this&&cf(this,s_,sH).call(this),!this.type){let u=this.isStart()&&this.isEnd(),d=f0(this,go).map(y=>{var D;let[_,S,w,P]=typeof y=="string"?cf(D=Ll,o_,oH).call(D,y,f0(this,ul),u):y.toRegExpSource(t);return ti(this,ul,f0(this,ul)||w),ti(this,Ed,f0(this,Ed)||P),_}).join(""),h="";if(this.isStart()&&typeof f0(this,go)[0]=="string"&&!(f0(this,go).length===1&&A0e.has(f0(this,go)[0]))){let _=I0e,S=r&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),w=!r&&!t&&_.has(d.charAt(0));h=S?w0e:w?n_:""}let p="";return this.isEnd()&&f0(f0(this,Za),r3)&&((c=f0(this,Ha))==null?void 0:c.type)==="!"&&(p="(?:$|\\/)"),[h+d+p,e3(d),ti(this,ul,!!f0(this,ul)),f0(this,Ed)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",l=cf(this,B9,OP).call(this,r);if(this.isStart()&&this.isEnd()&&!l&&this.type!=="!"){let u=this.toString();return ti(this,go,[u]),this.type=null,ti(this,ul,void 0),[u,e3(this.toString()),!1,!1]}let a=!n||t||r||!n_?"":cf(this,B9,OP).call(this,!0);a===l&&(a=""),a&&(l=`(?:${l})(?:${a})*?`);let f="";if(this.type==="!"&&f0(this,L9))f=(this.isStart()&&!r?n_:"")+iH;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?n_:"")+nH+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;f=s+l+u}return[f,e3(l),ti(this,ul,!!f0(this,ul)),f0(this,Ed)]}};Za=new WeakMap,ul=new WeakMap,Ed=new WeakMap,go=new WeakMap,Ha=new WeakMap,t3=new WeakMap,b4=new WeakMap,r3=new WeakMap,Td=new WeakMap,C4=new WeakMap,L9=new WeakMap,s_=new WeakSet,sH=o(function(){if(this!==f0(this,Za))throw new Error("should only call on root");if(f0(this,r3))return this;this.toString(),ti(this,r3,!0);let t;for(;t=f0(this,b4).pop();){if(t.type!=="!")continue;let r=t,n=f0(r,Ha);for(;n;){for(let s=f0(r,t3)+1;!n.type&&s<f0(n,go).length;s++)for(let l of f0(t,go)){if(typeof l=="string")throw new Error("string part in extglob AST??");l.copyIn(f0(n,go)[s])}r=n,n=f0(r,Ha)}}return this},"#fillNegs"),g6=new WeakSet,i_=o(function(t,r,n,s){var g,y;let l=!1,a=!1,f=-1,c=!1;if(r.type===null){let _=n,S="";for(;_<t.length;){let w=t.charAt(_++);if(l||w==="\\"){l=!l,S+=w;continue}if(a){_===f+1?(w==="^"||w==="!")&&(c=!0):w==="]"&&!(_===f+2&&c)&&(a=!1),S+=w;continue}else if(w==="["){a=!0,f=_,c=!1,S+=w;continue}if(!s.noext&&rH(w)&&t.charAt(_)==="("){r.push(S),S="";let P=new Ll(w,r);_=cf(g=Ll,g6,i_).call(g,t,P,_,s),r.push(P);continue}S+=w}return r.push(S),_}let u=n+1,d=new Ll(null,r),h=[],p="";for(;u<t.length;){let _=t.charAt(u++);if(l||_==="\\"){l=!l,p+=_;continue}if(a){u===f+1?(_==="^"||_==="!")&&(c=!0):_==="]"&&!(u===f+2&&c)&&(a=!1),p+=_;continue}else if(_==="["){a=!0,f=u,c=!1,p+=_;continue}if(rH(_)&&t.charAt(u)==="("){d.push(p),p="";let S=new Ll(_,d);d.push(S),u=cf(y=Ll,g6,i_).call(y,t,S,u,s);continue}if(_==="|"){d.push(p),p="",h.push(d),d=new Ll(null,r);continue}if(_===")")return p===""&&f0(r,go).length===0&&ti(r,L9,!0),d.push(p),p="",r.push(...h,d),u;p+=_}return r.type=null,ti(r,ul,void 0),ti(r,go,[t.substring(n-1)]),u},"#parseAST"),B9=new WeakSet,OP=o(function(t){return f0(this,go).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,l,a]=r.toRegExpSource(t);return ti(this,Ed,f0(this,Ed)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),o_=new WeakSet,oH=o(function(t,r,n=!1){let s=!1,l="",a=!1;for(let f=0;f<t.length;f++){let c=t.charAt(f);if(s){s=!1,l+=(P0e.has(c)?"\\":"")+c;continue}if(c==="\\"){f===t.length-1?l+="\\\\":s=!0;continue}if(c==="["){let[u,d,h,p]=tH(t,f);if(h){l+=u,a=a||d,f+=h-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?l+=iH:l+=nH,r=!0;continue}if(c==="?"){l+=FP,r=!0;continue}l+=R0e(c)}return[l,e3(t),!!r,a]},"#parseGlob"),gi(Ll,g6),gi(Ll,o_),o(Ll,"AST");var m6=Ll;var MP=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var Bl=o((e,t,r={})=>(N9(t),!r.nocomment&&t.charAt(0)==="#"?!1:new p6(t,r).match(e)),"minimatch"),k0e=/^\*+([^+@!?\*\[\(]*)$/,N0e=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),D0e=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),L0e=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),B0e=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),O0e=/^\*+\.\*+$/,F0e=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),M0e=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),U0e=/^\.\*+$/,q0e=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),j0e=/^\*+$/,$0e=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),H0e=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),V0e=/^\?+([^+@!?\*\[\(]*)?$/,z0e=o(([e,t=""])=>{let r=cH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),G0e=o(([e,t=""])=>{let r=uH([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),K0e=o(([e,t=""])=>{let r=uH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),W0e=o(([e,t=""])=>{let r=cH([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),cH=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),uH=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),dH=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",aH={win32:{sep:"\\"},posix:{sep:"/"}},Y0e=dH==="win32"?aH.win32.sep:aH.posix.sep;Bl.sep=Y0e;var Mc=Symbol("globstar **");Bl.GLOBSTAR=Mc;var J0e="[^/]",X0e=J0e+"*?",Z0e="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Q0e="(?:(?!(?:\\/|^)\\.).)*?",ere=o((e,t={})=>r=>Bl(r,e,t),"filter");Bl.filter=ere;var Fc=o((e,t={})=>Object.assign({},e,t),"ext"),tre=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return Bl;let t=Bl;return Object.assign(o((l,a,f={})=>t(l,a,Fc(e,f)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,f={}){super(a,Fc(e,f))}static defaults(a){return t.defaults(Fc(e,a)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(a,f,c={}){super(a,f,Fc(e,c))}static fromGlob(a,f={}){return t.AST.fromGlob(a,Fc(e,f))}},o(s,"AST"),s),unescape:(l,a={})=>t.unescape(l,Fc(e,a)),escape:(l,a={})=>t.escape(l,Fc(e,a)),filter:(l,a={})=>t.filter(l,Fc(e,a)),defaults:l=>t.defaults(Fc(e,l)),makeRe:(l,a={})=>t.makeRe(l,Fc(e,a)),braceExpand:(l,a={})=>t.braceExpand(l,Fc(e,a)),match:(l,a,f={})=>t.match(l,a,Fc(e,f)),sep:t.sep,GLOBSTAR:Mc})},"defaults");Bl.defaults=tre;var hH=o((e,t={})=>(N9(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,fH.default)(e)),"braceExpand");Bl.braceExpand=hH;var rre=o((e,t={})=>new p6(e,t).makeRe(),"makeRe");Bl.makeRe=rre;var nre=o((e,t,r={})=>{let n=new p6(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");Bl.match=nre;var lH=/[?*]|[+@!]\(.*?\)|\[|\]/,ire=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),UP=class UP{constructor(t,r={}){Fa(this,"options");Fa(this,"set");Fa(this,"pattern");Fa(this,"windowsPathsNoEscape");Fa(this,"nonegate");Fa(this,"negate");Fa(this,"comment");Fa(this,"empty");Fa(this,"preserveMultipleSlashes");Fa(this,"partial");Fa(this,"globSet");Fa(this,"globParts");Fa(this,"nocase");Fa(this,"isWindows");Fa(this,"platform");Fa(this,"windowsNoMagicRoot");Fa(this,"regexp");N9(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||dH,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...l)=>console.error(...l)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(l=>this.slashSplit(l));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((l,a,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=l[0]===""&&l[1]===""&&(l[2]==="?"||!lH.test(l[2]))&&!lH.test(l[3]),u=/^[a-z]:/i.test(l[0]);if(c)return[...l.slice(0,4),...l.slice(4).map(d=>this.parse(d))];if(u)return[l[0],...l.slice(1).map(d=>this.parse(d))]}return l.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(l=>l.indexOf(!1)===-1),this.isWindows)for(let l=0;l<this.set.length;l++){let a=this.set[l];a[0]===""&&a[1]===""&&this.globParts[l][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let l=n[n.length-1];return s==="**"&&l==="**"?n:s===".."&&l&&l!==".."&&l!=="."&&l!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let l=t[s];s===1&&l===""&&t[0]===""||(l==="."||l==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let a=s;for(;n[a+1]==="**";)a++;a>s&&n.splice(s+1,a-s);let f=n[s+1],c=n[s+2],u=n[s+3];if(f!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let f=n[a];a===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let l=0;for(;(l=n.indexOf("..",l+1))!==-1;){let a=n[l-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=l===1&&n[l+1]==="**"?["."]:[];n.splice(l-1,2,...c),n.length===0&&n.push(""),l-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,l=0,a=[],f="";for(;s<t.length&&l<r.length;)if(t[s]===r[l])a.push(f==="b"?r[l]:t[s]),s++,l++;else if(n&&t[s]==="**"&&r[l]===t[s+1])a.push(t[s]),s++;else if(n&&r[l]==="**"&&t[s]===r[l+1])a.push(r[l]),l++;else if(t[s]==="*"&&r[l]&&(this.options.dot||!r[l].startsWith("."))&&r[l]!=="**"){if(f==="b")return!1;f="a",a.push(t[s]),s++,l++}else if(r[l]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(f==="a")return!1;f="b",a.push(r[l]),s++,l++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),S=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),w=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),P=!w&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),D=S?3:_?0:void 0,L=P?3:w?0:void 0;if(typeof D=="number"&&typeof L=="number"){let[k,B]=[t[D],r[L]];k.toLowerCase()===B.toLowerCase()&&(r[L]=k,L>D?r=r.slice(L):D>L&&(t=t.slice(D)))}}let{optimizationLevel:l=1}=this.options;l>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,c=t.length,u=r.length;a<c&&f<u;a++,f++){this.debug("matchOne loop");var d=r[f],h=t[a];if(this.debug(r,d,h),d===!1)return!1;if(d===Mc){this.debug("GLOBSTAR",[r,d,h]);var p=a,g=f+1;if(g===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var y=t[p];if(this.debug(`
globstar while`,t,p,r,g,y),this.matchOne(t.slice(p),r.slice(g),n))return this.debug("globstar found match!",p,c,y),!0;if(y==="."||y===".."||!s.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,p,r,g);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,g),p===c))}let _;if(typeof d=="string"?(_=h===d,this.debug("string match",d,h,_)):(_=d.test(h),this.debug("pattern match",d,h,_)),!_)return!1}if(a===c&&f===u)return!0;if(a===c)return n;if(f===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return hH(this.pattern,this.options)}parse(t){N9(t);let r=this.options;if(t==="**")return Mc;if(t==="")return"";let n,s=null;(n=t.match(j0e))?s=r.dot?H0e:$0e:(n=t.match(k0e))?s=(r.nocase?r.dot?B0e:L0e:r.dot?D0e:N0e)(n[1]):(n=t.match(V0e))?s=(r.nocase?r.dot?G0e:z0e:r.dot?K0e:W0e)(n):(n=t.match(O0e))?s=r.dot?M0e:F0e:(n=t.match(U0e))&&(s=q0e);let l=m6.fromGlob(t,this.options).toMMPattern();return s?Object.assign(l,{test:s}):l}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?X0e:r.dot?Z0e:Q0e,s=new Set(r.nocase?["i"]:[]),l=t.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))s.add(h);return typeof d=="string"?ire(d):d===Mc?Mc:d._src});return u.forEach((d,h)=>{let p=u[h+1],g=u[h-1];d!==Mc||g===Mc||(g===void 0?p!==void 0&&p!==Mc?u[h+1]="(?:\\/|"+n+"\\/)?"+p:u[h]=n:p===void 0?u[h-1]=g+"(?:\\/|"+n+")?":p!==Mc&&(u[h-1]=g+"(?:\\/|\\/"+n+"\\/)"+p,u[h+1]=Mc))}),u.filter(d=>d!==Mc).join("/")}).join("|"),[a,f]=t.length>1?["(?:",")"]:["",""];l="^"+a+l+f+"$",this.negate&&(l="^(?!"+l+").+$");try{this.regexp=new RegExp(l,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let l=this.set;this.debug(this.pattern,"set",l);let a=s[s.length-1];if(!a)for(let f=s.length-2;!a&&f>=0;f--)a=s[f];for(let f=0;f<l.length;f++){let c=l[f],u=s;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return Bl.defaults(t).Minimatch}};o(UP,"Minimatch");var p6=UP;Bl.AST=m6;Bl.Minimatch=p6;Bl.escape=MP;Bl.unescape=e3;var E4=Qn(y4());var gH=require("child_process");var sre=new ci(3,"repository"),f_=class f_{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getEntries(){return Object.entries(this.data)}get(t){let r=this.getAll(t);return r?r[r.length-1]:void 0}getAll(t){return this.data[this.normalizeKey(t)]}add(t,r){t in this.data||(this.data[t]=[]),this.data[t].push(r)}getSectionValues(t,r){let n=`${t}.`.toLowerCase(),s=`.${r}`.toLowerCase();return Object.keys(this.data).filter(l=>l.startsWith(n)&&l.endsWith(s)).map(l=>l.slice(n.length,-s.length))}concat(t){return this.getEntries().concat(t.getEntries()).reduce((r,[n,s])=>(s.forEach(l=>r.add(n,l)),r),new f_)}normalizeKey(t){let r=t.split(".");return r[0]=r[0].toLowerCase(),r[r.length-1]=r[r.length-1].toLowerCase(),r.join(".")}};o(f_,"GitConfigData");var y6=f_,qP=class qP{};o(qP,"GitConfigLoader");var uu=qP,jP=class jP extends uu{runCommand(t,r,n){return new Promise((s,l)=>{(0,gH.execFile)(r,n,{cwd:t},(a,f)=>{a?l(a):s(f)})})}async tryRunCommand(t,r,n,s){try{return await this.runCommand(r,n,s)}catch(l){sre.info(t,`Failed to run command '${n}' in ${r}: ${l}`);return}}async getConfig(t,r){let n=await this.tryRunCommand(t,r.fsPath,"git",["config","--list","--null",...this.extraArgs()]);return n?this.extractConfig(n):void 0}extractConfig(t){let r=new y6;for(let n of t.split("\0").filter(s=>s)){let s=n.split(`
`,1)[0],l=n.slice(s.length+1);r.add(s,l)}return r}extraArgs(){return[]}};o(jP,"GitCLIConfigLoader");var a_=jP,$P=class $P extends uu{constructor(r){super();this.loaders=r}async getConfig(r,n){for(let s of this.loaders){let l=await s.getConfig(r,n);if(l)return l}}};o($P,"GitFallbackConfigLoader");var l_=$P;var mH=require("os"),HP=Qn(y4());var VP=class VP{constructor(t){this.url=t;this.isUrl()?this.parseUrl():this.tryParseSSHString()||(this._scheme="file")}get scheme(){return this._scheme}get authority(){return this._authority}get hostname(){return this._hostname}get path(){return this._path}isInvalid(){return this._error!==void 0}isRemote(){return this.scheme!=="file"&&this.hostname!==void 0}isGitHub(){var t;return this.isRemote()&&/(?:^|\.)(?:github\.com|ghe\.com)$/i.test((t=this.hostname)!=null?t:"")}isADO(){var t;return this.isRemote()&&/(?:^|\.)(?:visualstudio\.com|azure\.com)$/i.test((t=this.hostname)!=null?t:"")}getUrlForApi(){if(!this.isRemote())return null;if(this.isUrl()&&!this.isInvalid())return HP.URI.from({scheme:this.scheme,authority:this.authority.replace(/^[^@]+@/,""),path:this.path}).toString();if(this.scheme=="ssh"&&this.isADO()){let t=this.url.indexOf(":");return this.url.substring(0,t+1)+this.path}return this.url}isUrl(){return/[A-Za-z0-9][A-Za-z0-9]+:\/\//.test(this.url)}parseUrl(){let t;try{t=HP.URI.parse(this.url)}catch(r){this._error=r;return}this._scheme=t.scheme,this.setAuthority(t.authority),this.setPath(t.path)}setAuthority(t){this._authority=t;let r=t.replace(/^[^@]+@/,"").replace(/:\d*$/,"");r&&(this._hostname=r)}tryParseSSHString(){var r,n,s,l,a;let t=/^(?<host>[^:/\\[]*(?:\[[^/\\\]]*\])?):/.exec(this.url);if(t&&((0,mH.platform)()!=="win32"||((s=(n=(r=t.groups)==null?void 0:r.host)==null?void 0:n.length)!=null?s:0)>1)){let f=(a=(l=t.groups)==null?void 0:l.host)!=null?a:"";return this._scheme="ssh",this.setAuthority(f),this.setPath(this.url.substring(f.length+1)),!0}return!1}setPath(t){if(this.isADO())try{this._path=decodeURIComponent(t);return}catch{}this._path=t}};o(VP,"GitRemoteUrl");var c_=VP;var zP=class zP{async resolveRemote(t,r){var a,f,c,u;let n=await t.get(uu).getConfig(t,r);if(!n)return;let s=this.getRemotes(n),l=s.filter(d=>d.url.isGitHub());if(l.length)return(f=(a=l.find(d=>d.name==="origin"))==null?void 0:a.url)!=null?f:l[0].url;if(s.length)return(u=(c=s.find(d=>d.name==="origin"))==null?void 0:c.url)!=null?u:s[0].url}getRemotes(t){let r=this.getInsteadOfRules(t);return t.getSectionValues("remote","url").map(n=>{var s;return{name:n,url:new c_(this.applyInsteadOfRules(r,(s=t.get(`remote.${n}.url`))!=null?s:""))}}).filter(n=>n.url.isRemote())}applyInsteadOfRules(t,r){for(let n of t)if(r.startsWith(n.insteadOf))return n.base+r.slice(n.insteadOf.length);return r}getInsteadOfRules(t){return t.getSectionValues("url","insteadof").map(r=>({base:r,insteadOf:t.get(`url.${r}.insteadof`)})).sort((r,n)=>n.base.length-r.base.length)}};o(zP,"GitRemoteResolver");var u_=zP;var ore=100,KP=class KP{constructor(t,r){this.baseFolder=t;this.remote=r;this.setNWO()}get tenant(){return this._tenant}get owner(){return this._owner}get name(){return this._name}get adoOrganization(){return this._adoOrganization}isGitHub(){var t,r;return(r=(t=this.remote)==null?void 0:t.isGitHub())!=null?r:!1}isADO(){var t,r;return(r=(t=this.remote)==null?void 0:t.isADO())!=null?r:!1}setNWO(){var r,n,s,l,a,f,c,u,d,h;let t=(n=(r=this.remote)==null?void 0:r.path)==null?void 0:n.replace(/^\//,"").split("/");if(this.isGitHub()){this._owner=t==null?void 0:t[0],this._name=(s=t==null?void 0:t[1])==null?void 0:s.replace(/\.git$/,"");let p=/^(?<tenant>[^.]+)\.ghe\.com$/.exec((a=(l=this.remote)==null?void 0:l.hostname)!=null?a:"");p&&(this._tenant=(f=p.groups)==null?void 0:f.tenant)}else if(this.isADO()&&(t==null?void 0:t.length)===4){if(((c=this.remote)==null?void 0:c.scheme)==="ssh"){this._adoOrganization=t==null?void 0:t[1],this._owner=t==null?void 0:t[2],this._name=t==null?void 0:t[3];return}let p=/(?:(?<org>[^.]+)\.)?visualstudio\.com$/.exec((d=(u=this.remote)==null?void 0:u.hostname)!=null?d:"");p?(this._adoOrganization=(h=p.groups)==null?void 0:h.org,this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3]):(this._adoOrganization=t==null?void 0:t[0],this._owner=t==null?void 0:t[1],this._name=t==null?void 0:t[3])}}};o(KP,"GitRepository");var GP=KP,d_=class d_{constructor(t){this.ctx=t;this.remoteResolver=new u_;this.cache=new ho(ore)}async getRepo(t){let r,n=[];do{if(this.cache.has(t.toString())){let l=this.cache.get(t.toString());return this.updateCache(n,l),l}n.push(t.toString());let s=await this.tryGetRepoForFolder(t);if(s)return this.updateCache(n,s),s;r=t,t=Hx(t)}while(t!==r);this.updateCache(n,void 0)}updateCache(t,r){t.forEach(n=>this.cache.set(n,r))}async tryGetRepoForFolder(t){return await this.isBaseRepoFolder(t)?new GP(t,await this.repoUrl(t)):void 0}async isBaseRepoFolder(t){return await d_.getRepoConfigLocation(this.ctx,t)!==void 0}async repoUrl(t){return await this.remoteResolver.resolveRemote(this.ctx,t)}static async getRepoConfigLocation(t,r){try{let n=t.get(cu),s=E4.Utils.joinPath(r,".git");if((await n.stat(s)).type&1)return await this.getConfigLocationForGitfile(n,r,s);let a=E4.Utils.joinPath(s,"config");return await n.stat(a),a}catch{return}}static async getConfigLocationForGitfile(t,r,n){let l=(await t.readFileString(n)).match(/^gitdir:\s+(.+)$/m);if(!l)return;let a=E9(r,l[1]),f=E4.Utils.joinPath(a,"config");if(await this.tryStat(t,f)!==void 0)return f;let c=E4.Utils.joinPath(a,"config.worktree");if(await this.tryStat(t,c)!==void 0)return c;let u=E4.Utils.joinPath(a,"commondir");a=E9(a,(await t.readFileString(u)).trimEnd());let d=E4.Utils.joinPath(a,"config");return await t.stat(d),d}static async tryStat(t,r){try{return await t.stat(r)}catch{return}}};o(d_,"RepositoryManager");var C1=d_;var bR=Qn(HH());var M_=o((e,t)=>{if(bR.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...bR.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var CR="contentExclusion",jc,S4,b6,q_,zH,q9,j9,TR,SR=class SR extends h6{constructor(r){super();gi(this,q_);gi(this,j9);gi(this,jc,void 0);gi(this,S4,new ho(1e4));gi(this,b6,new ho(200));gi(this,q9,r_(async r=>{let n=await f0(this,jc).get(mf).getGitHubSession(f0(this,jc));if(!n)throw new cd("No token found");let s=f0(this,jc).get(Ff).getContentRestrictionsUrl(n),l=new URL(s);l.searchParams.set("repos",r.join(","));let a=await f0(this,jc).get(fl).fetch(l.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),f=await a.json();if(!a.ok){if(a.status===404)return Array.from(r,()=>[]);throw cf(this,j9,TR).call(this,"fetch.error",{message:f.message}),new f4(a)}return cf(this,j9,TR).call(this,"fetch.success"),M_(hie,f).map(c=>c.rules)},f0(this,b6)));ti(this,jc,r)}async evaluate(r,n){try{let s=await this.getGitRepo(r);if(!s)return Cd;let l=await cf(this,q_,zH).call(this,s.url);if(!l)return Cd;let a=await this.evaluateFilePathRules(r,s,l);if(a.isBlocked)return a;let f=await this.evaluateTextBasedRules(l,n);if(f.isBlocked)return f}catch(s){return Dc(f0(this,jc),s,`${CR}.evaluate`),R9}return _4}async evaluateFilePathRules(r,n,s){let l=r.fsPath;if(f0(this,S4).has(l))return f0(this,S4).get(l);let a=_4,f=r.path.replace(n.baseFolder.path,"");e:for(let c of s)for(let u of c.paths)if(Bl(f,u,{nocase:!0,matchBase:!0,nonegate:!0,dot:!0})){a=ER(c);break e}return f0(this,S4).set(l,a),a}async evaluateTextBasedRules(r,n){let s=r.filter(a=>a.ifAnyMatch),l=r.filter(a=>a.ifNoneMatch);return!n||s.length===0&&l.length===0?_4:this.evaluateFileContent(s,l,n)}async evaluateFileContent(r,n,s){for(let l of r)if(l.ifAnyMatch&&l.ifAnyMatch.length>0&&l.ifAnyMatch.map(f=>VH(f)).some(f=>f.test(s)))return ER(l);for(let l of n)if(l.ifNoneMatch&&l.ifNoneMatch.length>0&&!l.ifNoneMatch.map(f=>VH(f)).some(f=>f.test(s)))return ER(l);return _4}async refresh(){try{let r=[...f0(this,b6).keys()];this.reset(),await Promise.all(r.map(n=>f0(this,q9).call(this,n)))}catch(r){Dc(f0(this,jc),r,`${CR}.refresh`)}}reset(){f0(this,b6).clear(),f0(this,S4).clear()}async getGitRepo(r){let s=await f0(this,jc).get(C1).getRepo(Hx(r));if(!s||!(s!=null&&s.remote))return;let l=s.remote.getUrlForApi();if(l)return{baseFolder:s.baseFolder,url:l}}};jc=new WeakMap,S4=new WeakMap,b6=new WeakMap,q_=new WeakSet,zH=o(async function(r){let n=await f0(this,q9).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),q9=new WeakMap,j9=new WeakSet,TR=o(function(r,n,s){mi(f0(this,jc),`${CR}.${r}`,cs.createAndMarkAsIssued(n,s))},"#telemetry"),o(SR,"CopilotContentRestrictions");var U_=SR;function VH(e){if(!e.startsWith("/")&&!e.endsWith("/"))return new RegExp(e);let t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}o(VH,"stringToRegex");function ER(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(ER,"fileBlockedEvaluationResult");var fie=Qa.Type.Object({name:Qa.Type.String(),type:Qa.Type.Union([Qa.Type.Literal("Organization"),Qa.Type.Literal("Repository")])}),cie=Qa.Type.Object({paths:Qa.Type.Array(Qa.Type.String()),ifNoneMatch:Qa.Type.Optional(Qa.Type.Array(Qa.Type.String())),ifAnyMatch:Qa.Type.Optional(Qa.Type.Array(Qa.Type.String())),source:fie}),uie=Qa.Type.Array(cie),die=Qa.Type.Object({rules:uie,last_updated_at:Qa.Type.String()}),hie=Qa.Type.Array(die);var Va=Qn(Rf());var IR=class IR extends h6{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new ho(200);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=r_(async r=>{let n=new URL(M$),s=await this.ctx.get(mf).getGitHubToken(this.ctx);if(!s)throw new cd("No GitHub token found");let l=this.ctx.get(ja),a=this.ctx.get(cl),f=this.ctx.get(rf),c=this.ctx.get(fl),u={trackingid:`${f.trackingId}`,githubtoken:`${s}`,machineid:`${l.machineId}`,sessionid:`${l.sessionId}`,extname:`${a.getEditorPluginInfo().name}`,extversion:`${a.getEditorPluginInfo().version}`},d=await c.fetch(n.href,{headers:u,method:"POST",json:{repos:r}});if(d.ok){let p=await d.json();return $9.debug(this.ctx,"repositoryControl.fetch","success"),mi(this.ctx,"repositoryControl.fetch.success"),M_(vie,p).map(g=>g.rules)}$9.debug(this.ctx,"repositoryControl.fetch","error"),mi(this.ctx,"repositoryControl.fetch.error");let h=new f4(d);throw Dc(this.ctx,h,"repositoryControl.fetch"),h},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){Dc(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,l=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){mi(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:l},this.loaderWithRetry(r)}}async evaluate(r,n){try{let l=await this.ctx.get(C1).getRepo(r);if(!l||!l.remote)return Cd;let a=l.remote.getUrlForApi();if(!a)return Cd;let f=await this.fetchRepositoryPolicy(a);return f==="POLICY_NOT_AVAILABLE"?R9:f==="NO_MATCHING_POLICY"?Cd:this._evaluate(r,n,f)}catch(s){return Dc(this.ctx,s,"repositoryControl.evaluate"),R9}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return wR(s);if(s.fileContent&&n){let l=s.fileContent.includes;if(n&&l&&l.length>0&&!new RegExp(l.join("|"),"i").test(n))return wR(s);let a=s.fileContent.excludes;if(n&&a&&a.length>0&&new RegExp(a.join("|"),"i").test(n))return wR(s)}return _4}};o(IR,"CopilotRepositoryControl");var j_=IR;function wR(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(wR,"getBlockedRepoResponse");var gie=Va.Type.Object({name:Va.Type.String(),type:Va.Type.Union([Va.Type.Literal("Organization"),Va.Type.Literal("Repository")])}),mie=Va.Type.Object({fileContent:Va.Type.Optional(Va.Type.Object({includes:Va.Type.Optional(Va.Type.Array(Va.Type.String())),excludes:Va.Type.Optional(Va.Type.Array(Va.Type.String()))})),blocked:Va.Type.Optional(Va.Type.Boolean()),source:gie}),pie=Va.Type.Array(mie),yie=Va.Type.Object({rules:pie}),vie=Va.Type.Array(yie);var $9=new ci(3,"contentExclusion");var Ad,hu,w4,$_,GH,H_,KH,AR=class AR{constructor(t){this.ctx=t;gi(this,$_);gi(this,H_);gi(this,Ad,!1);gi(this,hu,null);gi(this,w4,new U_(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!f0(this,Ad)||!t)return;let r=await this.ctx.get(ac).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(ac).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(hf).on("onCopilotToken",r=>{var s,l;ti(this,Ad,(s=r.envelope.copilotignore_enabled)!=null?s:!1),this.evaluateResultCache.clear(),f0(this,w4).refresh();let n=(l=r.organization_list)!=null?l:[];cf(this,H_,KH).call(this,n)})}get enabled(){return f0(this,Ad)}async evaluate(t,r,n){var c;if(!f0(this,Ad)||!C9(t.scheme))return{isBlocked:!1};let s=[],l=o(async(u,d)=>{let h=Date.now(),p=await d.evaluate(t,r),g=Date.now();return s.push({key:u,result:p,elapsedMs:g-h}),p},"track"),f=(c=(await Promise.all([f0(this,hu)&&l("repositoryControl.evaluate",f0(this,hu)),l("contentExclusion.evaluate",f0(this,w4))])).find(u=>u==null?void 0:u.isBlocked))!=null?c:{isBlocked:!1};try{for(let u of s)cf(this,$_,GH).call(this,u.key,t,u.result,u.elapsedMs)}catch(u){console.log("Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(f.isBlocked,f.message),f}updateStatusIcon(t,r){f0(this,Ad)&&(t?this.ctx.get(_d).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(_d).forceNormal())}set __repositoryControl(t){ti(this,hu,t)}get __repositoryControl(){return f0(this,hu)}set __contentRestrictions(t){ti(this,w4,t)}get __contentRestrictions(){return f0(this,w4)}};Ad=new WeakMap,hu=new WeakMap,w4=new WeakMap,$_=new WeakSet,GH=o(function(t,r,n,s){var u,d;let l=r.path+t;if(this.evaluateResultCache.get(l)===n.reason)return!1;if(this.evaluateResultCache.set(l,(u=n.reason)!=null?u:"UNKNOWN"),n.reason===Cd.reason)return $9.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let f={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},c={elapsedMs:s};return mi(this.ctx,t,cs.createAndMarkAsIssued(f,c)),mi(this.ctx,t,cs.createAndMarkAsIssued({...f,path:r.path},c),1),$9.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),H_=new WeakSet,KH=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));f0(this,Ad)&&n?(f0(this,hu)||ti(this,hu,new j_(this.ctx)),f0(this,hu).refresh()):ti(this,hu,null)},"#refreshMSFTRepoControl"),o(AR,"CopilotRepositoryControlManager");var P9=AR;var OR=Qn(ud()),FR=require("path"),QH=Qn(y4());var WH=new ho;function YH(e){return[...e].sort((t,r)=>{var l,a;let n=(l=WH.get(t.uri.toString()))!=null?l:0;return((a=WH.get(r.uri.toString()))!=null?a:0)-n})}o(YH,"sortByAccessTimes");var PR=class PR{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let l=new Map,a=0;for(let f of t)if(!(a+f.getText().length>H9.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(f.vscodeUri.scheme==="file"&&r.scheme==="file"&&f.vscodeUri.fsPath!==r.fsPath&&RR(n,f.languageId)&&(l.set(f.uri.toString(),{uri:f.uri.toString(),relativePath:await this.docManager.getRelativePath(f),languageId:f.languageId,source:f.getText()}),a+=f.getText().length),l.size>=s))break;return l}async getNeighborFiles(t,r,n){let s=new Map,l=new Map;return s=await this.truncateDocs(YH(await this.docManager.textDocuments()),t,r,n),l.set("opentabs",Array.from(s.keys()).map(a=>a.toString())),{docs:s,neighborSource:l}}};o(PR,"OpenTabFiles");var V_=PR;function xie(...e){return JSON.stringify(e,(t,r)=>typeof r=="object"?r:String(r))}o(xie,"defaultHash");function kR(e,t={}){let{hash:r=xie,cache:n=new Map}=t;return function(...s){let l=r.apply(this,s);if(n.has(l))return n.get(l);let a=e.apply(this,s);return a instanceof Promise&&(a=a.catch(f=>{throw n.delete(l),f})),n.set(l,a),a}}o(kR,"memoize");function JH(e,t,r){return async function(...n){return await Promise.race([e.apply(this,n),new Promise(s=>{setTimeout(s,t,r)})])}}o(JH,"shortCircuit");var LR=class LR extends ho{constructor(r,n=5*60*1e3){super(r);this.defaultEvictionTimeMs=n;this._cacheTimestamps=new Map}get(r){let n=super.get(r);if(this.isValid(r))return n;this.deleteExpiredEntry(r)}set(r,n){return this._cacheTimestamps.set(r,Date.now()),super.set(r,n)}clear(){super.clear(),this._cacheTimestamps.clear()}isValid(r){let n=this._cacheTimestamps.get(r);return n!==void 0&&Date.now()-n<this.defaultEvictionTimeMs}deleteExpiredEntry(r){this._cacheTimestamps.has(r)&&this._cacheTimestamps.delete(r),super.get(r)&&super.delete(r)}};o(LR,"LRURelatedFileCacheMap");var NR=LR,z_=new ci(3,"relatedFiles"),_ie=1e3,BR=class BR{};o(BR,"RelatedFilesProvider");var DR=BR,XH=new Map,V9=o(async function(t,r,n,s,l){try{return await l.getRelatedFiles(r,n,s)}catch(a){return z_.debug(t,"Error retrieving related files",a),XH}},"getRelatedFiles");V9=kR(V9,{cache:new NR(_ie),hash:(e,t,r,n,s)=>`${t.uri}`});V9=JH(V9,200,XH);async function ZH(e,t,r,n){let s=e.get(DR);return V9(e,t,r,n,s)}o(ZH,"getRelatedFilesList");function RR(e,t){return(0,OR.normalizeLanguageId)(e)===(0,OR.normalizeLanguageId)(t)}o(RR,"considerNeighborFile");var T1=class T1{static reset(){T1.instance=void 0}static async getNeighborFiles(t,r,n,s){let l=t.get(ac);T1.instance===void 0&&(T1.instance=new V_(l));let a=await T1.instance.getNeighborFiles(r,n.fileType,T1.MAX_NEIGHBOR_FILES),f=await l.getTextDocument(r);if(!f)return z_.debug(t,"neighborFiles.getNeighborFiles","Failed to get the document"),a;let c=await l.getWorkspaceFolder(f),u=c?$x(c):void 0;if(c&&u){let d={relativePath:(0,FR.relative)(u,r.fsPath),uri:f.uri.toString(),languageId:f.languageId,source:f.getText()},h=await ZH(t,d,c,s);if(h!=null&&h.size){let p=[];h.forEach((g,y)=>{let _=QH.URI.file(y).toString(),S={relativePath:(0,FR.relative)(u,y),uri:_,languageId:f.languageId,source:g};a.docs.has(_)||(p.unshift(S),a.docs.set(_,S))}),p.length>0&&a.neighborSource.set("languageservice",p.map(g=>g.uri.toString()))}}else z_.debug(t,"neighborFiles.getNeighborFiles","Failed to get the workspace folder");return a}};o(T1,"NeighborSource"),T1.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,T1.MAX_NEIGHBOR_FILES=20,T1.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var H9=T1;var MR=Qn(ud());var gge=tV(),Nge=new ci(4,"retrieval");var rV=2.98410452738298,nV=-.838732736843507,iV=1.50314646255716,sV=-.237798634012662,oV={python:.314368072478742},aV={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var ume=new ci(3,"restraint"),Tie={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function Sie(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),s=t.get(r),l=t.get(n);return l+(s-l)*(e-n)/(r-n)}o(Sie,"linearInterpolation");var qR=class qR{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(qR,"Regressor");var C6=qR,jR=class jR{constructor(t,r,n){this.link=Tie;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let l=r[s.name];if(l===void 0)return NaN;n+=s.contribution(l)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return Sie(n,this.logitsToQuantiles)}};o(jR,"LogisticRegression");var UR=jR,dme=new UR(rV,[new C6("compCharLen",nV,e=>Math.log(1+e)),new C6("meanLogProb",iV),new C6("meanAlternativeLogProb",sV)].concat(Object.entries(oV).map(e=>new C6(e[0],e[1]))),aV);var U9e=new ci(3,"ghostText");var q9e=new Ux;var z9=class z9{constructor(t=!1){this.requestMultilineOverride=t}};o(z9,"ForceMultiLine"),z9.default=new z9;var G9=z9;var lV=require("events");var $R=class $R extends lV.EventEmitter{};o($R,"PostInsertionNotifier");var E6=$R;var _7e=new ci(3,"postInsertion");var k7e=new ci(3,"ghostText"),T6,S6,w6,HR=class HR{constructor(){gi(this,T6,void 0);gi(this,S6,void 0);gi(this,w6,[])}get position(){return f0(this,T6)}get shownCompletions(){return f0(this,w6)||[]}get uri(){return f0(this,S6)}resetState(){ti(this,S6,void 0),ti(this,T6,void 0),ti(this,w6,[])}setState(t,r){ti(this,S6,t),ti(this,T6,r),ti(this,w6,[])}resetPartialAcceptanceState(){this.partiallyAcceptedLength=0}};T6=new WeakMap,S6=new WeakMap,w6=new WeakMap,o(HR,"LastGhostText");var K9=HR;var I6={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".slang",".slangh",".usf",".ush",".vfx"]}};var fV=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],cV={".php":[".blade"]},uV=Object.keys(I6).flatMap(e=>I6[e].extensions);var G_=require("path"),YR=class YR{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(YR,"Language");var a3=YR,JR=class JR{};o(JR,"LanguageDetection");var Rd=JR;function hV(e){return new VR(new WR(new KR(new GR)),new zR(e))}o(hV,"getLanguageDetection");var XR=class XR extends Rd{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new ho(100)}detectLanguage(r){let n=G_.basename(r.vscodeUri.path);return dV(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=dV(r)?this.notebookDelegate.detectLanguage(n):this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(XR,"CachingLanguageDetection");var VR=XR;function dV(e){return e.endsWith(".ipynb")}o(dV,"isNotebook");var ZR=class ZR extends Rd{constructor(r){super();this.ctx=r}detectLanguage(r){let s=this.ctx.get(ac).findNotebook(r);return s?this.detectCellLanguage(r,s):new a3("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCellFor(r);return s?new a3(s.document.languageId,!1,".ipynb"):new a3("unknown",!1,".ipynb")}};o(ZR,"NotebookLanguageDetection");var zR=ZR,QR=class QR extends Rd{detectLanguage(t){let r=G_.basename(t.vscodeUri.path),n=G_.extname(r).toLowerCase(),s=this.extensionWithoutTemplateLanguage(r,n),l=this.detectLanguageId(r,s);return new a3(l.languageId,l.isGuess,this.computeFullyQualifiedExtension(n,s))}extensionWithoutTemplateLanguage(t,r){if(fV.includes(r)){let n=t.substring(0,t.lastIndexOf(".")),s=G_.extname(n).toLowerCase();if(s.length>0&&uV.includes(s)&&this.isExtensionValidForTemplateLanguage(r,s))return s}return r}isExtensionValidForTemplateLanguage(t,r){let n=cV[t];return!n||n.includes(r)}detectLanguageId(t,r){var l,a;let n=[],s=[];for(let f in I6){let c=I6[f];if(c.filenames){if(c.filenames.includes(t))return{languageId:f,isGuess:!1};c.filenames.some(u=>t.startsWith(u+"."))&&s.push(f)}c.extensions.includes(r)&&n.push(f)}return(a=(l=this.determineLanguageIdByCandidates(n))!=null?l:this.determineLanguageIdByCandidates(s))!=null?a:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(t){if(t.length===1)return{languageId:t[0],isGuess:!1};if(t.length>1)return{languageId:t[0],isGuess:!0}}computeFullyQualifiedExtension(t,r){return t!==r?r+t:t}};o(QR,"FilenameAndExensionLanguageDetection");var GR=QR,ek=class ek extends Rd{constructor(r){super();this.delegate=r}detectLanguage(r){let n=this.delegate.detectLanguage(r),s=n.languageId;return s==="c"||s==="cpp"?new a3("cpp",n.isGuess,n.fileExtension):n}};o(ek,"GroupingLanguageDetection");var KR=ek,tk=class tk extends Rd{constructor(r){super();this.delegate=r}detectLanguage(r){return r.vscodeUri.scheme==="untitled"?new a3(r.languageId,!0,""):this.delegate.detectLanguage(r)}};o(tk,"UntitledLanguageDetection");var WR=tk;var OG=Qn(require("fs")),FG=require("tls");var Ib=new ci(3,"certificates"),yN=class yN{};o(yN,"RootCertificateReader");var $f=yN;function MG(e,t=process.platform){return new cN(e,[new uN,new dN,mle(e,t)])}o(MG,"getRootCertificateReader");function mle(e,t){switch(t){case"linux":return new hN(e);case"darwin":return new gN(e);case"win32":return new mN(e);default:return new pN}}o(mle,"createPlatformReader");var vN=class vN extends $f{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return Ib.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};o(vN,"ErrorHandlingCertificateReader");var fN=vN,xN=class xN extends $f{constructor(t,r){super(),this.delegates=r.map(n=>new fN(t,n))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(t=>t.getAllRootCAs()))).flat()),this.certificates}};o(xN,"CachingRootCertificateReader");var cN=xN,_N=class _N extends $f{async getAllRootCAs(){return FG.rootCertificates}};o(_N,"NodeTlsRootCertificateReader");var uN=_N,bN=class bN extends $f{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await UG(t):[]}};o(bN,"EnvironmentVariableRootCertificateReader");var dN=bN,CN=class CN extends $f{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await UG(n);Ib.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(CN,"LinuxRootCertificateReader");var hN=CN,EN=class EN extends $f{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=LG(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return Ib.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(EN,"MacRootCertificateReader");var gN=EN,TN=class TN extends $f{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=BG().all();return Ib.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(TN,"WindowsRootCertificateReader");var mN=TN,SN=class SN extends $f{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(SN,"UnsupportedPlatformRootCertificateReader");var pN=SN;async function UG(e){try{let n=(await OG.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(l=>l.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(UG,"readCertsFromFile");var iK=Qn(require("http"));var Hle=407,Ul=new ci(4,"proxySocketFactory"),DN=class DN{};o(DN,"ProxySocketFactory");var _3=DN,LN=class LN extends Error{constructor(t,r,n){var s,l,a;super(t),this.code=r==null?void 0:r.code,this.syscall=r==null?void 0:r.syscall,this.errno=r==null?void 0:r.errno,/^Failed to establish a socket connection to proxies:/.test((s=r==null?void 0:r.message)!=null?s:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((l=r==null?void 0:r.message)!=null?l:"")?this.code="ProxyInitializeSecurityContext":(r==null?void 0:r.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((a=r==null?void 0:r.message)!=null?a:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),n!==void 0&&(this.code=n)}};o(LN,"ProxySocketError");var O4=LN;function sK(e){return new RN(e,new kN(e))}o(sK,"getProxySocketFactory");var BN=class BN extends _3{constructor(r,n,s=new NN,l=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=l;this.successfullyAuthorized=new ho(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(Ul.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof O4&&s.code===`ProxyStatusCode${Hle}`){Ul.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let l=await this.authorizeAndCreateSocket(r,n);if(l)return Ul.debug(this.ctx,"Proxy authorization successful, caching result"),mi(this.ctx,"proxy.kerberosAuthorized"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),l}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(Ul.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(Ul.debug(this.ctx,"Proxy authorization successful, received token"),s)return Ul.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){Ul.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);Ul.debug(this.ctx,"Initializing kerberos client using spn",s);let l=await n.initializeClient(s);Ul.debug(this.ctx,"Perform client side kerberos step");let a=await l.step("");return Ul.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return Ul.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return Ul.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(BN,"KerberosProxySocketFactory");var RN=BN,ON=class ON extends _3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((l,a)=>{Ul.debug(this.ctx,"Attempting to establish connection to proxy");let f=iK.request(s);f.useChunkedEncodingByDefault=!1,f.once("connect",(c,u,d)=>{Ul.debug(this.ctx,"Socket Connect returned status code",c.statusCode),f.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new O4(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):d.length>0?(u.destroy(),a(new O4(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(Ul.debug(this.ctx,"Successfully established tunneling connection to proxy"),l(u))}),f.once("error",c=>{Ul.debug(this.ctx,"Proxy socket connection error",c.message),f.removeAllListeners(),a(new O4(`tunneling socket could not be established, cause=${c.message}`,c))}),f.on("timeout",()=>{Ul.debug(this.ctx,"Proxy socket connection timeout"),a(new O4(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),f.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,l={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(l.localAddress=r.localAddress),this.configureProxyAuthorization(l,r),l}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(ON,"TunnelingProxySocketFactory");var kN=ON,FN=class FN{load(){return nK()}};o(FN,"KerberosLoader");var NN=FN;var fK=require("os"),A1=Qn(y4());var Vle=new ci(3,"repository"),F4="\\\\",cK="(?:[#;].*)",G6=`(?:[^"${F4}]|${F4}.)`,zle="[0-9A-Za-z-]",oK=`[A-Za-z]${zle}*`,uK=`\\s*${cK}?$`,dK=`(?:[^"${F4};#]|${F4}.)`,Gle=`(?:"${G6}*"|"${G6}*(?<strCont>${F4})$)`,Kle=`(?:${dK}|${Gle})+`,Wle=`(?:(?<cont>${F4})$)`,hK=`(?<value>${Kle})${Wle}?${uK}`,aK=new RegExp(`^${hK}`),Yle=new RegExp(`^(?<value>${G6}*(?:(?<strCont>${F4})$|(?<quote>")))`),Jle=new RegExp(`^\\s*(?:(?<key>${oK})\\s*=\\s*${hK}|(?<soloKey>${oK})${uK})`),Xle=new RegExp(`(?<value>${dK}+)|"(?<string>${G6}*)"`,"g"),lK="[-.0-9A-Za-z]+",Zle=`\\s+"(?<ext>${G6}*)"`,Qle=`\\s+"(?<extOnly>${G6}*)"`,efe=new RegExp(`^\\s*\\[(?:(?<simple>${lK})${Zle}|${Qle}|(?<simpleOnly>${lK}))\\]`),tfe=new RegExp(`^\\s*${cK}$`),UN=class UN{constructor(t){this.content=t;this.stopped=!1;this.section="";this.line="";this.lineNum=0;this.lines=[];this.linesWithErrors=[]}parse(t){for(this.stopped=!1,this.section="",this.line="",this.linesWithErrors=[],this.configValueHandler=t,this.lines=this.content.split(/\r?\n/),this.lineNum=0;!this.stopped&&this.lineNum<this.lines.length;this.lineNum++)this.line=this.lines[this.lineNum],this.parseSectionStart(),this.parseConfigPair(),this.parseComment(),/^\s*$/.test(this.line)||this.errorAt(this.lineNum+1)}stop(){this.stopped=!0}hasErrors(){return this.linesWithErrors.length>0}errorAt(t){this.linesWithErrors.push(t)}parseSectionStart(){var r,n;let t=this.line.match(efe);t&&((r=t.groups)!=null&&r.simple?this.section=t.groups.simple.toLowerCase()+"."+this.unescapeBaseValue(t.groups.ext):(n=t.groups)!=null&&n.extOnly?this.section="."+this.unescapeBaseValue(t.groups.extOnly):this.section=t.groups.simpleOnly.toLowerCase(),this.line=this.line.slice(t[0].length))}unescapeBaseValue(t){return t.replace(/\\(.)/g,"$1")}parseConfigPair(){var r,n,s,l;let t=this.line.match(Jle);if(t){if((r=t.groups)!=null&&r.key){let a=this.handleContinued(t);(n=this.configValueHandler)==null||n.call(this,this.nameWithSection(t.groups.key.toLowerCase()),a)}else(s=t.groups)!=null&&s.soloKey&&((l=this.configValueHandler)==null||l.call(this,this.nameWithSection(t.groups.soloKey.toLowerCase()),""));this.line=""}}handleContinued(t){var s,l,a;let r=t,n=[this.matchedValue(r)];for(;(s=r==null?void 0:r.groups)!=null&&s.cont||(l=r==null?void 0:r.groups)!=null&&l.strCont;){if(this.line=this.lines[++this.lineNum],this.lineNum>=this.lines.length){this.errorAt(this.lineNum);break}r.groups.strCont?(r=this.line.match(Yle),r?(n.push(this.matchedValue(r)),(a=r.groups)!=null&&a.quote&&(r=this.line.slice(r[0].length).match(aK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))):this.errorAt(this.lineNum+1)):(r=this.line.match(aK),r?n.push(this.matchedValue(r)):this.errorAt(this.lineNum+1))}return this.normalizeValue(n.join(""))}matchedValue(t){return t.groups.strCont?t.groups.value.slice(0,-1):t.groups.value}normalizeValue(t){let r=!1,n=[...t.matchAll(Xle)].map(s=>{var l;return(l=s.groups)!=null&&l.value?(r=!0,this.unescapeValue(s.groups.value.replace(/\s/g," "))):(r=!1,this.unescapeValue(s.groups.string))}).join("");return r?n.trimEnd():n}unescapeValue(t){let r={n:`
`,t:"	",b:"\b"};return t.replace(/\\(.)/g,(n,s)=>r[s]||s)}nameWithSection(t){return this.section?this.section+"."+t:t}parseComment(){tfe.test(this.line)&&(this.line="")}};o(UN,"GitConfigParser");var MN=UN,qN=class qN extends uu{async getConfig(t,r){let n=await C1.getRepoConfigLocation(t,r);if(!n)return;let s=await this.getParsedConfig(t,n);if(s)return this.mergeConfig(await this.baseConfig(t,n),s)}mergeConfig(...t){return t.filter(r=>r!==void 0).reduce((r,n)=>r.concat(n),new y6)}async getParsedConfig(t,r,n=!0){let s=await this.tryLoadConfig(t,r,n);if(!s)return;let l=new MN(s),a=new y6;return l.parse((f,c)=>a.add(f,c)),a}async tryLoadConfig(t,r,n){try{return await t.get(cu).readFileString(r)}catch(s){(n||s.code!=="ENOENT")&&Vle.warn(t,`Failed to load git config from ${r.toString()}: ${s}`);return}}async baseConfig(t,r){let n=await this.commondirConfigUri(t,r),s=A1.Utils.joinPath(this.xdgConfigUri(),"git","config"),l=A1.Utils.joinPath(this.homeUri(),".gitconfig");return this.mergeConfig(await this.getParsedConfig(t,s,!1),await this.getParsedConfig(t,l,!1),n?await this.getParsedConfig(t,n,!1):void 0)}async commondirConfigUri(t,r){if(A1.Utils.basename(r).toLowerCase()!=="config.worktree")return;let n=A1.Utils.dirname(r),s=A1.Utils.joinPath(n,"commondir");try{let l=(await t.get(cu).readFileString(s)).trimEnd();return A1.Utils.joinPath(E9(n,l),"config")}catch{return}}xdgConfigUri(){return process.env.XDG_CONFIG_HOME?A1.URI.file(process.env.XDG_CONFIG_HOME):A1.Utils.joinPath(this.homeUri(),".config")}homeUri(){return A1.URI.file((0,fK.homedir)())}};o(qN,"GitParsingConfigLoader");var Nb=qN;var mK=Qn(require("events"));var gK="onWorkspaceChanged",jN=class jN{constructor(){this.emitter=new mK.default}onChange(t){this.emitter.on(gK,t)}emit(t){this.emitter.emit(gK,t)}};o(jN,"WorkspaceNotifier");var c7=jN;function pK(e){let t=new Lx;return t.set(d4,e),t.set(t4,new t4),t.set(df,new df),rfe(t),t.set(a6,new a6),t.set(hf,new hf),t.set($f,MG(t)),t.set(_3,sK(t)),t.set(Rd,hV(t)),t.set($a,new $a(t)),t.set(E6,new E6),t.set(rf,new rf(t)),t.set(Bc,new Bc),t.set(Q5,new Q5),t.set(l4,new l4),t.set(p4,new p4),t.set(l6,new l6),t.set(x4,new w9),t.set(t6,new yx),t.set(c4,new ux),t.set(gf,new gf),t.set($N.SnippetOrchestrator,new $N.SnippetOrchestrator),t.set(K9,new K9),t.set(G9,G9.default),t.set(C1,new C1(t)),t.set(uu,new l_([new a_,new Nb])),t.set(c7,new c7),t.set(v4,new v4),t.set(u9,new u9),t}o(pK,"createProductionContext");function rfe(e){e.set(h4,h4.fromEnvironment(!1)),e.set(r6,new r6(Iq(e))),e.set(n6,new Tx(console))}o(rfe,"setupRudimentaryLogging");var gve=new ci(4,"context");var vK="github.com",yK=`https://${vK}`,nfe="https://api.githubcopilot.com",ife="https://copilot-telemetry.githubusercontent.com/telemetry",sfe="https://copilot-proxy.githubusercontent.com",ofe="https://origin-tracker.githubusercontent.com",HN=class HN extends Ff{constructor(r,n=yK,s=process.env){super();this.env=s;this.recalculateUrlDefaults(n),r.get(hf).on("onCopilotToken",l=>this.onCopilotToken(r,l))}onCopilotToken(r,n){n.envelope.endpoints&&this.updateServiceEndpoints(r,n.envelope.endpoints)}isGitHubEnterprise(){return this.isEnterprise}getAuthAuthority(){return this.baseUrlObject.host}getTokenUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.copilotTokenUrl)!=null?s:this.tokenUrl}getNotificationUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.notificationUrl)!=null?s:this.notificationUrl}getContentRestrictionsUrl(r){var n,s;return(s=(n=r.devOverride)==null?void 0:n.contentRestrictionsUrl)!=null?s:this.contentRestrictionsUrl}getBlackbirdIndexingStatusUrl(){return this.blackbirdIndexingStatusUrl}getDeviceFlowStartUrl(){return this.deviceFlowStartUrl}getDeviceFlowCompletionUrl(){return this.deviceFlowCompletionUrl}getUserInfoUrl(){return this.userInfoUrl}getCAPIUrl(r,n){let s=this.urlOrConfigOverride(r,this.capiUrl,b1.DebugOverrideCapiUrl,b1.DebugTestOverrideCapiUrl);return this.join(s,n)}getBlackbirdCodeSearchUrl(r){return this.getCAPIUrl(r,"/search/code")}getBlackbirdDocsSearchUrl(r){return this.getCAPIUrl(r,"/search/docs")}getEmbeddingsUrl(r){return this.getCAPIUrl(r,"/embeddings")}getTelemetryUrl(){return this.telemetryUrl}setTelemetryUrlForTesting(r){this.telemetryUrl=r}getCompletionsUrl(r,n){let s=this.urlOrConfigOverride(r,this.completionsUrl,b1.DebugOverrideProxyUrl,b1.DebugTestOverrideProxyUrl);return this.join(s,n)}getSnippetRetrievalUrl(r,n,s){let l=new URL(this.getCompletionsUrl(r,"v0/retrieval"));return l.search=new URLSearchParams({repo:n,impl:s}).toString(),l.href}getOriginTrackingUrl(r,n){let s=d9(r)?this.originTrackerUrl:this.urlOrConfigOverride(r,this.originTrackerUrl,b1.DebugSnippyOverrideUrl);return this.join(s,n)}updateBaseUrl(r,n){n||(n=yK);let s=this.baseUrlObject;if(!this.isPermittedUrl(r,n)){r.get(m4).showWarningMessage(`Ignoring invalid or unsupported authentication URL "${n}".`);return}this.withTelemetryReInitialization(r,()=>{this.recalculateUrlDefaults(n),s.href!==this.baseUrlObject.href&&r.get(mf).resetCopilotToken(r)})}updateServiceEndpoints(r,n){this.isPermittedUrl(r,n.api)&&(this.capiUrl=n.api),this.isPermittedUrl(r,n.proxy)&&(this.completionsUrl=n.proxy),this.isPermittedUrl(r,n["origin-tracker"])&&(this.originTrackerUrl=n["origin-tracker"]),this.isPermittedUrl(r,n.telemetry)&&this.withTelemetryReInitialization(r,()=>{this.telemetryUrl=this.join(n.telemetry,"telemetry")})}withTelemetryReInitialization(r,n){let s=this.telemetryUrl;if(n(),s===this.telemetryUrl)return;let l=r.get(Q5);l.isInitialized&&l.reInitialize(r)}recalculateUrlDefaults(r){let n=this.parseUrls(r);this.baseUrlObject=n.base;let s=n.api;this.isEnterprise=this.baseUrlObject.host!==vK,this.tokenUrl=this.join(s.href,"/copilot_internal/v2/token"),this.notificationUrl=this.join(s.href,"/copilot_internal/notification"),this.contentRestrictionsUrl=this.join(s.href,"/copilot_internal/content_exclusion"),this.blackbirdIndexingStatusUrl=this.join(s.href,"/copilot_internal/check_indexing_status"),this.deviceFlowStartUrl=this.join(this.baseUrlObject.href,"/login/device/code"),this.deviceFlowCompletionUrl=this.join(this.baseUrlObject.href,"/login/oauth/access_token"),this.userInfoUrl=this.join(s.href,"/user"),this.capiUrl=this.isEnterprise?this.prefixWith("copilot-api.",this.baseUrlObject).href:nfe,this.telemetryUrl=this.isEnterprise?this.join(this.prefixWith("copilot-telemetry-service.",this.baseUrlObject).href,"/telemetry"):ife,this.completionsUrl=sfe,this.originTrackerUrl=ofe}parseUrls(r){if(this.env.CODESPACES==="true"&&this.env.GITHUB_TOKEN&&this.env.GITHUB_SERVER_URL&&this.env.GITHUB_API_URL)try{return{base:new URL(this.env.GITHUB_SERVER_URL),api:new URL(this.env.GITHUB_API_URL)}}catch{}let n=new URL(r),s=this.prefixWith("api.",n);return{base:n,api:s}}isPermittedUrl(r,n){return this.isValidUrl(n)&&this.hasSupportedProtocol(r,n)}isValidUrl(r){try{if(r)return new URL(r),!0}catch{}return!1}hasSupportedProtocol(r,n){let s=new URL(n).protocol;return s==="https:"||!d9(r)&&s==="http:"}join(r,n){return n?new URL(n,r).href:r}prefixWith(r,n){return new URL(`${n.protocol}//${r}${n.host}`)}urlOrConfigOverride(r,n,s,l){if(l&&g4(r)){let f=Z5(r,l);return f.length==0?n:f}let a=Z5(r,s);return a.length==0?n:a}};o(HN,"DefaultNetworkConfiguration");var Db=HN;var xK=require("os");var afe=require("crypto"),lfe=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function ffe(e){let t=e.replace(/-/g,":").toLowerCase();return!lfe.has(t)}o(ffe,"validateMacAddress");function cfe(){let e=(0,xK.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(ffe(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(cfe,"getMac");var VN;function ufe(){try{let e=cfe();return afe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(ufe,"getMacMachineId");function _K(){return VN||(VN=ufe()||K2()),VN}o(_K,"getMachineId");var bK=Qn(require("tls"));var zN=class zN{constructor(t){this._certificateReader=t.get($f)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=bK.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(zN,"RootCertificateConfigurator");var Lb=zN;var GN=class GN extends fl{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,l)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new Lb(r),this.proxySocketFactory=r.get(_3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(df);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),dq({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let a=await this.fetchApi.fetch(r,s);return new cx(a.status,a.statusText,a.headers,()=>a.text(),async()=>a.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new hq}};o(GN,"HelixFetcher");var Bb=GN;var EK=$I(),dfe=K2()+Date.now();async function TK(){let e=pK(new vx);return e.set(Ff,new Db(e)),e.set(fl,new Bb(e)),e.set(cl,new KN(await hfe())),e.set(ja,new ja(dfe,_K())),e.forceSet(gf,new wx),await aA(e,EK.name,!0),e}o(TK,"createUninstallContext");async function hfe(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,CK.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",l=>{e==="unknown"&&(e=l.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",l=>r(l))})}catch{return e}}o(hfe,"lookupVscodeVersion");var WN=class WN extends cl{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:EK.version}}};o(WN,"UninstallEditorInfo");var KN=WN;async function gfe(){let e=await TK(),t=new Dx;process.argv.includes("--dry-run")||await t.uninstall(e)}o(gfe,"doUninstall");gfe().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.1.0
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
