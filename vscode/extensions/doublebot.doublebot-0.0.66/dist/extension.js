var f2e=Object.create;var Zy=Object.defineProperty;var M8=Object.getOwnPropertyDescriptor;var p2e=Object.getOwnPropertyNames;var h2e=Object.getPrototypeOf,g2e=Object.prototype.hasOwnProperty;var Ce=(t,e)=>()=>(t&&(e=t(t=0)),e);var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),nT=(t,e)=>{for(var r in e)Zy(t,r,{get:e[r],enumerable:!0})},x8=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of p2e(e))!g2e.call(t,s)&&s!==r&&Zy(t,s,{get:()=>e[s],enumerable:!(o=M8(e,s))||o.enumerable});return t};var ve=(t,e,r)=>(r=t!=null?f2e(h2e(t)):{},x8(e||!t||!t.__esModule?Zy(r,"default",{value:t,enumerable:!0}):r,t)),Y=t=>x8(Zy({},"__esModule",{value:!0}),t),iT=(t,e,r,o)=>{for(var s=o>1?void 0:o?M8(e,r):e,a=t.length-1,i;a>=0;a--)(i=t[a])&&(s=(o?i(e,r,s):i(s))||s);return o&&s&&Zy(e,r,s),s};var m2e,l=Ce(()=>{m2e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};m2e.SENTRY_RELEASE={id:"vscode-ext@0.0.66"}});var L8=h((oT,D8)=>{l();(function(t,e){typeof oT=="object"&&typeof D8<"u"?e(oT):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.WebStreamsPolyfill={}))})(oT,function(t){"use strict";function e(){}function r(p){return typeof p=="object"&&p!==null||typeof p=="function"}let o=e;function s(p,m){try{Object.defineProperty(p,"name",{value:m,configurable:!0})}catch{}}let a=Promise,i=Promise.prototype.then,n=Promise.reject.bind(a);function u(p){return new a(p)}function c(p){return u(m=>m(p))}function d(p){return n(p)}function f(p,m,b){return i.call(p,m,b)}function g(p,m,b){f(f(p,m,b),void 0,o)}function y(p,m){g(p,m)}function S(p,m){g(p,void 0,m)}function T(p,m,b){return f(p,m,b)}function C(p){f(p,void 0,o)}let R=p=>{if(typeof queueMicrotask=="function")R=queueMicrotask;else{let m=c(void 0);R=b=>f(m,b)}return R(p)};function P(p,m,b){if(typeof p!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(p,m,b)}function M(p,m,b){try{return c(P(p,m,b))}catch(w){return d(w)}}let x=16384;class U{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(m){let b=this._back,w=b;b._elements.length===x-1&&(w={_elements:[],_next:void 0}),b._elements.push(m),w!==b&&(this._back=w,b._next=w),++this._size}shift(){let m=this._front,b=m,w=this._cursor,B=w+1,Z=m._elements,q=Z[w];return B===x&&(b=m._next,B=0),--this._size,this._cursor=B,m!==b&&(this._front=b),Z[w]=void 0,q}forEach(m){let b=this._cursor,w=this._front,B=w._elements;for(;(b!==B.length||w._next!==void 0)&&!(b===B.length&&(w=w._next,B=w._elements,b=0,B.length===0));)m(B[b]),++b}peek(){let m=this._front,b=this._cursor;return m._elements[b]}}let D=Symbol("[[AbortSteps]]"),W=Symbol("[[ErrorSteps]]"),re=Symbol("[[CancelSteps]]"),ie=Symbol("[[PullSteps]]"),_e=Symbol("[[ReleaseSteps]]");function L(p,m){p._ownerReadableStream=m,m._reader=p,m._state==="readable"?te(p):m._state==="closed"?J(p):H(p,m._storedError)}function le(p,m){let b=p._ownerReadableStream;return Do(b,m)}function k(p){let m=p._ownerReadableStream;m._state==="readable"?ce(p,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Oe(p,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),m._readableStreamController[_e](),m._reader=void 0,p._ownerReadableStream=void 0}function O(p){return new TypeError("Cannot "+p+" a stream using a released reader")}function te(p){p._closedPromise=u((m,b)=>{p._closedPromise_resolve=m,p._closedPromise_reject=b})}function H(p,m){te(p),ce(p,m)}function J(p){te(p),ue(p)}function ce(p,m){p._closedPromise_reject!==void 0&&(C(p._closedPromise),p._closedPromise_reject(m),p._closedPromise_resolve=void 0,p._closedPromise_reject=void 0)}function Oe(p,m){H(p,m)}function ue(p){p._closedPromise_resolve!==void 0&&(p._closedPromise_resolve(void 0),p._closedPromise_resolve=void 0,p._closedPromise_reject=void 0)}let st=Number.isFinite||function(p){return typeof p=="number"&&isFinite(p)},$e=Math.trunc||function(p){return p<0?Math.ceil(p):Math.floor(p)};function Ge(p){return typeof p=="object"||typeof p=="function"}function at(p,m){if(p!==void 0&&!Ge(p))throw new TypeError(`${m} is not an object.`)}function He(p,m){if(typeof p!="function")throw new TypeError(`${m} is not a function.`)}function vt(p){return typeof p=="object"&&p!==null||typeof p=="function"}function ar(p,m){if(!vt(p))throw new TypeError(`${m} is not an object.`)}function Ze(p,m,b){if(p===void 0)throw new TypeError(`Parameter ${m} is required in '${b}'.`)}function Q(p,m,b){if(p===void 0)throw new TypeError(`${m} is required in '${b}'.`)}function ee(p){return Number(p)}function oe(p){return p===0?0:p}function Ee(p){return oe($e(p))}function ye(p,m){let w=Number.MAX_SAFE_INTEGER,B=Number(p);if(B=oe(B),!st(B))throw new TypeError(`${m} is not a finite number`);if(B=Ee(B),B<0||B>w)throw new TypeError(`${m} is outside the accepted range of 0 to ${w}, inclusive`);return!st(B)||B===0?0:B}function Fe(p,m){if(!qu(p))throw new TypeError(`${m} is not a ReadableStream.`)}function Ot(p){return new wn(p)}function Wr(p,m){p._reader._readRequests.push(m)}function jt(p,m,b){let B=p._reader._readRequests.shift();b?B._closeSteps():B._chunkSteps(m)}function mi(p){return p._reader._readRequests.length}function xy(p){let m=p._reader;return!(m===void 0||!Fu(m))}class wn{constructor(m){if(Ze(m,1,"ReadableStreamDefaultReader"),Fe(m,"First parameter"),Yu(m))throw new TypeError("This stream has already been locked for exclusive reading by another reader");L(this,m),this._readRequests=new U}get closed(){return Fu(this)?this._closedPromise:d(Nv("closed"))}cancel(m=void 0){return Fu(this)?this._ownerReadableStream===void 0?d(O("cancel")):le(this,m):d(Nv("cancel"))}read(){if(!Fu(this))return d(Nv("read"));if(this._ownerReadableStream===void 0)return d(O("read from"));let m,b,w=u((Z,q)=>{m=Z,b=q});return By(this,{_chunkSteps:Z=>m({value:Z,done:!1}),_closeSteps:()=>m({value:void 0,done:!0}),_errorSteps:Z=>b(Z)}),w}releaseLock(){if(!Fu(this))throw Nv("releaseLock");this._ownerReadableStream!==void 0&&ODe(this)}}Object.defineProperties(wn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(wn.prototype.cancel,"cancel"),s(wn.prototype.read,"read"),s(wn.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Fu(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_readRequests")?!1:p instanceof wn}function By(p,m){let b=p._ownerReadableStream;b._disturbed=!0,b._state==="closed"?m._closeSteps():b._state==="errored"?m._errorSteps(b._storedError):b._readableStreamController[ie](m)}function ODe(p){k(p);let m=new TypeError("Reader was released");AX(p,m)}function AX(p,m){let b=p._readRequests;p._readRequests=new U,b.forEach(w=>{w._errorSteps(m)})}function Nv(p){return new TypeError(`ReadableStreamDefaultReader.prototype.${p} can only be used on a ReadableStreamDefaultReader`)}let NDe=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class IX{constructor(m,b){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=m,this._preventCancel=b}next(){let m=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?T(this._ongoingPromise,m,m):m(),this._ongoingPromise}return(m){let b=()=>this._returnSteps(m);return this._ongoingPromise?T(this._ongoingPromise,b,b):b()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let m=this._reader,b,w,B=u((q,fe)=>{b=q,w=fe});return By(m,{_chunkSteps:q=>{this._ongoingPromise=void 0,R(()=>b({value:q,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,k(m),b({value:void 0,done:!0})},_errorSteps:q=>{this._ongoingPromise=void 0,this._isFinished=!0,k(m),w(q)}}),B}_returnSteps(m){if(this._isFinished)return Promise.resolve({value:m,done:!0});this._isFinished=!0;let b=this._reader;if(!this._preventCancel){let w=le(b,m);return k(b),T(w,()=>({value:m,done:!0}))}return k(b),c({value:m,done:!0})}}let CX={next(){return RX(this)?this._asyncIteratorImpl.next():d(OX("next"))},return(p){return RX(this)?this._asyncIteratorImpl.return(p):d(OX("return"))}};Object.setPrototypeOf(CX,NDe);function wDe(p,m){let b=Ot(p),w=new IX(b,m),B=Object.create(CX);return B._asyncIteratorImpl=w,B}function RX(p){if(!r(p)||!Object.prototype.hasOwnProperty.call(p,"_asyncIteratorImpl"))return!1;try{return p._asyncIteratorImpl instanceof IX}catch{return!1}}function OX(p){return new TypeError(`ReadableStreamAsyncIterator.${p} can only be used on a ReadableSteamAsyncIterator`)}let NX=Number.isNaN||function(p){return p!==p};var fB,pB,hB;function Dy(p){return p.slice()}function wX(p,m,b,w,B){new Uint8Array(p).set(new Uint8Array(b,w,B),m)}let va=p=>(typeof p.transfer=="function"?va=m=>m.transfer():typeof structuredClone=="function"?va=m=>structuredClone(m,{transfer:[m]}):va=m=>m,va(p)),Hu=p=>(typeof p.detached=="boolean"?Hu=m=>m.detached:Hu=m=>m.byteLength===0,Hu(p));function PX(p,m,b){if(p.slice)return p.slice(m,b);let w=b-m,B=new ArrayBuffer(w);return wX(B,0,p,m,w),B}function wv(p,m){let b=p[m];if(b!=null){if(typeof b!="function")throw new TypeError(`${String(m)} is not a function`);return b}}function PDe(p){let m={[Symbol.iterator]:()=>p.iterator},b=async function*(){return yield*m}(),w=b.next;return{iterator:b,nextMethod:w,done:!1}}let gB=(hB=(fB=Symbol.asyncIterator)!==null&&fB!==void 0?fB:(pB=Symbol.for)===null||pB===void 0?void 0:pB.call(Symbol,"Symbol.asyncIterator"))!==null&&hB!==void 0?hB:"@@asyncIterator";function MX(p,m="sync",b){if(b===void 0)if(m==="async"){if(b=wv(p,gB),b===void 0){let Z=wv(p,Symbol.iterator),q=MX(p,"sync",Z);return PDe(q)}}else b=wv(p,Symbol.iterator);if(b===void 0)throw new TypeError("The object is not iterable");let w=P(b,p,[]);if(!r(w))throw new TypeError("The iterator method must return an object");let B=w.next;return{iterator:w,nextMethod:B,done:!1}}function MDe(p){let m=P(p.nextMethod,p.iterator,[]);if(!r(m))throw new TypeError("The iterator.next() method must return an object");return m}function xDe(p){return!!p.done}function BDe(p){return p.value}function DDe(p){return!(typeof p!="number"||NX(p)||p<0)}function xX(p){let m=PX(p.buffer,p.byteOffset,p.byteOffset+p.byteLength);return new Uint8Array(m)}function mB(p){let m=p._queue.shift();return p._queueTotalSize-=m.size,p._queueTotalSize<0&&(p._queueTotalSize=0),m.value}function yB(p,m,b){if(!DDe(b)||b===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");p._queue.push({value:m,size:b}),p._queueTotalSize+=b}function LDe(p){return p._queue.peek().value}function ku(p){p._queue=new U,p._queueTotalSize=0}function BX(p){return p===DataView}function UDe(p){return BX(p.constructor)}function GDe(p){return BX(p)?1:p.BYTES_PER_ELEMENT}class Bl{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!_B(this))throw TB("view");return this._view}respond(m){if(!_B(this))throw TB("respond");if(Ze(m,1,"respond"),m=ye(m,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Hu(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Bv(this._associatedReadableByteStreamController,m)}respondWithNewView(m){if(!_B(this))throw TB("respondWithNewView");if(Ze(m,1,"respondWithNewView"),!ArrayBuffer.isView(m))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Hu(m.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Dv(this._associatedReadableByteStreamController,m)}}Object.defineProperties(Bl.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),s(Bl.prototype.respond,"respond"),s(Bl.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Bl.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ta{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Dl(this))throw Uy("byobRequest");return vB(this)}get desiredSize(){if(!Dl(this))throw Uy("desiredSize");return ZX(this)}close(){if(!Dl(this))throw Uy("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let m=this._controlledReadableByteStream._state;if(m!=="readable")throw new TypeError(`The stream (in ${m} state) is not in the readable state and cannot be closed`);Ly(this)}enqueue(m){if(!Dl(this))throw Uy("enqueue");if(Ze(m,1,"enqueue"),!ArrayBuffer.isView(m))throw new TypeError("chunk must be an array buffer view");if(m.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(m.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let b=this._controlledReadableByteStream._state;if(b!=="readable")throw new TypeError(`The stream (in ${b} state) is not in the readable state and cannot be enqueued to`);xv(this,m)}error(m=void 0){if(!Dl(this))throw Uy("error");qi(this,m)}[re](m){DX(this),ku(this);let b=this._cancelAlgorithm(m);return Mv(this),b}[ie](m){let b=this._controlledReadableByteStream;if(this._queueTotalSize>0){WX(this,m);return}let w=this._autoAllocateChunkSize;if(w!==void 0){let B;try{B=new ArrayBuffer(w)}catch(q){m._errorSteps(q);return}let Z={buffer:B,bufferByteLength:w,byteOffset:0,byteLength:w,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Z)}Wr(b,m),Ll(this)}[_e](){if(this._pendingPullIntos.length>0){let m=this._pendingPullIntos.peek();m.readerType="none",this._pendingPullIntos=new U,this._pendingPullIntos.push(m)}}}Object.defineProperties(Ta.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Ta.prototype.close,"close"),s(Ta.prototype.enqueue,"enqueue"),s(Ta.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ta.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Dl(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_controlledReadableByteStream")?!1:p instanceof Ta}function _B(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_associatedReadableByteStreamController")?!1:p instanceof Bl}function Ll(p){if(!WDe(p))return;if(p._pulling){p._pullAgain=!0;return}p._pulling=!0;let b=p._pullAlgorithm();g(b,()=>(p._pulling=!1,p._pullAgain&&(p._pullAgain=!1,Ll(p)),null),w=>(qi(p,w),null))}function DX(p){bB(p),p._pendingPullIntos=new U}function SB(p,m){let b=!1;p._state==="closed"&&(b=!0);let w=LX(m);m.readerType==="default"?jt(p,w,b):XDe(p,w,b)}function LX(p){let m=p.bytesFilled,b=p.elementSize;return new p.viewConstructor(p.buffer,p.byteOffset,m/b)}function Pv(p,m,b,w){p._queue.push({buffer:m,byteOffset:b,byteLength:w}),p._queueTotalSize+=w}function UX(p,m,b,w){let B;try{B=PX(m,b,b+w)}catch(Z){throw qi(p,Z),Z}Pv(p,B,0,w)}function GX(p,m){m.bytesFilled>0&&UX(p,m.buffer,m.byteOffset,m.bytesFilled),Op(p)}function VX(p,m){let b=Math.min(p._queueTotalSize,m.byteLength-m.bytesFilled),w=m.bytesFilled+b,B=b,Z=!1,q=w%m.elementSize,fe=w-q;fe>=m.minimumFill&&(B=fe-m.bytesFilled,Z=!0);let Ve=p._queue;for(;B>0;){let Ie=Ve.peek(),qe=Math.min(B,Ie.byteLength),et=m.byteOffset+m.bytesFilled;wX(m.buffer,et,Ie.buffer,Ie.byteOffset,qe),Ie.byteLength===qe?Ve.shift():(Ie.byteOffset+=qe,Ie.byteLength-=qe),p._queueTotalSize-=qe,FX(p,qe,m),B-=qe}return Z}function FX(p,m,b){b.bytesFilled+=m}function HX(p){p._queueTotalSize===0&&p._closeRequested?(Mv(p),Wy(p._controlledReadableByteStream)):Ll(p)}function bB(p){p._byobRequest!==null&&(p._byobRequest._associatedReadableByteStreamController=void 0,p._byobRequest._view=null,p._byobRequest=null)}function EB(p){for(;p._pendingPullIntos.length>0;){if(p._queueTotalSize===0)return;let m=p._pendingPullIntos.peek();VX(p,m)&&(Op(p),SB(p._controlledReadableByteStream,m))}}function VDe(p){let m=p._controlledReadableByteStream._reader;for(;m._readRequests.length>0;){if(p._queueTotalSize===0)return;let b=m._readRequests.shift();WX(p,b)}}function FDe(p,m,b,w){let B=p._controlledReadableByteStream,Z=m.constructor,q=GDe(Z),{byteOffset:fe,byteLength:Ve}=m,Ie=b*q,qe;try{qe=va(m.buffer)}catch(Ct){w._errorSteps(Ct);return}let et={buffer:qe,bufferByteLength:qe.byteLength,byteOffset:fe,byteLength:Ve,bytesFilled:0,minimumFill:Ie,elementSize:q,viewConstructor:Z,readerType:"byob"};if(p._pendingPullIntos.length>0){p._pendingPullIntos.push(et),jX(B,w);return}if(B._state==="closed"){let Ct=new Z(et.buffer,et.byteOffset,0);w._closeSteps(Ct);return}if(p._queueTotalSize>0){if(VX(p,et)){let Ct=LX(et);HX(p),w._chunkSteps(Ct);return}if(p._closeRequested){let Ct=new TypeError("Insufficient bytes to fill elements in the given buffer");qi(p,Ct),w._errorSteps(Ct);return}}p._pendingPullIntos.push(et),jX(B,w),Ll(p)}function HDe(p,m){m.readerType==="none"&&Op(p);let b=p._controlledReadableByteStream;if(AB(b))for(;KX(b)>0;){let w=Op(p);SB(b,w)}}function kDe(p,m,b){if(FX(p,m,b),b.readerType==="none"){GX(p,b),EB(p);return}if(b.bytesFilled<b.minimumFill)return;Op(p);let w=b.bytesFilled%b.elementSize;if(w>0){let B=b.byteOffset+b.bytesFilled;UX(p,b.buffer,B-w,w)}b.bytesFilled-=w,SB(p._controlledReadableByteStream,b),EB(p)}function kX(p,m){let b=p._pendingPullIntos.peek();bB(p),p._controlledReadableByteStream._state==="closed"?HDe(p,b):kDe(p,m,b),Ll(p)}function Op(p){return p._pendingPullIntos.shift()}function WDe(p){let m=p._controlledReadableByteStream;return m._state!=="readable"||p._closeRequested||!p._started?!1:!!(xy(m)&&mi(m)>0||AB(m)&&KX(m)>0||ZX(p)>0)}function Mv(p){p._pullAlgorithm=void 0,p._cancelAlgorithm=void 0}function Ly(p){let m=p._controlledReadableByteStream;if(!(p._closeRequested||m._state!=="readable")){if(p._queueTotalSize>0){p._closeRequested=!0;return}if(p._pendingPullIntos.length>0){let b=p._pendingPullIntos.peek();if(b.bytesFilled%b.elementSize!==0){let w=new TypeError("Insufficient bytes to fill elements in the given buffer");throw qi(p,w),w}}Mv(p),Wy(m)}}function xv(p,m){let b=p._controlledReadableByteStream;if(p._closeRequested||b._state!=="readable")return;let{buffer:w,byteOffset:B,byteLength:Z}=m;if(Hu(w))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let q=va(w);if(p._pendingPullIntos.length>0){let fe=p._pendingPullIntos.peek();if(Hu(fe.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");bB(p),fe.buffer=va(fe.buffer),fe.readerType==="none"&&GX(p,fe)}if(xy(b))if(VDe(p),mi(b)===0)Pv(p,q,B,Z);else{p._pendingPullIntos.length>0&&Op(p);let fe=new Uint8Array(q,B,Z);jt(b,fe,!1)}else AB(b)?(Pv(p,q,B,Z),EB(p)):Pv(p,q,B,Z);Ll(p)}function qi(p,m){let b=p._controlledReadableByteStream;b._state==="readable"&&(DX(p),ku(p),Mv(p),_8(b,m))}function WX(p,m){let b=p._queue.shift();p._queueTotalSize-=b.byteLength,HX(p);let w=new Uint8Array(b.buffer,b.byteOffset,b.byteLength);m._chunkSteps(w)}function vB(p){if(p._byobRequest===null&&p._pendingPullIntos.length>0){let m=p._pendingPullIntos.peek(),b=new Uint8Array(m.buffer,m.byteOffset+m.bytesFilled,m.byteLength-m.bytesFilled),w=Object.create(Bl.prototype);qDe(w,p,b),p._byobRequest=w}return p._byobRequest}function ZX(p){let m=p._controlledReadableByteStream._state;return m==="errored"?null:m==="closed"?0:p._strategyHWM-p._queueTotalSize}function Bv(p,m){let b=p._pendingPullIntos.peek();if(p._controlledReadableByteStream._state==="closed"){if(m!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(m===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(b.bytesFilled+m>b.byteLength)throw new RangeError("bytesWritten out of range")}b.buffer=va(b.buffer),kX(p,m)}function Dv(p,m){let b=p._pendingPullIntos.peek();if(p._controlledReadableByteStream._state==="closed"){if(m.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(m.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(b.byteOffset+b.bytesFilled!==m.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(b.bufferByteLength!==m.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(b.bytesFilled+m.byteLength>b.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let B=m.byteLength;b.buffer=va(m.buffer),kX(p,B)}function qX(p,m,b,w,B,Z,q){m._controlledReadableByteStream=p,m._pullAgain=!1,m._pulling=!1,m._byobRequest=null,m._queue=m._queueTotalSize=void 0,ku(m),m._closeRequested=!1,m._started=!1,m._strategyHWM=Z,m._pullAlgorithm=w,m._cancelAlgorithm=B,m._autoAllocateChunkSize=q,m._pendingPullIntos=new U,p._readableStreamController=m;let fe=b();g(c(fe),()=>(m._started=!0,Ll(m),null),Ve=>(qi(m,Ve),null))}function ZDe(p,m,b){let w=Object.create(Ta.prototype),B,Z,q;m.start!==void 0?B=()=>m.start(w):B=()=>{},m.pull!==void 0?Z=()=>m.pull(w):Z=()=>c(void 0),m.cancel!==void 0?q=Ve=>m.cancel(Ve):q=()=>c(void 0);let fe=m.autoAllocateChunkSize;if(fe===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");qX(p,w,B,Z,q,b,fe)}function qDe(p,m,b){p._associatedReadableByteStreamController=m,p._view=b}function TB(p){return new TypeError(`ReadableStreamBYOBRequest.prototype.${p} can only be used on a ReadableStreamBYOBRequest`)}function Uy(p){return new TypeError(`ReadableByteStreamController.prototype.${p} can only be used on a ReadableByteStreamController`)}function YDe(p,m){at(p,m);let b=p?.mode;return{mode:b===void 0?void 0:jDe(b,`${m} has member 'mode' that`)}}function jDe(p,m){if(p=`${p}`,p!=="byob")throw new TypeError(`${m} '${p}' is not a valid enumeration value for ReadableStreamReaderMode`);return p}function KDe(p,m){var b;at(p,m);let w=(b=p?.min)!==null&&b!==void 0?b:1;return{min:ye(w,`${m} has member 'min' that`)}}function YX(p){return new Wu(p)}function jX(p,m){p._reader._readIntoRequests.push(m)}function XDe(p,m,b){let B=p._reader._readIntoRequests.shift();b?B._closeSteps(m):B._chunkSteps(m)}function KX(p){return p._reader._readIntoRequests.length}function AB(p){let m=p._reader;return!(m===void 0||!Ul(m))}class Wu{constructor(m){if(Ze(m,1,"ReadableStreamBYOBReader"),Fe(m,"First parameter"),Yu(m))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Dl(m._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");L(this,m),this._readIntoRequests=new U}get closed(){return Ul(this)?this._closedPromise:d(Lv("closed"))}cancel(m=void 0){return Ul(this)?this._ownerReadableStream===void 0?d(O("cancel")):le(this,m):d(Lv("cancel"))}read(m,b={}){if(!Ul(this))return d(Lv("read"));if(!ArrayBuffer.isView(m))return d(new TypeError("view must be an array buffer view"));if(m.byteLength===0)return d(new TypeError("view must have non-zero byteLength"));if(m.buffer.byteLength===0)return d(new TypeError("view's buffer must have non-zero byteLength"));if(Hu(m.buffer))return d(new TypeError("view's buffer has been detached"));let w;try{w=KDe(b,"options")}catch(Ie){return d(Ie)}let B=w.min;if(B===0)return d(new TypeError("options.min must be greater than 0"));if(UDe(m)){if(B>m.byteLength)return d(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(B>m.length)return d(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return d(O("read from"));let Z,q,fe=u((Ie,qe)=>{Z=Ie,q=qe});return XX(this,m,B,{_chunkSteps:Ie=>Z({value:Ie,done:!1}),_closeSteps:Ie=>Z({value:Ie,done:!0}),_errorSteps:Ie=>q(Ie)}),fe}releaseLock(){if(!Ul(this))throw Lv("releaseLock");this._ownerReadableStream!==void 0&&zDe(this)}}Object.defineProperties(Wu.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),s(Wu.prototype.cancel,"cancel"),s(Wu.prototype.read,"read"),s(Wu.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Wu.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ul(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_readIntoRequests")?!1:p instanceof Wu}function XX(p,m,b,w){let B=p._ownerReadableStream;B._disturbed=!0,B._state==="errored"?w._errorSteps(B._storedError):FDe(B._readableStreamController,m,b,w)}function zDe(p){k(p);let m=new TypeError("Reader was released");zX(p,m)}function zX(p,m){let b=p._readIntoRequests;p._readIntoRequests=new U,b.forEach(w=>{w._errorSteps(m)})}function Lv(p){return new TypeError(`ReadableStreamBYOBReader.prototype.${p} can only be used on a ReadableStreamBYOBReader`)}function Gy(p,m){let{highWaterMark:b}=p;if(b===void 0)return m;if(NX(b)||b<0)throw new RangeError("Invalid highWaterMark");return b}function Uv(p){let{size:m}=p;return m||(()=>1)}function Gv(p,m){at(p,m);let b=p?.highWaterMark,w=p?.size;return{highWaterMark:b===void 0?void 0:ee(b),size:w===void 0?void 0:JDe(w,`${m} has member 'size' that`)}}function JDe(p,m){return He(p,m),b=>ee(p(b))}function $De(p,m){at(p,m);let b=p?.abort,w=p?.close,B=p?.start,Z=p?.type,q=p?.write;return{abort:b===void 0?void 0:QDe(b,p,`${m} has member 'abort' that`),close:w===void 0?void 0:eLe(w,p,`${m} has member 'close' that`),start:B===void 0?void 0:tLe(B,p,`${m} has member 'start' that`),write:q===void 0?void 0:rLe(q,p,`${m} has member 'write' that`),type:Z}}function QDe(p,m,b){return He(p,b),w=>M(p,m,[w])}function eLe(p,m,b){return He(p,b),()=>M(p,m,[])}function tLe(p,m,b){return He(p,b),w=>P(p,m,[w])}function rLe(p,m,b){return He(p,b),(w,B)=>M(p,m,[w,B])}function JX(p,m){if(!Np(p))throw new TypeError(`${m} is not a WritableStream.`)}function nLe(p){if(typeof p!="object"||p===null)return!1;try{return typeof p.aborted=="boolean"}catch{return!1}}let iLe=typeof AbortController=="function";function oLe(){if(iLe)return new AbortController}class Zu{constructor(m={},b={}){m===void 0?m=null:ar(m,"First parameter");let w=Gv(b,"Second parameter"),B=$De(m,"First parameter");if(QX(this),B.type!==void 0)throw new RangeError("Invalid type is specified");let q=Uv(w),fe=Gy(w,1);SLe(this,B,fe,q)}get locked(){if(!Np(this))throw Wv("locked");return wp(this)}abort(m=void 0){return Np(this)?wp(this)?d(new TypeError("Cannot abort a stream that already has a writer")):Vv(this,m):d(Wv("abort"))}close(){return Np(this)?wp(this)?d(new TypeError("Cannot close a stream that already has a writer")):gs(this)?d(new TypeError("Cannot close an already-closing stream")):e8(this):d(Wv("close"))}getWriter(){if(!Np(this))throw Wv("getWriter");return $X(this)}}Object.defineProperties(Zu.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),s(Zu.prototype.abort,"abort"),s(Zu.prototype.close,"close"),s(Zu.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Zu.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});function $X(p){return new Aa(p)}function sLe(p,m,b,w,B=1,Z=()=>1){let q=Object.create(Zu.prototype);QX(q);let fe=Object.create(Pp.prototype);return s8(q,fe,p,m,b,w,B,Z),q}function QX(p){p._state="writable",p._storedError=void 0,p._writer=void 0,p._writableStreamController=void 0,p._writeRequests=new U,p._inFlightWriteRequest=void 0,p._closeRequest=void 0,p._inFlightCloseRequest=void 0,p._pendingAbortRequest=void 0,p._backpressure=!1}function Np(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_writableStreamController")?!1:p instanceof Zu}function wp(p){return p._writer!==void 0}function Vv(p,m){var b;if(p._state==="closed"||p._state==="errored")return c(void 0);p._writableStreamController._abortReason=m,(b=p._writableStreamController._abortController)===null||b===void 0||b.abort(m);let w=p._state;if(w==="closed"||w==="errored")return c(void 0);if(p._pendingAbortRequest!==void 0)return p._pendingAbortRequest._promise;let B=!1;w==="erroring"&&(B=!0,m=void 0);let Z=u((q,fe)=>{p._pendingAbortRequest={_promise:void 0,_resolve:q,_reject:fe,_reason:m,_wasAlreadyErroring:B}});return p._pendingAbortRequest._promise=Z,B||CB(p,m),Z}function e8(p){let m=p._state;if(m==="closed"||m==="errored")return d(new TypeError(`The stream (in ${m} state) is not in the writable state and cannot be closed`));let b=u((B,Z)=>{let q={_resolve:B,_reject:Z};p._closeRequest=q}),w=p._writer;return w!==void 0&&p._backpressure&&m==="writable"&&BB(w),bLe(p._writableStreamController),b}function aLe(p){return u((b,w)=>{let B={_resolve:b,_reject:w};p._writeRequests.push(B)})}function IB(p,m){if(p._state==="writable"){CB(p,m);return}RB(p)}function CB(p,m){let b=p._writableStreamController;p._state="erroring",p._storedError=m;let w=p._writer;w!==void 0&&r8(w,m),!fLe(p)&&b._started&&RB(p)}function RB(p){p._state="errored",p._writableStreamController[W]();let m=p._storedError;if(p._writeRequests.forEach(B=>{B._reject(m)}),p._writeRequests=new U,p._pendingAbortRequest===void 0){Fv(p);return}let b=p._pendingAbortRequest;if(p._pendingAbortRequest=void 0,b._wasAlreadyErroring){b._reject(m),Fv(p);return}let w=p._writableStreamController[D](b._reason);g(w,()=>(b._resolve(),Fv(p),null),B=>(b._reject(B),Fv(p),null))}function uLe(p){p._inFlightWriteRequest._resolve(void 0),p._inFlightWriteRequest=void 0}function cLe(p,m){p._inFlightWriteRequest._reject(m),p._inFlightWriteRequest=void 0,IB(p,m)}function lLe(p){p._inFlightCloseRequest._resolve(void 0),p._inFlightCloseRequest=void 0,p._state==="erroring"&&(p._storedError=void 0,p._pendingAbortRequest!==void 0&&(p._pendingAbortRequest._resolve(),p._pendingAbortRequest=void 0)),p._state="closed";let b=p._writer;b!==void 0&&l8(b)}function dLe(p,m){p._inFlightCloseRequest._reject(m),p._inFlightCloseRequest=void 0,p._pendingAbortRequest!==void 0&&(p._pendingAbortRequest._reject(m),p._pendingAbortRequest=void 0),IB(p,m)}function gs(p){return!(p._closeRequest===void 0&&p._inFlightCloseRequest===void 0)}function fLe(p){return!(p._inFlightWriteRequest===void 0&&p._inFlightCloseRequest===void 0)}function pLe(p){p._inFlightCloseRequest=p._closeRequest,p._closeRequest=void 0}function hLe(p){p._inFlightWriteRequest=p._writeRequests.shift()}function Fv(p){p._closeRequest!==void 0&&(p._closeRequest._reject(p._storedError),p._closeRequest=void 0);let m=p._writer;m!==void 0&&MB(m,p._storedError)}function OB(p,m){let b=p._writer;b!==void 0&&m!==p._backpressure&&(m?RLe(b):BB(b)),p._backpressure=m}class Aa{constructor(m){if(Ze(m,1,"WritableStreamDefaultWriter"),JX(m,"First parameter"),wp(m))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=m,m._writer=this;let b=m._state;if(b==="writable")!gs(m)&&m._backpressure?qv(this):d8(this),Zv(this);else if(b==="erroring")xB(this,m._storedError),Zv(this);else if(b==="closed")d8(this),ILe(this);else{let w=m._storedError;xB(this,w),c8(this,w)}}get closed(){return Gl(this)?this._closedPromise:d(Vl("closed"))}get desiredSize(){if(!Gl(this))throw Vl("desiredSize");if(this._ownerWritableStream===void 0)throw Fy("desiredSize");return _Le(this)}get ready(){return Gl(this)?this._readyPromise:d(Vl("ready"))}abort(m=void 0){return Gl(this)?this._ownerWritableStream===void 0?d(Fy("abort")):gLe(this,m):d(Vl("abort"))}close(){if(!Gl(this))return d(Vl("close"));let m=this._ownerWritableStream;return m===void 0?d(Fy("close")):gs(m)?d(new TypeError("Cannot close an already-closing stream")):t8(this)}releaseLock(){if(!Gl(this))throw Vl("releaseLock");this._ownerWritableStream!==void 0&&n8(this)}write(m=void 0){return Gl(this)?this._ownerWritableStream===void 0?d(Fy("write to")):i8(this,m):d(Vl("write"))}}Object.defineProperties(Aa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),s(Aa.prototype.abort,"abort"),s(Aa.prototype.close,"close"),s(Aa.prototype.releaseLock,"releaseLock"),s(Aa.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Aa.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Gl(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_ownerWritableStream")?!1:p instanceof Aa}function gLe(p,m){let b=p._ownerWritableStream;return Vv(b,m)}function t8(p){let m=p._ownerWritableStream;return e8(m)}function mLe(p){let m=p._ownerWritableStream,b=m._state;return gs(m)||b==="closed"?c(void 0):b==="errored"?d(m._storedError):t8(p)}function yLe(p,m){p._closedPromiseState==="pending"?MB(p,m):CLe(p,m)}function r8(p,m){p._readyPromiseState==="pending"?f8(p,m):OLe(p,m)}function _Le(p){let m=p._ownerWritableStream,b=m._state;return b==="errored"||b==="erroring"?null:b==="closed"?0:a8(m._writableStreamController)}function n8(p){let m=p._ownerWritableStream,b=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");r8(p,b),yLe(p,b),m._writer=void 0,p._ownerWritableStream=void 0}function i8(p,m){let b=p._ownerWritableStream,w=b._writableStreamController,B=ELe(w,m);if(b!==p._ownerWritableStream)return d(Fy("write to"));let Z=b._state;if(Z==="errored")return d(b._storedError);if(gs(b)||Z==="closed")return d(new TypeError("The stream is closing or closed and cannot be written to"));if(Z==="erroring")return d(b._storedError);let q=aLe(b);return vLe(w,m,B),q}let o8={};class Pp{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!NB(this))throw PB("abortReason");return this._abortReason}get signal(){if(!NB(this))throw PB("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(m=void 0){if(!NB(this))throw PB("error");this._controlledWritableStream._state==="writable"&&u8(this,m)}[D](m){let b=this._abortAlgorithm(m);return Hv(this),b}[W](){ku(this)}}Object.defineProperties(Pp.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Pp.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function NB(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_controlledWritableStream")?!1:p instanceof Pp}function s8(p,m,b,w,B,Z,q,fe){m._controlledWritableStream=p,p._writableStreamController=m,m._queue=void 0,m._queueTotalSize=void 0,ku(m),m._abortReason=void 0,m._abortController=oLe(),m._started=!1,m._strategySizeAlgorithm=fe,m._strategyHWM=q,m._writeAlgorithm=w,m._closeAlgorithm=B,m._abortAlgorithm=Z;let Ve=wB(m);OB(p,Ve);let Ie=b(),qe=c(Ie);g(qe,()=>(m._started=!0,kv(m),null),et=>(m._started=!0,IB(p,et),null))}function SLe(p,m,b,w){let B=Object.create(Pp.prototype),Z,q,fe,Ve;m.start!==void 0?Z=()=>m.start(B):Z=()=>{},m.write!==void 0?q=Ie=>m.write(Ie,B):q=()=>c(void 0),m.close!==void 0?fe=()=>m.close():fe=()=>c(void 0),m.abort!==void 0?Ve=Ie=>m.abort(Ie):Ve=()=>c(void 0),s8(p,B,Z,q,fe,Ve,b,w)}function Hv(p){p._writeAlgorithm=void 0,p._closeAlgorithm=void 0,p._abortAlgorithm=void 0,p._strategySizeAlgorithm=void 0}function bLe(p){yB(p,o8,0),kv(p)}function ELe(p,m){try{return p._strategySizeAlgorithm(m)}catch(b){return Vy(p,b),1}}function a8(p){return p._strategyHWM-p._queueTotalSize}function vLe(p,m,b){try{yB(p,m,b)}catch(B){Vy(p,B);return}let w=p._controlledWritableStream;if(!gs(w)&&w._state==="writable"){let B=wB(p);OB(w,B)}kv(p)}function kv(p){let m=p._controlledWritableStream;if(!p._started||m._inFlightWriteRequest!==void 0)return;if(m._state==="erroring"){RB(m);return}if(p._queue.length===0)return;let w=LDe(p);w===o8?TLe(p):ALe(p,w)}function Vy(p,m){p._controlledWritableStream._state==="writable"&&u8(p,m)}function TLe(p){let m=p._controlledWritableStream;pLe(m),mB(p);let b=p._closeAlgorithm();Hv(p),g(b,()=>(lLe(m),null),w=>(dLe(m,w),null))}function ALe(p,m){let b=p._controlledWritableStream;hLe(b);let w=p._writeAlgorithm(m);g(w,()=>{uLe(b);let B=b._state;if(mB(p),!gs(b)&&B==="writable"){let Z=wB(p);OB(b,Z)}return kv(p),null},B=>(b._state==="writable"&&Hv(p),cLe(b,B),null))}function wB(p){return a8(p)<=0}function u8(p,m){let b=p._controlledWritableStream;Hv(p),CB(b,m)}function Wv(p){return new TypeError(`WritableStream.prototype.${p} can only be used on a WritableStream`)}function PB(p){return new TypeError(`WritableStreamDefaultController.prototype.${p} can only be used on a WritableStreamDefaultController`)}function Vl(p){return new TypeError(`WritableStreamDefaultWriter.prototype.${p} can only be used on a WritableStreamDefaultWriter`)}function Fy(p){return new TypeError("Cannot "+p+" a stream using a released writer")}function Zv(p){p._closedPromise=u((m,b)=>{p._closedPromise_resolve=m,p._closedPromise_reject=b,p._closedPromiseState="pending"})}function c8(p,m){Zv(p),MB(p,m)}function ILe(p){Zv(p),l8(p)}function MB(p,m){p._closedPromise_reject!==void 0&&(C(p._closedPromise),p._closedPromise_reject(m),p._closedPromise_resolve=void 0,p._closedPromise_reject=void 0,p._closedPromiseState="rejected")}function CLe(p,m){c8(p,m)}function l8(p){p._closedPromise_resolve!==void 0&&(p._closedPromise_resolve(void 0),p._closedPromise_resolve=void 0,p._closedPromise_reject=void 0,p._closedPromiseState="resolved")}function qv(p){p._readyPromise=u((m,b)=>{p._readyPromise_resolve=m,p._readyPromise_reject=b}),p._readyPromiseState="pending"}function xB(p,m){qv(p),f8(p,m)}function d8(p){qv(p),BB(p)}function f8(p,m){p._readyPromise_reject!==void 0&&(C(p._readyPromise),p._readyPromise_reject(m),p._readyPromise_resolve=void 0,p._readyPromise_reject=void 0,p._readyPromiseState="rejected")}function RLe(p){qv(p)}function OLe(p,m){xB(p,m)}function BB(p){p._readyPromise_resolve!==void 0&&(p._readyPromise_resolve(void 0),p._readyPromise_resolve=void 0,p._readyPromise_reject=void 0,p._readyPromiseState="fulfilled")}function NLe(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}let DB=NLe();function wLe(p){if(!(typeof p=="function"||typeof p=="object")||p.name!=="DOMException")return!1;try{return new p,!0}catch{return!1}}function PLe(){let p=DB?.DOMException;return wLe(p)?p:void 0}function MLe(){let p=function(b,w){this.message=b||"",this.name=w||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return s(p,"DOMException"),p.prototype=Object.create(Error.prototype),Object.defineProperty(p.prototype,"constructor",{value:p,writable:!0,configurable:!0}),p}let xLe=PLe()||MLe();function p8(p,m,b,w,B,Z){let q=Ot(p),fe=$X(m);p._disturbed=!0;let Ve=!1,Ie=c(void 0);return u((qe,et)=>{let Ct;if(Z!==void 0){if(Ct=()=>{let Be=Z.reason!==void 0?Z.reason:new xLe("Aborted","AbortError"),lt=[];w||lt.push(()=>m._state==="writable"?Vv(m,Be):c(void 0)),B||lt.push(()=>p._state==="readable"?Do(p,Be):c(void 0)),jn(()=>Promise.all(lt.map(Nt=>Nt())),!0,Be)},Z.aborted){Ct();return}Z.addEventListener("abort",Ct)}function Lo(){return u((Be,lt)=>{function Nt(yi){yi?Be():f(Dp(),Nt,lt)}Nt(!1)})}function Dp(){return Ve?c(!0):f(fe._readyPromise,()=>u((Be,lt)=>{By(q,{_chunkSteps:Nt=>{Ie=f(i8(fe,Nt),void 0,e),Be(!1)},_closeSteps:()=>Be(!0),_errorSteps:lt})}))}if(Ca(p,q._closedPromise,Be=>(w?Yi(!0,Be):jn(()=>Vv(m,Be),!0,Be),null)),Ca(m,fe._closedPromise,Be=>(B?Yi(!0,Be):jn(()=>Do(p,Be),!0,Be),null)),Pn(p,q._closedPromise,()=>(b?Yi():jn(()=>mLe(fe)),null)),gs(m)||m._state==="closed"){let Be=new TypeError("the destination writable stream closed before all data could be piped to it");B?Yi(!0,Be):jn(()=>Do(p,Be),!0,Be)}C(Lo());function Ku(){let Be=Ie;return f(Ie,()=>Be!==Ie?Ku():void 0)}function Ca(Be,lt,Nt){Be._state==="errored"?Nt(Be._storedError):S(lt,Nt)}function Pn(Be,lt,Nt){Be._state==="closed"?Nt():y(lt,Nt)}function jn(Be,lt,Nt){if(Ve)return;Ve=!0,m._state==="writable"&&!gs(m)?y(Ku(),yi):yi();function yi(){return g(Be(),()=>Ra(lt,Nt),Lp=>Ra(!0,Lp)),null}}function Yi(Be,lt){Ve||(Ve=!0,m._state==="writable"&&!gs(m)?y(Ku(),()=>Ra(Be,lt)):Ra(Be,lt))}function Ra(Be,lt){return n8(fe),k(q),Z!==void 0&&Z.removeEventListener("abort",Ct),Be?et(lt):qe(void 0),null}})}class Ia{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Yv(this))throw Kv("desiredSize");return LB(this)}close(){if(!Yv(this))throw Kv("close");if(!xp(this))throw new TypeError("The stream is not in a state that permits close");Fl(this)}enqueue(m=void 0){if(!Yv(this))throw Kv("enqueue");if(!xp(this))throw new TypeError("The stream is not in a state that permits enqueue");return Mp(this,m)}error(m=void 0){if(!Yv(this))throw Kv("error");Bo(this,m)}[re](m){ku(this);let b=this._cancelAlgorithm(m);return jv(this),b}[ie](m){let b=this._controlledReadableStream;if(this._queue.length>0){let w=mB(this);this._closeRequested&&this._queue.length===0?(jv(this),Wy(b)):Hy(this),m._chunkSteps(w)}else Wr(b,m),Hy(this)}[_e](){}}Object.defineProperties(Ia.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),s(Ia.prototype.close,"close"),s(Ia.prototype.enqueue,"enqueue"),s(Ia.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Ia.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Yv(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_controlledReadableStream")?!1:p instanceof Ia}function Hy(p){if(!h8(p))return;if(p._pulling){p._pullAgain=!0;return}p._pulling=!0;let b=p._pullAlgorithm();g(b,()=>(p._pulling=!1,p._pullAgain&&(p._pullAgain=!1,Hy(p)),null),w=>(Bo(p,w),null))}function h8(p){let m=p._controlledReadableStream;return!xp(p)||!p._started?!1:!!(Yu(m)&&mi(m)>0||LB(p)>0)}function jv(p){p._pullAlgorithm=void 0,p._cancelAlgorithm=void 0,p._strategySizeAlgorithm=void 0}function Fl(p){if(!xp(p))return;let m=p._controlledReadableStream;p._closeRequested=!0,p._queue.length===0&&(jv(p),Wy(m))}function Mp(p,m){if(!xp(p))return;let b=p._controlledReadableStream;if(Yu(b)&&mi(b)>0)jt(b,m,!1);else{let w;try{w=p._strategySizeAlgorithm(m)}catch(B){throw Bo(p,B),B}try{yB(p,m,w)}catch(B){throw Bo(p,B),B}}Hy(p)}function Bo(p,m){let b=p._controlledReadableStream;b._state==="readable"&&(ku(p),jv(p),_8(b,m))}function LB(p){let m=p._controlledReadableStream._state;return m==="errored"?null:m==="closed"?0:p._strategyHWM-p._queueTotalSize}function BLe(p){return!h8(p)}function xp(p){let m=p._controlledReadableStream._state;return!p._closeRequested&&m==="readable"}function g8(p,m,b,w,B,Z,q){m._controlledReadableStream=p,m._queue=void 0,m._queueTotalSize=void 0,ku(m),m._started=!1,m._closeRequested=!1,m._pullAgain=!1,m._pulling=!1,m._strategySizeAlgorithm=q,m._strategyHWM=Z,m._pullAlgorithm=w,m._cancelAlgorithm=B,p._readableStreamController=m;let fe=b();g(c(fe),()=>(m._started=!0,Hy(m),null),Ve=>(Bo(m,Ve),null))}function DLe(p,m,b,w){let B=Object.create(Ia.prototype),Z,q,fe;m.start!==void 0?Z=()=>m.start(B):Z=()=>{},m.pull!==void 0?q=()=>m.pull(B):q=()=>c(void 0),m.cancel!==void 0?fe=Ve=>m.cancel(Ve):fe=()=>c(void 0),g8(p,B,Z,q,fe,b,w)}function Kv(p){return new TypeError(`ReadableStreamDefaultController.prototype.${p} can only be used on a ReadableStreamDefaultController`)}function LLe(p,m){return Dl(p._readableStreamController)?GLe(p):ULe(p)}function ULe(p,m){let b=Ot(p),w=!1,B=!1,Z=!1,q=!1,fe,Ve,Ie,qe,et,Ct=u(Pn=>{et=Pn});function Lo(){return w?(B=!0,c(void 0)):(w=!0,By(b,{_chunkSteps:jn=>{R(()=>{B=!1;let Yi=jn,Ra=jn;Z||Mp(Ie._readableStreamController,Yi),q||Mp(qe._readableStreamController,Ra),w=!1,B&&Lo()})},_closeSteps:()=>{w=!1,Z||Fl(Ie._readableStreamController),q||Fl(qe._readableStreamController),(!Z||!q)&&et(void 0)},_errorSteps:()=>{w=!1}}),c(void 0))}function Dp(Pn){if(Z=!0,fe=Pn,q){let jn=Dy([fe,Ve]),Yi=Do(p,jn);et(Yi)}return Ct}function Ku(Pn){if(q=!0,Ve=Pn,Z){let jn=Dy([fe,Ve]),Yi=Do(p,jn);et(Yi)}return Ct}function Ca(){}return Ie=ky(Ca,Lo,Dp),qe=ky(Ca,Lo,Ku),S(b._closedPromise,Pn=>(Bo(Ie._readableStreamController,Pn),Bo(qe._readableStreamController,Pn),(!Z||!q)&&et(void 0),null)),[Ie,qe]}function GLe(p){let m=Ot(p),b=!1,w=!1,B=!1,Z=!1,q=!1,fe,Ve,Ie,qe,et,Ct=u(Be=>{et=Be});function Lo(Be){S(Be._closedPromise,lt=>(Be!==m||(qi(Ie._readableStreamController,lt),qi(qe._readableStreamController,lt),(!Z||!q)&&et(void 0)),null))}function Dp(){Ul(m)&&(k(m),m=Ot(p),Lo(m)),By(m,{_chunkSteps:lt=>{R(()=>{w=!1,B=!1;let Nt=lt,yi=lt;if(!Z&&!q)try{yi=xX(lt)}catch(Lp){qi(Ie._readableStreamController,Lp),qi(qe._readableStreamController,Lp),et(Do(p,Lp));return}Z||xv(Ie._readableStreamController,Nt),q||xv(qe._readableStreamController,yi),b=!1,w?Ca():B&&Pn()})},_closeSteps:()=>{b=!1,Z||Ly(Ie._readableStreamController),q||Ly(qe._readableStreamController),Ie._readableStreamController._pendingPullIntos.length>0&&Bv(Ie._readableStreamController,0),qe._readableStreamController._pendingPullIntos.length>0&&Bv(qe._readableStreamController,0),(!Z||!q)&&et(void 0)},_errorSteps:()=>{b=!1}})}function Ku(Be,lt){Fu(m)&&(k(m),m=YX(p),Lo(m));let Nt=lt?qe:Ie,yi=lt?Ie:qe;XX(m,Be,1,{_chunkSteps:Up=>{R(()=>{w=!1,B=!1;let Gp=lt?q:Z;if(lt?Z:q)Gp||Dv(Nt._readableStreamController,Up);else{let P8;try{P8=xX(Up)}catch(HB){qi(Nt._readableStreamController,HB),qi(yi._readableStreamController,HB),et(Do(p,HB));return}Gp||Dv(Nt._readableStreamController,Up),xv(yi._readableStreamController,P8)}b=!1,w?Ca():B&&Pn()})},_closeSteps:Up=>{b=!1;let Gp=lt?q:Z,rT=lt?Z:q;Gp||Ly(Nt._readableStreamController),rT||Ly(yi._readableStreamController),Up!==void 0&&(Gp||Dv(Nt._readableStreamController,Up),!rT&&yi._readableStreamController._pendingPullIntos.length>0&&Bv(yi._readableStreamController,0)),(!Gp||!rT)&&et(void 0)},_errorSteps:()=>{b=!1}})}function Ca(){if(b)return w=!0,c(void 0);b=!0;let Be=vB(Ie._readableStreamController);return Be===null?Dp():Ku(Be._view,!1),c(void 0)}function Pn(){if(b)return B=!0,c(void 0);b=!0;let Be=vB(qe._readableStreamController);return Be===null?Dp():Ku(Be._view,!0),c(void 0)}function jn(Be){if(Z=!0,fe=Be,q){let lt=Dy([fe,Ve]),Nt=Do(p,lt);et(Nt)}return Ct}function Yi(Be){if(q=!0,Ve=Be,Z){let lt=Dy([fe,Ve]),Nt=Do(p,lt);et(Nt)}return Ct}function Ra(){}return Ie=y8(Ra,Ca,jn),qe=y8(Ra,Pn,Yi),Lo(m),[Ie,qe]}function VLe(p){return r(p)&&typeof p.getReader<"u"}function FLe(p){return VLe(p)?kLe(p.getReader()):HLe(p)}function HLe(p){let m,b=MX(p,"async"),w=e;function B(){let q;try{q=MDe(b)}catch(Ve){return d(Ve)}let fe=c(q);return T(fe,Ve=>{if(!r(Ve))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(xDe(Ve))Fl(m._readableStreamController);else{let qe=BDe(Ve);Mp(m._readableStreamController,qe)}})}function Z(q){let fe=b.iterator,Ve;try{Ve=wv(fe,"return")}catch(et){return d(et)}if(Ve===void 0)return c(void 0);let Ie;try{Ie=P(Ve,fe,[q])}catch(et){return d(et)}let qe=c(Ie);return T(qe,et=>{if(!r(et))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return m=ky(w,B,Z,0),m}function kLe(p){let m,b=e;function w(){let Z;try{Z=p.read()}catch(q){return d(q)}return T(Z,q=>{if(!r(q))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(q.done)Fl(m._readableStreamController);else{let fe=q.value;Mp(m._readableStreamController,fe)}})}function B(Z){try{return c(p.cancel(Z))}catch(q){return d(q)}}return m=ky(b,w,B,0),m}function WLe(p,m){at(p,m);let b=p,w=b?.autoAllocateChunkSize,B=b?.cancel,Z=b?.pull,q=b?.start,fe=b?.type;return{autoAllocateChunkSize:w===void 0?void 0:ye(w,`${m} has member 'autoAllocateChunkSize' that`),cancel:B===void 0?void 0:ZLe(B,b,`${m} has member 'cancel' that`),pull:Z===void 0?void 0:qLe(Z,b,`${m} has member 'pull' that`),start:q===void 0?void 0:YLe(q,b,`${m} has member 'start' that`),type:fe===void 0?void 0:jLe(fe,`${m} has member 'type' that`)}}function ZLe(p,m,b){return He(p,b),w=>M(p,m,[w])}function qLe(p,m,b){return He(p,b),w=>M(p,m,[w])}function YLe(p,m,b){return He(p,b),w=>P(p,m,[w])}function jLe(p,m){if(p=`${p}`,p!=="bytes")throw new TypeError(`${m} '${p}' is not a valid enumeration value for ReadableStreamType`);return p}function KLe(p,m){return at(p,m),{preventCancel:!!p?.preventCancel}}function m8(p,m){at(p,m);let b=p?.preventAbort,w=p?.preventCancel,B=p?.preventClose,Z=p?.signal;return Z!==void 0&&XLe(Z,`${m} has member 'signal' that`),{preventAbort:!!b,preventCancel:!!w,preventClose:!!B,signal:Z}}function XLe(p,m){if(!nLe(p))throw new TypeError(`${m} is not an AbortSignal.`)}function zLe(p,m){at(p,m);let b=p?.readable;Q(b,"readable","ReadableWritablePair"),Fe(b,`${m} has member 'readable' that`);let w=p?.writable;return Q(w,"writable","ReadableWritablePair"),JX(w,`${m} has member 'writable' that`),{readable:b,writable:w}}class rn{constructor(m={},b={}){m===void 0?m=null:ar(m,"First parameter");let w=Gv(b,"Second parameter"),B=WLe(m,"First parameter");if(UB(this),B.type==="bytes"){if(w.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let Z=Gy(w,0);ZDe(this,B,Z)}else{let Z=Uv(w),q=Gy(w,1);DLe(this,B,q,Z)}}get locked(){if(!qu(this))throw Hl("locked");return Yu(this)}cancel(m=void 0){return qu(this)?Yu(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):Do(this,m):d(Hl("cancel"))}getReader(m=void 0){if(!qu(this))throw Hl("getReader");return YDe(m,"First parameter").mode===void 0?Ot(this):YX(this)}pipeThrough(m,b={}){if(!qu(this))throw Hl("pipeThrough");Ze(m,1,"pipeThrough");let w=zLe(m,"First parameter"),B=m8(b,"Second parameter");if(Yu(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(wp(w.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let Z=p8(this,w.writable,B.preventClose,B.preventAbort,B.preventCancel,B.signal);return C(Z),w.readable}pipeTo(m,b={}){if(!qu(this))return d(Hl("pipeTo"));if(m===void 0)return d("Parameter 1 is required in 'pipeTo'.");if(!Np(m))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let w;try{w=m8(b,"Second parameter")}catch(B){return d(B)}return Yu(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):wp(m)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):p8(this,m,w.preventClose,w.preventAbort,w.preventCancel,w.signal)}tee(){if(!qu(this))throw Hl("tee");let m=LLe(this);return Dy(m)}values(m=void 0){if(!qu(this))throw Hl("values");let b=KLe(m,"First parameter");return wDe(this,b.preventCancel)}[gB](m){return this.values(m)}static from(m){return FLe(m)}}Object.defineProperties(rn,{from:{enumerable:!0}}),Object.defineProperties(rn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),s(rn.from,"from"),s(rn.prototype.cancel,"cancel"),s(rn.prototype.getReader,"getReader"),s(rn.prototype.pipeThrough,"pipeThrough"),s(rn.prototype.pipeTo,"pipeTo"),s(rn.prototype.tee,"tee"),s(rn.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(rn.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(rn.prototype,gB,{value:rn.prototype.values,writable:!0,configurable:!0});function ky(p,m,b,w=1,B=()=>1){let Z=Object.create(rn.prototype);UB(Z);let q=Object.create(Ia.prototype);return g8(Z,q,p,m,b,w,B),Z}function y8(p,m,b){let w=Object.create(rn.prototype);UB(w);let B=Object.create(Ta.prototype);return qX(w,B,p,m,b,0,void 0),w}function UB(p){p._state="readable",p._reader=void 0,p._storedError=void 0,p._disturbed=!1}function qu(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_readableStreamController")?!1:p instanceof rn}function Yu(p){return p._reader!==void 0}function Do(p,m){if(p._disturbed=!0,p._state==="closed")return c(void 0);if(p._state==="errored")return d(p._storedError);Wy(p);let b=p._reader;if(b!==void 0&&Ul(b)){let B=b._readIntoRequests;b._readIntoRequests=new U,B.forEach(Z=>{Z._closeSteps(void 0)})}let w=p._readableStreamController[re](m);return T(w,e)}function Wy(p){p._state="closed";let m=p._reader;if(m!==void 0&&(ue(m),Fu(m))){let b=m._readRequests;m._readRequests=new U,b.forEach(w=>{w._closeSteps()})}}function _8(p,m){p._state="errored",p._storedError=m;let b=p._reader;b!==void 0&&(ce(b,m),Fu(b)?AX(b,m):zX(b,m))}function Hl(p){return new TypeError(`ReadableStream.prototype.${p} can only be used on a ReadableStream`)}function S8(p,m){at(p,m);let b=p?.highWaterMark;return Q(b,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ee(b)}}let b8=p=>p.byteLength;s(b8,"size");class Xv{constructor(m){Ze(m,1,"ByteLengthQueuingStrategy"),m=S8(m,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=m.highWaterMark}get highWaterMark(){if(!v8(this))throw E8("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!v8(this))throw E8("size");return b8}}Object.defineProperties(Xv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Xv.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function E8(p){return new TypeError(`ByteLengthQueuingStrategy.prototype.${p} can only be used on a ByteLengthQueuingStrategy`)}function v8(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_byteLengthQueuingStrategyHighWaterMark")?!1:p instanceof Xv}let T8=()=>1;s(T8,"size");class zv{constructor(m){Ze(m,1,"CountQueuingStrategy"),m=S8(m,"First parameter"),this._countQueuingStrategyHighWaterMark=m.highWaterMark}get highWaterMark(){if(!I8(this))throw A8("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!I8(this))throw A8("size");return T8}}Object.defineProperties(zv.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(zv.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function A8(p){return new TypeError(`CountQueuingStrategy.prototype.${p} can only be used on a CountQueuingStrategy`)}function I8(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_countQueuingStrategyHighWaterMark")?!1:p instanceof zv}function JLe(p,m){at(p,m);let b=p?.cancel,w=p?.flush,B=p?.readableType,Z=p?.start,q=p?.transform,fe=p?.writableType;return{cancel:b===void 0?void 0:t2e(b,p,`${m} has member 'cancel' that`),flush:w===void 0?void 0:$Le(w,p,`${m} has member 'flush' that`),readableType:B,start:Z===void 0?void 0:QLe(Z,p,`${m} has member 'start' that`),transform:q===void 0?void 0:e2e(q,p,`${m} has member 'transform' that`),writableType:fe}}function $Le(p,m,b){return He(p,b),w=>M(p,m,[w])}function QLe(p,m,b){return He(p,b),w=>P(p,m,[w])}function e2e(p,m,b){return He(p,b),(w,B)=>M(p,m,[w,B])}function t2e(p,m,b){return He(p,b),w=>M(p,m,[w])}class Jv{constructor(m={},b={},w={}){m===void 0&&(m=null);let B=Gv(b,"Second parameter"),Z=Gv(w,"Third parameter"),q=JLe(m,"First parameter");if(q.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(q.writableType!==void 0)throw new RangeError("Invalid writableType specified");let fe=Gy(Z,0),Ve=Uv(Z),Ie=Gy(B,1),qe=Uv(B),et,Ct=u(Lo=>{et=Lo});r2e(this,Ct,Ie,qe,fe,Ve),i2e(this,q),q.start!==void 0?et(q.start(this._transformStreamController)):et(void 0)}get readable(){if(!C8(this))throw w8("readable");return this._readable}get writable(){if(!C8(this))throw w8("writable");return this._writable}}Object.defineProperties(Jv.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(Jv.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});function r2e(p,m,b,w,B,Z){function q(){return m}function fe(Ct){return a2e(p,Ct)}function Ve(Ct){return u2e(p,Ct)}function Ie(){return c2e(p)}p._writable=sLe(q,fe,Ie,Ve,b,w);function qe(){return l2e(p)}function et(Ct){return d2e(p,Ct)}p._readable=ky(q,qe,et,B,Z),p._backpressure=void 0,p._backpressureChangePromise=void 0,p._backpressureChangePromise_resolve=void 0,$v(p,!0),p._transformStreamController=void 0}function C8(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_transformStreamController")?!1:p instanceof Jv}function R8(p,m){Bo(p._readable._readableStreamController,m),GB(p,m)}function GB(p,m){eT(p._transformStreamController),Vy(p._writable._writableStreamController,m),VB(p)}function VB(p){p._backpressure&&$v(p,!1)}function $v(p,m){p._backpressureChangePromise!==void 0&&p._backpressureChangePromise_resolve(),p._backpressureChangePromise=u(b=>{p._backpressureChangePromise_resolve=b}),p._backpressure=m}class ju{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Qv(this))throw tT("desiredSize");let m=this._controlledTransformStream._readable._readableStreamController;return LB(m)}enqueue(m=void 0){if(!Qv(this))throw tT("enqueue");O8(this,m)}error(m=void 0){if(!Qv(this))throw tT("error");o2e(this,m)}terminate(){if(!Qv(this))throw tT("terminate");s2e(this)}}Object.defineProperties(ju.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),s(ju.prototype.enqueue,"enqueue"),s(ju.prototype.error,"error"),s(ju.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ju.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Qv(p){return!r(p)||!Object.prototype.hasOwnProperty.call(p,"_controlledTransformStream")?!1:p instanceof ju}function n2e(p,m,b,w,B){m._controlledTransformStream=p,p._transformStreamController=m,m._transformAlgorithm=b,m._flushAlgorithm=w,m._cancelAlgorithm=B,m._finishPromise=void 0,m._finishPromise_resolve=void 0,m._finishPromise_reject=void 0}function i2e(p,m){let b=Object.create(ju.prototype),w,B,Z;m.transform!==void 0?w=q=>m.transform(q,b):w=q=>{try{return O8(b,q),c(void 0)}catch(fe){return d(fe)}},m.flush!==void 0?B=()=>m.flush(b):B=()=>c(void 0),m.cancel!==void 0?Z=q=>m.cancel(q):Z=()=>c(void 0),n2e(p,b,w,B,Z)}function eT(p){p._transformAlgorithm=void 0,p._flushAlgorithm=void 0,p._cancelAlgorithm=void 0}function O8(p,m){let b=p._controlledTransformStream,w=b._readable._readableStreamController;if(!xp(w))throw new TypeError("Readable side is not in a state that permits enqueue");try{Mp(w,m)}catch(Z){throw GB(b,Z),b._readable._storedError}BLe(w)!==b._backpressure&&$v(b,!0)}function o2e(p,m){R8(p._controlledTransformStream,m)}function N8(p,m){let b=p._transformAlgorithm(m);return T(b,void 0,w=>{throw R8(p._controlledTransformStream,w),w})}function s2e(p){let m=p._controlledTransformStream,b=m._readable._readableStreamController;Fl(b);let w=new TypeError("TransformStream terminated");GB(m,w)}function a2e(p,m){let b=p._transformStreamController;if(p._backpressure){let w=p._backpressureChangePromise;return T(w,()=>{let B=p._writable;if(B._state==="erroring")throw B._storedError;return N8(b,m)})}return N8(b,m)}function u2e(p,m){let b=p._transformStreamController;if(b._finishPromise!==void 0)return b._finishPromise;let w=p._readable;b._finishPromise=u((Z,q)=>{b._finishPromise_resolve=Z,b._finishPromise_reject=q});let B=b._cancelAlgorithm(m);return eT(b),g(B,()=>(w._state==="errored"?Bp(b,w._storedError):(Bo(w._readableStreamController,m),FB(b)),null),Z=>(Bo(w._readableStreamController,Z),Bp(b,Z),null)),b._finishPromise}function c2e(p){let m=p._transformStreamController;if(m._finishPromise!==void 0)return m._finishPromise;let b=p._readable;m._finishPromise=u((B,Z)=>{m._finishPromise_resolve=B,m._finishPromise_reject=Z});let w=m._flushAlgorithm();return eT(m),g(w,()=>(b._state==="errored"?Bp(m,b._storedError):(Fl(b._readableStreamController),FB(m)),null),B=>(Bo(b._readableStreamController,B),Bp(m,B),null)),m._finishPromise}function l2e(p){return $v(p,!1),p._backpressureChangePromise}function d2e(p,m){let b=p._transformStreamController;if(b._finishPromise!==void 0)return b._finishPromise;let w=p._writable;b._finishPromise=u((Z,q)=>{b._finishPromise_resolve=Z,b._finishPromise_reject=q});let B=b._cancelAlgorithm(m);return eT(b),g(B,()=>(w._state==="errored"?Bp(b,w._storedError):(Vy(w._writableStreamController,m),VB(p),FB(b)),null),Z=>(Vy(w._writableStreamController,Z),VB(p),Bp(b,Z),null)),b._finishPromise}function tT(p){return new TypeError(`TransformStreamDefaultController.prototype.${p} can only be used on a TransformStreamDefaultController`)}function FB(p){p._finishPromise_resolve!==void 0&&(p._finishPromise_resolve(),p._finishPromise_resolve=void 0,p._finishPromise_reject=void 0)}function Bp(p,m){p._finishPromise_reject!==void 0&&(C(p._finishPromise),p._finishPromise_reject(m),p._finishPromise_resolve=void 0,p._finishPromise_reject=void 0)}function w8(p){return new TypeError(`TransformStream.prototype.${p} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Xv,t.CountQueuingStrategy=zv,t.ReadableByteStreamController=Ta,t.ReadableStream=rn,t.ReadableStreamBYOBReader=Wu,t.ReadableStreamBYOBRequest=Bl,t.ReadableStreamDefaultController=Ia,t.ReadableStreamDefaultReader=wn,t.TransformStream=Jv,t.TransformStreamDefaultController=ju,t.WritableStream=Zu,t.WritableStreamDefaultController=Pp,t.WritableStreamDefaultWriter=Aa})});var U8=h(()=>{l();if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:e}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=e}catch(r){throw t.emitWarning=e,r}}catch{Object.assign(globalThis,L8())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(r){let o=0,s=this;return new ReadableStream({type:"bytes",async pull(a){let n=await s.slice(o,Math.min(s.size,o+65536)).arrayBuffer();o+=n.byteLength,a.enqueue(new Uint8Array(n)),o===s.size&&a.close()}})})}catch{}});async function*kB(t,e=!0){for(let r of t)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(e){let o=r.byteOffset,s=r.byteOffset+r.byteLength;for(;o!==s;){let a=Math.min(s-o,G8),i=r.buffer.slice(o,o+a);o+=i.byteLength,yield new Uint8Array(i)}}else yield r;else{let o=0,s=r;for(;o!==s.size;){let i=await s.slice(o,Math.min(s.size,o+G8)).arrayBuffer();o+=i.byteLength,yield new Uint8Array(i)}}}var Oxt,G8,V8,_2e,ji,qy=Ce(()=>{l();Oxt=ve(U8(),1);G8=65536;V8=class WB{#e=[];#t="";#r=0;#n="transparent";constructor(e=[],r={}){if(typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof e[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let o=new TextEncoder;for(let a of e){let i;ArrayBuffer.isView(a)?i=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?i=new Uint8Array(a.slice(0)):a instanceof WB?i=a:i=o.encode(`${a}`),this.#r+=ArrayBuffer.isView(i)?i.byteLength:i.size,this.#e.push(i)}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let s=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let e=new TextDecoder,r="";for await(let o of kB(this.#e,!1))r+=e.decode(o,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let o of kB(this.#e,!1))e.set(o,r),r+=o.length;return e.buffer}stream(){let e=kB(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let o=await e.next();o.done?r.close():r.enqueue(o.value)},async cancel(){await e.return()}})}slice(e=0,r=this.size,o=""){let{size:s}=this,a=e<0?Math.max(s+e,0):Math.min(e,s),i=r<0?Math.max(s+r,0):Math.min(r,s),n=Math.max(i-a,0),u=this.#e,c=[],d=0;for(let g of u){if(d>=n)break;let y=ArrayBuffer.isView(g)?g.byteLength:g.size;if(a&&y<=a)a-=y,i-=y;else{let S;ArrayBuffer.isView(g)?(S=g.subarray(a,Math.min(y,i)),d+=S.byteLength):(S=g.slice(a,Math.min(y,i)),d+=S.size),i-=y,c.push(S),a=0}}let f=new WB([],{type:String(o).toLowerCase()});return f.#r=n,f.#e=c,f}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e=="object"&&typeof e.constructor=="function"&&(typeof e.stream=="function"||typeof e.arrayBuffer=="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(V8.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});_2e=V8,ji=_2e});var S2e,b2e,Oa,ZB=Ce(()=>{l();qy();S2e=class extends ji{#e=0;#t="";constructor(e,r,o={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,o),o===null&&(o={});let s=o.lastModified===void 0?Date.now():Number(o.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(r)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof ji&&/^(File)$/.test(e[Symbol.toStringTag])}},b2e=S2e,Oa=b2e});function k8(t,e=ji){var r=`${F8()}${F8()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],s=`--${r}\r
Content-Disposition: form-data; name="`;return t.forEach((a,i)=>typeof a=="string"?o.push(s+qB(i)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):o.push(s+qB(i)+`"; filename="${qB(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),o.push(`--${r}--`),new e(o,{type:"multipart/form-data; boundary="+r})}var Yy,E2e,v2e,F8,T2e,H8,qB,kl,Na,sT=Ce(()=>{l();qy();ZB();({toStringTag:Yy,iterator:E2e,hasInstance:v2e}=Symbol),F8=Math.random,T2e="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),H8=(t,e,r)=>(t+="",/^(Blob|File)$/.test(e&&e[Yy])?[(r=r!==void 0?r+"":e[Yy]=="File"?e.name:"blob",t),e.name!==r||e[Yy]=="blob"?new Oa([e],r,e):e]:[t,e+""]),qB=(t,e)=>(e?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),kl=(t,e,r)=>{if(e.length<r)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${r} arguments required, but only ${e.length} present.`)},Na=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Yy](){return"FormData"}[E2e](){return this.entries()}static[v2e](e){return e&&typeof e=="object"&&e[Yy]==="FormData"&&!T2e.some(r=>typeof e[r]!="function")}append(...e){kl("append",arguments,2),this.#e.push(H8(...e))}delete(e){kl("delete",arguments,1),e+="",this.#e=this.#e.filter(([r])=>r!==e)}get(e){kl("get",arguments,1),e+="";for(var r=this.#e,o=r.length,s=0;s<o;s++)if(r[s][0]===e)return r[s][1];return null}getAll(e,r){return kl("getAll",arguments,1),r=[],e+="",this.#e.forEach(o=>o[0]===e&&r.push(o[1])),r}has(e){return kl("has",arguments,1),e+="",this.#e.some(r=>r[0]===e)}forEach(e,r){kl("forEach",arguments,1);for(var[o,s]of this)e.call(r,s,o,this)}set(...e){kl("set",arguments,2);var r=[],o=!0;e=H8(...e),this.#e.forEach(s=>{s[0]===e[0]?o&&(o=!r.push(e)):r.push(s)}),o&&r.push(e),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}}});var j8=h((jxt,Y8)=>{l();if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),e=new t().port1,r=new ArrayBuffer;e.postMessage(r,[r,r])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Y8.exports=globalThis.DOMException});var Wl,K8,X8,jB,KB,XB,zB,JB,z8,J8,uT,$B=Ce(()=>{l();Wl=require("node:fs"),K8=require("node:path"),X8=ve(j8(),1);ZB();qy();({stat:jB}=Wl.promises),KB=(t,e)=>z8((0,Wl.statSync)(t),t,e),XB=(t,e)=>jB(t).then(r=>z8(r,t,e)),zB=(t,e)=>jB(t).then(r=>J8(r,t,e)),JB=(t,e)=>J8((0,Wl.statSync)(t),t,e),z8=(t,e,r="")=>new ji([new uT({path:e,size:t.size,lastModified:t.mtimeMs,start:0})],{type:r}),J8=(t,e,r="")=>new Oa([new uT({path:e,size:t.size,lastModified:t.mtimeMs,start:0})],(0,K8.basename)(e),{type:r,lastModified:t.mtimeMs}),uT=class t{#e;#t;constructor(e){this.#e=e.path,this.#t=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new t({path:this.#e,lastModified:this.lastModified,size:r-e,start:this.#t+e})}async*stream(){let{mtimeMs:e}=await jB(this.#e);if(e>this.lastModified)throw new X8.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Wl.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Q8={};nT(Q8,{toFormData:()=>w2e});function N2e(t){let e=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!e)return;let r=e[2]||e[3]||"",o=r.slice(r.lastIndexOf("\\")+1);return o=o.replace(/%22/g,'"'),o=o.replace(/&#(\d{4});/g,(s,a)=>String.fromCharCode(a)),o}async function w2e(t,e){if(!/multipart/i.test(e))throw new TypeError("Failed to fetch");let r=e.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let o=new QB(r[1]||r[2]),s,a,i,n,u,c,d=[],f=new Na,g=R=>{i+=C.decode(R,{stream:!0})},y=R=>{d.push(R)},S=()=>{let R=new Oa(d,c,{type:u});f.append(n,R)},T=()=>{f.append(n,i)},C=new TextDecoder("utf-8");C.decode(),o.onPartBegin=function(){o.onPartData=g,o.onPartEnd=T,s="",a="",i="",n="",u="",c=null,d.length=0},o.onHeaderField=function(R){s+=C.decode(R,{stream:!0})},o.onHeaderValue=function(R){a+=C.decode(R,{stream:!0})},o.onHeaderEnd=function(){if(a+=C.decode(),s=s.toLowerCase(),s==="content-disposition"){let R=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);R&&(n=R[2]||R[3]||""),c=N2e(a),c&&(o.onPartData=y,o.onPartEnd=S)}else s==="content-type"&&(u=a);a="",s=""};for await(let R of t)o.write(R);return o.end(),f}var ms,wt,$8,Xu,cT,lT,A2e,Ky,I2e,C2e,R2e,O2e,Zl,QB,ez=Ce(()=>{l();$B();sT();ms=0,wt={START_BOUNDARY:ms++,HEADER_FIELD_START:ms++,HEADER_FIELD:ms++,HEADER_VALUE_START:ms++,HEADER_VALUE:ms++,HEADER_VALUE_ALMOST_DONE:ms++,HEADERS_ALMOST_DONE:ms++,PART_DATA_START:ms++,PART_DATA:ms++,END:ms++},$8=1,Xu={PART_BOUNDARY:$8,LAST_BOUNDARY:$8*=2},cT=10,lT=13,A2e=32,Ky=45,I2e=58,C2e=97,R2e=122,O2e=t=>t|32,Zl=()=>{},QB=class{constructor(e){this.index=0,this.flags=0,this.onHeaderEnd=Zl,this.onHeaderField=Zl,this.onHeadersEnd=Zl,this.onHeaderValue=Zl,this.onPartBegin=Zl,this.onPartData=Zl,this.onPartEnd=Zl,this.boundaryChars={},e=`\r
--`+e;let r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o),this.boundaryChars[r[o]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=wt.START_BOUNDARY}write(e){let r=0,o=e.length,s=this.index,{lookbehind:a,boundary:i,boundaryChars:n,index:u,state:c,flags:d}=this,f=this.boundary.length,g=f-1,y=e.length,S,T,C=x=>{this[x+"Mark"]=r},R=x=>{delete this[x+"Mark"]},P=(x,U,D,W)=>{(U===void 0||U!==D)&&this[x](W&&W.subarray(U,D))},M=(x,U)=>{let D=x+"Mark";D in this&&(U?(P(x,this[D],r,e),delete this[D]):(P(x,this[D],e.length,e),this[D]=0))};for(r=0;r<o;r++)switch(S=e[r],c){case wt.START_BOUNDARY:if(u===i.length-2){if(S===Ky)d|=Xu.LAST_BOUNDARY;else if(S!==lT)return;u++;break}else if(u-1===i.length-2){if(d&Xu.LAST_BOUNDARY&&S===Ky)c=wt.END,d=0;else if(!(d&Xu.LAST_BOUNDARY)&&S===cT)u=0,P("onPartBegin"),c=wt.HEADER_FIELD_START;else return;break}S!==i[u+2]&&(u=-2),S===i[u+2]&&u++;break;case wt.HEADER_FIELD_START:c=wt.HEADER_FIELD,C("onHeaderField"),u=0;case wt.HEADER_FIELD:if(S===lT){R("onHeaderField"),c=wt.HEADERS_ALMOST_DONE;break}if(u++,S===Ky)break;if(S===I2e){if(u===1)return;M("onHeaderField",!0),c=wt.HEADER_VALUE_START;break}if(T=O2e(S),T<C2e||T>R2e)return;break;case wt.HEADER_VALUE_START:if(S===A2e)break;C("onHeaderValue"),c=wt.HEADER_VALUE;case wt.HEADER_VALUE:S===lT&&(M("onHeaderValue",!0),P("onHeaderEnd"),c=wt.HEADER_VALUE_ALMOST_DONE);break;case wt.HEADER_VALUE_ALMOST_DONE:if(S!==cT)return;c=wt.HEADER_FIELD_START;break;case wt.HEADERS_ALMOST_DONE:if(S!==cT)return;P("onHeadersEnd"),c=wt.PART_DATA_START;break;case wt.PART_DATA_START:c=wt.PART_DATA,C("onPartData");case wt.PART_DATA:if(s=u,u===0){for(r+=g;r<y&&!(e[r]in n);)r+=f;r-=g,S=e[r]}if(u<i.length)i[u]===S?(u===0&&M("onPartData",!0),u++):u=0;else if(u===i.length)u++,S===lT?d|=Xu.PART_BOUNDARY:S===Ky?d|=Xu.LAST_BOUNDARY:u=0;else if(u-1===i.length)if(d&Xu.PART_BOUNDARY){if(u=0,S===cT){d&=~Xu.PART_BOUNDARY,P("onPartEnd"),P("onPartBegin"),c=wt.HEADER_FIELD_START;break}}else d&Xu.LAST_BOUNDARY&&S===Ky?(P("onPartEnd"),c=wt.END,d=0):u=0;if(u>0)a[u-1]=S;else if(s>0){let x=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);P("onPartData",0,s,x),s=0,C("onPartData"),r--}break;case wt.END:break;default:throw new Error(`Unexpected state entered: ${c}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=u,this.state=c,this.flags=d}end(){if(this.state===wt.HEADER_FIELD_START&&this.index===0||this.state===wt.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==wt.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Xi=h(Nr=>{l();Object.defineProperty(Nr,"__esModule",{value:!0});var yz=Object.prototype.toString;function G2e(t){switch(yz.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return mT(t,Error)}}function Hp(t,e){return yz.call(t)===`[object ${e}]`}function V2e(t){return Hp(t,"ErrorEvent")}function F2e(t){return Hp(t,"DOMError")}function H2e(t){return Hp(t,"DOMException")}function k2e(t){return Hp(t,"String")}function _z(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function W2e(t){return t===null||_z(t)||typeof t!="object"&&typeof t!="function"}function Sz(t){return Hp(t,"Object")}function Z2e(t){return typeof Event<"u"&&mT(t,Event)}function q2e(t){return typeof Element<"u"&&mT(t,Element)}function Y2e(t){return Hp(t,"RegExp")}function j2e(t){return!!(t&&t.then&&typeof t.then=="function")}function K2e(t){return Sz(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function X2e(t){return typeof t=="number"&&t!==t}function mT(t,e){try{return t instanceof e}catch{return!1}}function z2e(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}Nr.isDOMError=F2e;Nr.isDOMException=H2e;Nr.isElement=q2e;Nr.isError=G2e;Nr.isErrorEvent=V2e;Nr.isEvent=Z2e;Nr.isInstanceOf=mT;Nr.isNaN=X2e;Nr.isParameterizedString=_z;Nr.isPlainObject=Sz;Nr.isPrimitive=W2e;Nr.isRegExp=Y2e;Nr.isString=k2e;Nr.isSyntheticEvent=K2e;Nr.isThenable=j2e;Nr.isVueViewModel=z2e});var $y=h(Yl=>{l();Object.defineProperty(Yl,"__esModule",{value:!0});var yT=Xi();function J2e(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function $2e(t,e){let r=t,o=r.length;if(o<=150)return r;e>o&&(e=o);let s=Math.max(e-60,0);s<5&&(s=0);let a=Math.min(s+140,o);return a>o-5&&(a=o),a===o&&(s=Math.max(a-140,0)),r=r.slice(s,a),s>0&&(r=`'{snip} ${r}`),a<o&&(r+=" {snip}"),r}function Q2e(t,e){if(!Array.isArray(t))return"";let r=[];for(let o=0;o<t.length;o++){let s=t[o];try{yT.isVueViewModel(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function bz(t,e,r=!1){return yT.isString(t)?yT.isRegExp(e)?e.test(t):yT.isString(e)?r?t===e:t.includes(e):!1:!1}function eUe(t,e=[],r=!1){return e.some(o=>bz(t,o,r))}Yl.isMatchingPattern=bz;Yl.safeJoin=Q2e;Yl.snipLine=$2e;Yl.stringMatchesSomePattern=eUe;Yl.truncate=J2e});var Tz=h(oD=>{l();Object.defineProperty(oD,"__esModule",{value:!0});var nD=Xi(),tUe=$y();function rUe(t,e,r=250,o,s,a,i){if(!a.exception||!a.exception.values||!i||!nD.isInstanceOf(i.originalException,Error))return;let n=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;n&&(a.exception.values=nUe(iD(t,e,s,i.originalException,o,a.exception.values,n,0),r))}function iD(t,e,r,o,s,a,i,n){if(a.length>=r+1)return a;let u=[...a];if(nD.isInstanceOf(o[s],Error)){Ez(i,n);let c=t(e,o[s]),d=u.length;vz(c,s,d,n),u=iD(t,e,r,o[s],s,[c,...u],c,d)}return Array.isArray(o.errors)&&o.errors.forEach((c,d)=>{if(nD.isInstanceOf(c,Error)){Ez(i,n);let f=t(e,c),g=u.length;vz(f,`errors[${d}]`,g,n),u=iD(t,e,r,c,s,[f,...u],f,g)}}),u}function Ez(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}function vz(t,e,r,o){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:o}}function nUe(t,e){return t.map(r=>(r.value&&(r.value=tUe.truncate(r.value,e)),r))}oD.applyAggregateErrorsToEvent=rUe});var nn=h(Qy=>{l();Object.defineProperty(Qy,"__esModule",{value:!0});function _T(t){return t&&t.Math==Math?t:void 0}var sD=typeof globalThis=="object"&&_T(globalThis)||typeof window=="object"&&_T(window)||typeof self=="object"&&_T(self)||typeof global=="object"&&_T(global)||function(){return this}()||{};function iUe(){return sD}function oUe(t,e,r){let o=r||sD,s=o.__SENTRY__=o.__SENTRY__||{};return s[t]||(s[t]=e())}Qy.GLOBAL_OBJ=sD;Qy.getGlobalObject=iUe;Qy.getGlobalSingleton=oUe});var aD=h(Wp=>{l();Object.defineProperty(Wp,"__esModule",{value:!0});var sUe=Xi(),aUe=nn(),kp=aUe.getGlobalObject(),uUe=80;function cUe(t,e={}){if(!t)return"<unknown>";try{let r=t,o=5,s=[],a=0,i=0,n=" > ",u=n.length,c,d=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||uUe;for(;r&&a++<o&&(c=lUe(r,d),!(c==="html"||a>1&&i+s.length*u+c.length>=f));)s.push(c),i+=c.length,r=r.parentNode;return s.reverse().join(n)}catch{return"<unknown>"}}function lUe(t,e){let r=t,o=[],s,a,i,n,u;if(!r||!r.tagName)return"";if(kp.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;o.push(r.tagName.toLowerCase());let c=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(c&&c.length)c.forEach(f=>{o.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&o.push(`#${r.id}`),s=r.className,s&&sUe.isString(s))for(a=s.split(/\s+/),u=0;u<a.length;u++)o.push(`.${a[u]}`);let d=["aria-label","type","name","title","alt"];for(u=0;u<d.length;u++)i=d[u],n=r.getAttribute(i),n&&o.push(`[${i}="${n}"]`);return o.join("")}function dUe(){try{return kp.document.location.href}catch{return""}}function fUe(t){return kp.document&&kp.document.querySelector?kp.document.querySelector(t):null}function pUe(t){if(!kp.HTMLElement)return null;let e=t,r=5;for(let o=0;o<r;o++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}Wp.getComponentName=pUe;Wp.getDomElement=fUe;Wp.getLocationHref=dUe;Wp.htmlTreeAsString=cUe});var _s=h(uD=>{l();Object.defineProperty(uD,"__esModule",{value:!0});var hUe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;uD.DEBUG_BUILD=hUe});var Go=h(Zp=>{l();Object.defineProperty(Zp,"__esModule",{value:!0});var gUe=_s(),cD=nn(),mUe="Sentry Logger ",lD=["debug","info","warn","error","log","assert","trace"],dD={};function Az(t){if(!("console"in cD.GLOBAL_OBJ))return t();let e=cD.GLOBAL_OBJ.console,r={},o=Object.keys(dD);o.forEach(s=>{let a=dD[s];r[s]=e[s],e[s]=a});try{return t()}finally{o.forEach(s=>{e[s]=r[s]})}}function yUe(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return gUe.DEBUG_BUILD?lD.forEach(r=>{e[r]=(...o)=>{t&&Az(()=>{cD.GLOBAL_OBJ.console[r](`${mUe}[${r}]:`,...o)})}}):lD.forEach(r=>{e[r]=()=>{}}),e}var _Ue=yUe();Zp.CONSOLE_LEVELS=lD;Zp.consoleSandbox=Az;Zp.logger=_Ue;Zp.originalConsoleMethods=dD});var fD=h(t_=>{l();Object.defineProperty(t_,"__esModule",{value:!0});var SUe=_s(),e_=Go(),bUe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function EUe(t){return t==="http"||t==="https"}function vUe(t,e=!1){let{host:r,path:o,pass:s,port:a,projectId:i,protocol:n,publicKey:u}=t;return`${n}://${u}${e&&s?`:${s}`:""}@${r}${a?`:${a}`:""}/${o&&`${o}/`}${i}`}function Iz(t){let e=bUe.exec(t);if(!e){e_.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,o,s="",a,i="",n]=e.slice(1),u="",c=n,d=c.split("/");if(d.length>1&&(u=d.slice(0,-1).join("/"),c=d.pop()),c){let f=c.match(/^\d+/);f&&(c=f[0])}return Cz({host:a,pass:s,path:u,projectId:c,port:i,protocol:r,publicKey:o})}function Cz(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function TUe(t){if(!SUe.DEBUG_BUILD)return!0;let{port:e,projectId:r,protocol:o}=t;return["protocol","publicKey","host","projectId"].find(i=>t[i]?!1:(e_.logger.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?EUe(o)?e&&isNaN(parseInt(e,10))?(e_.logger.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(e_.logger.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(e_.logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function AUe(t){let e=typeof t=="string"?Iz(t):Cz(t);if(!(!e||!TUe(e)))return e}t_.dsnFromString=Iz;t_.dsnToString=vUe;t_.makeDsn=AUe});var gD=h(hD=>{l();Object.defineProperty(hD,"__esModule",{value:!0});var pD=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};hD.SentryError=pD});var zi=h(Vo=>{l();Object.defineProperty(Vo,"__esModule",{value:!0});var IUe=aD(),CUe=_s(),qp=Xi(),RUe=Go(),Rz=$y();function OUe(t,e,r){if(!(e in t))return;let o=t[e],s=r(o);typeof s=="function"&&Pz(s,o),t[e]=s}function wz(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{CUe.DEBUG_BUILD&&RUe.logger.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function Pz(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,wz(t,"__sentry_original__",e)}catch{}}function NUe(t){return t.__sentry_original__}function wUe(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function Mz(t){if(qp.isError(t))return{message:t.message,name:t.name,stack:t.stack,...Nz(t)};if(qp.isEvent(t)){let e={type:t.type,target:Oz(t.target),currentTarget:Oz(t.currentTarget),...Nz(t)};return typeof CustomEvent<"u"&&qp.isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function Oz(t){try{return qp.isElement(t)?IUe.htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function Nz(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function PUe(t,e=40){let r=Object.keys(Mz(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return Rz.truncate(r[0],e);for(let o=r.length;o>0;o--){let s=r.slice(0,o).join(", ");if(!(s.length>e))return o===r.length?s:Rz.truncate(s,e)}return""}function MUe(t){return mD(t,new Map)}function mD(t,e){if(xUe(t)){let r=e.get(t);if(r!==void 0)return r;let o={};e.set(t,o);for(let s of Object.keys(t))typeof t[s]<"u"&&(o[s]=mD(t[s],e));return o}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let o=[];return e.set(t,o),t.forEach(s=>{o.push(mD(s,e))}),o}return t}function xUe(t){if(!qp.isPlainObject(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}function BUe(t){let e;switch(!0){case t==null:e=new String(t);break;case(typeof t=="symbol"||typeof t=="bigint"):e=Object(t);break;case qp.isPrimitive(t):e=new t.constructor(t);break;default:e=t;break}return e}Vo.addNonEnumerableProperty=wz;Vo.convertToPlainObject=Mz;Vo.dropUndefinedKeys=MUe;Vo.extractExceptionKeysForMessage=PUe;Vo.fill=OUe;Vo.getOriginalFunction=NUe;Vo.markFunctionWrapped=Pz;Vo.objectify=BUe;Vo.urlEncode=wUe});var bT=h(ST=>{l();Object.defineProperty(ST,"__esModule",{value:!0});function xz(t,e=!1){return!(e||t&&!t.startsWith("/")&&!t.match(/^[A-Z]:/)&&!t.startsWith(".")&&!t.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&t!==void 0&&!t.includes("node_modules/")}function DUe(t){let e=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return o=>{let s=o.match(r);if(s){let a,i,n,u,c;if(s[1]){n=s[1];let g=n.lastIndexOf(".");if(n[g-1]==="."&&g--,g>0){a=n.slice(0,g),i=n.slice(g+1);let y=a.indexOf(".Module");y>0&&(n=n.slice(y+1),a=a.slice(0,y))}u=void 0}i&&(u=a,c=i),i==="<anonymous>"&&(c=void 0,n=void 0),n===void 0&&(c=c||"<anonymous>",n=u?`${u}.${c}`:c);let d=s[2]&&s[2].startsWith("file://")?s[2].slice(7):s[2],f=s[5]==="native";return d&&d.match(/\/[A-Z]:/)&&(d=d.slice(1)),!d&&s[5]&&!f&&(d=s[5]),{filename:d,module:t?t(d):void 0,function:n,lineno:parseInt(s[3],10)||void 0,colno:parseInt(s[4],10)||void 0,in_app:xz(d,f)}}if(o.match(e))return{filename:o}}}ST.filenameIsInApp=xz;ST.node=DUe});var ET=h(zu=>{l();Object.defineProperty(zu,"__esModule",{value:!0});var Lz=bT(),Uz=50,Bz=/\(error: (.*)\)/,Dz=/captureMessage|captureException/;function Gz(...t){let e=t.sort((r,o)=>r[0]-o[0]).map(r=>r[1]);return(r,o=0)=>{let s=[],a=r.split(`
`);for(let i=o;i<a.length;i++){let n=a[i];if(n.length>1024)continue;let u=Bz.test(n)?n.replace(Bz,"$1"):n;if(!u.match(/\S*Error: /)){for(let c of e){let d=c(u);if(d){s.push(d);break}}if(s.length>=Uz)break}}return Vz(s)}}function LUe(t){return Array.isArray(t)?Gz(...t):t}function Vz(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),Dz.test(e[e.length-1].function||"")&&(e.pop(),Dz.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,Uz).map(r=>({...r,filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}var yD="<anonymous>";function UUe(t){try{return!t||typeof t!="function"?yD:t.name||yD}catch{return yD}}function GUe(t){return[90,Lz.node(t)]}zu.filenameIsInApp=Lz.filenameIsInApp;zu.createStackParser=Gz;zu.getFunctionName=UUe;zu.nodeStackLineParser=GUe;zu.stackParserFromStackParserOptions=LUe;zu.stripSentryFramesAndReverse=Vz});var xa=h(jp=>{l();Object.defineProperty(jp,"__esModule",{value:!0});var VUe=_s(),FUe=Go(),HUe=ET(),Yp={},Fz={};function kUe(t,e){Yp[t]=Yp[t]||[],Yp[t].push(e)}function WUe(){Object.keys(Yp).forEach(t=>{Yp[t]=void 0})}function ZUe(t,e){Fz[t]||(e(),Fz[t]=!0)}function qUe(t,e){let r=t&&Yp[t];if(r)for(let o of r)try{o(e)}catch(s){VUe.DEBUG_BUILD&&FUe.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${HUe.getFunctionName(o)}
Error:`,s)}}jp.addHandler=kUe;jp.maybeInstrument=ZUe;jp.resetInstrumentationHandlers=WUe;jp.triggerHandlers=qUe});var ED=h(bD=>{l();Object.defineProperty(bD,"__esModule",{value:!0});var _D=Go(),YUe=zi(),vT=nn(),SD=xa();function jUe(t){let e="console";SD.addHandler(e,t),SD.maybeInstrument(e,KUe)}function KUe(){"console"in vT.GLOBAL_OBJ&&_D.CONSOLE_LEVELS.forEach(function(t){t in vT.GLOBAL_OBJ.console&&YUe.fill(vT.GLOBAL_OBJ.console,t,function(e){return _D.originalConsoleMethods[t]=e,function(...r){let o={args:r,level:t};SD.triggerHandlers("console",o);let s=_D.originalConsoleMethods[t];s&&s.apply(vT.GLOBAL_OBJ.console,r)}})})}bD.addConsoleInstrumentationHandler=jUe});var r_=h(Ss=>{l();Object.defineProperty(Ss,"__esModule",{value:!0});var XUe=zi(),vD=$y(),zUe=nn();function JUe(){let t=zUe.GLOBAL_OBJ,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let o=new Uint8Array(1);return e.getRandomValues(o),o[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,o=>(o^(r()&15)>>o/4).toString(16))}function Hz(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function $Ue(t){let{message:e,event_id:r}=t;if(e)return e;let o=Hz(t);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||r||"<unknown>":r||"<unknown>"}function QUe(t,e,r){let o=t.exception=t.exception||{},s=o.values=o.values||[],a=s[0]=s[0]||{};a.value||(a.value=e||""),a.type||(a.type=r||"Error")}function eGe(t,e){let r=Hz(t);if(!r)return;let o={type:"generic",handled:!0},s=r.mechanism;if(r.mechanism={...o,...s,...e},e&&"data"in e){let a={...s&&s.data,...e.data};r.mechanism.data=a}}var tGe=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function rGe(t){let e=t.match(tGe)||[],r=parseInt(e[1],10),o=parseInt(e[2],10),s=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(o)?void 0:o,patch:isNaN(s)?void 0:s,prerelease:e[4]}}function nGe(t,e,r=5){if(e.lineno===void 0)return;let o=t.length,s=Math.max(Math.min(o-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(a=>vD.snipLine(a,0)),e.context_line=vD.snipLine(t[Math.min(o-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,o),s+1+r).map(a=>vD.snipLine(a,0))}function iGe(t){if(t&&t.__sentry_captured__)return!0;try{XUe.addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function oGe(t){return Array.isArray(t)?t:[t]}Ss.addContextToFrame=nGe;Ss.addExceptionMechanism=eGe;Ss.addExceptionTypeValue=QUe;Ss.arrayify=oGe;Ss.checkOrSetAlreadyCaught=iGe;Ss.getEventDescription=$Ue;Ss.parseSemver=rGe;Ss.uuid4=JUe});var CD=h(AT=>{l();Object.defineProperty(AT,"__esModule",{value:!0});var sGe=r_(),TT=zi(),aGe=nn(),TD=xa(),Kp=aGe.GLOBAL_OBJ,uGe=1e3,kz,AD,ID;function cGe(t){let e="dom";TD.addHandler(e,t),TD.maybeInstrument(e,Zz)}function Zz(){if(!Kp.document)return;let t=TD.triggerHandlers.bind(null,"dom"),e=Wz(t,!0);Kp.document.addEventListener("click",e,!1),Kp.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let o=Kp[r]&&Kp[r].prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(TT.fill(o,"addEventListener",function(s){return function(a,i,n){if(a==="click"||a=="keypress")try{let u=this,c=u.__sentry_instrumentation_handlers__=u.__sentry_instrumentation_handlers__||{},d=c[a]=c[a]||{refCount:0};if(!d.handler){let f=Wz(t);d.handler=f,s.call(this,a,f,n)}d.refCount++}catch{}return s.call(this,a,i,n)}}),TT.fill(o,"removeEventListener",function(s){return function(a,i,n){if(a==="click"||a=="keypress")try{let u=this,c=u.__sentry_instrumentation_handlers__||{},d=c[a];d&&(d.refCount--,d.refCount<=0&&(s.call(this,a,d.handler,n),d.handler=void 0,delete c[a]),Object.keys(c).length===0&&delete u.__sentry_instrumentation_handlers__)}catch{}return s.call(this,a,i,n)}}))})}function lGe(t){if(t.type!==AD)return!1;try{if(!t.target||t.target._sentryId!==ID)return!1}catch{}return!0}function dGe(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Wz(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let o=fGe(r);if(dGe(r.type,o))return;TT.addNonEnumerableProperty(r,"_sentryCaptured",!0),o&&!o._sentryId&&TT.addNonEnumerableProperty(o,"_sentryId",sGe.uuid4());let s=r.type==="keypress"?"input":r.type;lGe(r)||(t({event:r,name:s,global:e}),AD=r.type,ID=o?o._sentryId:void 0),clearTimeout(kz),kz=Kp.setTimeout(()=>{ID=void 0,AD=void 0},uGe)}}function fGe(t){try{return t.target}catch{return null}}AT.addClickKeypressInstrumentationHandler=cGe;AT.instrumentDOM=Zz});var ND=h(bs=>{l();Object.defineProperty(bs,"__esModule",{value:!0});var pGe=_s(),hGe=Go(),gGe=nn(),IT=gGe.getGlobalObject();function mGe(){try{return new ErrorEvent(""),!0}catch{return!1}}function yGe(){try{return new DOMError(""),!0}catch{return!1}}function _Ge(){try{return new DOMException(""),!0}catch{return!1}}function OD(){if(!("fetch"in IT))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function RD(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function SGe(){if(typeof EdgeRuntime=="string")return!0;if(!OD())return!1;if(RD(IT.fetch))return!0;let t=!1,e=IT.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=RD(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){pGe.DEBUG_BUILD&&hGe.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function bGe(){return"ReportingObserver"in IT}function EGe(){if(!OD())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}bs.isNativeFetch=RD;bs.supportsDOMError=yGe;bs.supportsDOMException=_Ge;bs.supportsErrorEvent=mGe;bs.supportsFetch=OD;bs.supportsNativeFetch=SGe;bs.supportsReferrerPolicy=EGe;bs.supportsReportingObserver=bGe});var PD=h(CT=>{l();Object.defineProperty(CT,"__esModule",{value:!0});var vGe=zi(),TGe=ND(),qz=nn(),n_=xa();function AGe(t){let e="fetch";n_.addHandler(e,t),n_.maybeInstrument(e,IGe)}function IGe(){TGe.supportsNativeFetch()&&vGe.fill(qz.GLOBAL_OBJ,"fetch",function(t){return function(...e){let{method:r,url:o}=jz(e),s={args:e,fetchData:{method:r,url:o},startTimestamp:Date.now()};return n_.triggerHandlers("fetch",{...s}),t.apply(qz.GLOBAL_OBJ,e).then(a=>{let i={...s,endTimestamp:Date.now(),response:a};return n_.triggerHandlers("fetch",i),a},a=>{let i={...s,endTimestamp:Date.now(),error:a};throw n_.triggerHandlers("fetch",i),a})}})}function wD(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Yz(t){return typeof t=="string"?t:t?wD(t,"url")?t.url:t.toString?t.toString():"":""}function jz(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,o]=t;return{url:Yz(r),method:wD(o,"method")?String(o.method).toUpperCase():"GET"}}let e=t[0];return{url:Yz(e),method:wD(e,"method")?String(e.method).toUpperCase():"GET"}}CT.addFetchInstrumentationHandler=AGe;CT.parseFetchArgs=jz});var DD=h(BD=>{l();Object.defineProperty(BD,"__esModule",{value:!0});var MD=nn(),xD=xa(),RT=null;function CGe(t){let e="error";xD.addHandler(e,t),xD.maybeInstrument(e,RGe)}function RGe(){RT=MD.GLOBAL_OBJ.onerror,MD.GLOBAL_OBJ.onerror=function(t,e,r,o,s){let a={column:o,error:s,line:r,msg:t,url:e};return xD.triggerHandlers("error",a),RT&&!RT.__SENTRY_LOADER__?RT.apply(this,arguments):!1},MD.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}BD.addGlobalErrorInstrumentationHandler=CGe});var VD=h(GD=>{l();Object.defineProperty(GD,"__esModule",{value:!0});var LD=nn(),UD=xa(),OT=null;function OGe(t){let e="unhandledrejection";UD.addHandler(e,t),UD.maybeInstrument(e,NGe)}function NGe(){OT=LD.GLOBAL_OBJ.onunhandledrejection,LD.GLOBAL_OBJ.onunhandledrejection=function(t){let e=t;return UD.triggerHandlers("unhandledrejection",e),OT&&!OT.__SENTRY_LOADER__?OT.apply(this,arguments):!0},LD.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}GD.addGlobalUnhandledRejectionInstrumentationHandler=OGe});var HD=h(FD=>{l();Object.defineProperty(FD,"__esModule",{value:!0});var wGe=nn(),NT=wGe.getGlobalObject();function PGe(){let t=NT.chrome,e=t&&t.app&&t.app.runtime,r="history"in NT&&!!NT.history.pushState&&!!NT.history.replaceState;return!e&&r}FD.supportsHistory=PGe});var WD=h(kD=>{l();Object.defineProperty(kD,"__esModule",{value:!0});var Kz=zi();_s();Go();var MGe=nn(),xGe=HD(),PT=xa(),i_=MGe.GLOBAL_OBJ,wT;function BGe(t){let e="history";PT.addHandler(e,t),PT.maybeInstrument(e,DGe)}function DGe(){if(!xGe.supportsHistory())return;let t=i_.onpopstate;i_.onpopstate=function(...r){let o=i_.location.href,s=wT;wT=o;let a={from:s,to:o};if(PT.triggerHandlers("history",a),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...o){let s=o.length>2?o[2]:void 0;if(s){let a=wT,i=String(s);wT=i;let n={from:a,to:i};PT.triggerHandlers("history",n)}return r.apply(this,o)}}Kz.fill(i_.history,"pushState",e),Kz.fill(i_.history,"replaceState",e)}kD.addHistoryInstrumentationHandler=BGe});var ZD=h(s_=>{l();Object.defineProperty(s_,"__esModule",{value:!0});var xT=Xi(),MT=zi(),LGe=nn(),BT=xa(),UGe=LGe.GLOBAL_OBJ,o_="__sentry_xhr_v3__";function GGe(t){let e="xhr";BT.addHandler(e,t),BT.maybeInstrument(e,Xz)}function Xz(){if(!UGe.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;MT.fill(t,"open",function(e){return function(...r){let o=Date.now(),s=xT.isString(r[0])?r[0].toUpperCase():void 0,a=VGe(r[1]);if(!s||!a)return e.apply(this,r);this[o_]={method:s,url:a,request_headers:{}},s==="POST"&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let i=()=>{let n=this[o_];if(n&&this.readyState===4){try{n.status_code=this.status}catch{}let u={args:[s,a],endTimestamp:Date.now(),startTimestamp:o,xhr:this};BT.triggerHandlers("xhr",u)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?MT.fill(this,"onreadystatechange",function(n){return function(...u){return i(),n.apply(this,u)}}):this.addEventListener("readystatechange",i),MT.fill(this,"setRequestHeader",function(n){return function(...u){let[c,d]=u,f=this[o_];return f&&xT.isString(c)&&xT.isString(d)&&(f.request_headers[c.toLowerCase()]=d),n.apply(this,u)}}),e.apply(this,r)}}),MT.fill(t,"send",function(e){return function(...r){let o=this[o_];if(!o)return e.apply(this,r);r[0]!==void 0&&(o.body=r[0]);let s={args:[o.method,o.url],startTimestamp:Date.now(),xhr:this};return BT.triggerHandlers("xhr",s),e.apply(this,r)}})}function VGe(t){if(xT.isString(t))return t;try{return t.toString()}catch{}}s_.SENTRY_XHR_DATA_KEY=o_;s_.addXhrInstrumentationHandler=GGe;s_.instrumentXHR=Xz});var rJ=h(Fo=>{l();Object.defineProperty(Fo,"__esModule",{value:!0});var FGe=_s(),HGe=Go(),zz=ED(),Jz=CD(),$z=PD(),Qz=DD(),eJ=VD(),tJ=WD(),qD=ZD();function kGe(t,e){switch(t){case"console":return zz.addConsoleInstrumentationHandler(e);case"dom":return Jz.addClickKeypressInstrumentationHandler(e);case"xhr":return qD.addXhrInstrumentationHandler(e);case"fetch":return $z.addFetchInstrumentationHandler(e);case"history":return tJ.addHistoryInstrumentationHandler(e);case"error":return Qz.addGlobalErrorInstrumentationHandler(e);case"unhandledrejection":return eJ.addGlobalUnhandledRejectionInstrumentationHandler(e);default:FGe.DEBUG_BUILD&&HGe.logger.warn("unknown instrumentation type:",t)}}Fo.addConsoleInstrumentationHandler=zz.addConsoleInstrumentationHandler;Fo.addClickKeypressInstrumentationHandler=Jz.addClickKeypressInstrumentationHandler;Fo.addFetchInstrumentationHandler=$z.addFetchInstrumentationHandler;Fo.addGlobalErrorInstrumentationHandler=Qz.addGlobalErrorInstrumentationHandler;Fo.addGlobalUnhandledRejectionInstrumentationHandler=eJ.addGlobalUnhandledRejectionInstrumentationHandler;Fo.addHistoryInstrumentationHandler=tJ.addHistoryInstrumentationHandler;Fo.SENTRY_XHR_DATA_KEY=qD.SENTRY_XHR_DATA_KEY;Fo.addXhrInstrumentationHandler=qD.addXhrInstrumentationHandler;Fo.addInstrumentationHandler=kGe});var YD=h(DT=>{l();Object.defineProperty(DT,"__esModule",{value:!0});function WGe(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function ZGe(){return"npm"}DT.getSDKSource=ZGe;DT.isBrowserBundle=WGe});var jD=h((a_,UT)=>{l();Object.defineProperty(a_,"__esModule",{value:!0});var qGe=YD();function YGe(){return!qGe.isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function LT(t,e){return t.require(e)}function jGe(t){let e;try{e=LT(UT,t)}catch{}try{let{cwd:r}=LT(UT,"process");e=LT(UT,`${r()}/node_modules/${t}`)}catch{}return e}a_.dynamicRequire=LT;a_.isNodeEnv=YGe;a_.loadModule=jGe});var iJ=h(KD=>{l();Object.defineProperty(KD,"__esModule",{value:!0});var KGe=jD(),nJ=nn();function XGe(){return typeof window<"u"&&(!KGe.isNodeEnv()||zGe())}function zGe(){return nJ.GLOBAL_OBJ.process!==void 0&&nJ.GLOBAL_OBJ.process.type==="renderer"}KD.isBrowser=XGe});var zD=h(XD=>{l();Object.defineProperty(XD,"__esModule",{value:!0});function JGe(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let a=0;a<e.length;a++)if(e[a]===s)return!0;return e.push(s),!1}function o(s){if(t)e.delete(s);else for(let a=0;a<e.length;a++)if(e[a]===s){e.splice(a,1);break}}return[r,o]}XD.memoBuilder=JGe});var u_=h(Xp=>{l();Object.defineProperty(Xp,"__esModule",{value:!0});var JD=Xi(),$Ge=zD(),QGe=zi(),eVe=ET();function oJ(t,e=100,r=1/0){try{return GT("",t,e,r)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function sJ(t,e=3,r=100*1024){let o=oJ(t,e);return iVe(o)>r?sJ(t,e-1,r):o}function GT(t,e,r=1/0,o=1/0,s=$Ge.memoBuilder()){let[a,i]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!JD.isNaN(e))return e;let n=tVe(t,e);if(!n.startsWith("[object "))return n;if(e.__sentry_skip_normalization__)return e;let u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(u===0)return n.replace("object ","");if(a(e))return"[Circular ~]";let c=e;if(c&&typeof c.toJSON=="function")try{let y=c.toJSON();return GT("",y,u-1,o,s)}catch{}let d=Array.isArray(e)?[]:{},f=0,g=QGe.convertToPlainObject(e);for(let y in g){if(!Object.prototype.hasOwnProperty.call(g,y))continue;if(f>=o){d[y]="[MaxProperties ~]";break}let S=g[y];d[y]=GT(y,S,u-1,o,s),f++}return i(e),d}function tVe(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(JD.isVueViewModel(e))return"[VueViewModel]";if(JD.isSyntheticEvent(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${eVe.getFunctionName(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=rVe(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function rVe(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function nVe(t){return~-encodeURI(t).split(/%..|./).length}function iVe(t){return nVe(JSON.stringify(t))}function oVe(t,e){let r=e.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),o=t;try{o=decodeURI(t)}catch{}return o.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${r}/*`,"ig"),"app:///")}Xp.normalize=oJ;Xp.normalizeToSize=sJ;Xp.normalizeUrlToBase=oVe;Xp.walk=GT});var fJ=h(Ba=>{l();Object.defineProperty(Ba,"__esModule",{value:!0});function uJ(t,e){let r=0;for(let o=t.length-1;o>=0;o--){let s=t[o];s==="."?t.splice(o,1):s===".."?(t.splice(o,1),r++):r&&(t.splice(o,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var sVe=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function cJ(t){let e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,r=sVe.exec(e);return r?r.slice(1):[]}function $D(...t){let e="",r=!1;for(let o=t.length-1;o>=-1&&!r;o--){let s=o>=0?t[o]:"/";s&&(e=`${s}/${e}`,r=s.charAt(0)==="/")}return e=uJ(e.split("/").filter(o=>!!o),!r).join("/"),(r?"/":"")+e||"."}function aJ(t){let e=0;for(;e<t.length&&t[e]==="";e++);let r=t.length-1;for(;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}function aVe(t,e){t=$D(t).slice(1),e=$D(e).slice(1);let r=aJ(t.split("/")),o=aJ(e.split("/")),s=Math.min(r.length,o.length),a=s;for(let n=0;n<s;n++)if(r[n]!==o[n]){a=n;break}let i=[];for(let n=a;n<r.length;n++)i.push("..");return i=i.concat(o.slice(a)),i.join("/")}function lJ(t){let e=dJ(t),r=t.slice(-1)==="/",o=uJ(t.split("/").filter(s=>!!s),!e).join("/");return!o&&!e&&(o="."),o&&r&&(o+="/"),(e?"/":"")+o}function dJ(t){return t.charAt(0)==="/"}function uVe(...t){return lJ(t.join("/"))}function cVe(t){let e=cJ(t),r=e[0],o=e[1];return!r&&!o?".":(o&&(o=o.slice(0,o.length-1)),r+o)}function lVe(t,e){let r=cJ(t)[2];return e&&r.slice(e.length*-1)===e&&(r=r.slice(0,r.length-e.length)),r}Ba.basename=lVe;Ba.dirname=cVe;Ba.isAbsolute=dJ;Ba.join=uVe;Ba.normalizePath=lJ;Ba.relative=aVe;Ba.resolve=$D});var QD=h(l_=>{l();Object.defineProperty(l_,"__esModule",{value:!0});var dVe=Xi(),Da;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let o=2;t[t.REJECTED=o]="REJECTED"})(Da||(Da={}));function fVe(t){return new c_(e=>{e(t)})}function pVe(t){return new c_((e,r)=>{r(t)})}var c_=class t{constructor(e){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),this._state=Da.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new t((o,s)=>{this._handlers.push([!1,a=>{if(!e)o(a);else try{o(e(a))}catch(i){s(i)}},a=>{if(!r)s(a);else try{o(r(a))}catch(i){s(i)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new t((r,o)=>{let s,a;return this.then(i=>{a=!1,s=i,e&&e()},i=>{a=!0,s=i,e&&e()}).then(()=>{if(a){o(s);return}r(s)})})}__init(){this._resolve=e=>{this._setResult(Da.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Da.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===Da.PENDING){if(dVe.isThenable(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Da.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Da.RESOLVED&&r[1](this._value),this._state===Da.REJECTED&&r[2](this._value),r[0]=!0)})}}};l_.SyncPromise=c_;l_.rejectedSyncPromise=pVe;l_.resolvedSyncPromise=fVe});var pJ=h(tL=>{l();Object.defineProperty(tL,"__esModule",{value:!0});var hVe=gD(),eL=QD();function gVe(t){let e=[];function r(){return t===void 0||e.length<t}function o(i){return e.splice(e.indexOf(i),1)[0]}function s(i){if(!r())return eL.rejectedSyncPromise(new hVe.SentryError("Not adding Promise because buffer limit was reached."));let n=i();return e.indexOf(n)===-1&&e.push(n),n.then(()=>o(n)).then(null,()=>o(n).then(null,()=>{})),n}function a(i){return new eL.SyncPromise((n,u)=>{let c=e.length;if(!c)return n(!0);let d=setTimeout(()=>{i&&i>0&&n(!1)},i);e.forEach(f=>{eL.resolvedSyncPromise(f).then(()=>{--c||(clearTimeout(d),n(!0))},u)})})}return{$:e,add:s,drain:a}}tL.makePromiseBuffer=gVe});var hJ=h(rL=>{l();Object.defineProperty(rL,"__esModule",{value:!0});function mVe(t){let e={},r=0;for(;r<t.length;){let o=t.indexOf("=",r);if(o===-1)break;let s=t.indexOf(";",r);if(s===-1)s=t.length;else if(s<o){r=t.lastIndexOf(";",o-1)+1;continue}let a=t.slice(r,o).trim();if(e[a]===void 0){let i=t.slice(o+1,s).trim();i.charCodeAt(0)===34&&(i=i.slice(1,-1));try{e[a]=i.indexOf("%")!==-1?decodeURIComponent(i):i}catch{e[a]=i}}r=s+1}return e}rL.parseCookie=mVe});var nL=h(zp=>{l();Object.defineProperty(zp,"__esModule",{value:!0});function yVe(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",o=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:o,relative:e[5]+r+o}}function _Ve(t){return t.split(/[\?#]/,1)[0]}function SVe(t){return t.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function bVe(t){let{protocol:e,host:r,path:o}=t,s=r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${e?`${e}://`:""}${s}${o}`}zp.getNumberOfUrlSegments=SVe;zp.getSanitizedUrlString=bVe;zp.parseUrl=yVe;zp.stripUrlQueryAndFragment=_Ve});var SJ=h(La=>{l();Object.defineProperty(La,"__esModule",{value:!0});var EVe=hJ(),vVe=_s(),gJ=Xi(),TVe=Go(),AVe=u_(),IVe=nL(),CVe={ip:!1,request:!0,transaction:!0,user:!0},RVe=["cookies","data","headers","method","query_string","url"],mJ=["id","username","email"];function OVe(t,e,r){if(t){if(!t.metadata.source||t.metadata.source==="url"){let[o,s]=VT(e,{path:!0,method:!0});t.updateName(o),t.setMetadata({source:s})}t.setAttribute("url",e.originalUrl||e.url),e.baseUrl&&t.setAttribute("baseUrl",e.baseUrl),t.setData("query",yJ(e,r))}}function VT(t,e={}){let r=t.method&&t.method.toUpperCase(),o="",s="url";e.customRoute||t.route?(o=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,s="route"):(t.originalUrl||t.url)&&(o=IVe.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let a="";return e.method&&r&&(a+=r),e.method&&e.path&&(a+=" "),e.path&&o&&(a+=o),[a,s]}function NVe(t,e){switch(e){case"path":return VT(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:{let r=t._reconstructedRoute?t._reconstructedRoute:void 0;return VT(t,{path:!0,method:!0,customRoute:r})[0]}}}function wVe(t,e){let r={};return(Array.isArray(e)?e:mJ).forEach(s=>{t&&s in t&&(r[s]=t[s])}),r}function iL(t,e){let{include:r=RVe,deps:o}=e||{},s={},a=t.headers||{},i=t.method,n=a.host||t.hostname||t.host||"<no host>",u=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",c=t.originalUrl||t.url||"",d=c.startsWith(u)?c:`${u}://${n}${c}`;return r.forEach(f=>{switch(f){case"headers":{s.headers=a,r.includes("cookies")||delete s.headers.cookie;break}case"method":{s.method=i;break}case"url":{s.url=d;break}case"cookies":{s.cookies=t.cookies||a.cookie&&EVe.parseCookie(a.cookie)||{};break}case"query_string":{s.query_string=yJ(t,o);break}case"data":{if(i==="GET"||i==="HEAD")break;t.body!==void 0&&(s.data=gJ.isString(t.body)?t.body:JSON.stringify(AVe.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,f)&&(s[f]=t[f])}}),s}function PVe(t,e,r){let o={...CVe,...r&&r.include};if(o.request){let s=Array.isArray(o.request)?iL(e,{include:o.request,deps:r&&r.deps}):iL(e,{deps:r&&r.deps});t.request={...t.request,...s}}if(o.user){let s=e.user&&gJ.isPlainObject(e.user)?wVe(e.user,o.user):{};Object.keys(s).length&&(t.user={...t.user,...s})}if(o.ip){let s=e.ip||e.socket&&e.socket.remoteAddress;s&&(t.user={...t.user,ip_address:s})}return o.transaction&&!t.transaction&&(t.transaction=NVe(e,o.transaction)),t}function yJ(t,e){let r=t.originalUrl||t.url||"";if(r){r.startsWith("/")&&(r=`http://dogs.are.great${r}`);try{return t.query||typeof URL<"u"&&new URL(r).search.slice(1)||e&&e.url&&e.url.parse(r).query||void 0}catch{return}}}function _J(t){let e={};try{t.forEach((r,o)=>{typeof r=="string"&&(e[o]=r)})}catch{vVe.DEBUG_BUILD&&TVe.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return e}function MVe(t){let e=_J(t.headers);return{method:t.method,url:t.url,headers:e}}La.DEFAULT_USER_INCLUDES=mJ;La.addRequestDataToEvent=PVe;La.addRequestDataToTransaction=OVe;La.extractPathForTransaction=VT;La.extractRequestData=iL;La.winterCGHeadersToDict=_J;La.winterCGRequestToRequestData=MVe});var vJ=h(d_=>{l();Object.defineProperty(d_,"__esModule",{value:!0});var bJ=["fatal","error","warning","log","info","debug"];function xVe(t){return EJ(t)}function EJ(t){return t==="warn"?"warning":bJ.includes(t)?t:"log"}d_.severityFromString=xVe;d_.severityLevelFromString=EJ;d_.validSeverityLevels=bJ});var oL=h(Ho=>{l();Object.defineProperty(Ho,"__esModule",{value:!0});var TJ=nn(),AJ=1e3;function IJ(){return Date.now()/AJ}function BVe(){let{performance:t}=TJ.GLOBAL_OBJ;if(!t||!t.now)return IJ;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/AJ}var CJ=BVe(),DVe=CJ;Ho._browserPerformanceTimeOriginMode=void 0;var LVe=(()=>{let{performance:t}=TJ.GLOBAL_OBJ;if(!t||!t.now){Ho._browserPerformanceTimeOriginMode="none";return}let e=3600*1e3,r=t.now(),o=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+r-o):e,a=s<e,i=t.timing&&t.timing.navigationStart,u=typeof i=="number"?Math.abs(i+r-o):e,c=u<e;return a||c?s<=u?(Ho._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Ho._browserPerformanceTimeOriginMode="navigationStart",i):(Ho._browserPerformanceTimeOriginMode="dateNow",o)})();Ho.browserPerformanceTimeOrigin=LVe;Ho.dateTimestampInSeconds=IJ;Ho.timestampInSeconds=CJ;Ho.timestampWithMs=DVe});var aL=h(Ju=>{l();Object.defineProperty(Ju,"__esModule",{value:!0});var UVe=_s(),GVe=Xi(),VVe=Go(),FVe="baggage",sL="sentry-",OJ=/^sentry-/,NJ=8192;function HVe(t){if(!GVe.isString(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((o,s)=>{let a=RJ(s);for(let i of Object.keys(a))o[i]=a[i];return o},{});else{if(!t)return;e=RJ(t)}let r=Object.entries(e).reduce((o,[s,a])=>{if(s.match(OJ)){let i=s.slice(sL.length);o[i]=a}return o},{});if(Object.keys(r).length>0)return r}function kVe(t){if(!t)return;let e=Object.entries(t).reduce((r,[o,s])=>(s&&(r[`${sL}${o}`]=s),r),{});return WVe(e)}function RJ(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,o])=>(e[r]=o,e),{})}function WVe(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,o],s)=>{let a=`${encodeURIComponent(r)}=${encodeURIComponent(o)}`,i=s===0?a:`${e},${a}`;return i.length>NJ?(UVe.DEBUG_BUILD&&VVe.logger.warn(`Not adding key: ${r} with val: ${o} to baggage header due to exceeding baggage size limits.`),e):i},"")}Ju.BAGGAGE_HEADER_NAME=FVe;Ju.MAX_BAGGAGE_STRING_LENGTH=NJ;Ju.SENTRY_BAGGAGE_KEY_PREFIX=sL;Ju.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=OJ;Ju.baggageHeaderToDynamicSamplingContext=HVe;Ju.dynamicSamplingContextToSentryBaggageHeader=kVe});var MJ=h(jl=>{l();Object.defineProperty(jl,"__esModule",{value:!0});var wJ=aL(),Ji=r_(),PJ=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function uL(t){if(!t)return;let e=t.match(PJ);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function ZVe(t,e){let r=uL(t),o=wJ.baggageHeaderToDynamicSamplingContext(e),{traceId:s,parentSpanId:a,parentSampled:i}=r||{};return r?{traceparentData:r,dynamicSamplingContext:o||{},propagationContext:{traceId:s||Ji.uuid4(),parentSpanId:a||Ji.uuid4().substring(16),spanId:Ji.uuid4().substring(16),sampled:i,dsc:o||{}}}:{traceparentData:r,dynamicSamplingContext:void 0,propagationContext:{traceId:s||Ji.uuid4(),spanId:Ji.uuid4().substring(16)}}}function qVe(t,e){let r=uL(t),o=wJ.baggageHeaderToDynamicSamplingContext(e),{traceId:s,parentSpanId:a,parentSampled:i}=r||{};return r?{traceId:s||Ji.uuid4(),parentSpanId:a||Ji.uuid4().substring(16),spanId:Ji.uuid4().substring(16),sampled:i,dsc:o||{}}:{traceId:s||Ji.uuid4(),spanId:Ji.uuid4().substring(16)}}function YVe(t=Ji.uuid4(),e=Ji.uuid4().substring(16),r){let o="";return r!==void 0&&(o=r?"-1":"-0"),`${t}-${e}${o}`}jl.TRACEPARENT_REGEXP=PJ;jl.extractTraceparentData=uL;jl.generateSentryTraceHeader=YVe;jl.propagationContextFromHeaders=qVe;jl.tracingContextFromHeaders=ZVe});var lL=h($i=>{l();Object.defineProperty($i,"__esModule",{value:!0});var jVe=fD(),KVe=u_(),xJ=zi();function XVe(t,e=[]){return[t,e]}function zVe(t,e){let[r,o]=t;return[r,[...o,e]]}function BJ(t,e){let r=t[1];for(let o of r){let s=o[0].type;if(e(o,s))return!0}return!1}function JVe(t,e){return BJ(t,(r,o)=>e.includes(o))}function cL(t,e){return(e||new TextEncoder).encode(t)}function $Ve(t,e){let[r,o]=t,s=JSON.stringify(r);function a(i){typeof s=="string"?s=typeof i=="string"?s+i:[cL(s,e),i]:s.push(typeof i=="string"?cL(i,e):i)}for(let i of o){let[n,u]=i;if(a(`
${JSON.stringify(n)}
`),typeof u=="string"||u instanceof Uint8Array)a(u);else{let c;try{c=JSON.stringify(u)}catch{c=JSON.stringify(KVe.normalize(u))}a(c)}}return typeof s=="string"?s:QVe(s)}function QVe(t){let e=t.reduce((s,a)=>s+a.length,0),r=new Uint8Array(e),o=0;for(let s of t)r.set(s,o),o+=s.length;return r}function eFe(t,e,r){let o=typeof t=="string"?e.encode(t):t;function s(u){let c=o.subarray(0,u);return o=o.subarray(u+1),c}function a(){let u=o.indexOf(10);return u<0&&(u=o.length),JSON.parse(r.decode(s(u)))}let i=a(),n=[];for(;o.length;){let u=a(),c=typeof u.length=="number"?u.length:void 0;n.push([u,c?s(c):a()])}return[i,n]}function tFe(t,e){let r=typeof t.data=="string"?cL(t.data,e):t.data;return[xJ.dropUndefinedKeys({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var rFe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"unknown"};function nFe(t){return rFe[t]}function iFe(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function oFe(t,e,r,o){let s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&o&&{dsn:jVe.dsnToString(o)},...s&&{trace:xJ.dropUndefinedKeys({...s})}}}$i.addItemToEnvelope=zVe;$i.createAttachmentEnvelopeItem=tFe;$i.createEnvelope=XVe;$i.createEventEnvelopeHeaders=oFe;$i.envelopeContainsItemType=JVe;$i.envelopeItemTypeToDataCategory=nFe;$i.forEachEnvelopeItem=BJ;$i.getSdkMetadataForEnvelopeHeader=iFe;$i.parseEnvelope=eFe;$i.serializeEnvelope=$Ve});var DJ=h(dL=>{l();Object.defineProperty(dL,"__esModule",{value:!0});var sFe=lL(),aFe=oL();function uFe(t,e,r){let o=[{type:"client_report"},{timestamp:r||aFe.dateTimestampInSeconds(),discarded_events:t}];return sFe.createEnvelope(e?{dsn:e}:{},[o])}dL.createClientReportEnvelope=uFe});var VJ=h(Kl=>{l();Object.defineProperty(Kl,"__esModule",{value:!0});var LJ=60*1e3;function UJ(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let o=Date.parse(`${t}`);return isNaN(o)?LJ:o-e}function GJ(t,e){return t[e]||t.all||0}function cFe(t,e,r=Date.now()){return GJ(t,e)>r}function lFe(t,{statusCode:e,headers:r},o=Date.now()){let s={...t},a=r&&r["x-sentry-rate-limits"],i=r&&r["retry-after"];if(a)for(let n of a.trim().split(",")){let[u,c]=n.split(":",2),d=parseInt(u,10),f=(isNaN(d)?60:d)*1e3;if(!c)s.all=o+f;else for(let g of c.split(";"))s[g]=o+f}else i?s.all=o+UJ(i,o):e===429&&(s.all=o+60*1e3);return s}Kl.DEFAULT_RETRY_AFTER=LJ;Kl.disabledUntil=GJ;Kl.isRateLimited=cFe;Kl.parseRetryAfterHeader=UJ;Kl.updateRateLimits=lFe});var kJ=h(fL=>{l();Object.defineProperty(fL,"__esModule",{value:!0});function FJ(t,e,r){let o=e.match(/([a-z_]+)\.(.*)/i);if(o===null)t[e]=r;else{let s=t[o[1]];FJ(s,o[2],r)}}function dFe(t,e,r={}){return Array.isArray(e)?HJ(t,e,r):fFe(t,e,r)}function HJ(t,e,r){let o=e.find(s=>s.name===t.name);if(o){for(let[s,a]of Object.entries(r))FJ(o,s,a);return e}return[...e,t]}function fFe(t,e,r){return s=>{let a=e(s);return t.allowExclusionByUser&&!a.find(n=>n.name===t.name)?a:HJ(t,a,r)}}fL.addOrUpdateIntegration=dFe});var WJ=h(pL=>{l();Object.defineProperty(pL,"__esModule",{value:!0});function pFe(t){let e=[],r={};return{add(o,s){for(;e.length>=t;){let a=e.shift();a!==void 0&&delete r[a]}r[o]&&this.delete(o),e.push(o),r[o]=s},clear(){r={},e=[]},get(o){return r[o]},size(){return e.length},delete(o){if(!r[o])return!1;delete r[o];for(let s=0;s<e.length;s++)if(e[s]===o){e.splice(s,1);break}return!0}}}pL.makeFifoCache=pFe});var YJ=h(Jp=>{l();Object.defineProperty(Jp,"__esModule",{value:!0});var hL=Xi(),ZJ=r_(),hFe=u_(),gFe=zi();function gL(t,e){return t(e.stack||"",1)}function qJ(t,e){let r={type:e.name||e.constructor.name,value:e.message},o=gL(t,e);return o.length&&(r.stacktrace={frames:o}),r}function mFe(t){if("name"in t&&typeof t.name=="string"){let e=`'${t.name}' captured as exception`;return"message"in t&&typeof t.message=="string"&&(e+=` with message '${t.message}'`),e}else return"message"in t&&typeof t.message=="string"?t.message:`Object captured as exception with keys: ${gFe.extractExceptionKeysForMessage(t)}`}function yFe(t,e,r,o){let s=typeof t=="function"?t().getClient():t,a=r,n=o&&o.data&&o.data.mechanism||{handled:!0,type:"generic"},u;if(!hL.isError(r)){if(hL.isPlainObject(r)){let d=s&&s.getOptions().normalizeDepth;u={__serialized__:hFe.normalizeToSize(r,d)};let f=mFe(r);a=o&&o.syntheticException||new Error(f),a.message=f}else a=o&&o.syntheticException||new Error(r),a.message=r;n.synthetic=!0}let c={exception:{values:[qJ(e,a)]}};return u&&(c.extra=u),ZJ.addExceptionTypeValue(c,void 0,void 0),ZJ.addExceptionMechanism(c,n),{...c,event_id:o&&o.event_id}}function _Fe(t,e,r="info",o,s){let a={event_id:o&&o.event_id,level:r};if(s&&o&&o.syntheticException){let i=gL(t,o.syntheticException);i.length&&(a.exception={values:[{value:e,stacktrace:{frames:i}}]})}if(hL.isParameterizedString(e)){let{__sentry_template_string__:i,__sentry_template_values__:n}=e;return a.logentry={message:i,params:n},a}return a.message=e,a}Jp.eventFromMessage=_Fe;Jp.eventFromUnknownInput=yFe;Jp.exceptionFromError=qJ;Jp.parseStackFrames=gL});var jJ=h(FT=>{l();Object.defineProperty(FT,"__esModule",{value:!0});var SFe=zi(),bFe=bT();function EFe(t,e,r,o){let s=t(),a=!1,i=!0;return setInterval(()=>{let n=s.getTimeMs();a===!1&&n>e+r&&(a=!0,i&&o()),n<e+r&&(a=!1)},20),{poll:()=>{s.reset()},enabled:n=>{i=n}}}function vFe(t,e,r){let o=e?e.replace(/^file:\/\//,""):void 0,s=t.location.columnNumber?t.location.columnNumber+1:void 0,a=t.location.lineNumber?t.location.lineNumber+1:void 0;return SFe.dropUndefinedKeys({filename:o,module:r(o),function:t.functionName||"?",colno:s,lineno:a,in_app:o?bFe.filenameIsInApp(o):void 0})}FT.callFrameToStackFrame=vFe;FT.watchdogTimer=EFe});var KJ=h(yL=>{l();Object.defineProperty(yL,"__esModule",{value:!0});var mL=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){let r=this._cache.get(e);if(r!==void 0)return this._cache.delete(e),this._cache.set(e,r),r}set(e,r){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,r)}remove(e){let r=this._cache.get(e);return r&&this._cache.delete(e),r}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let e=[];return this._cache.forEach(r=>e.push(r)),e}};yL.LRUMap=mL});var SL=h(_L=>{l();Object.defineProperty(_L,"__esModule",{value:!0});function TFe(t,e){return t??e()}_L._nullishCoalesce=TFe});var XJ=h(bL=>{l();Object.defineProperty(bL,"__esModule",{value:!0});var AFe=SL();async function IFe(t,e){return AFe._nullishCoalesce(t,e)}bL._asyncNullishCoalesce=IFe});var vL=h(EL=>{l();Object.defineProperty(EL,"__esModule",{value:!0});async function CFe(t){let e,r=t[0],o=1;for(;o<t.length;){let s=t[o],a=t[o+1];if(o+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=await a(r)):(s==="call"||s==="optionalCall")&&(r=await a((...i)=>r.call(e,...i)),e=void 0)}return r}EL._asyncOptionalChain=CFe});var zJ=h(TL=>{l();Object.defineProperty(TL,"__esModule",{value:!0});var RFe=vL();async function OFe(t){let e=await RFe._asyncOptionalChain(t);return e??!0}TL._asyncOptionalChainDelete=OFe});var IL=h(AL=>{l();Object.defineProperty(AL,"__esModule",{value:!0});function NFe(t){let e,r=t[0],o=1;for(;o<t.length;){let s=t[o],a=t[o+1];if(o+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=a(r)):(s==="call"||s==="optionalCall")&&(r=a((...i)=>r.call(e,...i)),e=void 0)}return r}AL._optionalChain=NFe});var JJ=h(CL=>{l();Object.defineProperty(CL,"__esModule",{value:!0});var wFe=IL();function PFe(t){let e=wFe._optionalChain(t);return e??!0}CL._optionalChainDelete=PFe});var $J=h(RL=>{l();Object.defineProperty(RL,"__esModule",{value:!0});function MFe(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}RL.escapeStringForRegex=MFe});var z=h(F=>{l();Object.defineProperty(F,"__esModule",{value:!0});var xFe=Tz(),HT=aD(),OL=fD(),BFe=gD(),NL=nn(),DFe=rJ(),on=Xi(),LFe=iJ(),kT=Go(),UFe=zD(),$u=r_(),wL=jD(),WT=u_(),Ua=zi(),Xl=fJ(),GFe=pJ(),zl=SJ(),PL=vJ(),f_=ET(),p_=$y(),Qu=ND(),ML=QD(),h_=oL(),g_=MJ(),QJ=YD(),Es=lL(),VFe=DJ(),m_=VJ(),$p=aL(),ZT=nL(),FFe=kJ(),HFe=WJ(),qT=YJ(),e6=jJ(),kFe=KJ(),WFe=XJ(),ZFe=vL(),qFe=zJ(),YFe=SL(),jFe=IL(),KFe=JJ(),XFe=ED(),zFe=CD(),t6=ZD(),JFe=PD(),$Fe=WD(),QFe=DD(),eHe=VD(),tHe=xa(),rHe=bT(),nHe=$J(),iHe=HD();F.applyAggregateErrorsToEvent=xFe.applyAggregateErrorsToEvent;F.getComponentName=HT.getComponentName;F.getDomElement=HT.getDomElement;F.getLocationHref=HT.getLocationHref;F.htmlTreeAsString=HT.htmlTreeAsString;F.dsnFromString=OL.dsnFromString;F.dsnToString=OL.dsnToString;F.makeDsn=OL.makeDsn;F.SentryError=BFe.SentryError;F.GLOBAL_OBJ=NL.GLOBAL_OBJ;F.getGlobalObject=NL.getGlobalObject;F.getGlobalSingleton=NL.getGlobalSingleton;F.addInstrumentationHandler=DFe.addInstrumentationHandler;F.isDOMError=on.isDOMError;F.isDOMException=on.isDOMException;F.isElement=on.isElement;F.isError=on.isError;F.isErrorEvent=on.isErrorEvent;F.isEvent=on.isEvent;F.isInstanceOf=on.isInstanceOf;F.isNaN=on.isNaN;F.isParameterizedString=on.isParameterizedString;F.isPlainObject=on.isPlainObject;F.isPrimitive=on.isPrimitive;F.isRegExp=on.isRegExp;F.isString=on.isString;F.isSyntheticEvent=on.isSyntheticEvent;F.isThenable=on.isThenable;F.isVueViewModel=on.isVueViewModel;F.isBrowser=LFe.isBrowser;F.CONSOLE_LEVELS=kT.CONSOLE_LEVELS;F.consoleSandbox=kT.consoleSandbox;F.logger=kT.logger;F.originalConsoleMethods=kT.originalConsoleMethods;F.memoBuilder=UFe.memoBuilder;F.addContextToFrame=$u.addContextToFrame;F.addExceptionMechanism=$u.addExceptionMechanism;F.addExceptionTypeValue=$u.addExceptionTypeValue;F.arrayify=$u.arrayify;F.checkOrSetAlreadyCaught=$u.checkOrSetAlreadyCaught;F.getEventDescription=$u.getEventDescription;F.parseSemver=$u.parseSemver;F.uuid4=$u.uuid4;F.dynamicRequire=wL.dynamicRequire;F.isNodeEnv=wL.isNodeEnv;F.loadModule=wL.loadModule;F.normalize=WT.normalize;F.normalizeToSize=WT.normalizeToSize;F.normalizeUrlToBase=WT.normalizeUrlToBase;F.walk=WT.walk;F.addNonEnumerableProperty=Ua.addNonEnumerableProperty;F.convertToPlainObject=Ua.convertToPlainObject;F.dropUndefinedKeys=Ua.dropUndefinedKeys;F.extractExceptionKeysForMessage=Ua.extractExceptionKeysForMessage;F.fill=Ua.fill;F.getOriginalFunction=Ua.getOriginalFunction;F.markFunctionWrapped=Ua.markFunctionWrapped;F.objectify=Ua.objectify;F.urlEncode=Ua.urlEncode;F.basename=Xl.basename;F.dirname=Xl.dirname;F.isAbsolute=Xl.isAbsolute;F.join=Xl.join;F.normalizePath=Xl.normalizePath;F.relative=Xl.relative;F.resolve=Xl.resolve;F.makePromiseBuffer=GFe.makePromiseBuffer;F.DEFAULT_USER_INCLUDES=zl.DEFAULT_USER_INCLUDES;F.addRequestDataToEvent=zl.addRequestDataToEvent;F.addRequestDataToTransaction=zl.addRequestDataToTransaction;F.extractPathForTransaction=zl.extractPathForTransaction;F.extractRequestData=zl.extractRequestData;F.winterCGHeadersToDict=zl.winterCGHeadersToDict;F.winterCGRequestToRequestData=zl.winterCGRequestToRequestData;F.severityFromString=PL.severityFromString;F.severityLevelFromString=PL.severityLevelFromString;F.validSeverityLevels=PL.validSeverityLevels;F.createStackParser=f_.createStackParser;F.getFunctionName=f_.getFunctionName;F.nodeStackLineParser=f_.nodeStackLineParser;F.stackParserFromStackParserOptions=f_.stackParserFromStackParserOptions;F.stripSentryFramesAndReverse=f_.stripSentryFramesAndReverse;F.isMatchingPattern=p_.isMatchingPattern;F.safeJoin=p_.safeJoin;F.snipLine=p_.snipLine;F.stringMatchesSomePattern=p_.stringMatchesSomePattern;F.truncate=p_.truncate;F.isNativeFetch=Qu.isNativeFetch;F.supportsDOMError=Qu.supportsDOMError;F.supportsDOMException=Qu.supportsDOMException;F.supportsErrorEvent=Qu.supportsErrorEvent;F.supportsFetch=Qu.supportsFetch;F.supportsNativeFetch=Qu.supportsNativeFetch;F.supportsReferrerPolicy=Qu.supportsReferrerPolicy;F.supportsReportingObserver=Qu.supportsReportingObserver;F.SyncPromise=ML.SyncPromise;F.rejectedSyncPromise=ML.rejectedSyncPromise;F.resolvedSyncPromise=ML.resolvedSyncPromise;Object.defineProperty(F,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>h_._browserPerformanceTimeOriginMode});F.browserPerformanceTimeOrigin=h_.browserPerformanceTimeOrigin;F.dateTimestampInSeconds=h_.dateTimestampInSeconds;F.timestampInSeconds=h_.timestampInSeconds;F.timestampWithMs=h_.timestampWithMs;F.TRACEPARENT_REGEXP=g_.TRACEPARENT_REGEXP;F.extractTraceparentData=g_.extractTraceparentData;F.generateSentryTraceHeader=g_.generateSentryTraceHeader;F.propagationContextFromHeaders=g_.propagationContextFromHeaders;F.tracingContextFromHeaders=g_.tracingContextFromHeaders;F.getSDKSource=QJ.getSDKSource;F.isBrowserBundle=QJ.isBrowserBundle;F.addItemToEnvelope=Es.addItemToEnvelope;F.createAttachmentEnvelopeItem=Es.createAttachmentEnvelopeItem;F.createEnvelope=Es.createEnvelope;F.createEventEnvelopeHeaders=Es.createEventEnvelopeHeaders;F.envelopeContainsItemType=Es.envelopeContainsItemType;F.envelopeItemTypeToDataCategory=Es.envelopeItemTypeToDataCategory;F.forEachEnvelopeItem=Es.forEachEnvelopeItem;F.getSdkMetadataForEnvelopeHeader=Es.getSdkMetadataForEnvelopeHeader;F.parseEnvelope=Es.parseEnvelope;F.serializeEnvelope=Es.serializeEnvelope;F.createClientReportEnvelope=VFe.createClientReportEnvelope;F.DEFAULT_RETRY_AFTER=m_.DEFAULT_RETRY_AFTER;F.disabledUntil=m_.disabledUntil;F.isRateLimited=m_.isRateLimited;F.parseRetryAfterHeader=m_.parseRetryAfterHeader;F.updateRateLimits=m_.updateRateLimits;F.BAGGAGE_HEADER_NAME=$p.BAGGAGE_HEADER_NAME;F.MAX_BAGGAGE_STRING_LENGTH=$p.MAX_BAGGAGE_STRING_LENGTH;F.SENTRY_BAGGAGE_KEY_PREFIX=$p.SENTRY_BAGGAGE_KEY_PREFIX;F.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=$p.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;F.baggageHeaderToDynamicSamplingContext=$p.baggageHeaderToDynamicSamplingContext;F.dynamicSamplingContextToSentryBaggageHeader=$p.dynamicSamplingContextToSentryBaggageHeader;F.getNumberOfUrlSegments=ZT.getNumberOfUrlSegments;F.getSanitizedUrlString=ZT.getSanitizedUrlString;F.parseUrl=ZT.parseUrl;F.stripUrlQueryAndFragment=ZT.stripUrlQueryAndFragment;F.addOrUpdateIntegration=FFe.addOrUpdateIntegration;F.makeFifoCache=HFe.makeFifoCache;F.eventFromMessage=qT.eventFromMessage;F.eventFromUnknownInput=qT.eventFromUnknownInput;F.exceptionFromError=qT.exceptionFromError;F.parseStackFrames=qT.parseStackFrames;F.callFrameToStackFrame=e6.callFrameToStackFrame;F.watchdogTimer=e6.watchdogTimer;F.LRUMap=kFe.LRUMap;F._asyncNullishCoalesce=WFe._asyncNullishCoalesce;F._asyncOptionalChain=ZFe._asyncOptionalChain;F._asyncOptionalChainDelete=qFe._asyncOptionalChainDelete;F._nullishCoalesce=YFe._nullishCoalesce;F._optionalChain=jFe._optionalChain;F._optionalChainDelete=KFe._optionalChainDelete;F.addConsoleInstrumentationHandler=XFe.addConsoleInstrumentationHandler;F.addClickKeypressInstrumentationHandler=zFe.addClickKeypressInstrumentationHandler;F.SENTRY_XHR_DATA_KEY=t6.SENTRY_XHR_DATA_KEY;F.addXhrInstrumentationHandler=t6.addXhrInstrumentationHandler;F.addFetchInstrumentationHandler=JFe.addFetchInstrumentationHandler;F.addHistoryInstrumentationHandler=$Fe.addHistoryInstrumentationHandler;F.addGlobalErrorInstrumentationHandler=QFe.addGlobalErrorInstrumentationHandler;F.addGlobalUnhandledRejectionInstrumentationHandler=eHe.addGlobalUnhandledRejectionInstrumentationHandler;F.resetInstrumentationHandlers=tHe.resetInstrumentationHandlers;F.filenameIsInApp=rHe.filenameIsInApp;F.escapeStringForRegex=nHe.escapeStringForRegex;F.supportsHistory=iHe.supportsHistory});var yr=h(xL=>{l();Object.defineProperty(xL,"__esModule",{value:!0});var oHe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;xL.DEBUG_BUILD=oHe});var Qp=h(BL=>{l();Object.defineProperty(BL,"__esModule",{value:!0});var sHe="production";BL.DEFAULT_ENVIRONMENT=sHe});var __=h(y_=>{l();Object.defineProperty(y_,"__esModule",{value:!0});var YT=z(),aHe=yr();function r6(){return YT.getGlobalSingleton("globalEventProcessors",()=>[])}function uHe(t){r6().push(t)}function DL(t,e,r,o=0){return new YT.SyncPromise((s,a)=>{let i=t[o];if(e===null||typeof i!="function")s(e);else{let n=i({...e},r);aHe.DEBUG_BUILD&&i.id&&n===null&&YT.logger.log(`Event processor "${i.id}" dropped event`),YT.isThenable(n)?n.then(u=>DL(t,u,r,o+1).then(s)).then(null,a):DL(t,n,r,o+1).then(s).then(null,a)}})}y_.addGlobalEventProcessor=uHe;y_.getGlobalEventProcessors=r6;y_.notifyEventProcessors=DL});var eh=h(b_=>{l();Object.defineProperty(b_,"__esModule",{value:!0});var S_=z();function cHe(t){let e=S_.timestampInSeconds(),r={sid:S_.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>dHe(r)};return t&&LL(r,t),r}function LL(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||S_.timestampInSeconds(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:S_.uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function lHe(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),LL(t,r)}function dHe(t){return S_.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}b_.closeSession=lHe;b_.makeSession=cHe;b_.updateSession=LL});var Jn=h(Ga=>{l();Object.defineProperty(Ga,"__esModule",{value:!0});var UL=z(),fHe=0,i6=1;function pHe(t){let{spanId:e,traceId:r}=t.spanContext(),{data:o,op:s,parent_span_id:a,status:i,tags:n,origin:u}=o6(t);return UL.dropUndefinedKeys({data:o,op:s,parent_span_id:a,span_id:e,status:i,tags:n,trace_id:r,origin:u})}function hHe(t){let{traceId:e,spanId:r}=t.spanContext(),o=s6(t);return UL.generateSentryTraceHeader(e,r,o)}function gHe(t){return typeof t=="number"?n6(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?n6(t.getTime()):UL.timestampInSeconds()}function n6(t){return t>9999999999?t/1e3:t}function o6(t){return mHe(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function mHe(t){return typeof t.getSpanJSON=="function"}function s6(t){let{traceFlags:e}=t.spanContext();return!!(e&i6)}Ga.TRACE_FLAG_NONE=fHe;Ga.TRACE_FLAG_SAMPLED=i6;Ga.spanIsSampled=s6;Ga.spanTimeInputToSeconds=gHe;Ga.spanToJSON=o6;Ga.spanToTraceContext=pHe;Ga.spanToTraceHeader=hHe});var jT=h(th=>{l();Object.defineProperty(th,"__esModule",{value:!0});var bi=z(),yHe=Qp(),a6=__(),VL=XT(),GL=KT(),_He=Jn();function SHe(t,e,r,o,s,a){let{normalizeDepth:i=3,normalizeMaxBreadth:n=1e3}=t,u={...e,event_id:e.event_id||r.event_id||bi.uuid4(),timestamp:e.timestamp||bi.dateTimestampInSeconds()},c=r.integrations||t.integrations.map(C=>C.name);bHe(u,t),EHe(u,c),e.type===void 0&&c6(u,t.stackParser);let d=THe(o,r.captureContext);r.mechanism&&bi.addExceptionMechanism(u,r.mechanism);let f=s&&s.getEventProcessors?s.getEventProcessors():[],g=VL.getGlobalScope().getScopeData();if(a){let C=a.getScopeData();GL.mergeScopeData(g,C)}if(d){let C=d.getScopeData();GL.mergeScopeData(g,C)}let y=[...r.attachments||[],...g.attachments];y.length&&(r.attachments=y),GL.applyScopeDataToEvent(u,g);let S=[...f,...a6.getGlobalEventProcessors(),...g.eventProcessors];return a6.notifyEventProcessors(S,u,r).then(C=>(C&&l6(C),typeof i=="number"&&i>0?vHe(C,i,n):C))}function bHe(t,e){let{environment:r,release:o,dist:s,maxValueLength:a=250}=e;"environment"in t||(t.environment="environment"in e?r:yHe.DEFAULT_ENVIRONMENT),t.release===void 0&&o!==void 0&&(t.release=o),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=bi.truncate(t.message,a));let i=t.exception&&t.exception.values&&t.exception.values[0];i&&i.value&&(i.value=bi.truncate(i.value,a));let n=t.request;n&&n.url&&(n.url=bi.truncate(n.url,a))}var u6=new WeakMap;function c6(t,e){let r=bi.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let o,s=u6.get(e);s?o=s:(o=new Map,u6.set(e,o));let a=Object.keys(r).reduce((i,n)=>{let u,c=o.get(n);c?u=c:(u=e(n),o.set(n,u));for(let d=u.length-1;d>=0;d--){let f=u[d];if(f.filename){i[f.filename]=r[n];break}}return i},{});try{t.exception.values.forEach(i=>{i.stacktrace.frames.forEach(n=>{n.filename&&(n.debug_id=a[n.filename])})})}catch{}}function l6(t){let e={};try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(e).forEach(o=>{r.push({type:"sourcemap",code_file:o,debug_id:e[o]})})}function EHe(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function vHe(t,e,r){if(!t)return null;let o={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:bi.normalize(s.data,e,r)}}))},...t.user&&{user:bi.normalize(t.user,e,r)},...t.contexts&&{contexts:bi.normalize(t.contexts,e,r)},...t.extra&&{extra:bi.normalize(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&o.contexts&&(o.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(o.contexts.trace.data=bi.normalize(t.contexts.trace.data,e,r))),t.spans&&(o.spans=t.spans.map(s=>{let a=_He.spanToJSON(s).data;return a&&(s.data=bi.normalize(a,e,r)),s})),o}function THe(t,e){if(!e)return t;let r=t?t.clone():new VL.Scope;return r.update(e),r}function AHe(t){if(t)return IHe(t)?{captureContext:t}:RHe(t)?{captureContext:t}:t}function IHe(t){return t instanceof VL.Scope||typeof t=="function"}var CHe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function RHe(t){return Object.keys(t).some(e=>CHe.includes(e))}th.applyDebugIds=c6;th.applyDebugMeta=l6;th.parseEventHintOrCaptureContext=AHe;th.prepareEvent=SHe});var Qi=h(Tt=>{l();Object.defineProperty(Tt,"__esModule",{value:!0});var Va=z(),OHe=Qp(),zT=yr(),ur=vs(),FL=eh(),NHe=jT();function wHe(t,e){return ur.getCurrentHub().captureException(t,NHe.parseEventHintOrCaptureContext(e))}function PHe(t,e){let r=typeof e=="string"?e:void 0,o=typeof e!="string"?{captureContext:e}:void 0;return ur.getCurrentHub().captureMessage(t,r,o)}function MHe(t,e){return ur.getCurrentHub().captureEvent(t,e)}function xHe(t){ur.getCurrentHub().configureScope(t)}function BHe(t,e){ur.getCurrentHub().addBreadcrumb(t,e)}function DHe(t,e){ur.getCurrentHub().setContext(t,e)}function LHe(t){ur.getCurrentHub().setExtras(t)}function UHe(t,e){ur.getCurrentHub().setExtra(t,e)}function GHe(t){ur.getCurrentHub().setTags(t)}function VHe(t,e){ur.getCurrentHub().setTag(t,e)}function FHe(t){ur.getCurrentHub().setUser(t)}function d6(...t){let e=ur.getCurrentHub();if(t.length===2){let[r,o]=t;return r?e.withScope(()=>(e.getStackTop().scope=r,o(r))):e.withScope(o)}return e.withScope(t[0])}function HHe(t){return ur.runWithAsyncContext(()=>t(ur.getIsolationScope()))}function kHe(t,e){return d6(r=>(r.setSpan(t),e(r)))}function WHe(t,e){return ur.getCurrentHub().startTransaction({...t},e)}function HL(t,e){let r=E_(),o=Jl();if(!o)zT.DEBUG_BUILD&&Va.logger.warn("Cannot capture check-in. No client defined.");else if(!o.captureCheckIn)zT.DEBUG_BUILD&&Va.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return o.captureCheckIn(t,e,r);return Va.uuid4()}function ZHe(t,e,r){let o=HL({monitorSlug:t,status:"in_progress"},r),s=Va.timestampInSeconds();function a(n){HL({monitorSlug:t,status:n,checkInId:o,duration:Va.timestampInSeconds()-s})}let i;try{i=e()}catch(n){throw a("error"),n}return Va.isThenable(i)?Promise.resolve(i).then(()=>{a("ok")},()=>{a("error")}):a("ok"),i}async function qHe(t){let e=Jl();return e?e.flush(t):(zT.DEBUG_BUILD&&Va.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function YHe(t){let e=Jl();return e?e.close(t):(zT.DEBUG_BUILD&&Va.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function jHe(){return ur.getCurrentHub().lastEventId()}function Jl(){return ur.getCurrentHub().getClient()}function KHe(){return!!Jl()}function E_(){return ur.getCurrentHub().getScope()}function XHe(t){let e=Jl(),r=ur.getIsolationScope(),o=E_(),{release:s,environment:a=OHe.DEFAULT_ENVIRONMENT}=e&&e.getOptions()||{},{userAgent:i}=Va.GLOBAL_OBJ.navigator||{},n=FL.makeSession({release:s,environment:a,user:o.getUser()||r.getUser(),...i&&{userAgent:i},...t}),u=r.getSession();return u&&u.status==="ok"&&FL.updateSession(u,{status:"exited"}),kL(),r.setSession(n),o.setSession(n),n}function kL(){let t=ur.getIsolationScope(),e=E_(),r=e.getSession()||t.getSession();r&&FL.closeSession(r),f6(),t.setSession(),e.setSession()}function f6(){let t=ur.getIsolationScope(),e=E_(),r=Jl(),o=e.getSession()||t.getSession();o&&r&&r.captureSession&&r.captureSession(o)}function zHe(t=!1){if(t){kL();return}f6()}Tt.addBreadcrumb=BHe;Tt.captureCheckIn=HL;Tt.captureEvent=MHe;Tt.captureException=wHe;Tt.captureMessage=PHe;Tt.captureSession=zHe;Tt.close=YHe;Tt.configureScope=xHe;Tt.endSession=kL;Tt.flush=qHe;Tt.getClient=Jl;Tt.getCurrentScope=E_;Tt.isInitialized=KHe;Tt.lastEventId=jHe;Tt.setContext=DHe;Tt.setExtra=UHe;Tt.setExtras=LHe;Tt.setTag=VHe;Tt.setTags=GHe;Tt.setUser=FHe;Tt.startSession=XHe;Tt.startTransaction=WHe;Tt.withActiveSpan=kHe;Tt.withIsolationScope=HHe;Tt.withMonitor=ZHe;Tt.withScope=d6});var rh=h(WL=>{l();Object.defineProperty(WL,"__esModule",{value:!0});function JHe(t){return t.transaction}WL.getRootSpan=JHe});var $l=h(JT=>{l();Object.defineProperty(JT,"__esModule",{value:!0});var $He=z(),QHe=Qp(),p6=Qi(),eke=rh(),ZL=Jn();function h6(t,e,r){let o=e.getOptions(),{publicKey:s}=e.getDsn()||{},{segment:a}=r&&r.getUser()||{},i=$He.dropUndefinedKeys({environment:o.environment||QHe.DEFAULT_ENVIRONMENT,release:o.release,user_segment:a,public_key:s,trace_id:t});return e.emit&&e.emit("createDsc",i),i}function tke(t){let e=p6.getClient();if(!e)return{};let r=h6(ZL.spanToJSON(t).trace_id||"",e,p6.getCurrentScope()),o=eke.getRootSpan(t);if(!o)return r;let s=o&&o._frozenDynamicSamplingContext;if(s)return s;let{sampleRate:a,source:i}=o.metadata;a!=null&&(r.sample_rate=`${a}`);let n=ZL.spanToJSON(o);return i&&i!=="url"&&(r.transaction=n.description),r.sampled=String(ZL.spanIsSampled(o)),e.emit&&e.emit("createDsc",r),r}JT.getDynamicSamplingContextFromClient=h6;JT.getDynamicSamplingContextFromSpan=tke});var KT=h(T_=>{l();Object.defineProperty(T_,"__esModule",{value:!0});var v_=z(),rke=$l(),nke=rh(),g6=Jn();function ike(t,e){let{fingerprint:r,span:o,breadcrumbs:s,sdkProcessingMetadata:a}=e;ske(t,e),o&&cke(t,o),lke(t,r),ake(t,s),uke(t,a)}function oke(t,e){let{extra:r,tags:o,user:s,contexts:a,level:i,sdkProcessingMetadata:n,breadcrumbs:u,fingerprint:c,eventProcessors:d,attachments:f,propagationContext:g,transactionName:y,span:S}=e;nh(t,"extra",r),nh(t,"tags",o),nh(t,"user",s),nh(t,"contexts",a),nh(t,"sdkProcessingMetadata",n),i&&(t.level=i),y&&(t.transactionName=y),S&&(t.span=S),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),d.length&&(t.eventProcessors=[...t.eventProcessors,...d]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...g}}function nh(t,e,r){if(r&&Object.keys(r).length){t[e]={...t[e]};for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[e][o]=r[o])}}function ske(t,e){let{extra:r,tags:o,user:s,contexts:a,level:i,transactionName:n}=e,u=v_.dropUndefinedKeys(r);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});let c=v_.dropUndefinedKeys(o);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});let d=v_.dropUndefinedKeys(s);d&&Object.keys(d).length&&(t.user={...d,...t.user});let f=v_.dropUndefinedKeys(a);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts}),i&&(t.level=i),n&&(t.transaction=n)}function ake(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function uke(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}function cke(t,e){t.contexts={trace:g6.spanToTraceContext(e),...t.contexts};let r=nke.getRootSpan(e);if(r){t.sdkProcessingMetadata={dynamicSamplingContext:rke.getDynamicSamplingContextFromSpan(e),...t.sdkProcessingMetadata};let o=g6.spanToJSON(r).description;o&&(t.tags={transaction:o,...t.tags})}}function lke(t,e){t.fingerprint=t.fingerprint?v_.arrayify(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}T_.applyScopeDataToEvent=ike;T_.mergeAndOverwriteScopeData=nh;T_.mergeScopeData=oke});var XT=h(A_=>{l();Object.defineProperty(A_,"__esModule",{value:!0});var Ts=z(),m6=__(),dke=eh(),fke=KT(),pke=100,$T,QT=class t{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=y6()}static clone(e){return e?e.clone():new t}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&dke.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let r=typeof e=="function"?e(this):e;if(r instanceof t){let o=r.getScopeData();this._tags={...this._tags,...o.tags},this._extra={...this._extra,...o.extra},this._contexts={...this._contexts,...o.contexts},o.user&&Object.keys(o.user).length&&(this._user=o.user),o.level&&(this._level=o.level),o.fingerprint.length&&(this._fingerprint=o.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),o.propagationContext&&(this._propagationContext=o.propagationContext)}else if(Ts.isPlainObject(r)){let o=e;this._tags={...this._tags,...o.tags},this._extra={...this._extra,...o.extra},this._contexts={...this._contexts,...o.contexts},o.user&&(this._user=o.user),o.level&&(this._level=o.level),o.fingerprint&&(this._fingerprint=o.fingerprint),o.requestSession&&(this._requestSession=o.requestSession),o.propagationContext&&(this._propagationContext=o.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=y6(),this}addBreadcrumb(e,r){let o=typeof r=="number"?r:pke;if(o<=0)return this;let s={timestamp:Ts.dateTimestampInSeconds(),...e},a=this._breadcrumbs;return a.push(s),this._breadcrumbs=a.length>o?a.slice(-o):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:r,_contexts:o,_tags:s,_extra:a,_user:i,_level:n,_fingerprint:u,_eventProcessors:c,_propagationContext:d,_sdkProcessingMetadata:f,_transactionName:g,_span:y}=this;return{breadcrumbs:e,attachments:r,contexts:o,tags:s,extra:a,user:i,level:n,fingerprint:u||[],eventProcessors:c,propagationContext:d,sdkProcessingMetadata:f,transactionName:g,span:y}}applyToEvent(e,r={},o=[]){fke.applyScopeDataToEvent(e,this.getScopeData());let s=[...o,...m6.getGlobalEventProcessors(),...this._eventProcessors];return m6.notifyEventProcessors(s,e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){let o=r&&r.event_id?r.event_id:Ts.uuid4();if(!this._client)return Ts.logger.warn("No client configured on scope - will not capture exception!"),o;let s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...r,event_id:o},this),o}captureMessage(e,r,o){let s=o&&o.event_id?o.event_id:Ts.uuid4();if(!this._client)return Ts.logger.warn("No client configured on scope - will not capture message!"),s;let a=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:a,...o,event_id:s},this),s}captureEvent(e,r){let o=r&&r.event_id?r.event_id:Ts.uuid4();return this._client?(this._client.captureEvent(e,{...r,event_id:o},this),o):(Ts.logger.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function hke(){return $T||($T=new QT),$T}function gke(t){$T=t}function y6(){return{traceId:Ts.uuid4(),spanId:Ts.uuid4().substring(16)}}A_.Scope=QT;A_.getGlobalScope=hke;A_.setGlobalScope=gke});var eA=h(qL=>{l();Object.defineProperty(qL,"__esModule",{value:!0});var mke="7.104.0";qL.SDK_VERSION=mke});var vs=h(Ei=>{l();Object.defineProperty(Ei,"__esModule",{value:!0});var xn=z(),yke=Qp(),YL=yr(),_6=XT(),jL=eh(),_ke=eA(),tA=parseFloat(_ke.SDK_VERSION),Ske=100,ih=class{constructor(e,r,o,s=tA){this._version=s;let a;r?a=r:(a=new _6.Scope,a.setClient(e));let i;o?i=o:(i=new _6.Scope,i.setClient(e)),this._stack=[{scope:a}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,r.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope(),o;try{o=e(r)}catch(s){throw this.popScope(),s}return xn.isThenable(o)?o.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let o=this._lastEventId=r&&r.event_id?r.event_id:xn.uuid4(),s=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:s,...r,event_id:o}),o}captureMessage(e,r,o){let s=this._lastEventId=o&&o.event_id?o.event_id:xn.uuid4(),a=new Error(e);return this.getScope().captureMessage(e,r,{originalException:e,syntheticException:a,...o,event_id:s}),s}captureEvent(e,r){let o=r&&r.event_id?r.event_id:xn.uuid4();return e.type||(this._lastEventId=o),this.getScope().captureEvent(e,{...r,event_id:o}),o}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:o,client:s}=this.getStackTop();if(!s)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:i=Ske}=s.getOptions&&s.getOptions()||{};if(i<=0)return;let u={timestamp:xn.dateTimestampInSeconds(),...e},c=a?xn.consoleSandbox(()=>a(u,r)):u;c!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",c,r),o.addBreadcrumb(c,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r),this.getIsolationScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r),this.getIsolationScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r),this.getIsolationScope().setContext(e,r)}configureScope(e){let{scope:r,client:o}=this.getStackTop();o&&e(r)}run(e){let r=KL(this);try{e(this)}finally{KL(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return YL.DEBUG_BUILD&&xn.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let o=this._callExtensionMethod("startTransaction",e,r);return YL.DEBUG_BUILD&&!o&&(this.getClient()?xn.logger.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):xn.logger.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),o}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,o=r.getSession();o&&jL.closeSession(o),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:o}=this.getStackTop(),{release:s,environment:a=yke.DEFAULT_ENVIRONMENT}=o&&o.getOptions()||{},{userAgent:i}=xn.GLOBAL_OBJ.navigator||{},n=jL.makeSession({release:s,environment:a,user:r.getUser(),...i&&{userAgent:i},...e}),u=r.getSession&&r.getSession();return u&&u.status==="ok"&&jL.updateSession(u,{status:"exited"}),this.endSession(),r.setSession(n),n}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),o=e.getSession();o&&r&&r.captureSession&&r.captureSession(o)}_callExtensionMethod(e,...r){let s=Ql().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);YL.DEBUG_BUILD&&xn.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Ql(){return xn.GLOBAL_OBJ.__SENTRY__=xn.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},xn.GLOBAL_OBJ}function KL(t){let e=Ql(),r=I_(e);return rA(e,t),r}function S6(){let t=Ql();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return b6(t)}function bke(){return S6().getIsolationScope()}function b6(t=Ql()){return(!E6(t)||I_(t).isOlderThan(tA))&&rA(t,new ih),I_(t)}function Eke(t,e=b6()){if(!E6(t)||I_(t).isOlderThan(tA)){let r=e.getClient(),o=e.getScope(),s=e.getIsolationScope();rA(t,new ih(r,o.clone(),s.clone()))}}function vke(t){let e=Ql();e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.acs=t}function Tke(t,e={}){let r=Ql();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(t,e):t()}function E6(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function I_(t){return xn.getGlobalSingleton("hub",()=>new ih,t)}function rA(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}Ei.API_VERSION=tA;Ei.Hub=ih;Ei.ensureHubOnCarrier=Eke;Ei.getCurrentHub=S6;Ei.getHubFromCarrier=I_;Ei.getIsolationScope=bke;Ei.getMainCarrier=Ql;Ei.makeMain=KL;Ei.runWithAsyncContext=Tke;Ei.setAsyncContextStrategy=vke;Ei.setHubOnCarrier=rA});var nA=h(C_=>{l();Object.defineProperty(C_,"__esModule",{value:!0});var v6=z(),Ake=vs();function Ike(t){return(t||Ake.getCurrentHub()).getScope().getTransaction()}var Cke=v6.extractTraceparentData;C_.stripUrlQueryAndFragment=v6.stripUrlQueryAndFragment;C_.extractTraceparentData=Cke;C_.getActiveTransaction=Ike});var iA=h(JL=>{l();Object.defineProperty(JL,"__esModule",{value:!0});var XL=z(),Rke=yr(),Oke=nA(),T6=!1;function Nke(){T6||(T6=!0,XL.addGlobalErrorInstrumentationHandler(zL),XL.addGlobalUnhandledRejectionInstrumentationHandler(zL))}function zL(){let t=Oke.getActiveTransaction();if(t){let e="internal_error";Rke.DEBUG_BUILD&&XL.logger.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}zL.tag="sentry_tracingErrorCallback";JL.registerErrorInstrumentation=Nke});var oh=h(ec=>{l();Object.defineProperty(ec,"__esModule",{value:!0});ec.SpanStatus=void 0;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let o="unauthenticated";t.Unauthenticated=o;let s="permission_denied";t.PermissionDenied=s;let a="not_found";t.NotFound=a;let i="resource_exhausted";t.ResourceExhausted=i;let n="invalid_argument";t.InvalidArgument=n;let u="unimplemented";t.Unimplemented=u;let c="unavailable";t.Unavailable=c;let d="internal_error";t.InternalError=d;let f="unknown_error";t.UnknownError=f;let g="cancelled";t.Cancelled=g;let y="already_exists";t.AlreadyExists=y;let S="failed_precondition";t.FailedPrecondition=S;let T="aborted";t.Aborted=T;let C="out_of_range";t.OutOfRange=C;let R="data_loss";t.DataLoss=R})(ec.SpanStatus||(ec.SpanStatus={}));function $L(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}var wke=$L;function Pke(t,e){t.setTag("http.status_code",String(e)),t.setData("http.response.status_code",e);let r=$L(e);r!=="unknown_error"&&t.setStatus(r)}ec.getSpanStatusFromHttpCode=$L;ec.setHttpStatus=Pke;ec.spanStatusfromHttpCode=wke});var e2=h(QL=>{l();Object.defineProperty(QL,"__esModule",{value:!0});var Mke=z();function xke(t,e,r=()=>{}){let o;try{o=t()}catch(s){throw e(s),r(),s}return Bke(o,e,r)}function Bke(t,e,r){return Mke.isThenable(t)?t.then(o=>(r(),o),o=>{throw e(o),r(),o}):(r(),t)}QL.handleCallbackErrors=xke});var oA=h(t2=>{l();Object.defineProperty(t2,"__esModule",{value:!0});var Dke=Qi();function Lke(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=Dke.getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}t2.hasTracingEnabled=Lke});var cA=h(As=>{l();Object.defineProperty(As,"__esModule",{value:!0});var R_=z(),Uke=yr(),tc=vs(),sA=Jn();iA();oh();var Gke=$l(),sh=Qi(),r2=e2(),A6=oA();function Vke(t,e,r=()=>{},o=()=>{}){let s=tc.getCurrentHub(),a=sh.getCurrentScope(),i=a.getSpan(),n=uA(t),u=aA(s,{parentSpan:i,spanContext:n,forceTransaction:!1,scope:a});return a.setSpan(u),r2.handleCallbackErrors(()=>e(u),c=>{u&&u.setStatus("internal_error"),r(c,u)},()=>{u&&u.end(),a.setSpan(i),o()})}function I6(t,e){let r=uA(t);return tc.runWithAsyncContext(()=>sh.withScope(t.scope,o=>{let s=tc.getCurrentHub(),a=o.getSpan(),n=t.onlyIfParent&&!a?void 0:aA(s,{parentSpan:a,spanContext:r,forceTransaction:t.forceTransaction,scope:o});return r2.handleCallbackErrors(()=>e(n),()=>{if(n){let{status:u}=sA.spanToJSON(n);(!u||u==="ok")&&n.setStatus("internal_error")}},()=>n&&n.end())}))}var Fke=I6;function Hke(t,e){let r=uA(t);return tc.runWithAsyncContext(()=>sh.withScope(t.scope,o=>{let s=tc.getCurrentHub(),a=o.getSpan(),n=t.onlyIfParent&&!a?void 0:aA(s,{parentSpan:a,spanContext:r,forceTransaction:t.forceTransaction,scope:o});function u(){n&&n.end()}return r2.handleCallbackErrors(()=>e(n,u),()=>{if(n&&n.isRecording()){let{status:c}=sA.spanToJSON(n);(!c||c==="ok")&&n.setStatus("internal_error")}})}))}function kke(t){if(!A6.hasTracingEnabled())return;let e=uA(t),r=tc.getCurrentHub(),o=t.scope?t.scope.getSpan():C6();if(t.onlyIfParent&&!o)return;let i=(t.scope||sh.getCurrentScope()).clone();return aA(r,{parentSpan:o,spanContext:e,forceTransaction:t.forceTransaction,scope:i})}function C6(){return sh.getCurrentScope().getSpan()}var Wke=({sentryTrace:t,baggage:e},r)=>{let o=sh.getCurrentScope(),{traceparentData:s,dynamicSamplingContext:a,propagationContext:i}=R_.tracingContextFromHeaders(t,e);o.setPropagationContext(i),Uke.DEBUG_BUILD&&s&&R_.logger.log(`[Tracing] Continuing trace ${s.traceId}.`);let n={...s,metadata:R_.dropUndefinedKeys({dynamicSamplingContext:a})};return r?tc.runWithAsyncContext(()=>r(n)):n};function aA(t,{parentSpan:e,spanContext:r,forceTransaction:o,scope:s}){if(!A6.hasTracingEnabled())return;let a=tc.getIsolationScope(),i;if(e&&!o)i=e.startChild(r);else if(e){let n=Gke.getDynamicSamplingContextFromSpan(e),{traceId:u,spanId:c}=e.spanContext(),d=sA.spanIsSampled(e);i=t.startTransaction({traceId:u,parentSpanId:c,parentSampled:d,...r,metadata:{dynamicSamplingContext:n,...r.metadata}})}else{let{traceId:n,dsc:u,parentSpanId:c,sampled:d}={...a.getPropagationContext(),...s.getPropagationContext()};i=t.startTransaction({traceId:n,parentSpanId:c,parentSampled:d,...r,metadata:{dynamicSamplingContext:u,...r.metadata}})}return s.setSpan(i),Zke(i,s,a),i}function uA(t){if(t.startTime){let e={...t};return e.startTimestamp=sA.spanTimeInputToSeconds(t.startTime),delete e.startTime,e}return t}var R6="_sentryScope",O6="_sentryIsolationScope";function Zke(t,e,r){t&&(R_.addNonEnumerableProperty(t,O6,r),R_.addNonEnumerableProperty(t,R6,e))}function qke(t){return{scope:t[R6],isolationScope:t[O6]}}As.continueTrace=Wke;As.getActiveSpan=C6;As.getCapturedScopesOnSpan=qke;As.startActiveSpan=Fke;As.startInactiveSpan=kke;As.startSpan=I6;As.startSpanManual=Hke;As.trace=Vke});var N_=h(lA=>{l();Object.defineProperty(lA,"__esModule",{value:!0});var Yke=z();yr();iA();oh();var jke=cA(),O_;function N6(t){return O_?O_.get(t):void 0}function Kke(t){let e=N6(t);if(!e)return;let r={};for(let[,[o,s]]of e)r[o]||(r[o]=[]),r[o].push(Yke.dropUndefinedKeys(s));return r}function Xke(t,e,r,o,s,a){let i=jke.getActiveSpan();if(i){let n=N6(i)||new Map,u=`${t}:${e}@${o}`,c=n.get(a);if(c){let[,d]=c;n.set(a,[u,{min:Math.min(d.min,r),max:Math.max(d.max,r),count:d.count+=1,sum:d.sum+=r,tags:d.tags}])}else n.set(a,[u,{min:r,max:r,count:1,sum:r,tags:s}]);O_||(O_=new WeakMap),O_.set(i,n)}}lA.getMetricSummaryJsonForSpan=Kke;lA.updateMetricSummaryOnActiveSpan=Xke});var w_=h(ed=>{l();Object.defineProperty(ed,"__esModule",{value:!0});var zke="sentry.source",Jke="sentry.sample_rate",$ke="sentry.op",Qke="sentry.origin",e3e="profile_id";ed.SEMANTIC_ATTRIBUTE_PROFILE_ID=e3e;ed.SEMANTIC_ATTRIBUTE_SENTRY_OP=$ke;ed.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=Qke;ed.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=Jke;ed.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=zke});var fA=h(dA=>{l();Object.defineProperty(dA,"__esModule",{value:!0});var td=z(),w6=yr(),t3e=N_(),Fa=w_(),P6=rh(),ah=Jn(),r3e=oh(),n2=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},i2=class t{constructor(e={}){this._traceId=e.traceId||td.uuid4(),this._spanId=e.spanId||td.uuid4().substring(16),this._startTime=e.startTimestamp||td.timestampInSeconds(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Fa.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:e.origin||"manual",[Fa.SEMANTIC_ATTRIBUTE_SENTRY_OP]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[Fa.SEMANTIC_ATTRIBUTE_SENTRY_OP]}set op(e){this.setAttribute(Fa.SEMANTIC_ATTRIBUTE_SENTRY_OP,e)}get origin(){return this._attributes[Fa.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]}set origin(e){this.setAttribute(Fa.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e)}spanContext(){let{_spanId:e,_traceId:r,_sampled:o}=this;return{spanId:e,traceId:r,traceFlags:o?ah.TRACE_FLAG_SAMPLED:ah.TRACE_FLAG_NONE}}startChild(e){let r=new t({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);let o=P6.getRootSpan(this);if(r.transaction=o,w6.DEBUG_BUILD&&o){let s=e&&e.op||"< unknown op >",a=ah.spanToJSON(r).description||"< unknown name >",i=o.spanContext().spanId,n=`[Tracing] Starting '${s}' span on transaction '${a}' (${i}).`;td.logger.log(n),this._logMessage=n}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setAttribute(e,r){r===void 0?delete this._attributes[e]:this._attributes[e]=r}setAttributes(e){Object.keys(e).forEach(r=>this.setAttribute(r,e[r]))}setStatus(e){return this._status=e,this}setHttpStatus(e){return r3e.setHttpStatus(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;let r=P6.getRootSpan(this);if(w6.DEBUG_BUILD&&r&&r.spanContext().spanId!==this._spanId){let o=this._logMessage;o&&td.logger.log(o.replace("Starting","Finishing"))}this._endTime=ah.spanTimeInputToSeconds(e)}toTraceparent(){return ah.spanToTraceHeader(this)}toContext(){return td.dropUndefinedKeys({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return ah.spanToTraceContext(this)}getSpanJSON(){return td.dropUndefinedKeys({data:this._getData(),description:this._name,op:this._attributes[Fa.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Fa.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:t3e.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[Fa.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:r}=this,o=Object.keys(e).length>0,s=Object.keys(r).length>0;if(!(!o&&!s))return o&&s?{...e,...r}:o?e:r}};dA.Span=i2;dA.SpanRecorder=n2});var gA=h(s2=>{l();Object.defineProperty(s2,"__esModule",{value:!0});var uh=z(),pA=yr(),n3e=vs(),i3e=N_(),P_=w_(),hA=Jn(),M6=$l(),x6=fA(),o3e=cA(),o2=class extends x6.Span{constructor(e,r){super(e),this._contexts={},this._hub=r||n3e.getCurrentHub(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let o=this._metadata.dynamicSamplingContext;o&&(this._frozenDynamicSamplingContext={...o})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[P_.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]&&{source:this._attributes[P_.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]},...this._attributes[P_.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]&&{sampleRate:this._attributes[P_.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]}}}set metadata(e){this._metadata=e}setName(e,r="custom"){this._name=e,this.setAttribute(P_.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,r)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new x6.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,o=""){this._measurements[e]={value:r,unit:o}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let r=hA.spanTimeInputToSeconds(e),o=this._finishTransaction(r);if(o)return this._hub.captureEvent(o)}toContext(){let e=super.toContext();return uh.dropUndefinedKeys({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return M6.getDynamicSamplingContextFromSpan(this)}setHub(e){this._hub=e}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(pA.DEBUG_BUILD&&uh.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){pA.DEBUG_BUILD&&uh.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let o=this.spanRecorder?this.spanRecorder.spans.filter(d=>d!==this&&hA.spanToJSON(d).timestamp):[];if(this._trimEnd&&o.length>0){let d=o.map(f=>hA.spanToJSON(f).timestamp).filter(Boolean);this._endTime=d.reduce((f,g)=>f>g?f:g)}let{scope:s,isolationScope:a}=o3e.getCapturedScopesOnSpan(this),{metadata:i}=this,{source:n}=i,u={contexts:{...this._contexts,trace:hA.spanToTraceContext(this)},spans:o,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...i,capturedSpanScope:s,capturedSpanIsolationScope:a,...uh.dropUndefinedKeys({dynamicSamplingContext:M6.getDynamicSamplingContextFromSpan(this)})},_metrics_summary:i3e.getMetricSummaryJsonForSpan(this),...n&&{transaction_info:{source:n}}};return Object.keys(this._measurements).length>0&&(pA.DEBUG_BUILD&&uh.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),u.measurements=this._measurements),pA.DEBUG_BUILD&&uh.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),u}};s2.Transaction=o2});var u2=h(M_=>{l();Object.defineProperty(M_,"__esModule",{value:!0});var sn=z(),$n=yr(),mA=Jn(),s3e=fA(),a3e=gA(),yA={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},u3e="finishReason",ch=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],_A=class extends s3e.SpanRecorder{constructor(e,r,o,s){super(s),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=o}add(e){if(e.spanContext().spanId!==this.transactionSpanId){let r=e.end;e.end=(...o)=>(this._popActivity(e.spanContext().spanId),r.apply(e,o)),mA.spanToJSON(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}},a2=class extends a3e.Transaction{constructor(e,r,o=yA.idleTimeout,s=yA.finalTimeout,a=yA.heartbeatInterval,i=!1,n=!1){super(e,r),this._idleHub=r,this._idleTimeout=o,this._finalTimeout=s,this._heartbeatInterval=a,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=ch[4],this._autoFinishAllowed=!n,i&&($n.DEBUG_BUILD&&sn.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),r.getScope().setSpan(this)),n||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=ch[3],this.end())},this._finalTimeout)}end(e){let r=mA.spanTimeInputToSeconds(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(u3e,this._finishReason),this.spanRecorder){$n.DEBUG_BUILD&&sn.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(let o of this._beforeFinishCallbacks)o(this,r);this.spanRecorder.spans=this.spanRecorder.spans.filter(o=>{if(o.spanContext().spanId===this.spanContext().spanId)return!0;mA.spanToJSON(o).timestamp||(o.setStatus("cancelled"),o.end(r),$n.DEBUG_BUILD&&sn.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(o,void 0,2)));let{start_timestamp:s,timestamp:a}=mA.spanToJSON(o),i=s&&s<r,n=(this._finalTimeout+this._idleTimeout)/1e3,u=a&&s&&a-s<n;if($n.DEBUG_BUILD){let c=JSON.stringify(o,void 0,2);i?u||sn.logger.log("[Tracing] discarding Span since it finished after Transaction final timeout",c):sn.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",c)}return i&&u}),$n.DEBUG_BUILD&&sn.logger.log("[Tracing] flushing IdleTransaction")}else $n.DEBUG_BUILD&&sn.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){let o=this._idleHub.getScope();o.getTransaction()===this&&o.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=s=>{this._finished||this._pushActivity(s)},o=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new _A(r,o,this.spanContext().spanId,e),$n.DEBUG_BUILD&&sn.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=ch[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||($n.DEBUG_BUILD&&sn.logger.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=ch[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),$n.DEBUG_BUILD&&sn.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,$n.DEBUG_BUILD&&sn.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&($n.DEBUG_BUILD&&sn.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],$n.DEBUG_BUILD&&sn.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=sn.timestampInSeconds();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=ch[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&($n.DEBUG_BUILD&&sn.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=ch[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){$n.DEBUG_BUILD&&sn.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};M_.IdleTransaction=a2;M_.IdleTransactionSpanRecorder=_A;M_.TRACING_DEFAULTS=yA});var c2=h(bA=>{l();Object.defineProperty(bA,"__esModule",{value:!0});var rd=z(),lh=yr(),SA=w_(),c3e=oA(),l3e=Jn();function d3e(t,e,r){if(!c3e.hasTracingEnabled(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(SA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(t.sampled)),t;let o;return typeof e.tracesSampler=="function"?(o=e.tracesSampler(r),t.setAttribute(SA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(o))):r.parentSampled!==void 0?o=r.parentSampled:typeof e.tracesSampleRate<"u"?(o=e.tracesSampleRate,t.setAttribute(SA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(o))):(o=1,t.setAttribute(SA.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,o)),B6(o)?o?(t.sampled=Math.random()<o,t.sampled?(lh.DEBUG_BUILD&&rd.logger.log(`[Tracing] starting ${t.op} transaction - ${l3e.spanToJSON(t).description}`),t):(lh.DEBUG_BUILD&&rd.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),t)):(lh.DEBUG_BUILD&&rd.logger.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(lh.DEBUG_BUILD&&rd.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function B6(t){return rd.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(lh.DEBUG_BUILD&&rd.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(lh.DEBUG_BUILD&&rd.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}bA.isValidSampleRate=B6;bA.sampleTransaction=d3e});var l2=h(EA=>{l();Object.defineProperty(EA,"__esModule",{value:!0});var f3e=z(),p3e=yr(),h3e=vs(),g3e=Jn(),m3e=iA(),y3e=u2(),D6=c2(),_3e=gA();function S3e(){let e=this.getScope().getSpan();return e?{"sentry-trace":g3e.spanToTraceHeader(e)}:{}}function b3e(t,e){let r=this.getClient(),o=r&&r.getOptions()||{},s=o.instrumenter||"sentry",a=t.instrumenter||"sentry";s!==a&&(p3e.DEBUG_BUILD&&f3e.logger.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let i=new _3e.Transaction(t,this);return i=D6.sampleTransaction(i,o,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),i.isRecording()&&i.initSpanRecorder(o._experiments&&o._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",i),i}function E3e(t,e,r,o,s,a,i,n=!1){let u=t.getClient(),c=u&&u.getOptions()||{},d=new y3e.IdleTransaction(e,t,r,o,i,s,n);return d=D6.sampleTransaction(d,c,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...a}),d.isRecording()&&d.initSpanRecorder(c._experiments&&c._experiments.maxSpans),u&&u.emit&&u.emit("startTransaction",d),d}function v3e(){let t=h3e.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=b3e),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=S3e),m3e.registerErrorInstrumentation())}EA.addTracingExtensions=v3e;EA.startIdleTransaction=E3e});var L6=h(d2=>{l();Object.defineProperty(d2,"__esModule",{value:!0});var T3e=nA();function A3e(t,e,r){let o=T3e.getActiveTransaction();o&&o.setMeasurement(t,e,r)}d2.setMeasurement=A3e});var f2=h(vA=>{l();Object.defineProperty(vA,"__esModule",{value:!0});var dh=z();function I3e(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function C3e(t,e,r,o){let s=dh.getSdkMetadataForEnvelopeHeader(r),a={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!o&&e&&{dsn:dh.dsnToString(e)}},i="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return dh.createEnvelope(a,[i])}function R3e(t,e,r,o){let s=dh.getSdkMetadataForEnvelopeHeader(r),a=t.type&&t.type!=="replay_event"?t.type:"event";I3e(t,r&&r.sdk);let i=dh.createEventEnvelopeHeaders(t,s,o,e);delete t.sdkProcessingMetadata;let n=[{type:a},t];return dh.createEnvelope(i,[n])}vA.createEventEnvelope=R3e;vA.createSessionEnvelope=C3e});var g2=h(h2=>{l();Object.defineProperty(h2,"__esModule",{value:!0});var O3e=z(),N3e=Qi(),p2=class{constructor(e,r){this._client=e,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._sessionAttrs=r}flush(){let e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){let e=Object.keys(this._pendingAggregates).map(o=>this._pendingAggregates[parseInt(o)]),r={attrs:this._sessionAttrs,aggregates:e};return O3e.dropUndefinedKeys(r)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=N3e.getCurrentScope(),r=e.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,r){let o=new Date(r).setSeconds(0,0);this._pendingAggregates[o]=this._pendingAggregates[o]||{};let s=this._pendingAggregates[o];switch(s.started||(s.started=new Date(o).toISOString()),e){case"errored":return s.errored=(s.errored||0)+1,s.errored;case"ok":return s.exited=(s.exited||0)+1,s.exited;default:return s.crashed=(s.crashed||0)+1,s.crashed}}};h2.SessionFlusher=p2});var AA=h(TA=>{l();Object.defineProperty(TA,"__esModule",{value:!0});var m2=z(),w3e="7";function U6(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function P3e(t){return`${U6(t)}${t.projectId}/envelope/`}function M3e(t,e){return m2.urlEncode({sentry_key:t.publicKey,sentry_version:w3e,...e&&{sentry_client:`${e.name}/${e.version}`}})}function x3e(t,e={}){let r=typeof e=="string"?e:e.tunnel,o=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${P3e(t)}?${M3e(t,o)}`}function B3e(t,e){let r=m2.makeDsn(t);if(!r)return"";let o=`${U6(r)}embed/error-page/`,s=`dsn=${m2.dsnToString(r)}`;for(let a in e)if(a!=="dsn"&&a!=="onClose")if(a==="user"){let i=e.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`;return`${o}?${s}`}TA.getEnvelopeEndpointWithUrlEncodedAuth=x3e;TA.getReportDialogEndpoint=B3e});var Ha=h(Is=>{l();Object.defineProperty(Is,"__esModule",{value:!0});var IA=z(),y2=yr(),D3e=__(),L3e=Qi(),U3e=vs(),_2=[];function G3e(t){let e={};return t.forEach(r=>{let{name:o}=r,s=e[o];s&&!s.isDefaultInstance&&r.isDefaultInstance||(e[o]=r)}),Object.keys(e).map(r=>e[r])}function V3e(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(i=>{i.isDefaultInstance=!0});let o;Array.isArray(r)?o=[...e,...r]:typeof r=="function"?o=IA.arrayify(r(e)):o=e;let s=G3e(o),a=W3e(s,i=>i.name==="Debug");if(a!==-1){let[i]=s.splice(a,1);s.push(i)}return s}function F3e(t,e){let r={};return e.forEach(o=>{o&&G6(t,o,r)}),r}function H3e(t,e){for(let r of e)r&&r.afterAllSetup&&r.afterAllSetup(t)}function G6(t,e,r){if(r[e.name]){y2.DEBUG_BUILD&&IA.logger.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,_2.indexOf(e.name)===-1&&(e.setupOnce(D3e.addGlobalEventProcessor,U3e.getCurrentHub),_2.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){let o=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,a)=>o(s,a,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){let o=e.processEvent.bind(e),s=Object.assign((a,i)=>o(a,i,t),{id:e.name});t.addEventProcessor(s)}y2.DEBUG_BUILD&&IA.logger.log(`Integration installed: ${e.name}`)}function k3e(t){let e=L3e.getClient();if(!e||!e.addIntegration){y2.DEBUG_BUILD&&IA.logger.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`);return}e.addIntegration(t)}function W3e(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}function Z3e(t,e){return Object.assign(function(...o){return e(...o)},{id:t})}function q3e(t){return t}Is.addIntegration=k3e;Is.afterSetupIntegrations=H3e;Is.convertIntegrationFnToClass=Z3e;Is.defineIntegration=q3e;Is.getIntegrationsToSetup=V3e;Is.installedIntegrations=_2;Is.setupIntegration=G6;Is.setupIntegrations=F3e});var fh=h(ko=>{l();Object.defineProperty(ko,"__esModule",{value:!0});var Y3e="c",j3e="g",K3e="s",X3e="d",z3e=/[^a-zA-Z0-9_/.-]+/g,J3e=/[^\w\d\s_:/@.{}[\]$-]+/g,$3e=5e3,Q3e=1e4,eWe=1e4;ko.COUNTER_METRIC_TYPE=Y3e;ko.DEFAULT_BROWSER_FLUSH_INTERVAL=$3e;ko.DEFAULT_FLUSH_INTERVAL=Q3e;ko.DISTRIBUTION_METRIC_TYPE=X3e;ko.GAUGE_METRIC_TYPE=j3e;ko.MAX_WEIGHT=eWe;ko.NAME_AND_TAG_KEY_NORMALIZATION_REGEX=z3e;ko.SET_METRIC_TYPE=K3e;ko.TAG_VALUE_NORMALIZATION_REGEX=J3e});var x_=h(ph=>{l();Object.defineProperty(ph,"__esModule",{value:!0});var tWe=z(),V6=fh();function rWe(t,e,r,o){let s=Object.entries(tWe.dropUndefinedKeys(o)).sort((a,i)=>a[0].localeCompare(i[0]));return`${t}${e}${r}${s}`}function nWe(t){let e=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);e=(e<<5)-e+o,e&=e}return e>>>0}function iWe(t){let e="";for(let r of t){let o=Object.entries(r.tags),s=o.length>0?`|#${o.map(([a,i])=>`${a}:${i}`).join(",")}`:"";e+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${s}|T${r.timestamp}
`}return e}function oWe(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let o=r.replace(V6.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_");e[o]=String(t[r]).replace(V6.TAG_VALUE_NORMALIZATION_REGEX,"")}return e}ph.getBucketKey=rWe;ph.sanitizeTags=oWe;ph.serializeMetricBuckets=iWe;ph.simpleHash=nWe});var H6=h(S2=>{l();Object.defineProperty(S2,"__esModule",{value:!0});var F6=z(),sWe=x_();function aWe(t,e,r,o){let s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),o&&e&&(s.dsn=F6.dsnToString(e));let a=uWe(t);return F6.createEnvelope(s,[a])}function uWe(t){let e=sWe.serializeMetricBuckets(t);return[{type:"statsd",length:e.length},e]}S2.createMetricEnvelope=aWe});var E2=h(RA=>{l();Object.defineProperty(RA,"__esModule",{value:!0});var yt=z(),cWe=AA(),Cs=yr(),k6=f2(),lWe=Qi(),dWe=vs(),CA=Ha(),fWe=H6(),W6=eh(),pWe=$l(),hWe=jT(),Z6="Not capturing exception because it's already been captured.",b2=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=yt.makeDsn(e.dsn):Cs.DEBUG_BUILD&&yt.logger.warn("No DSN provided, client will not send events."),this._dsn){let r=cWe.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,o){if(yt.checkOrSetAlreadyCaught(e)){Cs.DEBUG_BUILD&&yt.logger.log(Z6);return}let s=r&&r.event_id;return this._process(this.eventFromException(e,r).then(a=>this._captureEvent(a,r,o)).then(a=>{s=a})),s}captureMessage(e,r,o,s){let a=o&&o.event_id,i=yt.isParameterizedString(e)?e:String(e),n=yt.isPrimitive(e)?this.eventFromMessage(i,r,o):this.eventFromException(e,o);return this._process(n.then(u=>this._captureEvent(u,o,s)).then(u=>{a=u})),a}captureEvent(e,r,o){if(r&&r.originalException&&yt.checkOrSetAlreadyCaught(r.originalException)){Cs.DEBUG_BUILD&&yt.logger.log(Z6);return}let s=r&&r.event_id,i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,r,i||o).then(n=>{s=n})),s}captureSession(e){typeof e.release!="string"?Cs.DEBUG_BUILD&&yt.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),W6.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(o=>r.flush(e).then(s=>o&&s))):yt.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return Cs.DEBUG_BUILD&&yt.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){let r=this._integrations[e.name];CA.setupIntegration(this,e,this._integrations),r||CA.afterSetupIntegrations(this,[e])}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let o=k6.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(let a of r.attachments||[])o=yt.addItemToEnvelope(o,yt.createAttachmentEnvelopeItem(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));let s=this._sendEnvelope(o);s&&s.then(a=>this.emit("afterSendEvent",e,a),null)}sendSession(e){let r=k6.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(e,r,o){if(this._options.sendClientReports){let s=`${e}:${r}`;Cs.DEBUG_BUILD&&yt.logger.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}captureAggregateMetrics(e){Cs.DEBUG_BUILD&&yt.logger.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let r=fWe.createMetricEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(o=>o(...r))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=CA.setupIntegrations(this,e),CA.afterSetupIntegrations(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,r){let o=!1,s=!1,a=r.exception&&r.exception.values;if(a){s=!0;for(let u of a){let c=u.mechanism;if(c&&c.handled===!1){o=!0;break}}}let i=e.status==="ok";(i&&e.errors===0||i&&o)&&(W6.updateSession(e,{...o&&{status:"crashed"},errors:e.errors||Number(s||o)}),this.captureSession(e))}_isClientDoneProcessing(e){return new yt.SyncPromise(r=>{let o=0,s=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(o+=s,e&&o>=e&&(clearInterval(a),r(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,o,s=dWe.getIsolationScope()){let a=this.getOptions(),i=Object.keys(this._integrations);return!r.integrations&&i.length>0&&(r.integrations=i),this.emit("preprocessEvent",e,r),hWe.prepareEvent(a,e,r,o,this,s).then(n=>{if(n===null)return n;let u={...s.getPropagationContext(),...o?o.getPropagationContext():void 0};if(!(n.contexts&&n.contexts.trace)&&u){let{traceId:d,spanId:f,parentSpanId:g,dsc:y}=u;n.contexts={trace:{trace_id:d,span_id:f,parent_span_id:g},...n.contexts};let S=y||pWe.getDynamicSamplingContextFromClient(d,this,o);n.sdkProcessingMetadata={dynamicSamplingContext:S,...n.sdkProcessingMetadata}}return n})}_captureEvent(e,r={},o){return this._processEvent(e,r,o).then(s=>s.event_id,s=>{if(Cs.DEBUG_BUILD){let a=s;a.logLevel==="log"?yt.logger.log(a.message):yt.logger.warn(a)}})}_processEvent(e,r,o){let s=this.getOptions(),{sampleRate:a}=s,i=Y6(e),n=q6(e),u=e.type||"error",c=`before send for type \`${u}\``;if(n&&typeof a=="number"&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",e),yt.rejectedSyncPromise(new yt.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));let d=u==="replay_event"?"replay":u,g=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,r,o,g).then(y=>{if(y===null)throw this.recordDroppedEvent("event_processor",d,e),new yt.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return y;let T=mWe(s,y,r);return gWe(T,c)}).then(y=>{if(y===null)throw this.recordDroppedEvent("before_send",d,e),new yt.SentryError(`${c} returned \`null\`, will not send event.`,"log");let S=o&&o.getSession();!i&&S&&this._updateSessionFromEvent(S,y);let T=y.transaction_info;if(i&&T&&y.transaction!==e.transaction){let C="custom";y.transaction_info={...T,source:C}}return this.sendEvent(y,r),y}).then(null,y=>{throw y instanceof yt.SentryError?y:(this.captureException(y,{data:{__sentry__:!0},originalException:y}),new yt.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${y}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,r=>{Cs.DEBUG_BUILD&&yt.logger.error("Error while sending event:",r)});Cs.DEBUG_BUILD&&yt.logger.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[o,s]=r.split(":");return{reason:o,category:s,quantity:e[r]}})}};function gWe(t,e){let r=`${e} must return \`null\` or a valid event.`;if(yt.isThenable(t))return t.then(o=>{if(!yt.isPlainObject(o)&&o!==null)throw new yt.SentryError(r);return o},o=>{throw new yt.SentryError(`${e} rejected with ${o}`)});if(!yt.isPlainObject(t)&&t!==null)throw new yt.SentryError(r);return t}function mWe(t,e,r){let{beforeSend:o,beforeSendTransaction:s}=t;return q6(e)&&o?o(e,r):Y6(e)&&s?s(e,r):e}function q6(t){return t.type===void 0}function Y6(t){return t.type==="transaction"}function yWe(t){let e=lWe.getClient();!e||!e.addEventProcessor||e.addEventProcessor(t)}RA.BaseClient=b2;RA.addEventProcessor=yWe});var A2=h(T2=>{l();Object.defineProperty(T2,"__esModule",{value:!0});var v2=z();function _We(t,e,r,o,s){let a={sent_at:new Date().toISOString()};r&&r.sdk&&(a.sdk={name:r.sdk.name,version:r.sdk.version}),o&&s&&(a.dsn=v2.dsnToString(s)),e&&(a.trace=v2.dropUndefinedKeys(e));let i=SWe(t);return v2.createEnvelope(a,[i])}function SWe(t){return[{type:"check_in"},t]}T2.createCheckInEnvelope=_We});var I2=h(nd=>{l();Object.defineProperty(nd,"__esModule",{value:!0});var OA=fh(),bWe=x_(),NA=class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},wA=class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},PA=class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},MA=class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>typeof e=="string"?bWe.simpleHash(e):e).join(":")}},EWe={[OA.COUNTER_METRIC_TYPE]:NA,[OA.GAUGE_METRIC_TYPE]:wA,[OA.DISTRIBUTION_METRIC_TYPE]:PA,[OA.SET_METRIC_TYPE]:MA};nd.CounterMetric=NA;nd.DistributionMetric=PA;nd.GaugeMetric=wA;nd.METRIC_MAP=EWe;nd.SetMetric=MA});var X6=h(R2=>{l();Object.defineProperty(R2,"__esModule",{value:!0});var j6=z(),hh=fh(),vWe=I2(),TWe=N_(),K6=x_(),C2=class{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),hh.DEFAULT_FLUSH_INTERVAL),this._flushShift=Math.floor(Math.random()*hh.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(e,r,o,s="none",a={},i=j6.timestampInSeconds()){let n=Math.floor(i),u=r.replace(hh.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_"),c=K6.sanitizeTags(a),d=K6.getBucketKey(e,u,s,c),f=this._buckets.get(d),g=f&&e===hh.SET_METRIC_TYPE?f.metric.weight:0;f?(f.metric.add(o),f.timestamp<n&&(f.timestamp=n)):(f={metric:new vWe.METRIC_MAP[e](o),timestamp:n,metricType:e,name:u,unit:s,tags:c},this._buckets.set(d,f));let y=typeof o=="string"?f.metric.weight-g:o;TWe.updateMetricSummaryOnActiveSpan(e,u,y,s,a,d),this._bucketsTotalWeight+=f.metric.weight,this._bucketsTotalWeight>=hh.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}let e=Math.floor(j6.timestampInSeconds())-hh.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,r=new Map;for(let[o,s]of this._buckets)s.timestamp<=e&&(r.set(o,s),this._bucketsTotalWeight-=s.metric.weight);for(let[o]of r)this._buckets.delete(o);this._captureMetrics(r)}_captureMetrics(e){if(e.size>0&&this._client.captureAggregateMetrics){let r=Array.from(e).map(([,o])=>o);this._client.captureAggregateMetrics(r)}}};R2.MetricsAggregator=C2});var J6=h(N2=>{l();Object.defineProperty(N2,"__esModule",{value:!0});var ka=z(),AWe=E2(),IWe=A2(),xA=yr(),CWe=Qi(),RWe=X6(),OWe=g2(),NWe=l2(),wWe=Jn(),PWe=rh();oh();var z6=$l(),O2=class extends AWe.BaseClient{constructor(e){NWe.addTracingExtensions(),super(e),e._experiments&&e._experiments.metricsAggregator&&(this.metricsAggregator=new RWe.MetricsAggregator(this))}eventFromException(e,r){return ka.resolvedSyncPromise(ka.eventFromUnknownInput(CWe.getClient(),this._options.stackParser,e,r))}eventFromMessage(e,r="info",o){return ka.resolvedSyncPromise(ka.eventFromMessage(this._options.stackParser,e,r,o,this._options.attachStacktrace))}captureException(e,r,o){if(this._options.autoSessionTracking&&this._sessionFlusher&&o){let s=o.getRequestSession();s&&s.status==="ok"&&(s.status="errored")}return super.captureException(e,r,o)}captureEvent(e,r,o){if(this._options.autoSessionTracking&&this._sessionFlusher&&o&&(e.type||"exception")==="exception"&&e.exception&&e.exception.values&&e.exception.values.length>0){let i=o.getRequestSession();i&&i.status==="ok"&&(i.status="errored")}return super.captureEvent(e,r,o)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){let{release:e,environment:r}=this._options;e?this._sessionFlusher=new OWe.SessionFlusher(this,{release:e,environment:r}):xA.DEBUG_BUILD&&ka.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,r,o){let s="checkInId"in e&&e.checkInId?e.checkInId:ka.uuid4();if(!this._isEnabled())return xA.DEBUG_BUILD&&ka.logger.warn("SDK not enabled, will not capture checkin."),s;let a=this.getOptions(),{release:i,environment:n,tunnel:u}=a,c={check_in_id:s,monitor_slug:e.monitorSlug,status:e.status,release:i,environment:n};"duration"in e&&(c.duration=e.duration),r&&(c.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let[d,f]=this._getTraceInfoFromScope(o);f&&(c.contexts={trace:f});let g=IWe.createCheckInEnvelope(c,d,this.getSdkMetadata(),u,this.getDsn());return xA.DEBUG_BUILD&&ka.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(g),s}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():xA.DEBUG_BUILD&&ka.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,r,o,s){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,r,o,s)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let r=e.getSpan();if(r)return[PWe.getRootSpan(r)?z6.getDynamicSamplingContextFromSpan(r):void 0,wWe.spanToTraceContext(r)];let{traceId:o,spanId:s,parentSpanId:a,dsc:i}=e.getPropagationContext(),n={trace_id:o,span_id:s,parent_span_id:a};return i?[i,n]:[z6.getDynamicSamplingContextFromClient(o,this,e),n]}};N2.ServerRuntimeClient=O2});var e7=h(BA=>{l();Object.defineProperty(BA,"__esModule",{value:!0});var $6=z(),MWe=yr(),xWe=Qi(),BWe=vs();function DWe(t,e){e.debug===!0&&(MWe.DEBUG_BUILD?$6.logger.enable():$6.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),xWe.getCurrentScope().update(e.initialScope);let o=new t(e);Q6(o),LWe(o)}function Q6(t){let r=BWe.getCurrentHub().getStackTop();r.client=t,r.scope.setClient(t)}function LWe(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}BA.initAndBind=DWe;BA.setCurrentClient=Q6});var i7=h(DA=>{l();Object.defineProperty(DA,"__esModule",{value:!0});var Qn=z(),t7=yr(),n7=30;function UWe(t,e,r=Qn.makePromiseBuffer(t.bufferSize||n7)){let o={},s=i=>r.drain(i);function a(i){let n=[];if(Qn.forEachEnvelopeItem(i,(f,g)=>{let y=Qn.envelopeItemTypeToDataCategory(g);if(Qn.isRateLimited(o,y)){let S=r7(f,g);t.recordDroppedEvent("ratelimit_backoff",y,S)}else n.push(f)}),n.length===0)return Qn.resolvedSyncPromise();let u=Qn.createEnvelope(i[0],n),c=f=>{Qn.forEachEnvelopeItem(u,(g,y)=>{let S=r7(g,y);t.recordDroppedEvent(f,Qn.envelopeItemTypeToDataCategory(y),S)})},d=()=>e({body:Qn.serializeEnvelope(u,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&t7.DEBUG_BUILD&&Qn.logger.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),o=Qn.updateRateLimits(o,f),f),f=>{throw c("network_error"),f});return r.add(d).then(f=>f,f=>{if(f instanceof Qn.SentryError)return t7.DEBUG_BUILD&&Qn.logger.error("Skipped sending event because buffer is full."),c("queue_overflow"),Qn.resolvedSyncPromise();throw f})}return a.__sentry__baseTransport__=!0,{send:a,flush:s}}function r7(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}DA.DEFAULT_TRANSPORT_BUFFER_SIZE=n7;DA.createTransport=UWe});var s7=h(B_=>{l();Object.defineProperty(B_,"__esModule",{value:!0});var P2=z(),GWe=yr(),o7=100,M2=5e3,VWe=36e5;function w2(t,e){GWe.DEBUG_BUILD&&P2.logger.info(`[Offline]: ${t}`,e)}function FWe(t){return e=>{let r=t(e),o=e.createStore?e.createStore(e):void 0,s=M2,a;function i(d,f,g){return P2.envelopeContainsItemType(d,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(d,f,g):!0}function n(d){o&&(a&&clearTimeout(a),a=setTimeout(async()=>{a=void 0;let f=await o.pop();f&&(w2("Attempting to send previously queued event"),c(f).catch(g=>{w2("Failed to retry sending",g)}))},d),typeof a!="number"&&a.unref&&a.unref())}function u(){a||(n(s),s=Math.min(s*2,VWe))}async function c(d){try{let f=await r.send(d),g=o7;if(f){if(f.headers&&f.headers["retry-after"])g=P2.parseRetryAfterHeader(f.headers["retry-after"]);else if((f.statusCode||0)>=400)return f}return n(g),s=M2,f}catch(f){if(o&&await i(d,f,s))return await o.insert(d),u(),w2("Error sending. Event queued",f),{};throw f}}return e.flushAtStartup&&u(),{send:c,flush:d=>r.flush(d)}}}B_.MIN_DELAY=o7;B_.START_DELAY=M2;B_.makeOfflineTransport=FWe});var u7=h(LA=>{l();Object.defineProperty(LA,"__esModule",{value:!0});var a7=z(),HWe=AA();function x2(t,e){let r;return a7.forEachEnvelopeItem(t,(o,s)=>(e.includes(s)&&(r=Array.isArray(o)?o[1]:void 0),!!r)),r}function kWe(t,e){return r=>{let o=t(r);return{send:async s=>{let a=x2(s,["event","transaction","profile","replay_event"]);return a&&(a.release=e),o.send(s)},flush:s=>o.flush(s)}}}function WWe(t,e){return r=>{let o=t(r),s={};function a(u,c){let d=c?`${u}:${c}`:u;if(!s[d]){let f=a7.dsnFromString(u);if(!f)return;let g=HWe.getEnvelopeEndpointWithUrlEncodedAuth(f);s[d]=c?kWe(t,c)({...r,url:g}):t({...r,url:g})}return s[d]}async function i(u){function c(g){let y=g&&g.length?g:["event"];return x2(u,y)}let d=e({envelope:u,getEvent:c}).map(g=>typeof g=="string"?a(g,void 0):a(g.dsn,g.release)).filter(g=>!!g);return d.length===0&&d.push(o),(await Promise.all(d.map(g=>g.send(u))))[0]}async function n(u){let c=[...Object.keys(s).map(f=>s[f]),o];return(await Promise.all(c.map(f=>f.flush(u)))).every(f=>f)}return{send:i,flush:n}}}LA.eventFromEnvelope=x2;LA.makeMultiplexedTransport=WWe});var c7=h(B2=>{l();Object.defineProperty(B2,"__esModule",{value:!0});var ZWe=z();function qWe(t){let e={sent_at:new Date().toISOString()},r=t.map(YWe);return ZWe.createEnvelope(e,r)}function YWe(t){return[{type:"span"},t]}B2.createSpanEnvelope=qWe});var d7=h(D2=>{l();Object.defineProperty(D2,"__esModule",{value:!0});function jWe(t,e){let r=e&&zWe(e)?e.getClient():e,o=r&&r.getDsn(),s=r&&r.getOptions().tunnel;return XWe(t,o)||KWe(t,s)}function KWe(t,e){return e?l7(t)===l7(e):!1}function XWe(t,e){return e?t.includes(e.host):!1}function l7(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function zWe(t){return t.getClient!==void 0}D2.isSentryRequestUrl=jWe});var f7=h(L2=>{l();Object.defineProperty(L2,"__esModule",{value:!0});function JWe(t,...e){let r=new String(String.raw(t,...e));return r.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=e,r}L2.parameterize=JWe});var h7=h(U2=>{l();Object.defineProperty(U2,"__esModule",{value:!0});var p7=eA();function $We(t,e,r=[e],o="npm"){let s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:r.map(a=>({name:`${o}:@sentry/${a}`,version:p7.SDK_VERSION})),version:p7.SDK_VERSION}),t._metadata=s}U2.applySdkMetadata=$We});var _7=h(D_=>{l();Object.defineProperty(D_,"__esModule",{value:!0});var G2=z(),m7=new Map,g7=new Set;function QWe(t){if(G2.GLOBAL_OBJ._sentryModuleMetadata)for(let e of Object.keys(G2.GLOBAL_OBJ._sentryModuleMetadata)){let r=G2.GLOBAL_OBJ._sentryModuleMetadata[e];if(g7.has(e))continue;g7.add(e);let o=t(e);for(let s of o.reverse())if(s.filename){m7.set(s.filename,r);break}}}function y7(t,e){return QWe(t),m7.get(e)}function eZe(t,e){try{e.exception.values.forEach(r=>{if(r.stacktrace)for(let o of r.stacktrace.frames||[]){if(!o.filename)continue;let s=y7(t,o.filename);s&&(o.module_metadata=s)}})}catch{}}function tZe(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(let r of e.stacktrace.frames||[])delete r.module_metadata})}catch{}}D_.addMetadataToStackFrames=eZe;D_.getMetadataForUrl=y7;D_.stripMetadataFromStackFrames=tZe});var T7=h(UA=>{l();Object.defineProperty(UA,"__esModule",{value:!0});var rZe=z(),b7=Ha(),S7=_7(),E7="ModuleMetadata",nZe=()=>({name:E7,setupOnce(){},setup(t){typeof t.on=="function"&&t.on("beforeEnvelope",e=>{rZe.forEachEnvelopeItem(e,(r,o)=>{if(o==="event"){let s=Array.isArray(r)?r[1]:void 0;s&&(S7.stripMetadataFromStackFrames(s),r[1]=s)}})})},processEvent(t,e,r){let o=r.getOptions().stackParser;return S7.addMetadataToStackFrames(o,t),t}}),v7=b7.defineIntegration(nZe),iZe=b7.convertIntegrationFnToClass(E7,v7);UA.ModuleMetadata=iZe;UA.moduleMetadataIntegration=v7});var O7=h(GA=>{l();Object.defineProperty(GA,"__esModule",{value:!0});var A7=z(),I7=Ha(),oZe=Jn(),V2={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},C7="RequestData",sZe=(t={})=>{let e=A7.addRequestDataToEvent,r={...V2,...t,include:{method:!0,...V2.include,...t.include,user:t.include&&typeof t.include.user=="boolean"?t.include.user:{...V2.include.user,...(t.include||{}).user}}};return{name:C7,setupOnce(){},processEvent(o,s,a){let{transactionNamingScheme:i}=r,{sdkProcessingMetadata:n={}}=o,u=n.request;if(!u)return o;let c=n.requestDataOptionsFromExpressHandler||n.requestDataOptionsFromGCPWrapper||uZe(r),d=e(o,u,c);if(o.type==="transaction"||i==="handler")return d;let g=u._sentryTransaction;if(g){let y=oZe.spanToJSON(g).description||"",S=cZe(a)==="sentry.javascript.nextjs"?y.startsWith("/api"):i!=="path",[T]=A7.extractPathForTransaction(u,{path:!0,method:S,customRoute:y});d.transaction=T}return d}}},R7=I7.defineIntegration(sZe),aZe=I7.convertIntegrationFnToClass(C7,R7);function uZe(t){let{transactionNamingScheme:e,include:{ip:r,user:o,...s}}=t,a=[];for(let[n,u]of Object.entries(s))u&&a.push(n);let i;if(o===void 0)i=!0;else if(typeof o=="boolean")i=o;else{let n=[];for(let[u,c]of Object.entries(o))c&&n.push(u);i=n}return{include:{ip:r,user:i,request:a.length!==0?a:void 0,transaction:e}}}function cZe(t){try{return t.getOptions()._metadata.sdk.name}catch{return}}GA.RequestData=aZe;GA.requestDataIntegration=R7});var F2=h(FA=>{l();Object.defineProperty(FA,"__esModule",{value:!0});var wr=z(),id=yr(),N7=Ha(),lZe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],dZe=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],w7="InboundFilters",fZe=(t={})=>({name:w7,setupOnce(){},processEvent(e,r,o){let s=o.getOptions(),a=hZe(t,s);return gZe(e,a)?null:e}}),P7=N7.defineIntegration(fZe),pZe=N7.convertIntegrationFnToClass(w7,P7);function hZe(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:lZe],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:dZe],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function gZe(t,e){return e.ignoreInternal&&EZe(t)?(id.DEBUG_BUILD&&wr.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${wr.getEventDescription(t)}`),!0):mZe(t,e.ignoreErrors)?(id.DEBUG_BUILD&&wr.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${wr.getEventDescription(t)}`),!0):yZe(t,e.ignoreTransactions)?(id.DEBUG_BUILD&&wr.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${wr.getEventDescription(t)}`),!0):_Ze(t,e.denyUrls)?(id.DEBUG_BUILD&&wr.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${wr.getEventDescription(t)}.
Url: ${VA(t)}`),!0):SZe(t,e.allowUrls)?!1:(id.DEBUG_BUILD&&wr.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${wr.getEventDescription(t)}.
Url: ${VA(t)}`),!0)}function mZe(t,e){return t.type||!e||!e.length?!1:bZe(t).some(r=>wr.stringMatchesSomePattern(r,e))}function yZe(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?wr.stringMatchesSomePattern(r,e):!1}function _Ze(t,e){if(!e||!e.length)return!1;let r=VA(t);return r?wr.stringMatchesSomePattern(r,e):!1}function SZe(t,e){if(!e||!e.length)return!0;let r=VA(t);return r?wr.stringMatchesSomePattern(r,e):!0}function bZe(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),id.DEBUG_BUILD&&e.length===0&&wr.logger.error(`Could not extract message for event ${wr.getEventDescription(t)}`),e}function EZe(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function vZe(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function VA(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?vZe(e):null}catch{return id.DEBUG_BUILD&&wr.logger.error(`Cannot extract url for event ${wr.getEventDescription(t)}`),null}}FA.InboundFilters=pZe;FA.inboundFiltersIntegration=P7});var H2=h(HA=>{l();Object.defineProperty(HA,"__esModule",{value:!0});var TZe=z(),AZe=Qi(),B7=Ha(),M7,D7="FunctionToString",x7=new WeakMap,IZe=()=>({name:D7,setupOnce(){M7=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=TZe.getOriginalFunction(this),r=x7.has(AZe.getClient())&&e!==void 0?e:this;return M7.apply(r,t)}}catch{}},setup(t){x7.set(t,!0)}}),L7=B7.defineIntegration(IZe),CZe=B7.convertIntegrationFnToClass(D7,L7);HA.FunctionToString=CZe;HA.functionToStringIntegration=L7});var k2=h(kA=>{l();Object.defineProperty(kA,"__esModule",{value:!0});var U7=z(),G7=Ha(),RZe="cause",OZe=5,V7="LinkedErrors",NZe=(t={})=>{let e=t.limit||OZe,r=t.key||RZe;return{name:V7,setupOnce(){},preprocessEvent(o,s,a){let i=a.getOptions();U7.applyAggregateErrorsToEvent(U7.exceptionFromError,i.stackParser,i.maxValueLength,r,e,o,s)}}},F7=G7.defineIntegration(NZe),wZe=G7.convertIntegrationFnToClass(V7,F7);kA.LinkedErrors=wZe;kA.linkedErrorsIntegration=F7});var H7=h(L_=>{l();Object.defineProperty(L_,"__esModule",{value:!0});var PZe=H2(),MZe=F2(),xZe=k2();L_.FunctionToString=PZe.FunctionToString;L_.InboundFilters=MZe.InboundFilters;L_.LinkedErrors=xZe.LinkedErrors});var W7=h(q2=>{l();Object.defineProperty(q2,"__esModule",{value:!0});var BZe=z(),W2=fh(),DZe=I2(),LZe=N_(),k7=x_(),Z2=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),W2.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(e,r,o,s="none",a={},i=BZe.timestampInSeconds()){let n=Math.floor(i),u=r.replace(W2.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_"),c=k7.sanitizeTags(a),d=k7.getBucketKey(e,u,s,c),f=this._buckets.get(d),g=f&&e===W2.SET_METRIC_TYPE?f.metric.weight:0;f?(f.metric.add(o),f.timestamp<n&&(f.timestamp=n)):(f={metric:new DZe.METRIC_MAP[e](o),timestamp:n,metricType:e,name:u,unit:s,tags:c},this._buckets.set(d,f));let y=typeof o=="string"?f.metric.weight-g:o;LZe.updateMetricSummaryOnActiveSpan(e,u,y,s,a,d)}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let e=Array.from(this._buckets).map(([,r])=>r);this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};q2.BrowserMetricsAggregator=Z2});var j7=h(WA=>{l();Object.defineProperty(WA,"__esModule",{value:!0});var Z7=Ha(),UZe=W7(),q7="MetricsAggregator",GZe=()=>({name:q7,setupOnce(){},setup(t){t.metricsAggregator=new UZe.BrowserMetricsAggregator(t)}}),Y7=Z7.defineIntegration(GZe),VZe=Z7.convertIntegrationFnToClass(q7,Y7);WA.MetricsAggregator=VZe;WA.metricsAggregatorIntegration=Y7});var r$=h(od=>{l();Object.defineProperty(od,"__esModule",{value:!0});var K7=z(),X7=yr(),z7=Qi(),FZe=Jn(),ZA=fh(),J7=j7();function qA(t,e,r,o={}){let s=z7.getClient(),a=z7.getCurrentScope();if(s){if(!s.metricsAggregator){X7.DEBUG_BUILD&&K7.logger.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:i,tags:n,timestamp:u}=o,{release:c,environment:d}=s.getOptions(),f=a.getTransaction(),g={};c&&(g.release=c),d&&(g.environment=d),f&&(g.transaction=FZe.spanToJSON(f).description||""),X7.DEBUG_BUILD&&K7.logger.log(`Adding value of ${r} to ${t} metric ${e}`),s.metricsAggregator.add(t,e,r,i,{...g,...n},u)}}function $7(t,e=1,r){qA(ZA.COUNTER_METRIC_TYPE,t,e,r)}function Q7(t,e,r){qA(ZA.DISTRIBUTION_METRIC_TYPE,t,e,r)}function e$(t,e,r){qA(ZA.SET_METRIC_TYPE,t,e,r)}function t$(t,e,r){qA(ZA.GAUGE_METRIC_TYPE,t,e,r)}var HZe={increment:$7,distribution:Q7,set:e$,gauge:t$,MetricsAggregator:J7.MetricsAggregator,metricsAggregatorIntegration:J7.metricsAggregatorIntegration};od.distribution=Q7;od.gauge=t$;od.increment=$7;od.metrics=HZe;od.set=e$});var Ue=h(X=>{l();Object.defineProperty(X,"__esModule",{value:!0});var n$=l2(),i$=u2(),kZe=fA(),WZe=gA(),o$=nA(),YA=oh(),sd=cA(),s$=$l(),ZZe=L6(),qZe=c2(),U_=w_(),a$=f2(),Pt=Qi(),Rs=vs(),Y2=eh(),YZe=g2(),j2=XT(),u$=__(),c$=AA(),l$=E2(),jZe=J6(),d$=e7(),KZe=i7(),XZe=s7(),zZe=u7(),JZe=eA(),jA=Ha(),f$=KT(),$Ze=jT(),QZe=A2(),e5e=c7(),t5e=oA(),r5e=d7(),n5e=e2(),i5e=f7(),KA=Jn(),o5e=rh(),s5e=h7(),a5e=Qp(),p$=T7(),h$=O7(),g$=F2(),m$=H2(),y$=k2(),u5e=H7(),c5e=r$(),l5e=u5e;X.addTracingExtensions=n$.addTracingExtensions;X.startIdleTransaction=n$.startIdleTransaction;X.IdleTransaction=i$.IdleTransaction;X.TRACING_DEFAULTS=i$.TRACING_DEFAULTS;X.Span=kZe.Span;X.Transaction=WZe.Transaction;X.extractTraceparentData=o$.extractTraceparentData;X.getActiveTransaction=o$.getActiveTransaction;Object.defineProperty(X,"SpanStatus",{enumerable:!0,get:()=>YA.SpanStatus});X.getSpanStatusFromHttpCode=YA.getSpanStatusFromHttpCode;X.setHttpStatus=YA.setHttpStatus;X.spanStatusfromHttpCode=YA.spanStatusfromHttpCode;X.continueTrace=sd.continueTrace;X.getActiveSpan=sd.getActiveSpan;X.startActiveSpan=sd.startActiveSpan;X.startInactiveSpan=sd.startInactiveSpan;X.startSpan=sd.startSpan;X.startSpanManual=sd.startSpanManual;X.trace=sd.trace;X.getDynamicSamplingContextFromClient=s$.getDynamicSamplingContextFromClient;X.getDynamicSamplingContextFromSpan=s$.getDynamicSamplingContextFromSpan;X.setMeasurement=ZZe.setMeasurement;X.isValidSampleRate=qZe.isValidSampleRate;X.SEMANTIC_ATTRIBUTE_PROFILE_ID=U_.SEMANTIC_ATTRIBUTE_PROFILE_ID;X.SEMANTIC_ATTRIBUTE_SENTRY_OP=U_.SEMANTIC_ATTRIBUTE_SENTRY_OP;X.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=U_.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN;X.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=U_.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE;X.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=U_.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE;X.createEventEnvelope=a$.createEventEnvelope;X.createSessionEnvelope=a$.createSessionEnvelope;X.addBreadcrumb=Pt.addBreadcrumb;X.captureCheckIn=Pt.captureCheckIn;X.captureEvent=Pt.captureEvent;X.captureException=Pt.captureException;X.captureMessage=Pt.captureMessage;X.captureSession=Pt.captureSession;X.close=Pt.close;X.configureScope=Pt.configureScope;X.endSession=Pt.endSession;X.flush=Pt.flush;X.getClient=Pt.getClient;X.getCurrentScope=Pt.getCurrentScope;X.isInitialized=Pt.isInitialized;X.lastEventId=Pt.lastEventId;X.setContext=Pt.setContext;X.setExtra=Pt.setExtra;X.setExtras=Pt.setExtras;X.setTag=Pt.setTag;X.setTags=Pt.setTags;X.setUser=Pt.setUser;X.startSession=Pt.startSession;X.startTransaction=Pt.startTransaction;X.withActiveSpan=Pt.withActiveSpan;X.withIsolationScope=Pt.withIsolationScope;X.withMonitor=Pt.withMonitor;X.withScope=Pt.withScope;X.Hub=Rs.Hub;X.ensureHubOnCarrier=Rs.ensureHubOnCarrier;X.getCurrentHub=Rs.getCurrentHub;X.getHubFromCarrier=Rs.getHubFromCarrier;X.getIsolationScope=Rs.getIsolationScope;X.getMainCarrier=Rs.getMainCarrier;X.makeMain=Rs.makeMain;X.runWithAsyncContext=Rs.runWithAsyncContext;X.setAsyncContextStrategy=Rs.setAsyncContextStrategy;X.setHubOnCarrier=Rs.setHubOnCarrier;X.closeSession=Y2.closeSession;X.makeSession=Y2.makeSession;X.updateSession=Y2.updateSession;X.SessionFlusher=YZe.SessionFlusher;X.Scope=j2.Scope;X.getGlobalScope=j2.getGlobalScope;X.setGlobalScope=j2.setGlobalScope;X.addGlobalEventProcessor=u$.addGlobalEventProcessor;X.notifyEventProcessors=u$.notifyEventProcessors;X.getEnvelopeEndpointWithUrlEncodedAuth=c$.getEnvelopeEndpointWithUrlEncodedAuth;X.getReportDialogEndpoint=c$.getReportDialogEndpoint;X.BaseClient=l$.BaseClient;X.addEventProcessor=l$.addEventProcessor;X.ServerRuntimeClient=jZe.ServerRuntimeClient;X.initAndBind=d$.initAndBind;X.setCurrentClient=d$.setCurrentClient;X.createTransport=KZe.createTransport;X.makeOfflineTransport=XZe.makeOfflineTransport;X.makeMultiplexedTransport=zZe.makeMultiplexedTransport;X.SDK_VERSION=JZe.SDK_VERSION;X.addIntegration=jA.addIntegration;X.convertIntegrationFnToClass=jA.convertIntegrationFnToClass;X.defineIntegration=jA.defineIntegration;X.getIntegrationsToSetup=jA.getIntegrationsToSetup;X.applyScopeDataToEvent=f$.applyScopeDataToEvent;X.mergeScopeData=f$.mergeScopeData;X.prepareEvent=$Ze.prepareEvent;X.createCheckInEnvelope=QZe.createCheckInEnvelope;X.createSpanEnvelope=e5e.createSpanEnvelope;X.hasTracingEnabled=t5e.hasTracingEnabled;X.isSentryRequestUrl=r5e.isSentryRequestUrl;X.handleCallbackErrors=n5e.handleCallbackErrors;X.parameterize=i5e.parameterize;X.spanIsSampled=KA.spanIsSampled;X.spanToJSON=KA.spanToJSON;X.spanToTraceContext=KA.spanToTraceContext;X.spanToTraceHeader=KA.spanToTraceHeader;X.getRootSpan=o5e.getRootSpan;X.applySdkMetadata=s5e.applySdkMetadata;X.DEFAULT_ENVIRONMENT=a5e.DEFAULT_ENVIRONMENT;X.ModuleMetadata=p$.ModuleMetadata;X.moduleMetadataIntegration=p$.moduleMetadataIntegration;X.RequestData=h$.RequestData;X.requestDataIntegration=h$.requestDataIntegration;X.InboundFilters=g$.InboundFilters;X.inboundFiltersIntegration=g$.inboundFiltersIntegration;X.FunctionToString=m$.FunctionToString;X.functionToStringIntegration=m$.functionToStringIntegration;X.LinkedErrors=y$.LinkedErrors;X.linkedErrorsIntegration=y$.linkedErrorsIntegration;X.metrics=c5e.metrics;X.Integrations=l5e});var ei=h(K2=>{l();Object.defineProperty(K2,"__esModule",{value:!0});var d5e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;K2.DEBUG_BUILD=d5e});var rc=h(X2=>{l();var{_optionalChain:_$}=z();Object.defineProperty(X2,"__esModule",{value:!0});function f5e(t){let e=_$([t,"call",o=>o(),"access",o=>o.getClient,"call",o=>o(),"optionalAccess",o=>o.getOptions,"call",o=>o()]);return(_$([e,"optionalAccess",o=>o.instrumenter])||"sentry")!=="sentry"}X2.shouldDisableAutoInstrumentation=f5e});var v$=h(G_=>{l();var{_optionalChain:Os}=z();Object.defineProperty(G_,"__esModule",{value:!0});var z2=Ue(),ti=z(),XA=ei(),p5e=rc(),zA=class t{static __initStatic(){this.id="Express"}constructor(e={}){this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,r){if(!this._router){XA.DEBUG_BUILD&&ti.logger.error("ExpressIntegration is missing an Express instance");return}if(p5e.shouldDisableAutoInstrumentation(r)){XA.DEBUG_BUILD&&ti.logger.log("Express Integration is skipped because of instrumenter configuration.");return}m5e(this._router,this._methods),y5e(this._router)}};zA.__initStatic();function S$(t,e){let r=t.length;switch(r){case 2:return function(o,s){let a=s.__sentry_transaction;if(a){let i=a.startChild({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"});s.once("finish",()=>{i.end()})}return t.call(this,o,s)};case 3:return function(o,s,a){let i=s.__sentry_transaction,n=Os([i,"optionalAccess",u=>u.startChild,"call",u=>u({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,o,s,function(...u){Os([n,"optionalAccess",c=>c.end,"call",c=>c()]),a.call(this,...u)})};case 4:return function(o,s,a,i){let n=a.__sentry_transaction,u=Os([n,"optionalAccess",c=>c.startChild,"call",c=>c({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,o,s,a,function(...c){Os([u,"optionalAccess",d=>d.end,"call",d=>d()]),i.call(this,...c)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${r}`)}}function h5e(t,e){return t.map(r=>typeof r=="function"?S$(r,e):Array.isArray(r)?r.map(o=>typeof o=="function"?S$(o,e):o):r)}function g5e(t,e){let r=t[e];return t[e]=function(...o){return r.call(this,...h5e(o,e))},t}function m5e(t,e=[]){e.forEach(r=>g5e(t,r))}function y5e(t){let e="settings"in t;e&&t._router===void 0&&t.lazyrouter&&t.lazyrouter();let r=e?t._router:t;if(!r){XA.DEBUG_BUILD&&ti.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),XA.DEBUG_BUILD&&ti.logger.debug("Routing instrumentation is currently only supported in Express 4.");return}let o=Object.getPrototypeOf(r),s=o.process_params;o.process_params=function(i,n,u,c,d){u._reconstructedRoute||(u._reconstructedRoute="");let{layerRoutePath:f,isRegex:g,isArray:y,numExtraSegments:S}=_5e(i);(f||g||y)&&(u._hasParameters=!0);let T;f?T=f:T=E$(u.originalUrl,u._reconstructedRoute,i.path)||"";let C=T.split("/").filter(M=>M.length>0&&(g||y||!M.includes("*"))).join("/");C&&C.length>0&&(u._reconstructedRoute+=`/${C}${g?"/":""}`);let R=ti.getNumberOfUrlSegments(ti.stripUrlQueryAndFragment(u.originalUrl||""))+S,P=ti.getNumberOfUrlSegments(u._reconstructedRoute);if(R===P){u._hasParameters||u._reconstructedRoute!==u.originalUrl&&(u._reconstructedRoute=u.originalUrl?ti.stripUrlQueryAndFragment(u.originalUrl):u.originalUrl);let M=c.__sentry_transaction,x=M&&z2.spanToJSON(M).data||{};if(M&&x[z2.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]!=="custom"){let U=u._reconstructedRoute||"/",[D,W]=ti.extractPathForTransaction(u,{path:!0,method:!0,customRoute:U});M.updateName(D),M.setAttribute(z2.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,W)}}return s.call(this,i,n,u,c,d)}}var b$=(t,e,r)=>{if(!t||!e||!r||Object.keys(r).length===0||!Os([r,"access",c=>c[0],"optionalAccess",c=>c.offset]))return;let o=r.sort((c,d)=>c.offset-d.offset),a=new RegExp(e,`${e.flags}d`).exec(t);if(!a||!a.indices)return;let[,...i]=a.indices;if(i.length!==o.length)return;let n=t,u=0;return i.forEach((c,d)=>{if(c){let[f,g]=c,y=n.substring(0,f-u),S=`:${o[d].name}`,T=n.substring(g-u);n=y+S+T,u=u+(g-f-S.length)}}),n};function _5e(t){let e=Os([t,"access",i=>i.route,"optionalAccess",i=>i.path]),r=ti.isRegExp(e),o=Array.isArray(e);if(!e){let[i]=ti.GLOBAL_OBJ.process.versions.node.split(".").map(Number);i>=16&&(e=b$(t.path,t.regexp,t.keys))}if(!e)return{isRegex:r,isArray:o,numExtraSegments:0};let s=o?Math.max(S5e(e)-ti.getNumberOfUrlSegments(t.path||""),0):0;return{layerRoutePath:b5e(o,e),isRegex:r,isArray:o,numExtraSegments:s}}function S5e(t){return t.reduce((e,r)=>e+ti.getNumberOfUrlSegments(r.toString()),0)}function b5e(t,e){return t?e.map(r=>r.toString()).join(","):e&&e.toString()}function E$(t,e,r){let o=ti.stripUrlQueryAndFragment(t||""),s=Os([o,"optionalAccess",u=>u.split,"call",u=>u("/"),"access",u=>u.filter,"call",u=>u(c=>!!c)]),a=0,i=Os([e,"optionalAccess",u=>u.split,"call",u=>u("/"),"access",u=>u.filter,"call",u=>u(c=>!!c),"access",u=>u.length])||0;return Os([r,"optionalAccess",u=>u.split,"call",u=>u("/"),"access",u=>u.filter,"call",u=>u(c=>Os([s,"optionalAccess",d=>d[i+a]])===c?(a+=1,!0):!1),"access",u=>u.join,"call",u=>u("/")])}G_.Express=zA;G_.extractOriginalRoute=b$;G_.preventDuplicateSegments=E$});var T$=h($2=>{l();var{_optionalChain:gh}=z();Object.defineProperty($2,"__esModule",{value:!0});var mh=z(),J2=ei(),E5e=rc(),JA=class t{static __initStatic(){this.id="Postgres"}constructor(e={}){this.name=t.id,this._usePgNative=!!e.usePgNative,this._module=e.module}loadDependency(){return this._module=this._module||mh.loadModule("pg")}setupOnce(e,r){if(E5e.shouldDisableAutoInstrumentation(r)){J2.DEBUG_BUILD&&mh.logger.log("Postgres Integration is skipped because of instrumenter configuration.");return}let o=this.loadDependency();if(!o){J2.DEBUG_BUILD&&mh.logger.error("Postgres Integration was unable to require `pg` package.");return}let s=this._usePgNative?gh([o,"access",a=>a.native,"optionalAccess",a=>a.Client]):o.Client;if(!s){J2.DEBUG_BUILD&&mh.logger.error("Postgres Integration was unable to access 'pg-native' bindings.");return}mh.fill(s.prototype,"query",function(a){return function(i,n,u){let d=r().getScope().getSpan(),f={"db.system":"postgresql"};try{this.database&&(f["db.name"]=this.database),this.host&&(f["server.address"]=this.host),this.port&&(f["server.port"]=this.port),this.user&&(f["db.user"]=this.user)}catch{}let g=gh([d,"optionalAccess",S=>S.startChild,"call",S=>S({description:typeof i=="string"?i:i.text,op:"db",origin:"auto.db.postgres",data:f})]);if(typeof u=="function")return a.call(this,i,n,function(S,T){gh([g,"optionalAccess",C=>C.end,"call",C=>C()]),u(S,T)});if(typeof n=="function")return a.call(this,i,function(S,T){gh([g,"optionalAccess",C=>C.end,"call",C=>C()]),n(S,T)});let y=typeof n<"u"?a.call(this,i,n):a.call(this,i);return mh.isThenable(y)?y.then(S=>(gh([g,"optionalAccess",T=>T.end,"call",T=>T()]),S)):(gh([g,"optionalAccess",S=>S.end,"call",S=>S()]),y)}})}};JA.__initStatic();$2.Postgres=JA});var A$=h(eU=>{l();var{_optionalChain:v5e}=z();Object.defineProperty(eU,"__esModule",{value:!0});var V_=z(),Q2=ei(),T5e=rc(),$A=class t{static __initStatic(){this.id="Mysql"}constructor(){this.name=t.id}loadDependency(){return this._module=this._module||V_.loadModule("mysql/lib/Connection.js")}setupOnce(e,r){if(T5e.shouldDisableAutoInstrumentation(r)){Q2.DEBUG_BUILD&&V_.logger.log("Mysql Integration is skipped because of instrumenter configuration.");return}let o=this.loadDependency();if(!o){Q2.DEBUG_BUILD&&V_.logger.error("Mysql Integration was unable to require `mysql` package.");return}let s;try{o.prototype.connect=new Proxy(o.prototype.connect,{apply(n,u,c){return s||(s=u.config),n.apply(u,c)}})}catch{Q2.DEBUG_BUILD&&V_.logger.error("Mysql Integration was unable to instrument `mysql` config.")}function a(){return s?{"server.address":s.host,"server.port":s.port,"db.user":s.user}:{}}function i(n){if(!n)return;let u=a();Object.keys(u).forEach(c=>{n.setAttribute(c,u[c])}),n.end()}V_.fill(o,"createQuery",function(n){return function(u,c,d){let g=r().getScope().getSpan(),y=v5e([g,"optionalAccess",T=>T.startChild,"call",T=>T({description:typeof u=="string"?u:u.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if(typeof d=="function")return n.call(this,u,c,function(T,C,R){i(y),d(T,C,R)});if(typeof c=="function")return n.call(this,u,function(T,C,R){i(y),c(T,C,R)});let S=n.call(this,u,c);return S.on("end",()=>{i(y)}),S}})}};$A.__initStatic();eU.Mysql=$A});var C$=h(tU=>{l();var{_optionalChain:nc}=z();Object.defineProperty(tU,"__esModule",{value:!0});var F_=z(),I$=ei(),A5e=rc(),I5e=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],C5e={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function R5e(t){return t&&typeof t=="object"&&t.once&&typeof t.once=="function"}var QA=class t{static __initStatic(){this.id="Mongo"}constructor(e={}){this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:I5e,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){let e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||F_.loadModule(e)}setupOnce(e,r){if(A5e.shouldDisableAutoInstrumentation(r)){I$.DEBUG_BUILD&&F_.logger.log("Mongo Integration is skipped because of instrumenter configuration.");return}let o=this.loadDependency();if(!o){let s=this._useMongoose?"mongoose":"mongodb";I$.DEBUG_BUILD&&F_.logger.error(`Mongo Integration was unable to require \`${s}\` package.`);return}this._instrumentOperations(o.Collection,this._operations,r)}_instrumentOperations(e,r,o){r.forEach(s=>this._patchOperation(e,s,o))}_patchOperation(e,r,o){if(!(r in e.prototype))return;let s=this._getSpanContextFromOperationArguments.bind(this);F_.fill(e.prototype,r,function(a){return function(...i){let n=i[i.length-1],u=o(),c=u.getScope(),d=u.getClient(),f=c.getSpan(),g=nc([d,"optionalAccess",S=>S.getOptions,"call",S=>S(),"access",S=>S.sendDefaultPii]);if(typeof n!="function"||r==="mapReduce"&&i.length===2){let S=nc([f,"optionalAccess",C=>C.startChild,"call",C=>C(s(this,r,i,g))]),T=a.call(this,...i);if(F_.isThenable(T))return T.then(C=>(nc([S,"optionalAccess",R=>R.end,"call",R=>R()]),C));if(R5e(T)){let C=T;try{C.once("close",()=>{nc([S,"optionalAccess",R=>R.end,"call",R=>R()])})}catch{nc([S,"optionalAccess",P=>P.end,"call",P=>P()])}return C}else return nc([S,"optionalAccess",C=>C.end,"call",C=>C()]),T}let y=nc([f,"optionalAccess",S=>S.startChild,"call",S=>S(s(this,r,i.slice(0,-1)))]);return a.call(this,...i.slice(0,-1),function(S,T){nc([y,"optionalAccess",C=>C.end,"call",C=>C()]),n(S,T)})}})}_getSpanContextFromOperationArguments(e,r,o,s=!1){let a={"db.system":"mongodb","db.name":e.dbName,"db.operation":r,"db.mongodb.collection":e.collectionName},i={op:"db",origin:"auto.db.mongo",description:r,data:a},n=C5e[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!n||!u||!s)return i;try{if(r==="mapReduce"){let[c,d]=o;a[n[0]]=typeof c=="string"?c:c.name||"<anonymous>",a[n[1]]=typeof d=="string"?d:d.name||"<anonymous>"}else for(let c=0;c<n.length;c++)a[`db.mongodb.${n[c]}`]=JSON.stringify(o[c])}catch{}return i}};QA.__initStatic();tU.Mongo=QA});var O$=h(nU=>{l();Object.defineProperty(nU,"__esModule",{value:!0});var rU=Ue(),R$=z(),O5e=ei(),N5e=rc();function w5e(t){return!!t&&!!t.$use}var eI=class t{static __initStatic(){this.id="Prisma"}constructor(e={}){if(this.name=t.id,w5e(e.client)&&!e.client._sentryInstrumented){R$.addNonEnumerableProperty(e.client,"_sentryInstrumented",!0);let r={};try{let o=e.client._engineConfig;if(o){let{activeProvider:s,clientVersion:a}=o;s&&(r["db.system"]=s),a&&(r["db.prisma.version"]=a)}}catch{}e.client.$use((o,s)=>{if(N5e.shouldDisableAutoInstrumentation(rU.getCurrentHub))return s(o);let a=o.action,i=o.model;return rU.startSpan({name:i?`${i} ${a}`:a,onlyIfParent:!0,op:"db.prisma",attributes:{[rU.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.db.prisma"},data:{...r,"db.operation":a}},()=>s(o))})}else O5e.DEBUG_BUILD&&R$.logger.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",e.client)}setupOnce(){}};eI.__initStatic();nU.Prisma=eI});var w$=h(iU=>{l();var{_optionalChain:yh}=z();Object.defineProperty(iU,"__esModule",{value:!0});var H_=z(),N$=ei(),P5e=rc(),tI=class t{static __initStatic(){this.id="GraphQL"}constructor(){this.name=t.id}loadDependency(){return this._module=this._module||H_.loadModule("graphql/execution/execute.js")}setupOnce(e,r){if(P5e.shouldDisableAutoInstrumentation(r)){N$.DEBUG_BUILD&&H_.logger.log("GraphQL Integration is skipped because of instrumenter configuration.");return}let o=this.loadDependency();if(!o){N$.DEBUG_BUILD&&H_.logger.error("GraphQL Integration was unable to require graphql/execution package.");return}H_.fill(o,"execute",function(s){return function(...a){let i=r().getScope(),n=i.getSpan(),u=yh([n,"optionalAccess",d=>d.startChild,"call",d=>d({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);yh([i,"optionalAccess",d=>d.setSpan,"call",d=>d(u)]);let c=s.call(this,...a);return H_.isThenable(c)?c.then(d=>(yh([u,"optionalAccess",f=>f.end,"call",f=>f()]),yh([i,"optionalAccess",f=>f.setSpan,"call",f=>f(n)]),d)):(yh([u,"optionalAccess",d=>d.end,"call",d=>d()]),yh([i,"optionalAccess",d=>d.setSpan,"call",d=>d(n)]),c)}})}};tI.__initStatic();iU.GraphQL=tI});var M$=h(sU=>{l();var{_optionalChain:oU}=z();Object.defineProperty(sU,"__esModule",{value:!0});var an=z(),rI=ei(),M5e=rc(),nI=class t{static __initStatic(){this.id="Apollo"}constructor(e={useNestjs:!1}){this.name=t.id,this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||an.loadModule("@nestjs/graphql"):this._module=this._module||an.loadModule("apollo-server-core"),this._module}setupOnce(e,r){if(M5e.shouldDisableAutoInstrumentation(r)){rI.DEBUG_BUILD&&an.logger.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){let o=this.loadDependency();if(!o){rI.DEBUG_BUILD&&an.logger.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}an.fill(o.GraphQLFactory.prototype,"mergeWithSchema",function(s){return function(...a){return an.fill(this.resolversExplorerService,"explore",function(i){return function(){let n=an.arrayify(i.call(this));return P$(n,r)}}),s.call(this,...a)}})}else{let o=this.loadDependency();if(!o){rI.DEBUG_BUILD&&an.logger.error("Apollo Integration was unable to require apollo-server-core package.");return}an.fill(o.ApolloServerBase.prototype,"constructSchema",function(s){return function(){if(!this.config.resolvers)return rI.DEBUG_BUILD&&(this.config.schema?(an.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),an.logger.warn()):this.config.modules&&an.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),an.logger.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),s.call(this);let a=an.arrayify(this.config.resolvers);return this.config.resolvers=P$(a,r),s.call(this)}})}}};nI.__initStatic();function P$(t,e){return t.map(r=>(Object.keys(r).forEach(o=>{Object.keys(r[o]).forEach(s=>{typeof r[o][s]=="function"&&x5e(r,o,s,e)})}),r))}function x5e(t,e,r,o){an.fill(t[e],r,function(s){return function(...a){let n=o().getScope().getSpan(),u=oU([n,"optionalAccess",d=>d.startChild,"call",d=>d({description:`${e}.${r}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),c=s.call(this,...a);return an.isThenable(c)?c.then(d=>(oU([u,"optionalAccess",f=>f.end,"call",f=>f()]),d)):(oU([u,"optionalAccess",d=>d.end,"call",d=>d()]),c)}})}sU.Apollo=nI});var x$=h((aU,ic)=>{l();Object.defineProperty(aU,"__esModule",{value:!0});var ad=z(),B5e=[()=>{let t=ad.dynamicRequire(ic,"./apollo");return new t.Apollo},()=>{let t=ad.dynamicRequire(ic,"./apollo");return new t.Apollo({useNestjs:!0})},()=>{let t=ad.dynamicRequire(ic,"./graphql");return new t.GraphQL},()=>{let t=ad.dynamicRequire(ic,"./mongo");return new t.Mongo},()=>{let t=ad.dynamicRequire(ic,"./mongo");return new t.Mongo({mongoose:!0})},()=>{let t=ad.dynamicRequire(ic,"./mysql");return new t.Mysql},()=>{let t=ad.dynamicRequire(ic,"./postgres");return new t.Postgres}];aU.lazyLoadedNodePerformanceMonitoringIntegrations=B5e});var Ns=h(uU=>{l();Object.defineProperty(uU,"__esModule",{value:!0});var D5e=z(),L5e=D5e.GLOBAL_OBJ;uU.WINDOW=L5e});var lU=h(cU=>{l();Object.defineProperty(cU,"__esModule",{value:!0});var B$=Ue(),D$=z(),L$=ei(),iI=Ns();function U5e(){iI.WINDOW&&iI.WINDOW.document?iI.WINDOW.document.addEventListener("visibilitychange",()=>{let t=B$.getActiveTransaction();if(iI.WINDOW.document.hidden&&t){let e="cancelled",{op:r,status:o}=B$.spanToJSON(t);L$.DEBUG_BUILD&&D$.logger.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r}`),o||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):L$.DEBUG_BUILD&&D$.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}cU.registerBackgroundTabDetection=U5e});var k_=h(dU=>{l();Object.defineProperty(dU,"__esModule",{value:!0});var G5e=(t,e,r)=>{let o,s;return a=>{e.value>=0&&(a||r)&&(s=e.value-(o||0),(s||o===void 0)&&(o=e.value,e.delta=s,t(e)))}};dU.bindReporter=G5e});var U$=h(fU=>{l();Object.defineProperty(fU,"__esModule",{value:!0});var V5e=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;fU.generateUniqueID=V5e});var hU=h(pU=>{l();Object.defineProperty(pU,"__esModule",{value:!0});var W_=Ns(),F5e=()=>{let t=W_.WINDOW.performance.timing,e=W_.WINDOW.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let o in t)o!=="navigationStart"&&o!=="toJSON"&&(r[o]=Math.max(t[o]-t.navigationStart,0));return r},H5e=()=>W_.WINDOW.__WEB_VITALS_POLYFILL__?W_.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||F5e()):W_.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];pU.getNavigationEntry=H5e});var mU=h(gU=>{l();Object.defineProperty(gU,"__esModule",{value:!0});var k5e=hU(),W5e=()=>{let t=k5e.getNavigationEntry();return t&&t.activationStart||0};gU.getActivationStart=W5e});var Z_=h(yU=>{l();Object.defineProperty(yU,"__esModule",{value:!0});var Z5e=Ns(),q5e=U$(),Y5e=mU(),j5e=hU(),K5e=(t,e)=>{let r=j5e.getNavigationEntry(),o="navigate";return r&&(Z5e.WINDOW.document.prerendering||Y5e.getActivationStart()>0?o="prerender":o=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:q5e.generateUniqueID(),navigationType:o}};yU.initMetric=K5e});var ud=h(_U=>{l();Object.defineProperty(_U,"__esModule",{value:!0});var X5e=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let o=new PerformanceObserver(s=>{e(s.getEntries())});return o.observe(Object.assign({type:t,buffered:!0},r||{})),o}}catch{}};_U.observe=X5e});var _h=h(SU=>{l();Object.defineProperty(SU,"__esModule",{value:!0});var z5e=Ns(),J5e=(t,e)=>{let r=o=>{(o.type==="pagehide"||z5e.WINDOW.document.visibilityState==="hidden")&&(t(o),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};SU.onHidden=J5e});var G$=h(bU=>{l();Object.defineProperty(bU,"__esModule",{value:!0});var $5e=k_(),Q5e=Z_(),eqe=ud(),tqe=_h(),rqe=t=>{let e=Q5e.initMetric("CLS",0),r,o=0,s=[],a=n=>{n.forEach(u=>{if(!u.hadRecentInput){let c=s[0],d=s[s.length-1];o&&s.length!==0&&u.startTime-d.startTime<1e3&&u.startTime-c.startTime<5e3?(o+=u.value,s.push(u)):(o=u.value,s=[u]),o>e.value&&(e.value=o,e.entries=s,r&&r())}})},i=eqe.observe("layout-shift",a);if(i){r=$5e.bindReporter(t,e);let n=()=>{a(i.takeRecords()),r(!0)};return tqe.onHidden(n),n}};bU.onCLS=rqe});var sI=h(EU=>{l();Object.defineProperty(EU,"__esModule",{value:!0});var V$=Ns(),nqe=_h(),oI=-1,iqe=()=>V$.WINDOW.document.visibilityState==="hidden"&&!V$.WINDOW.document.prerendering?0:1/0,oqe=()=>{nqe.onHidden(({timeStamp:t})=>{oI=t},!0)},sqe=()=>(oI<0&&(oI=iqe(),oqe()),{get firstHiddenTime(){return oI}});EU.getVisibilityWatcher=sqe});var F$=h(vU=>{l();Object.defineProperty(vU,"__esModule",{value:!0});var aqe=k_(),uqe=sI(),cqe=Z_(),lqe=ud(),dqe=_h(),fqe=t=>{let e=uqe.getVisibilityWatcher(),r=cqe.initMetric("FID"),o,s=n=>{n.startTime<e.firstHiddenTime&&(r.value=n.processingStart-n.startTime,r.entries.push(n),o(!0))},a=n=>{n.forEach(s)},i=lqe.observe("first-input",a);o=aqe.bindReporter(t,r),i&&dqe.onHidden(()=>{a(i.takeRecords()),i.disconnect()},!0)};vU.onFID=fqe});var k$=h(uI=>{l();Object.defineProperty(uI,"__esModule",{value:!0});var pqe=ud(),H$=0,TU=1/0,aI=0,hqe=t=>{t.forEach(e=>{e.interactionId&&(TU=Math.min(TU,e.interactionId),aI=Math.max(aI,e.interactionId),H$=aI?(aI-TU)/7+1:0)})},AU,gqe=()=>AU?H$:performance.interactionCount||0,mqe=()=>{"interactionCount"in performance||AU||(AU=pqe.observe("event",hqe,{type:"event",buffered:!0,durationThreshold:0}))};uI.getInteractionCount=gqe;uI.initInteractionCountPolyfill=mqe});var j$=h(CU=>{l();Object.defineProperty(CU,"__esModule",{value:!0});var yqe=k_(),_qe=Z_(),Sqe=ud(),bqe=_h(),q$=k$(),Y$=()=>q$.getInteractionCount(),W$=10,Wa=[],IU={},Z$=t=>{let e=Wa[Wa.length-1],r=IU[t.interactionId];if(r||Wa.length<W$||t.duration>e.latency){if(r)r.entries.push(t),r.latency=Math.max(r.latency,t.duration);else{let o={id:t.interactionId,latency:t.duration,entries:[t]};IU[o.id]=o,Wa.push(o)}Wa.sort((o,s)=>s.latency-o.latency),Wa.splice(W$).forEach(o=>{delete IU[o.id]})}},Eqe=()=>{let t=Math.min(Wa.length-1,Math.floor(Y$()/50));return Wa[t]},vqe=(t,e)=>{e=e||{},q$.initInteractionCountPolyfill();let r=_qe.initMetric("INP"),o,s=i=>{i.forEach(u=>{u.interactionId&&Z$(u),u.entryType==="first-input"&&!Wa.some(d=>d.entries.some(f=>u.duration===f.duration&&u.startTime===f.startTime))&&Z$(u)});let n=Eqe();n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,o())},a=Sqe.observe("event",s,{durationThreshold:e.durationThreshold||40});o=yqe.bindReporter(t,r,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),bqe.onHidden(()=>{s(a.takeRecords()),r.value<0&&Y$()>0&&(r.value=0,r.entries=[]),o(!0)}))};CU.onINP=vqe});var X$=h(RU=>{l();Object.defineProperty(RU,"__esModule",{value:!0});var Tqe=k_(),Aqe=mU(),Iqe=sI(),Cqe=Z_(),Rqe=ud(),Oqe=_h(),K$={},Nqe=t=>{let e=Iqe.getVisibilityWatcher(),r=Cqe.initMetric("LCP"),o,s=i=>{let n=i[i.length-1];if(n){let u=Math.max(n.startTime-Aqe.getActivationStart(),0);u<e.firstHiddenTime&&(r.value=u,r.entries=[n],o())}},a=Rqe.observe("largest-contentful-paint",s);if(a){o=Tqe.bindReporter(t,r);let i=()=>{K$[r.id]||(s(a.takeRecords()),a.disconnect(),K$[r.id]=!0,o(!0))};return["keydown","click"].forEach(n=>{addEventListener(n,i,{once:!0,capture:!0})}),Oqe.onHidden(i,!0),i}};RU.onLCP=Nqe});var j_=h(cd=>{l();Object.defineProperty(cd,"__esModule",{value:!0});var z$=z(),wqe=ei(),Pqe=G$(),Mqe=F$(),xqe=j$(),Bqe=X$(),Dqe=ud(),q_={},cI={},J$,$$,Q$,eQ;function Lqe(t,e=!1){return lI("cls",t,Hqe,J$,e)}function Uqe(t,e=!1){return lI("lcp",t,Wqe,Q$,e)}function Gqe(t){return lI("fid",t,kqe,$$)}function Vqe(t){return lI("inp",t,Zqe,eQ)}function Fqe(t,e){return tQ(t,e),cI[t]||(qqe(t),cI[t]=!0),rQ(t,e)}function Y_(t,e){let r=q_[t];if(!(!r||!r.length))for(let o of r)try{o(e)}catch(s){wqe.DEBUG_BUILD&&z$.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${z$.getFunctionName(o)}
Error:`,s)}}function Hqe(){return Pqe.onCLS(t=>{Y_("cls",{metric:t}),J$=t})}function kqe(){return Mqe.onFID(t=>{Y_("fid",{metric:t}),$$=t})}function Wqe(){return Bqe.onLCP(t=>{Y_("lcp",{metric:t}),Q$=t})}function Zqe(){return xqe.onINP(t=>{Y_("inp",{metric:t}),eQ=t})}function lI(t,e,r,o,s=!1){tQ(t,e);let a;return cI[t]||(a=r(),cI[t]=!0),o&&e({metric:o}),rQ(t,e,s?a:void 0)}function qqe(t){let e={};t==="event"&&(e.durationThreshold=0),Dqe.observe(t,r=>{Y_(t,{entries:r})},e)}function tQ(t,e){q_[t]=q_[t]||[],q_[t].push(e)}function rQ(t,e,r){return()=>{r&&r();let o=q_[t];if(!o)return;let s=o.indexOf(e);s!==-1&&o.splice(s,1)}}cd.addClsInstrumentationHandler=Lqe;cd.addFidInstrumentationHandler=Gqe;cd.addInpInstrumentationHandler=Vqe;cd.addLcpInstrumentationHandler=Uqe;cd.addPerformanceInstrumentationHandler=Fqe});var nQ=h(dI=>{l();Object.defineProperty(dI,"__esModule",{value:!0});function Yqe(t){return typeof t=="number"&&isFinite(t)}function jqe(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}dI._startChild=jqe;dI.isMeasurementValue=Yqe});var wU=h(Ps=>{l();Object.defineProperty(Ps,"__esModule",{value:!0});var Za=Ue(),Mt=z(),eo=ei(),Sh=j_(),qa=Ns(),Kqe=sI(),Ya=nQ(),Xqe=2147483647;function lr(t){return t/1e3}function NU(){return qa.WINDOW&&qa.WINDOW.addEventListener&&qa.WINDOW.performance}var iQ=0,cr={},ws,K_;function zqe(){let t=NU();if(t&&Mt.browserPerformanceTimeOrigin){t.mark&&qa.WINDOW.performance.mark("sentry-tracing-init");let e=rYe(),r=eYe(),o=tYe();return()=>{e(),r(),o()}}return()=>{}}function Jqe(){Sh.addPerformanceInstrumentationHandler("longtask",({entries:t})=>{for(let e of t){let r=Za.getActiveTransaction();if(!r)return;let o=lr(Mt.browserPerformanceTimeOrigin+e.startTime),s=lr(e.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:o,endTimestamp:o+s})}})}function $qe(){Sh.addPerformanceInstrumentationHandler("event",({entries:t})=>{for(let e of t){let r=Za.getActiveTransaction();if(!r)return;if(e.name==="click"){let o=lr(Mt.browserPerformanceTimeOrigin+e.startTime),s=lr(e.duration),a={description:Mt.htmlTreeAsString(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:o,endTimestamp:o+s},i=Mt.getComponentName(e.target);i&&(a.attributes={"ui.component_name":i}),r.startChild(a)}}})}function Qqe(t){if(NU()&&Mt.browserPerformanceTimeOrigin){let r=nYe(t);return()=>{r()}}return()=>{}}function eYe(){return Sh.addClsInstrumentationHandler(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding CLS"),cr.cls={value:t.value,unit:""},K_=e)},!0)}function tYe(){return Sh.addLcpInstrumentationHandler(({metric:t})=>{let e=t.entries[t.entries.length-1];e&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding LCP"),cr.lcp={value:t.value,unit:"millisecond"},ws=e)},!0)}function rYe(){return Sh.addFidInstrumentationHandler(({metric:t})=>{let e=t.entries[t.entries.length-1];if(!e)return;let r=lr(Mt.browserPerformanceTimeOrigin),o=lr(e.startTime);eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding FID"),cr.fid={value:t.value,unit:"millisecond"},cr["mark.fid"]={value:r+o,unit:"second"}})}function nYe(t){return Sh.addInpInstrumentationHandler(({metric:e})=>{let r=e.entries.find(C=>C.name==="click"),o=Za.getClient();if(!r||!o)return;let s=o.getOptions(),a=lr(Mt.browserPerformanceTimeOrigin+r.startTime),i=lr(e.value),{routeName:n,parentContext:u,activeTransaction:c,user:d,replayId:f}=r.interactionId!==void 0?t[r.interactionId]:{routeName:void 0,parentContext:void 0,activeTransaction:void 0,user:void 0,replayId:void 0},g=d!==void 0?d.email||d.id||d.ip_address:void 0,y=c!==void 0?c.getProfileId():void 0,S=new Za.Span({startTimestamp:a,endTimestamp:a+i,op:"ui.interaction.click",name:Mt.htmlTreeAsString(r.target),attributes:{release:s.release,environment:s.environment,transaction:n,...g!==void 0&&g!==""?{user:g}:{},...y!==void 0?{profile_id:y}:{},...f!==void 0?{replay_id:f}:{}},exclusiveTime:e.value,measurements:{inp:{value:e.value,unit:"millisecond"}}}),T=cYe(u,s);if(T&&Math.random()<T){let C=S?Za.createSpanEnvelope([S]):void 0,R=o&&o.getTransport();R&&C&&R.send(C).then(null,P=>{eo.DEBUG_BUILD&&Mt.logger.error("Error while sending interaction:",P)});return}})}function iYe(t){let e=NU();if(!e||!qa.WINDOW.performance.getEntries||!Mt.browserPerformanceTimeOrigin)return;eo.DEBUG_BUILD&&Mt.logger.log("[Tracing] Adding & adjusting spans using Performance API");let r=lr(Mt.browserPerformanceTimeOrigin),o=e.getEntries(),s,a,{op:i,start_timestamp:n}=Za.spanToJSON(t);if(o.slice(iQ).forEach(u=>{let c=lr(u.startTime),d=lr(u.duration);if(!(t.op==="navigation"&&n&&r+c<n))switch(u.entryType){case"navigation":{oYe(t,u,r),s=r+lr(u.responseStart),a=r+lr(u.requestStart);break}case"mark":case"paint":case"measure":{oQ(t,u,c,d,r);let f=Kqe.getVisibilityWatcher(),g=u.startTime<f.firstHiddenTime;u.name==="first-paint"&&g&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding FP"),cr.fp={value:u.startTime,unit:"millisecond"}),u.name==="first-contentful-paint"&&g&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding FCP"),cr.fcp={value:u.startTime,unit:"millisecond"});break}case"resource":{sQ(t,u,u.name,c,d,r);break}}}),iQ=Math.max(o.length-1,0),aYe(t),i==="pageload"){aQ(cr,s,a,n),["fcp","fp","lcp"].forEach(c=>{if(!cr[c]||!n||r>=n)return;let d=cr[c].value,f=r+lr(d),g=Math.abs((f-n)*1e3),y=g-d;eo.DEBUG_BUILD&&Mt.logger.log(`[Measurements] Normalized ${c} from ${d} to ${g} (${y})`),cr[c].value=g});let u=cr["mark.fid"];u&&cr.fid&&(Ya._startChild(t,{description:"first input delay",endTimestamp:u.value+lr(cr.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:u.value}),delete cr["mark.fid"]),"fcp"in cr||delete cr.cls,Object.keys(cr).forEach(c=>{Za.setMeasurement(c,cr[c].value,cr[c].unit)}),uYe(t)}ws=void 0,K_=void 0,cr={}}function oQ(t,e,r,o,s){let a=s+r,i=a+o;return Ya._startChild(t,{description:e.name,endTimestamp:i,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:a}),a}function oYe(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(o=>{fI(t,e,o,r)}),fI(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),fI(t,e,"fetch",r,"cache","domainLookupStart"),fI(t,e,"domainLookup",r,"DNS"),sYe(t,e,r)}function fI(t,e,r,o,s,a){let i=a?e[a]:e[`${r}End`],n=e[`${r}Start`];!n||!i||Ya._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:s||r,startTimestamp:o+lr(n),endTimestamp:o+lr(i)})}function sYe(t,e,r){e.responseEnd&&(Ya._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+lr(e.requestStart),endTimestamp:r+lr(e.responseEnd)}),Ya._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+lr(e.responseStart),endTimestamp:r+lr(e.responseEnd)}))}function sQ(t,e,r,o,s,a){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let i=Mt.parseUrl(r),n={};OU(n,e,"transferSize","http.response_transfer_size"),OU(n,e,"encodedBodySize","http.response_content_length"),OU(n,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(n["resource.render_blocking_status"]=e.renderBlockingStatus),i.protocol&&(n["url.scheme"]=i.protocol.split(":").pop()),i.host&&(n["server.address"]=i.host),n["url.same_origin"]=r.includes(qa.WINDOW.location.origin);let u=a+o,c=u+s;Ya._startChild(t,{description:r.replace(qa.WINDOW.location.origin,""),endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:u,data:n})}function aYe(t){let e=qa.WINDOW.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Ya.isMeasurementValue(r.rtt)&&(cr["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Ya.isMeasurementValue(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Ya.isMeasurementValue(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function uYe(t){ws&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding LCP Data"),ws.element&&t.setTag("lcp.element",Mt.htmlTreeAsString(ws.element)),ws.id&&t.setTag("lcp.id",ws.id),ws.url&&t.setTag("lcp.url",ws.url.trim().slice(0,200)),t.setTag("lcp.size",ws.size)),K_&&K_.sources&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding CLS Data"),K_.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,Mt.htmlTreeAsString(e.node))))}function OU(t,e,r,o){let s=e[r];s!=null&&s<Xqe&&(t[o]=s)}function aQ(t,e,r,o){typeof e=="number"&&o&&(eo.DEBUG_BUILD&&Mt.logger.log("[Measurements] Adding TTFB"),t.ttfb={value:Math.max(e-o,0)*1e3,unit:"millisecond"},typeof r=="number"&&r<=e&&(t["ttfb.requestTime"]={value:(e-r)*1e3,unit:"millisecond"}))}function cYe(t,e){if(!Za.hasTracingEnabled(e))return!1;let r;return t!==void 0&&typeof e.tracesSampler=="function"?r=e.tracesSampler({transactionContext:t,name:t.name,parentSampled:t.parentSampled,attributes:{...t.data,...t.attributes},location:qa.WINDOW.location}):t!==void 0&&t.sampled!==void 0?r=t.sampled:typeof e.tracesSampleRate<"u"?r=e.tracesSampleRate:r=1,Za.isValidSampleRate(r)?r:(eo.DEBUG_BUILD&&Mt.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),!1)}Ps._addMeasureSpans=oQ;Ps._addResourceSpans=sQ;Ps._addTtfbToMeasurements=aQ;Ps.addPerformanceEntries=iYe;Ps.startTrackingINP=Qqe;Ps.startTrackingInteractions=$qe;Ps.startTrackingLongTasks=Jqe;Ps.startTrackingWebVitals=zqe});var PU=h(pI=>{l();Object.defineProperty(pI,"__esModule",{value:!0});var Ms=Ue(),bh=z();function lYe(t,e,r,o,s="auto.http.browser"){if(!Ms.hasTracingEnabled()||!t.fetchData)return;let a=e(t.fetchData.url);if(t.endTimestamp&&a){let f=t.fetchData.__span;if(!f)return;let g=o[f];if(g){if(t.response){Ms.setHttpStatus(g,t.response.status);let y=t.response&&t.response.headers&&t.response.headers.get("content-length");if(y){let S=parseInt(y);S>0&&g.setAttribute("http.response_content_length",S)}}else t.error&&g.setStatus("internal_error");g.end(),delete o[f]}return}let i=Ms.getCurrentScope(),n=Ms.getClient(),{method:u,url:c}=t.fetchData,d=a?Ms.startInactiveSpan({name:`${u} ${c}`,onlyIfParent:!0,attributes:{url:c,type:"fetch","http.method":u,[Ms.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:s},op:"http.client"}):void 0;if(d&&(t.fetchData.__span=d.spanContext().spanId,o[d.spanContext().spanId]=d),r(t.fetchData.url)&&n){let f=t.args[0];t.args[1]=t.args[1]||{};let g=t.args[1];g.headers=uQ(f,n,i,g,d)}return d}function uQ(t,e,r,o,s){let a=s||r.getSpan(),i=Ms.getIsolationScope(),{traceId:n,spanId:u,sampled:c,dsc:d}={...i.getPropagationContext(),...r.getPropagationContext()},f=a?Ms.spanToTraceHeader(a):bh.generateSentryTraceHeader(n,u,c),g=bh.dynamicSamplingContextToSentryBaggageHeader(d||(a?Ms.getDynamicSamplingContextFromSpan(a):Ms.getDynamicSamplingContextFromClient(n,e,r))),y=o.headers||(typeof Request<"u"&&bh.isInstanceOf(t,Request)?t.headers:void 0);if(y)if(typeof Headers<"u"&&bh.isInstanceOf(y,Headers)){let S=new Headers(y);return S.append("sentry-trace",f),g&&S.append(bh.BAGGAGE_HEADER_NAME,g),S}else if(Array.isArray(y)){let S=[...y,["sentry-trace",f]];return g&&S.push([bh.BAGGAGE_HEADER_NAME,g]),S}else{let S="baggage"in y?y.baggage:void 0,T=[];return Array.isArray(S)?T.push(...S):S&&T.push(S),g&&T.push(g),{...y,"sentry-trace":f,baggage:T.length>0?T.join(","):void 0}}else return{"sentry-trace":f,baggage:g}}pI.addTracingHeadersToFetchRequest=uQ;pI.instrumentFetchRequest=lYe});var gI=h(oc=>{l();Object.defineProperty(oc,"__esModule",{value:!0});var Wo=Ue(),ja=z(),dYe=PU(),fYe=j_(),hI=["localhost",/^\/(?!\/)/],MU={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:hI,tracePropagationTargets:hI};function pYe(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:o,tracingOrigins:s,shouldCreateSpanForRequest:a,enableHTTPTimings:i}={traceFetch:MU.traceFetch,traceXHR:MU.traceXHR,...t},n=typeof a=="function"?a:d=>!0,u=d=>dQ(d,o||s),c={};e&&ja.addFetchInstrumentationHandler(d=>{let f=dYe.instrumentFetchRequest(d,n,u,c);i&&f&&cQ(f)}),r&&ja.addXhrInstrumentationHandler(d=>{let f=fQ(d,n,u,c);i&&f&&cQ(f)})}function hYe(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function cQ(t){let{url:e}=Wo.spanToJSON(t).data||{};if(!e||typeof e!="string")return;let r=fYe.addPerformanceInstrumentationHandler("resource",({entries:o})=>{o.forEach(s=>{hYe(s)&&s.name.endsWith(e)&&(gYe(s).forEach(i=>t.setAttribute(...i)),setTimeout(r))})})}function lQ(t){let e="unknown",r="unknown",o="";for(let s of t){if(s==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(s))){e=o==="h"?"http":o,r=t.split(o)[1];break}o+=s}return o===t&&(e=o),{name:e,version:r}}function xs(t=0){return((ja.browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function gYe(t){let{name:e,version:r}=lQ(t.nextHopProtocol),o=[];return o.push(["network.protocol.version",r],["network.protocol.name",e]),ja.browserPerformanceTimeOrigin?[...o,["http.request.redirect_start",xs(t.redirectStart)],["http.request.fetch_start",xs(t.fetchStart)],["http.request.domain_lookup_start",xs(t.domainLookupStart)],["http.request.domain_lookup_end",xs(t.domainLookupEnd)],["http.request.connect_start",xs(t.connectStart)],["http.request.secure_connection_start",xs(t.secureConnectionStart)],["http.request.connection_end",xs(t.connectEnd)],["http.request.request_start",xs(t.requestStart)],["http.request.response_start",xs(t.responseStart)],["http.request.response_end",xs(t.responseEnd)]]:o}function dQ(t,e){return ja.stringMatchesSomePattern(t,e||hI)}function fQ(t,e,r,o){let s=t.xhr,a=s&&s[ja.SENTRY_XHR_DATA_KEY];if(!Wo.hasTracingEnabled()||!s||s.__sentry_own_request__||!a)return;let i=e(a.url);if(t.endTimestamp&&i){let f=s.__sentry_xhr_span_id__;if(!f)return;let g=o[f];g&&a.status_code!==void 0&&(Wo.setHttpStatus(g,a.status_code),g.end(),delete o[f]);return}let n=Wo.getCurrentScope(),u=Wo.getIsolationScope(),c=i?Wo.startInactiveSpan({name:`${a.method} ${a.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":a.method,url:a.url,[Wo.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser"},op:"http.client"}):void 0;c&&(s.__sentry_xhr_span_id__=c.spanContext().spanId,o[s.__sentry_xhr_span_id__]=c);let d=Wo.getClient();if(s.setRequestHeader&&r(a.url)&&d){let{traceId:f,spanId:g,sampled:y,dsc:S}={...u.getPropagationContext(),...n.getPropagationContext()},T=c?Wo.spanToTraceHeader(c):ja.generateSentryTraceHeader(f,g,y),C=ja.dynamicSamplingContextToSentryBaggageHeader(S||(c?Wo.getDynamicSamplingContextFromSpan(c):Wo.getDynamicSamplingContextFromClient(f,d,n)));mYe(s,T,C)}return c}function mYe(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader(ja.BAGGAGE_HEADER_NAME,r)}catch{}}oc.DEFAULT_TRACE_PROPAGATION_TARGETS=hI;oc.defaultRequestInstrumentationOptions=MU;oc.extractNetworkProtocol=lQ;oc.instrumentOutgoingRequests=pYe;oc.shouldAttachHeaders=dQ;oc.xhrCallback=fQ});var hQ=h(xU=>{l();Object.defineProperty(xU,"__esModule",{value:!0});var X_=z(),pQ=ei(),z_=Ns();function yYe(t,e=!0,r=!0){if(!z_.WINDOW||!z_.WINDOW.location){pQ.DEBUG_BUILD&&X_.logger.warn("Could not initialize routing instrumentation due to invalid location");return}let o=z_.WINDOW.location.href,s;e&&(s=t({name:z_.WINDOW.location.pathname,startTimestamp:X_.browserPerformanceTimeOrigin?X_.browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&X_.addHistoryInstrumentationHandler(({to:a,from:i})=>{if(i===void 0&&o&&o.indexOf(a)!==-1){o=void 0;return}i!==a&&(o=void 0,s&&(pQ.DEBUG_BUILD&&X_.logger.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.end()),s=t({name:z_.WINDOW.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}xU.instrumentRoutingWithDefaults=yYe});var yQ=h($_=>{l();Object.defineProperty($_,"__esModule",{value:!0});var ac=Ue(),Ka=z(),sc=ei(),_Ye=lU(),mI=wU(),gQ=gI(),SYe=hQ(),J_=Ns(),mQ="BrowserTracing",bYe={...ac.TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:SYe.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...gQ.defaultRequestInstrumentationOptions},BU=class{constructor(e){this.name=mQ,this._hasSetTracePropagationTargets=!1,ac.addTracingExtensions(),sc.DEBUG_BUILD&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...bYe,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=mI.startTrackingWebVitals(),this.options.enableLongTask&&mI.startTrackingLongTasks(),this.options._experiments.enableInteractions&&mI.startTrackingInteractions()}setupOnce(e,r){this._getCurrentHub=r;let s=r().getClient(),a=s&&s.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:n,startTransactionOnPageLoad:u,markBackgroundTransactions:c,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:g,enableHTTPTimings:y,_experiments:S}=this.options,T=a&&a.tracePropagationTargets,C=T||this.options.tracePropagationTargets;sc.DEBUG_BUILD&&this._hasSetTracePropagationTargets&&T&&Ka.logger.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i(R=>{let P=this._createRouteTransaction(R);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(P,R,r),P},u,n),c&&_Ye.registerBackgroundTabDetection(),S.enableInteractions&&this._registerInteractionListener(),gQ.instrumentOutgoingRequests({traceFetch:d,traceXHR:f,tracePropagationTargets:C,shouldCreateSpanForRequest:g,enableHTTPTimings:y})}_createRouteTransaction(e){if(!this._getCurrentHub){sc.DEBUG_BUILD&&Ka.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:o,idleTimeout:s,finalTimeout:a,heartbeatInterval:i}=this.options,n=e.op==="pageload",u;if(n){let y=n?DU("sentry-trace"):"",S=n?DU("baggage"):void 0,{traceId:T,dsc:C,parentSpanId:R,sampled:P}=Ka.propagationContextFromHeaders(y,S);u={traceId:T,parentSpanId:R,parentSampled:P,...e,metadata:{...e.metadata,dynamicSamplingContext:C},trimEnd:!0}}else u={trimEnd:!0,...e};let c=typeof o=="function"?o(u):u,d=c===void 0?{...u,sampled:!1}:c;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,this._latestRouteName=d.name,this._latestRouteSource=EYe(d),d.sampled===!1&&sc.DEBUG_BUILD&&Ka.logger.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),sc.DEBUG_BUILD&&Ka.logger.log(`[Tracing] Starting ${d.op} transaction on scope`);let{location:f}=J_.WINDOW,g=ac.startIdleTransaction(r,d,s,a,!0,{location:f},i,n);return n&&(J_.WINDOW.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(J_.WINDOW.document.readyState)&&g.sendAutoFinishSignal()}),["interactive","complete"].includes(J_.WINDOW.document.readyState)&&g.sendAutoFinishSignal()),g.registerBeforeFinishCallback(y=>{this._collectWebVitals(),mI.addPerformanceEntries(y)}),g}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:o,finalTimeout:s,heartbeatInterval:a}=this.options,i="ui.action.click",n=ac.getActiveTransaction();if(n&&n.op&&["navigation","pageload"].includes(n.op)){sc.DEBUG_BUILD&&Ka.logger.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){sc.DEBUG_BUILD&&Ka.logger.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){sc.DEBUG_BUILD&&Ka.logger.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`);return}let u=this._getCurrentHub(),{location:c}=J_.WINDOW,d={name:this._latestRouteName,op:i,trimEnd:!0,data:{[ac.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:this._latestRouteSource||"url"}};e=ac.startIdleTransaction(u,d,o,s,!0,{location:c},a)};["click"].forEach(o=>{addEventListener(o,r,{once:!1,capture:!0})})}};function DU(t){let e=Ka.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function EYe(t){let e=t.attributes&&t.attributes[ac.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],r=t.data&&t.data[ac.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],o=t.metadata&&t.metadata.source;return e||r||o}$_.BROWSER_TRACING_INTEGRATION_ID=mQ;$_.BrowserTracing=BU;$_.getMetaContent=DU});var vQ=h(ld=>{l();Object.defineProperty(ld,"__esModule",{value:!0});var dr=Ue(),ro=z(),uc=ei(),vYe=lU(),TYe=j_(),Q_=wU(),_Q=gI(),to=Ns(),SQ="BrowserTracing",AYe={...dr.TRACING_DEFAULTS,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,_experiments:{},..._Q.defaultRequestInstrumentationOptions},IYe=(t={})=>{let e=uc.DEBUG_BUILD?!!(t.tracePropagationTargets||t.tracingOrigins):!1;dr.addTracingExtensions(),!t.tracePropagationTargets&&t.tracingOrigins&&(t.tracePropagationTargets=t.tracingOrigins);let r={...AYe,...t},o=Q_.startTrackingWebVitals(),s={};r.enableInp&&Q_.startTrackingINP(s),r.enableLongTask&&Q_.startTrackingLongTasks(),r._experiments.enableInteractions&&Q_.startTrackingInteractions();let a={name:void 0,context:void 0};function i(n){let u=dr.getCurrentHub(),{beforeStartSpan:c,idleTimeout:d,finalTimeout:f,heartbeatInterval:g}=r,y=n.op==="pageload",S;if(y){let P=y?LU("sentry-trace"):"",M=y?LU("baggage"):void 0,{traceId:x,dsc:U,parentSpanId:D,sampled:W}=ro.propagationContextFromHeaders(P,M);S={traceId:x,parentSpanId:D,parentSampled:W,...n,metadata:{...n.metadata,dynamicSamplingContext:U},trimEnd:!0}}else S={trimEnd:!0,...n};let T=c?c(S):S;T.metadata=T.name!==S.name?{...T.metadata,source:"custom"}:T.metadata,a.name=T.name,a.context=T,T.sampled===!1&&uc.DEBUG_BUILD&&ro.logger.log(`[Tracing] Will not send ${T.op} transaction because of beforeNavigate.`),uc.DEBUG_BUILD&&ro.logger.log(`[Tracing] Starting ${T.op} transaction on scope`);let{location:C}=to.WINDOW,R=dr.startIdleTransaction(u,T,d,f,!0,{location:C},g,y);return y&&to.WINDOW.document&&(to.WINDOW.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(to.WINDOW.document.readyState)&&R.sendAutoFinishSignal()}),["interactive","complete"].includes(to.WINDOW.document.readyState)&&R.sendAutoFinishSignal()),R.registerBeforeFinishCallback(P=>{o(),Q_.addPerformanceEntries(P)}),R}return{name:SQ,setupOnce:()=>{},afterAllSetup(n){let u=n.getOptions(),{markBackgroundSpan:c,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:g,enableHTTPTimings:y,_experiments:S}=r,T=u&&u.tracePropagationTargets,C=T||r.tracePropagationTargets;uc.DEBUG_BUILD&&e&&T&&ro.logger.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let R,P=to.WINDOW.location&&to.WINDOW.location.href;if(n.on&&(n.on("startNavigationSpan",M=>{R&&(uc.DEBUG_BUILD&&ro.logger.log(`[Tracing] Finishing current transaction with op: ${dr.spanToJSON(R).op}`),R.end()),R=i({op:"navigation",...M})}),n.on("startPageLoadSpan",M=>{R&&(uc.DEBUG_BUILD&&ro.logger.log(`[Tracing] Finishing current transaction with op: ${dr.spanToJSON(R).op}`),R.end()),R=i({op:"pageload",...M})})),r.instrumentPageLoad&&n.emit&&to.WINDOW.location){let M={name:to.WINDOW.location.pathname,startTimestamp:ro.browserPerformanceTimeOrigin?ro.browserPerformanceTimeOrigin/1e3:void 0,origin:"auto.pageload.browser",attributes:{[dr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url"}};bQ(n,M)}r.instrumentNavigation&&n.emit&&to.WINDOW.location&&ro.addHistoryInstrumentationHandler(({to:M,from:x})=>{if(x===void 0&&P&&P.indexOf(M)!==-1){P=void 0;return}if(x!==M){P=void 0;let U={name:to.WINDOW.location.pathname,origin:"auto.navigation.browser",attributes:{[dr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url"}};EQ(n,U)}}),c&&vYe.registerBackgroundTabDetection(),S.enableInteractions&&CYe(r,a),r.enableInp&&NYe(s,a),_Q.instrumentOutgoingRequests({traceFetch:d,traceXHR:f,tracePropagationTargets:C,shouldCreateSpanForRequest:g,enableHTTPTimings:y})},options:r}};function bQ(t,e){if(!t.emit)return;t.emit("startPageLoadSpan",e);let r=dr.getActiveSpan();return(r&&dr.spanToJSON(r).op)==="pageload"?r:void 0}function EQ(t,e){if(!t.emit)return;t.emit("startNavigationSpan",e);let r=dr.getActiveSpan();return(r&&dr.spanToJSON(r).op)==="navigation"?r:void 0}function LU(t){let e=ro.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function CYe(t,e){let r,o=()=>{let{idleTimeout:s,finalTimeout:a,heartbeatInterval:i}=t,n="ui.action.click",u=dr.getActiveTransaction();if(u&&u.op&&["navigation","pageload"].includes(u.op)){uc.DEBUG_BUILD&&ro.logger.warn(`[Tracing] Did not create ${n} transaction because a pageload or navigation transaction is in progress.`);return}if(r&&(r.setFinishReason("interactionInterrupted"),r.end(),r=void 0),!e.name){uc.DEBUG_BUILD&&ro.logger.warn(`[Tracing] Did not create ${n} transaction because _latestRouteName is missing.`);return}let{location:c}=to.WINDOW,d={name:e.name,op:n,trimEnd:!0,data:{[dr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:e.context?wYe(e.context):"url"}};r=dr.startIdleTransaction(dr.getCurrentHub(),d,s,a,!0,{location:c},i)};["click"].forEach(s=>{addEventListener(s,o,{once:!1,capture:!0})})}function RYe(t){return"duration"in t}var OYe=10;function NYe(t,e){TYe.addPerformanceInstrumentationHandler("event",({entries:r})=>{let o=dr.getClient(),s=o!==void 0&&o.getIntegrationByName!==void 0?o.getIntegrationByName("Replay"):void 0,a=s!==void 0?s.getReplayId():void 0,i=dr.getActiveTransaction(),n=dr.getCurrentScope(),u=n!==void 0?n.getUser():void 0;for(let c of r)if(RYe(c)){let d=c.duration,f=Object.keys(t),g=f.length>0?f.reduce((y,S)=>t[y].duration<t[S].duration?y:S):void 0;if(g===void 0||d>t[g].duration){let y=c.interactionId,S=e.name,T=e.context;y&&S&&T&&(g&&Object.keys(t).length>=OYe&&delete t[g],t[y]={routeName:S,duration:d,parentContext:T,user:u,activeTransaction:i,replayId:a})}}})}function wYe(t){let e=t.attributes&&t.attributes[dr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],r=t.data&&t.data[dr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],o=t.metadata&&t.metadata.source;return e||r||o}ld.BROWSER_TRACING_INTEGRATION_ID=SQ;ld.browserTracingIntegration=IYe;ld.getMetaContent=LU;ld.startBrowserTracingNavigationSpan=EQ;ld.startBrowserTracingPageLoadSpan=bQ});var AQ=h((UU,eS)=>{l();Object.defineProperty(UU,"__esModule",{value:!0});var TQ=Ue(),Eh=z();function PYe(){let t=TQ.getMainCarrier();if(!t.__SENTRY__)return;let e={mongodb(){let o=Eh.dynamicRequire(eS,"./node/integrations/mongo");return new o.Mongo},mongoose(){let o=Eh.dynamicRequire(eS,"./node/integrations/mongo");return new o.Mongo},mysql(){let o=Eh.dynamicRequire(eS,"./node/integrations/mysql");return new o.Mysql},pg(){let o=Eh.dynamicRequire(eS,"./node/integrations/postgres");return new o.Postgres}},r=Object.keys(e).filter(o=>!!Eh.loadModule(o)).map(o=>{try{return e[o]()}catch{return}}).filter(o=>o);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function MYe(){TQ.addTracingExtensions(),Eh.isNodeEnv()&&PYe()}UU.addExtensionMethods=MYe});var VU=h(ft=>{l();Object.defineProperty(ft,"__esModule",{value:!0});var Xa=Ue(),IQ=z(),xYe=v$(),BYe=T$(),DYe=A$(),LYe=C$(),UYe=O$(),GYe=w$(),VYe=M$(),FYe=x$(),CQ=yQ(),GU=vQ(),RQ=gI(),yI=j_(),OQ=PU(),HYe=AQ();ft.IdleTransaction=Xa.IdleTransaction;ft.Span=Xa.Span;ft.SpanStatus=Xa.SpanStatus;ft.Transaction=Xa.Transaction;ft.extractTraceparentData=Xa.extractTraceparentData;ft.getActiveTransaction=Xa.getActiveTransaction;ft.hasTracingEnabled=Xa.hasTracingEnabled;ft.spanStatusfromHttpCode=Xa.spanStatusfromHttpCode;ft.startIdleTransaction=Xa.startIdleTransaction;ft.TRACEPARENT_REGEXP=IQ.TRACEPARENT_REGEXP;ft.stripUrlQueryAndFragment=IQ.stripUrlQueryAndFragment;ft.Express=xYe.Express;ft.Postgres=BYe.Postgres;ft.Mysql=DYe.Mysql;ft.Mongo=LYe.Mongo;ft.Prisma=UYe.Prisma;ft.GraphQL=GYe.GraphQL;ft.Apollo=VYe.Apollo;ft.lazyLoadedNodePerformanceMonitoringIntegrations=FYe.lazyLoadedNodePerformanceMonitoringIntegrations;ft.BROWSER_TRACING_INTEGRATION_ID=CQ.BROWSER_TRACING_INTEGRATION_ID;ft.BrowserTracing=CQ.BrowserTracing;ft.browserTracingIntegration=GU.browserTracingIntegration;ft.startBrowserTracingNavigationSpan=GU.startBrowserTracingNavigationSpan;ft.startBrowserTracingPageLoadSpan=GU.startBrowserTracingPageLoadSpan;ft.defaultRequestInstrumentationOptions=RQ.defaultRequestInstrumentationOptions;ft.instrumentOutgoingRequests=RQ.instrumentOutgoingRequests;ft.addClsInstrumentationHandler=yI.addClsInstrumentationHandler;ft.addFidInstrumentationHandler=yI.addFidInstrumentationHandler;ft.addLcpInstrumentationHandler=yI.addLcpInstrumentationHandler;ft.addPerformanceInstrumentationHandler=yI.addPerformanceInstrumentationHandler;ft.addTracingHeadersToFetchRequest=OQ.addTracingHeadersToFetchRequest;ft.instrumentFetchRequest=OQ.instrumentFetchRequest;ft.addExtensionMethods=HYe.addExtensionMethods});var NQ=h(FU=>{l();Object.defineProperty(FU,"__esModule",{value:!0});var kYe=VU(),WYe=z();function ZYe(){let t=kYe.lazyLoadedNodePerformanceMonitoringIntegrations.map(e=>{try{return e()}catch{return}}).filter(e=>!!e);return t.length===0&&WYe.logger.warn("Performance monitoring integrations could not be automatically loaded."),t.filter(e=>!!e.loadDependency())}FU.autoDiscoverNodePerformanceMonitoringIntegrations=ZYe});var WU=h(kU=>{l();Object.defineProperty(kU,"__esModule",{value:!0});var qYe=require("os"),YYe=require("util"),wQ=Ue(),HU=class extends wQ.ServerRuntimeClient{constructor(e){wQ.applySdkMetadata(e,"node"),e.transportOptions={textEncoder:new YYe.TextEncoder,...e.transportOptions};let r={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:e.serverName||global.process.env.SENTRY_NAME||qYe.hostname()};super(r)}};kU.NodeClient=HU});var xQ=h(qU=>{l();var{_nullishCoalesce:PQ}=z();Object.defineProperty(qU,"__esModule",{value:!0});var MQ=require("http");require("https");var Bs=Symbol("AgentBaseInternalState"),ZU=class extends MQ.Agent{constructor(e){super(e),this[Bs]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(o=>o.indexOf("(https.js:")!==-1||o.indexOf("node:https:")!==-1)}createSocket(e,r,o){let s={...r,secureEndpoint:this.isSecureEndpoint(r)};Promise.resolve().then(()=>this.connect(e,s)).then(a=>{if(a instanceof MQ.Agent)return a.addRequest(e,s);this[Bs].currentSocket=a,super.createSocket(e,r,o)},o)}createConnection(){let e=this[Bs].currentSocket;if(this[Bs].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return PQ(this[Bs].defaultPort,()=>this.protocol==="https:"?443:80)}set defaultPort(e){this[Bs]&&(this[Bs].defaultPort=e)}get protocol(){return PQ(this[Bs].protocol,()=>this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[Bs]&&(this[Bs].protocol=e)}};qU.Agent=ZU});var BQ=h(YU=>{l();Object.defineProperty(YU,"__esModule",{value:!0});var jYe=z();function _I(...t){jYe.logger.log("[https-proxy-agent:parse-proxy-response]",...t)}function KYe(t){return new Promise((e,r)=>{let o=0,s=[];function a(){let d=t.read();d?c(d):t.once("readable",a)}function i(){t.removeListener("end",n),t.removeListener("error",u),t.removeListener("readable",a)}function n(){i(),_I("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function u(d){i(),_I("onerror %o",d),r(d)}function c(d){s.push(d),o+=d.length;let f=Buffer.concat(s,o),g=f.indexOf(`\r
\r
`);if(g===-1){_I("have not received end of HTTP headers yet..."),a();return}let y=f.slice(0,g).toString("ascii").split(`\r
`),S=y.shift();if(!S)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let T=S.split(" "),C=+T[1],R=T.slice(2).join(" "),P={};for(let M of y){if(!M)continue;let x=M.indexOf(":");if(x===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${M}"`));let U=M.slice(0,x).toLowerCase(),D=M.slice(x+1).trimStart(),W=P[U];typeof W=="string"?P[U]=[W,D]:Array.isArray(W)?W.push(D):P[U]=D}_I("got proxy server response: %o %o",S,P),i(),e({connect:{statusCode:C,statusText:R,headers:P},buffered:f})}t.on("error",u),t.on("end",n),a()})}YU.parseProxyResponse=KYe});var UQ=h(jU=>{l();var{_nullishCoalesce:XYe,_optionalChain:zYe}=z();Object.defineProperty(jU,"__esModule",{value:!0});var JYe=require("assert"),tS=require("net"),DQ=require("tls"),$Ye=require("url"),QYe=z(),e9e=xQ(),t9e=BQ();function rS(...t){QYe.logger.log("[https-proxy-agent]",...t)}var SI=class extends e9e.Agent{static __initStatic(){this.protocols=["http","https"]}constructor(e,r){super(r),this.options={},this.proxy=typeof e=="string"?new $Ye.URL(e):e,this.proxyHeaders=XYe(zYe([r,"optionalAccess",a=>a.headers]),()=>({})),rS("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let o=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),s=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?LQ(r,"headers"):null,host:o,port:s}}async connect(e,r){let{proxy:o}=this;if(!r.host)throw new TypeError('No "host" provided');let s;if(o.protocol==="https:"){rS("Creating `tls.Socket`: %o",this.connectOpts);let g=this.connectOpts.servername||this.connectOpts.host;s=DQ.connect({...this.connectOpts,servername:g&&tS.isIP(g)?void 0:g})}else rS("Creating `net.Socket`: %o",this.connectOpts),s=tS.connect(this.connectOpts);let a=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},i=tS.isIPv6(r.host)?`[${r.host}]`:r.host,n=`CONNECT ${i}:${r.port} HTTP/1.1\r
`;if(o.username||o.password){let g=`${decodeURIComponent(o.username)}:${decodeURIComponent(o.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(g).toString("base64")}`}a.Host=`${i}:${r.port}`,a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let g of Object.keys(a))n+=`${g}: ${a[g]}\r
`;let u=t9e.parseProxyResponse(s);s.write(`${n}\r
`);let{connect:c,buffered:d}=await u;if(e.emit("proxyConnect",c),this.emit("proxyConnect",c,e),c.statusCode===200){if(e.once("socket",r9e),r.secureEndpoint){rS("Upgrading socket connection to TLS");let g=r.servername||r.host;return DQ.connect({...LQ(r,"host","path","port"),socket:s,servername:tS.isIP(g)?void 0:g})}return s}s.destroy();let f=new tS.Socket({writable:!1});return f.readable=!0,e.once("socket",g=>{rS("Replaying proxy buffer for failed request"),JYe.default(g.listenerCount("data")>0),g.push(d),g.push(null)}),f}};SI.__initStatic();function r9e(t){t.resume()}function LQ(t,...e){let r={},o;for(o in t)e.includes(o)||(r[o]=t[o]);return r}jU.HttpsProxyAgent=SI});var zU=h(XU=>{l();var{_nullishCoalesce:KU}=z();Object.defineProperty(XU,"__esModule",{value:!0});var n9e=require("http"),i9e=require("https"),o9e=require("stream"),VQ=require("url"),s9e=require("zlib"),GQ=Ue(),a9e=z(),u9e=UQ(),c9e=1024*32;function l9e(t){return new o9e.Readable({read(){this.push(t),this.push(null)}})}function d9e(t){let e;try{e=new VQ.URL(t.url)}catch{return a9e.consoleSandbox(()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")}),GQ.createTransport(t,()=>Promise.resolve({}))}let r=e.protocol==="https:",o=f9e(e,t.proxy||(r?process.env.https_proxy:void 0)||process.env.http_proxy),s=r?i9e:n9e,a=t.keepAlive===void 0?!1:t.keepAlive,i=o?new u9e.HttpsProxyAgent(o):new s.Agent({keepAlive:a,maxSockets:30,timeout:2e3}),n=p9e(t,KU(t.httpModule,()=>s),i);return GQ.createTransport(t,n)}function f9e(t,e){let{no_proxy:r}=process.env;if(!(r&&r.split(",").some(s=>t.host.endsWith(s)||t.hostname.endsWith(s))))return e}function p9e(t,e,r){let{hostname:o,pathname:s,port:a,protocol:i,search:n}=new VQ.URL(t.url);return function(c){return new Promise((d,f)=>{let g=l9e(c.body),y={...t.headers};c.body.length>c9e&&(y["content-encoding"]="gzip",g=g.pipe(s9e.createGzip()));let S=e.request({method:"POST",agent:r,headers:y,hostname:o,path:`${s}${n}`,port:a,protocol:i,ca:t.caCerts},T=>{T.on("data",()=>{}),T.on("end",()=>{}),T.setEncoding("utf8");let C=KU(T.headers["retry-after"],()=>null),R=KU(T.headers["x-sentry-rate-limits"],()=>null);d({statusCode:T.statusCode,headers:{"retry-after":C,"x-sentry-rate-limits":Array.isArray(R)?R[0]:R}})});S.on("error",f),g.pipe(S)})}}XU.makeNodeTransport=d9e});var dd=h(JU=>{l();Object.defineProperty(JU,"__esModule",{value:!0});var h9e=z(),g9e=h9e.parseSemver(process.versions.node);JU.NODE_VERSION=g9e});var kQ=h($U=>{l();var{_optionalChain:m9e}=z();Object.defineProperty($U,"__esModule",{value:!0});var FQ=require("domain"),fd=Ue();function HQ(){return FQ.active}function y9e(){let t=HQ();if(t)return fd.ensureHubOnCarrier(t),fd.getHubFromCarrier(t)}function _9e(t){let e={};return fd.ensureHubOnCarrier(e,t),fd.getHubFromCarrier(e)}function S9e(t,e){let r=HQ();if(r&&m9e([e,"optionalAccess",i=>i.reuseExisting]))return t();let o=FQ.create(),s=r?fd.getHubFromCarrier(r):void 0,a=_9e(s);return fd.setHubOnCarrier(o,a),o.bind(()=>t())()}function b9e(){fd.setAsyncContextStrategy({getCurrentHub:y9e,runWithAsyncContext:S9e})}$U.setDomainAsyncContextStrategy=b9e});var WQ=h(eG=>{l();var{_optionalChain:E9e}=z();Object.defineProperty(eG,"__esModule",{value:!0});var QU=Ue(),v9e=require("async_hooks"),bI;function T9e(){bI||(bI=new v9e.AsyncLocalStorage);function t(){return bI.getStore()}function e(o){let s={};return QU.ensureHubOnCarrier(s,o),QU.getHubFromCarrier(s)}function r(o,s){let a=t();if(a&&E9e([s,"optionalAccess",n=>n.reuseExisting]))return o();let i=e(a);return bI.run(i,()=>o())}QU.setAsyncContextStrategy({getCurrentHub:t,runWithAsyncContext:r})}eG.setHooksAsyncContextStrategy=T9e});var ZQ=h(tG=>{l();Object.defineProperty(tG,"__esModule",{value:!0});var A9e=dd(),I9e=kQ(),C9e=WQ();function R9e(){A9e.NODE_VERSION.major>=14?C9e.setHooksAsyncContextStrategy():I9e.setDomainAsyncContextStrategy()}tG.setNodeAsyncContextStrategy=R9e});var TI=h(vI=>{l();Object.defineProperty(vI,"__esModule",{value:!0});var O9e=require("util"),EI=Ue(),qQ=z(),YQ="Console",N9e=()=>({name:YQ,setupOnce(){},setup(t){qQ.addConsoleInstrumentationHandler(({args:e,level:r})=>{EI.getClient()===t&&EI.addBreadcrumb({category:"console",level:qQ.severityLevelFromString(r),message:O9e.format.apply(void 0,e)},{input:[...e],level:r})})}}),jQ=EI.defineIntegration(N9e),w9e=EI.convertIntegrationFnToClass(YQ,jQ);vI.Console=w9e;vI.consoleIntegration=jQ});var AI=h(hd=>{l();var{_optionalChain:pd}=z();Object.defineProperty(hd,"__esModule",{value:!0});var P9e=require("child_process"),XQ=require("fs"),no=require("os"),M9e=require("path"),zQ=require("util"),JQ=Ue(),$Q=zQ.promisify(XQ.readFile),QQ=zQ.promisify(XQ.readdir),eee="Context",x9e=(t={})=>{let e,r={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...t};async function o(a){e===void 0&&(e=s());let i=D9e(await e);return a.contexts={...a.contexts,app:{...i.app,...pd([a,"access",n=>n.contexts,"optionalAccess",n=>n.app])},os:{...i.os,...pd([a,"access",n=>n.contexts,"optionalAccess",n=>n.os])},device:{...i.device,...pd([a,"access",n=>n.contexts,"optionalAccess",n=>n.device])},culture:{...i.culture,...pd([a,"access",n=>n.contexts,"optionalAccess",n=>n.culture])},cloud_resource:{...i.cloud_resource,...pd([a,"access",n=>n.contexts,"optionalAccess",n=>n.cloud_resource])}},a}async function s(){let a={};if(r.os&&(a.os=await L9e()),r.app&&(a.app=G9e()),r.device&&(a.device=ree(r.device)),r.culture){let i=U9e();i&&(a.culture=i)}return r.cloudResource&&(a.cloud_resource=Z9e()),a}return{name:eee,setupOnce(){},processEvent(a){return o(a)}}},tee=JQ.defineIntegration(x9e),B9e=JQ.convertIntegrationFnToClass(eee,tee);function D9e(t){return pd([t,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(t.app.app_memory=process.memoryUsage().rss),pd([t,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(t.device.free_memory=no.freemem()),t}async function L9e(){let t=no.platform();switch(t){case"darwin":return k9e();case"linux":return W9e();default:return{name:V9e[t]||t,version:no.release()}}}function U9e(){try{if(typeof process.versions.icu!="string")return;let t=new Date(9e8);if(new Intl.DateTimeFormat("es",{month:"long"}).format(t)==="enero"){let r=Intl.DateTimeFormat().resolvedOptions();return{locale:r.locale,timezone:r.timeZone}}}catch{}}function G9e(){let t=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1e3).toISOString(),app_memory:t}}function ree(t){let e={},r;try{r=no.uptime&&no.uptime()}catch{}if(typeof r=="number"&&(e.boot_time=new Date(Date.now()-r*1e3).toISOString()),e.arch=no.arch(),(t===!0||t.memory)&&(e.memory_size=no.totalmem(),e.free_memory=no.freemem()),t===!0||t.cpu){let o=no.cpus();if(o&&o.length){let s=o[0];e.processor_count=o.length,e.cpu_description=s.model,e.processor_frequency=s.speed}}return e}var V9e={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},F9e=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],H9e={alpine:t=>t,arch:t=>Ds(/distrib_release=(.*)/,t),centos:t=>Ds(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>Ds(/release (..)/,t),mint:t=>Ds(/distrib_release=(.*)/,t),red:t=>Ds(/release ([^ ]+)/,t),suse:t=>Ds(/VERSION = (.*)\n/,t),ubuntu:t=>Ds(/distrib_release=(.*)/,t)};function Ds(t,e){let r=t.exec(e);return r?r[1]:void 0}async function k9e(){let t={kernel_version:no.release(),name:"Mac OS X",version:`10.${Number(no.release().split(".")[0])-4}`};try{let e=await new Promise((r,o)=>{P9e.execFile("/usr/bin/sw_vers",(s,a)=>{if(s){o(s);return}r(a)})});t.name=Ds(/^ProductName:\s+(.*)$/m,e),t.version=Ds(/^ProductVersion:\s+(.*)$/m,e),t.build=Ds(/^BuildVersion:\s+(.*)$/m,e)}catch{}return t}function KQ(t){return t.split(" ")[0].toLowerCase()}async function W9e(){let t={kernel_version:no.release(),name:"Linux"};try{let e=await QQ("/etc"),r=F9e.find(n=>e.includes(n.name));if(!r)return t;let o=M9e.join("/etc",r.name),s=(await $Q(o,{encoding:"utf-8"})).toLowerCase(),{distros:a}=r;t.name=a.find(n=>s.indexOf(KQ(n))>=0)||a[0];let i=KQ(t.name);t.version=H9e[i](s)}catch{}return t}function Z9e(){return process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0}hd.Context=B9e;hd.getDeviceContext=ree;hd.nodeContextIntegration=tee;hd.readDirAsync=QQ;hd.readFileAsync=$Q});var RI=h(CI=>{l();var{_optionalChain:rG}=z();Object.defineProperty(CI,"__esModule",{value:!0});var q9e=require("fs"),nee=Ue(),iee=z(),II=new iee.LRUMap(100),Y9e=7,oee="ContextLines";function j9e(t){return new Promise((e,r)=>{q9e.readFile(t,"utf8",(o,s)=>{o?r(o):e(s)})})}var K9e=(t={})=>{let e=t.frameContextLines!==void 0?t.frameContextLines:Y9e;return{name:oee,setupOnce(){},processEvent(r){return z9e(r,e)}}},see=nee.defineIntegration(K9e),X9e=nee.convertIntegrationFnToClass(oee,see);async function z9e(t,e){let r={},o=[];if(e>0&&rG([t,"access",s=>s.exception,"optionalAccess",s=>s.values])){for(let s of t.exception.values)if(rG([s,"access",a=>a.stacktrace,"optionalAccess",a=>a.frames]))for(let a=s.stacktrace.frames.length-1;a>=0;a--){let i=s.stacktrace.frames[a];i.filename&&!r[i.filename]&&!II.get(i.filename)&&(o.push($9e(i.filename)),r[i.filename]=1)}}if(o.length>0&&await Promise.all(o),e>0&&rG([t,"access",s=>s.exception,"optionalAccess",s=>s.values]))for(let s of t.exception.values)s.stacktrace&&s.stacktrace.frames&&await J9e(s.stacktrace.frames,e);return t}function J9e(t,e){for(let r of t)if(r.filename&&r.context_line===void 0){let o=II.get(r.filename);if(o)try{iee.addContextToFrame(o,r,e)}catch{}}}async function $9e(t){let e=II.get(t);if(e===null)return null;if(e!==void 0)return e;let r=null;try{r=(await j9e(t)).split(`
`)}catch{}return II.set(t,r),r}CI.ContextLines=X9e;CI.contextLinesIntegration=see});var nS=h(nG=>{l();Object.defineProperty(nG,"__esModule",{value:!0});var Q9e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;nG.DEBUG_BUILD=Q9e});var cee=h(gd=>{l();var{_optionalChain:Ls}=z();Object.defineProperty(gd,"__esModule",{value:!0});var iG=require("url"),eje=dd();function tje(t){let{protocol:e,hostname:r,port:o}=uee(t),s=t.path?t.path:"/";return`${e}//${r}${o}${s}`}function aee(t){let{protocol:e,hostname:r,port:o}=uee(t),s=t.pathname||"/",a=t.auth?rje(t.auth):"";return`${e}//${a}${r}${o}${s}`}function rje(t){let[e,r]=t.split(":");return`${e?"[Filtered]":""}:${r?"[Filtered]":""}@`}function nje(t,e,r){if(!t)return t;let[o,s]=t.split(" ");return e.host&&!e.protocol&&(e.protocol=Ls([r,"optionalAccess",a=>a.agent,"optionalAccess",a=>a.protocol]),s=aee(e)),Ls([s,"optionalAccess",a=>a.startsWith,"call",a=>a("///")])&&(s=s.slice(2)),`${o} ${s}`}function oG(t){let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}function ije(t,e){let r,o;if(typeof e[e.length-1]=="function"&&(r=e.pop()),typeof e[0]=="string")o=oG(new iG.URL(e[0]));else if(e[0]instanceof iG.URL)o=oG(e[0]);else{o=e[0];try{let s=new iG.URL(o.path||"",`${o.protocol||"http:"}//${o.hostname}`);o={pathname:s.pathname,search:s.search,hash:s.hash,...o}}catch{}}return e.length===2&&(o={...o,...e[1]}),o.protocol===void 0&&(eje.NODE_VERSION.major>8?o.protocol=Ls([Ls([t,"optionalAccess",s=>s.globalAgent]),"optionalAccess",s=>s.protocol])||Ls([o.agent,"optionalAccess",s=>s.protocol])||Ls([o._defaultAgent,"optionalAccess",s=>s.protocol]):o.protocol=Ls([o.agent,"optionalAccess",s=>s.protocol])||Ls([o._defaultAgent,"optionalAccess",s=>s.protocol])||Ls([Ls([t,"optionalAccess",s=>s.globalAgent]),"optionalAccess",s=>s.protocol])),r?[o,r]:[o]}function uee(t){let e=t.protocol||"",r=t.hostname||t.host||"",o=!t.port||t.port===80||t.port===443||/^(.*):(\d+)$/.test(r)?"":`:${t.port}`;return{protocol:e,hostname:r,port:o}}gd.cleanSpanDescription=nje;gd.extractRawUrl=tje;gd.extractUrl=aee;gd.normalizeRequestArgs=ije;gd.urlToOptions=oG});var OI=h(Ah=>{l();var{_optionalChain:vh}=z();Object.defineProperty(Ah,"__esModule",{value:!0});var un=Ue(),vi=z(),sG=nS(),oje=dd(),iS=cee(),sje=(t={})=>{let{breadcrumbs:e,tracing:r,shouldCreateSpanForRequest:o}=t,s={breadcrumbs:e,tracing:r===!1?!1:vi.dropUndefinedKeys({enableIfHasTracingEnabled:r===!0?void 0:!0,shouldCreateSpanForRequest:o})};return new Th(s)},aje=un.defineIntegration(sje),Th=class t{static __initStatic(){this.id="Http"}__init(){this.name=t.id}constructor(e={}){t.prototype.__init.call(this),this._breadcrumbs=typeof e.breadcrumbs>"u"?!0:e.breadcrumbs,this._tracing=e.tracing?e.tracing===!0?{}:e.tracing:void 0}setupOnce(e,r){let o=vh([r,"call",c=>c(),"access",c=>c.getClient,"call",c=>c(),"optionalAccess",c=>c.getOptions,"call",c=>c()]),s=dee(this._tracing,o);if(!this._breadcrumbs&&!s)return;if(o&&o.instrumenter!=="sentry"){sG.DEBUG_BUILD&&vi.logger.log("HTTP Integration is skipped because of instrumenter configuration.");return}let a=fee(s,this._tracing,o),i=vh([o,"optionalAccess",c=>c.tracePropagationTargets])||vh([this,"access",c=>c._tracing,"optionalAccess",c=>c.tracePropagationTargets]),n=require("http"),u=lee(n,this._breadcrumbs,a,i);if(vi.fill(n,"get",u),vi.fill(n,"request",u),oje.NODE_VERSION.major>8){let c=require("https"),d=lee(c,this._breadcrumbs,a,i);vi.fill(c,"get",d),vi.fill(c,"request",d)}}};Th.__initStatic();function lee(t,e,r,o){let s=new vi.LRUMap(100),a=new vi.LRUMap(100),i=c=>{if(r===void 0)return!0;let d=s.get(c);if(d!==void 0)return d;let f=r(c);return s.set(c,f),f},n=c=>{if(o===void 0)return!0;let d=a.get(c);if(d!==void 0)return d;let f=vi.stringMatchesSomePattern(c,o);return a.set(c,f),f};function u(c,d,f,g){un.getCurrentHub().getIntegration(Th)&&un.addBreadcrumb({category:"http",data:{status_code:g&&g.statusCode,...d},type:"http"},{event:c,request:f,response:g})}return function(d){return function(...g){let y=iS.normalizeRequestArgs(t,g),S=y[0],T=iS.extractRawUrl(S),C=iS.extractUrl(S),R=un.getClient();if(un.isSentryRequestUrl(C,R))return d.apply(t,y);let P=un.getCurrentScope(),M=un.getIsolationScope(),x=un.getActiveSpan(),U=cje(C,S),D=i(T)?vh([x,"optionalAccess",W=>W.startChild,"call",W=>W({op:"http.client",origin:"auto.http.node.http",description:`${U["http.method"]} ${U.url}`,data:U})]):void 0;if(R&&n(T)){let{traceId:W,spanId:re,sampled:ie,dsc:_e}={...M.getPropagationContext(),...P.getPropagationContext()},L=D?un.spanToTraceHeader(D):vi.generateSentryTraceHeader(W,re,ie),le=vi.dynamicSamplingContextToSentryBaggageHeader(_e||(D?un.getDynamicSamplingContextFromSpan(D):un.getDynamicSamplingContextFromClient(W,R,P)));uje(S,C,L,le)}else sG.DEBUG_BUILD&&vi.logger.log(`[Tracing] Not adding sentry-trace header to outgoing request (${C}) due to mismatching tracePropagationTargets option.`);return d.apply(t,y).once("response",function(W){let re=this;e&&u("response",U,re,W),D&&(W.statusCode&&un.setHttpStatus(D,W.statusCode),D.updateName(iS.cleanSpanDescription(un.spanToJSON(D).description||"",S,re)||""),D.end())}).once("error",function(){let W=this;e&&u("error",U,W),D&&(un.setHttpStatus(D,500),D.updateName(iS.cleanSpanDescription(un.spanToJSON(D).description||"",S,W)||""),D.end())})}}}function uje(t,e,r,o){(t.headers||{})["sentry-trace"]||(sG.DEBUG_BUILD&&vi.logger.log(`[Tracing] Adding sentry-trace header ${r} to outgoing request to "${e}": `),t.headers={...t.headers,"sentry-trace":r,...o&&o.length>0&&{baggage:lje(t,o)}})}function cje(t,e){let r=e.method||"GET",o={url:t,"http.method":r};return e.hash&&(o["http.fragment"]=e.hash.substring(1)),e.search&&(o["http.query"]=e.search.substring(1)),o}function lje(t,e){if(!t.headers||!t.headers.baggage)return e;if(e){if(Array.isArray(t.headers.baggage))return[...t.headers.baggage,e]}else return t.headers.baggage;return[t.headers.baggage,e]}function dee(t,e){return t===void 0?!1:t.enableIfHasTracingEnabled?un.hasTracingEnabled(e):!0}function fee(t,e,r){return t?vh([e,"optionalAccess",s=>s.shouldCreateSpanForRequest])||vh([r,"optionalAccess",s=>s.shouldCreateSpanForRequest]):()=>!1}Ah.Http=Th;Ah._getShouldCreateSpanForRequest=fee;Ah._shouldCreateSpans=dee;Ah.httpIntegration=aje});var hee=h(md=>{l();Object.defineProperty(md,"__esModule",{value:!0});function dje(t,e,r){let o=0,s=5,a=0;return setInterval(()=>{a===0?o>t&&(s*=2,r(s),s>86400&&(s=86400),a=s):(a-=1,a===0&&e()),o=0},1e3).unref(),()=>{o+=1}}function aG(t){return t!==void 0&&(t.length===0||t==="?"||t==="<anonymous>")}function fje(t,e){return t===e||aG(t)&&aG(e)}function pee(t){if(t!==void 0)return t.slice(-10).reduce((e,r)=>`${e},${r.function},${r.lineno},${r.colno}`,"")}function pje(t,e){if(e!==void 0)return pee(t(e,1))}md.createRateLimiter=dje;md.functionNamesMatch=fje;md.hashFrames=pee;md.hashFromStack=pje;md.isAnonymous=aG});var yee=h(oS=>{l();var{_optionalChain:er}=z();Object.defineProperty(oS,"__esModule",{value:!0});var cG=Ue(),NI=z(),hje=dd(),wI=hee();function lG(t){let e=[],r=!1;function o(i){e=[],!r&&(r=!0,t(i))}e.push(o);function s(i){e.push(i)}function a(i){let n=e.pop()||o;try{n(i)}catch{o(i)}}return{add:s,next:a}}var uG=class{constructor(){let{Session:e}=require("inspector");this._session=new e}configureAndConnect(e,r){this._session.connect(),this._session.on("Debugger.paused",o=>{e(o,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:r?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,r){this._getProperties(e,o=>{let{add:s,next:a}=lG(r);for(let i of o)if(er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.objectId])&&er([i,"optionalAccess",n=>n.value,"access",n=>n.className])==="Array"){let n=i.value.objectId;s(u=>this._unrollArray(n,i.name,u,a))}else if(er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.objectId])&&er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.className])==="Object"){let n=i.value.objectId;s(u=>this._unrollObject(n,i.name,u,a))}else(er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.value])||er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.description]))&&s(n=>this._unrollOther(i,n,a));a({})})}_getProperties(e,r){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},(o,s)=>{r(o?[]:s.result)})}_unrollArray(e,r,o,s){this._getProperties(e,a=>{o[r]=a.filter(i=>i.name!=="length"&&!isNaN(parseInt(i.name,10))).sort((i,n)=>parseInt(i.name,10)-parseInt(n.name,10)).map(i=>er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.value])),s(o)})}_unrollObject(e,r,o,s){this._getProperties(e,a=>{o[r]=a.map(i=>[i.name,er([i,"optionalAccess",n=>n.value,"optionalAccess",n=>n.value])]).reduce((i,[n,u])=>(i[n]=u,i),{}),s(o)})}_unrollOther(e,r,o){er([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.value])?r[e.name]=e.value.value:er([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.description])&&er([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.type])!=="function"&&(r[e.name]=`<${e.value.description}>`),o(r)}};function gje(){try{return new uG}catch{return}}var gee="LocalVariables",mje=(t={},e=gje())=>{let r=new NI.LRUMap(20),o,s=!1;function a(u,{params:{reason:c,data:d,callFrames:f}},g){if(c!=="exception"&&c!=="promiseRejection"){g();return}er([o,"optionalCall",C=>C()]);let y=wI.hashFromStack(u,er([d,"optionalAccess",C=>C.description]));if(y==null){g();return}let{add:S,next:T}=lG(C=>{r.set(y,C),g()});for(let C=0;C<Math.min(f.length,5);C++){let{scopeChain:R,functionName:P,this:M}=f[C],x=R.find(D=>D.type==="local"),U=M.className==="global"||!M.className?P:`${M.className}.${P}`;if(er([x,"optionalAccess",D=>D.object,"access",D=>D.objectId])===void 0)S(D=>{D[C]={function:U},T(D)});else{let D=x.object.objectId;S(W=>er([e,"optionalAccess",re=>re.getLocalVariables,"call",re=>re(D,ie=>{W[C]={function:U,vars:ie},T(W)})]))}}T([])}function i(u){let c=wI.hashFrames(er([u,"optionalAccess",g=>g.stacktrace,"optionalAccess",g=>g.frames]));if(c===void 0)return;let d=r.remove(c);if(d===void 0)return;let f=er([u,"access",g=>g.stacktrace,"optionalAccess",g=>g.frames,"optionalAccess",g=>g.length])||0;for(let g=0;g<f;g++){let y=f-g-1;if(!er([u,"optionalAccess",S=>S.stacktrace,"optionalAccess",S=>S.frames,"optionalAccess",S=>S[y]])||!d[g])break;d[g].vars===void 0||u.stacktrace.frames[y].in_app===!1||!wI.functionNamesMatch(u.stacktrace.frames[y].function,d[g].function)||(u.stacktrace.frames[y].vars=d[g].vars)}}function n(u){for(let c of er([u,"optionalAccess",d=>d.exception,"optionalAccess",d=>d.values])||[])i(c);return u}return{name:gee,setupOnce(){let u=cG.getClient(),c=er([u,"optionalAccess",d=>d.getOptions,"call",d=>d()]);if(e&&er([c,"optionalAccess",d=>d.includeLocalVariables])){if(hje.NODE_VERSION.major<18){NI.logger.log("The `LocalVariables` integration is only supported on Node >= v18.");return}let f=t.captureAllExceptions!==!1;if(e.configureAndConnect((g,y)=>a(c.stackParser,g,y),f),f){let g=t.maxExceptionsPerSecond||50;o=wI.createRateLimiter(g,()=>{NI.logger.log("Local variables rate-limit lifted."),er([e,"optionalAccess",y=>y.setPauseOnExceptions,"call",y=>y(!0)])},y=>{NI.logger.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${y} seconds.`),er([e,"optionalAccess",S=>S.setPauseOnExceptions,"call",S=>S(!1)])})}s=!0}},processEvent(u){return s?n(u):u},_getCachedFramesCount(){return r.size},_getFirstCachedFrame(){return r.values()[0]}}},mee=cG.defineIntegration(mje),yje=cG.convertIntegrationFnToClass(gee,mee);oS.LocalVariablesSync=yje;oS.createCallbackList=lG;oS.localVariablesSyncIntegration=mee});var MI=h(PI=>{l();Object.defineProperty(PI,"__esModule",{value:!0});var _ee=yee(),_je=_ee.LocalVariablesSync,Sje=_ee.localVariablesSyncIntegration;PI.LocalVariables=_je;PI.localVariablesIntegration=Sje});var BI=h(xI=>{l();Object.defineProperty(xI,"__esModule",{value:!0});var See=require("fs"),bee=require("path"),Eee=Ue(),dG,vee="Modules";function bje(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function Eje(){let t=require.main&&require.main.paths||[],e=bje(),r={},o={};return e.forEach(s=>{let a=s,i=()=>{let n=a;if(a=bee.dirname(n),!a||n===a||o[n])return;if(t.indexOf(a)<0)return i();let u=bee.join(n,"package.json");if(o[n]=!0,!See.existsSync(u))return i();try{let c=JSON.parse(See.readFileSync(u,"utf8"));r[c.name]=c.version}catch{}};i()}),r}function vje(){return dG||(dG=Eje()),dG}var Tje=()=>({name:vee,setupOnce(){},processEvent(t){return t.modules={...t.modules,...vje()},t}}),Tee=Eee.defineIntegration(Tje),Aje=Eee.convertIntegrationFnToClass(vee,Tee);xI.Modules=Aje;xI.modulesIntegration=Tee});var hG=h(pG=>{l();Object.defineProperty(pG,"__esModule",{value:!0});var Ije=Ue(),DI=z(),fG=nS(),Cje=2e3;function Rje(t){DI.consoleSandbox(()=>{console.error(t)});let e=Ije.getClient();e===void 0&&(fG.DEBUG_BUILD&&DI.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));let r=e.getOptions(),o=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||Cje;e.close(o).then(s=>{s||fG.DEBUG_BUILD&&DI.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},s=>{fG.DEBUG_BUILD&&DI.logger.error(s)})}pG.logAndExitProcess=Rje});var UI=h(sS=>{l();Object.defineProperty(sS,"__esModule",{value:!0});var LI=Ue(),Oje=z(),Nje=nS(),Aee=hG(),Iee="OnUncaughtException",wje=(t={})=>{let e={exitEvenIfOtherHandlersAreRegistered:!0,...t};return{name:Iee,setupOnce(){},setup(r){global.process.on("uncaughtException",Ree(r,e))}}},Cee=LI.defineIntegration(wje),Pje=LI.convertIntegrationFnToClass(Iee,Cee);function Ree(t,e){let o=!1,s=!1,a=!1,i,n=t.getOptions();return Object.assign(u=>{let c=Aee.logAndExitProcess;e.onFatalError?c=e.onFatalError:n.onFatalError&&(c=n.onFatalError);let f=global.process.listeners("uncaughtException").reduce((y,S)=>S.name==="domainUncaughtExceptionClear"||S.tag&&S.tag==="sentry_tracingErrorCallback"||S._errorHandler?y:y+1,0)===0,g=e.exitEvenIfOtherHandlersAreRegistered||f;o?g&&(a?(Nje.DEBUG_BUILD&&Oje.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),Aee.logAndExitProcess(u)):s||(s=!0,setTimeout(()=>{a||(a=!0,c(i,u))},2e3))):(i=u,o=!0,LI.getClient()===t&&LI.captureException(u,{originalException:u,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!a&&g&&(a=!0,c(u)))},{_errorHandler:!0})}sS.OnUncaughtException=Pje;sS.makeErrorHandler=Ree;sS.onUncaughtExceptionIntegration=Cee});var VI=h(aS=>{l();Object.defineProperty(aS,"__esModule",{value:!0});var GI=Ue(),Oee=z(),Mje=hG(),Nee="OnUnhandledRejection",xje=(t={})=>{let e=t.mode||"warn";return{name:Nee,setupOnce(){},setup(r){global.process.on("unhandledRejection",Pee(r,{mode:e}))}}},wee=GI.defineIntegration(xje),Bje=GI.convertIntegrationFnToClass(Nee,wee);function Pee(t,e){return function(o,s){GI.getClient()===t&&(GI.captureException(o,{originalException:s,captureContext:{extra:{unhandledPromiseRejection:!0}},mechanism:{handled:!1,type:"onunhandledrejection"}}),Dje(o,e))}}function Dje(t,e){let r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";e.mode==="warn"?Oee.consoleSandbox(()=>{console.warn(r),console.error(t&&t.stack?t.stack:t)}):e.mode==="strict"&&(Oee.consoleSandbox(()=>{console.warn(r)}),Mje.logAndExitProcess(t))}aS.OnUnhandledRejection=Bje;aS.makeUnhandledPromiseHandler=Pee;aS.onUnhandledRejectionIntegration=wee});var FI=h(uS=>{l();Object.defineProperty(uS,"__esModule",{value:!0});var Lje=require("http"),Uje=require("url"),Mee=Ue(),Ih=z(),xee="Spotlight",Gje=(t={})=>{let e={sidecarUrl:t.sidecarUrl||"http://localhost:8969/stream"};return{name:xee,setupOnce(){},setup(r){typeof process=="object"&&process.env&&process.env.NODE_ENV!=="development"&&Ih.logger.warn("[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?"),Fje(r,e)}}},Bee=Mee.defineIntegration(Gje),Vje=Mee.convertIntegrationFnToClass(xee,Bee);function Fje(t,e){let r=Hje(e.sidecarUrl);if(!r)return;let o=0;if(typeof t.on!="function"){Ih.logger.warn("[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)");return}t.on("beforeEnvelope",s=>{if(o>3){Ih.logger.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");return}let a=Ih.serializeEnvelope(s),n=Dee()({method:"POST",path:r.pathname,hostname:r.hostname,port:r.port,headers:{"Content-Type":"application/x-sentry-envelope"}},u=>{u.on("data",()=>{}),u.on("end",()=>{}),u.setEncoding("utf8")});n.on("error",()=>{o++,Ih.logger.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")}),n.write(a),n.end()})}function Hje(t){try{return new Uje.URL(`${t}`)}catch{Ih.logger.warn(`[Spotlight] Invalid sidecar URL: ${t}`);return}}function Dee(){let{request:t}=Lje;return kje(t)?t.__sentry_original__:t}function kje(t){return"__sentry_original__"in t}uS.Spotlight=Vje;uS.getNativeHttpRequest=Dee;uS.spotlightIntegration=Bee});var kI=h(Us=>{l();var{_optionalChain:HI}=z();Object.defineProperty(Us,"__esModule",{value:!0});var _r=Ue(),yd=z(),Wje=dd();Us.ChannelName=void 0;(function(t){let e="undici:request:create";t.RequestCreate=e;let r="undici:request:headers";t.RequestEnd=r;let o="undici:request:error";t.RequestError=o})(Us.ChannelName||(Us.ChannelName={}));var Zje=t=>new cS(t),qje=_r.defineIntegration(Zje),cS=class t{static __initStatic(){this.id="Undici"}__init(){this.name=t.id}__init2(){this._createSpanUrlMap=new yd.LRUMap(100)}__init3(){this._headersUrlMap=new yd.LRUMap(100)}constructor(e={}){t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this._options={breadcrumbs:e.breadcrumbs===void 0?!0:e.breadcrumbs,tracing:e.tracing,shouldCreateSpanForRequest:e.shouldCreateSpanForRequest}}setupOnce(e){if(Wje.NODE_VERSION.major<16)return;let r;try{r=require("diagnostics_channel")}catch{}!r||!r.subscribe||(r.subscribe(Us.ChannelName.RequestCreate,this._onRequestCreate),r.subscribe(Us.ChannelName.RequestEnd,this._onRequestEnd),r.subscribe(Us.ChannelName.RequestError,this._onRequestError))}_shouldCreateSpan(e){if(this._options.tracing===!1||this._options.tracing===void 0&&!_r.hasTracingEnabled())return!1;if(this._options.shouldCreateSpanForRequest===void 0)return!0;let r=this._createSpanUrlMap.get(e);if(r!==void 0)return r;let o=this._options.shouldCreateSpanForRequest(e);return this._createSpanUrlMap.set(e,o),o}__init4(){this._onRequestCreate=e=>{if(!HI([_r.getClient,"call",f=>f(),"optionalAccess",f=>f.getIntegration,"call",f=>f(t)]))return;let{request:r}=e,o=r.origin?r.origin.toString()+r.path:r.path,s=_r.getClient();if(!s||_r.isSentryRequestUrl(o,s)||r.__sentry_span__!==void 0)return;let a=s.getOptions(),i=_r.getCurrentScope(),n=_r.getIsolationScope(),u=_r.getActiveSpan(),c=this._shouldCreateSpan(o)?jje(u,r,o):void 0;if(c&&(r.__sentry_span__=c),(f=>{if(a.tracePropagationTargets===void 0)return!0;let g=this._headersUrlMap.get(f);if(g!==void 0)return g;let y=yd.stringMatchesSomePattern(f,a.tracePropagationTargets);return this._headersUrlMap.set(f,y),y})(o)){let{traceId:f,spanId:g,sampled:y,dsc:S}={...n.getPropagationContext(),...i.getPropagationContext()},T=c?_r.spanToTraceHeader(c):yd.generateSentryTraceHeader(f,g,y),C=yd.dynamicSamplingContextToSentryBaggageHeader(S||(c?_r.getDynamicSamplingContextFromSpan(c):_r.getDynamicSamplingContextFromClient(f,s,i)));Yje(r,T,C)}}}__init5(){this._onRequestEnd=e=>{if(!HI([_r.getClient,"call",i=>i(),"optionalAccess",i=>i.getIntegration,"call",i=>i(t)]))return;let{request:r,response:o}=e,s=r.origin?r.origin.toString()+r.path:r.path;if(_r.isSentryRequestUrl(s,_r.getClient()))return;let a=r.__sentry_span__;a&&(_r.setHttpStatus(a,o.statusCode),a.end()),this._options.breadcrumbs&&_r.addBreadcrumb({category:"http",data:{method:r.method,status_code:o.statusCode,url:s},type:"http"},{event:"response",request:r,response:o})}}__init6(){this._onRequestError=e=>{if(!HI([_r.getClient,"call",a=>a(),"optionalAccess",a=>a.getIntegration,"call",a=>a(t)]))return;let{request:r}=e,o=r.origin?r.origin.toString()+r.path:r.path;if(_r.isSentryRequestUrl(o,_r.getClient()))return;let s=r.__sentry_span__;s&&(s.setStatus("internal_error"),s.end()),this._options.breadcrumbs&&_r.addBreadcrumb({category:"http",data:{method:r.method,url:o},level:"error",type:"http"},{event:"error",request:r})}}};cS.__initStatic();function Yje(t,e,r){t.headers.split(`\r
`).some(a=>a.startsWith("sentry-trace:"))||(t.addHeader("sentry-trace",e),r&&t.addHeader("baggage",r))}function jje(t,e,r){let o=yd.parseUrl(r),s=e.method||"GET",a={"http.method":s};return o.search&&(a["http.query"]=o.search),o.hash&&(a["http.fragment"]=o.hash),HI([t,"optionalAccess",i=>i.startChild,"call",i=>i({op:"http.client",origin:"auto.http.node.undici",description:`${s} ${yd.getSanitizedUrlString(o)}`,data:a})])}Us.Undici=cS;Us.nativeNodeFetchintegration=qje});var mG=h(gG=>{l();Object.defineProperty(gG,"__esModule",{value:!0});var Lee=require("path"),Kje=z();function Uee(t){return t.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function Xje(t=process.argv[1]?Kje.dirname(process.argv[1]):process.cwd(),e=Lee.sep==="\\"){let r=e?Uee(t):t;return o=>{if(!o)return;let s=e?Uee(o):o,{dir:a,base:i,ext:n}=Lee.posix.parse(s);(n===".js"||n===".mjs"||n===".cjs")&&(i=i.slice(0,n.length*-1)),a||(a=".");let u=a.lastIndexOf("/node_modules");if(u>-1)return`${a.slice(u+14).replace(/\//g,".")}:${i}`;if(a.startsWith(r)){let c=a.slice(r.length+1).replace(/\//g,".");return c&&(c+=":"),c+=i,c}return i}}gG.createGetModuleFromFilename=Xje});var yG=h(cc=>{l();var{_optionalChain:zje}=z();Object.defineProperty(cc,"__esModule",{value:!0});var io=Ue(),_d=z(),Jje=ZQ(),$je=WU(),Qje=TI(),e4e=AI(),t4e=RI(),r4e=OI(),n4e=MI(),i4e=BI(),o4e=UI(),s4e=VI(),a4e=FI(),u4e=kI(),c4e=mG(),l4e=zU(),Gee=[io.inboundFiltersIntegration(),io.functionToStringIntegration(),io.linkedErrorsIntegration(),io.requestDataIntegration(),Qje.consoleIntegration(),r4e.httpIntegration(),u4e.nativeNodeFetchintegration(),o4e.onUncaughtExceptionIntegration(),s4e.onUnhandledRejectionIntegration(),t4e.contextLinesIntegration(),n4e.localVariablesIntegration(),e4e.nodeContextIntegration(),i4e.modulesIntegration()];function Vee(t){let e=io.getMainCarrier(),r=zje([e,"access",o=>o.__SENTRY__,"optionalAccess",o=>o.integrations])||[];return[...Gee,...r]}function d4e(t={}){Jje.setNodeAsyncContextStrategy(),t.defaultIntegrations===void 0&&(t.defaultIntegrations=Vee()),t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN);let e=process.env.SENTRY_TRACES_SAMPLE_RATE;if(t.tracesSampleRate===void 0&&e){let o=parseFloat(e);isFinite(o)&&(t.tracesSampleRate=o)}if(t.release===void 0){let o=Fee();o!==void 0?t.release=o:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&t.dsn!==void 0&&(t.autoSessionTracking=!0),t.instrumenter===void 0&&(t.instrumenter="sentry");let r={...t,stackParser:_d.stackParserFromStackParserOptions(t.stackParser||Hee),integrations:io.getIntegrationsToSetup(t),transport:t.transport||l4e.makeNodeTransport};if(io.initAndBind(t.clientClass||$je.NodeClient,r),t.autoSessionTracking&&p4e(),h4e(),t.spotlight){let o=io.getClient();if(o&&o.addIntegration){let s=o.getOptions().integrations;for(let a of s)o.addIntegration(a);o.addIntegration(a4e.spotlightIntegration({sidecarUrl:typeof t.spotlight=="string"?t.spotlight:void 0}))}}}function f4e(t){if(t===void 0)return!1;let e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}function Fee(t){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:_d.GLOBAL_OBJ.SENTRY_RELEASE&&_d.GLOBAL_OBJ.SENTRY_RELEASE.id?_d.GLOBAL_OBJ.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||process.env.CF_PAGES_COMMIT_SHA||t}var Hee=_d.createStackParser(_d.nodeStackLineParser(c4e.createGetModuleFromFilename()));function p4e(){io.startSession(),process.on("beforeExit",()=>{let t=io.getIsolationScope().getSession();t&&!["exited","crashed"].includes(t.status)&&io.endSession()})}function h4e(){let t=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(t)){let e=process.env.SENTRY_TRACE,r=process.env.SENTRY_BAGGAGE,o=_d.propagationContextFromHeaders(e,r);io.getCurrentScope().setPropagationContext(o)}}cc.defaultIntegrations=Gee;cc.defaultStackParser=Hee;cc.getDefaultIntegrations=Vee;cc.getSentryRelease=Fee;cc.init=d4e;cc.isAutoSessionTrackingEnabled=f4e});var kee=h(SG=>{l();Object.defineProperty(SG,"__esModule",{value:!0});var WI=require("fs"),_G=require("path");function g4e(t){let e=_G.resolve(t);if(!WI.existsSync(e))throw new Error(`Cannot read contents of ${e}. Directory does not exist.`);if(!WI.statSync(e).isDirectory())throw new Error(`Cannot read contents of ${e}, because it is not a directory.`);let r=o=>WI.readdirSync(o).reduce((s,a)=>{let i=_G.join(o,a);return WI.statSync(i).isDirectory()?s.concat(r(i)):(s.push(i),s)},[]);return r(e).map(o=>_G.relative(e,o))}SG.deepReadDirSync=g4e});var Zee=h(Wee=>{l();Wee.base64WorkerScript="aW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ2luc3BlY3Rvcic7CmltcG9ydCB7IHdvcmtlckRhdGEsIHBhcmVudFBvcnQgfSBmcm9tICd3b3JrZXJfdGhyZWFkcyc7CmltcG9ydCB7IHBvc2l4LCBzZXAgfSBmcm9tICdwYXRoJzsKaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJzsKaW1wb3J0ICogYXMgaHR0cHMgZnJvbSAnaHR0cHMnOwppbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJ3N0cmVhbSc7CmltcG9ydCB7IFVSTCB9IGZyb20gJ3VybCc7CmltcG9ydCB7IGNyZWF0ZUd6aXAgfSBmcm9tICd6bGliJzsKaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnOwppbXBvcnQgKiBhcyBuZXQgZnJvbSAnbmV0JzsKaW1wb3J0ICogYXMgdGxzIGZyb20gJ3Rscyc7CgovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kCmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsKCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgb25lIG9mIGEgZmV3IEVycm9yIG9yIEVycm9yLWxpa2UKICoge0BsaW5rIGlzRXJyb3J9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNFcnJvcih3YXQpIHsKICBzd2l0Y2ggKG9iamVjdFRvU3RyaW5nLmNhbGwod2F0KSkgewogICAgY2FzZSAnW29iamVjdCBFcnJvcl0nOgogICAgY2FzZSAnW29iamVjdCBFeGNlcHRpb25dJzoKICAgIGNhc2UgJ1tvYmplY3QgRE9NRXhjZXB0aW9uXSc6CiAgICAgIHJldHVybiB0cnVlOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIGlzSW5zdGFuY2VPZih3YXQsIEVycm9yKTsKICB9Cn0KLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBidWlsdC1pbiBjbGFzcy4KICoKICogQHBhcmFtIHdhdCBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZAogKiBAcGFyYW0gY2xhc3NOYW1lCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzQnVpbHRpbih3YXQsIGNsYXNzTmFtZSkgewogIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKHdhdCkgPT09IGBbb2JqZWN0ICR7Y2xhc3NOYW1lfV1gOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgc3RyaW5nCiAqIHtAbGluayBpc1N0cmluZ30uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1N0cmluZyh3YXQpIHsKICByZXR1cm4gaXNCdWlsdGluKHdhdCwgJ1N0cmluZycpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIG9iamVjdCBsaXRlcmFsLCBvciBhIGNsYXNzIGluc3RhbmNlLgogKiB7QGxpbmsgaXNQbGFpbk9iamVjdH0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHdhdCkgewogIHJldHVybiBpc0J1aWx0aW4od2F0LCAnT2JqZWN0Jyk7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRXZlbnQgaW5zdGFuY2UKICoge0BsaW5rIGlzRXZlbnR9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNFdmVudCh3YXQpIHsKICByZXR1cm4gdHlwZW9mIEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2Yod2F0LCBFdmVudCk7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRWxlbWVudCBpbnN0YW5jZQogKiB7QGxpbmsgaXNFbGVtZW50fS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzRWxlbWVudCh3YXQpIHsKICByZXR1cm4gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih3YXQsIEVsZW1lbnQpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUgaGFzIGEgdGhlbiBmdW5jdGlvbi4KICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqLwpmdW5jdGlvbiBpc1RoZW5hYmxlKHdhdCkgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MKICByZXR1cm4gQm9vbGVhbih3YXQgJiYgd2F0LnRoZW4gJiYgdHlwZW9mIHdhdC50aGVuID09PSAnZnVuY3Rpb24nKTsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhIFN5bnRoZXRpY0V2ZW50CiAqIHtAbGluayBpc1N5bnRoZXRpY0V2ZW50fS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQod2F0KSB7CiAgcmV0dXJuIGlzUGxhaW5PYmplY3Qod2F0KSAmJiAnbmF0aXZlRXZlbnQnIGluIHdhdCAmJiAncHJldmVudERlZmF1bHQnIGluIHdhdCAmJiAnc3RvcFByb3BhZ2F0aW9uJyBpbiB3YXQ7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSBpcyBOYU4KICoge0BsaW5rIGlzTmFOfS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzTmFOJDEod2F0KSB7CiAgcmV0dXJuIHR5cGVvZiB3YXQgPT09ICdudW1iZXInICYmIHdhdCAhPT0gd2F0Owp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIGluc3RhbmNlIG9mIHByb3ZpZGVkIGNvbnN0cnVjdG9yLgogKiB7QGxpbmsgaXNJbnN0YW5jZU9mfS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEBwYXJhbSBiYXNlIEEgY29uc3RydWN0b3IgdG8gYmUgdXNlZCBpbiBhIGNoZWNrLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc0luc3RhbmNlT2Yod2F0LCBiYXNlKSB7CiAgdHJ5IHsKICAgIHJldHVybiB3YXQgaW5zdGFuY2VvZiBiYXNlOwogIH0gY2F0Y2ggKF9lKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgVnVlIFZpZXdNb2RlbC4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzVnVlVmlld01vZGVsKHdhdCkgewogIC8vIE5vdCB1c2luZyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIGJlY2F1c2UgaW4gVnVlIDMgaXQgd291bGQgcmVhZCB0aGUgaW5zdGFuY2UncyBTeW1ib2woU3ltYm9sLnRvU3RyaW5nVGFnKSBwcm9wZXJ0eS4KICByZXR1cm4gISEodHlwZW9mIHdhdCA9PT0gJ29iamVjdCcgJiYgd2F0ICE9PSBudWxsICYmICgod2F0ICkuX19pc1Z1ZSB8fCAod2F0ICkuX2lzVnVlKSk7Cn0KCi8qKiBJbnRlcm5hbCBnbG9iYWwgd2l0aCBjb21tb24gcHJvcGVydGllcyBhbmQgU2VudHJ5IGV4dGVuc2lvbnMgICovCgovLyBUaGUgY29kZSBiZWxvdyBmb3IgJ2lzR2xvYmFsT2JqJyBhbmQgJ0dMT0JBTF9PQkonIHdhcyBjb3BpZWQgZnJvbSBjb3JlLWpzIGJlZm9yZSBtb2RpZmljYXRpb24KLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi8xYjk0NGRmNTUyODJjZGM5OWM5MGRiNWY0OWViMGI2ZWRhMmNjMGEzL3BhY2thZ2VzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qcwovLyBjb3JlLWpzIGhhcyB0aGUgZm9sbG93aW5nIGxpY2VuY2U6Ci8vCi8vIENvcHlyaWdodCAoYykgMjAxNC0yMDIyIERlbmlzIFB1c2hrYXJldgovLwovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Ci8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAovLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8KLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi8vCi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAovLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgovLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLAovLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCi8vIFRIRSBTT0ZUV0FSRS4KCi8qKiBSZXR1cm5zICdvYmonIGlmIGl0J3MgdGhlIGdsb2JhbCBvYmplY3QsIG90aGVyd2lzZSByZXR1cm5zIHVuZGVmaW5lZCAqLwpmdW5jdGlvbiBpc0dsb2JhbE9iaihvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5NYXRoID09IE1hdGggPyBvYmogOiB1bmRlZmluZWQ7Cn0KCi8qKiBHZXQncyB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBydW50aW1lICovCmNvbnN0IEdMT0JBTF9PQkogPQogICh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBpc0dsb2JhbE9iaihnbG9iYWxUaGlzKSkgfHwKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmood2luZG93KSkgfHwKICAodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmooc2VsZikpIHx8CiAgKHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmooZ2xvYmFsKSkgfHwKICAoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXM7CiAgfSkoKSB8fAogIHt9OwoKLyoqCiAqIEBkZXByZWNhdGVkIFVzZSBHTE9CQUxfT0JKIGluc3RlYWQgb3IgV0lORE9XIGZyb20gQHNlbnRyeS9icm93c2VyLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OAogKi8KZnVuY3Rpb24gZ2V0R2xvYmFsT2JqZWN0KCkgewogIHJldHVybiBHTE9CQUxfT0JKIDsKfQoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCmNvbnN0IFdJTkRPVyA9IGdldEdsb2JhbE9iamVjdCgpOwoKY29uc3QgREVGQVVMVF9NQVhfU1RSSU5HX0xFTkdUSCA9IDgwOwoKLyoqCiAqIEdpdmVuIGEgY2hpbGQgRE9NIGVsZW1lbnQsIHJldHVybnMgYSBxdWVyeS1zZWxlY3RvciBzdGF0ZW1lbnQgZGVzY3JpYmluZyB0aGF0CiAqIGFuZCBpdHMgYW5jZXN0b3JzCiAqIGUuZy4gW0hUTUxFbGVtZW50XSA9PiBib2R5ID4gZGl2ID4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel0KICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoCiAqLwpmdW5jdGlvbiBodG1sVHJlZUFzU3RyaW5nKAogIGVsZW0sCiAgb3B0aW9ucyA9IHt9LAopIHsKICBpZiAoIWVsZW0pIHsKICAgIHJldHVybiAnPHVua25vd24+JzsKICB9CgogIC8vIHRyeS9jYXRjaCBib3RoOgogIC8vIC0gYWNjZXNzaW5nIGV2ZW50LnRhcmdldCAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpCiAgLy8gLSBgaHRtbFRyZWVBc1N0cmluZ2AgYmVjYXVzZSBpdCdzIGNvbXBsZXgsIGFuZCBqdXN0IGFjY2Vzc2luZyB0aGUgRE9NIGluY29ycmVjdGx5CiAgLy8gLSBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4KICB0cnkgewogICAgbGV0IGN1cnJlbnRFbGVtID0gZWxlbSA7CiAgICBjb25zdCBNQVhfVFJBVkVSU0VfSEVJR0hUID0gNTsKICAgIGNvbnN0IG91dCA9IFtdOwogICAgbGV0IGhlaWdodCA9IDA7CiAgICBsZXQgbGVuID0gMDsKICAgIGNvbnN0IHNlcGFyYXRvciA9ICcgPiAnOwogICAgY29uc3Qgc2VwTGVuZ3RoID0gc2VwYXJhdG9yLmxlbmd0aDsKICAgIGxldCBuZXh0U3RyOwogICAgY29uc3Qga2V5QXR0cnMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMua2V5QXR0cnM7CiAgICBjb25zdCBtYXhTdHJpbmdMZW5ndGggPSAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5tYXhTdHJpbmdMZW5ndGgpIHx8IERFRkFVTFRfTUFYX1NUUklOR19MRU5HVEg7CgogICAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkgewogICAgICBuZXh0U3RyID0gX2h0bWxFbGVtZW50QXNTdHJpbmcoY3VycmVudEVsZW0sIGtleUF0dHJzKTsKICAgICAgLy8gYmFpbCBvdXQgaWYKICAgICAgLy8gLSBuZXh0U3RyIGlzIHRoZSAnaHRtbCcgZWxlbWVudAogICAgICAvLyAtIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZyB0aGF0IHdvdWxkIGJlIGNyZWF0ZWQgZXhjZWVkcyBtYXhTdHJpbmdMZW5ndGgKICAgICAgLy8gICAoaWdub3JlIHRoaXMgbGltaXQgaWYgd2UgYXJlIG9uIHRoZSBmaXJzdCBpdGVyYXRpb24pCiAgICAgIGlmIChuZXh0U3RyID09PSAnaHRtbCcgfHwgKGhlaWdodCA+IDEgJiYgbGVuICsgb3V0Lmxlbmd0aCAqIHNlcExlbmd0aCArIG5leHRTdHIubGVuZ3RoID49IG1heFN0cmluZ0xlbmd0aCkpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgb3V0LnB1c2gobmV4dFN0cik7CgogICAgICBsZW4gKz0gbmV4dFN0ci5sZW5ndGg7CiAgICAgIGN1cnJlbnRFbGVtID0gY3VycmVudEVsZW0ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gb3V0LnJldmVyc2UoKS5qb2luKHNlcGFyYXRvcik7CiAgfSBjYXRjaCAoX29PKSB7CiAgICByZXR1cm4gJzx1bmtub3duPic7CiAgfQp9CgovKioKICogUmV0dXJucyBhIHNpbXBsZSwgcXVlcnktc2VsZWN0b3IgcmVwcmVzZW50YXRpb24gb2YgYSBET00gZWxlbWVudAogKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel0KICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoCiAqLwpmdW5jdGlvbiBfaHRtbEVsZW1lbnRBc1N0cmluZyhlbCwga2V5QXR0cnMpIHsKICBjb25zdCBlbGVtID0gZWwKCjsKCiAgY29uc3Qgb3V0ID0gW107CiAgbGV0IGNsYXNzTmFtZTsKICBsZXQgY2xhc3NlczsKICBsZXQga2V5OwogIGxldCBhdHRyOwogIGxldCBpOwoKICBpZiAoIWVsZW0gfHwgIWVsZW0udGFnTmFtZSkgewogICAgcmV0dXJuICcnOwogIH0KCiAgLy8gQHRzLWV4cGVjdC1lcnJvciBXSU5ET1cgaGFzIEhUTUxFbGVtZW50CiAgaWYgKFdJTkRPVy5IVE1MRWxlbWVudCkgewogICAgLy8gSWYgdXNpbmcgdGhlIGNvbXBvbmVudCBuYW1lIGFubm90YXRpb24gcGx1Z2luLCB0aGlzIHZhbHVlIG1heSBiZSBhdmFpbGFibGUgb24gdGhlIERPTSBub2RlCiAgICBpZiAoZWxlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGVsZW0uZGF0YXNldCAmJiBlbGVtLmRhdGFzZXRbJ3NlbnRyeUNvbXBvbmVudCddKSB7CiAgICAgIHJldHVybiBlbGVtLmRhdGFzZXRbJ3NlbnRyeUNvbXBvbmVudCddOwogICAgfQogIH0KCiAgb3V0LnB1c2goZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpOwoKICAvLyBQYWlycyBvZiBhdHRyaWJ1dGUga2V5cyBkZWZpbmVkIGluIGBzZXJpYWxpemVBdHRyaWJ1dGVgIGFuZCB0aGVpciB2YWx1ZXMgb24gZWxlbWVudC4KICBjb25zdCBrZXlBdHRyUGFpcnMgPQogICAga2V5QXR0cnMgJiYga2V5QXR0cnMubGVuZ3RoCiAgICAgID8ga2V5QXR0cnMuZmlsdGVyKGtleUF0dHIgPT4gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5QXR0cikpLm1hcChrZXlBdHRyID0+IFtrZXlBdHRyLCBlbGVtLmdldEF0dHJpYnV0ZShrZXlBdHRyKV0pCiAgICAgIDogbnVsbDsKCiAgaWYgKGtleUF0dHJQYWlycyAmJiBrZXlBdHRyUGFpcnMubGVuZ3RoKSB7CiAgICBrZXlBdHRyUGFpcnMuZm9yRWFjaChrZXlBdHRyUGFpciA9PiB7CiAgICAgIG91dC5wdXNoKGBbJHtrZXlBdHRyUGFpclswXX09IiR7a2V5QXR0clBhaXJbMV19Il1gKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBpZiAoZWxlbS5pZCkgewogICAgICBvdXQucHVzaChgIyR7ZWxlbS5pZH1gKTsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CiAgICBjbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZTsKICAgIGlmIChjbGFzc05hbWUgJiYgaXNTdHJpbmcoY2xhc3NOYW1lKSkgewogICAgICBjbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KC9ccysvKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXQucHVzaChgLiR7Y2xhc3Nlc1tpXX1gKTsKICAgICAgfQogICAgfQogIH0KICBjb25zdCBhbGxvd2VkQXR0cnMgPSBbJ2FyaWEtbGFiZWwnLCAndHlwZScsICduYW1lJywgJ3RpdGxlJywgJ2FsdCddOwogIGZvciAoaSA9IDA7IGkgPCBhbGxvd2VkQXR0cnMubGVuZ3RoOyBpKyspIHsKICAgIGtleSA9IGFsbG93ZWRBdHRyc1tpXTsKICAgIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShrZXkpOwogICAgaWYgKGF0dHIpIHsKICAgICAgb3V0LnB1c2goYFske2tleX09IiR7YXR0cn0iXWApOwogICAgfQogIH0KICByZXR1cm4gb3V0LmpvaW4oJycpOwp9CgovKioKICogVGhpcyBzZXJ2ZXMgYXMgYSBidWlsZCB0aW1lIGZsYWcgdGhhdCB3aWxsIGJlIHRydWUgYnkgZGVmYXVsdCwgYnV0IGZhbHNlIGluIG5vbi1kZWJ1ZyBidWlsZHMgb3IgaWYgdXNlcnMgcmVwbGFjZSBgX19TRU5UUllfREVCVUdfX2AgaW4gdGhlaXIgZ2VuZXJhdGVkIGNvZGUuCiAqCiAqIEFUVEVOVElPTjogVGhpcyBjb25zdGFudCBtdXN0IG5ldmVyIGNyb3NzIHBhY2thZ2UgYm91bmRhcmllcyAoaS5lLiBiZSBleHBvcnRlZCkgdG8gZ3VhcmFudGVlIHRoYXQgaXQgY2FuIGJlIHVzZWQgZm9yIHRyZWUgc2hha2luZy4KICovCmNvbnN0IERFQlVHX0JVSUxEJDEgPSAodHlwZW9mIF9fU0VOVFJZX0RFQlVHX18gPT09ICd1bmRlZmluZWQnIHx8IF9fU0VOVFJZX0RFQlVHX18pOwoKLyoqIFByZWZpeCBmb3IgbG9nZ2luZyBzdHJpbmdzICovCmNvbnN0IFBSRUZJWCA9ICdTZW50cnkgTG9nZ2VyICc7Cgpjb25zdCBDT05TT0xFX0xFVkVMUyA9IFsKICAnZGVidWcnLAogICdpbmZvJywKICAnd2FybicsCiAgJ2Vycm9yJywKICAnbG9nJywKICAnYXNzZXJ0JywKICAndHJhY2UnLApdIDsKCi8qKiBUaGlzIG1heSBiZSBtdXRhdGVkIGJ5IHRoZSBjb25zb2xlIGluc3RydW1lbnRhdGlvbi4gKi8KY29uc3Qgb3JpZ2luYWxDb25zb2xlTWV0aG9kcwoKID0ge307CgovKiogSlNEb2MgKi8KCi8qKgogKiBUZW1wb3JhcmlseSBkaXNhYmxlIHNlbnRyeSBjb25zb2xlIGluc3RydW1lbnRhdGlvbnMuCiAqCiAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gcnVuIGFnYWluc3QgdGhlIG9yaWdpbmFsIGBjb25zb2xlYCBtZXNzYWdlcwogKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sKICovCmZ1bmN0aW9uIGNvbnNvbGVTYW5kYm94KGNhbGxiYWNrKSB7CiAgaWYgKCEoJ2NvbnNvbGUnIGluIEdMT0JBTF9PQkopKSB7CiAgICByZXR1cm4gY2FsbGJhY2soKTsKICB9CgogIGNvbnN0IGNvbnNvbGUgPSBHTE9CQUxfT0JKLmNvbnNvbGUgOwogIGNvbnN0IHdyYXBwZWRGdW5jcyA9IHt9OwoKICBjb25zdCB3cmFwcGVkTGV2ZWxzID0gT2JqZWN0LmtleXMob3JpZ2luYWxDb25zb2xlTWV0aG9kcykgOwoKICAvLyBSZXN0b3JlIGFsbCB3cmFwcGVkIGNvbnNvbGUgbWV0aG9kcwogIHdyYXBwZWRMZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7CiAgICBjb25zdCBvcmlnaW5hbENvbnNvbGVNZXRob2QgPSBvcmlnaW5hbENvbnNvbGVNZXRob2RzW2xldmVsXSA7CiAgICB3cmFwcGVkRnVuY3NbbGV2ZWxdID0gY29uc29sZVtsZXZlbF0gOwogICAgY29uc29sZVtsZXZlbF0gPSBvcmlnaW5hbENvbnNvbGVNZXRob2Q7CiAgfSk7CgogIHRyeSB7CiAgICByZXR1cm4gY2FsbGJhY2soKTsKICB9IGZpbmFsbHkgewogICAgLy8gUmV2ZXJ0IHJlc3RvcmF0aW9uIHRvIHdyYXBwZWQgc3RhdGUKICAgIHdyYXBwZWRMZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7CiAgICAgIGNvbnNvbGVbbGV2ZWxdID0gd3JhcHBlZEZ1bmNzW2xldmVsXSA7CiAgICB9KTsKICB9Cn0KCmZ1bmN0aW9uIG1ha2VMb2dnZXIoKSB7CiAgbGV0IGVuYWJsZWQgPSBmYWxzZTsKICBjb25zdCBsb2dnZXIgPSB7CiAgICBlbmFibGU6ICgpID0+IHsKICAgICAgZW5hYmxlZCA9IHRydWU7CiAgICB9LAogICAgZGlzYWJsZTogKCkgPT4gewogICAgICBlbmFibGVkID0gZmFsc2U7CiAgICB9LAogICAgaXNFbmFibGVkOiAoKSA9PiBlbmFibGVkLAogIH07CgogIGlmIChERUJVR19CVUlMRCQxKSB7CiAgICBDT05TT0xFX0xFVkVMUy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogICAgICBsb2dnZXJbbmFtZV0gPSAoLi4uYXJncykgPT4gewogICAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgICBjb25zb2xlU2FuZGJveCgoKSA9PiB7CiAgICAgICAgICAgIEdMT0JBTF9PQkouY29uc29sZVtuYW1lXShgJHtQUkVGSVh9WyR7bmFtZX1dOmAsIC4uLmFyZ3MpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgfSk7CiAgfSBlbHNlIHsKICAgIENPTlNPTEVfTEVWRUxTLmZvckVhY2gobmFtZSA9PiB7CiAgICAgIGxvZ2dlcltuYW1lXSA9ICgpID0+IHVuZGVmaW5lZDsKICAgIH0pOwogIH0KCiAgcmV0dXJuIGxvZ2dlciA7Cn0KCmNvbnN0IGxvZ2dlciA9IG1ha2VMb2dnZXIoKTsKCi8qKgogKiBSZW5kZXJzIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEc24uCiAqCiAqIEJ5IGRlZmF1bHQsIHRoaXMgd2lsbCByZW5kZXIgdGhlIHB1YmxpYyByZXByZXNlbnRhdGlvbiB3aXRob3V0IHRoZSBwYXNzd29yZAogKiBjb21wb25lbnQuIFRvIGdldCB0aGUgZGVwcmVjYXRlZCBwcml2YXRlIHJlcHJlc2VudGF0aW9uLCBzZXQgYHdpdGhQYXNzd29yZGAKICogdG8gdHJ1ZS4KICoKICogQHBhcmFtIHdpdGhQYXNzd29yZCBXaGVuIHNldCB0byB0cnVlLCB0aGUgcGFzc3dvcmQgd2lsbCBiZSBpbmNsdWRlZC4KICovCmZ1bmN0aW9uIGRzblRvU3RyaW5nKGRzbiwgd2l0aFBhc3N3b3JkID0gZmFsc2UpIHsKICBjb25zdCB7IGhvc3QsIHBhdGgsIHBhc3MsIHBvcnQsIHByb2plY3RJZCwgcHJvdG9jb2wsIHB1YmxpY0tleSB9ID0gZHNuOwogIHJldHVybiAoCiAgICBgJHtwcm90b2NvbH06Ly8ke3B1YmxpY0tleX0ke3dpdGhQYXNzd29yZCAmJiBwYXNzID8gYDoke3Bhc3N9YCA6ICcnfWAgKwogICAgYEAke2hvc3R9JHtwb3J0ID8gYDoke3BvcnR9YCA6ICcnfS8ke3BhdGggPyBgJHtwYXRofS9gIDogcGF0aH0ke3Byb2plY3RJZH1gCiAgKTsKfQoKLyoqIEFuIGVycm9yIGVtaXR0ZWQgYnkgU2VudHJ5IFNES3MgYW5kIHJlbGF0ZWQgdXRpbGl0aWVzLiAqLwpjbGFzcyBTZW50cnlFcnJvciBleHRlbmRzIEVycm9yIHsKICAvKiogRGlzcGxheSBuYW1lIG9mIHRoaXMgZXJyb3IgaW5zdGFuY2UuICovCgogICBjb25zdHJ1Y3RvciggbWVzc2FnZSwgbG9nTGV2ZWwgPSAnd2FybicpIHsKICAgIHN1cGVyKG1lc3NhZ2UpO3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgICB0aGlzLm5hbWUgPSBuZXcudGFyZ2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lOwogICAgLy8gVGhpcyBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgYEVycm9yYCwgbm90IGBTZW50cnlFcnJvcmAuIEl0J3MgdW5jbGVhciB3aHkgd2UgZG8gdGhpcywgYnV0IGNvbW1lbnRpbmcgdGhpcyBsaW5lCiAgICAvLyBvdXQgY2F1c2VzIHZhcmlvdXMgKHNlZW1pbmdseSB0b3RhbGx5IHVucmVsYXRlZCkgcGxheXdyaWdodCB0ZXN0cyBjb25zaXN0ZW50bHkgdGltZSBvdXQuIEZZSSwgdGhpcyBtYWtlcwogICAgLy8gaW5zdGFuY2VzIG9mIGBTZW50cnlFcnJvcmAgZmFpbCBgb2JqIGluc3RhbmNlb2YgU2VudHJ5RXJyb3JgIGNoZWNrcy4KICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7CiAgICB0aGlzLmxvZ0xldmVsID0gbG9nTGV2ZWw7CiAgfQp9CgovKioKICogRW5jb2RlcyBnaXZlbiBvYmplY3QgaW50byB1cmwtZnJpZW5kbHkgZm9ybWF0CiAqCiAqIEBwYXJhbSBvYmplY3QgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgc2VyaWFsaXphYmxlIHZhbHVlcwogKiBAcmV0dXJucyBzdHJpbmcgRW5jb2RlZAogKi8KZnVuY3Rpb24gdXJsRW5jb2RlKG9iamVjdCkgewogIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpCiAgICAubWFwKGtleSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQob2JqZWN0W2tleV0pfWApCiAgICAuam9pbignJicpOwp9CgovKioKICogVHJhbnNmb3JtcyBhbnkgYEVycm9yYCBvciBgRXZlbnRgIGludG8gYSBwbGFpbiBvYmplY3Qgd2l0aCBhbGwgb2YgdGhlaXIgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLCBhbmQgc29tZSBvZiB0aGVpcgogKiBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGF0dGFjaGVkLgogKgogKiBAcGFyYW0gdmFsdWUgSW5pdGlhbCBzb3VyY2UgdGhhdCB3ZSBoYXZlIHRvIHRyYW5zZm9ybSBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdXNhYmxlIGJ5IHRoZSBzZXJpYWxpemVyCiAqIEByZXR1cm5zIEFuIEV2ZW50IG9yIEVycm9yIHR1cm5lZCBpbnRvIGFuIG9iamVjdCAtIG9yIHRoZSB2YWx1ZSBhcmd1cm1lbnQgaXRzZWxmLCB3aGVuIHZhbHVlIGlzIG5laXRoZXIgYW4gRXZlbnQgbm9yCiAqICBhbiBFcnJvci4KICovCmZ1bmN0aW9uIGNvbnZlcnRUb1BsYWluT2JqZWN0KAogIHZhbHVlLAopCgogewogIGlmIChpc0Vycm9yKHZhbHVlKSkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogdmFsdWUubWVzc2FnZSwKICAgICAgbmFtZTogdmFsdWUubmFtZSwKICAgICAgc3RhY2s6IHZhbHVlLnN0YWNrLAogICAgICAuLi5nZXRPd25Qcm9wZXJ0aWVzKHZhbHVlKSwKICAgIH07CiAgfSBlbHNlIGlmIChpc0V2ZW50KHZhbHVlKSkgewogICAgY29uc3QgbmV3T2JqCgogPSB7CiAgICAgIHR5cGU6IHZhbHVlLnR5cGUsCiAgICAgIHRhcmdldDogc2VyaWFsaXplRXZlbnRUYXJnZXQodmFsdWUudGFyZ2V0KSwKICAgICAgY3VycmVudFRhcmdldDogc2VyaWFsaXplRXZlbnRUYXJnZXQodmFsdWUuY3VycmVudFRhcmdldCksCiAgICAgIC4uLmdldE93blByb3BlcnRpZXModmFsdWUpLAogICAgfTsKCiAgICBpZiAodHlwZW9mIEN1c3RvbUV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2YodmFsdWUsIEN1c3RvbUV2ZW50KSkgewogICAgICBuZXdPYmouZGV0YWlsID0gdmFsdWUuZGV0YWlsOwogICAgfQoKICAgIHJldHVybiBuZXdPYmo7CiAgfSBlbHNlIHsKICAgIHJldHVybiB2YWx1ZTsKICB9Cn0KCi8qKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0YXJnZXQgb2YgYW4gYEV2ZW50YCBvYmplY3QgKi8KZnVuY3Rpb24gc2VyaWFsaXplRXZlbnRUYXJnZXQodGFyZ2V0KSB7CiAgdHJ5IHsKICAgIHJldHVybiBpc0VsZW1lbnQodGFyZ2V0KSA/IGh0bWxUcmVlQXNTdHJpbmcodGFyZ2V0KSA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YXJnZXQpOwogIH0gY2F0Y2ggKF9vTykgewogICAgcmV0dXJuICc8dW5rbm93bj4nOwogIH0KfQoKLyoqIEZpbHRlcnMgb3V0IGFsbCBidXQgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgKi8KZnVuY3Rpb24gZ2V0T3duUHJvcGVydGllcyhvYmopIHsKICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7CiAgICBjb25zdCBleHRyYWN0ZWRQcm9wcyA9IHt9OwogICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmopIHsKICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkgewogICAgICAgIGV4dHJhY3RlZFByb3BzW3Byb3BlcnR5XSA9IChvYmogKVtwcm9wZXJ0eV07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBleHRyYWN0ZWRQcm9wczsKICB9IGVsc2UgewogICAgcmV0dXJuIHt9OwogIH0KfQoKLyoqCiAqIEdpdmVuIGFueSBvYmplY3QsIHJldHVybiBhIG5ldyBvYmplY3QgaGF2aW5nIHJlbW92ZWQgYWxsIGZpZWxkcyB3aG9zZSB2YWx1ZSB3YXMgYHVuZGVmaW5lZGAuCiAqIFdvcmtzIHJlY3Vyc2l2ZWx5IG9uIG9iamVjdHMgYW5kIGFycmF5cy4KICoKICogQXR0ZW50aW9uOiBUaGlzIGZ1bmN0aW9uIGtlZXBzIGNpcmN1bGFyIHJlZmVyZW5jZXMgaW4gdGhlIHJldHVybmVkIG9iamVjdC4KICovCmZ1bmN0aW9uIGRyb3BVbmRlZmluZWRLZXlzKGlucHV0VmFsdWUpIHsKICAvLyBUaGlzIG1hcCBrZWVwcyB0cmFjayBvZiB3aGF0IGFscmVhZHkgdmlzaXRlZCBub2RlcyBtYXAgdG8uCiAgLy8gT3VyIFNldCAtIGJhc2VkIG1lbW9CdWlsZGVyIGRvZXNuJ3Qgd29yayBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byB0aGUgb3V0cHV0IG9iamVjdCB0byBoYXZlIHRoZSBzYW1lIGNpcmN1bGFyCiAgLy8gcmVmZXJlbmNlcyBhcyB0aGUgaW5wdXQgb2JqZWN0LgogIGNvbnN0IG1lbW9pemF0aW9uTWFwID0gbmV3IE1hcCgpOwoKICAvLyBUaGlzIGZ1bmN0aW9uIGp1c3QgcHJveGllcyBgX2Ryb3BVbmRlZmluZWRLZXlzYCB0byBrZWVwIHRoZSBgbWVtb0J1aWxkZXJgIG91dCBvZiB0aGlzIGZ1bmN0aW9uJ3MgQVBJCiAgcmV0dXJuIF9kcm9wVW5kZWZpbmVkS2V5cyhpbnB1dFZhbHVlLCBtZW1vaXphdGlvbk1hcCk7Cn0KCmZ1bmN0aW9uIF9kcm9wVW5kZWZpbmVkS2V5cyhpbnB1dFZhbHVlLCBtZW1vaXphdGlvbk1hcCkgewogIGlmIChpc1Bvam8oaW5wdXRWYWx1ZSkpIHsKICAgIC8vIElmIHRoaXMgbm9kZSBoYXMgYWxyZWFkeSBiZWVuIHZpc2l0ZWQgZHVlIHRvIGEgY2lyY3VsYXIgcmVmZXJlbmNlLCByZXR1cm4gdGhlIG9iamVjdCBpdCB3YXMgbWFwcGVkIHRvIGluIHRoZSBuZXcgb2JqZWN0CiAgICBjb25zdCBtZW1vVmFsID0gbWVtb2l6YXRpb25NYXAuZ2V0KGlucHV0VmFsdWUpOwogICAgaWYgKG1lbW9WYWwgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gbWVtb1ZhbCA7CiAgICB9CgogICAgY29uc3QgcmV0dXJuVmFsdWUgPSB7fTsKICAgIC8vIFN0b3JlIHRoZSBtYXBwaW5nIG9mIHRoaXMgdmFsdWUgaW4gY2FzZSB3ZSB2aXNpdCBpdCBhZ2FpbiwgaW4gY2FzZSBvZiBjaXJjdWxhciBkYXRhCiAgICBtZW1vaXphdGlvbk1hcC5zZXQoaW5wdXRWYWx1ZSwgcmV0dXJuVmFsdWUpOwoKICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGlucHV0VmFsdWUpKSB7CiAgICAgIGlmICh0eXBlb2YgaW5wdXRWYWx1ZVtrZXldICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHJldHVyblZhbHVlW2tleV0gPSBfZHJvcFVuZGVmaW5lZEtleXMoaW5wdXRWYWx1ZVtrZXldLCBtZW1vaXphdGlvbk1hcCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWUgOwogIH0KCiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXRWYWx1ZSkpIHsKICAgIC8vIElmIHRoaXMgbm9kZSBoYXMgYWxyZWFkeSBiZWVuIHZpc2l0ZWQgZHVlIHRvIGEgY2lyY3VsYXIgcmVmZXJlbmNlLCByZXR1cm4gdGhlIGFycmF5IGl0IHdhcyBtYXBwZWQgdG8gaW4gdGhlIG5ldyBvYmplY3QKICAgIGNvbnN0IG1lbW9WYWwgPSBtZW1vaXphdGlvbk1hcC5nZXQoaW5wdXRWYWx1ZSk7CiAgICBpZiAobWVtb1ZhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBtZW1vVmFsIDsKICAgIH0KCiAgICBjb25zdCByZXR1cm5WYWx1ZSA9IFtdOwogICAgLy8gU3RvcmUgdGhlIG1hcHBpbmcgb2YgdGhpcyB2YWx1ZSBpbiBjYXNlIHdlIHZpc2l0IGl0IGFnYWluLCBpbiBjYXNlIG9mIGNpcmN1bGFyIGRhdGEKICAgIG1lbW9pemF0aW9uTWFwLnNldChpbnB1dFZhbHVlLCByZXR1cm5WYWx1ZSk7CgogICAgaW5wdXRWYWx1ZS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgIHJldHVyblZhbHVlLnB1c2goX2Ryb3BVbmRlZmluZWRLZXlzKGl0ZW0sIG1lbW9pemF0aW9uTWFwKSk7CiAgICB9KTsKCiAgICByZXR1cm4gcmV0dXJuVmFsdWUgOwogIH0KCiAgcmV0dXJuIGlucHV0VmFsdWU7Cn0KCmZ1bmN0aW9uIGlzUG9qbyhpbnB1dCkgewogIGlmICghaXNQbGFpbk9iamVjdChpbnB1dCkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHRyeSB7CiAgICBjb25zdCBuYW1lID0gKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgKS5jb25zdHJ1Y3Rvci5uYW1lOwogICAgcmV0dXJuICFuYW1lIHx8IG5hbWUgPT09ICdPYmplY3QnOwogIH0gY2F0Y2ggKGUpIHsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKLyoqCiAqIERvZXMgdGhpcyBmaWxlbmFtZSBsb29rIGxpa2UgaXQncyBwYXJ0IG9mIHRoZSBhcHAgY29kZT8KICovCmZ1bmN0aW9uIGZpbGVuYW1lSXNJbkFwcChmaWxlbmFtZSwgaXNOYXRpdmUgPSBmYWxzZSkgewogIGNvbnN0IGlzSW50ZXJuYWwgPQogICAgaXNOYXRpdmUgfHwKICAgIChmaWxlbmFtZSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiBpdCdzIGFuIGFic29sdXRlIGxpbnV4IHBhdGgKICAgICAgIWZpbGVuYW1lLnN0YXJ0c1dpdGgoJy8nKSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiBpdCdzIGFuIGFic29sdXRlIHdpbmRvd3MgcGF0aAogICAgICAhZmlsZW5hbWUubWF0Y2goL15bQS1aXTovKSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiB0aGUgcGF0aCBpcyBzdGFydGluZyB3aXRoIGEgZG90CiAgICAgICFmaWxlbmFtZS5zdGFydHNXaXRoKCcuJykgJiYKICAgICAgLy8gSXQncyBub3QgaW50ZXJuYWwgaWYgdGhlIGZyYW1lIGhhcyBhIHByb3RvY29sLiBJbiBub2RlLCB0aGlzIGlzIHVzdWFsbHkgdGhlIGNhc2UgaWYgdGhlIGZpbGUgZ290IHByZS1wcm9jZXNzZWQgd2l0aCBhIGJ1bmRsZXIgbGlrZSB3ZWJwYWNrCiAgICAgICFmaWxlbmFtZS5tYXRjaCgvXlthLXpBLVpdKFthLXpBLVowLTkuXC0rXSkqOlwvXC8vKSk7IC8vIFNjaGVtYSBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY0MTc4MgoKICAvLyBpbl9hcHAgaXMgYWxsIHRoYXQncyBub3QgYW4gaW50ZXJuYWwgTm9kZSBmdW5jdGlvbiBvciBhIG1vZHVsZSB3aXRoaW4gbm9kZV9tb2R1bGVzCiAgLy8gbm90ZSB0aGF0IGlzTmF0aXZlIGFwcGVhcnMgdG8gcmV0dXJuIHRydWUgZXZlbiBmb3Igbm9kZSBjb3JlIGxpYnJhcmllcwogIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3JhdmVuLW5vZGUvaXNzdWVzLzE3NgoKICByZXR1cm4gIWlzSW50ZXJuYWwgJiYgZmlsZW5hbWUgIT09IHVuZGVmaW5lZCAmJiAhZmlsZW5hbWUuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy8nKTsKfQoKY29uc3QgU1RBQ0tUUkFDRV9GUkFNRV9MSU1JVCA9IDUwOwpjb25zdCBTVFJJUF9GUkFNRV9SRUdFWFAgPSAvY2FwdHVyZU1lc3NhZ2V8Y2FwdHVyZUV4Y2VwdGlvbi87CgovKioKICogUmVtb3ZlcyBTZW50cnkgZnJhbWVzIGZyb20gdGhlIHRvcCBhbmQgYm90dG9tIG9mIHRoZSBzdGFjayBpZiBwcmVzZW50IGFuZCBlbmZvcmNlcyBhIGxpbWl0IG9mIG1heCBudW1iZXIgb2YgZnJhbWVzLgogKiBBc3N1bWVzIHN0YWNrIGlucHV0IGlzIG9yZGVyZWQgZnJvbSB0b3AgdG8gYm90dG9tIGFuZCByZXR1cm5zIHRoZSByZXZlcnNlIHJlcHJlc2VudGF0aW9uIHNvIGNhbGwgc2l0ZSBvZiB0aGUKICogZnVuY3Rpb24gdGhhdCBjYXVzZWQgdGhlIGNyYXNoIGlzIHRoZSBsYXN0IGZyYW1lIGluIHRoZSBhcnJheS4KICogQGhpZGRlbgogKi8KZnVuY3Rpb24gc3RyaXBTZW50cnlGcmFtZXNBbmRSZXZlcnNlKHN0YWNrKSB7CiAgaWYgKCFzdGFjay5sZW5ndGgpIHsKICAgIHJldHVybiBbXTsKICB9CgogIGNvbnN0IGxvY2FsU3RhY2sgPSBBcnJheS5mcm9tKHN0YWNrKTsKCiAgLy8gSWYgc3RhY2sgc3RhcnRzIHdpdGggb25lIG9mIG91ciBBUEkgY2FsbHMsIHJlbW92ZSBpdCAoc3RhcnRzLCBtZWFuaW5nIGl0J3MgdGhlIHRvcCBvZiB0aGUgc3RhY2sgLSBha2EgbGFzdCBjYWxsKQogIGlmICgvc2VudHJ5V3JhcHBlZC8udGVzdChsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZnVuY3Rpb24gfHwgJycpKSB7CiAgICBsb2NhbFN0YWNrLnBvcCgpOwogIH0KCiAgLy8gUmV2ZXJzaW5nIGluIHRoZSBtaWRkbGUgb2YgdGhlIHByb2NlZHVyZSBhbGxvd3MgdXMgdG8ganVzdCBwb3AgdGhlIHZhbHVlcyBvZmYgdGhlIHN0YWNrCiAgbG9jYWxTdGFjay5yZXZlcnNlKCk7CgogIC8vIElmIHN0YWNrIGVuZHMgd2l0aCBvbmUgb2Ygb3VyIGludGVybmFsIEFQSSBjYWxscywgcmVtb3ZlIGl0IChlbmRzLCBtZWFuaW5nIGl0J3MgdGhlIGJvdHRvbSBvZiB0aGUgc3RhY2sgLSBha2EgdG9wLW1vc3QgY2FsbCkKICBpZiAoU1RSSVBfRlJBTUVfUkVHRVhQLnRlc3QobG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLmZ1bmN0aW9uIHx8ICcnKSkgewogICAgbG9jYWxTdGFjay5wb3AoKTsKCiAgICAvLyBXaGVuIHVzaW5nIHN5bnRoZXRpYyBldmVudHMsIHdlIHdpbGwgaGF2ZSBhIDIgbGV2ZWxzIGRlZXAgc3RhY2ssIGFzIGBuZXcgRXJyb3IoJ1NlbnRyeSBzeW50aGV0aWNFeGNlcHRpb24nKWAKICAgIC8vIGlzIHByb2R1Y2VkIHdpdGhpbiB0aGUgaHViIGl0c2VsZiwgbWFraW5nIGl0OgogICAgLy8KICAgIC8vICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24oKQogICAgLy8gICBnZXRDdXJyZW50SHViKCkuY2FwdHVyZUV4Y2VwdGlvbigpCiAgICAvLwogICAgLy8gaW5zdGVhZCBvZiBqdXN0IHRoZSB0b3AgYFNlbnRyeWAgY2FsbCBpdHNlbGYuCiAgICAvLyBUaGlzIGZvcmNlcyB1cyB0byBwb3NzaWJseSBzdHJpcCBhbiBhZGRpdGlvbmFsIGZyYW1lIGluIHRoZSBleGFjdCBzYW1lIHdhcyBhcyBhYm92ZS4KICAgIGlmIChTVFJJUF9GUkFNRV9SRUdFWFAudGVzdChsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZnVuY3Rpb24gfHwgJycpKSB7CiAgICAgIGxvY2FsU3RhY2sucG9wKCk7CiAgICB9CiAgfQoKICByZXR1cm4gbG9jYWxTdGFjay5zbGljZSgwLCBTVEFDS1RSQUNFX0ZSQU1FX0xJTUlUKS5tYXAoZnJhbWUgPT4gKHsKICAgIC4uLmZyYW1lLAogICAgZmlsZW5hbWU6IGZyYW1lLmZpbGVuYW1lIHx8IGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5maWxlbmFtZSwKICAgIGZ1bmN0aW9uOiBmcmFtZS5mdW5jdGlvbiB8fCAnPycsCiAgfSkpOwp9Cgpjb25zdCBkZWZhdWx0RnVuY3Rpb25OYW1lID0gJzxhbm9ueW1vdXM+JzsKCi8qKgogKiBTYWZlbHkgZXh0cmFjdCBmdW5jdGlvbiBuYW1lIGZyb20gaXRzZWxmCiAqLwpmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoZm4pIHsKICB0cnkgewogICAgaWYgKCFmbiB8fCB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7CiAgICB9CiAgICByZXR1cm4gZm4ubmFtZSB8fCBkZWZhdWx0RnVuY3Rpb25OYW1lOwogIH0gY2F0Y2ggKGUpIHsKICAgIC8vIEp1c3QgYWNjZXNzaW5nIGN1c3RvbSBwcm9wcyBpbiBzb21lIFNlbGVuaXVtIGVudmlyb25tZW50cwogICAgLy8gY2FuIGNhdXNlIGEgIlBlcm1pc3Npb24gZGVuaWVkIiBleGNlcHRpb24gKHNlZSByYXZlbi1qcyM0OTUpLgogICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7CiAgfQp9CgovKioKICogVVVJRDQgZ2VuZXJhdG9yCiAqCiAqIEByZXR1cm5zIHN0cmluZyBHZW5lcmF0ZWQgVVVJRDQuCiAqLwpmdW5jdGlvbiB1dWlkNCgpIHsKICBjb25zdCBnYmwgPSBHTE9CQUxfT0JKIDsKICBjb25zdCBjcnlwdG8gPSBnYmwuY3J5cHRvIHx8IGdibC5tc0NyeXB0bzsKCiAgbGV0IGdldFJhbmRvbUJ5dGUgPSAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTY7CiAgdHJ5IHsKICAgIGlmIChjcnlwdG8gJiYgY3J5cHRvLnJhbmRvbVVVSUQpIHsKICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJyk7CiAgICB9CiAgICBpZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHsKICAgICAgZ2V0UmFuZG9tQnl0ZSA9ICgpID0+IHsKICAgICAgICAvLyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG1pZ2h0IHJldHVybiB1bmRlZmluZWQgaW5zdGVhZCBvZiB0aGUgdHlwZWQgYXJyYXkKICAgICAgICAvLyBpbiBvbGQgQ2hyb21pdW0gdmVyc2lvbnMgKGUuZy4gMjMuMC4xMjM1LjAgKDE1MTQyMikpCiAgICAgICAgLy8gSG93ZXZlciwgYHR5cGVkQXJyYXlgIGlzIHN0aWxsIGZpbGxlZCBpbi1wbGFjZS4KICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DcnlwdG8vZ2V0UmFuZG9tVmFsdWVzI3R5cGVkYXJyYXkKICAgICAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMSk7CiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0eXBlZEFycmF5KTsKICAgICAgICByZXR1cm4gdHlwZWRBcnJheVswXTsKICAgICAgfTsKICAgIH0KICB9IGNhdGNoIChfKSB7CiAgICAvLyBzb21lIHJ1bnRpbWVzIGNhbiBjcmFzaCBpbnZva2luZyBjcnlwdG8KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzg5MzUKICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTE3NTIzIzIxMTc1MjMKICAvLyBDb25jYXRlbmF0aW5nIHRoZSBmb2xsb3dpbmcgbnVtYmVycyBhcyBzdHJpbmdzIHJlc3VsdHMgaW4gJzEwMDAwMDAwMTAwMDQwMDA4MDAwMTAwMDAwMDAwMDAwJwogIHJldHVybiAoKFsxZTddICkgKyAxZTMgKyA0ZTMgKyA4ZTMgKyAxZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZQogICAgKChjICkgXiAoKGdldFJhbmRvbUJ5dGUoKSAmIDE1KSA+PiAoKGMgKSAvIDQpKSkudG9TdHJpbmcoMTYpLAogICk7Cn0KCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqLwovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovCgovKioKICogSGVscGVyIHRvIGRlY3ljbGUganNvbiBvYmplY3RzCiAqLwpmdW5jdGlvbiBtZW1vQnVpbGRlcigpIHsKICBjb25zdCBoYXNXZWFrU2V0ID0gdHlwZW9mIFdlYWtTZXQgPT09ICdmdW5jdGlvbic7CiAgY29uc3QgaW5uZXIgPSBoYXNXZWFrU2V0ID8gbmV3IFdlYWtTZXQoKSA6IFtdOwogIGZ1bmN0aW9uIG1lbW9pemUob2JqKSB7CiAgICBpZiAoaGFzV2Vha1NldCkgewogICAgICBpZiAoaW5uZXIuaGFzKG9iaikpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpbm5lci5hZGQob2JqKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItZm9yLW9mCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlubmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gaW5uZXJbaV07CiAgICAgIGlmICh2YWx1ZSA9PT0gb2JqKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIGlubmVyLnB1c2gob2JqKTsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHVubWVtb2l6ZShvYmopIHsKICAgIGlmIChoYXNXZWFrU2V0KSB7CiAgICAgIGlubmVyLmRlbGV0ZShvYmopOwogICAgfSBlbHNlIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbm5lci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpbm5lcltpXSA9PT0gb2JqKSB7CiAgICAgICAgICBpbm5lci5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIFttZW1vaXplLCB1bm1lbW9pemVdOwp9CgovKioKICogUmVjdXJzaXZlbHkgbm9ybWFsaXplcyB0aGUgZ2l2ZW4gb2JqZWN0LgogKgogKiAtIENyZWF0ZXMgYSBjb3B5IHRvIHByZXZlbnQgb3JpZ2luYWwgaW5wdXQgbXV0YXRpb24KICogLSBTa2lwcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzCiAqIC0gV2hlbiBzdHJpbmdpZnlpbmcsIGNhbGxzIGB0b0pTT05gIGlmIGltcGxlbWVudGVkCiAqIC0gUmVtb3ZlcyBjaXJjdWxhciByZWZlcmVuY2VzCiAqIC0gVHJhbnNsYXRlcyBub24tc2VyaWFsaXphYmxlIHZhbHVlcyAoYHVuZGVmaW5lZGAvYE5hTmAvZnVuY3Rpb25zKSB0byBzZXJpYWxpemFibGUgZm9ybWF0CiAqIC0gVHJhbnNsYXRlcyBrbm93biBnbG9iYWwgb2JqZWN0cy9jbGFzc2VzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9ucwogKiAtIFRha2VzIGNhcmUgb2YgYEVycm9yYCBvYmplY3Qgc2VyaWFsaXphdGlvbgogKiAtIE9wdGlvbmFsbHkgbGltaXRzIGRlcHRoIG9mIGZpbmFsIG91dHB1dAogKiAtIE9wdGlvbmFsbHkgbGltaXRzIG51bWJlciBvZiBwcm9wZXJ0aWVzL2VsZW1lbnRzIGluY2x1ZGVkIGluIGFueSBzaW5nbGUgb2JqZWN0L2FycmF5CiAqCiAqIEBwYXJhbSBpbnB1dCBUaGUgb2JqZWN0IHRvIGJlIG5vcm1hbGl6ZWQuCiAqIEBwYXJhbSBkZXB0aCBUaGUgbWF4IGRlcHRoIHRvIHdoaWNoIHRvIG5vcm1hbGl6ZSB0aGUgb2JqZWN0LiAoQW55dGhpbmcgZGVlcGVyIHN0cmluZ2lmaWVkIHdob2xlLikKICogQHBhcmFtIG1heFByb3BlcnRpZXMgVGhlIG1heCBudW1iZXIgb2YgZWxlbWVudHMgb3IgcHJvcGVydGllcyB0byBiZSBpbmNsdWRlZCBpbiBhbnkgc2luZ2xlIGFycmF5IG9yCiAqIG9iamVjdCBpbiB0aGUgbm9ybWFsbGl6ZWQgb3V0cHV0LgogKiBAcmV0dXJucyBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgb2JqZWN0LCBvciBgIioqbm9uLXNlcmlhbGl6YWJsZSoqImAgaWYgYW55IGVycm9ycyBhcmUgdGhyb3duIGR1cmluZyBub3JtYWxpemF0aW9uLgogKi8KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKZnVuY3Rpb24gbm9ybWFsaXplKGlucHV0LCBkZXB0aCA9IDEwMCwgbWF4UHJvcGVydGllcyA9ICtJbmZpbml0eSkgewogIHRyeSB7CiAgICAvLyBzaW5jZSB3ZSdyZSBhdCB0aGUgb3V0ZXJtb3N0IGxldmVsLCB3ZSBkb24ndCBwcm92aWRlIGEga2V5CiAgICByZXR1cm4gdmlzaXQoJycsIGlucHV0LCBkZXB0aCwgbWF4UHJvcGVydGllcyk7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICByZXR1cm4geyBFUlJPUjogYCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2Vycn0pYCB9OwogIH0KfQoKLyoqCiAqIFZpc2l0cyBhIG5vZGUgdG8gcGVyZm9ybSBub3JtYWxpemF0aW9uIG9uIGl0CiAqCiAqIEBwYXJhbSBrZXkgVGhlIGtleSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBub2RlCiAqIEBwYXJhbSB2YWx1ZSBUaGUgbm9kZSB0byBiZSB2aXNpdGVkCiAqIEBwYXJhbSBkZXB0aCBPcHRpb25hbCBudW1iZXIgaW5kaWNhdGluZyB0aGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGgKICogQHBhcmFtIG1heFByb3BlcnRpZXMgT3B0aW9uYWwgbWF4aW11bSBudW1iZXIgb2YgcHJvcGVydGllcy9lbGVtZW50cyBpbmNsdWRlZCBpbiBhbnkgc2luZ2xlIG9iamVjdC9hcnJheQogKiBAcGFyYW0gbWVtbyBPcHRpb25hbCBNZW1vIGNsYXNzIGhhbmRsaW5nIGRlY3ljbGluZwogKi8KZnVuY3Rpb24gdmlzaXQoCiAga2V5LAogIHZhbHVlLAogIGRlcHRoID0gK0luZmluaXR5LAogIG1heFByb3BlcnRpZXMgPSArSW5maW5pdHksCiAgbWVtbyA9IG1lbW9CdWlsZGVyKCksCikgewogIGNvbnN0IFttZW1vaXplLCB1bm1lbW9pemVdID0gbWVtbzsKCiAgLy8gR2V0IHRoZSBzaW1wbGUgY2FzZXMgb3V0IG9mIHRoZSB3YXkgZmlyc3QKICBpZiAoCiAgICB2YWx1ZSA9PSBudWxsIHx8IC8vIHRoaXMgbWF0Y2hlcyBudWxsIGFuZCB1bmRlZmluZWQgLT4gZXFlcSBub3QgZXFlcWVxCiAgICAoWydudW1iZXInLCAnYm9vbGVhbicsICdzdHJpbmcnXS5pbmNsdWRlcyh0eXBlb2YgdmFsdWUpICYmICFpc05hTiQxKHZhbHVlKSkKICApIHsKICAgIHJldHVybiB2YWx1ZSA7CiAgfQoKICBjb25zdCBzdHJpbmdpZmllZCA9IHN0cmluZ2lmeVZhbHVlKGtleSwgdmFsdWUpOwoKICAvLyBBbnl0aGluZyB3ZSBjb3VsZCBwb3RlbnRpYWxseSBkaWcgaW50byBtb3JlIChvYmplY3RzIG9yIGFycmF5cykgd2lsbCBoYXZlIGNvbWUgYmFjayBhcyBgIltvYmplY3QgWFhYWF0iYC4KICAvLyBFdmVyeXRoaW5nIGVsc2Ugd2lsbCBoYXZlIGFscmVhZHkgYmVlbiBzZXJpYWxpemVkLCBzbyBpZiB3ZSBkb24ndCBzZWUgdGhhdCBwYXR0ZXJuLCB3ZSdyZSBkb25lLgogIGlmICghc3RyaW5naWZpZWQuc3RhcnRzV2l0aCgnW29iamVjdCAnKSkgewogICAgcmV0dXJuIHN0cmluZ2lmaWVkOwogIH0KCiAgLy8gRnJvbSBoZXJlIG9uLCB3ZSBjYW4gYXNzZXJ0IHRoYXQgYHZhbHVlYCBpcyBlaXRoZXIgYW4gb2JqZWN0IG9yIGFuIGFycmF5LgoKICAvLyBEbyBub3Qgbm9ybWFsaXplIG9iamVjdHMgdGhhdCB3ZSBrbm93IGhhdmUgYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQuIEFzIGEgZ2VuZXJhbCBydWxlLCB0aGUKICAvLyAiX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18iIHByb3BlcnR5IHNob3VsZCBvbmx5IGJlIHVzZWQgc3BhcmluZ2x5IGFuZCBvbmx5IHNob3VsZCBvbmx5IGJlIHNldCBvbiBvYmplY3RzIHRoYXQKICAvLyBoYXZlIGFscmVhZHkgYmVlbiBub3JtYWxpemVkLgogIGlmICgodmFsdWUgKVsnX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18nXSkgewogICAgcmV0dXJuIHZhbHVlIDsKICB9CgogIC8vIFdlIGNhbiBzZXQgYF9fc2VudHJ5X292ZXJyaWRlX25vcm1hbGl6YXRpb25fZGVwdGhfX2Agb24gYW4gb2JqZWN0IHRvIGVuc3VyZSB0aGF0IGZyb20gdGhlcmUKICAvLyBXZSBrZWVwIGEgY2VydGFpbiBhbW91bnQgb2YgZGVwdGguCiAgLy8gVGhpcyBzaG91bGQgYmUgdXNlZCBzcGFyaW5nbHksIGUuZy4gd2UgdXNlIGl0IGZvciB0aGUgcmVkdXggaW50ZWdyYXRpb24gdG8gZW5zdXJlIHdlIGdldCBhIGNlcnRhaW4gYW1vdW50IG9mIHN0YXRlLgogIGNvbnN0IHJlbWFpbmluZ0RlcHRoID0KICAgIHR5cGVvZiAodmFsdWUgKVsnX19zZW50cnlfb3ZlcnJpZGVfbm9ybWFsaXphdGlvbl9kZXB0aF9fJ10gPT09ICdudW1iZXInCiAgICAgID8gKCh2YWx1ZSApWydfX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18nXSApCiAgICAgIDogZGVwdGg7CgogIC8vIFdlJ3JlIGFsc28gZG9uZSBpZiB3ZSd2ZSByZWFjaGVkIHRoZSBtYXggZGVwdGgKICBpZiAocmVtYWluaW5nRGVwdGggPT09IDApIHsKICAgIC8vIEF0IHRoaXMgcG9pbnQgd2Uga25vdyBgc2VyaWFsaXplZGAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm0gYCJbb2JqZWN0IFhYWFhdImAuIENsZWFuIGl0IHVwIHNvIGl0J3MganVzdCBgIltYWFhYXSJgLgogICAgcmV0dXJuIHN0cmluZ2lmaWVkLnJlcGxhY2UoJ29iamVjdCAnLCAnJyk7CiAgfQoKICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhpcyBicmFuY2gsIGJhaWwgb3V0LCBhcyBpdCdzIGNpcmN1bGFyIHJlZmVyZW5jZS4gSWYgbm90LCBub3RlIHRoYXQgd2UncmUgc2VlaW5nIGl0IG5vdy4KICBpZiAobWVtb2l6ZSh2YWx1ZSkpIHsKICAgIHJldHVybiAnW0NpcmN1bGFyIH5dJzsKICB9CgogIC8vIElmIHRoZSB2YWx1ZSBoYXMgYSBgdG9KU09OYCBtZXRob2QsIHdlIGNhbGwgaXQgdG8gZXh0cmFjdCBtb3JlIGluZm9ybWF0aW9uCiAgY29uc3QgdmFsdWVXaXRoVG9KU09OID0gdmFsdWUgOwogIGlmICh2YWx1ZVdpdGhUb0pTT04gJiYgdHlwZW9mIHZhbHVlV2l0aFRvSlNPTi50b0pTT04gPT09ICdmdW5jdGlvbicpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGpzb25WYWx1ZSA9IHZhbHVlV2l0aFRvSlNPTi50b0pTT04oKTsKICAgICAgLy8gV2UgbmVlZCB0byBub3JtYWxpemUgdGhlIHJldHVybiB2YWx1ZSBvZiBgLnRvSlNPTigpYCBpbiBjYXNlIGl0IGhhcyBjaXJjdWxhciByZWZlcmVuY2VzCiAgICAgIHJldHVybiB2aXNpdCgnJywganNvblZhbHVlLCByZW1haW5pbmdEZXB0aCAtIDEsIG1heFByb3BlcnRpZXMsIG1lbW8pOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIC8vIHBhc3MgKFRoZSBidWlsdC1pbiBgdG9KU09OYCBmYWlsZWQsIGJ1dCB3ZSBjYW4gc3RpbGwgdHJ5IHRvIGRvIGl0IG91cnNlbHZlcykKICAgIH0KICB9CgogIC8vIEF0IHRoaXMgcG9pbnQgd2Uga25vdyB3ZSBlaXRoZXIgaGF2ZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXksIHdlIGhhdmVuJ3Qgc2VlbiBpdCBiZWZvcmUsIGFuZCB3ZSdyZSBnb2luZyB0byByZWN1cnNlCiAgLy8gYmVjYXVzZSB3ZSBoYXZlbid0IHlldCByZWFjaGVkIHRoZSBtYXggZGVwdGguIENyZWF0ZSBhbiBhY2N1bXVsYXRvciB0byBob2xkIHRoZSByZXN1bHRzIG9mIHZpc2l0aW5nIGVhY2gKICAvLyBwcm9wZXJ0eS9lbnRyeSwgYW5kIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBpdGVtcyB3ZSBhZGQgdG8gaXQuCiAgY29uc3Qgbm9ybWFsaXplZCA9IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IFtdIDoge30pIDsKICBsZXQgbnVtQWRkZWQgPSAwOwoKICAvLyBCZWZvcmUgd2UgYmVnaW4sIGNvbnZlcnRgRXJyb3JgIGFuZGBFdmVudGAgaW5zdGFuY2VzIGludG8gcGxhaW4gb2JqZWN0cywgc2luY2Ugc29tZSBvZiBlYWNoIG9mIHRoZWlyIHJlbGV2YW50CiAgLy8gcHJvcGVydGllcyBhcmUgbm9uLWVudW1lcmFibGUgYW5kIG90aGVyd2lzZSB3b3VsZCBnZXQgbWlzc2VkLgogIGNvbnN0IHZpc2l0YWJsZSA9IGNvbnZlcnRUb1BsYWluT2JqZWN0KHZhbHVlICk7CgogIGZvciAoY29uc3QgdmlzaXRLZXkgaW4gdmlzaXRhYmxlKSB7CiAgICAvLyBBdm9pZCBpdGVyYXRpbmcgb3ZlciBmaWVsZHMgaW4gdGhlIHByb3RvdHlwZSBpZiB0aGV5J3ZlIHNvbWVob3cgYmVlbiBleHBvc2VkIHRvIGVudW1lcmF0aW9uLgogICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmlzaXRhYmxlLCB2aXNpdEtleSkpIHsKICAgICAgY29udGludWU7CiAgICB9CgogICAgaWYgKG51bUFkZGVkID49IG1heFByb3BlcnRpZXMpIHsKICAgICAgbm9ybWFsaXplZFt2aXNpdEtleV0gPSAnW01heFByb3BlcnRpZXMgfl0nOwogICAgICBicmVhazsKICAgIH0KCiAgICAvLyBSZWN1cnNpdmVseSB2aXNpdCBhbGwgdGhlIGNoaWxkIG5vZGVzCiAgICBjb25zdCB2aXNpdFZhbHVlID0gdmlzaXRhYmxlW3Zpc2l0S2V5XTsKICAgIG5vcm1hbGl6ZWRbdmlzaXRLZXldID0gdmlzaXQodmlzaXRLZXksIHZpc2l0VmFsdWUsIHJlbWFpbmluZ0RlcHRoIC0gMSwgbWF4UHJvcGVydGllcywgbWVtbyk7CgogICAgbnVtQWRkZWQrKzsKICB9CgogIC8vIE9uY2Ugd2UndmUgdmlzaXRlZCBhbGwgdGhlIGJyYW5jaGVzLCByZW1vdmUgdGhlIHBhcmVudCBmcm9tIG1lbW8gc3RvcmFnZQogIHVubWVtb2l6ZSh2YWx1ZSk7CgogIC8vIFJldHVybiBhY2N1bXVsYXRlZCB2YWx1ZXMKICByZXR1cm4gbm9ybWFsaXplZDsKfQoKLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqLwovKioKICogU3RyaW5naWZ5IHRoZSBnaXZlbiB2YWx1ZS4gSGFuZGxlcyB2YXJpb3VzIGtub3duIHNwZWNpYWwgdmFsdWVzIGFuZCB0eXBlcy4KICoKICogTm90IG1lYW50IHRvIGJlIHVzZWQgb24gc2ltcGxlIHByaW1pdGl2ZXMgd2hpY2ggYWxyZWFkeSBoYXZlIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLCBhcyBpdCB3aWxsLCBmb3IgZXhhbXBsZSwgdHVybgogKiB0aGUgbnVtYmVyIDEyMzEgaW50byAiW09iamVjdCBOdW1iZXJdIiwgbm9yIG9uIGBudWxsYCwgYXMgaXQgd2lsbCB0aHJvdy4KICoKICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzdHJpbmdpZnkKICogQHJldHVybnMgQSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gdmFsdWUKICovCmZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKAogIGtleSwKICAvLyB0aGlzIHR5cGUgaXMgYSB0aW55IGJpdCBvZiBhIGNoZWF0LCBzaW5jZSB0aGlzIGZ1bmN0aW9uIGRvZXMgaGFuZGxlIE5hTiAod2hpY2ggaXMgdGVjaG5pY2FsbHkgYSBudW1iZXIpLCBidXQgZm9yCiAgLy8gb3VyIGludGVybmFsIHVzZSwgaXQnbGwgZG8KICB2YWx1ZSwKKSB7CiAgdHJ5IHsKICAgIGlmIChrZXkgPT09ICdkb21haW4nICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgKHZhbHVlICkuX2V2ZW50cykgewogICAgICByZXR1cm4gJ1tEb21haW5dJzsKICAgIH0KCiAgICBpZiAoa2V5ID09PSAnZG9tYWluRW1pdHRlcicpIHsKICAgICAgcmV0dXJuICdbRG9tYWluRW1pdHRlcl0nOwogICAgfQoKICAgIC8vIEl0J3Mgc2FmZSB0byB1c2UgYGdsb2JhbGAsIGB3aW5kb3dgLCBhbmQgYGRvY3VtZW50YCBoZXJlIGluIHRoaXMgbWFubmVyLCBhcyB3ZSBhcmUgYXNzZXJ0aW5nIHVzaW5nIGB0eXBlb2ZgIGZpcnN0CiAgICAvLyB3aGljaCB3b24ndCB0aHJvdyBpZiB0aGV5IGFyZSBub3QgcHJlc2VudC4KCiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IGdsb2JhbCkgewogICAgICByZXR1cm4gJ1tHbG9iYWxdJzsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IHdpbmRvdykgewogICAgICByZXR1cm4gJ1tXaW5kb3ddJzsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gZG9jdW1lbnQpIHsKICAgICAgcmV0dXJuICdbRG9jdW1lbnRdJzsKICAgIH0KCiAgICBpZiAoaXNWdWVWaWV3TW9kZWwodmFsdWUpKSB7CiAgICAgIHJldHVybiAnW1Z1ZVZpZXdNb2RlbF0nOwogICAgfQoKICAgIC8vIFJlYWN0J3MgU3ludGhldGljRXZlbnQgdGhpbmd5CiAgICBpZiAoaXNTeW50aGV0aWNFdmVudCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuICdbU3ludGhldGljRXZlbnRdJzsKICAgIH0KCiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gdmFsdWUpIHsKICAgICAgcmV0dXJuICdbTmFOXSc7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICByZXR1cm4gYFtGdW5jdGlvbjogJHtnZXRGdW5jdGlvbk5hbWUodmFsdWUpfV1gOwogICAgfQoKICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnKSB7CiAgICAgIHJldHVybiBgWyR7U3RyaW5nKHZhbHVlKX1dYDsKICAgIH0KCiAgICAvLyBzdHJpbmdpZmllZCBCaWdJbnRzIGFyZSBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIHJlZ3VsYXIgbnVtYmVycywgc28gd2UgbmVlZCB0byBsYWJlbCB0aGVtIHRvIGF2b2lkIGNvbmZ1c2lvbgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpIHsKICAgICAgcmV0dXJuIGBbQmlnSW50OiAke1N0cmluZyh2YWx1ZSl9XWA7CiAgICB9CgogICAgLy8gTm93IHRoYXQgd2UndmUga25vY2tlZCBvdXQgYWxsIHRoZSBzcGVjaWFsIGNhc2VzIGFuZCB0aGUgcHJpbWl0aXZlcywgYWxsIHdlIGhhdmUgbGVmdCBhcmUgb2JqZWN0cy4gU2ltcGx5IGNhc3RpbmcKICAgIC8vIHRoZW0gdG8gc3RyaW5ncyBtZWFucyB0aGF0IGluc3RhbmNlcyBvZiBjbGFzc2VzIHdoaWNoIGhhdmVuJ3QgZGVmaW5lZCB0aGVpciBgdG9TdHJpbmdUYWdgIHdpbGwganVzdCBjb21lIG91dCBhcwogICAgLy8gYCJbb2JqZWN0IE9iamVjdF0iYC4gSWYgd2UgaW5zdGVhZCBsb29rIGF0IHRoZSBjb25zdHJ1Y3RvcidzIG5hbWUgKHdoaWNoIGlzIHRoZSBzYW1lIGFzIHRoZSBuYW1lIG9mIHRoZSBjbGFzcyksCiAgICAvLyB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgb25seSBwbGFpbiBvYmplY3RzIGNvbWUgb3V0IHRoYXQgd2F5LgogICAgY29uc3Qgb2JqTmFtZSA9IGdldENvbnN0cnVjdG9yTmFtZSh2YWx1ZSk7CgogICAgLy8gSGFuZGxlIEhUTUwgRWxlbWVudHMKICAgIGlmICgvXkhUTUwoXHcqKUVsZW1lbnQkLy50ZXN0KG9iak5hbWUpKSB7CiAgICAgIHJldHVybiBgW0hUTUxFbGVtZW50OiAke29iak5hbWV9XWA7CiAgICB9CgogICAgcmV0dXJuIGBbb2JqZWN0ICR7b2JqTmFtZX1dYDsKICB9IGNhdGNoIChlcnIpIHsKICAgIHJldHVybiBgKipub24tc2VyaWFsaXphYmxlKiogKCR7ZXJyfSlgOwogIH0KfQovKiBlc2xpbnQtZW5hYmxlIGNvbXBsZXhpdHkgKi8KCmZ1bmN0aW9uIGdldENvbnN0cnVjdG9yTmFtZSh2YWx1ZSkgewogIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7CgogIHJldHVybiBwcm90b3R5cGUgPyBwcm90b3R5cGUuY29uc3RydWN0b3IubmFtZSA6ICdudWxsIHByb3RvdHlwZSc7Cn0KCi8qKgogKiBOb3JtYWxpemVzIFVSTHMgaW4gZXhjZXB0aW9ucyBhbmQgc3RhY2t0cmFjZXMgdG8gYSBiYXNlIHBhdGggc28gU2VudHJ5IGNhbiBmaW5nZXJwcmludAogKiBhY3Jvc3MgcGxhdGZvcm1zIGFuZCB3b3JraW5nIGRpcmVjdG9yeS4KICoKICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIGJlIG5vcm1hbGl6ZWQuCiAqIEBwYXJhbSBiYXNlUGF0aCBUaGUgYXBwbGljYXRpb24gYmFzZSBwYXRoLgogKiBAcmV0dXJucyBUaGUgbm9ybWFsaXplZCBVUkwuCiAqLwpmdW5jdGlvbiBub3JtYWxpemVVcmxUb0Jhc2UodXJsLCBiYXNlUGF0aCkgewogIGNvbnN0IGVzY2FwZWRCYXNlID0gYmFzZVBhdGgKICAgIC8vIEJhY2tzbGFzaCB0byBmb3J3YXJkCiAgICAucmVwbGFjZSgvXFwvZywgJy8nKQogICAgLy8gRXNjYXBlIFJlZ0V4cCBzcGVjaWFsIGNoYXJhY3RlcnMKICAgIC5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Ll0vZywgJ1xcJCYnKTsKCiAgbGV0IG5ld1VybCA9IHVybDsKICB0cnkgewogICAgbmV3VXJsID0gZGVjb2RlVVJJKHVybCk7CiAgfSBjYXRjaCAoX09vKSB7CiAgICAvLyBTb21ldGltZSB0aGlzIGJyZWFrcwogIH0KICByZXR1cm4gKAogICAgbmV3VXJsCiAgICAgIC5yZXBsYWNlKC9cXC9nLCAnLycpCiAgICAgIC5yZXBsYWNlKC93ZWJwYWNrOlwvPy9nLCAnJykgLy8gUmVtb3ZlIGludGVybWVkaWF0ZSBiYXNlIHBhdGgKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBzZW50cnktaW50ZXJuYWwvc2RrL25vLXJlZ2V4cC1jb25zdHJ1Y3RvcgogICAgICAucmVwbGFjZShuZXcgUmVnRXhwKGAoZmlsZTovLyk/Lyoke2VzY2FwZWRCYXNlfS8qYCwgJ2lnJyksICdhcHA6Ly8vJykKICApOwp9CgovLyBTbGlnaHRseSBtb2RpZmllZCAobm8gSUU4IHN1cHBvcnQsIEVTNikgYW5kIHRyYW5zY3JpYmVkIHRvIFR5cGVTY3JpcHQKCi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uCi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuCmNvbnN0IHNwbGl0UGF0aFJlID0gL14oXFMrOlxcfFwvPykoW1xzXFNdKj8pKCg/OlwuezEsMn18W14vXFxdKz98KShcLlteLi9cXF0qfCkpKD86Wy9cXF0qKSQvOwovKiogSlNEb2MgKi8KZnVuY3Rpb24gc3BsaXRQYXRoKGZpbGVuYW1lKSB7CiAgLy8gVHJ1bmNhdGUgZmlsZXMgbmFtZXMgZ3JlYXRlciB0aGFuIDEwMjQgY2hhcmFjdGVycyB0byBhdm9pZCByZWdleCBkb3MKICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L3B1bGwvODczNyNkaXNjdXNzaW9uX3IxMjg1NzE5MTcyCiAgY29uc3QgdHJ1bmNhdGVkID0gZmlsZW5hbWUubGVuZ3RoID4gMTAyNCA/IGA8dHJ1bmNhdGVkPiR7ZmlsZW5hbWUuc2xpY2UoLTEwMjQpfWAgOiBmaWxlbmFtZTsKICBjb25zdCBwYXJ0cyA9IHNwbGl0UGF0aFJlLmV4ZWModHJ1bmNhdGVkKTsKICByZXR1cm4gcGFydHMgPyBwYXJ0cy5zbGljZSgxKSA6IFtdOwp9CgovKiogSlNEb2MgKi8KZnVuY3Rpb24gZGlybmFtZShwYXRoKSB7CiAgY29uc3QgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpOwogIGNvbnN0IHJvb3QgPSByZXN1bHRbMF07CiAgbGV0IGRpciA9IHJlc3VsdFsxXTsKCiAgaWYgKCFyb290ICYmICFkaXIpIHsKICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlcgogICAgcmV0dXJuICcuJzsKICB9CgogIGlmIChkaXIpIHsKICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoCiAgICBkaXIgPSBkaXIuc2xpY2UoMCwgZGlyLmxlbmd0aCAtIDEpOwogIH0KCiAgcmV0dXJuIHJvb3QgKyBkaXI7Cn0KCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqLwoKLyoqIFN5bmNQcm9taXNlIGludGVybmFsIHN0YXRlcyAqLwp2YXIgU3RhdGVzOyAoZnVuY3Rpb24gKFN0YXRlcykgewogIC8qKiBQZW5kaW5nICovCiAgY29uc3QgUEVORElORyA9IDA7IFN0YXRlc1tTdGF0ZXNbIlBFTkRJTkciXSA9IFBFTkRJTkddID0gIlBFTkRJTkciOwogIC8qKiBSZXNvbHZlZCAvIE9LICovCiAgY29uc3QgUkVTT0xWRUQgPSAxOyBTdGF0ZXNbU3RhdGVzWyJSRVNPTFZFRCJdID0gUkVTT0xWRURdID0gIlJFU09MVkVEIjsKICAvKiogUmVqZWN0ZWQgLyBFcnJvciAqLwogIGNvbnN0IFJFSkVDVEVEID0gMjsgU3RhdGVzW1N0YXRlc1siUkVKRUNURUQiXSA9IFJFSkVDVEVEXSA9ICJSRUpFQ1RFRCI7Cn0pKFN0YXRlcyB8fCAoU3RhdGVzID0ge30pKTsKCi8vIE92ZXJsb2FkcyBzbyB3ZSBjYW4gY2FsbCByZXNvbHZlZFN5bmNQcm9taXNlIHdpdGhvdXQgYXJndW1lbnRzIGFuZCBnZW5lcmljIGFyZ3VtZW50CgovKioKICogQ3JlYXRlcyBhIHJlc29sdmVkIHN5bmMgcHJvbWlzZS4KICoKICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGgKICogQHJldHVybnMgdGhlIHJlc29sdmVkIHN5bmMgcHJvbWlzZQogKi8KZnVuY3Rpb24gcmVzb2x2ZWRTeW5jUHJvbWlzZSh2YWx1ZSkgewogIHJldHVybiBuZXcgU3luY1Byb21pc2UocmVzb2x2ZSA9PiB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9KTsKfQoKLyoqCiAqIENyZWF0ZXMgYSByZWplY3RlZCBzeW5jIHByb21pc2UuCiAqCiAqIEBwYXJhbSB2YWx1ZSB0aGUgdmFsdWUgdG8gcmVqZWN0IHRoZSBwcm9taXNlIHdpdGgKICogQHJldHVybnMgdGhlIHJlamVjdGVkIHN5bmMgcHJvbWlzZQogKi8KZnVuY3Rpb24gcmVqZWN0ZWRTeW5jUHJvbWlzZShyZWFzb24pIHsKICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKChfLCByZWplY3QpID0+IHsKICAgIHJlamVjdChyZWFzb24pOwogIH0pOwp9CgovKioKICogVGhlbmFibGUgY2xhc3MgdGhhdCBiZWhhdmVzIGxpa2UgYSBQcm9taXNlIGFuZCBmb2xsb3dzIGl0J3MgaW50ZXJmYWNlCiAqIGJ1dCBpcyBub3QgYXN5bmMgaW50ZXJuYWxseQogKi8KY2xhc3MgU3luY1Byb21pc2UgewoKICAgY29uc3RydWN0b3IoCiAgICBleGVjdXRvciwKICApIHtTeW5jUHJvbWlzZS5wcm90b3R5cGUuX19pbml0LmNhbGwodGhpcyk7U3luY1Byb21pc2UucHJvdG90eXBlLl9faW5pdDIuY2FsbCh0aGlzKTtTeW5jUHJvbWlzZS5wcm90b3R5cGUuX19pbml0My5jYWxsKHRoaXMpO1N5bmNQcm9taXNlLnByb3RvdHlwZS5fX2luaXQ0LmNhbGwodGhpcyk7CiAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlcy5QRU5ESU5HOwogICAgdGhpcy5faGFuZGxlcnMgPSBbXTsKCiAgICB0cnkgewogICAgICBleGVjdXRvcih0aGlzLl9yZXNvbHZlLCB0aGlzLl9yZWplY3QpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLl9yZWplY3QoZSk7CiAgICB9CiAgfQoKICAvKiogSlNEb2MgKi8KICAgdGhlbigKICAgIG9uZnVsZmlsbGVkLAogICAgb25yZWplY3RlZCwKICApIHsKICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICB0aGlzLl9oYW5kbGVycy5wdXNoKFsKICAgICAgICBmYWxzZSwKICAgICAgICByZXN1bHQgPT4gewogICAgICAgICAgaWYgKCFvbmZ1bGZpbGxlZCkgewogICAgICAgICAgICAvLyBUT0RPOiDCr1xfKOODhClfL8KvCiAgICAgICAgICAgIC8vIFRPRE86IEZJWE1FCiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0ICk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJlc29sdmUob25mdWxmaWxsZWQocmVzdWx0KSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlYXNvbiA9PiB7CiAgICAgICAgICBpZiAoIW9ucmVqZWN0ZWQpIHsKICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJlc29sdmUob25yZWplY3RlZChyZWFzb24pKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIF0pOwogICAgICB0aGlzLl9leGVjdXRlSGFuZGxlcnMoKTsKICAgIH0pOwogIH0KCiAgLyoqIEpTRG9jICovCiAgIGNhdGNoKAogICAgb25yZWplY3RlZCwKICApIHsKICAgIHJldHVybiB0aGlzLnRoZW4odmFsID0+IHZhbCwgb25yZWplY3RlZCk7CiAgfQoKICAvKiogSlNEb2MgKi8KICAgZmluYWxseShvbmZpbmFsbHkpIHsKICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBsZXQgdmFsOwogICAgICBsZXQgaXNSZWplY3RlZDsKCiAgICAgIHJldHVybiB0aGlzLnRoZW4oCiAgICAgICAgdmFsdWUgPT4gewogICAgICAgICAgaXNSZWplY3RlZCA9IGZhbHNlOwogICAgICAgICAgdmFsID0gdmFsdWU7CiAgICAgICAgICBpZiAob25maW5hbGx5KSB7CiAgICAgICAgICAgIG9uZmluYWxseSgpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVhc29uID0+IHsKICAgICAgICAgIGlzUmVqZWN0ZWQgPSB0cnVlOwogICAgICAgICAgdmFsID0gcmVhc29uOwogICAgICAgICAgaWYgKG9uZmluYWxseSkgewogICAgICAgICAgICBvbmZpbmFsbHkoKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICApLnRoZW4oKCkgPT4gewogICAgICAgIGlmIChpc1JlamVjdGVkKSB7CiAgICAgICAgICByZWplY3QodmFsKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUodmFsICk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICAvKiogSlNEb2MgKi8KICAgIF9faW5pdCgpIHt0aGlzLl9yZXNvbHZlID0gKHZhbHVlKSA9PiB7CiAgICB0aGlzLl9zZXRSZXN1bHQoU3RhdGVzLlJFU09MVkVELCB2YWx1ZSk7CiAgfTt9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0MigpIHt0aGlzLl9yZWplY3QgPSAocmVhc29uKSA9PiB7CiAgICB0aGlzLl9zZXRSZXN1bHQoU3RhdGVzLlJFSkVDVEVELCByZWFzb24pOwogIH07fQoKICAvKiogSlNEb2MgKi8KICAgIF9faW5pdDMoKSB7dGhpcy5fc2V0UmVzdWx0ID0gKHN0YXRlLCB2YWx1ZSkgPT4gewogICAgaWYgKHRoaXMuX3N0YXRlICE9PSBTdGF0ZXMuUEVORElORykgewogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGlzVGhlbmFibGUodmFsdWUpKSB7CiAgICAgIHZvaWQgKHZhbHVlICkudGhlbih0aGlzLl9yZXNvbHZlLCB0aGlzLl9yZWplY3QpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTsKICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7CgogICAgdGhpcy5fZXhlY3V0ZUhhbmRsZXJzKCk7CiAgfTt9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0NCgpIHt0aGlzLl9leGVjdXRlSGFuZGxlcnMgPSAoKSA9PiB7CiAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlcy5QRU5ESU5HKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBjYWNoZWRIYW5kbGVycyA9IHRoaXMuX2hhbmRsZXJzLnNsaWNlKCk7CiAgICB0aGlzLl9oYW5kbGVycyA9IFtdOwoKICAgIGNhY2hlZEhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7CiAgICAgIGlmIChoYW5kbGVyWzBdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlcy5SRVNPTFZFRCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXMKICAgICAgICBoYW5kbGVyWzFdKHRoaXMuX3ZhbHVlICk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlJFSkVDVEVEKSB7CiAgICAgICAgaGFuZGxlclsyXSh0aGlzLl92YWx1ZSk7CiAgICAgIH0KCiAgICAgIGhhbmRsZXJbMF0gPSB0cnVlOwogICAgfSk7CiAgfTt9Cn0KCi8qKgogKiBDcmVhdGVzIGFuIG5ldyBQcm9taXNlQnVmZmVyIG9iamVjdCB3aXRoIHRoZSBzcGVjaWZpZWQgbGltaXQKICogQHBhcmFtIGxpbWl0IG1heCBudW1iZXIgb2YgcHJvbWlzZXMgdGhhdCBjYW4gYmUgc3RvcmVkIGluIHRoZSBidWZmZXIKICovCmZ1bmN0aW9uIG1ha2VQcm9taXNlQnVmZmVyKGxpbWl0KSB7CiAgY29uc3QgYnVmZmVyID0gW107CgogIGZ1bmN0aW9uIGlzUmVhZHkoKSB7CiAgICByZXR1cm4gbGltaXQgPT09IHVuZGVmaW5lZCB8fCBidWZmZXIubGVuZ3RoIDwgbGltaXQ7CiAgfQoKICAvKioKICAgKiBSZW1vdmUgYSBwcm9taXNlIGZyb20gdGhlIHF1ZXVlLgogICAqCiAgICogQHBhcmFtIHRhc2sgQ2FuIGJlIGFueSBQcm9taXNlTGlrZTxUPgogICAqIEByZXR1cm5zIFJlbW92ZWQgcHJvbWlzZS4KICAgKi8KICBmdW5jdGlvbiByZW1vdmUodGFzaykgewogICAgcmV0dXJuIGJ1ZmZlci5zcGxpY2UoYnVmZmVyLmluZGV4T2YodGFzayksIDEpWzBdOwogIH0KCiAgLyoqCiAgICogQWRkIGEgcHJvbWlzZSAocmVwcmVzZW50aW5nIGFuIGluLWZsaWdodCBhY3Rpb24pIHRvIHRoZSBxdWV1ZSwgYW5kIHNldCBpdCB0byByZW1vdmUgaXRzZWxmIG9uIGZ1bGZpbGxtZW50LgogICAqCiAgICogQHBhcmFtIHRhc2tQcm9kdWNlciBBIGZ1bmN0aW9uIHByb2R1Y2luZyBhbnkgUHJvbWlzZUxpa2U8VD47IEluIHByZXZpb3VzIHZlcnNpb25zIHRoaXMgdXNlZCB0byBiZSBgdGFzazoKICAgKiAgICAgICAgUHJvbWlzZUxpa2U8VD5gLCBidXQgdW5kZXIgdGhhdCBtb2RlbCwgUHJvbWlzZXMgd2VyZSBpbnN0YW50bHkgY3JlYXRlZCBvbiB0aGUgY2FsbC1zaXRlIGFuZCB0aGVpciBleGVjdXRvcgogICAqICAgICAgICBmdW5jdGlvbnMgdGhlcmVmb3JlIHJhbiBpbW1lZGlhdGVseS4gVGh1cywgZXZlbiBpZiB0aGUgYnVmZmVyIHdhcyBmdWxsLCB0aGUgYWN0aW9uIHN0aWxsIGhhcHBlbmVkLiBCeQogICAqICAgICAgICByZXF1aXJpbmcgdGhlIHByb21pc2UgdG8gYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uLCB3ZSBjYW4gZGVmZXIgcHJvbWlzZSBjcmVhdGlvbiB1bnRpbCBhZnRlciB0aGUgYnVmZmVyCiAgICogICAgICAgIGxpbWl0IGNoZWNrLgogICAqIEByZXR1cm5zIFRoZSBvcmlnaW5hbCBwcm9taXNlLgogICAqLwogIGZ1bmN0aW9uIGFkZCh0YXNrUHJvZHVjZXIpIHsKICAgIGlmICghaXNSZWFkeSgpKSB7CiAgICAgIHJldHVybiByZWplY3RlZFN5bmNQcm9taXNlKG5ldyBTZW50cnlFcnJvcignTm90IGFkZGluZyBQcm9taXNlIGJlY2F1c2UgYnVmZmVyIGxpbWl0IHdhcyByZWFjaGVkLicpKTsKICAgIH0KCiAgICAvLyBzdGFydCB0aGUgdGFzayBhbmQgYWRkIGl0cyBwcm9taXNlIHRvIHRoZSBxdWV1ZQogICAgY29uc3QgdGFzayA9IHRhc2tQcm9kdWNlcigpOwogICAgaWYgKGJ1ZmZlci5pbmRleE9mKHRhc2spID09PSAtMSkgewogICAgICBidWZmZXIucHVzaCh0YXNrKTsKICAgIH0KICAgIHZvaWQgdGFzawogICAgICAudGhlbigoKSA9PiByZW1vdmUodGFzaykpCiAgICAgIC8vIFVzZSBgdGhlbihudWxsLCByZWplY3Rpb25IYW5kbGVyKWAgcmF0aGVyIHRoYW4gYGNhdGNoKHJlamVjdGlvbkhhbmRsZXIpYCBzbyB0aGF0IHdlIGNhbiB1c2UgYFByb21pc2VMaWtlYAogICAgICAvLyByYXRoZXIgdGhhbiBgUHJvbWlzZWAuIGBQcm9taXNlTGlrZWAgZG9lc24ndCBoYXZlIGEgYC5jYXRjaGAgbWV0aG9kLCBtYWtpbmcgaXRzIHBvbHlmaWxsIHNtYWxsZXIuIChFUzUgZGlkbid0CiAgICAgIC8vIGhhdmUgcHJvbWlzZXMsIHNvIFRTIGhhcyB0byBwb2x5ZmlsbCB3aGVuIGRvd24tY29tcGlsaW5nLikKICAgICAgLnRoZW4obnVsbCwgKCkgPT4KICAgICAgICByZW1vdmUodGFzaykudGhlbihudWxsLCAoKSA9PiB7CiAgICAgICAgICAvLyBXZSBoYXZlIHRvIGFkZCBhbm90aGVyIGNhdGNoIGhlcmUgYmVjYXVzZSBgcmVtb3ZlKClgIHN0YXJ0cyBhIG5ldyBwcm9taXNlIGNoYWluLgogICAgICAgIH0pLAogICAgICApOwogICAgcmV0dXJuIHRhc2s7CiAgfQoKICAvKioKICAgKiBXYWl0IGZvciBhbGwgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlIHRvIHJlc29sdmUgb3IgZm9yIHRpbWVvdXQgdG8gZXhwaXJlLCB3aGljaGV2ZXIgY29tZXMgZmlyc3QuCiAgICoKICAgKiBAcGFyYW0gdGltZW91dCBUaGUgdGltZSwgaW4gbXMsIGFmdGVyIHdoaWNoIHRvIHJlc29sdmUgdG8gYGZhbHNlYCBpZiB0aGUgcXVldWUgaXMgc3RpbGwgbm9uLWVtcHR5LiBQYXNzaW5nIGAwYCAob3IKICAgKiBub3QgcGFzc2luZyBhbnl0aGluZykgd2lsbCBtYWtlIHRoZSBwcm9taXNlIHdhaXQgYXMgbG9uZyBhcyBpdCB0YWtlcyBmb3IgdGhlIHF1ZXVlIHRvIGRyYWluIGJlZm9yZSByZXNvbHZpbmcgdG8KICAgKiBgdHJ1ZWAuCiAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHdpbGwgcmVzb2x2ZSB0byBgdHJ1ZWAgaWYgdGhlIHF1ZXVlIGlzIGFscmVhZHkgZW1wdHkgb3IgZHJhaW5zIGJlZm9yZSB0aGUgdGltZW91dCwgYW5kCiAgICogYGZhbHNlYCBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiBkcmFpbih0aW1lb3V0KSB7CiAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgbGV0IGNvdW50ZXIgPSBidWZmZXIubGVuZ3RoOwoKICAgICAgaWYgKCFjb3VudGVyKSB7CiAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7CiAgICAgIH0KCiAgICAgIC8vIHdhaXQgZm9yIGB0aW1lb3V0YCBtcyBhbmQgdGhlbiByZXNvbHZlIHRvIGBmYWxzZWAgKGlmIG5vdCBjYW5jZWxsZWQgZmlyc3QpCiAgICAgIGNvbnN0IGNhcHR1cmVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmICh0aW1lb3V0ICYmIHRpbWVvdXQgPiAwKSB7CiAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sIHRpbWVvdXQpOwoKICAgICAgLy8gaWYgYWxsIHByb21pc2VzIHJlc29sdmUgaW4gdGltZSwgY2FuY2VsIHRoZSB0aW1lciBhbmQgcmVzb2x2ZSB0byBgdHJ1ZWAKICAgICAgYnVmZmVyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdm9pZCByZXNvbHZlZFN5bmNQcm9taXNlKGl0ZW0pLnRoZW4oKCkgPT4gewogICAgICAgICAgaWYgKCEtLWNvdW50ZXIpIHsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNhcHR1cmVkU2V0VGltZW91dCk7CiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgcmVqZWN0KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIHJldHVybiB7CiAgICAkOiBidWZmZXIsCiAgICBhZGQsCiAgICBkcmFpbiwKICB9Owp9Cgpjb25zdCBPTkVfU0VDT05EX0lOX01TID0gMTAwMDsKCi8qKgogKiBBIHBhcnRpYWwgZGVmaW5pdGlvbiBvZiB0aGUgW1BlcmZvcm1hbmNlIFdlYiBBUElde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZX0KICogZm9yIGFjY2Vzc2luZyBhIGhpZ2gtcmVzb2x1dGlvbiBtb25vdG9uaWMgY2xvY2suCiAqLwoKLyoqCiAqIFJldHVybnMgYSB0aW1lc3RhbXAgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaCB1c2luZyB0aGUgRGF0ZSBBUEkuCiAqCiAqIFRPRE8odjgpOiBSZXR1cm4gdHlwZSBzaG91bGQgYmUgcm91bmRlZC4KICovCmZ1bmN0aW9uIGRhdGVUaW1lc3RhbXBJblNlY29uZHMoKSB7CiAgcmV0dXJuIERhdGUubm93KCkgLyBPTkVfU0VDT05EX0lOX01TOwp9CgovKioKICogUmV0dXJucyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBuYXRpdmUgUGVyZm9ybWFuY2UgQVBJIGJyb3dzZXIgaW1wbGVtZW50YXRpb24sIG9yIHVuZGVmaW5lZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QKICogc3VwcG9ydCB0aGUgQVBJLgogKgogKiBXcmFwcGluZyB0aGUgbmF0aXZlIEFQSSB3b3JrcyBhcm91bmQgZGlmZmVyZW5jZXMgaW4gYmVoYXZpb3IgZnJvbSBkaWZmZXJlbnQgYnJvd3NlcnMuCiAqLwpmdW5jdGlvbiBjcmVhdGVVbml4VGltZXN0YW1wSW5TZWNvbmRzRnVuYygpIHsKICBjb25zdCB7IHBlcmZvcm1hbmNlIH0gPSBHTE9CQUxfT0JKIDsKICBpZiAoIXBlcmZvcm1hbmNlIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHsKICAgIHJldHVybiBkYXRlVGltZXN0YW1wSW5TZWNvbmRzOwogIH0KCiAgLy8gU29tZSBicm93c2VyIGFuZCBlbnZpcm9ubWVudHMgZG9uJ3QgaGF2ZSBhIHRpbWVPcmlnaW4sIHNvIHdlIGZhbGxiYWNrIHRvCiAgLy8gdXNpbmcgRGF0ZS5ub3coKSB0byBjb21wdXRlIHRoZSBzdGFydGluZyB0aW1lLgogIGNvbnN0IGFwcHJveFN0YXJ0aW5nVGltZU9yaWdpbiA9IERhdGUubm93KCkgLSBwZXJmb3JtYW5jZS5ub3coKTsKICBjb25zdCB0aW1lT3JpZ2luID0gcGVyZm9ybWFuY2UudGltZU9yaWdpbiA9PSB1bmRlZmluZWQgPyBhcHByb3hTdGFydGluZ1RpbWVPcmlnaW4gOiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luOwoKICAvLyBwZXJmb3JtYW5jZS5ub3coKSBpcyBhIG1vbm90b25pYyBjbG9jaywgd2hpY2ggbWVhbnMgaXQgc3RhcnRzIGF0IDAgd2hlbiB0aGUgcHJvY2VzcyBiZWdpbnMuIFRvIGdldCB0aGUgY3VycmVudAogIC8vIHdhbGwgY2xvY2sgdGltZSAoYWN0dWFsIFVOSVggdGltZXN0YW1wKSwgd2UgbmVlZCB0byBhZGQgdGhlIHN0YXJ0aW5nIHRpbWUgb3JpZ2luIGFuZCB0aGUgY3VycmVudCB0aW1lIGVsYXBzZWQuCiAgLy8KICAvLyBUT0RPOiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHRoZSBjYXNlIHdoZXJlIHRoZSBtb25vdG9uaWMgY2xvY2sgdGhhdCBwb3dlcnMgcGVyZm9ybWFuY2Uubm93KCkgZHJpZnRzIGZyb20gdGhlCiAgLy8gd2FsbCBjbG9jayB0aW1lLCB3aGljaCBjYXVzZXMgdGhlIHJldHVybmVkIHRpbWVzdGFtcCB0byBiZSBpbmFjY3VyYXRlLiBXZSBzaG91bGQgaW52ZXN0aWdhdGUgaG93IHRvIGRldGVjdCBhbmQKICAvLyBjb3JyZWN0IGZvciB0aGlzLgogIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MAogIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21kbi9jb250ZW50L2lzc3Vlcy80NzEzCiAgLy8gU2VlOiBodHRwczovL2Rldi50by9ub2Ftci93aGVuLWEtbWlsbGlzZWNvbmQtaXMtbm90LWEtbWlsbGlzZWNvbmQtM2g2CiAgcmV0dXJuICgpID0+IHsKICAgIHJldHVybiAodGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpKSAvIE9ORV9TRUNPTkRfSU5fTVM7CiAgfTsKfQoKLyoqCiAqIFJldHVybnMgYSB0aW1lc3RhbXAgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaCB1c2luZyBlaXRoZXIgdGhlIFBlcmZvcm1hbmNlIG9yIERhdGUgQVBJcywgZGVwZW5kaW5nIG9uIHRoZQogKiBhdmFpbGFiaWxpdHkgb2YgdGhlIFBlcmZvcm1hbmNlIEFQSS4KICoKICogQlVHOiBOb3RlIHRoYXQgYmVjYXVzZSBvZiBob3cgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEksIHRoZSBjbG9jayBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzCiAqIGFzbGVlcC4gVGhpcyBjcmVhdGVzIGEgc2tldyBiZXR3ZWVuIGBkYXRlVGltZXN0YW1wSW5TZWNvbmRzYCBhbmQgYHRpbWVzdGFtcEluU2Vjb25kc2AuIFRoZQogKiBza2V3IGNhbiBncm93IHRvIGFyYml0cmFyeSBhbW91bnRzIGxpa2UgZGF5cywgd2Vla3Mgb3IgbW9udGhzLgogKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC4KICovCmNvbnN0IHRpbWVzdGFtcEluU2Vjb25kcyA9IGNyZWF0ZVVuaXhUaW1lc3RhbXBJblNlY29uZHNGdW5jKCk7CgovKioKICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2guIFRoaXMgdmFsdWUgaXMgb25seSB1c2FibGUgaW4gYSBicm93c2VyLCBhbmQgb25seSB3aGVuIHRoZQogKiBwZXJmb3JtYW5jZSBBUEkgaXMgYXZhaWxhYmxlLgogKi8KKCgpID0+IHsKICAvLyBVbmZvcnR1bmF0ZWx5IGJyb3dzZXJzIG1heSByZXBvcnQgYW4gaW5hY2N1cmF0ZSB0aW1lIG9yaWdpbiBkYXRhLCB0aHJvdWdoIGVpdGhlciBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIG9yCiAgLy8gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCwgd2hpY2ggcmVzdWx0cyBpbiBwb29yIHJlc3VsdHMgaW4gcGVyZm9ybWFuY2UgZGF0YS4gV2Ugb25seSB0cmVhdCB0aW1lIG9yaWdpbgogIC8vIGRhdGEgYXMgcmVsaWFibGUgaWYgdGhleSBhcmUgd2l0aGluIGEgcmVhc29uYWJsZSB0aHJlc2hvbGQgb2YgdGhlIGN1cnJlbnQgdGltZS4KCiAgY29uc3QgeyBwZXJmb3JtYW5jZSB9ID0gR0xPQkFMX09CSiA7CiAgaWYgKCFwZXJmb3JtYW5jZSB8fCAhcGVyZm9ybWFuY2Uubm93KSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgY29uc3QgdGhyZXNob2xkID0gMzYwMCAqIDEwMDA7CiAgY29uc3QgcGVyZm9ybWFuY2VOb3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICBjb25zdCBkYXRlTm93ID0gRGF0ZS5ub3coKTsKCiAgLy8gaWYgdGltZU9yaWdpbiBpc24ndCBhdmFpbGFibGUgc2V0IGRlbHRhIHRvIHRocmVzaG9sZCBzbyBpdCBpc24ndCB1c2VkCiAgY29uc3QgdGltZU9yaWdpbkRlbHRhID0gcGVyZm9ybWFuY2UudGltZU9yaWdpbgogICAgPyBNYXRoLmFicyhwZXJmb3JtYW5jZS50aW1lT3JpZ2luICsgcGVyZm9ybWFuY2VOb3cgLSBkYXRlTm93KQogICAgOiB0aHJlc2hvbGQ7CiAgY29uc3QgdGltZU9yaWdpbklzUmVsaWFibGUgPSB0aW1lT3JpZ2luRGVsdGEgPCB0aHJlc2hvbGQ7CgogIC8vIFdoaWxlIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luLCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luCiAgLy8gaXMgbm90IGFzIHdpZGVseSBzdXBwb3J0ZWQuIE5hbWVseSwgcGVyZm9ybWFuY2UudGltZU9yaWdpbiBpcyB1bmRlZmluZWQgaW4gU2FmYXJpIGFzIG9mIHdyaXRpbmcuCiAgLy8gQWxzbyBhcyBvZiB3cml0aW5nLCBwZXJmb3JtYW5jZS50aW1pbmcgaXMgbm90IGF2YWlsYWJsZSBpbiBXZWIgV29ya2VycyBpbiBtYWluc3RyZWFtIGJyb3dzZXJzLCBzbyBpdCBpcyBub3QgYWx3YXlzCiAgLy8gYSB2YWxpZCBmYWxsYmFjay4gSW4gdGhlIGFic2VuY2Ugb2YgYW4gaW5pdGlhbCB0aW1lIHByb3ZpZGVkIGJ5IHRoZSBicm93c2VyLCBmYWxsYmFjayB0byB0aGUgY3VycmVudCB0aW1lIGZyb20gdGhlCiAgLy8gRGF0ZSBBUEkuCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgY29uc3QgbmF2aWdhdGlvblN0YXJ0ID0gcGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7CiAgY29uc3QgaGFzTmF2aWdhdGlvblN0YXJ0ID0gdHlwZW9mIG5hdmlnYXRpb25TdGFydCA9PT0gJ251bWJlcic7CiAgLy8gaWYgbmF2aWdhdGlvblN0YXJ0IGlzbid0IGF2YWlsYWJsZSBzZXQgZGVsdGEgdG8gdGhyZXNob2xkIHNvIGl0IGlzbid0IHVzZWQKICBjb25zdCBuYXZpZ2F0aW9uU3RhcnREZWx0YSA9IGhhc05hdmlnYXRpb25TdGFydCA/IE1hdGguYWJzKG5hdmlnYXRpb25TdGFydCArIHBlcmZvcm1hbmNlTm93IC0gZGF0ZU5vdykgOiB0aHJlc2hvbGQ7CiAgY29uc3QgbmF2aWdhdGlvblN0YXJ0SXNSZWxpYWJsZSA9IG5hdmlnYXRpb25TdGFydERlbHRhIDwgdGhyZXNob2xkOwoKICBpZiAodGltZU9yaWdpbklzUmVsaWFibGUgfHwgbmF2aWdhdGlvblN0YXJ0SXNSZWxpYWJsZSkgewogICAgLy8gVXNlIHRoZSBtb3JlIHJlbGlhYmxlIHRpbWUgb3JpZ2luCiAgICBpZiAodGltZU9yaWdpbkRlbHRhIDw9IG5hdmlnYXRpb25TdGFydERlbHRhKSB7CiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5hdmlnYXRpb25TdGFydDsKICAgIH0KICB9CiAgcmV0dXJuIGRhdGVOb3c7Cn0pKCk7CgovKioKICogQ3JlYXRlcyBhbiBlbnZlbG9wZS4KICogTWFrZSBzdXJlIHRvIGFsd2F5cyBleHBsaWNpdGx5IHByb3ZpZGUgdGhlIGdlbmVyaWMgdG8gdGhpcyBmdW5jdGlvbgogKiBzbyB0aGF0IHRoZSBlbnZlbG9wZSB0eXBlcyByZXNvbHZlIGNvcnJlY3RseS4KICovCmZ1bmN0aW9uIGNyZWF0ZUVudmVsb3BlKGhlYWRlcnMsIGl0ZW1zID0gW10pIHsKICByZXR1cm4gW2hlYWRlcnMsIGl0ZW1zXSA7Cn0KCi8qKgogKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBsb29wIHRocm91Z2ggdGhlIGl0ZW1zIGFuZCBpdGVtIHR5cGVzIG9mIGFuIGVudmVsb3BlLgogKiAoVGhpcyBmdW5jdGlvbiB3YXMgbW9zdGx5IGNyZWF0ZWQgYmVjYXVzZSB3b3JraW5nIHdpdGggZW52ZWxvcGUgdHlwZXMgaXMgcGFpbmZ1bCBhdCB0aGUgbW9tZW50KQogKgogKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVlLCB0aGUgcmVzdCBvZiB0aGUgaXRlbXMgd2lsbCBiZSBza2lwcGVkLgogKi8KZnVuY3Rpb24gZm9yRWFjaEVudmVsb3BlSXRlbSgKICBlbnZlbG9wZSwKICBjYWxsYmFjaywKKSB7CiAgY29uc3QgZW52ZWxvcGVJdGVtcyA9IGVudmVsb3BlWzFdOwoKICBmb3IgKGNvbnN0IGVudmVsb3BlSXRlbSBvZiBlbnZlbG9wZUl0ZW1zKSB7CiAgICBjb25zdCBlbnZlbG9wZUl0ZW1UeXBlID0gZW52ZWxvcGVJdGVtWzBdLnR5cGU7CiAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjayhlbnZlbG9wZUl0ZW0sIGVudmVsb3BlSXRlbVR5cGUpOwoKICAgIGlmIChyZXN1bHQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KCi8qKgogKiBFbmNvZGUgYSBzdHJpbmcgdG8gVVRGOC4KICovCmZ1bmN0aW9uIGVuY29kZVVURjgoaW5wdXQsIHRleHRFbmNvZGVyKSB7CiAgY29uc3QgdXRmOCA9IHRleHRFbmNvZGVyIHx8IG5ldyBUZXh0RW5jb2RlcigpOwogIHJldHVybiB1dGY4LmVuY29kZShpbnB1dCk7Cn0KCi8qKgogKiBTZXJpYWxpemVzIGFuIGVudmVsb3BlLgogKi8KZnVuY3Rpb24gc2VyaWFsaXplRW52ZWxvcGUoZW52ZWxvcGUsIHRleHRFbmNvZGVyKSB7CiAgY29uc3QgW2VudkhlYWRlcnMsIGl0ZW1zXSA9IGVudmVsb3BlOwoKICAvLyBJbml0aWFsbHkgd2UgY29uc3RydWN0IG91ciBlbnZlbG9wZSBhcyBhIHN0cmluZyBhbmQgb25seSBjb252ZXJ0IHRvIGJpbmFyeSBjaHVua3MgaWYgd2UgZW5jb3VudGVyIGJpbmFyeSBkYXRhCiAgbGV0IHBhcnRzID0gSlNPTi5zdHJpbmdpZnkoZW52SGVhZGVycyk7CgogIGZ1bmN0aW9uIGFwcGVuZChuZXh0KSB7CiAgICBpZiAodHlwZW9mIHBhcnRzID09PSAnc3RyaW5nJykgewogICAgICBwYXJ0cyA9IHR5cGVvZiBuZXh0ID09PSAnc3RyaW5nJyA/IHBhcnRzICsgbmV4dCA6IFtlbmNvZGVVVEY4KHBhcnRzLCB0ZXh0RW5jb2RlciksIG5leHRdOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMucHVzaCh0eXBlb2YgbmV4dCA9PT0gJ3N0cmluZycgPyBlbmNvZGVVVEY4KG5leHQsIHRleHRFbmNvZGVyKSA6IG5leHQpOwogICAgfQogIH0KCiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7CiAgICBjb25zdCBbaXRlbUhlYWRlcnMsIHBheWxvYWRdID0gaXRlbTsKCiAgICBhcHBlbmQoYFxuJHtKU09OLnN0cmluZ2lmeShpdGVtSGVhZGVycyl9XG5gKTsKCiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnIHx8IHBheWxvYWQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7CiAgICAgIGFwcGVuZChwYXlsb2FkKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBzdHJpbmdpZmllZFBheWxvYWQ7CiAgICAgIHRyeSB7CiAgICAgICAgc3RyaW5naWZpZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBJbiBjYXNlLCBkZXNwaXRlIGFsbCBvdXIgZWZmb3J0cyB0byBrZWVwIGBwYXlsb2FkYCBjaXJjdWxhci1kZXBlbmRlbmN5LWZyZWUsIGBKU09OLnN0cmluaWZ5KClgIHN0aWxsCiAgICAgICAgLy8gZmFpbHMsIHdlIHRyeSBhZ2FpbiBhZnRlciBub3JtYWxpemluZyBpdCBhZ2FpbiB3aXRoIGluZmluaXRlIG5vcm1hbGl6YXRpb24gZGVwdGguIFRoaXMgb2YgY291cnNlIGhhcyBhCiAgICAgICAgLy8gcGVyZm9ybWFuY2UgaW1wYWN0IGJ1dCBpbiB0aGlzIGNhc2UgYSBwZXJmb3JtYW5jZSBoaXQgaXMgYmV0dGVyIHRoYW4gdGhyb3dpbmcuCiAgICAgICAgc3RyaW5naWZpZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplKHBheWxvYWQpKTsKICAgICAgfQogICAgICBhcHBlbmQoc3RyaW5naWZpZWRQYXlsb2FkKTsKICAgIH0KICB9CgogIHJldHVybiB0eXBlb2YgcGFydHMgPT09ICdzdHJpbmcnID8gcGFydHMgOiBjb25jYXRCdWZmZXJzKHBhcnRzKTsKfQoKZnVuY3Rpb24gY29uY2F0QnVmZmVycyhidWZmZXJzKSB7CiAgY29uc3QgdG90YWxMZW5ndGggPSBidWZmZXJzLnJlZHVjZSgoYWNjLCBidWYpID0+IGFjYyArIGJ1Zi5sZW5ndGgsIDApOwoKICBjb25zdCBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7CiAgbGV0IG9mZnNldCA9IDA7CiAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykgewogICAgbWVyZ2VkLnNldChidWZmZXIsIG9mZnNldCk7CiAgICBvZmZzZXQgKz0gYnVmZmVyLmxlbmd0aDsKICB9CgogIHJldHVybiBtZXJnZWQ7Cn0KCmNvbnN0IElURU1fVFlQRV9UT19EQVRBX0NBVEVHT1JZX01BUCA9IHsKICBzZXNzaW9uOiAnc2Vzc2lvbicsCiAgc2Vzc2lvbnM6ICdzZXNzaW9uJywKICBhdHRhY2htZW50OiAnYXR0YWNobWVudCcsCiAgdHJhbnNhY3Rpb246ICd0cmFuc2FjdGlvbicsCiAgZXZlbnQ6ICdlcnJvcicsCiAgY2xpZW50X3JlcG9ydDogJ2ludGVybmFsJywKICB1c2VyX3JlcG9ydDogJ2RlZmF1bHQnLAogIHByb2ZpbGU6ICdwcm9maWxlJywKICByZXBsYXlfZXZlbnQ6ICdyZXBsYXknLAogIHJlcGxheV9yZWNvcmRpbmc6ICdyZXBsYXknLAogIGNoZWNrX2luOiAnbW9uaXRvcicsCiAgZmVlZGJhY2s6ICdmZWVkYmFjaycsCiAgc3BhbjogJ3NwYW4nLAogIC8vIFRPRE86IFRoaXMgaXMgYSB0ZW1wb3Jhcnkgd29ya2Fyb3VuZCB1bnRpbCB3ZSBoYXZlIGEgcHJvcGVyIGRhdGEgY2F0ZWdvcnkgZm9yIG1ldHJpY3MKICBzdGF0c2Q6ICd1bmtub3duJywKfTsKCi8qKgogKiBNYXBzIHRoZSB0eXBlIG9mIGFuIGVudmVsb3BlIGl0ZW0gdG8gYSBkYXRhIGNhdGVnb3J5LgogKi8KZnVuY3Rpb24gZW52ZWxvcGVJdGVtVHlwZVRvRGF0YUNhdGVnb3J5KHR5cGUpIHsKICByZXR1cm4gSVRFTV9UWVBFX1RPX0RBVEFfQ0FURUdPUllfTUFQW3R5cGVdOwp9CgovKiogRXh0cmFjdHMgdGhlIG1pbmltYWwgU0RLIGluZm8gZnJvbSBmcm9tIHRoZSBtZXRhZGF0YSBvciBhbiBldmVudHMgKi8KZnVuY3Rpb24gZ2V0U2RrTWV0YWRhdGFGb3JFbnZlbG9wZUhlYWRlcihtZXRhZGF0YU9yRXZlbnQpIHsKICBpZiAoIW1ldGFkYXRhT3JFdmVudCB8fCAhbWV0YWRhdGFPckV2ZW50LnNkaykgewogICAgcmV0dXJuOwogIH0KICBjb25zdCB7IG5hbWUsIHZlcnNpb24gfSA9IG1ldGFkYXRhT3JFdmVudC5zZGs7CiAgcmV0dXJuIHsgbmFtZSwgdmVyc2lvbiB9Owp9CgovKioKICogQ3JlYXRlcyBldmVudCBlbnZlbG9wZSBoZWFkZXJzLCBiYXNlZCBvbiBldmVudCwgc2RrIGluZm8gYW5kIHR1bm5lbAogKiBOb3RlOiBUaGlzIGZ1bmN0aW9uIHdhcyBleHRyYWN0ZWQgZnJvbSB0aGUgY29yZSBwYWNrYWdlIHRvIG1ha2UgaXQgYXZhaWxhYmxlIGluIFJlcGxheQogKi8KZnVuY3Rpb24gY3JlYXRlRXZlbnRFbnZlbG9wZUhlYWRlcnMoCiAgZXZlbnQsCiAgc2RrSW5mbywKICB0dW5uZWwsCiAgZHNuLAopIHsKICBjb25zdCBkeW5hbWljU2FtcGxpbmdDb250ZXh0ID0gZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhICYmIGV2ZW50LnNka1Byb2Nlc3NpbmdNZXRhZGF0YS5keW5hbWljU2FtcGxpbmdDb250ZXh0OwogIHJldHVybiB7CiAgICBldmVudF9pZDogZXZlbnQuZXZlbnRfaWQgLAogICAgc2VudF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgLi4uKHNka0luZm8gJiYgeyBzZGs6IHNka0luZm8gfSksCiAgICAuLi4oISF0dW5uZWwgJiYgZHNuICYmIHsgZHNuOiBkc25Ub1N0cmluZyhkc24pIH0pLAogICAgLi4uKGR5bmFtaWNTYW1wbGluZ0NvbnRleHQgJiYgewogICAgICB0cmFjZTogZHJvcFVuZGVmaW5lZEtleXMoeyAuLi5keW5hbWljU2FtcGxpbmdDb250ZXh0IH0pLAogICAgfSksCiAgfTsKfQoKLy8gSW50ZW50aW9uYWxseSBrZWVwaW5nIHRoZSBrZXkgYnJvYWQsIGFzIHdlIGRvbid0IGtub3cgZm9yIHN1cmUgd2hhdCByYXRlIGxpbWl0IGhlYWRlcnMgZ2V0IHJldHVybmVkIGZyb20gYmFja2VuZAoKY29uc3QgREVGQVVMVF9SRVRSWV9BRlRFUiA9IDYwICogMTAwMDsgLy8gNjAgc2Vjb25kcwoKLyoqCiAqIEV4dHJhY3RzIFJldHJ5LUFmdGVyIHZhbHVlIGZyb20gdGhlIHJlcXVlc3QgaGVhZGVyIG9yIHJldHVybnMgZGVmYXVsdCB2YWx1ZQogKiBAcGFyYW0gaGVhZGVyIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiAnUmV0cnktQWZ0ZXInIGhlYWRlcgogKiBAcGFyYW0gbm93IGN1cnJlbnQgdW5peCB0aW1lc3RhbXAKICoKICovCmZ1bmN0aW9uIHBhcnNlUmV0cnlBZnRlckhlYWRlcihoZWFkZXIsIG5vdyA9IERhdGUubm93KCkpIHsKICBjb25zdCBoZWFkZXJEZWxheSA9IHBhcnNlSW50KGAke2hlYWRlcn1gLCAxMCk7CiAgaWYgKCFpc05hTihoZWFkZXJEZWxheSkpIHsKICAgIHJldHVybiBoZWFkZXJEZWxheSAqIDEwMDA7CiAgfQoKICBjb25zdCBoZWFkZXJEYXRlID0gRGF0ZS5wYXJzZShgJHtoZWFkZXJ9YCk7CiAgaWYgKCFpc05hTihoZWFkZXJEYXRlKSkgewogICAgcmV0dXJuIGhlYWRlckRhdGUgLSBub3c7CiAgfQoKICByZXR1cm4gREVGQVVMVF9SRVRSWV9BRlRFUjsKfQoKLyoqCiAqIEdldHMgdGhlIHRpbWUgdGhhdCB0aGUgZ2l2ZW4gY2F0ZWdvcnkgaXMgZGlzYWJsZWQgdW50aWwgZm9yIHJhdGUgbGltaXRpbmcuCiAqIEluIGNhc2Ugbm8gY2F0ZWdvcnktc3BlY2lmaWMgbGltaXQgaXMgc2V0IGJ1dCBhIGdlbmVyYWwgcmF0ZSBsaW1pdCBhY3Jvc3MgYWxsIGNhdGVnb3JpZXMgaXMgYWN0aXZlLAogKiB0aGF0IHRpbWUgaXMgcmV0dXJuZWQuCiAqCiAqIEByZXR1cm4gdGhlIHRpbWUgaW4gbXMgdGhhdCB0aGUgY2F0ZWdvcnkgaXMgZGlzYWJsZWQgdW50aWwgb3IgMCBpZiB0aGVyZSdzIG5vIGFjdGl2ZSByYXRlIGxpbWl0LgogKi8KZnVuY3Rpb24gZGlzYWJsZWRVbnRpbChsaW1pdHMsIGNhdGVnb3J5KSB7CiAgcmV0dXJuIGxpbWl0c1tjYXRlZ29yeV0gfHwgbGltaXRzLmFsbCB8fCAwOwp9CgovKioKICogQ2hlY2tzIGlmIGEgY2F0ZWdvcnkgaXMgcmF0ZSBsaW1pdGVkCiAqLwpmdW5jdGlvbiBpc1JhdGVMaW1pdGVkKGxpbWl0cywgY2F0ZWdvcnksIG5vdyA9IERhdGUubm93KCkpIHsKICByZXR1cm4gZGlzYWJsZWRVbnRpbChsaW1pdHMsIGNhdGVnb3J5KSA+IG5vdzsKfQoKLyoqCiAqIFVwZGF0ZSByYXRlbGltaXRzIGZyb20gaW5jb21pbmcgaGVhZGVycy4KICoKICogQHJldHVybiB0aGUgdXBkYXRlZCBSYXRlTGltaXRzIG9iamVjdC4KICovCmZ1bmN0aW9uIHVwZGF0ZVJhdGVMaW1pdHMoCiAgbGltaXRzLAogIHsgc3RhdHVzQ29kZSwgaGVhZGVycyB9LAogIG5vdyA9IERhdGUubm93KCksCikgewogIGNvbnN0IHVwZGF0ZWRSYXRlTGltaXRzID0gewogICAgLi4ubGltaXRzLAogIH07CgogIC8vICJUaGUgbmFtZSBpcyBjYXNlLWluc2Vuc2l0aXZlLiIKICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSGVhZGVycy9nZXQKICBjb25zdCByYXRlTGltaXRIZWFkZXIgPSBoZWFkZXJzICYmIGhlYWRlcnNbJ3gtc2VudHJ5LXJhdGUtbGltaXRzJ107CiAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IGhlYWRlcnMgJiYgaGVhZGVyc1sncmV0cnktYWZ0ZXInXTsKCiAgaWYgKHJhdGVMaW1pdEhlYWRlcikgewogICAgLyoqCiAgICAgKiByYXRlIGxpbWl0IGhlYWRlcnMgYXJlIG9mIHRoZSBmb3JtCiAgICAgKiAgICAgPGhlYWRlcj4sPGhlYWRlcj4sLi4KICAgICAqIHdoZXJlIGVhY2ggPGhlYWRlcj4gaXMgb2YgdGhlIGZvcm0KICAgICAqICAgICA8cmV0cnlfYWZ0ZXI+OiA8Y2F0ZWdvcmllcz46IDxzY29wZT46IDxyZWFzb25fY29kZT4KICAgICAqIHdoZXJlCiAgICAgKiAgICAgPHJldHJ5X2FmdGVyPiBpcyBhIGRlbGF5IGluIHNlY29uZHMKICAgICAqICAgICA8Y2F0ZWdvcmllcz4gaXMgdGhlIGV2ZW50IHR5cGUocykgKGVycm9yLCB0cmFuc2FjdGlvbiwgZXRjKSBiZWluZyByYXRlIGxpbWl0ZWQgYW5kIGlzIG9mIHRoZSBmb3JtCiAgICAgKiAgICAgICAgIDxjYXRlZ29yeT47PGNhdGVnb3J5PjsuLi4KICAgICAqICAgICA8c2NvcGU+IGlzIHdoYXQncyBiZWluZyBsaW1pdGVkIChvcmcsIHByb2plY3QsIG9yIGtleSkgLSBpZ25vcmVkIGJ5IFNESwogICAgICogICAgIDxyZWFzb25fY29kZT4gaXMgYW4gYXJiaXRyYXJ5IHN0cmluZyBsaWtlICJvcmdfcXVvdGEiIC0gaWdub3JlZCBieSBTREsKICAgICAqLwogICAgZm9yIChjb25zdCBsaW1pdCBvZiByYXRlTGltaXRIZWFkZXIudHJpbSgpLnNwbGl0KCcsJykpIHsKICAgICAgY29uc3QgW3JldHJ5QWZ0ZXIsIGNhdGVnb3JpZXNdID0gbGltaXQuc3BsaXQoJzonLCAyKTsKICAgICAgY29uc3QgaGVhZGVyRGVsYXkgPSBwYXJzZUludChyZXRyeUFmdGVyLCAxMCk7CiAgICAgIGNvbnN0IGRlbGF5ID0gKCFpc05hTihoZWFkZXJEZWxheSkgPyBoZWFkZXJEZWxheSA6IDYwKSAqIDEwMDA7IC8vIDYwc2VjIGRlZmF1bHQKICAgICAgaWYgKCFjYXRlZ29yaWVzKSB7CiAgICAgICAgdXBkYXRlZFJhdGVMaW1pdHMuYWxsID0gbm93ICsgZGVsYXk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzLnNwbGl0KCc7JykpIHsKICAgICAgICAgIHVwZGF0ZWRSYXRlTGltaXRzW2NhdGVnb3J5XSA9IG5vdyArIGRlbGF5OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0gZWxzZSBpZiAocmV0cnlBZnRlckhlYWRlcikgewogICAgdXBkYXRlZFJhdGVMaW1pdHMuYWxsID0gbm93ICsgcGFyc2VSZXRyeUFmdGVySGVhZGVyKHJldHJ5QWZ0ZXJIZWFkZXIsIG5vdyk7CiAgfSBlbHNlIGlmIChzdGF0dXNDb2RlID09PSA0MjkpIHsKICAgIHVwZGF0ZWRSYXRlTGltaXRzLmFsbCA9IG5vdyArIDYwICogMTAwMDsKICB9CgogIHJldHVybiB1cGRhdGVkUmF0ZUxpbWl0czsKfQoKLyoqCiAqIEEgbm9kZS5qcyB3YXRjaGRvZyB0aW1lcgogKiBAcGFyYW0gcG9sbEludGVydmFsIFRoZSBpbnRlcnZhbCB0aGF0IHdlIGV4cGVjdCB0byBnZXQgcG9sbGVkIGF0CiAqIEBwYXJhbSBhbnJUaHJlc2hvbGQgVGhlIHRocmVzaG9sZCBmb3Igd2hlbiB3ZSBjb25zaWRlciBBTlIKICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsIGZvciBBTlIKICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggYHBvbGxgIGFuZCBgZW5hYmxlZGAgZnVuY3Rpb25zIHtAbGluayBXYXRjaGRvZ1JldHVybn0KICovCmZ1bmN0aW9uIHdhdGNoZG9nVGltZXIoCiAgY3JlYXRlVGltZXIsCiAgcG9sbEludGVydmFsLAogIGFuclRocmVzaG9sZCwKICBjYWxsYmFjaywKKSB7CiAgY29uc3QgdGltZXIgPSBjcmVhdGVUaW1lcigpOwogIGxldCB0cmlnZ2VyZWQgPSBmYWxzZTsKICBsZXQgZW5hYmxlZCA9IHRydWU7CgogIHNldEludGVydmFsKCgpID0+IHsKICAgIGNvbnN0IGRpZmZNcyA9IHRpbWVyLmdldFRpbWVNcygpOwoKICAgIGlmICh0cmlnZ2VyZWQgPT09IGZhbHNlICYmIGRpZmZNcyA+IHBvbGxJbnRlcnZhbCArIGFuclRocmVzaG9sZCkgewogICAgICB0cmlnZ2VyZWQgPSB0cnVlOwogICAgICBpZiAoZW5hYmxlZCkgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoZGlmZk1zIDwgcG9sbEludGVydmFsICsgYW5yVGhyZXNob2xkKSB7CiAgICAgIHRyaWdnZXJlZCA9IGZhbHNlOwogICAgfQogIH0sIDIwKTsKCiAgcmV0dXJuIHsKICAgIHBvbGw6ICgpID0+IHsKICAgICAgdGltZXIucmVzZXQoKTsKICAgIH0sCiAgICBlbmFibGVkOiAoc3RhdGUpID0+IHsKICAgICAgZW5hYmxlZCA9IHN0YXRlOwogICAgfSwKICB9Owp9CgovLyB0eXBlcyBjb3BpZWQgZnJvbSBpbnNwZWN0b3IuZC50cwoKLyoqCiAqIENvbnZlcnRzIERlYnVnZ2VyLkNhbGxGcmFtZSB0byBTZW50cnkgU3RhY2tGcmFtZQogKi8KZnVuY3Rpb24gY2FsbEZyYW1lVG9TdGFja0ZyYW1lKAogIGZyYW1lLAogIHVybCwKICBnZXRNb2R1bGVGcm9tRmlsZW5hbWUsCikgewogIGNvbnN0IGZpbGVuYW1lID0gdXJsID8gdXJsLnJlcGxhY2UoL15maWxlOlwvXC8vLCAnJykgOiB1bmRlZmluZWQ7CgogIC8vIENhbGxGcmFtZSByb3cvY29sIGFyZSAwIGJhc2VkLCB3aGVyZWFzIFN0YWNrRnJhbWUgYXJlIDEgYmFzZWQKICBjb25zdCBjb2xubyA9IGZyYW1lLmxvY2F0aW9uLmNvbHVtbk51bWJlciA/IGZyYW1lLmxvY2F0aW9uLmNvbHVtbk51bWJlciArIDEgOiB1bmRlZmluZWQ7CiAgY29uc3QgbGluZW5vID0gZnJhbWUubG9jYXRpb24ubGluZU51bWJlciA/IGZyYW1lLmxvY2F0aW9uLmxpbmVOdW1iZXIgKyAxIDogdW5kZWZpbmVkOwoKICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoewogICAgZmlsZW5hbWUsCiAgICBtb2R1bGU6IGdldE1vZHVsZUZyb21GaWxlbmFtZShmaWxlbmFtZSksCiAgICBmdW5jdGlvbjogZnJhbWUuZnVuY3Rpb25OYW1lIHx8ICc/JywKICAgIGNvbG5vLAogICAgbGluZW5vLAogICAgaW5fYXBwOiBmaWxlbmFtZSA/IGZpbGVuYW1lSXNJbkFwcChmaWxlbmFtZSkgOiB1bmRlZmluZWQsCiAgfSk7Cn0KCi8qKgogKiBUaGlzIHNlcnZlcyBhcyBhIGJ1aWxkIHRpbWUgZmxhZyB0aGF0IHdpbGwgYmUgdHJ1ZSBieSBkZWZhdWx0LCBidXQgZmFsc2UgaW4gbm9uLWRlYnVnIGJ1aWxkcyBvciBpZiB1c2VycyByZXBsYWNlIGBfX1NFTlRSWV9ERUJVR19fYCBpbiB0aGVpciBnZW5lcmF0ZWQgY29kZS4KICoKICogQVRURU5USU9OOiBUaGlzIGNvbnN0YW50IG11c3QgbmV2ZXIgY3Jvc3MgcGFja2FnZSBib3VuZGFyaWVzIChpLmUuIGJlIGV4cG9ydGVkKSB0byBndWFyYW50ZWUgdGhhdCBpdCBjYW4gYmUgdXNlZCBmb3IgdHJlZSBzaGFraW5nLgogKi8KY29uc3QgREVCVUdfQlVJTEQgPSAodHlwZW9mIF9fU0VOVFJZX0RFQlVHX18gPT09ICd1bmRlZmluZWQnIHx8IF9fU0VOVFJZX0RFQlVHX18pOwoKLyoqCiAqIENyZWF0ZXMgYSBuZXcgYFNlc3Npb25gIG9iamVjdCBieSBzZXR0aW5nIGNlcnRhaW4gZGVmYXVsdCBwYXJhbWV0ZXJzLiBJZiBvcHRpb25hbCBAcGFyYW0gY29udGV4dAogKiBpcyBwYXNzZWQsIHRoZSBwYXNzZWQgcHJvcGVydGllcyBhcmUgYXBwbGllZCB0byB0aGUgc2Vzc2lvbiBvYmplY3QuCiAqCiAqIEBwYXJhbSBjb250ZXh0IChvcHRpb25hbCkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHJldHVybmVkIHNlc3Npb24gb2JqZWN0CiAqCiAqIEByZXR1cm5zIGEgbmV3IGBTZXNzaW9uYCBvYmplY3QKICovCmZ1bmN0aW9uIG1ha2VTZXNzaW9uKGNvbnRleHQpIHsKICAvLyBCb3RoIHRpbWVzdGFtcCBhbmQgc3RhcnRlZCBhcmUgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaC4KICBjb25zdCBzdGFydGluZ1RpbWUgPSB0aW1lc3RhbXBJblNlY29uZHMoKTsKCiAgY29uc3Qgc2Vzc2lvbiA9IHsKICAgIHNpZDogdXVpZDQoKSwKICAgIGluaXQ6IHRydWUsCiAgICB0aW1lc3RhbXA6IHN0YXJ0aW5nVGltZSwKICAgIHN0YXJ0ZWQ6IHN0YXJ0aW5nVGltZSwKICAgIGR1cmF0aW9uOiAwLAogICAgc3RhdHVzOiAnb2snLAogICAgZXJyb3JzOiAwLAogICAgaWdub3JlRHVyYXRpb246IGZhbHNlLAogICAgdG9KU09OOiAoKSA9PiBzZXNzaW9uVG9KU09OKHNlc3Npb24pLAogIH07CgogIGlmIChjb250ZXh0KSB7CiAgICB1cGRhdGVTZXNzaW9uKHNlc3Npb24sIGNvbnRleHQpOwogIH0KCiAgcmV0dXJuIHNlc3Npb247Cn0KCi8qKgogKiBVcGRhdGVzIGEgc2Vzc2lvbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBwYXNzZWQgaW4gdGhlIGNvbnRleHQuCiAqCiAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIG11dGF0ZXMgdGhlIHBhc3NlZCBvYmplY3QgYW5kIHJldHVybnMgdm9pZC4KICogKEhhZCB0byBkbyB0aGlzIGluc3RlYWQgb2YgcmV0dXJuaW5nIGEgbmV3IGFuZCB1cGRhdGVkIHNlc3Npb24gYmVjYXVzZSBjbG9zaW5nIGFuZCBzZW5kaW5nIGEgc2Vzc2lvbgogKiBtYWtlcyBhbiB1cGRhdGUgdG8gdGhlIHNlc3Npb24gYWZ0ZXIgaXQgd2FzIHBhc3NlZCB0byB0aGUgc2VuZGluZyBsb2dpYy4KICogQHNlZSBCYXNlQ2xpZW50LmNhcHR1cmVTZXNzaW9uICkKICoKICogQHBhcmFtIHNlc3Npb24gdGhlIGBTZXNzaW9uYCB0byB1cGRhdGUKICogQHBhcmFtIGNvbnRleHQgdGhlIGBTZXNzaW9uQ29udGV4dGAgaG9sZGluZyB0aGUgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSB1cGRhdGVkIGluIEBwYXJhbSBzZXNzaW9uCiAqLwovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eQpmdW5jdGlvbiB1cGRhdGVTZXNzaW9uKHNlc3Npb24sIGNvbnRleHQgPSB7fSkgewogIGlmIChjb250ZXh0LnVzZXIpIHsKICAgIGlmICghc2Vzc2lvbi5pcEFkZHJlc3MgJiYgY29udGV4dC51c2VyLmlwX2FkZHJlc3MpIHsKICAgICAgc2Vzc2lvbi5pcEFkZHJlc3MgPSBjb250ZXh0LnVzZXIuaXBfYWRkcmVzczsKICAgIH0KCiAgICBpZiAoIXNlc3Npb24uZGlkICYmICFjb250ZXh0LmRpZCkgewogICAgICBzZXNzaW9uLmRpZCA9IGNvbnRleHQudXNlci5pZCB8fCBjb250ZXh0LnVzZXIuZW1haWwgfHwgY29udGV4dC51c2VyLnVzZXJuYW1lOwogICAgfQogIH0KCiAgc2Vzc2lvbi50aW1lc3RhbXAgPSBjb250ZXh0LnRpbWVzdGFtcCB8fCB0aW1lc3RhbXBJblNlY29uZHMoKTsKCiAgaWYgKGNvbnRleHQuYWJub3JtYWxfbWVjaGFuaXNtKSB7CiAgICBzZXNzaW9uLmFibm9ybWFsX21lY2hhbmlzbSA9IGNvbnRleHQuYWJub3JtYWxfbWVjaGFuaXNtOwogIH0KCiAgaWYgKGNvbnRleHQuaWdub3JlRHVyYXRpb24pIHsKICAgIHNlc3Npb24uaWdub3JlRHVyYXRpb24gPSBjb250ZXh0Lmlnbm9yZUR1cmF0aW9uOwogIH0KICBpZiAoY29udGV4dC5zaWQpIHsKICAgIC8vIEdvb2QgZW5vdWdoIHV1aWQgdmFsaWRhdGlvbi4g4oCUIEthbWlsCiAgICBzZXNzaW9uLnNpZCA9IGNvbnRleHQuc2lkLmxlbmd0aCA9PT0gMzIgPyBjb250ZXh0LnNpZCA6IHV1aWQ0KCk7CiAgfQogIGlmIChjb250ZXh0LmluaXQgIT09IHVuZGVmaW5lZCkgewogICAgc2Vzc2lvbi5pbml0ID0gY29udGV4dC5pbml0OwogIH0KICBpZiAoIXNlc3Npb24uZGlkICYmIGNvbnRleHQuZGlkKSB7CiAgICBzZXNzaW9uLmRpZCA9IGAke2NvbnRleHQuZGlkfWA7CiAgfQogIGlmICh0eXBlb2YgY29udGV4dC5zdGFydGVkID09PSAnbnVtYmVyJykgewogICAgc2Vzc2lvbi5zdGFydGVkID0gY29udGV4dC5zdGFydGVkOwogIH0KICBpZiAoc2Vzc2lvbi5pZ25vcmVEdXJhdGlvbikgewogICAgc2Vzc2lvbi5kdXJhdGlvbiA9IHVuZGVmaW5lZDsKICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZXh0LmR1cmF0aW9uID09PSAnbnVtYmVyJykgewogICAgc2Vzc2lvbi5kdXJhdGlvbiA9IGNvbnRleHQuZHVyYXRpb247CiAgfSBlbHNlIHsKICAgIGNvbnN0IGR1cmF0aW9uID0gc2Vzc2lvbi50aW1lc3RhbXAgLSBzZXNzaW9uLnN0YXJ0ZWQ7CiAgICBzZXNzaW9uLmR1cmF0aW9uID0gZHVyYXRpb24gPj0gMCA/IGR1cmF0aW9uIDogMDsKICB9CiAgaWYgKGNvbnRleHQucmVsZWFzZSkgewogICAgc2Vzc2lvbi5yZWxlYXNlID0gY29udGV4dC5yZWxlYXNlOwogIH0KICBpZiAoY29udGV4dC5lbnZpcm9ubWVudCkgewogICAgc2Vzc2lvbi5lbnZpcm9ubWVudCA9IGNvbnRleHQuZW52aXJvbm1lbnQ7CiAgfQogIGlmICghc2Vzc2lvbi5pcEFkZHJlc3MgJiYgY29udGV4dC5pcEFkZHJlc3MpIHsKICAgIHNlc3Npb24uaXBBZGRyZXNzID0gY29udGV4dC5pcEFkZHJlc3M7CiAgfQogIGlmICghc2Vzc2lvbi51c2VyQWdlbnQgJiYgY29udGV4dC51c2VyQWdlbnQpIHsKICAgIHNlc3Npb24udXNlckFnZW50ID0gY29udGV4dC51c2VyQWdlbnQ7CiAgfQogIGlmICh0eXBlb2YgY29udGV4dC5lcnJvcnMgPT09ICdudW1iZXInKSB7CiAgICBzZXNzaW9uLmVycm9ycyA9IGNvbnRleHQuZXJyb3JzOwogIH0KICBpZiAoY29udGV4dC5zdGF0dXMpIHsKICAgIHNlc3Npb24uc3RhdHVzID0gY29udGV4dC5zdGF0dXM7CiAgfQp9CgovKioKICogU2VyaWFsaXplcyBhIHBhc3NlZCBzZXNzaW9uIG9iamVjdCB0byBhIEpTT04gb2JqZWN0IHdpdGggYSBzbGlnaHRseSBkaWZmZXJlbnQgc3RydWN0dXJlLgogKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBTZW50cnkgYmFja2VuZCByZXF1aXJlcyBhIHNsaWdodGx5IGRpZmZlcmVudCBzY2hlbWEgb2YgYSBzZXNzaW9uCiAqIHRoYW4gdGhlIG9uZSB0aGUgSlMgU0RLcyB1c2UgaW50ZXJuYWxseS4KICoKICogQHBhcmFtIHNlc3Npb24gdGhlIHNlc3Npb24gdG8gYmUgY29udmVydGVkCiAqCiAqIEByZXR1cm5zIGEgSlNPTiBvYmplY3Qgb2YgdGhlIHBhc3NlZCBzZXNzaW9uCiAqLwpmdW5jdGlvbiBzZXNzaW9uVG9KU09OKHNlc3Npb24pIHsKICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoewogICAgc2lkOiBgJHtzZXNzaW9uLnNpZH1gLAogICAgaW5pdDogc2Vzc2lvbi5pbml0LAogICAgLy8gTWFrZSBzdXJlIHRoYXQgc2VjIGlzIGNvbnZlcnRlZCB0byBtcyBmb3IgZGF0ZSBjb25zdHJ1Y3RvcgogICAgc3RhcnRlZDogbmV3IERhdGUoc2Vzc2lvbi5zdGFydGVkICogMTAwMCkudG9JU09TdHJpbmcoKSwKICAgIHRpbWVzdGFtcDogbmV3IERhdGUoc2Vzc2lvbi50aW1lc3RhbXAgKiAxMDAwKS50b0lTT1N0cmluZygpLAogICAgc3RhdHVzOiBzZXNzaW9uLnN0YXR1cywKICAgIGVycm9yczogc2Vzc2lvbi5lcnJvcnMsCiAgICBkaWQ6IHR5cGVvZiBzZXNzaW9uLmRpZCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHNlc3Npb24uZGlkID09PSAnc3RyaW5nJyA/IGAke3Nlc3Npb24uZGlkfWAgOiB1bmRlZmluZWQsCiAgICBkdXJhdGlvbjogc2Vzc2lvbi5kdXJhdGlvbiwKICAgIGFibm9ybWFsX21lY2hhbmlzbTogc2Vzc2lvbi5hYm5vcm1hbF9tZWNoYW5pc20sCiAgICBhdHRyczogewogICAgICByZWxlYXNlOiBzZXNzaW9uLnJlbGVhc2UsCiAgICAgIGVudmlyb25tZW50OiBzZXNzaW9uLmVudmlyb25tZW50LAogICAgICBpcF9hZGRyZXNzOiBzZXNzaW9uLmlwQWRkcmVzcywKICAgICAgdXNlcl9hZ2VudDogc2Vzc2lvbi51c2VyQWdlbnQsCiAgICB9LAogIH0pOwp9CgovKioKICogQXBwbHkgU2RrSW5mbyAobmFtZSwgdmVyc2lvbiwgcGFja2FnZXMsIGludGVncmF0aW9ucykgdG8gdGhlIGNvcnJlc3BvbmRpbmcgZXZlbnQga2V5LgogKiBNZXJnZSB3aXRoIGV4aXN0aW5nIGRhdGEgaWYgYW55LgogKiovCmZ1bmN0aW9uIGVuaGFuY2VFdmVudFdpdGhTZGtJbmZvKGV2ZW50LCBzZGtJbmZvKSB7CiAgaWYgKCFzZGtJbmZvKSB7CiAgICByZXR1cm4gZXZlbnQ7CiAgfQogIGV2ZW50LnNkayA9IGV2ZW50LnNkayB8fCB7fTsKICBldmVudC5zZGsubmFtZSA9IGV2ZW50LnNkay5uYW1lIHx8IHNka0luZm8ubmFtZTsKICBldmVudC5zZGsudmVyc2lvbiA9IGV2ZW50LnNkay52ZXJzaW9uIHx8IHNka0luZm8udmVyc2lvbjsKICBldmVudC5zZGsuaW50ZWdyYXRpb25zID0gWy4uLihldmVudC5zZGsuaW50ZWdyYXRpb25zIHx8IFtdKSwgLi4uKHNka0luZm8uaW50ZWdyYXRpb25zIHx8IFtdKV07CiAgZXZlbnQuc2RrLnBhY2thZ2VzID0gWy4uLihldmVudC5zZGsucGFja2FnZXMgfHwgW10pLCAuLi4oc2RrSW5mby5wYWNrYWdlcyB8fCBbXSldOwogIHJldHVybiBldmVudDsKfQoKLyoqIENyZWF0ZXMgYW4gZW52ZWxvcGUgZnJvbSBhIFNlc3Npb24gKi8KZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbkVudmVsb3BlKAogIHNlc3Npb24sCiAgZHNuLAogIG1ldGFkYXRhLAogIHR1bm5lbCwKKSB7CiAgY29uc3Qgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIobWV0YWRhdGEpOwogIGNvbnN0IGVudmVsb3BlSGVhZGVycyA9IHsKICAgIHNlbnRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwKICAgIC4uLihzZGtJbmZvICYmIHsgc2RrOiBzZGtJbmZvIH0pLAogICAgLi4uKCEhdHVubmVsICYmIGRzbiAmJiB7IGRzbjogZHNuVG9TdHJpbmcoZHNuKSB9KSwKICB9OwoKICBjb25zdCBlbnZlbG9wZUl0ZW0gPQogICAgJ2FnZ3JlZ2F0ZXMnIGluIHNlc3Npb24gPyBbeyB0eXBlOiAnc2Vzc2lvbnMnIH0sIHNlc3Npb25dIDogW3sgdHlwZTogJ3Nlc3Npb24nIH0sIHNlc3Npb24udG9KU09OKCldOwoKICByZXR1cm4gY3JlYXRlRW52ZWxvcGUoZW52ZWxvcGVIZWFkZXJzLCBbZW52ZWxvcGVJdGVtXSk7Cn0KCi8qKgogKiBDcmVhdGUgYW4gRW52ZWxvcGUgZnJvbSBhbiBldmVudC4KICovCmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RW52ZWxvcGUoCiAgZXZlbnQsCiAgZHNuLAogIG1ldGFkYXRhLAogIHR1bm5lbCwKKSB7CiAgY29uc3Qgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIobWV0YWRhdGEpOwoKICAvKgogICAgTm90ZTogRHVlIHRvIFRTLCBldmVudC50eXBlIG1heSBiZSBgcmVwbGF5X2V2ZW50YCwgdGhlb3JldGljYWxseS4KICAgIEluIHByYWN0aWNlLCB3ZSBuZXZlciBjYWxsIGBjcmVhdGVFdmVudEVudmVsb3BlYCB3aXRoIGByZXBsYXlfZXZlbnRgIHR5cGUsCiAgICBhbmQgd2UnZCBoYXZlIHRvIGFkanV0IGEgbG9vb3Qgb2YgdHlwZXMgdG8gbWFrZSB0aGlzIHdvcmsgcHJvcGVybHkuCiAgICBXZSB3YW50IHRvIGF2b2lkIGNhc3RpbmcgdGhpcyBhcm91bmQsIGFzIHRoYXQgY291bGQgbGVhZCB0byBidWdzIChlLmcuIHdoZW4gd2UgYWRkIGFub3RoZXIgdHlwZSkKICAgIFNvIHRoZSBzYWZlIGNob2ljZSBpcyB0byByZWFsbHkgZ3VhcmQgYWdhaW5zdCB0aGUgcmVwbGF5X2V2ZW50IHR5cGUgaGVyZS4KICAqLwogIGNvbnN0IGV2ZW50VHlwZSA9IGV2ZW50LnR5cGUgJiYgZXZlbnQudHlwZSAhPT0gJ3JlcGxheV9ldmVudCcgPyBldmVudC50eXBlIDogJ2V2ZW50JzsKCiAgZW5oYW5jZUV2ZW50V2l0aFNka0luZm8oZXZlbnQsIG1ldGFkYXRhICYmIG1ldGFkYXRhLnNkayk7CgogIGNvbnN0IGVudmVsb3BlSGVhZGVycyA9IGNyZWF0ZUV2ZW50RW52ZWxvcGVIZWFkZXJzKGV2ZW50LCBzZGtJbmZvLCB0dW5uZWwsIGRzbik7CgogIC8vIFByZXZlbnQgdGhpcyBkYXRhICh3aGljaCwgaWYgaXQgZXhpc3RzLCB3YXMgdXNlZCBpbiBlYXJsaWVyIHN0ZXBzIGluIHRoZSBwcm9jZXNzaW5nIHBpcGVsaW5lKSBmcm9tIGJlaW5nIHNlbnQgdG8KICAvLyBzZW50cnkuIChOb3RlOiBPdXIgdXNlIG9mIHRoaXMgcHJvcGVydHkgY29tZXMgYW5kIGdvZXMgd2l0aCB3aGF0ZXZlciB3ZSBtaWdodCBiZSBkZWJ1Z2dpbmcsIHdoYXRldmVyIGhhY2tzIHdlIG1heQogIC8vIGhhdmUgdGVtcG9yYXJpbHkgYWRkZWQsIGV0Yy4gRXZlbiBpZiB3ZSBkb24ndCBoYXBwZW4gdG8gYmUgdXNpbmcgaXQgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLCBsZXQncyBub3QgZ2V0IHJpZAogIC8vIG9mIHRoaXMgYGRlbGV0ZWAsIGxlc3Qgd2UgbWlzcyBwdXR0aW5nIGl0IGJhY2sgaW4gdGhlIG5leHQgdGltZSB0aGUgcHJvcGVydHkgaXMgaW4gdXNlLikKICBkZWxldGUgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhOwoKICBjb25zdCBldmVudEl0ZW0gPSBbeyB0eXBlOiBldmVudFR5cGUgfSwgZXZlbnRdOwogIHJldHVybiBjcmVhdGVFbnZlbG9wZShlbnZlbG9wZUhlYWRlcnMsIFtldmVudEl0ZW1dKTsKfQoKY29uc3QgU0VOVFJZX0FQSV9WRVJTSU9OID0gJzcnOwoKLyoqIFJldHVybnMgdGhlIHByZWZpeCB0byBjb25zdHJ1Y3QgU2VudHJ5IGluZ2VzdGlvbiBBUEkgZW5kcG9pbnRzLiAqLwpmdW5jdGlvbiBnZXRCYXNlQXBpRW5kcG9pbnQoZHNuKSB7CiAgY29uc3QgcHJvdG9jb2wgPSBkc24ucHJvdG9jb2wgPyBgJHtkc24ucHJvdG9jb2x9OmAgOiAnJzsKICBjb25zdCBwb3J0ID0gZHNuLnBvcnQgPyBgOiR7ZHNuLnBvcnR9YCA6ICcnOwogIHJldHVybiBgJHtwcm90b2NvbH0vLyR7ZHNuLmhvc3R9JHtwb3J0fSR7ZHNuLnBhdGggPyBgLyR7ZHNuLnBhdGh9YCA6ICcnfS9hcGkvYDsKfQoKLyoqIFJldHVybnMgdGhlIGluZ2VzdCBBUEkgZW5kcG9pbnQgZm9yIHRhcmdldC4gKi8KZnVuY3Rpb24gX2dldEluZ2VzdEVuZHBvaW50KGRzbikgewogIHJldHVybiBgJHtnZXRCYXNlQXBpRW5kcG9pbnQoZHNuKX0ke2Rzbi5wcm9qZWN0SWR9L2VudmVsb3BlL2A7Cn0KCi8qKiBSZXR1cm5zIGEgVVJMLWVuY29kZWQgc3RyaW5nIHdpdGggYXV0aCBjb25maWcgc3VpdGFibGUgZm9yIGEgcXVlcnkgc3RyaW5nLiAqLwpmdW5jdGlvbiBfZW5jb2RlZEF1dGgoZHNuLCBzZGtJbmZvKSB7CiAgcmV0dXJuIHVybEVuY29kZSh7CiAgICAvLyBXZSBzZW5kIG9ubHkgdGhlIG1pbmltdW0gc2V0IG9mIHJlcXVpcmVkIGluZm9ybWF0aW9uLiBTZWUKICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzI1NzIuCiAgICBzZW50cnlfa2V5OiBkc24ucHVibGljS2V5LAogICAgc2VudHJ5X3ZlcnNpb246IFNFTlRSWV9BUElfVkVSU0lPTiwKICAgIC4uLihzZGtJbmZvICYmIHsgc2VudHJ5X2NsaWVudDogYCR7c2RrSW5mby5uYW1lfS8ke3Nka0luZm8udmVyc2lvbn1gIH0pLAogIH0pOwp9CgovKioKICogUmV0dXJucyB0aGUgZW52ZWxvcGUgZW5kcG9pbnQgVVJMIHdpdGggYXV0aCBpbiB0aGUgcXVlcnkgc3RyaW5nLgogKgogKiBTZW5kaW5nIGF1dGggYXMgcGFydCBvZiB0aGUgcXVlcnkgc3RyaW5nIGFuZCBub3QgYXMgY3VzdG9tIEhUVFAgaGVhZGVycyBhdm9pZHMgQ09SUyBwcmVmbGlnaHQgcmVxdWVzdHMuCiAqLwpmdW5jdGlvbiBnZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKAogIGRzbiwKICAvLyBUT0RPICh2OCk6IFJlbW92ZSBgdHVubmVsT3JPcHRpb25zYCBpbiBmYXZvciBvZiBgb3B0aW9uc2AsIGFuZCB1c2UgdGhlIHN1YnN0aXR1dGUgY29kZSBiZWxvdwogIC8vIG9wdGlvbnM6IENsaWVudE9wdGlvbnMgPSB7fSBhcyBDbGllbnRPcHRpb25zLAogIHR1bm5lbE9yT3B0aW9ucyA9IHt9ICwKKSB7CiAgLy8gVE9ETyAodjgpOiBVc2UgdGhpcyBjb2RlIGluc3RlYWQKICAvLyBjb25zdCB7IHR1bm5lbCwgX21ldGFkYXRhID0ge30gfSA9IG9wdGlvbnM7CiAgLy8gcmV0dXJuIHR1bm5lbCA/IHR1bm5lbCA6IGAke19nZXRJbmdlc3RFbmRwb2ludChkc24pfT8ke19lbmNvZGVkQXV0aChkc24sIF9tZXRhZGF0YS5zZGspfWA7CgogIGNvbnN0IHR1bm5lbCA9IHR5cGVvZiB0dW5uZWxPck9wdGlvbnMgPT09ICdzdHJpbmcnID8gdHVubmVsT3JPcHRpb25zIDogdHVubmVsT3JPcHRpb25zLnR1bm5lbDsKICBjb25zdCBzZGtJbmZvID0KICAgIHR5cGVvZiB0dW5uZWxPck9wdGlvbnMgPT09ICdzdHJpbmcnIHx8ICF0dW5uZWxPck9wdGlvbnMuX21ldGFkYXRhID8gdW5kZWZpbmVkIDogdHVubmVsT3JPcHRpb25zLl9tZXRhZGF0YS5zZGs7CgogIHJldHVybiB0dW5uZWwgPyB0dW5uZWwgOiBgJHtfZ2V0SW5nZXN0RW5kcG9pbnQoZHNuKX0/JHtfZW5jb2RlZEF1dGgoZHNuLCBzZGtJbmZvKX1gOwp9Cgpjb25zdCBERUZBVUxUX1RSQU5TUE9SVF9CVUZGRVJfU0laRSA9IDMwOwoKLyoqCiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBTZW50cnkgYFRyYW5zcG9ydGAKICoKICogQHBhcmFtIG9wdGlvbnMKICogQHBhcmFtIG1ha2VSZXF1ZXN0CiAqLwpmdW5jdGlvbiBjcmVhdGVUcmFuc3BvcnQoCiAgb3B0aW9ucywKICBtYWtlUmVxdWVzdCwKICBidWZmZXIgPSBtYWtlUHJvbWlzZUJ1ZmZlcigKICAgIG9wdGlvbnMuYnVmZmVyU2l6ZSB8fCBERUZBVUxUX1RSQU5TUE9SVF9CVUZGRVJfU0laRSwKICApLAopIHsKICBsZXQgcmF0ZUxpbWl0cyA9IHt9OwogIGNvbnN0IGZsdXNoID0gKHRpbWVvdXQpID0+IGJ1ZmZlci5kcmFpbih0aW1lb3V0KTsKCiAgZnVuY3Rpb24gc2VuZChlbnZlbG9wZSkgewogICAgY29uc3QgZmlsdGVyZWRFbnZlbG9wZUl0ZW1zID0gW107CgogICAgLy8gRHJvcCByYXRlIGxpbWl0ZWQgaXRlbXMgZnJvbSBlbnZlbG9wZQogICAgZm9yRWFjaEVudmVsb3BlSXRlbShlbnZlbG9wZSwgKGl0ZW0sIHR5cGUpID0+IHsKICAgICAgY29uc3QgZW52ZWxvcGVJdGVtRGF0YUNhdGVnb3J5ID0gZW52ZWxvcGVJdGVtVHlwZVRvRGF0YUNhdGVnb3J5KHR5cGUpOwogICAgICBpZiAoaXNSYXRlTGltaXRlZChyYXRlTGltaXRzLCBlbnZlbG9wZUl0ZW1EYXRhQ2F0ZWdvcnkpKSB7CiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudEZvckVudmVsb3BlSXRlbShpdGVtLCB0eXBlKTsKICAgICAgICBvcHRpb25zLnJlY29yZERyb3BwZWRFdmVudCgncmF0ZWxpbWl0X2JhY2tvZmYnLCBlbnZlbG9wZUl0ZW1EYXRhQ2F0ZWdvcnksIGV2ZW50KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaWx0ZXJlZEVudmVsb3BlSXRlbXMucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CgogICAgLy8gU2tpcCBzZW5kaW5nIGlmIGVudmVsb3BlIGlzIGVtcHR5IGFmdGVyIGZpbHRlcmluZyBvdXQgcmF0ZSBsaW1pdGVkIGV2ZW50cwogICAgaWYgKGZpbHRlcmVkRW52ZWxvcGVJdGVtcy5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIHJlc29sdmVkU3luY1Byb21pc2UoKTsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogICAgY29uc3QgZmlsdGVyZWRFbnZlbG9wZSA9IGNyZWF0ZUVudmVsb3BlKGVudmVsb3BlWzBdLCBmaWx0ZXJlZEVudmVsb3BlSXRlbXMgKTsKCiAgICAvLyBDcmVhdGVzIGNsaWVudCByZXBvcnQgZm9yIGVhY2ggaXRlbSBpbiBhbiBlbnZlbG9wZQogICAgY29uc3QgcmVjb3JkRW52ZWxvcGVMb3NzID0gKHJlYXNvbikgPT4gewogICAgICBmb3JFYWNoRW52ZWxvcGVJdGVtKGZpbHRlcmVkRW52ZWxvcGUsIChpdGVtLCB0eXBlKSA9PiB7CiAgICAgICAgY29uc3QgZXZlbnQgPSBnZXRFdmVudEZvckVudmVsb3BlSXRlbShpdGVtLCB0eXBlKTsKICAgICAgICBvcHRpb25zLnJlY29yZERyb3BwZWRFdmVudChyZWFzb24sIGVudmVsb3BlSXRlbVR5cGVUb0RhdGFDYXRlZ29yeSh0eXBlKSwgZXZlbnQpOwogICAgICB9KTsKICAgIH07CgogICAgY29uc3QgcmVxdWVzdFRhc2sgPSAoKSA9PgogICAgICBtYWtlUmVxdWVzdCh7IGJvZHk6IHNlcmlhbGl6ZUVudmVsb3BlKGZpbHRlcmVkRW52ZWxvcGUsIG9wdGlvbnMudGV4dEVuY29kZXIpIH0pLnRoZW4oCiAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byB0aHJvdyBvbiBOT0sgcmVzcG9uc2VzLCBidXQgd2Ugd2FudCB0byBhdCBsZWFzdCBsb2cgdGhlbQogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgIT09IHVuZGVmaW5lZCAmJiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXNDb2RlID49IDMwMCkpIHsKICAgICAgICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLndhcm4oYFNlbnRyeSByZXNwb25kZWQgd2l0aCBzdGF0dXMgY29kZSAke3Jlc3BvbnNlLnN0YXR1c0NvZGV9IHRvIHNlbnQgZXZlbnQuYCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmF0ZUxpbWl0cyA9IHVwZGF0ZVJhdGVMaW1pdHMocmF0ZUxpbWl0cywgcmVzcG9uc2UpOwogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgIH0sCiAgICAgICAgZXJyb3IgPT4gewogICAgICAgICAgcmVjb3JkRW52ZWxvcGVMb3NzKCduZXR3b3JrX2Vycm9yJyk7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9LAogICAgICApOwoKICAgIHJldHVybiBidWZmZXIuYWRkKHJlcXVlc3RUYXNrKS50aGVuKAogICAgICByZXN1bHQgPT4gcmVzdWx0LAogICAgICBlcnJvciA9PiB7CiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU2VudHJ5RXJyb3IpIHsKICAgICAgICAgIERFQlVHX0JVSUxEICYmIGxvZ2dlci5lcnJvcignU2tpcHBlZCBzZW5kaW5nIGV2ZW50IGJlY2F1c2UgYnVmZmVyIGlzIGZ1bGwuJyk7CiAgICAgICAgICByZWNvcmRFbnZlbG9wZUxvc3MoJ3F1ZXVlX292ZXJmbG93Jyk7CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRTeW5jUHJvbWlzZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBlcnJvcjsKICAgICAgICB9CiAgICAgIH0sCiAgICApOwogIH0KCiAgLy8gV2UgdXNlIHRoaXMgdG8gaWRlbnRpZmlmeSBpZiB0aGUgdHJhbnNwb3J0IGlzIHRoZSBiYXNlIHRyYW5zcG9ydAogIC8vIFRPRE8gKHY4KTogUmVtb3ZlIHRoaXMgYWdhaW4gYXMgd2UnbGwgbm8gbG9uZ2VyIG5lZWQgaXQKICBzZW5kLl9fc2VudHJ5X19iYXNlVHJhbnNwb3J0X18gPSB0cnVlOwoKICByZXR1cm4gewogICAgc2VuZCwKICAgIGZsdXNoLAogIH07Cn0KCmZ1bmN0aW9uIGdldEV2ZW50Rm9yRW52ZWxvcGVJdGVtKGl0ZW0sIHR5cGUpIHsKICBpZiAodHlwZSAhPT0gJ2V2ZW50JyAmJiB0eXBlICE9PSAndHJhbnNhY3Rpb24nKSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbSkgPyAoaXRlbSApWzFdIDogdW5kZWZpbmVkOwp9CgovKiogbm9ybWFsaXplcyBXaW5kb3dzIHBhdGhzICovCmZ1bmN0aW9uIG5vcm1hbGl6ZVdpbmRvd3NQYXRoKHBhdGgpIHsKICByZXR1cm4gcGF0aAogICAgLnJlcGxhY2UoL15bQS1aXTovLCAnJykgLy8gcmVtb3ZlIFdpbmRvd3Mtc3R5bGUgcHJlZml4CiAgICAucmVwbGFjZSgvXFwvZywgJy8nKTsgLy8gcmVwbGFjZSBhbGwgYFxgIGluc3RhbmNlcyB3aXRoIGAvYAp9CgovKiogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgZ2V0cyB0aGUgbW9kdWxlIG5hbWUgZnJvbSBhIGZpbGVuYW1lICovCmZ1bmN0aW9uIGNyZWF0ZUdldE1vZHVsZUZyb21GaWxlbmFtZSgKICBiYXNlUGF0aCA9IHByb2Nlc3MuYXJndlsxXSA/IGRpcm5hbWUocHJvY2Vzcy5hcmd2WzFdKSA6IHByb2Nlc3MuY3dkKCksCiAgaXNXaW5kb3dzID0gc2VwID09PSAnXFwnLAopIHsKICBjb25zdCBub3JtYWxpemVkQmFzZSA9IGlzV2luZG93cyA/IG5vcm1hbGl6ZVdpbmRvd3NQYXRoKGJhc2VQYXRoKSA6IGJhc2VQYXRoOwoKICByZXR1cm4gKGZpbGVuYW1lKSA9PiB7CiAgICBpZiAoIWZpbGVuYW1lKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBub3JtYWxpemVkRmlsZW5hbWUgPSBpc1dpbmRvd3MgPyBub3JtYWxpemVXaW5kb3dzUGF0aChmaWxlbmFtZSkgOiBmaWxlbmFtZTsKCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CiAgICBsZXQgeyBkaXIsIGJhc2U6IGZpbGUsIGV4dCB9ID0gcG9zaXgucGFyc2Uobm9ybWFsaXplZEZpbGVuYW1lKTsKCiAgICBpZiAoZXh0ID09PSAnLmpzJyB8fCBleHQgPT09ICcubWpzJyB8fCBleHQgPT09ICcuY2pzJykgewogICAgICBmaWxlID0gZmlsZS5zbGljZSgwLCBleHQubGVuZ3RoICogLTEpOwogICAgfQoKICAgIGlmICghZGlyKSB7CiAgICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlcgogICAgICBkaXIgPSAnLic7CiAgICB9CgogICAgY29uc3QgbiA9IGRpci5sYXN0SW5kZXhPZignL25vZGVfbW9kdWxlcycpOwogICAgaWYgKG4gPiAtMSkgewogICAgICByZXR1cm4gYCR7ZGlyLnNsaWNlKG4gKyAxNCkucmVwbGFjZSgvXC8vZywgJy4nKX06JHtmaWxlfWA7CiAgICB9CgogICAgLy8gTGV0J3Mgc2VlIGlmIGl0J3MgYSBwYXJ0IG9mIHRoZSBtYWluIG1vZHVsZQogICAgLy8gVG8gYmUgYSBwYXJ0IG9mIG1haW4gbW9kdWxlLCBpdCBoYXMgdG8gc2hhcmUgdGhlIHNhbWUgYmFzZQogICAgaWYgKGRpci5zdGFydHNXaXRoKG5vcm1hbGl6ZWRCYXNlKSkgewogICAgICBsZXQgbW9kdWxlTmFtZSA9IGRpci5zbGljZShub3JtYWxpemVkQmFzZS5sZW5ndGggKyAxKS5yZXBsYWNlKC9cLy9nLCAnLicpOwoKICAgICAgaWYgKG1vZHVsZU5hbWUpIHsKICAgICAgICBtb2R1bGVOYW1lICs9ICc6JzsKICAgICAgfQogICAgICBtb2R1bGVOYW1lICs9IGZpbGU7CgogICAgICByZXR1cm4gbW9kdWxlTmFtZTsKICAgIH0KCiAgICByZXR1cm4gZmlsZTsKICB9Owp9CgpmdW5jdGlvbiBfbnVsbGlzaENvYWxlc2NlJDIobGhzLCByaHNGbikgeyBpZiAobGhzICE9IG51bGwpIHsgcmV0dXJuIGxoczsgfSBlbHNlIHsgcmV0dXJuIHJoc0ZuKCk7IH0gfS8qKgogKiBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgZm9ya2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Rvb1RhbGxOYXRlL3Byb3h5LWFnZW50cy90cmVlL2IxMzMyOTVmZDE2ZjY0NzU1NzhiNmIxNWJkOWI0ZTMzZWNiMGQwYjcKICogV2l0aCB0aGUgZm9sbG93aW5nIGxpY2VuY2U6CiAqCiAqIChUaGUgTUlUIExpY2Vuc2UpCiAqCiAqIENvcHlyaWdodCAoYykgMjAxMyBOYXRoYW4gUmFqbGljaCA8bmF0aGFuQHRvb3RhbGxuYXRlLm5ldD4qCiAqCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZwogKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKICogJ1NvZnR3YXJlJyksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwogKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0bwogKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8KICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOioKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUKICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuKgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwKICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4KICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkKICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwKICogVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUKICogU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAqLwoKY29uc3QgSU5URVJOQUwgPSBTeW1ib2woJ0FnZW50QmFzZUludGVybmFsU3RhdGUnKTsKCmNsYXNzIEFnZW50IGV4dGVuZHMgaHR0cC5BZ2VudCB7CgogIC8vIFNldCBieSBgaHR0cC5BZ2VudGAgLSBtaXNzaW5nIGZyb20gYEB0eXBlcy9ub2RlYAoKICBjb25zdHJ1Y3RvcihvcHRzKSB7CiAgICBzdXBlcihvcHRzKTsKICAgIHRoaXNbSU5URVJOQUxdID0ge307CiAgfQoKICAvKioKICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGFuIGBodHRwYCBvciBgaHR0cHNgIHJlcXVlc3QuCiAgICovCiAgaXNTZWN1cmVFbmRwb2ludChvcHRpb25zKSB7CiAgICBpZiAob3B0aW9ucykgewogICAgICAvLyBGaXJzdCBjaGVjayB0aGUgYHNlY3VyZUVuZHBvaW50YCBwcm9wZXJ0eSBleHBsaWNpdGx5LCBzaW5jZSB0aGlzCiAgICAgIC8vIG1lYW5zIHRoYXQgYSBwYXJlbnQgYEFnZW50YCBpcyAicGFzc2luZyB0aHJvdWdoIiB0byB0aGlzIGluc3RhbmNlLgogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzCiAgICAgIGlmICh0eXBlb2YgKG9wdGlvbnMgKS5zZWN1cmVFbmRwb2ludCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMuc2VjdXJlRW5kcG9pbnQ7CiAgICAgIH0KCiAgICAgIC8vIElmIG5vIGV4cGxpY2l0IGBzZWN1cmVgIGVuZHBvaW50LCBjaGVjayBpZiBgcHJvdG9jb2xgIHByb3BlcnR5IGlzCiAgICAgIC8vIHNldC4gVGhpcyB3aWxsIHVzdWFsbHkgYmUgdGhlIGNhc2Ugc2luY2UgdXNpbmcgYSBmdWxsIHN0cmluZyBVUkwKICAgICAgLy8gb3IgYFVSTGAgaW5zdGFuY2Ugc2hvdWxkIGJlIHRoZSBtb3N0IGNvbW1vbiB1c2FnZS4KICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnByb3RvY29sID09PSAnc3RyaW5nJykgewogICAgICAgIHJldHVybiBvcHRpb25zLnByb3RvY29sID09PSAnaHR0cHM6JzsKICAgICAgfQogICAgfQoKICAgIC8vIEZpbmFsbHksIGlmIG5vIGBwcm90b2NvbGAgcHJvcGVydHkgd2FzIHNldCwgdGhlbiBmYWxsIGJhY2sgdG8KICAgIC8vIGNoZWNraW5nIHRoZSBzdGFjayB0cmFjZSBvZiB0aGUgY3VycmVudCBjYWxsIHN0YWNrLCBhbmQgdHJ5IHRvCiAgICAvLyBkZXRlY3QgdGhlICJodHRwcyIgbW9kdWxlLgogICAgY29uc3QgeyBzdGFjayB9ID0gbmV3IEVycm9yKCk7CiAgICBpZiAodHlwZW9mIHN0YWNrICE9PSAnc3RyaW5nJykgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHN0YWNrLnNwbGl0KCdcbicpLnNvbWUobCA9PiBsLmluZGV4T2YoJyhodHRwcy5qczonKSAhPT0gLTEgfHwgbC5pbmRleE9mKCdub2RlOmh0dHBzOicpICE9PSAtMSk7CiAgfQoKICBjcmVhdGVTb2NrZXQocmVxLCBvcHRpb25zLCBjYikgewogICAgY29uc3QgY29ubmVjdE9wdHMgPSB7CiAgICAgIC4uLm9wdGlvbnMsCiAgICAgIHNlY3VyZUVuZHBvaW50OiB0aGlzLmlzU2VjdXJlRW5kcG9pbnQob3B0aW9ucyksCiAgICB9OwogICAgUHJvbWlzZS5yZXNvbHZlKCkKICAgICAgLnRoZW4oKCkgPT4gdGhpcy5jb25uZWN0KHJlcSwgY29ubmVjdE9wdHMpKQogICAgICAudGhlbihzb2NrZXQgPT4gewogICAgICAgIGlmIChzb2NrZXQgaW5zdGFuY2VvZiBodHRwLkFnZW50KSB7CiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGBhZGRSZXF1ZXN0KClgIGlzbid0IGRlZmluZWQgaW4gYEB0eXBlcy9ub2RlYAogICAgICAgICAgcmV0dXJuIHNvY2tldC5hZGRSZXF1ZXN0KHJlcSwgY29ubmVjdE9wdHMpOwogICAgICAgIH0KICAgICAgICB0aGlzW0lOVEVSTkFMXS5jdXJyZW50U29ja2V0ID0gc29ja2V0OwogICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYGNyZWF0ZVNvY2tldCgpYCBpc24ndCBkZWZpbmVkIGluIGBAdHlwZXMvbm9kZWAKICAgICAgICBzdXBlci5jcmVhdGVTb2NrZXQocmVxLCBvcHRpb25zLCBjYik7CiAgICAgIH0sIGNiKTsKICB9CgogIGNyZWF0ZUNvbm5lY3Rpb24oKSB7CiAgICBjb25zdCBzb2NrZXQgPSB0aGlzW0lOVEVSTkFMXS5jdXJyZW50U29ja2V0OwogICAgdGhpc1tJTlRFUk5BTF0uY3VycmVudFNvY2tldCA9IHVuZGVmaW5lZDsKICAgIGlmICghc29ja2V0KSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc29ja2V0IHdhcyByZXR1cm5lZCBpbiB0aGUgYGNvbm5lY3QoKWAgZnVuY3Rpb24nKTsKICAgIH0KICAgIHJldHVybiBzb2NrZXQ7CiAgfQoKICBnZXQgZGVmYXVsdFBvcnQoKSB7CiAgICByZXR1cm4gX251bGxpc2hDb2FsZXNjZSQyKHRoaXNbSU5URVJOQUxdLmRlZmF1bHRQb3J0LCAoKSA9PiAoICh0aGlzLnByb3RvY29sID09PSAnaHR0cHM6JyA/IDQ0MyA6IDgwKSkpOwogIH0KCiAgc2V0IGRlZmF1bHRQb3J0KHYpIHsKICAgIGlmICh0aGlzW0lOVEVSTkFMXSkgewogICAgICB0aGlzW0lOVEVSTkFMXS5kZWZhdWx0UG9ydCA9IHY7CiAgICB9CiAgfQoKICBnZXQgcHJvdG9jb2woKSB7CiAgICByZXR1cm4gX251bGxpc2hDb2FsZXNjZSQyKHRoaXNbSU5URVJOQUxdLnByb3RvY29sLCAoKSA9PiAoICh0aGlzLmlzU2VjdXJlRW5kcG9pbnQoKSA/ICdodHRwczonIDogJ2h0dHA6JykpKTsKICB9CgogIHNldCBwcm90b2NvbCh2KSB7CiAgICBpZiAodGhpc1tJTlRFUk5BTF0pIHsKICAgICAgdGhpc1tJTlRFUk5BTF0ucHJvdG9jb2wgPSB2OwogICAgfQogIH0KfQoKZnVuY3Rpb24gZGVidWckMSguLi5hcmdzKSB7CiAgbG9nZ2VyLmxvZygnW2h0dHBzLXByb3h5LWFnZW50OnBhcnNlLXByb3h5LXJlc3BvbnNlXScsIC4uLmFyZ3MpOwp9CgpmdW5jdGlvbiBwYXJzZVByb3h5UmVzcG9uc2Uoc29ja2V0KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgIC8vIHdlIG5lZWQgdG8gYnVmZmVyIGFueSBIVFRQIHRyYWZmaWMgdGhhdCBoYXBwZW5zIHdpdGggdGhlIHByb3h5IGJlZm9yZSB3ZSBnZXQKICAgIC8vIHRoZSBDT05ORUNUIHJlc3BvbnNlLCBzbyB0aGF0IGlmIHRoZSByZXNwb25zZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIGFuICIyMDAiCiAgICAvLyByZXNwb25zZSBjb2RlLCB0aGVuIHdlIGNhbiByZS1wbGF5IHRoZSAiZGF0YSIgZXZlbnRzIG9uIHRoZSBzb2NrZXQgb25jZSB0aGUKICAgIC8vIEhUVFAgcGFyc2VyIGlzIGhvb2tlZCB1cC4uLgogICAgbGV0IGJ1ZmZlcnNMZW5ndGggPSAwOwogICAgY29uc3QgYnVmZmVycyA9IFtdOwoKICAgIGZ1bmN0aW9uIHJlYWQoKSB7CiAgICAgIGNvbnN0IGIgPSBzb2NrZXQucmVhZCgpOwogICAgICBpZiAoYikgb25kYXRhKGIpOwogICAgICBlbHNlIHNvY2tldC5vbmNlKCdyZWFkYWJsZScsIHJlYWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7CiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpOwogICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7CiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcigncmVhZGFibGUnLCByZWFkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmVuZCgpIHsKICAgICAgY2xlYW51cCgpOwogICAgICBkZWJ1ZyQxKCdvbmVuZCcpOwogICAgICByZWplY3QobmV3IEVycm9yKCdQcm94eSBjb25uZWN0aW9uIGVuZGVkIGJlZm9yZSByZWNlaXZpbmcgQ09OTkVDVCByZXNwb25zZScpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmVycm9yKGVycikgewogICAgICBjbGVhbnVwKCk7CiAgICAgIGRlYnVnJDEoJ29uZXJyb3IgJW8nLCBlcnIpOwogICAgICByZWplY3QoZXJyKTsKICAgIH0KCiAgICBmdW5jdGlvbiBvbmRhdGEoYikgewogICAgICBidWZmZXJzLnB1c2goYik7CiAgICAgIGJ1ZmZlcnNMZW5ndGggKz0gYi5sZW5ndGg7CgogICAgICBjb25zdCBidWZmZXJlZCA9IEJ1ZmZlci5jb25jYXQoYnVmZmVycywgYnVmZmVyc0xlbmd0aCk7CiAgICAgIGNvbnN0IGVuZE9mSGVhZGVycyA9IGJ1ZmZlcmVkLmluZGV4T2YoJ1xyXG5cclxuJyk7CgogICAgICBpZiAoZW5kT2ZIZWFkZXJzID09PSAtMSkgewogICAgICAgIC8vIGtlZXAgYnVmZmVyaW5nCiAgICAgICAgZGVidWckMSgnaGF2ZSBub3QgcmVjZWl2ZWQgZW5kIG9mIEhUVFAgaGVhZGVycyB5ZXQuLi4nKTsKICAgICAgICByZWFkKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCBoZWFkZXJQYXJ0cyA9IGJ1ZmZlcmVkLnNsaWNlKDAsIGVuZE9mSGVhZGVycykudG9TdHJpbmcoJ2FzY2lpJykuc3BsaXQoJ1xyXG4nKTsKICAgICAgY29uc3QgZmlyc3RMaW5lID0gaGVhZGVyUGFydHMuc2hpZnQoKTsKICAgICAgaWYgKCFmaXJzdExpbmUpIHsKICAgICAgICBzb2NrZXQuZGVzdHJveSgpOwogICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKCdObyBoZWFkZXIgcmVjZWl2ZWQgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlJykpOwogICAgICB9CiAgICAgIGNvbnN0IGZpcnN0TGluZVBhcnRzID0gZmlyc3RMaW5lLnNwbGl0KCcgJyk7CiAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSArZmlyc3RMaW5lUGFydHNbMV07CiAgICAgIGNvbnN0IHN0YXR1c1RleHQgPSBmaXJzdExpbmVQYXJ0cy5zbGljZSgyKS5qb2luKCcgJyk7CiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTsKICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgaGVhZGVyUGFydHMpIHsKICAgICAgICBpZiAoIWhlYWRlcikgY29udGludWU7CiAgICAgICAgY29uc3QgZmlyc3RDb2xvbiA9IGhlYWRlci5pbmRleE9mKCc6Jyk7CiAgICAgICAgaWYgKGZpcnN0Q29sb24gPT09IC0xKSB7CiAgICAgICAgICBzb2NrZXQuZGVzdHJveSgpOwogICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoYEludmFsaWQgaGVhZGVyIGZyb20gcHJveHkgQ09OTkVDVCByZXNwb25zZTogIiR7aGVhZGVyfSJgKSk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IGtleSA9IGhlYWRlci5zbGljZSgwLCBmaXJzdENvbG9uKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnN0IHZhbHVlID0gaGVhZGVyLnNsaWNlKGZpcnN0Q29sb24gKyAxKS50cmltU3RhcnQoKTsKICAgICAgICBjb25zdCBjdXJyZW50ID0gaGVhZGVyc1trZXldOwogICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIGhlYWRlcnNba2V5XSA9IFtjdXJyZW50LCB2YWx1ZV07CiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnQpKSB7CiAgICAgICAgICBjdXJyZW50LnB1c2godmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZGVidWckMSgnZ290IHByb3h5IHNlcnZlciByZXNwb25zZTogJW8gJW8nLCBmaXJzdExpbmUsIGhlYWRlcnMpOwogICAgICBjbGVhbnVwKCk7CiAgICAgIHJlc29sdmUoewogICAgICAgIGNvbm5lY3Q6IHsKICAgICAgICAgIHN0YXR1c0NvZGUsCiAgICAgICAgICBzdGF0dXNUZXh0LAogICAgICAgICAgaGVhZGVycywKICAgICAgICB9LAogICAgICAgIGJ1ZmZlcmVkLAogICAgICB9KTsKICAgIH0KCiAgICBzb2NrZXQub24oJ2Vycm9yJywgb25lcnJvcik7CiAgICBzb2NrZXQub24oJ2VuZCcsIG9uZW5kKTsKCiAgICByZWFkKCk7CiAgfSk7Cn0KCmZ1bmN0aW9uIF9udWxsaXNoQ29hbGVzY2UkMShsaHMsIHJoc0ZuKSB7IGlmIChsaHMgIT0gbnVsbCkgeyByZXR1cm4gbGhzOyB9IGVsc2UgeyByZXR1cm4gcmhzRm4oKTsgfSB9IGZ1bmN0aW9uIF9vcHRpb25hbENoYWluJDEob3BzKSB7IGxldCBsYXN0QWNjZXNzTEhTID0gdW5kZWZpbmVkOyBsZXQgdmFsdWUgPSBvcHNbMF07IGxldCBpID0gMTsgd2hpbGUgKGkgPCBvcHMubGVuZ3RoKSB7IGNvbnN0IG9wID0gb3BzW2ldOyBjb25zdCBmbiA9IG9wc1tpICsgMV07IGkgKz0gMjsgaWYgKChvcCA9PT0gJ29wdGlvbmFsQWNjZXNzJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpICYmIHZhbHVlID09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBpZiAob3AgPT09ICdhY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnKSB7IGxhc3RBY2Nlc3NMSFMgPSB2YWx1ZTsgdmFsdWUgPSBmbih2YWx1ZSk7IH0gZWxzZSBpZiAob3AgPT09ICdjYWxsJyB8fCBvcCA9PT0gJ29wdGlvbmFsQ2FsbCcpIHsgdmFsdWUgPSBmbigoLi4uYXJncykgPT4gdmFsdWUuY2FsbChsYXN0QWNjZXNzTEhTLCAuLi5hcmdzKSk7IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IH0gfSByZXR1cm4gdmFsdWU7IH0vKioKICogVGhpcyBjb2RlIHdhcyBvcmlnaW5hbGx5IGZvcmtlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Ub29UYWxsTmF0ZS9wcm94eS1hZ2VudHMvdHJlZS9iMTMzMjk1ZmQxNmY2NDc1NTc4YjZiMTViZDliNGUzM2VjYjBkMGI3CiAqIFdpdGggdGhlIGZvbGxvd2luZyBsaWNlbmNlOgogKgogKiAoVGhlIE1JVCBMaWNlbnNlKQogKgogKiBDb3B5cmlnaHQgKGMpIDIwMTMgTmF0aGFuIFJhamxpY2ggPG5hdGhhbkB0b290YWxsbmF0ZS5uZXQ+KgogKgogKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcKICogYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCiAqICdTb2Z0d2FyZScpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLAogKiBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8KICogcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvCiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoqCiAqCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlCiAqIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLioKICoKICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsCiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgogKiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuCiAqIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZCiAqIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsCiAqIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFCiAqIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgogKi8KCmZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHsKICBsb2dnZXIubG9nKCdbaHR0cHMtcHJveHktYWdlbnRdJywgLi4uYXJncyk7Cn0KCi8qKgogKiBUaGUgYEh0dHBzUHJveHlBZ2VudGAgaW1wbGVtZW50cyBhbiBIVFRQIEFnZW50IHN1YmNsYXNzIHRoYXQgY29ubmVjdHMgdG8KICogdGhlIHNwZWNpZmllZCAiSFRUUChzKSBwcm94eSBzZXJ2ZXIiIGluIG9yZGVyIHRvIHByb3h5IEhUVFBTIHJlcXVlc3RzLgogKgogKiBPdXRnb2luZyBIVFRQIHJlcXVlc3RzIGFyZSBmaXJzdCB0dW5uZWxlZCB0aHJvdWdoIHRoZSBwcm94eSBzZXJ2ZXIgdXNpbmcgdGhlCiAqIGBDT05ORUNUYCBIVFRQIHJlcXVlc3QgbWV0aG9kIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IHNlcnZlciwKICogYW5kIHRoZW4gdGhlIHByb3h5IHNlcnZlciBjb25uZWN0cyB0byB0aGUgZGVzdGluYXRpb24gdGFyZ2V0IGFuZCBpc3N1ZXMgdGhlCiAqIEhUVFAgcmVxdWVzdCBmcm9tIHRoZSBwcm94eSBzZXJ2ZXIuCiAqCiAqIGBodHRwczpgIHJlcXVlc3RzIGhhdmUgdGhlaXIgc29ja2V0IGNvbm5lY3Rpb24gdXBncmFkZWQgdG8gVExTIG9uY2UKICogdGhlIGNvbm5lY3Rpb24gdG8gdGhlIHByb3h5IHNlcnZlciBoYXMgYmVlbiBlc3RhYmxpc2hlZC4KICovCmNsYXNzIEh0dHBzUHJveHlBZ2VudCBleHRlbmRzIEFnZW50IHsKICBzdGF0aWMgX19pbml0U3RhdGljKCkge3RoaXMucHJvdG9jb2xzID0gWydodHRwJywgJ2h0dHBzJ107IH0KCiAgY29uc3RydWN0b3IocHJveHksIG9wdHMpIHsKICAgIHN1cGVyKG9wdHMpOwogICAgdGhpcy5vcHRpb25zID0ge307CiAgICB0aGlzLnByb3h5ID0gdHlwZW9mIHByb3h5ID09PSAnc3RyaW5nJyA/IG5ldyBVUkwocHJveHkpIDogcHJveHk7CiAgICB0aGlzLnByb3h5SGVhZGVycyA9IF9udWxsaXNoQ29hbGVzY2UkMShfb3B0aW9uYWxDaGFpbiQxKFtvcHRzLCAnb3B0aW9uYWxBY2Nlc3MnLCBfMiA9PiBfMi5oZWFkZXJzXSksICgpID0+ICgge30pKTsKICAgIGRlYnVnKCdDcmVhdGluZyBuZXcgSHR0cHNQcm94eUFnZW50IGluc3RhbmNlOiAlbycsIHRoaXMucHJveHkuaHJlZik7CgogICAgLy8gVHJpbSBvZmYgdGhlIGJyYWNrZXRzIGZyb20gSVB2NiBhZGRyZXNzZXMKICAgIGNvbnN0IGhvc3QgPSAodGhpcy5wcm94eS5ob3N0bmFtZSB8fCB0aGlzLnByb3h5Lmhvc3QpLnJlcGxhY2UoL15cW3xcXSQvZywgJycpOwogICAgY29uc3QgcG9ydCA9IHRoaXMucHJveHkucG9ydCA/IHBhcnNlSW50KHRoaXMucHJveHkucG9ydCwgMTApIDogdGhpcy5wcm94eS5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyA0NDMgOiA4MDsKICAgIHRoaXMuY29ubmVjdE9wdHMgPSB7CiAgICAgIC8vIEF0dGVtcHQgdG8gbmVnb3RpYXRlIGh0dHAvMS4xIGZvciBwcm94eSBzZXJ2ZXJzIHRoYXQgc3VwcG9ydCBodHRwLzIKICAgICAgQUxQTlByb3RvY29sczogWydodHRwLzEuMSddLAogICAgICAuLi4ob3B0cyA/IG9taXQob3B0cywgJ2hlYWRlcnMnKSA6IG51bGwpLAogICAgICBob3N0LAogICAgICBwb3J0LAogICAgfTsKICB9CgogIC8qKgogICAqIENhbGxlZCB3aGVuIHRoZSBub2RlLWNvcmUgSFRUUCBjbGllbnQgbGlicmFyeSBpcyBjcmVhdGluZyBhCiAgICogbmV3IEhUVFAgcmVxdWVzdC4KICAgKi8KICBhc3luYyBjb25uZWN0KHJlcSwgb3B0cykgewogICAgY29uc3QgeyBwcm94eSB9ID0gdGhpczsKCiAgICBpZiAoIW9wdHMuaG9zdCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdObyAiaG9zdCIgcHJvdmlkZWQnKTsKICAgIH0KCiAgICAvLyBDcmVhdGUgYSBzb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgcHJveHkgc2VydmVyLgogICAgbGV0IHNvY2tldDsKICAgIGlmIChwcm94eS5wcm90b2NvbCA9PT0gJ2h0dHBzOicpIHsKICAgICAgZGVidWcoJ0NyZWF0aW5nIGB0bHMuU29ja2V0YDogJW8nLCB0aGlzLmNvbm5lY3RPcHRzKTsKICAgICAgY29uc3Qgc2VydmVybmFtZSA9IHRoaXMuY29ubmVjdE9wdHMuc2VydmVybmFtZSB8fCB0aGlzLmNvbm5lY3RPcHRzLmhvc3Q7CiAgICAgIHNvY2tldCA9IHRscy5jb25uZWN0KHsKICAgICAgICAuLi50aGlzLmNvbm5lY3RPcHRzLAogICAgICAgIHNlcnZlcm5hbWU6IHNlcnZlcm5hbWUgJiYgbmV0LmlzSVAoc2VydmVybmFtZSkgPyB1bmRlZmluZWQgOiBzZXJ2ZXJuYW1lLAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGRlYnVnKCdDcmVhdGluZyBgbmV0LlNvY2tldGA6ICVvJywgdGhpcy5jb25uZWN0T3B0cyk7CiAgICAgIHNvY2tldCA9IG5ldC5jb25uZWN0KHRoaXMuY29ubmVjdE9wdHMpOwogICAgfQoKICAgIGNvbnN0IGhlYWRlcnMgPQogICAgICB0eXBlb2YgdGhpcy5wcm94eUhlYWRlcnMgPT09ICdmdW5jdGlvbicgPyB0aGlzLnByb3h5SGVhZGVycygpIDogeyAuLi50aGlzLnByb3h5SGVhZGVycyB9OwogICAgY29uc3QgaG9zdCA9IG5ldC5pc0lQdjYob3B0cy5ob3N0KSA/IGBbJHtvcHRzLmhvc3R9XWAgOiBvcHRzLmhvc3Q7CiAgICBsZXQgcGF5bG9hZCA9IGBDT05ORUNUICR7aG9zdH06JHtvcHRzLnBvcnR9IEhUVFAvMS4xXHJcbmA7CgogICAgLy8gSW5qZWN0IHRoZSBgUHJveHktQXV0aG9yaXphdGlvbmAgaGVhZGVyIGlmIG5lY2Vzc2FyeS4KICAgIGlmIChwcm94eS51c2VybmFtZSB8fCBwcm94eS5wYXNzd29yZCkgewogICAgICBjb25zdCBhdXRoID0gYCR7ZGVjb2RlVVJJQ29tcG9uZW50KHByb3h5LnVzZXJuYW1lKX06JHtkZWNvZGVVUklDb21wb25lbnQocHJveHkucGFzc3dvcmQpfWA7CiAgICAgIGhlYWRlcnNbJ1Byb3h5LUF1dGhvcml6YXRpb24nXSA9IGBCYXNpYyAke0J1ZmZlci5mcm9tKGF1dGgpLnRvU3RyaW5nKCdiYXNlNjQnKX1gOwogICAgfQoKICAgIGhlYWRlcnMuSG9zdCA9IGAke2hvc3R9OiR7b3B0cy5wb3J0fWA7CgogICAgaWYgKCFoZWFkZXJzWydQcm94eS1Db25uZWN0aW9uJ10pIHsKICAgICAgaGVhZGVyc1snUHJveHktQ29ubmVjdGlvbiddID0gdGhpcy5rZWVwQWxpdmUgPyAnS2VlcC1BbGl2ZScgOiAnY2xvc2UnOwogICAgfQogICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5rZXlzKGhlYWRlcnMpKSB7CiAgICAgIHBheWxvYWQgKz0gYCR7bmFtZX06ICR7aGVhZGVyc1tuYW1lXX1cclxuYDsKICAgIH0KCiAgICBjb25zdCBwcm94eVJlc3BvbnNlUHJvbWlzZSA9IHBhcnNlUHJveHlSZXNwb25zZShzb2NrZXQpOwoKICAgIHNvY2tldC53cml0ZShgJHtwYXlsb2FkfVxyXG5gKTsKCiAgICBjb25zdCB7IGNvbm5lY3QsIGJ1ZmZlcmVkIH0gPSBhd2FpdCBwcm94eVJlc3BvbnNlUHJvbWlzZTsKICAgIHJlcS5lbWl0KCdwcm94eUNvbm5lY3QnLCBjb25uZWN0KTsKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnQKICAgIC8vIEB0cy1pZ25vcmUgTm90IEV2ZW50RW1pdHRlciBpbiBOb2RlIHR5cGVzCiAgICB0aGlzLmVtaXQoJ3Byb3h5Q29ubmVjdCcsIGNvbm5lY3QsIHJlcSk7CgogICAgaWYgKGNvbm5lY3Quc3RhdHVzQ29kZSA9PT0gMjAwKSB7CiAgICAgIHJlcS5vbmNlKCdzb2NrZXQnLCByZXN1bWUpOwoKICAgICAgaWYgKG9wdHMuc2VjdXJlRW5kcG9pbnQpIHsKICAgICAgICAvLyBUaGUgcHJveHkgaXMgY29ubmVjdGluZyB0byBhIFRMUyBzZXJ2ZXIsIHNvIHVwZ3JhZGUKICAgICAgICAvLyB0aGlzIHNvY2tldCBjb25uZWN0aW9uIHRvIGEgVExTIGNvbm5lY3Rpb24uCiAgICAgICAgZGVidWcoJ1VwZ3JhZGluZyBzb2NrZXQgY29ubmVjdGlvbiB0byBUTFMnKTsKICAgICAgICBjb25zdCBzZXJ2ZXJuYW1lID0gb3B0cy5zZXJ2ZXJuYW1lIHx8IG9wdHMuaG9zdDsKICAgICAgICByZXR1cm4gdGxzLmNvbm5lY3QoewogICAgICAgICAgLi4ub21pdChvcHRzLCAnaG9zdCcsICdwYXRoJywgJ3BvcnQnKSwKICAgICAgICAgIHNvY2tldCwKICAgICAgICAgIHNlcnZlcm5hbWU6IG5ldC5pc0lQKHNlcnZlcm5hbWUpID8gdW5kZWZpbmVkIDogc2VydmVybmFtZSwKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNvY2tldDsKICAgIH0KCiAgICAvLyBTb21lIG90aGVyIHN0YXR1cyBjb2RlIHRoYXQncyBub3QgMjAwLi4uIG5lZWQgdG8gcmUtcGxheSB0aGUgSFRUUAogICAgLy8gaGVhZGVyICJkYXRhIiBldmVudHMgb250byB0aGUgc29ja2V0IG9uY2UgdGhlIEhUVFAgbWFjaGluZXJ5IGlzCiAgICAvLyBhdHRhY2hlZCBzbyB0aGF0IHRoZSBub2RlIGNvcmUgYGh0dHBgIGNhbiBwYXJzZSBhbmQgaGFuZGxlIHRoZQogICAgLy8gZXJyb3Igc3RhdHVzIGNvZGUuCgogICAgLy8gQ2xvc2UgdGhlIG9yaWdpbmFsIHNvY2tldCwgYW5kIGEgbmV3ICJmYWtlIiBzb2NrZXQgaXMgcmV0dXJuZWQKICAgIC8vIGluc3RlYWQsIHNvIHRoYXQgdGhlIHByb3h5IGRvZXNuJ3QgZ2V0IHRoZSBIVFRQIHJlcXVlc3QKICAgIC8vIHdyaXR0ZW4gdG8gaXQgKHdoaWNoIG1heSBjb250YWluIGBBdXRob3JpemF0aW9uYCBoZWFkZXJzIG9yIG90aGVyCiAgICAvLyBzZW5zaXRpdmUgZGF0YSkuCiAgICAvLwogICAgLy8gU2VlOiBodHRwczovL2hhY2tlcm9uZS5jb20vcmVwb3J0cy81NDE1MDIKICAgIHNvY2tldC5kZXN0cm95KCk7CgogICAgY29uc3QgZmFrZVNvY2tldCA9IG5ldyBuZXQuU29ja2V0KHsgd3JpdGFibGU6IGZhbHNlIH0pOwogICAgZmFrZVNvY2tldC5yZWFkYWJsZSA9IHRydWU7CgogICAgLy8gTmVlZCB0byB3YWl0IGZvciB0aGUgInNvY2tldCIgZXZlbnQgdG8gcmUtcGxheSB0aGUgImRhdGEiIGV2ZW50cy4KICAgIHJlcS5vbmNlKCdzb2NrZXQnLCAocykgPT4gewogICAgICBkZWJ1ZygnUmVwbGF5aW5nIHByb3h5IGJ1ZmZlciBmb3IgZmFpbGVkIHJlcXVlc3QnKTsKICAgICAgYXNzZXJ0KHMubGlzdGVuZXJDb3VudCgnZGF0YScpID4gMCk7CgogICAgICAvLyBSZXBsYXkgdGhlICJidWZmZXJlZCIgQnVmZmVyIG9udG8gdGhlIGZha2UgYHNvY2tldGAsIHNpbmNlIGF0CiAgICAgIC8vIHRoaXMgcG9pbnQgdGhlIEhUVFAgbW9kdWxlIG1hY2hpbmVyeSBoYXMgYmVlbiBob29rZWQgdXAgZm9yCiAgICAgIC8vIHRoZSB1c2VyLgogICAgICBzLnB1c2goYnVmZmVyZWQpOwogICAgICBzLnB1c2gobnVsbCk7CiAgICB9KTsKCiAgICByZXR1cm4gZmFrZVNvY2tldDsKICB9Cn0gSHR0cHNQcm94eUFnZW50Ll9faW5pdFN0YXRpYygpOwoKZnVuY3Rpb24gcmVzdW1lKHNvY2tldCkgewogIHNvY2tldC5yZXN1bWUoKTsKfQoKZnVuY3Rpb24gb21pdCgKICBvYmosCiAgLi4ua2V5cwopCgogewogIGNvbnN0IHJldCA9IHt9Cgo7CiAgbGV0IGtleTsKICBmb3IgKGtleSBpbiBvYmopIHsKICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpKSB7CiAgICAgIHJldFtrZXldID0gb2JqW2tleV07CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCmZ1bmN0aW9uIF9udWxsaXNoQ29hbGVzY2UobGhzLCByaHNGbikgeyBpZiAobGhzICE9IG51bGwpIHsgcmV0dXJuIGxoczsgfSBlbHNlIHsgcmV0dXJuIHJoc0ZuKCk7IH0gfQovLyBFc3RpbWF0ZWQgbWF4aW11bSBzaXplIGZvciByZWFzb25hYmxlIHN0YW5kYWxvbmUgZXZlbnQKY29uc3QgR1pJUF9USFJFU0hPTEQgPSAxMDI0ICogMzI7CgovKioKICogR2V0cyBhIHN0cmVhbSBmcm9tIGEgVWludDhBcnJheSBvciBzdHJpbmcKICogUmVhZGFibGUuZnJvbSBpcyBpZGVhbCBidXQgd2FzIGFkZGVkIGluIG5vZGUuanMgdjEyLjMuMCBhbmQgdjEwLjE3LjAKICovCmZ1bmN0aW9uIHN0cmVhbUZyb21Cb2R5KGJvZHkpIHsKICByZXR1cm4gbmV3IFJlYWRhYmxlKHsKICAgIHJlYWQoKSB7CiAgICAgIHRoaXMucHVzaChib2R5KTsKICAgICAgdGhpcy5wdXNoKG51bGwpOwogICAgfSwKICB9KTsKfQoKLyoqCiAqIENyZWF0ZXMgYSBUcmFuc3BvcnQgdGhhdCB1c2VzIG5hdGl2ZSB0aGUgbmF0aXZlICdodHRwJyBhbmQgJ2h0dHBzJyBtb2R1bGVzIHRvIHNlbmQgZXZlbnRzIHRvIFNlbnRyeS4KICovCmZ1bmN0aW9uIG1ha2VOb2RlVHJhbnNwb3J0KG9wdGlvbnMpIHsKICBsZXQgdXJsU2VnbWVudHM7CgogIHRyeSB7CiAgICB1cmxTZWdtZW50cyA9IG5ldyBVUkwob3B0aW9ucy51cmwpOwogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnNvbGVTYW5kYm94KCgpID0+IHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgY29uc29sZS53YXJuKAogICAgICAgICdbQHNlbnRyeS9ub2RlXTogSW52YWxpZCBkc24gb3IgdHVubmVsIG9wdGlvbiwgd2lsbCBub3Qgc2VuZCBhbnkgZXZlbnRzLiBUaGUgdHVubmVsIG9wdGlvbiBtdXN0IGJlIGEgZnVsbCBVUkwgd2hlbiB1c2VkLicsCiAgICAgICk7CiAgICB9KTsKICAgIHJldHVybiBjcmVhdGVUcmFuc3BvcnQob3B0aW9ucywgKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHt9KSk7CiAgfQoKICBjb25zdCBpc0h0dHBzID0gdXJsU2VnbWVudHMucHJvdG9jb2wgPT09ICdodHRwczonOwoKICAvLyBQcm94eSBwcmlvcml0aXphdGlvbjogaHR0cCA9PiBgb3B0aW9ucy5wcm94eWAgfCBgcHJvY2Vzcy5lbnYuaHR0cF9wcm94eWAKICAvLyBQcm94eSBwcmlvcml0aXphdGlvbjogaHR0cHMgPT4gYG9wdGlvbnMucHJveHlgIHwgYHByb2Nlc3MuZW52Lmh0dHBzX3Byb3h5YCB8IGBwcm9jZXNzLmVudi5odHRwX3Byb3h5YAogIGNvbnN0IHByb3h5ID0gYXBwbHlOb1Byb3h5T3B0aW9uKAogICAgdXJsU2VnbWVudHMsCiAgICBvcHRpb25zLnByb3h5IHx8IChpc0h0dHBzID8gcHJvY2Vzcy5lbnYuaHR0cHNfcHJveHkgOiB1bmRlZmluZWQpIHx8IHByb2Nlc3MuZW52Lmh0dHBfcHJveHksCiAgKTsKCiAgY29uc3QgbmF0aXZlSHR0cE1vZHVsZSA9IGlzSHR0cHMgPyBodHRwcyA6IGh0dHA7CiAgY29uc3Qga2VlcEFsaXZlID0gb3B0aW9ucy5rZWVwQWxpdmUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogb3B0aW9ucy5rZWVwQWxpdmU7CgogIC8vIFRPRE8odjcpOiBFdmFsdWF0ZSBpZiB3ZSBjYW4gc2V0IGtlZXBBbGl2ZSB0byB0cnVlLiBUaGlzIHdvdWxkIGludm9sdmUgdGVzdGluZyBmb3IgbWVtb3J5IGxlYWtzIGluIG9sZGVyIG5vZGUKICAvLyB2ZXJzaW9ucyg+PSA4KSBhcyB0aGV5IGhhZCBtZW1vcnkgbGVha3Mgd2hlbiB1c2luZyBpdDogIzI1NTUKICBjb25zdCBhZ2VudCA9IHByb3h5CiAgICA/IChuZXcgSHR0cHNQcm94eUFnZW50KHByb3h5KSApCiAgICA6IG5ldyBuYXRpdmVIdHRwTW9kdWxlLkFnZW50KHsga2VlcEFsaXZlLCBtYXhTb2NrZXRzOiAzMCwgdGltZW91dDogMjAwMCB9KTsKCiAgY29uc3QgcmVxdWVzdEV4ZWN1dG9yID0gY3JlYXRlUmVxdWVzdEV4ZWN1dG9yKG9wdGlvbnMsIF9udWxsaXNoQ29hbGVzY2Uob3B0aW9ucy5odHRwTW9kdWxlLCAoKSA9PiAoIG5hdGl2ZUh0dHBNb2R1bGUpKSwgYWdlbnQpOwogIHJldHVybiBjcmVhdGVUcmFuc3BvcnQob3B0aW9ucywgcmVxdWVzdEV4ZWN1dG9yKTsKfQoKLyoqCiAqIEhvbm9ycyB0aGUgYG5vX3Byb3h5YCBlbnYgdmFyaWFibGUgd2l0aCB0aGUgaGlnaGVzdCBwcmlvcml0eSB0byBhbGxvdyBmb3IgaG9zdHMgZXhjbHVzaW9uLgogKgogKiBAcGFyYW0gdHJhbnNwb3J0VXJsIFRoZSBVUkwgdGhlIHRyYW5zcG9ydCBpbnRlbmRzIHRvIHNlbmQgZXZlbnRzIHRvLgogKiBAcGFyYW0gcHJveHkgVGhlIGNsaWVudCBjb25maWd1cmVkIHByb3h5LgogKiBAcmV0dXJucyBBIHByb3h5IHRoZSB0cmFuc3BvcnQgc2hvdWxkIHVzZS4KICovCmZ1bmN0aW9uIGFwcGx5Tm9Qcm94eU9wdGlvbih0cmFuc3BvcnRVcmxTZWdtZW50cywgcHJveHkpIHsKICBjb25zdCB7IG5vX3Byb3h5IH0gPSBwcm9jZXNzLmVudjsKCiAgY29uc3QgdXJsSXNFeGVtcHRGcm9tUHJveHkgPQogICAgbm9fcHJveHkgJiYKICAgIG5vX3Byb3h5CiAgICAgIC5zcGxpdCgnLCcpCiAgICAgIC5zb21lKAogICAgICAgIGV4ZW1wdGlvbiA9PiB0cmFuc3BvcnRVcmxTZWdtZW50cy5ob3N0LmVuZHNXaXRoKGV4ZW1wdGlvbikgfHwgdHJhbnNwb3J0VXJsU2VnbWVudHMuaG9zdG5hbWUuZW5kc1dpdGgoZXhlbXB0aW9uKSwKICAgICAgKTsKCiAgaWYgKHVybElzRXhlbXB0RnJvbVByb3h5KSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcHJveHk7CiAgfQp9CgovKioKICogQ3JlYXRlcyBhIFJlcXVlc3RFeGVjdXRvciB0byBiZSB1c2VkIHdpdGggYGNyZWF0ZVRyYW5zcG9ydGAuCiAqLwpmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0RXhlY3V0b3IoCiAgb3B0aW9ucywKICBodHRwTW9kdWxlLAogIGFnZW50LAopIHsKICBjb25zdCB7IGhvc3RuYW1lLCBwYXRobmFtZSwgcG9ydCwgcHJvdG9jb2wsIHNlYXJjaCB9ID0gbmV3IFVSTChvcHRpb25zLnVybCk7CiAgcmV0dXJuIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KHJlcXVlc3QpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgIGxldCBib2R5ID0gc3RyZWFtRnJvbUJvZHkocmVxdWVzdC5ib2R5KTsKCiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IC4uLm9wdGlvbnMuaGVhZGVycyB9OwoKICAgICAgaWYgKHJlcXVlc3QuYm9keS5sZW5ndGggPiBHWklQX1RIUkVTSE9MRCkgewogICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtZW5jb2RpbmcnXSA9ICdnemlwJzsKICAgICAgICBib2R5ID0gYm9keS5waXBlKGNyZWF0ZUd6aXAoKSk7CiAgICAgIH0KCiAgICAgIGNvbnN0IHJlcSA9IGh0dHBNb2R1bGUucmVxdWVzdCgKICAgICAgICB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGFnZW50LAogICAgICAgICAgaGVhZGVycywKICAgICAgICAgIGhvc3RuYW1lLAogICAgICAgICAgcGF0aDogYCR7cGF0aG5hbWV9JHtzZWFyY2h9YCwKICAgICAgICAgIHBvcnQsCiAgICAgICAgICBwcm90b2NvbCwKICAgICAgICAgIGNhOiBvcHRpb25zLmNhQ2VydHMsCiAgICAgICAgfSwKICAgICAgICByZXMgPT4gewogICAgICAgICAgcmVzLm9uKCdkYXRhJywgKCkgPT4gewogICAgICAgICAgICAvLyBEcmFpbiBzb2NrZXQKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJlcy5vbignZW5kJywgKCkgPT4gewogICAgICAgICAgICAvLyBEcmFpbiBzb2NrZXQKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJlcy5zZXRFbmNvZGluZygndXRmOCcpOwoKICAgICAgICAgIC8vICJLZXktdmFsdWUgcGFpcnMgb2YgaGVhZGVyIG5hbWVzIGFuZCB2YWx1ZXMuIEhlYWRlciBuYW1lcyBhcmUgbG93ZXItY2FzZWQuIgogICAgICAgICAgLy8gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnMKICAgICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJIZWFkZXIgPSBfbnVsbGlzaENvYWxlc2NlKHJlcy5oZWFkZXJzWydyZXRyeS1hZnRlciddLCAoKSA9PiAoIG51bGwpKTsKICAgICAgICAgIGNvbnN0IHJhdGVMaW1pdHNIZWFkZXIgPSBfbnVsbGlzaENvYWxlc2NlKHJlcy5oZWFkZXJzWyd4LXNlbnRyeS1yYXRlLWxpbWl0cyddLCAoKSA9PiAoIG51bGwpKTsKCiAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAncmV0cnktYWZ0ZXInOiByZXRyeUFmdGVySGVhZGVyLAogICAgICAgICAgICAgICd4LXNlbnRyeS1yYXRlLWxpbWl0cyc6IEFycmF5LmlzQXJyYXkocmF0ZUxpbWl0c0hlYWRlcikgPyByYXRlTGltaXRzSGVhZGVyWzBdIDogcmF0ZUxpbWl0c0hlYWRlciwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICk7CgogICAgICByZXEub24oJ2Vycm9yJywgcmVqZWN0KTsKICAgICAgYm9keS5waXBlKHJlcSk7CiAgICB9KTsKICB9Owp9CgpmdW5jdGlvbiBfb3B0aW9uYWxDaGFpbihvcHMpIHsgbGV0IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IGxldCB2YWx1ZSA9IG9wc1swXTsgbGV0IGkgPSAxOyB3aGlsZSAoaSA8IG9wcy5sZW5ndGgpIHsgY29uc3Qgb3AgPSBvcHNbaV07IGNvbnN0IGZuID0gb3BzW2kgKyAxXTsgaSArPSAyOyBpZiAoKG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgJiYgdmFsdWUgPT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGlmIChvcCA9PT0gJ2FjY2VzcycgfHwgb3AgPT09ICdvcHRpb25hbEFjY2VzcycpIHsgbGFzdEFjY2Vzc0xIUyA9IHZhbHVlOyB2YWx1ZSA9IGZuKHZhbHVlKTsgfSBlbHNlIGlmIChvcCA9PT0gJ2NhbGwnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgeyB2YWx1ZSA9IGZuKCguLi5hcmdzKSA9PiB2YWx1ZS5jYWxsKGxhc3RBY2Nlc3NMSFMsIC4uLmFyZ3MpKTsgbGFzdEFjY2Vzc0xIUyA9IHVuZGVmaW5lZDsgfSB9IHJldHVybiB2YWx1ZTsgfQpjb25zdCBvcHRpb25zID0gd29ya2VyRGF0YTsKbGV0IHNlc3Npb247CmxldCBoYXNTZW50QW5yRXZlbnQgPSBmYWxzZTsKCmZ1bmN0aW9uIGxvZyhtc2cpIHsKICBpZiAob3B0aW9ucy5kZWJ1ZykgewogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgIGNvbnNvbGUubG9nKGBbQU5SIFdvcmtlcl0gJHttc2d9YCk7CiAgfQp9Cgpjb25zdCB1cmwgPSBnZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKG9wdGlvbnMuZHNuKTsKY29uc3QgdHJhbnNwb3J0ID0gbWFrZU5vZGVUcmFuc3BvcnQoewogIHVybCwKICByZWNvcmREcm9wcGVkRXZlbnQ6ICgpID0+IHsKICAgIC8vCiAgfSwKfSk7Cgphc3luYyBmdW5jdGlvbiBzZW5kQWJub3JtYWxTZXNzaW9uKCkgewogIC8vIG9mIHdlIGhhdmUgYW4gZXhpc3Rpbmcgc2Vzc2lvbiBwYXNzZWQgZnJvbSB0aGUgbWFpbiB0aHJlYWQsIHNlbmQgaXQgYXMgYWJub3JtYWwKICBpZiAoc2Vzc2lvbikgewogICAgbG9nKCdTZW5kaW5nIGFibm9ybWFsIHNlc3Npb24nKTsKICAgIHVwZGF0ZVNlc3Npb24oc2Vzc2lvbiwgeyBzdGF0dXM6ICdhYm5vcm1hbCcsIGFibm9ybWFsX21lY2hhbmlzbTogJ2Fucl9mb3JlZ3JvdW5kJyB9KTsKCiAgICBjb25zdCBlbnZlbG9wZSA9IGNyZWF0ZVNlc3Npb25FbnZlbG9wZShzZXNzaW9uLCBvcHRpb25zLmRzbiwgb3B0aW9ucy5zZGtNZXRhZGF0YSk7CiAgICAvLyBMb2cgdGhlIGVudmVsb3BlIHNvIHRvIGFpZCBpbiB0ZXN0aW5nCiAgICBsb2coSlNPTi5zdHJpbmdpZnkoZW52ZWxvcGUpKTsKCiAgICBhd2FpdCB0cmFuc3BvcnQuc2VuZChlbnZlbG9wZSk7CgogICAgdHJ5IHsKICAgICAgLy8gTm90aWZ5IHRoZSBtYWluIHByb2Nlc3MgdGhhdCB0aGUgc2Vzc2lvbiBoYXMgZW5kZWQgc28gdGhlIHNlc3Npb24gY2FuIGJlIGNsZWFyZWQgZnJvbSB0aGUgc2NvcGUKICAgICAgX29wdGlvbmFsQ2hhaW4oW3BhcmVudFBvcnQsICdvcHRpb25hbEFjY2VzcycsIF8yID0+IF8yLnBvc3RNZXNzYWdlLCAnY2FsbCcsIF8zID0+IF8zKCdzZXNzaW9uLWVuZGVkJyldKTsKICAgIH0gY2F0Y2ggKF8pIHsKICAgICAgLy8gaWdub3JlCiAgICB9CiAgfQp9Cgpsb2coJ1N0YXJ0ZWQnKTsKCmZ1bmN0aW9uIHByZXBhcmVTdGFja0ZyYW1lcyhzdGFja0ZyYW1lcykgewogIGlmICghc3RhY2tGcmFtZXMpIHsKICAgIHJldHVybiB1bmRlZmluZWQ7CiAgfQoKICAvLyBTdHJpcCBTZW50cnkgZnJhbWVzIGFuZCByZXZlcnNlIHRoZSBzdGFjayBmcmFtZXMgc28gdGhleSBhcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXIKICBjb25zdCBzdHJpcHBlZEZyYW1lcyA9IHN0cmlwU2VudHJ5RnJhbWVzQW5kUmV2ZXJzZShzdGFja0ZyYW1lcyk7CgogIC8vIElmIHdlIGhhdmUgYW4gYXBwIHJvb3QgcGF0aCwgcmV3cml0ZSB0aGUgZmlsZW5hbWVzIHRvIGJlIHJlbGF0aXZlIHRvIHRoZSBhcHAgcm9vdAogIGlmIChvcHRpb25zLmFwcFJvb3RQYXRoKSB7CiAgICBmb3IgKGNvbnN0IGZyYW1lIG9mIHN0cmlwcGVkRnJhbWVzKSB7CiAgICAgIGlmICghZnJhbWUuZmlsZW5hbWUpIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQoKICAgICAgZnJhbWUuZmlsZW5hbWUgPSBub3JtYWxpemVVcmxUb0Jhc2UoZnJhbWUuZmlsZW5hbWUsIG9wdGlvbnMuYXBwUm9vdFBhdGgpOwogICAgfQogIH0KCiAgcmV0dXJuIHN0cmlwcGVkRnJhbWVzOwp9Cgphc3luYyBmdW5jdGlvbiBzZW5kQW5yRXZlbnQoZnJhbWVzLCB0cmFjZUNvbnRleHQpIHsKICBpZiAoaGFzU2VudEFuckV2ZW50KSB7CiAgICByZXR1cm47CiAgfQoKICBoYXNTZW50QW5yRXZlbnQgPSB0cnVlOwoKICBhd2FpdCBzZW5kQWJub3JtYWxTZXNzaW9uKCk7CgogIGxvZygnU2VuZGluZyBldmVudCcpOwoKICBjb25zdCBldmVudCA9IHsKICAgIGV2ZW50X2lkOiB1dWlkNCgpLAogICAgY29udGV4dHM6IHsgLi4ub3B0aW9ucy5jb250ZXh0cywgdHJhY2U6IHRyYWNlQ29udGV4dCB9LAogICAgcmVsZWFzZTogb3B0aW9ucy5yZWxlYXNlLAogICAgZW52aXJvbm1lbnQ6IG9wdGlvbnMuZW52aXJvbm1lbnQsCiAgICBkaXN0OiBvcHRpb25zLmRpc3QsCiAgICBwbGF0Zm9ybTogJ25vZGUnLAogICAgbGV2ZWw6ICdlcnJvcicsCiAgICBleGNlcHRpb246IHsKICAgICAgdmFsdWVzOiBbCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ0FwcGxpY2F0aW9uTm90UmVzcG9uZGluZycsCiAgICAgICAgICB2YWx1ZTogYEFwcGxpY2F0aW9uIE5vdCBSZXNwb25kaW5nIGZvciBhdCBsZWFzdCAke29wdGlvbnMuYW5yVGhyZXNob2xkfSBtc2AsCiAgICAgICAgICBzdGFja3RyYWNlOiB7IGZyYW1lczogcHJlcGFyZVN0YWNrRnJhbWVzKGZyYW1lcykgfSwKICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGUgVUkgZG9lc24ndCBzYXkgJ0NyYXNoZWQgaW4nIGZvciB0aGUgc3RhY2sgdHJhY2UKICAgICAgICAgIG1lY2hhbmlzbTogeyB0eXBlOiAnQU5SJyB9LAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9LAogICAgdGFnczogb3B0aW9ucy5zdGF0aWNUYWdzLAogIH07CgogIGNvbnN0IGVudmVsb3BlID0gY3JlYXRlRXZlbnRFbnZlbG9wZShldmVudCwgb3B0aW9ucy5kc24sIG9wdGlvbnMuc2RrTWV0YWRhdGEpOwogIC8vIExvZyB0aGUgZW52ZWxvcGUgc28gdG8gYWlkIGluIHRlc3RpbmcKICBsb2coSlNPTi5zdHJpbmdpZnkoZW52ZWxvcGUpKTsKCiAgYXdhaXQgdHJhbnNwb3J0LnNlbmQoZW52ZWxvcGUpOwogIGF3YWl0IHRyYW5zcG9ydC5mbHVzaCgyMDAwKTsKCiAgLy8gRGVsYXkgZm9yIDUgc2Vjb25kcyBzbyB0aGF0IHN0ZGlvIGNhbiBmbHVzaCBpbiB0aGUgbWFpbiBldmVudCBsb29wIGV2ZXIgcmVzdGFydHMuCiAgLy8gVGhpcyBpcyBtYWlubHkgZm9yIHRoZSBiZW5lZml0IG9mIGxvZ2dpbmcvZGVidWdnaW5nIGlzc3Vlcy4KICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIHByb2Nlc3MuZXhpdCgwKTsKICB9LCA1MDAwKTsKfQoKbGV0IGRlYnVnZ2VyUGF1c2U7CgppZiAob3B0aW9ucy5jYXB0dXJlU3RhY2tUcmFjZSkgewogIGxvZygnQ29ubmVjdGluZyB0byBkZWJ1Z2dlcicpOwoKICBjb25zdCBzZXNzaW9uID0gbmV3IFNlc3Npb24oKSA7CiAgc2Vzc2lvbi5jb25uZWN0VG9NYWluVGhyZWFkKCk7CgogIGxvZygnQ29ubmVjdGVkIHRvIGRlYnVnZ2VyJyk7CgogIC8vIENvbGxlY3Qgc2NyaXB0SWQgLT4gdXJsIG1hcCBzbyB3ZSBjYW4gbG9vayB1cCB0aGUgZmlsZW5hbWVzIGxhdGVyCiAgY29uc3Qgc2NyaXB0cyA9IG5ldyBNYXAoKTsKCiAgc2Vzc2lvbi5vbignRGVidWdnZXIuc2NyaXB0UGFyc2VkJywgZXZlbnQgPT4gewogICAgc2NyaXB0cy5zZXQoZXZlbnQucGFyYW1zLnNjcmlwdElkLCBldmVudC5wYXJhbXMudXJsKTsKICB9KTsKCiAgc2Vzc2lvbi5vbignRGVidWdnZXIucGF1c2VkJywgZXZlbnQgPT4gewogICAgaWYgKGV2ZW50LnBhcmFtcy5yZWFzb24gIT09ICdvdGhlcicpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRyeSB7CiAgICAgIGxvZygnRGVidWdnZXIgcGF1c2VkJyk7CgogICAgICAvLyBjb3B5IHRoZSBmcmFtZXMKICAgICAgY29uc3QgY2FsbEZyYW1lcyA9IFsuLi5ldmVudC5wYXJhbXMuY2FsbEZyYW1lc107CgogICAgICBjb25zdCBnZXRNb2R1bGVOYW1lID0gb3B0aW9ucy5hcHBSb290UGF0aCA/IGNyZWF0ZUdldE1vZHVsZUZyb21GaWxlbmFtZShvcHRpb25zLmFwcFJvb3RQYXRoKSA6ICgpID0+IHVuZGVmaW5lZDsKICAgICAgY29uc3Qgc3RhY2tGcmFtZXMgPSBjYWxsRnJhbWVzLm1hcChmcmFtZSA9PgogICAgICAgIGNhbGxGcmFtZVRvU3RhY2tGcmFtZShmcmFtZSwgc2NyaXB0cy5nZXQoZnJhbWUubG9jYXRpb24uc2NyaXB0SWQpLCBnZXRNb2R1bGVOYW1lKSwKICAgICAgKTsKCiAgICAgIC8vIEV2YWx1YXRlIGEgc2NyaXB0IGluIHRoZSBjdXJyZW50bHkgcGF1c2VkIGNvbnRleHQKICAgICAgc2Vzc2lvbi5wb3N0KAogICAgICAgICdSdW50aW1lLmV2YWx1YXRlJywKICAgICAgICB7CiAgICAgICAgICAvLyBHcmFiIHRoZSB0cmFjZSBjb250ZXh0IGZyb20gdGhlIGN1cnJlbnQgc2NvcGUKICAgICAgICAgIGV4cHJlc3Npb246CiAgICAgICAgICAgICdjb25zdCBjdHggPSBfX1NFTlRSWV9fLmh1Yi5nZXRTY29wZSgpLmdldFByb3BhZ2F0aW9uQ29udGV4dCgpOyBjdHgudHJhY2VJZCArICItIiArIGN0eC5zcGFuSWQgKyAiLSIgKyBjdHgucGFyZW50U3BhbklkJywKICAgICAgICAgIC8vIERvbid0IHJlLXRyaWdnZXIgdGhlIGRlYnVnZ2VyIGlmIHRoaXMgY2F1c2VzIGFuIGVycm9yCiAgICAgICAgICBzaWxlbnQ6IHRydWUsCiAgICAgICAgfSwKICAgICAgICAoXywgcGFyYW0pID0+IHsKICAgICAgICAgIGNvbnN0IHRyYWNlSWQgPSBwYXJhbSAmJiBwYXJhbS5yZXN1bHQgPyAocGFyYW0ucmVzdWx0LnZhbHVlICkgOiAnLS0nOwogICAgICAgICAgY29uc3QgW3RyYWNlX2lkLCBzcGFuX2lkLCBwYXJlbnRfc3Bhbl9pZF0gPSB0cmFjZUlkLnNwbGl0KCctJykgOwoKICAgICAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIucmVzdW1lJyk7CiAgICAgICAgICBzZXNzaW9uLnBvc3QoJ0RlYnVnZ2VyLmRpc2FibGUnKTsKCiAgICAgICAgICBjb25zdCBjb250ZXh0ID0gX29wdGlvbmFsQ2hhaW4oW3RyYWNlX2lkLCAnb3B0aW9uYWxBY2Nlc3MnLCBfNCA9PiBfNC5sZW5ndGhdKSAmJiBfb3B0aW9uYWxDaGFpbihbc3Bhbl9pZCwgJ29wdGlvbmFsQWNjZXNzJywgXzUgPT4gXzUubGVuZ3RoXSkgPyB7IHRyYWNlX2lkLCBzcGFuX2lkLCBwYXJlbnRfc3Bhbl9pZCB9IDogdW5kZWZpbmVkOwogICAgICAgICAgc2VuZEFuckV2ZW50KHN0YWNrRnJhbWVzLCBjb250ZXh0KS50aGVuKG51bGwsICgpID0+IHsKICAgICAgICAgICAgbG9nKCdTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQuJyk7CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICApOwogICAgfSBjYXRjaCAoZSkgewogICAgICBzZXNzaW9uLnBvc3QoJ0RlYnVnZ2VyLnJlc3VtZScpOwogICAgICBzZXNzaW9uLnBvc3QoJ0RlYnVnZ2VyLmRpc2FibGUnKTsKICAgICAgdGhyb3cgZTsKICAgIH0KICB9KTsKCiAgZGVidWdnZXJQYXVzZSA9ICgpID0+IHsKICAgIHRyeSB7CiAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIuZW5hYmxlJywgKCkgPT4gewogICAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIucGF1c2UnKTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChfKSB7CiAgICAgIC8vCiAgICB9CiAgfTsKfQoKZnVuY3Rpb24gY3JlYXRlSHJUaW1lcigpIHsKICAvLyBUT0RPICh2OCk6IFdlIGNhbiB1c2UgcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCkgYWZ0ZXIgd2UgZHJvcCBub2RlIHY4CiAgbGV0IGxhc3RQb2xsID0gcHJvY2Vzcy5ocnRpbWUoKTsKCiAgcmV0dXJuIHsKICAgIGdldFRpbWVNczogKCkgPT4gewogICAgICBjb25zdCBbc2Vjb25kcywgbmFub1NlY29uZHNdID0gcHJvY2Vzcy5ocnRpbWUobGFzdFBvbGwpOwogICAgICByZXR1cm4gTWF0aC5mbG9vcihzZWNvbmRzICogMWUzICsgbmFub1NlY29uZHMgLyAxZTYpOwogICAgfSwKICAgIHJlc2V0OiAoKSA9PiB7CiAgICAgIGxhc3RQb2xsID0gcHJvY2Vzcy5ocnRpbWUoKTsKICAgIH0sCiAgfTsKfQoKZnVuY3Rpb24gd2F0Y2hkb2dUaW1lb3V0KCkgewogIGxvZygnV2F0Y2hkb2cgdGltZW91dCcpOwoKICBpZiAoZGVidWdnZXJQYXVzZSkgewogICAgbG9nKCdQYXVzaW5nIGRlYnVnZ2VyIHRvIGNhcHR1cmUgc3RhY2sgdHJhY2UnKTsKICAgIGRlYnVnZ2VyUGF1c2UoKTsKICB9IGVsc2UgewogICAgbG9nKCdDYXB0dXJpbmcgZXZlbnQgd2l0aG91dCBhIHN0YWNrIHRyYWNlJyk7CiAgICBzZW5kQW5yRXZlbnQoKS50aGVuKG51bGwsICgpID0+IHsKICAgICAgbG9nKCdTZW5kaW5nIEFOUiBldmVudCBmYWlsZWQgb24gd2F0Y2hkb2cgdGltZW91dC4nKTsKICAgIH0pOwogIH0KfQoKY29uc3QgeyBwb2xsIH0gPSB3YXRjaGRvZ1RpbWVyKGNyZWF0ZUhyVGltZXIsIG9wdGlvbnMucG9sbEludGVydmFsLCBvcHRpb25zLmFuclRocmVzaG9sZCwgd2F0Y2hkb2dUaW1lb3V0KTsKCl9vcHRpb25hbENoYWluKFtwYXJlbnRQb3J0LCAnb3B0aW9uYWxBY2Nlc3MnLCBfNiA9PiBfNi5vbiwgJ2NhbGwnLCBfNyA9PiBfNygnbWVzc2FnZScsIChtc2cpID0+IHsKICBpZiAobXNnLnNlc3Npb24pIHsKICAgIHNlc3Npb24gPSBtYWtlU2Vzc2lvbihtc2cuc2Vzc2lvbik7CiAgfQoKICBwb2xsKCk7Cn0pXSk7"});var YI=h((qI,Kee)=>{l();var{_optionalChain:m4e,_optionalChainDelete:qee}=z();Object.defineProperty(qI,"__esModule",{value:!0});var y4e=require("url"),ZI=Ue(),vG=z(),bG=dd(),_4e=Zee(),S4e=50,b4e=5e3;function EG(t,...e){vG.logger.log(`[ANR] ${t}`,...e)}function E4e(){return vG.dynamicRequire(Kee,"worker_threads")}async function v4e(t){let e={message:"ANR"},r={};for(let o of t.getEventProcessors()){if(e===null)break;e=await o(e,r)}return m4e([e,"optionalAccess",o=>o.contexts])||{}}var Yee="Anr",T4e=(t={})=>({name:Yee,setupOnce(){},setup(e){if(bG.NODE_VERSION.major<16||bG.NODE_VERSION.major===16&&bG.NODE_VERSION.minor<17)throw new Error("ANR detection requires Node 16.17.0 or later");setImmediate(()=>I4e(e,t))}}),jee=ZI.defineIntegration(T4e),A4e=ZI.convertIntegrationFnToClass(Yee,jee);async function I4e(t,e){let r=await v4e(t),o=t.getDsn();if(!o)return;qee([r,"access",d=>d.app,"optionalAccess",d=>delete d.app_memory]),qee([r,"access",d=>d.device,"optionalAccess",d=>delete d.free_memory]);let s=t.getOptions(),a=t.getSdkMetadata()||{};a.sdk&&(a.sdk.integrations=s.integrations.map(d=>d.name));let i={debug:vG.logger.isEnabled(),dsn:o,environment:s.environment||"production",release:s.release,dist:s.dist,sdkMetadata:a,appRootPath:e.appRootPath,pollInterval:e.pollInterval||S4e,anrThreshold:e.anrThreshold||b4e,captureStackTrace:!!e.captureStackTrace,staticTags:e.staticTags||{},contexts:r};if(i.captureStackTrace){let d=require("inspector");d.url()||d.open(0)}let{Worker:n}=E4e(),u=new n(new y4e.URL(`data:application/javascript;base64,${_4e.base64WorkerScript}`),{workerData:i});process.on("exit",()=>{u.terminate()});let c=setInterval(()=>{try{let d=ZI.getCurrentScope().getSession(),f=d?{...d,toJSON:void 0}:void 0;u.postMessage({session:f})}catch{}},i.pollInterval);c.unref(),u.on("message",d=>{d==="session-ended"&&(EG("ANR event sent from ANR worker. Clearing session in this thread."),ZI.getCurrentScope().setSession(void 0))}),u.once("error",d=>{clearInterval(c),EG("ANR worker error",d)}),u.once("exit",d=>{clearInterval(c),EG("ANR worker exit",d)}),u.unref()}qI.Anr=A4e;qI.anrIntegration=jee});var Xee=h(TG=>{l();Object.defineProperty(TG,"__esModule",{value:!0});var C4e=Ue(),R4e=YI();function O4e(t){let e=C4e.getClient();return new R4e.Anr(t).setup(e),Promise.resolve()}TG.enableAnrDetection=O4e});var Jee=h(jI=>{l();Object.defineProperty(jI,"__esModule",{value:!0});var zee=z();function N4e(t,e){return zee.extractRequestData(t,{include:e})}function w4e(t,e,r={}){return zee.addRequestDataToEvent(t,e,{include:r})}jI.extractRequestData=N4e;jI.parseRequest=w4e});var Qee=h(dc=>{l();var{_optionalChain:Ch}=z();Object.defineProperty(dc,"__esModule",{value:!0});var Kt=Ue(),lc=z(),P4e=nS(),KI=yG(),$ee=Jee();function M4e(){return function(e,r,o){let s=Ch([Kt.getClient,"call",d=>d(),"optionalAccess",d=>d.getOptions,"call",d=>d()]);if(!s||s.instrumenter!=="sentry"||Ch([e,"access",d=>d.method,"optionalAccess",d=>d.toUpperCase,"call",d=>d()])==="OPTIONS"||Ch([e,"access",d=>d.method,"optionalAccess",d=>d.toUpperCase,"call",d=>d()])==="HEAD")return o();let a=e.headers&&lc.isString(e.headers["sentry-trace"])?e.headers["sentry-trace"]:void 0,i=Ch([e,"access",d=>d.headers,"optionalAccess",d=>d.baggage]);if(!Kt.hasTracingEnabled(s))return o();let[n,u]=lc.extractPathForTransaction(e,{path:!0,method:!0}),c=Kt.continueTrace({sentryTrace:a,baggage:i},d=>Kt.startTransaction({name:n,op:"http.server",origin:"auto.http.node.tracingHandler",...d,data:{[Kt.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:u},metadata:{...d.metadata,request:e}},{request:lc.extractRequestData(e)}));Kt.getCurrentScope().setSpan(c),r.__sentry_transaction=c,r.once("finish",()=>{setImmediate(()=>{lc.addRequestDataToTransaction(c,e),Kt.setHttpStatus(c,r.statusCode),c.end()})}),o()}}function x4e(t={}){let e;if("include"in t)e={include:t.include};else{let{ip:r,request:o,transaction:s,user:a}=t;(r||o||s||a)&&(e={include:lc.dropUndefinedKeys({ip:r,request:o,transaction:s,user:a})})}return e}function B4e(t){let e=x4e(t),r=Kt.getClient();if(r&&KI.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();let o=Kt.getCurrentScope();o.getSession()&&o.setSession()}return function(s,a,i){if(t&&t.flushTimeout&&t.flushTimeout>0){let n=a.end;a.end=function(u,c,d){Kt.flush(t.flushTimeout).then(()=>{n.call(this,u,c,d)}).then(null,f=>{P4e.DEBUG_BUILD&&lc.logger.error(f),n.call(this,u,c,d)})}}Kt.runWithAsyncContext(()=>{let n=Kt.getCurrentScope();n.setSDKProcessingMetadata({request:s,requestDataOptionsFromExpressHandler:e});let u=Kt.getClient();KI.isAutoSessionTrackingEnabled(u)&&n.setRequestSession({status:"ok"}),a.once("finish",()=>{let c=Kt.getClient();KI.isAutoSessionTrackingEnabled(c)&&setImmediate(()=>{c&&c._captureRequestSession&&c._captureRequestSession()})}),i()})}}function D4e(t){let e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}function L4e(t){return D4e(t)>=500}function U4e(t){return function(r,o,s,a){if((t&&t.shouldHandleError||L4e)(r)){Kt.withScope(n=>{n.setSDKProcessingMetadata({request:o});let u=s.__sentry_transaction;u&&!Kt.getActiveSpan()&&n.setSpan(u);let c=Kt.getClient();if(c&&KI.isAutoSessionTrackingEnabled(c)&&c._sessionFlusher!==void 0){let g=n.getRequestSession();g&&g.status!==void 0&&(g.status="crashed")}let d=Kt.captureException(r,{mechanism:{type:"middleware",handled:!1}});s.sentry=d,a(r)});return}a(r)}}function G4e(t={}){return function({path:e,type:r,next:o,rawInput:s}){let a=Ch([Kt.getClient,"call",c=>c(),"optionalAccess",c=>c.getOptions,"call",c=>c()]),i=Kt.getCurrentScope().getTransaction();if(i){i.updateName(`trpc/${e}`),i.setAttribute(Kt.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"route"),i.op="rpc.server";let c={procedure_type:r};(t.attachRpcInput!==void 0?t.attachRpcInput:Ch([a,"optionalAccess",d=>d.sendDefaultPii]))&&(c.input=lc.normalize(s)),i.setContext("trpc",c)}function n(c){c.ok||Kt.captureException(c.error,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}})}let u;try{u=o()}catch(c){throw Kt.captureException(c,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}}),c}return lc.isThenable(u)?Promise.resolve(u).then(c=>{n(c)},c=>{Kt.captureException(c,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}})}):n(u),u}}dc.extractRequestData=$ee.extractRequestData;dc.parseRequest=$ee.parseRequest;dc.errorHandler=U4e;dc.requestHandler=B4e;dc.tracingHandler=M4e;dc.trpcMiddleware=G4e});var AG=h(Rh=>{l();Object.defineProperty(Rh,"__esModule",{value:!0});var ri=Ue(),rte=z();function ete(t){return t&&t.statusCode!==void 0}function V4e(t){return t&&t.isBoom!==void 0}function F4e(t){return t&&t.error!==void 0}function tte(t){ri.captureException(t,{mechanism:{type:"hapi",handled:!1,data:{function:"hapiErrorPlugin"}}})}var nte={name:"SentryHapiErrorPlugin",version:ri.SDK_VERSION,register:async function(t){t.events.on("request",(r,o)=>{let s=ri.getActiveTransaction();r.response&&V4e(r.response)?tte(r.response):F4e(o)&&tte(o.error),s&&(s.setStatus("internal_error"),s.end())})}},ite={name:"SentryHapiTracingPlugin",version:ri.SDK_VERSION,register:async function(t){let e=t;e.ext("onPreHandler",(r,o)=>{let s=ri.continueTrace({sentryTrace:r.headers["sentry-trace"]||void 0,baggage:r.headers.baggage||void 0},a=>ri.startTransaction({...a,op:"hapi.request",name:r.route.path,description:`${r.route.method} ${r.path}`}));return ri.getCurrentScope().setSpan(s),o.continue}),e.ext("onPreResponse",(r,o)=>{let s=ri.getActiveTransaction();if(r.response&&ete(r.response)&&s){let a=r.response;a.header("sentry-trace",ri.spanToTraceHeader(s));let i=rte.dynamicSamplingContextToSentryBaggageHeader(ri.getDynamicSamplingContextFromSpan(s));i&&a.header("baggage",i)}return o.continue}),e.ext("onPostHandler",(r,o)=>{let s=ri.getActiveTransaction();return s&&(r.response&&ete(r.response)&&ri.setHttpStatus(s,r.response.statusCode),s.end()),o.continue})}},ote="Hapi",H4e=(t={})=>{let e=t.server;return{name:ote,setupOnce(){e&&rte.fill(e,"start",r=>async function(){return await this.register(ite),await this.register(nte),r.apply(this)})}}},ste=ri.defineIntegration(H4e),k4e=ri.convertIntegrationFnToClass(ote,ste);Rh.Hapi=k4e;Rh.hapiErrorPlugin=nte;Rh.hapiIntegration=ste;Rh.hapiTracingPlugin=ite});var ate=h(Bn=>{l();Object.defineProperty(Bn,"__esModule",{value:!0});var W4e=TI(),Z4e=OI(),q4e=UI(),Y4e=VI(),j4e=BI(),K4e=RI(),X4e=AI(),z4e=Ue(),J4e=MI(),$4e=kI(),Q4e=FI(),eKe=YI(),tKe=AG();Bn.Console=W4e.Console;Bn.Http=Z4e.Http;Bn.OnUncaughtException=q4e.OnUncaughtException;Bn.OnUnhandledRejection=Y4e.OnUnhandledRejection;Bn.Modules=j4e.Modules;Bn.ContextLines=K4e.ContextLines;Bn.Context=X4e.Context;Bn.RequestData=z4e.RequestData;Bn.LocalVariables=J4e.LocalVariables;Bn.Undici=$4e.Undici;Bn.Spotlight=Q4e.Spotlight;Bn.Anr=eKe.Anr;Bn.Hapi=tKe.Hapi});var ute=h(za=>{l();Object.defineProperty(za,"__esModule",{value:!0});var Sd=VU();za.Apollo=Sd.Apollo;za.Express=Sd.Express;za.GraphQL=Sd.GraphQL;za.Mongo=Sd.Mongo;za.Mysql=Sd.Mysql;za.Postgres=Sd.Postgres;za.Prisma=Sd.Prisma});var XI=h(IG=>{l();Object.defineProperty(IG,"__esModule",{value:!0});var rKe=[["january","1"],["february","2"],["march","3"],["april","4"],["may","5"],["june","6"],["july","7"],["august","8"],["september","9"],["october","10"],["november","11"],["december","12"],["jan","1"],["feb","2"],["mar","3"],["apr","4"],["may","5"],["jun","6"],["jul","7"],["aug","8"],["sep","9"],["oct","10"],["nov","11"],["dec","12"],["sunday","0"],["monday","1"],["tuesday","2"],["wednesday","3"],["thursday","4"],["friday","5"],["saturday","6"],["sun","0"],["mon","1"],["tue","2"],["wed","3"],["thu","4"],["fri","5"],["sat","6"]];function nKe(t){return rKe.reduce((e,[r,o])=>e.replace(new RegExp(r,"gi"),o),t)}IG.replaceCronNames=nKe});var fte=h(CG=>{l();Object.defineProperty(CG,"__esModule",{value:!0});var cte=Ue(),lte=XI(),dte="Automatic instrumentation of CronJob only supports crontab string";function iKe(t,e){let r=!1;return new Proxy(t,{construct(o,s){let[a,i,n,u,c,...d]=s;if(typeof a!="string")throw new Error(dte);if(r)throw new Error(`A job named '${e}' has already been scheduled`);r=!0;let f=lte.replaceCronNames(a);function g(y,S){return cte.withMonitor(e,()=>i(y,S),{schedule:{type:"crontab",value:f},...c?{timeZone:c}:{}})}return new o(a,g,n,u,c,...d)},get(o,s){return s==="from"?a=>{let{cronTime:i,onTick:n,timeZone:u}=a;if(typeof i!="string")throw new Error(dte);if(r)throw new Error(`A job named '${e}' has already been scheduled`);r=!0;let c=lte.replaceCronNames(i);return a.onTick=(d,f)=>cte.withMonitor(e,()=>n(d,f),{schedule:{type:"crontab",value:c},...u?{timeZone:u}:{}}),o.from(a)}:o[s]}})}CG.instrumentCron=iKe});var hte=h(RG=>{l();var{_optionalChain:pte}=z();Object.defineProperty(RG,"__esModule",{value:!0});var oKe=Ue(),sKe=XI();function aKe(t){return new Proxy(t,{get(e,r){return r==="schedule"&&e.schedule?new Proxy(e.schedule,{apply(o,s,a){let[i,,n]=a;if(!pte([n,"optionalAccess",u=>u.name]))throw new Error('Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.');return oKe.withMonitor(n.name,()=>o.apply(s,a),{schedule:{type:"crontab",value:sKe.replaceCronNames(i)},timezone:pte([n,"optionalAccess",u=>u.timezone])})}}):e[r]}})}RG.instrumentNodeCron=aKe});var gte=h(OG=>{l();Object.defineProperty(OG,"__esModule",{value:!0});var uKe=Ue(),cKe=XI();function lKe(t){return new Proxy(t,{get(e,r){return r==="scheduleJob"?new Proxy(e.scheduleJob,{apply(o,s,a){let[i,n]=a;if(typeof i!="string"||typeof n!="string")throw new Error("Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string");let u=i,c=n;return uKe.withMonitor(u,()=>o.apply(s,a),{schedule:{type:"crontab",value:cKe.replaceCronNames(c)}})}}):e[r]}})}OG.instrumentNodeSchedule=lKe});var dS=h(ne=>{l();Object.defineProperty(ne,"__esModule",{value:!0});var Se=Ue(),dKe=NQ(),fKe=WU(),pKe=zU(),lS=yG(),NG=z(),hKe=kee(),mte=mG(),gKe=Xee(),mKe=Qee(),yKe=ate(),_Ke=ute(),SKe=TI(),bKe=UI(),EKe=VI(),vKe=BI(),TKe=RI(),AKe=AI(),IKe=MI(),CKe=FI(),RKe=YI(),yte=AG(),_te=kI(),Ste=OI(),OKe=fte(),NKe=hte(),wKe=gte(),PKe=mte.createGetModuleFromFilename(),MKe={...Se.Integrations,...yKe,..._Ke},xKe={instrumentCron:OKe.instrumentCron,instrumentNodeCron:NKe.instrumentNodeCron,instrumentNodeSchedule:wKe.instrumentNodeSchedule};ne.Hub=Se.Hub;ne.SDK_VERSION=Se.SDK_VERSION;ne.SEMANTIC_ATTRIBUTE_SENTRY_OP=Se.SEMANTIC_ATTRIBUTE_SENTRY_OP;ne.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=Se.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN;ne.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=Se.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE;ne.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=Se.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE;ne.Scope=Se.Scope;ne.addBreadcrumb=Se.addBreadcrumb;ne.addEventProcessor=Se.addEventProcessor;ne.addGlobalEventProcessor=Se.addGlobalEventProcessor;ne.addIntegration=Se.addIntegration;ne.captureCheckIn=Se.captureCheckIn;ne.captureEvent=Se.captureEvent;ne.captureException=Se.captureException;ne.captureMessage=Se.captureMessage;ne.captureSession=Se.captureSession;ne.close=Se.close;ne.configureScope=Se.configureScope;ne.continueTrace=Se.continueTrace;ne.createTransport=Se.createTransport;ne.endSession=Se.endSession;ne.extractTraceparentData=Se.extractTraceparentData;ne.flush=Se.flush;ne.functionToStringIntegration=Se.functionToStringIntegration;ne.getActiveSpan=Se.getActiveSpan;ne.getActiveTransaction=Se.getActiveTransaction;ne.getClient=Se.getClient;ne.getCurrentHub=Se.getCurrentHub;ne.getCurrentScope=Se.getCurrentScope;ne.getGlobalScope=Se.getGlobalScope;ne.getHubFromCarrier=Se.getHubFromCarrier;ne.getIsolationScope=Se.getIsolationScope;ne.getSpanStatusFromHttpCode=Se.getSpanStatusFromHttpCode;ne.inboundFiltersIntegration=Se.inboundFiltersIntegration;ne.isInitialized=Se.isInitialized;ne.lastEventId=Se.lastEventId;ne.linkedErrorsIntegration=Se.linkedErrorsIntegration;ne.makeMain=Se.makeMain;ne.metrics=Se.metrics;ne.parameterize=Se.parameterize;ne.requestDataIntegration=Se.requestDataIntegration;ne.runWithAsyncContext=Se.runWithAsyncContext;ne.setContext=Se.setContext;ne.setCurrentClient=Se.setCurrentClient;ne.setExtra=Se.setExtra;ne.setExtras=Se.setExtras;ne.setHttpStatus=Se.setHttpStatus;ne.setMeasurement=Se.setMeasurement;ne.setTag=Se.setTag;ne.setTags=Se.setTags;ne.setUser=Se.setUser;ne.spanStatusfromHttpCode=Se.spanStatusfromHttpCode;ne.startActiveSpan=Se.startActiveSpan;ne.startInactiveSpan=Se.startInactiveSpan;ne.startSession=Se.startSession;ne.startSpan=Se.startSpan;ne.startSpanManual=Se.startSpanManual;ne.startTransaction=Se.startTransaction;ne.trace=Se.trace;ne.withIsolationScope=Se.withIsolationScope;ne.withMonitor=Se.withMonitor;ne.withScope=Se.withScope;ne.autoDiscoverNodePerformanceMonitoringIntegrations=dKe.autoDiscoverNodePerformanceMonitoringIntegrations;ne.NodeClient=fKe.NodeClient;ne.makeNodeTransport=pKe.makeNodeTransport;ne.defaultIntegrations=lS.defaultIntegrations;ne.defaultStackParser=lS.defaultStackParser;ne.getDefaultIntegrations=lS.getDefaultIntegrations;ne.getSentryRelease=lS.getSentryRelease;ne.init=lS.init;ne.DEFAULT_USER_INCLUDES=NG.DEFAULT_USER_INCLUDES;ne.addRequestDataToEvent=NG.addRequestDataToEvent;ne.extractRequestData=NG.extractRequestData;ne.deepReadDirSync=hKe.deepReadDirSync;ne.createGetModuleFromFilename=mte.createGetModuleFromFilename;ne.enableAnrDetection=gKe.enableAnrDetection;ne.Handlers=mKe;ne.consoleIntegration=SKe.consoleIntegration;ne.onUncaughtExceptionIntegration=bKe.onUncaughtExceptionIntegration;ne.onUnhandledRejectionIntegration=EKe.onUnhandledRejectionIntegration;ne.modulesIntegration=vKe.modulesIntegration;ne.contextLinesIntegration=TKe.contextLinesIntegration;ne.nodeContextIntegration=AKe.nodeContextIntegration;ne.localVariablesIntegration=IKe.localVariablesIntegration;ne.spotlightIntegration=CKe.spotlightIntegration;ne.anrIntegration=RKe.anrIntegration;ne.hapiErrorPlugin=yte.hapiErrorPlugin;ne.hapiIntegration=yte.hapiIntegration;ne.Undici=_te.Undici;ne.nativeNodeFetchintegration=_te.nativeNodeFetchintegration;ne.Http=Ste.Http;ne.httpIntegration=Ste.httpIntegration;ne.Integrations=MKe;ne.cron=xKe;ne.getModuleFromFilename=PKe});var Oh=h(wG=>{l();Object.defineProperty(wG,"__esModule",{value:!0});var BKe={ORIGIN:"sentry.origin",OP:"sentry.op",SOURCE:"sentry.source",SAMPLE_RATE:"sentry.sample_rate",PARENT_SAMPLED:"sentry.parentSampled",BREADCRUMB_TYPE:"sentry.breadcrumb.type",BREADCRUMB_LEVEL:"sentry.breadcrumb.level",BREADCRUMB_EVENT_ID:"sentry.breadcrumb.event_id",BREADCRUMB_CATEGORY:"sentry.breadcrumb.category",BREADCRUMB_DATA:"sentry.breadcrumb.data"};wG.InternalSentrySemanticAttributes=BKe});var bte=h(PG=>{l();Object.defineProperty(PG,"__esModule",{value:!0});var DKe=Oh();function LKe(t,e){t.setAttribute(DKe.InternalSentrySemanticAttributes.ORIGIN,e)}PG.addOriginToSpan=LKe});var MG=h(zI=>{"use strict";l();Object.defineProperty(zI,"__esModule",{value:!0});zI.createConstMap=void 0;function UKe(t){let e={},r=t.length;for(let o=0;o<r;o++){let s=t[o];s&&(e[String(s).toUpperCase().replace(/[-.]/g,"_")]=s)}return e}zI.createConstMap=UKe});var lse=h(_=>{"use strict";l();Object.defineProperty(_,"__esModule",{value:!0});_.SEMATTRS_NET_HOST_CARRIER_ICC=_.SEMATTRS_NET_HOST_CARRIER_MNC=_.SEMATTRS_NET_HOST_CARRIER_MCC=_.SEMATTRS_NET_HOST_CARRIER_NAME=_.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=_.SEMATTRS_NET_HOST_CONNECTION_TYPE=_.SEMATTRS_NET_HOST_NAME=_.SEMATTRS_NET_HOST_PORT=_.SEMATTRS_NET_HOST_IP=_.SEMATTRS_NET_PEER_NAME=_.SEMATTRS_NET_PEER_PORT=_.SEMATTRS_NET_PEER_IP=_.SEMATTRS_NET_TRANSPORT=_.SEMATTRS_FAAS_INVOKED_REGION=_.SEMATTRS_FAAS_INVOKED_PROVIDER=_.SEMATTRS_FAAS_INVOKED_NAME=_.SEMATTRS_FAAS_COLDSTART=_.SEMATTRS_FAAS_CRON=_.SEMATTRS_FAAS_TIME=_.SEMATTRS_FAAS_DOCUMENT_NAME=_.SEMATTRS_FAAS_DOCUMENT_TIME=_.SEMATTRS_FAAS_DOCUMENT_OPERATION=_.SEMATTRS_FAAS_DOCUMENT_COLLECTION=_.SEMATTRS_FAAS_EXECUTION=_.SEMATTRS_FAAS_TRIGGER=_.SEMATTRS_EXCEPTION_ESCAPED=_.SEMATTRS_EXCEPTION_STACKTRACE=_.SEMATTRS_EXCEPTION_MESSAGE=_.SEMATTRS_EXCEPTION_TYPE=_.SEMATTRS_DB_SQL_TABLE=_.SEMATTRS_DB_MONGODB_COLLECTION=_.SEMATTRS_DB_REDIS_DATABASE_INDEX=_.SEMATTRS_DB_HBASE_NAMESPACE=_.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=_.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=_.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=_.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=_.SEMATTRS_DB_CASSANDRA_TABLE=_.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=_.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=_.SEMATTRS_DB_CASSANDRA_KEYSPACE=_.SEMATTRS_DB_MSSQL_INSTANCE_NAME=_.SEMATTRS_DB_OPERATION=_.SEMATTRS_DB_STATEMENT=_.SEMATTRS_DB_NAME=_.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=_.SEMATTRS_DB_USER=_.SEMATTRS_DB_CONNECTION_STRING=_.SEMATTRS_DB_SYSTEM=_.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=void 0;_.SEMATTRS_MESSAGING_DESTINATION_KIND=_.SEMATTRS_MESSAGING_DESTINATION=_.SEMATTRS_MESSAGING_SYSTEM=_.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=_.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=_.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=_.SEMATTRS_AWS_DYNAMODB_COUNT=_.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=_.SEMATTRS_AWS_DYNAMODB_SEGMENT=_.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=_.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=_.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=_.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=_.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=_.SEMATTRS_AWS_DYNAMODB_SELECT=_.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=_.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=_.SEMATTRS_AWS_DYNAMODB_LIMIT=_.SEMATTRS_AWS_DYNAMODB_PROJECTION=_.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=_.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=_.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=_.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=_.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=_.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=_.SEMATTRS_HTTP_CLIENT_IP=_.SEMATTRS_HTTP_ROUTE=_.SEMATTRS_HTTP_SERVER_NAME=_.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=_.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=_.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=_.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=_.SEMATTRS_HTTP_USER_AGENT=_.SEMATTRS_HTTP_FLAVOR=_.SEMATTRS_HTTP_STATUS_CODE=_.SEMATTRS_HTTP_SCHEME=_.SEMATTRS_HTTP_HOST=_.SEMATTRS_HTTP_TARGET=_.SEMATTRS_HTTP_URL=_.SEMATTRS_HTTP_METHOD=_.SEMATTRS_CODE_LINENO=_.SEMATTRS_CODE_FILEPATH=_.SEMATTRS_CODE_NAMESPACE=_.SEMATTRS_CODE_FUNCTION=_.SEMATTRS_THREAD_NAME=_.SEMATTRS_THREAD_ID=_.SEMATTRS_ENDUSER_SCOPE=_.SEMATTRS_ENDUSER_ROLE=_.SEMATTRS_ENDUSER_ID=_.SEMATTRS_PEER_SERVICE=void 0;_.DBSYSTEMVALUES_FILEMAKER=_.DBSYSTEMVALUES_DERBY=_.DBSYSTEMVALUES_FIREBIRD=_.DBSYSTEMVALUES_ADABAS=_.DBSYSTEMVALUES_CACHE=_.DBSYSTEMVALUES_EDB=_.DBSYSTEMVALUES_FIRSTSQL=_.DBSYSTEMVALUES_INGRES=_.DBSYSTEMVALUES_HANADB=_.DBSYSTEMVALUES_MAXDB=_.DBSYSTEMVALUES_PROGRESS=_.DBSYSTEMVALUES_HSQLDB=_.DBSYSTEMVALUES_CLOUDSCAPE=_.DBSYSTEMVALUES_HIVE=_.DBSYSTEMVALUES_REDSHIFT=_.DBSYSTEMVALUES_POSTGRESQL=_.DBSYSTEMVALUES_DB2=_.DBSYSTEMVALUES_ORACLE=_.DBSYSTEMVALUES_MYSQL=_.DBSYSTEMVALUES_MSSQL=_.DBSYSTEMVALUES_OTHER_SQL=_.SemanticAttributes=_.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=_.SEMATTRS_MESSAGE_COMPRESSED_SIZE=_.SEMATTRS_MESSAGE_ID=_.SEMATTRS_MESSAGE_TYPE=_.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=_.SEMATTRS_RPC_JSONRPC_ERROR_CODE=_.SEMATTRS_RPC_JSONRPC_REQUEST_ID=_.SEMATTRS_RPC_JSONRPC_VERSION=_.SEMATTRS_RPC_GRPC_STATUS_CODE=_.SEMATTRS_RPC_METHOD=_.SEMATTRS_RPC_SERVICE=_.SEMATTRS_RPC_SYSTEM=_.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=_.SEMATTRS_MESSAGING_KAFKA_PARTITION=_.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=_.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=_.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=_.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=_.SEMATTRS_MESSAGING_CONSUMER_ID=_.SEMATTRS_MESSAGING_OPERATION=_.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=_.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=_.SEMATTRS_MESSAGING_CONVERSATION_ID=_.SEMATTRS_MESSAGING_MESSAGE_ID=_.SEMATTRS_MESSAGING_URL=_.SEMATTRS_MESSAGING_PROTOCOL_VERSION=_.SEMATTRS_MESSAGING_PROTOCOL=_.SEMATTRS_MESSAGING_TEMP_DESTINATION=void 0;_.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=_.FaasDocumentOperationValues=_.FAASDOCUMENTOPERATIONVALUES_DELETE=_.FAASDOCUMENTOPERATIONVALUES_EDIT=_.FAASDOCUMENTOPERATIONVALUES_INSERT=_.FaasTriggerValues=_.FAASTRIGGERVALUES_OTHER=_.FAASTRIGGERVALUES_TIMER=_.FAASTRIGGERVALUES_PUBSUB=_.FAASTRIGGERVALUES_HTTP=_.FAASTRIGGERVALUES_DATASOURCE=_.DbCassandraConsistencyLevelValues=_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=_.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=_.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=_.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=_.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=_.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=_.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=_.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=_.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=_.DbSystemValues=_.DBSYSTEMVALUES_COCKROACHDB=_.DBSYSTEMVALUES_MEMCACHED=_.DBSYSTEMVALUES_ELASTICSEARCH=_.DBSYSTEMVALUES_GEODE=_.DBSYSTEMVALUES_NEO4J=_.DBSYSTEMVALUES_DYNAMODB=_.DBSYSTEMVALUES_COSMOSDB=_.DBSYSTEMVALUES_COUCHDB=_.DBSYSTEMVALUES_COUCHBASE=_.DBSYSTEMVALUES_REDIS=_.DBSYSTEMVALUES_MONGODB=_.DBSYSTEMVALUES_HBASE=_.DBSYSTEMVALUES_CASSANDRA=_.DBSYSTEMVALUES_COLDFUSION=_.DBSYSTEMVALUES_H2=_.DBSYSTEMVALUES_VERTICA=_.DBSYSTEMVALUES_TERADATA=_.DBSYSTEMVALUES_SYBASE=_.DBSYSTEMVALUES_SQLITE=_.DBSYSTEMVALUES_POINTBASE=_.DBSYSTEMVALUES_PERVASIVE=_.DBSYSTEMVALUES_NETEZZA=_.DBSYSTEMVALUES_MARIADB=_.DBSYSTEMVALUES_INTERBASE=_.DBSYSTEMVALUES_INSTANTDB=_.DBSYSTEMVALUES_INFORMIX=void 0;_.MESSAGINGOPERATIONVALUES_RECEIVE=_.MessagingDestinationKindValues=_.MESSAGINGDESTINATIONKINDVALUES_TOPIC=_.MESSAGINGDESTINATIONKINDVALUES_QUEUE=_.HttpFlavorValues=_.HTTPFLAVORVALUES_QUIC=_.HTTPFLAVORVALUES_SPDY=_.HTTPFLAVORVALUES_HTTP_2_0=_.HTTPFLAVORVALUES_HTTP_1_1=_.HTTPFLAVORVALUES_HTTP_1_0=_.NetHostConnectionSubtypeValues=_.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=_.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=_.NETHOSTCONNECTIONSUBTYPEVALUES_NR=_.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=_.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=_.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=_.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=_.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=_.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=_.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=_.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=_.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=_.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=_.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=_.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=_.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=_.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=_.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=_.NetHostConnectionTypeValues=_.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=_.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=_.NETHOSTCONNECTIONTYPEVALUES_CELL=_.NETHOSTCONNECTIONTYPEVALUES_WIRED=_.NETHOSTCONNECTIONTYPEVALUES_WIFI=_.NetTransportValues=_.NETTRANSPORTVALUES_OTHER=_.NETTRANSPORTVALUES_INPROC=_.NETTRANSPORTVALUES_PIPE=_.NETTRANSPORTVALUES_UNIX=_.NETTRANSPORTVALUES_IP=_.NETTRANSPORTVALUES_IP_UDP=_.NETTRANSPORTVALUES_IP_TCP=_.FaasInvokedProviderValues=_.FAASINVOKEDPROVIDERVALUES_GCP=_.FAASINVOKEDPROVIDERVALUES_AZURE=_.FAASINVOKEDPROVIDERVALUES_AWS=void 0;_.MessageTypeValues=_.MESSAGETYPEVALUES_RECEIVED=_.MESSAGETYPEVALUES_SENT=_.RpcGrpcStatusCodeValues=_.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=_.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=_.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=_.RPCGRPCSTATUSCODEVALUES_INTERNAL=_.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=_.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=_.RPCGRPCSTATUSCODEVALUES_ABORTED=_.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=_.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=_.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=_.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=_.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=_.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=_.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=_.RPCGRPCSTATUSCODEVALUES_UNKNOWN=_.RPCGRPCSTATUSCODEVALUES_CANCELLED=_.RPCGRPCSTATUSCODEVALUES_OK=_.MessagingOperationValues=_.MESSAGINGOPERATIONVALUES_PROCESS=void 0;var oo=MG(),Ete="aws.lambda.invoked_arn",vte="db.system",Tte="db.connection_string",Ate="db.user",Ite="db.jdbc.driver_classname",Cte="db.name",Rte="db.statement",Ote="db.operation",Nte="db.mssql.instance_name",wte="db.cassandra.keyspace",Pte="db.cassandra.page_size",Mte="db.cassandra.consistency_level",xte="db.cassandra.table",Bte="db.cassandra.idempotence",Dte="db.cassandra.speculative_execution_count",Lte="db.cassandra.coordinator.id",Ute="db.cassandra.coordinator.dc",Gte="db.hbase.namespace",Vte="db.redis.database_index",Fte="db.mongodb.collection",Hte="db.sql.table",kte="exception.type",Wte="exception.message",Zte="exception.stacktrace",qte="exception.escaped",Yte="faas.trigger",jte="faas.execution",Kte="faas.document.collection",Xte="faas.document.operation",zte="faas.document.time",Jte="faas.document.name",$te="faas.time",Qte="faas.cron",ere="faas.coldstart",tre="faas.invoked_name",rre="faas.invoked_provider",nre="faas.invoked_region",ire="net.transport",ore="net.peer.ip",sre="net.peer.port",are="net.peer.name",ure="net.host.ip",cre="net.host.port",lre="net.host.name",dre="net.host.connection.type",fre="net.host.connection.subtype",pre="net.host.carrier.name",hre="net.host.carrier.mcc",gre="net.host.carrier.mnc",mre="net.host.carrier.icc",yre="peer.service",_re="enduser.id",Sre="enduser.role",bre="enduser.scope",Ere="thread.id",vre="thread.name",Tre="code.function",Are="code.namespace",Ire="code.filepath",Cre="code.lineno",Rre="http.method",Ore="http.url",Nre="http.target",wre="http.host",Pre="http.scheme",Mre="http.status_code",xre="http.flavor",Bre="http.user_agent",Dre="http.request_content_length",Lre="http.request_content_length_uncompressed",Ure="http.response_content_length",Gre="http.response_content_length_uncompressed",Vre="http.server_name",Fre="http.route",Hre="http.client_ip",kre="aws.dynamodb.table_names",Wre="aws.dynamodb.consumed_capacity",Zre="aws.dynamodb.item_collection_metrics",qre="aws.dynamodb.provisioned_read_capacity",Yre="aws.dynamodb.provisioned_write_capacity",jre="aws.dynamodb.consistent_read",Kre="aws.dynamodb.projection",Xre="aws.dynamodb.limit",zre="aws.dynamodb.attributes_to_get",Jre="aws.dynamodb.index_name",$re="aws.dynamodb.select",Qre="aws.dynamodb.global_secondary_indexes",ene="aws.dynamodb.local_secondary_indexes",tne="aws.dynamodb.exclusive_start_table",rne="aws.dynamodb.table_count",nne="aws.dynamodb.scan_forward",ine="aws.dynamodb.segment",one="aws.dynamodb.total_segments",sne="aws.dynamodb.count",ane="aws.dynamodb.scanned_count",une="aws.dynamodb.attribute_definitions",cne="aws.dynamodb.global_secondary_index_updates",lne="messaging.system",dne="messaging.destination",fne="messaging.destination_kind",pne="messaging.temp_destination",hne="messaging.protocol",gne="messaging.protocol_version",mne="messaging.url",yne="messaging.message_id",_ne="messaging.conversation_id",Sne="messaging.message_payload_size_bytes",bne="messaging.message_payload_compressed_size_bytes",Ene="messaging.operation",vne="messaging.consumer_id",Tne="messaging.rabbitmq.routing_key",Ane="messaging.kafka.message_key",Ine="messaging.kafka.consumer_group",Cne="messaging.kafka.client_id",Rne="messaging.kafka.partition",One="messaging.kafka.tombstone",Nne="rpc.system",wne="rpc.service",Pne="rpc.method",Mne="rpc.grpc.status_code",xne="rpc.jsonrpc.version",Bne="rpc.jsonrpc.request_id",Dne="rpc.jsonrpc.error_code",Lne="rpc.jsonrpc.error_message",Une="message.type",Gne="message.id",Vne="message.compressed_size",Fne="message.uncompressed_size";_.SEMATTRS_AWS_LAMBDA_INVOKED_ARN=Ete;_.SEMATTRS_DB_SYSTEM=vte;_.SEMATTRS_DB_CONNECTION_STRING=Tte;_.SEMATTRS_DB_USER=Ate;_.SEMATTRS_DB_JDBC_DRIVER_CLASSNAME=Ite;_.SEMATTRS_DB_NAME=Cte;_.SEMATTRS_DB_STATEMENT=Rte;_.SEMATTRS_DB_OPERATION=Ote;_.SEMATTRS_DB_MSSQL_INSTANCE_NAME=Nte;_.SEMATTRS_DB_CASSANDRA_KEYSPACE=wte;_.SEMATTRS_DB_CASSANDRA_PAGE_SIZE=Pte;_.SEMATTRS_DB_CASSANDRA_CONSISTENCY_LEVEL=Mte;_.SEMATTRS_DB_CASSANDRA_TABLE=xte;_.SEMATTRS_DB_CASSANDRA_IDEMPOTENCE=Bte;_.SEMATTRS_DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT=Dte;_.SEMATTRS_DB_CASSANDRA_COORDINATOR_ID=Lte;_.SEMATTRS_DB_CASSANDRA_COORDINATOR_DC=Ute;_.SEMATTRS_DB_HBASE_NAMESPACE=Gte;_.SEMATTRS_DB_REDIS_DATABASE_INDEX=Vte;_.SEMATTRS_DB_MONGODB_COLLECTION=Fte;_.SEMATTRS_DB_SQL_TABLE=Hte;_.SEMATTRS_EXCEPTION_TYPE=kte;_.SEMATTRS_EXCEPTION_MESSAGE=Wte;_.SEMATTRS_EXCEPTION_STACKTRACE=Zte;_.SEMATTRS_EXCEPTION_ESCAPED=qte;_.SEMATTRS_FAAS_TRIGGER=Yte;_.SEMATTRS_FAAS_EXECUTION=jte;_.SEMATTRS_FAAS_DOCUMENT_COLLECTION=Kte;_.SEMATTRS_FAAS_DOCUMENT_OPERATION=Xte;_.SEMATTRS_FAAS_DOCUMENT_TIME=zte;_.SEMATTRS_FAAS_DOCUMENT_NAME=Jte;_.SEMATTRS_FAAS_TIME=$te;_.SEMATTRS_FAAS_CRON=Qte;_.SEMATTRS_FAAS_COLDSTART=ere;_.SEMATTRS_FAAS_INVOKED_NAME=tre;_.SEMATTRS_FAAS_INVOKED_PROVIDER=rre;_.SEMATTRS_FAAS_INVOKED_REGION=nre;_.SEMATTRS_NET_TRANSPORT=ire;_.SEMATTRS_NET_PEER_IP=ore;_.SEMATTRS_NET_PEER_PORT=sre;_.SEMATTRS_NET_PEER_NAME=are;_.SEMATTRS_NET_HOST_IP=ure;_.SEMATTRS_NET_HOST_PORT=cre;_.SEMATTRS_NET_HOST_NAME=lre;_.SEMATTRS_NET_HOST_CONNECTION_TYPE=dre;_.SEMATTRS_NET_HOST_CONNECTION_SUBTYPE=fre;_.SEMATTRS_NET_HOST_CARRIER_NAME=pre;_.SEMATTRS_NET_HOST_CARRIER_MCC=hre;_.SEMATTRS_NET_HOST_CARRIER_MNC=gre;_.SEMATTRS_NET_HOST_CARRIER_ICC=mre;_.SEMATTRS_PEER_SERVICE=yre;_.SEMATTRS_ENDUSER_ID=_re;_.SEMATTRS_ENDUSER_ROLE=Sre;_.SEMATTRS_ENDUSER_SCOPE=bre;_.SEMATTRS_THREAD_ID=Ere;_.SEMATTRS_THREAD_NAME=vre;_.SEMATTRS_CODE_FUNCTION=Tre;_.SEMATTRS_CODE_NAMESPACE=Are;_.SEMATTRS_CODE_FILEPATH=Ire;_.SEMATTRS_CODE_LINENO=Cre;_.SEMATTRS_HTTP_METHOD=Rre;_.SEMATTRS_HTTP_URL=Ore;_.SEMATTRS_HTTP_TARGET=Nre;_.SEMATTRS_HTTP_HOST=wre;_.SEMATTRS_HTTP_SCHEME=Pre;_.SEMATTRS_HTTP_STATUS_CODE=Mre;_.SEMATTRS_HTTP_FLAVOR=xre;_.SEMATTRS_HTTP_USER_AGENT=Bre;_.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH=Dre;_.SEMATTRS_HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED=Lre;_.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH=Ure;_.SEMATTRS_HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED=Gre;_.SEMATTRS_HTTP_SERVER_NAME=Vre;_.SEMATTRS_HTTP_ROUTE=Fre;_.SEMATTRS_HTTP_CLIENT_IP=Hre;_.SEMATTRS_AWS_DYNAMODB_TABLE_NAMES=kre;_.SEMATTRS_AWS_DYNAMODB_CONSUMED_CAPACITY=Wre;_.SEMATTRS_AWS_DYNAMODB_ITEM_COLLECTION_METRICS=Zre;_.SEMATTRS_AWS_DYNAMODB_PROVISIONED_READ_CAPACITY=qre;_.SEMATTRS_AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY=Yre;_.SEMATTRS_AWS_DYNAMODB_CONSISTENT_READ=jre;_.SEMATTRS_AWS_DYNAMODB_PROJECTION=Kre;_.SEMATTRS_AWS_DYNAMODB_LIMIT=Xre;_.SEMATTRS_AWS_DYNAMODB_ATTRIBUTES_TO_GET=zre;_.SEMATTRS_AWS_DYNAMODB_INDEX_NAME=Jre;_.SEMATTRS_AWS_DYNAMODB_SELECT=$re;_.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES=Qre;_.SEMATTRS_AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES=ene;_.SEMATTRS_AWS_DYNAMODB_EXCLUSIVE_START_TABLE=tne;_.SEMATTRS_AWS_DYNAMODB_TABLE_COUNT=rne;_.SEMATTRS_AWS_DYNAMODB_SCAN_FORWARD=nne;_.SEMATTRS_AWS_DYNAMODB_SEGMENT=ine;_.SEMATTRS_AWS_DYNAMODB_TOTAL_SEGMENTS=one;_.SEMATTRS_AWS_DYNAMODB_COUNT=sne;_.SEMATTRS_AWS_DYNAMODB_SCANNED_COUNT=ane;_.SEMATTRS_AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS=une;_.SEMATTRS_AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES=cne;_.SEMATTRS_MESSAGING_SYSTEM=lne;_.SEMATTRS_MESSAGING_DESTINATION=dne;_.SEMATTRS_MESSAGING_DESTINATION_KIND=fne;_.SEMATTRS_MESSAGING_TEMP_DESTINATION=pne;_.SEMATTRS_MESSAGING_PROTOCOL=hne;_.SEMATTRS_MESSAGING_PROTOCOL_VERSION=gne;_.SEMATTRS_MESSAGING_URL=mne;_.SEMATTRS_MESSAGING_MESSAGE_ID=yne;_.SEMATTRS_MESSAGING_CONVERSATION_ID=_ne;_.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES=Sne;_.SEMATTRS_MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES=bne;_.SEMATTRS_MESSAGING_OPERATION=Ene;_.SEMATTRS_MESSAGING_CONSUMER_ID=vne;_.SEMATTRS_MESSAGING_RABBITMQ_ROUTING_KEY=Tne;_.SEMATTRS_MESSAGING_KAFKA_MESSAGE_KEY=Ane;_.SEMATTRS_MESSAGING_KAFKA_CONSUMER_GROUP=Ine;_.SEMATTRS_MESSAGING_KAFKA_CLIENT_ID=Cne;_.SEMATTRS_MESSAGING_KAFKA_PARTITION=Rne;_.SEMATTRS_MESSAGING_KAFKA_TOMBSTONE=One;_.SEMATTRS_RPC_SYSTEM=Nne;_.SEMATTRS_RPC_SERVICE=wne;_.SEMATTRS_RPC_METHOD=Pne;_.SEMATTRS_RPC_GRPC_STATUS_CODE=Mne;_.SEMATTRS_RPC_JSONRPC_VERSION=xne;_.SEMATTRS_RPC_JSONRPC_REQUEST_ID=Bne;_.SEMATTRS_RPC_JSONRPC_ERROR_CODE=Dne;_.SEMATTRS_RPC_JSONRPC_ERROR_MESSAGE=Lne;_.SEMATTRS_MESSAGE_TYPE=Une;_.SEMATTRS_MESSAGE_ID=Gne;_.SEMATTRS_MESSAGE_COMPRESSED_SIZE=Vne;_.SEMATTRS_MESSAGE_UNCOMPRESSED_SIZE=Fne;_.SemanticAttributes=(0,oo.createConstMap)([Ete,vte,Tte,Ate,Ite,Cte,Rte,Ote,Nte,wte,Pte,Mte,xte,Bte,Dte,Lte,Ute,Gte,Vte,Fte,Hte,kte,Wte,Zte,qte,Yte,jte,Kte,Xte,zte,Jte,$te,Qte,ere,tre,rre,nre,ire,ore,sre,are,ure,cre,lre,dre,fre,pre,hre,gre,mre,yre,_re,Sre,bre,Ere,vre,Tre,Are,Ire,Cre,Rre,Ore,Nre,wre,Pre,Mre,xre,Bre,Dre,Lre,Ure,Gre,Vre,Fre,Hre,kre,Wre,Zre,qre,Yre,jre,Kre,Xre,zre,Jre,$re,Qre,ene,tne,rne,nne,ine,one,sne,ane,une,cne,lne,dne,fne,pne,hne,gne,mne,yne,_ne,Sne,bne,Ene,vne,Tne,Ane,Ine,Cne,Rne,One,Nne,wne,Pne,Mne,xne,Bne,Dne,Lne,Une,Gne,Vne,Fne]);var Hne="other_sql",kne="mssql",Wne="mysql",Zne="oracle",qne="db2",Yne="postgresql",jne="redshift",Kne="hive",Xne="cloudscape",zne="hsqldb",Jne="progress",$ne="maxdb",Qne="hanadb",eie="ingres",tie="firstsql",rie="edb",nie="cache",iie="adabas",oie="firebird",sie="derby",aie="filemaker",uie="informix",cie="instantdb",lie="interbase",die="mariadb",fie="netezza",pie="pervasive",hie="pointbase",gie="sqlite",mie="sybase",yie="teradata",_ie="vertica",Sie="h2",bie="coldfusion",Eie="cassandra",vie="hbase",Tie="mongodb",Aie="redis",Iie="couchbase",Cie="couchdb",Rie="cosmosdb",Oie="dynamodb",Nie="neo4j",wie="geode",Pie="elasticsearch",Mie="memcached",xie="cockroachdb";_.DBSYSTEMVALUES_OTHER_SQL=Hne;_.DBSYSTEMVALUES_MSSQL=kne;_.DBSYSTEMVALUES_MYSQL=Wne;_.DBSYSTEMVALUES_ORACLE=Zne;_.DBSYSTEMVALUES_DB2=qne;_.DBSYSTEMVALUES_POSTGRESQL=Yne;_.DBSYSTEMVALUES_REDSHIFT=jne;_.DBSYSTEMVALUES_HIVE=Kne;_.DBSYSTEMVALUES_CLOUDSCAPE=Xne;_.DBSYSTEMVALUES_HSQLDB=zne;_.DBSYSTEMVALUES_PROGRESS=Jne;_.DBSYSTEMVALUES_MAXDB=$ne;_.DBSYSTEMVALUES_HANADB=Qne;_.DBSYSTEMVALUES_INGRES=eie;_.DBSYSTEMVALUES_FIRSTSQL=tie;_.DBSYSTEMVALUES_EDB=rie;_.DBSYSTEMVALUES_CACHE=nie;_.DBSYSTEMVALUES_ADABAS=iie;_.DBSYSTEMVALUES_FIREBIRD=oie;_.DBSYSTEMVALUES_DERBY=sie;_.DBSYSTEMVALUES_FILEMAKER=aie;_.DBSYSTEMVALUES_INFORMIX=uie;_.DBSYSTEMVALUES_INSTANTDB=cie;_.DBSYSTEMVALUES_INTERBASE=lie;_.DBSYSTEMVALUES_MARIADB=die;_.DBSYSTEMVALUES_NETEZZA=fie;_.DBSYSTEMVALUES_PERVASIVE=pie;_.DBSYSTEMVALUES_POINTBASE=hie;_.DBSYSTEMVALUES_SQLITE=gie;_.DBSYSTEMVALUES_SYBASE=mie;_.DBSYSTEMVALUES_TERADATA=yie;_.DBSYSTEMVALUES_VERTICA=_ie;_.DBSYSTEMVALUES_H2=Sie;_.DBSYSTEMVALUES_COLDFUSION=bie;_.DBSYSTEMVALUES_CASSANDRA=Eie;_.DBSYSTEMVALUES_HBASE=vie;_.DBSYSTEMVALUES_MONGODB=Tie;_.DBSYSTEMVALUES_REDIS=Aie;_.DBSYSTEMVALUES_COUCHBASE=Iie;_.DBSYSTEMVALUES_COUCHDB=Cie;_.DBSYSTEMVALUES_COSMOSDB=Rie;_.DBSYSTEMVALUES_DYNAMODB=Oie;_.DBSYSTEMVALUES_NEO4J=Nie;_.DBSYSTEMVALUES_GEODE=wie;_.DBSYSTEMVALUES_ELASTICSEARCH=Pie;_.DBSYSTEMVALUES_MEMCACHED=Mie;_.DBSYSTEMVALUES_COCKROACHDB=xie;_.DbSystemValues=(0,oo.createConstMap)([Hne,kne,Wne,Zne,qne,Yne,jne,Kne,Xne,zne,Jne,$ne,Qne,eie,tie,rie,nie,iie,oie,sie,aie,uie,cie,lie,die,fie,pie,hie,gie,mie,yie,_ie,Sie,bie,Eie,vie,Tie,Aie,Iie,Cie,Rie,Oie,Nie,wie,Pie,Mie,xie]);var Bie="all",Die="each_quorum",Lie="quorum",Uie="local_quorum",Gie="one",Vie="two",Fie="three",Hie="local_one",kie="any",Wie="serial",Zie="local_serial";_.DBCASSANDRACONSISTENCYLEVELVALUES_ALL=Bie;_.DBCASSANDRACONSISTENCYLEVELVALUES_EACH_QUORUM=Die;_.DBCASSANDRACONSISTENCYLEVELVALUES_QUORUM=Lie;_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_QUORUM=Uie;_.DBCASSANDRACONSISTENCYLEVELVALUES_ONE=Gie;_.DBCASSANDRACONSISTENCYLEVELVALUES_TWO=Vie;_.DBCASSANDRACONSISTENCYLEVELVALUES_THREE=Fie;_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_ONE=Hie;_.DBCASSANDRACONSISTENCYLEVELVALUES_ANY=kie;_.DBCASSANDRACONSISTENCYLEVELVALUES_SERIAL=Wie;_.DBCASSANDRACONSISTENCYLEVELVALUES_LOCAL_SERIAL=Zie;_.DbCassandraConsistencyLevelValues=(0,oo.createConstMap)([Bie,Die,Lie,Uie,Gie,Vie,Fie,Hie,kie,Wie,Zie]);var qie="datasource",Yie="http",jie="pubsub",Kie="timer",Xie="other";_.FAASTRIGGERVALUES_DATASOURCE=qie;_.FAASTRIGGERVALUES_HTTP=Yie;_.FAASTRIGGERVALUES_PUBSUB=jie;_.FAASTRIGGERVALUES_TIMER=Kie;_.FAASTRIGGERVALUES_OTHER=Xie;_.FaasTriggerValues=(0,oo.createConstMap)([qie,Yie,jie,Kie,Xie]);var zie="insert",Jie="edit",$ie="delete";_.FAASDOCUMENTOPERATIONVALUES_INSERT=zie;_.FAASDOCUMENTOPERATIONVALUES_EDIT=Jie;_.FAASDOCUMENTOPERATIONVALUES_DELETE=$ie;_.FaasDocumentOperationValues=(0,oo.createConstMap)([zie,Jie,$ie]);var Qie="alibaba_cloud",eoe="aws",toe="azure",roe="gcp";_.FAASINVOKEDPROVIDERVALUES_ALIBABA_CLOUD=Qie;_.FAASINVOKEDPROVIDERVALUES_AWS=eoe;_.FAASINVOKEDPROVIDERVALUES_AZURE=toe;_.FAASINVOKEDPROVIDERVALUES_GCP=roe;_.FaasInvokedProviderValues=(0,oo.createConstMap)([Qie,eoe,toe,roe]);var noe="ip_tcp",ioe="ip_udp",ooe="ip",soe="unix",aoe="pipe",uoe="inproc",coe="other";_.NETTRANSPORTVALUES_IP_TCP=noe;_.NETTRANSPORTVALUES_IP_UDP=ioe;_.NETTRANSPORTVALUES_IP=ooe;_.NETTRANSPORTVALUES_UNIX=soe;_.NETTRANSPORTVALUES_PIPE=aoe;_.NETTRANSPORTVALUES_INPROC=uoe;_.NETTRANSPORTVALUES_OTHER=coe;_.NetTransportValues=(0,oo.createConstMap)([noe,ioe,ooe,soe,aoe,uoe,coe]);var loe="wifi",doe="wired",foe="cell",poe="unavailable",hoe="unknown";_.NETHOSTCONNECTIONTYPEVALUES_WIFI=loe;_.NETHOSTCONNECTIONTYPEVALUES_WIRED=doe;_.NETHOSTCONNECTIONTYPEVALUES_CELL=foe;_.NETHOSTCONNECTIONTYPEVALUES_UNAVAILABLE=poe;_.NETHOSTCONNECTIONTYPEVALUES_UNKNOWN=hoe;_.NetHostConnectionTypeValues=(0,oo.createConstMap)([loe,doe,foe,poe,hoe]);var goe="gprs",moe="edge",yoe="umts",_oe="cdma",Soe="evdo_0",boe="evdo_a",Eoe="cdma2000_1xrtt",voe="hsdpa",Toe="hsupa",Aoe="hspa",Ioe="iden",Coe="evdo_b",Roe="lte",Ooe="ehrpd",Noe="hspap",woe="gsm",Poe="td_scdma",Moe="iwlan",xoe="nr",Boe="nrnsa",Doe="lte_ca";_.NETHOSTCONNECTIONSUBTYPEVALUES_GPRS=goe;_.NETHOSTCONNECTIONSUBTYPEVALUES_EDGE=moe;_.NETHOSTCONNECTIONSUBTYPEVALUES_UMTS=yoe;_.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA=_oe;_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_0=Soe;_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_A=boe;_.NETHOSTCONNECTIONSUBTYPEVALUES_CDMA2000_1XRTT=Eoe;_.NETHOSTCONNECTIONSUBTYPEVALUES_HSDPA=voe;_.NETHOSTCONNECTIONSUBTYPEVALUES_HSUPA=Toe;_.NETHOSTCONNECTIONSUBTYPEVALUES_HSPA=Aoe;_.NETHOSTCONNECTIONSUBTYPEVALUES_IDEN=Ioe;_.NETHOSTCONNECTIONSUBTYPEVALUES_EVDO_B=Coe;_.NETHOSTCONNECTIONSUBTYPEVALUES_LTE=Roe;_.NETHOSTCONNECTIONSUBTYPEVALUES_EHRPD=Ooe;_.NETHOSTCONNECTIONSUBTYPEVALUES_HSPAP=Noe;_.NETHOSTCONNECTIONSUBTYPEVALUES_GSM=woe;_.NETHOSTCONNECTIONSUBTYPEVALUES_TD_SCDMA=Poe;_.NETHOSTCONNECTIONSUBTYPEVALUES_IWLAN=Moe;_.NETHOSTCONNECTIONSUBTYPEVALUES_NR=xoe;_.NETHOSTCONNECTIONSUBTYPEVALUES_NRNSA=Boe;_.NETHOSTCONNECTIONSUBTYPEVALUES_LTE_CA=Doe;_.NetHostConnectionSubtypeValues=(0,oo.createConstMap)([goe,moe,yoe,_oe,Soe,boe,Eoe,voe,Toe,Aoe,Ioe,Coe,Roe,Ooe,Noe,woe,Poe,Moe,xoe,Boe,Doe]);var Loe="1.0",Uoe="1.1",Goe="2.0",Voe="SPDY",Foe="QUIC";_.HTTPFLAVORVALUES_HTTP_1_0=Loe;_.HTTPFLAVORVALUES_HTTP_1_1=Uoe;_.HTTPFLAVORVALUES_HTTP_2_0=Goe;_.HTTPFLAVORVALUES_SPDY=Voe;_.HTTPFLAVORVALUES_QUIC=Foe;_.HttpFlavorValues={HTTP_1_0:Loe,HTTP_1_1:Uoe,HTTP_2_0:Goe,SPDY:Voe,QUIC:Foe};var Hoe="queue",koe="topic";_.MESSAGINGDESTINATIONKINDVALUES_QUEUE=Hoe;_.MESSAGINGDESTINATIONKINDVALUES_TOPIC=koe;_.MessagingDestinationKindValues=(0,oo.createConstMap)([Hoe,koe]);var Woe="receive",Zoe="process";_.MESSAGINGOPERATIONVALUES_RECEIVE=Woe;_.MESSAGINGOPERATIONVALUES_PROCESS=Zoe;_.MessagingOperationValues=(0,oo.createConstMap)([Woe,Zoe]);var qoe=0,Yoe=1,joe=2,Koe=3,Xoe=4,zoe=5,Joe=6,$oe=7,Qoe=8,ese=9,tse=10,rse=11,nse=12,ise=13,ose=14,sse=15,ase=16;_.RPCGRPCSTATUSCODEVALUES_OK=qoe;_.RPCGRPCSTATUSCODEVALUES_CANCELLED=Yoe;_.RPCGRPCSTATUSCODEVALUES_UNKNOWN=joe;_.RPCGRPCSTATUSCODEVALUES_INVALID_ARGUMENT=Koe;_.RPCGRPCSTATUSCODEVALUES_DEADLINE_EXCEEDED=Xoe;_.RPCGRPCSTATUSCODEVALUES_NOT_FOUND=zoe;_.RPCGRPCSTATUSCODEVALUES_ALREADY_EXISTS=Joe;_.RPCGRPCSTATUSCODEVALUES_PERMISSION_DENIED=$oe;_.RPCGRPCSTATUSCODEVALUES_RESOURCE_EXHAUSTED=Qoe;_.RPCGRPCSTATUSCODEVALUES_FAILED_PRECONDITION=ese;_.RPCGRPCSTATUSCODEVALUES_ABORTED=tse;_.RPCGRPCSTATUSCODEVALUES_OUT_OF_RANGE=rse;_.RPCGRPCSTATUSCODEVALUES_UNIMPLEMENTED=nse;_.RPCGRPCSTATUSCODEVALUES_INTERNAL=ise;_.RPCGRPCSTATUSCODEVALUES_UNAVAILABLE=ose;_.RPCGRPCSTATUSCODEVALUES_DATA_LOSS=sse;_.RPCGRPCSTATUSCODEVALUES_UNAUTHENTICATED=ase;_.RpcGrpcStatusCodeValues={OK:qoe,CANCELLED:Yoe,UNKNOWN:joe,INVALID_ARGUMENT:Koe,DEADLINE_EXCEEDED:Xoe,NOT_FOUND:zoe,ALREADY_EXISTS:Joe,PERMISSION_DENIED:$oe,RESOURCE_EXHAUSTED:Qoe,FAILED_PRECONDITION:ese,ABORTED:tse,OUT_OF_RANGE:rse,UNIMPLEMENTED:nse,INTERNAL:ise,UNAVAILABLE:ose,DATA_LOSS:sse,UNAUTHENTICATED:ase};var use="SENT",cse="RECEIVED";_.MESSAGETYPEVALUES_SENT=use;_.MESSAGETYPEVALUES_RECEIVED=cse;_.MessageTypeValues=(0,oo.createConstMap)([use,cse])});var dse=h(bd=>{"use strict";l();var GKe=bd&&bd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),VKe=bd&&bd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&GKe(e,t,r)};Object.defineProperty(bd,"__esModule",{value:!0});VKe(lse(),bd)});var Lue=h(N=>{"use strict";l();Object.defineProperty(N,"__esModule",{value:!0});N.SEMRESATTRS_K8S_STATEFULSET_NAME=N.SEMRESATTRS_K8S_STATEFULSET_UID=N.SEMRESATTRS_K8S_DEPLOYMENT_NAME=N.SEMRESATTRS_K8S_DEPLOYMENT_UID=N.SEMRESATTRS_K8S_REPLICASET_NAME=N.SEMRESATTRS_K8S_REPLICASET_UID=N.SEMRESATTRS_K8S_CONTAINER_NAME=N.SEMRESATTRS_K8S_POD_NAME=N.SEMRESATTRS_K8S_POD_UID=N.SEMRESATTRS_K8S_NAMESPACE_NAME=N.SEMRESATTRS_K8S_NODE_UID=N.SEMRESATTRS_K8S_NODE_NAME=N.SEMRESATTRS_K8S_CLUSTER_NAME=N.SEMRESATTRS_HOST_IMAGE_VERSION=N.SEMRESATTRS_HOST_IMAGE_ID=N.SEMRESATTRS_HOST_IMAGE_NAME=N.SEMRESATTRS_HOST_ARCH=N.SEMRESATTRS_HOST_TYPE=N.SEMRESATTRS_HOST_NAME=N.SEMRESATTRS_HOST_ID=N.SEMRESATTRS_FAAS_MAX_MEMORY=N.SEMRESATTRS_FAAS_INSTANCE=N.SEMRESATTRS_FAAS_VERSION=N.SEMRESATTRS_FAAS_ID=N.SEMRESATTRS_FAAS_NAME=N.SEMRESATTRS_DEVICE_MODEL_NAME=N.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=N.SEMRESATTRS_DEVICE_ID=N.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=N.SEMRESATTRS_CONTAINER_IMAGE_TAG=N.SEMRESATTRS_CONTAINER_IMAGE_NAME=N.SEMRESATTRS_CONTAINER_RUNTIME=N.SEMRESATTRS_CONTAINER_ID=N.SEMRESATTRS_CONTAINER_NAME=N.SEMRESATTRS_AWS_LOG_STREAM_ARNS=N.SEMRESATTRS_AWS_LOG_STREAM_NAMES=N.SEMRESATTRS_AWS_LOG_GROUP_ARNS=N.SEMRESATTRS_AWS_LOG_GROUP_NAMES=N.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=N.SEMRESATTRS_AWS_ECS_TASK_REVISION=N.SEMRESATTRS_AWS_ECS_TASK_FAMILY=N.SEMRESATTRS_AWS_ECS_TASK_ARN=N.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=N.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=N.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=N.SEMRESATTRS_CLOUD_PLATFORM=N.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=N.SEMRESATTRS_CLOUD_REGION=N.SEMRESATTRS_CLOUD_ACCOUNT_ID=N.SEMRESATTRS_CLOUD_PROVIDER=void 0;N.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=N.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=N.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=N.CLOUDPLATFORMVALUES_AZURE_AKS=N.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=N.CLOUDPLATFORMVALUES_AZURE_VM=N.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=N.CLOUDPLATFORMVALUES_AWS_LAMBDA=N.CLOUDPLATFORMVALUES_AWS_EKS=N.CLOUDPLATFORMVALUES_AWS_ECS=N.CLOUDPLATFORMVALUES_AWS_EC2=N.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=N.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=N.CloudProviderValues=N.CLOUDPROVIDERVALUES_GCP=N.CLOUDPROVIDERVALUES_AZURE=N.CLOUDPROVIDERVALUES_AWS=N.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=N.SemanticResourceAttributes=N.SEMRESATTRS_WEBENGINE_DESCRIPTION=N.SEMRESATTRS_WEBENGINE_VERSION=N.SEMRESATTRS_WEBENGINE_NAME=N.SEMRESATTRS_TELEMETRY_AUTO_VERSION=N.SEMRESATTRS_TELEMETRY_SDK_VERSION=N.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=N.SEMRESATTRS_TELEMETRY_SDK_NAME=N.SEMRESATTRS_SERVICE_VERSION=N.SEMRESATTRS_SERVICE_INSTANCE_ID=N.SEMRESATTRS_SERVICE_NAMESPACE=N.SEMRESATTRS_SERVICE_NAME=N.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=N.SEMRESATTRS_PROCESS_RUNTIME_VERSION=N.SEMRESATTRS_PROCESS_RUNTIME_NAME=N.SEMRESATTRS_PROCESS_OWNER=N.SEMRESATTRS_PROCESS_COMMAND_ARGS=N.SEMRESATTRS_PROCESS_COMMAND_LINE=N.SEMRESATTRS_PROCESS_COMMAND=N.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=N.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=N.SEMRESATTRS_PROCESS_PID=N.SEMRESATTRS_OS_VERSION=N.SEMRESATTRS_OS_NAME=N.SEMRESATTRS_OS_DESCRIPTION=N.SEMRESATTRS_OS_TYPE=N.SEMRESATTRS_K8S_CRONJOB_NAME=N.SEMRESATTRS_K8S_CRONJOB_UID=N.SEMRESATTRS_K8S_JOB_NAME=N.SEMRESATTRS_K8S_JOB_UID=N.SEMRESATTRS_K8S_DAEMONSET_NAME=N.SEMRESATTRS_K8S_DAEMONSET_UID=void 0;N.TelemetrySdkLanguageValues=N.TELEMETRYSDKLANGUAGEVALUES_WEBJS=N.TELEMETRYSDKLANGUAGEVALUES_RUBY=N.TELEMETRYSDKLANGUAGEVALUES_PYTHON=N.TELEMETRYSDKLANGUAGEVALUES_PHP=N.TELEMETRYSDKLANGUAGEVALUES_NODEJS=N.TELEMETRYSDKLANGUAGEVALUES_JAVA=N.TELEMETRYSDKLANGUAGEVALUES_GO=N.TELEMETRYSDKLANGUAGEVALUES_ERLANG=N.TELEMETRYSDKLANGUAGEVALUES_DOTNET=N.TELEMETRYSDKLANGUAGEVALUES_CPP=N.OsTypeValues=N.OSTYPEVALUES_Z_OS=N.OSTYPEVALUES_SOLARIS=N.OSTYPEVALUES_AIX=N.OSTYPEVALUES_HPUX=N.OSTYPEVALUES_DRAGONFLYBSD=N.OSTYPEVALUES_OPENBSD=N.OSTYPEVALUES_NETBSD=N.OSTYPEVALUES_FREEBSD=N.OSTYPEVALUES_DARWIN=N.OSTYPEVALUES_LINUX=N.OSTYPEVALUES_WINDOWS=N.HostArchValues=N.HOSTARCHVALUES_X86=N.HOSTARCHVALUES_PPC64=N.HOSTARCHVALUES_PPC32=N.HOSTARCHVALUES_IA64=N.HOSTARCHVALUES_ARM64=N.HOSTARCHVALUES_ARM32=N.HOSTARCHVALUES_AMD64=N.AwsEcsLaunchtypeValues=N.AWSECSLAUNCHTYPEVALUES_FARGATE=N.AWSECSLAUNCHTYPEVALUES_EC2=N.CloudPlatformValues=N.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=N.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=N.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=N.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=void 0;var Ed=MG(),fse="cloud.provider",pse="cloud.account.id",hse="cloud.region",gse="cloud.availability_zone",mse="cloud.platform",yse="aws.ecs.container.arn",_se="aws.ecs.cluster.arn",Sse="aws.ecs.launchtype",bse="aws.ecs.task.arn",Ese="aws.ecs.task.family",vse="aws.ecs.task.revision",Tse="aws.eks.cluster.arn",Ase="aws.log.group.names",Ise="aws.log.group.arns",Cse="aws.log.stream.names",Rse="aws.log.stream.arns",Ose="container.name",Nse="container.id",wse="container.runtime",Pse="container.image.name",Mse="container.image.tag",xse="deployment.environment",Bse="device.id",Dse="device.model.identifier",Lse="device.model.name",Use="faas.name",Gse="faas.id",Vse="faas.version",Fse="faas.instance",Hse="faas.max_memory",kse="host.id",Wse="host.name",Zse="host.type",qse="host.arch",Yse="host.image.name",jse="host.image.id",Kse="host.image.version",Xse="k8s.cluster.name",zse="k8s.node.name",Jse="k8s.node.uid",$se="k8s.namespace.name",Qse="k8s.pod.uid",eae="k8s.pod.name",tae="k8s.container.name",rae="k8s.replicaset.uid",nae="k8s.replicaset.name",iae="k8s.deployment.uid",oae="k8s.deployment.name",sae="k8s.statefulset.uid",aae="k8s.statefulset.name",uae="k8s.daemonset.uid",cae="k8s.daemonset.name",lae="k8s.job.uid",dae="k8s.job.name",fae="k8s.cronjob.uid",pae="k8s.cronjob.name",hae="os.type",gae="os.description",mae="os.name",yae="os.version",_ae="process.pid",Sae="process.executable.name",bae="process.executable.path",Eae="process.command",vae="process.command_line",Tae="process.command_args",Aae="process.owner",Iae="process.runtime.name",Cae="process.runtime.version",Rae="process.runtime.description",Oae="service.name",Nae="service.namespace",wae="service.instance.id",Pae="service.version",Mae="telemetry.sdk.name",xae="telemetry.sdk.language",Bae="telemetry.sdk.version",Dae="telemetry.auto.version",Lae="webengine.name",Uae="webengine.version",Gae="webengine.description";N.SEMRESATTRS_CLOUD_PROVIDER=fse;N.SEMRESATTRS_CLOUD_ACCOUNT_ID=pse;N.SEMRESATTRS_CLOUD_REGION=hse;N.SEMRESATTRS_CLOUD_AVAILABILITY_ZONE=gse;N.SEMRESATTRS_CLOUD_PLATFORM=mse;N.SEMRESATTRS_AWS_ECS_CONTAINER_ARN=yse;N.SEMRESATTRS_AWS_ECS_CLUSTER_ARN=_se;N.SEMRESATTRS_AWS_ECS_LAUNCHTYPE=Sse;N.SEMRESATTRS_AWS_ECS_TASK_ARN=bse;N.SEMRESATTRS_AWS_ECS_TASK_FAMILY=Ese;N.SEMRESATTRS_AWS_ECS_TASK_REVISION=vse;N.SEMRESATTRS_AWS_EKS_CLUSTER_ARN=Tse;N.SEMRESATTRS_AWS_LOG_GROUP_NAMES=Ase;N.SEMRESATTRS_AWS_LOG_GROUP_ARNS=Ise;N.SEMRESATTRS_AWS_LOG_STREAM_NAMES=Cse;N.SEMRESATTRS_AWS_LOG_STREAM_ARNS=Rse;N.SEMRESATTRS_CONTAINER_NAME=Ose;N.SEMRESATTRS_CONTAINER_ID=Nse;N.SEMRESATTRS_CONTAINER_RUNTIME=wse;N.SEMRESATTRS_CONTAINER_IMAGE_NAME=Pse;N.SEMRESATTRS_CONTAINER_IMAGE_TAG=Mse;N.SEMRESATTRS_DEPLOYMENT_ENVIRONMENT=xse;N.SEMRESATTRS_DEVICE_ID=Bse;N.SEMRESATTRS_DEVICE_MODEL_IDENTIFIER=Dse;N.SEMRESATTRS_DEVICE_MODEL_NAME=Lse;N.SEMRESATTRS_FAAS_NAME=Use;N.SEMRESATTRS_FAAS_ID=Gse;N.SEMRESATTRS_FAAS_VERSION=Vse;N.SEMRESATTRS_FAAS_INSTANCE=Fse;N.SEMRESATTRS_FAAS_MAX_MEMORY=Hse;N.SEMRESATTRS_HOST_ID=kse;N.SEMRESATTRS_HOST_NAME=Wse;N.SEMRESATTRS_HOST_TYPE=Zse;N.SEMRESATTRS_HOST_ARCH=qse;N.SEMRESATTRS_HOST_IMAGE_NAME=Yse;N.SEMRESATTRS_HOST_IMAGE_ID=jse;N.SEMRESATTRS_HOST_IMAGE_VERSION=Kse;N.SEMRESATTRS_K8S_CLUSTER_NAME=Xse;N.SEMRESATTRS_K8S_NODE_NAME=zse;N.SEMRESATTRS_K8S_NODE_UID=Jse;N.SEMRESATTRS_K8S_NAMESPACE_NAME=$se;N.SEMRESATTRS_K8S_POD_UID=Qse;N.SEMRESATTRS_K8S_POD_NAME=eae;N.SEMRESATTRS_K8S_CONTAINER_NAME=tae;N.SEMRESATTRS_K8S_REPLICASET_UID=rae;N.SEMRESATTRS_K8S_REPLICASET_NAME=nae;N.SEMRESATTRS_K8S_DEPLOYMENT_UID=iae;N.SEMRESATTRS_K8S_DEPLOYMENT_NAME=oae;N.SEMRESATTRS_K8S_STATEFULSET_UID=sae;N.SEMRESATTRS_K8S_STATEFULSET_NAME=aae;N.SEMRESATTRS_K8S_DAEMONSET_UID=uae;N.SEMRESATTRS_K8S_DAEMONSET_NAME=cae;N.SEMRESATTRS_K8S_JOB_UID=lae;N.SEMRESATTRS_K8S_JOB_NAME=dae;N.SEMRESATTRS_K8S_CRONJOB_UID=fae;N.SEMRESATTRS_K8S_CRONJOB_NAME=pae;N.SEMRESATTRS_OS_TYPE=hae;N.SEMRESATTRS_OS_DESCRIPTION=gae;N.SEMRESATTRS_OS_NAME=mae;N.SEMRESATTRS_OS_VERSION=yae;N.SEMRESATTRS_PROCESS_PID=_ae;N.SEMRESATTRS_PROCESS_EXECUTABLE_NAME=Sae;N.SEMRESATTRS_PROCESS_EXECUTABLE_PATH=bae;N.SEMRESATTRS_PROCESS_COMMAND=Eae;N.SEMRESATTRS_PROCESS_COMMAND_LINE=vae;N.SEMRESATTRS_PROCESS_COMMAND_ARGS=Tae;N.SEMRESATTRS_PROCESS_OWNER=Aae;N.SEMRESATTRS_PROCESS_RUNTIME_NAME=Iae;N.SEMRESATTRS_PROCESS_RUNTIME_VERSION=Cae;N.SEMRESATTRS_PROCESS_RUNTIME_DESCRIPTION=Rae;N.SEMRESATTRS_SERVICE_NAME=Oae;N.SEMRESATTRS_SERVICE_NAMESPACE=Nae;N.SEMRESATTRS_SERVICE_INSTANCE_ID=wae;N.SEMRESATTRS_SERVICE_VERSION=Pae;N.SEMRESATTRS_TELEMETRY_SDK_NAME=Mae;N.SEMRESATTRS_TELEMETRY_SDK_LANGUAGE=xae;N.SEMRESATTRS_TELEMETRY_SDK_VERSION=Bae;N.SEMRESATTRS_TELEMETRY_AUTO_VERSION=Dae;N.SEMRESATTRS_WEBENGINE_NAME=Lae;N.SEMRESATTRS_WEBENGINE_VERSION=Uae;N.SEMRESATTRS_WEBENGINE_DESCRIPTION=Gae;N.SemanticResourceAttributes=(0,Ed.createConstMap)([fse,pse,hse,gse,mse,yse,_se,Sse,bse,Ese,vse,Tse,Ase,Ise,Cse,Rse,Ose,Nse,wse,Pse,Mse,xse,Bse,Dse,Lse,Use,Gse,Vse,Fse,Hse,kse,Wse,Zse,qse,Yse,jse,Kse,Xse,zse,Jse,$se,Qse,eae,tae,rae,nae,iae,oae,sae,aae,uae,cae,lae,dae,fae,pae,hae,gae,mae,yae,_ae,Sae,bae,Eae,vae,Tae,Aae,Iae,Cae,Rae,Oae,Nae,wae,Pae,Mae,xae,Bae,Dae,Lae,Uae,Gae]);var Vae="alibaba_cloud",Fae="aws",Hae="azure",kae="gcp";N.CLOUDPROVIDERVALUES_ALIBABA_CLOUD=Vae;N.CLOUDPROVIDERVALUES_AWS=Fae;N.CLOUDPROVIDERVALUES_AZURE=Hae;N.CLOUDPROVIDERVALUES_GCP=kae;N.CloudProviderValues=(0,Ed.createConstMap)([Vae,Fae,Hae,kae]);var Wae="alibaba_cloud_ecs",Zae="alibaba_cloud_fc",qae="aws_ec2",Yae="aws_ecs",jae="aws_eks",Kae="aws_lambda",Xae="aws_elastic_beanstalk",zae="azure_vm",Jae="azure_container_instances",$ae="azure_aks",Qae="azure_functions",eue="azure_app_service",tue="gcp_compute_engine",rue="gcp_cloud_run",nue="gcp_kubernetes_engine",iue="gcp_cloud_functions",oue="gcp_app_engine";N.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_ECS=Wae;N.CLOUDPLATFORMVALUES_ALIBABA_CLOUD_FC=Zae;N.CLOUDPLATFORMVALUES_AWS_EC2=qae;N.CLOUDPLATFORMVALUES_AWS_ECS=Yae;N.CLOUDPLATFORMVALUES_AWS_EKS=jae;N.CLOUDPLATFORMVALUES_AWS_LAMBDA=Kae;N.CLOUDPLATFORMVALUES_AWS_ELASTIC_BEANSTALK=Xae;N.CLOUDPLATFORMVALUES_AZURE_VM=zae;N.CLOUDPLATFORMVALUES_AZURE_CONTAINER_INSTANCES=Jae;N.CLOUDPLATFORMVALUES_AZURE_AKS=$ae;N.CLOUDPLATFORMVALUES_AZURE_FUNCTIONS=Qae;N.CLOUDPLATFORMVALUES_AZURE_APP_SERVICE=eue;N.CLOUDPLATFORMVALUES_GCP_COMPUTE_ENGINE=tue;N.CLOUDPLATFORMVALUES_GCP_CLOUD_RUN=rue;N.CLOUDPLATFORMVALUES_GCP_KUBERNETES_ENGINE=nue;N.CLOUDPLATFORMVALUES_GCP_CLOUD_FUNCTIONS=iue;N.CLOUDPLATFORMVALUES_GCP_APP_ENGINE=oue;N.CloudPlatformValues=(0,Ed.createConstMap)([Wae,Zae,qae,Yae,jae,Kae,Xae,zae,Jae,$ae,Qae,eue,tue,rue,nue,iue,oue]);var sue="ec2",aue="fargate";N.AWSECSLAUNCHTYPEVALUES_EC2=sue;N.AWSECSLAUNCHTYPEVALUES_FARGATE=aue;N.AwsEcsLaunchtypeValues=(0,Ed.createConstMap)([sue,aue]);var uue="amd64",cue="arm32",lue="arm64",due="ia64",fue="ppc32",pue="ppc64",hue="x86";N.HOSTARCHVALUES_AMD64=uue;N.HOSTARCHVALUES_ARM32=cue;N.HOSTARCHVALUES_ARM64=lue;N.HOSTARCHVALUES_IA64=due;N.HOSTARCHVALUES_PPC32=fue;N.HOSTARCHVALUES_PPC64=pue;N.HOSTARCHVALUES_X86=hue;N.HostArchValues=(0,Ed.createConstMap)([uue,cue,lue,due,fue,pue,hue]);var gue="windows",mue="linux",yue="darwin",_ue="freebsd",Sue="netbsd",bue="openbsd",Eue="dragonflybsd",vue="hpux",Tue="aix",Aue="solaris",Iue="z_os";N.OSTYPEVALUES_WINDOWS=gue;N.OSTYPEVALUES_LINUX=mue;N.OSTYPEVALUES_DARWIN=yue;N.OSTYPEVALUES_FREEBSD=_ue;N.OSTYPEVALUES_NETBSD=Sue;N.OSTYPEVALUES_OPENBSD=bue;N.OSTYPEVALUES_DRAGONFLYBSD=Eue;N.OSTYPEVALUES_HPUX=vue;N.OSTYPEVALUES_AIX=Tue;N.OSTYPEVALUES_SOLARIS=Aue;N.OSTYPEVALUES_Z_OS=Iue;N.OsTypeValues=(0,Ed.createConstMap)([gue,mue,yue,_ue,Sue,bue,Eue,vue,Tue,Aue,Iue]);var Cue="cpp",Rue="dotnet",Oue="erlang",Nue="go",wue="java",Pue="nodejs",Mue="php",xue="python",Bue="ruby",Due="webjs";N.TELEMETRYSDKLANGUAGEVALUES_CPP=Cue;N.TELEMETRYSDKLANGUAGEVALUES_DOTNET=Rue;N.TELEMETRYSDKLANGUAGEVALUES_ERLANG=Oue;N.TELEMETRYSDKLANGUAGEVALUES_GO=Nue;N.TELEMETRYSDKLANGUAGEVALUES_JAVA=wue;N.TELEMETRYSDKLANGUAGEVALUES_NODEJS=Pue;N.TELEMETRYSDKLANGUAGEVALUES_PHP=Mue;N.TELEMETRYSDKLANGUAGEVALUES_PYTHON=xue;N.TELEMETRYSDKLANGUAGEVALUES_RUBY=Bue;N.TELEMETRYSDKLANGUAGEVALUES_WEBJS=Due;N.TelemetrySdkLanguageValues=(0,Ed.createConstMap)([Cue,Rue,Oue,Nue,wue,Pue,Mue,xue,Bue,Due])});var Uue=h(vd=>{"use strict";l();var FKe=vd&&vd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),HKe=vd&&vd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&FKe(e,t,r)};Object.defineProperty(vd,"__esModule",{value:!0});HKe(Lue(),vd)});var cn=h(fc=>{"use strict";l();var kKe=fc&&fc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Gue=fc&&fc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kKe(e,t,r)};Object.defineProperty(fc,"__esModule",{value:!0});Gue(dse(),fc);Gue(Uue(),fc)});var DG=h(BG=>{l();Object.defineProperty(BG,"__esModule",{value:!0});var xG=cn(),Vue=z();function WKe(t,e,r){if(e.name!=="exception")return;let o=e.attributes;if(!o)return;let s=o[xG.SemanticAttributes.EXCEPTION_MESSAGE];if(typeof s!="string")return;let a=new Error(s),i=o[xG.SemanticAttributes.EXCEPTION_STACKTRACE];Vue.isString(i)&&(a.stack=i);let n=o[xG.SemanticAttributes.EXCEPTION_TYPE];Vue.isString(n)&&(a.name=n),t.captureException(a,{captureContext:r?{contexts:{otel:{attributes:r.attributes,resource:r.resource.attributes},trace:{trace_id:r.spanContext().traceId,span_id:r.spanContext().spanId,parent_span_id:r.parentSpanId}}}:void 0})}BG.maybeCaptureExceptionForTimedEvent=WKe});var Ja=h(pc=>{l();Object.defineProperty(pc,"__esModule",{value:!0});function ZKe(t){let e=t;return!!e.attributes&&typeof e.attributes=="object"}function qKe(t){return!!t.kind}function YKe(t){return!!t.status}function jKe(t){return!!t.name}function KKe(t){return!!t.parentSpanId}function XKe(t){let e=t;return Array.isArray(e.events)}pc.spanHasAttributes=ZKe;pc.spanHasEvents=XKe;pc.spanHasKind=qKe;pc.spanHasName=jKe;pc.spanHasParentId=KKe;pc.spanHasStatus=YKe});var GG=h(UG=>{l();Object.defineProperty(UG,"__esModule",{value:!0});var LG=cn(),Fue=z(),zKe=Ja();function JKe(t){if(!zKe.spanHasAttributes(t))return{};let e={url:t.attributes[LG.SemanticAttributes.HTTP_URL],"http.method":t.attributes[LG.SemanticAttributes.HTTP_METHOD]};!e["http.method"]&&e.url&&(e["http.method"]="GET");try{let r=t.attributes[LG.SemanticAttributes.HTTP_URL];if(typeof r=="string"){let o=Fue.parseUrl(r);e.url=Fue.getSanitizedUrlString(o),o.search&&(e["http.query"]=o.search),o.hash&&(e["http.fragment"]=o.hash)}}catch{}return e}UG.getRequestSpanData=JKe});var Hue,kue=Ce(()=>{l();Hue=typeof globalThis=="object"?globalThis:global});var Wue=Ce(()=>{l();kue()});var Zue=Ce(()=>{l();Wue()});var $a,VG=Ce(()=>{l();$a="1.8.0"});function $Ke(t){var e=new Set([t]),r=new Set,o=t.match(que);if(!o)return function(){return!1};var s={major:+o[1],minor:+o[2],patch:+o[3],prerelease:o[4]};if(s.prerelease!=null)return function(u){return u===t};function a(n){return r.add(n),!1}function i(n){return e.add(n),!0}return function(u){if(e.has(u))return!0;if(r.has(u))return!1;var c=u.match(que);if(!c)return a(u);var d={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return d.prerelease!=null||s.major!==d.major?a(u):s.major===0?s.minor===d.minor&&s.patch<=d.patch?i(u):a(u):s.minor<=d.minor?i(u):a(u)}}var que,Yue,jue=Ce(()=>{l();VG();que=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;Yue=$Ke($a)});function Gs(t,e,r,o){var s;o===void 0&&(o=!1);var a=pS[fS]=(s=pS[fS])!==null&&s!==void 0?s:{version:$a};if(!o&&a[t]){var i=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(i.stack||i.message),!1}if(a.version!==$a){var i=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+t+" does not match previously registered API v"+$a);return r.error(i.stack||i.message),!1}return a[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+$a+"."),!0}function Ti(t){var e,r,o=(e=pS[fS])===null||e===void 0?void 0:e.version;if(!(!o||!Yue(o)))return(r=pS[fS])===null||r===void 0?void 0:r[t]}function Vs(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+$a+".");var r=pS[fS];r&&delete r[t]}var QKe,fS,pS,Td=Ce(()=>{l();Zue();VG();jue();QKe=$a.split(".")[0],fS=Symbol.for("opentelemetry.js.api."+QKe),pS=Hue});function hS(t,e,r){var o=Ti("diag");if(o)return r.unshift(e),o[t].apply(o,tXe([],eXe(r),!1))}var eXe,tXe,Kue,Xue=Ce(()=>{l();Td();eXe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},tXe=function(t,e,r){if(r||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))},Kue=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hS("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hS("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hS("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hS("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return hS("verbose",this._namespace,e)},t}()});var Zr,JI=Ce(()=>{l();(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(Zr||(Zr={}))});function zue(t,e){t<Zr.NONE?t=Zr.NONE:t>Zr.ALL&&(t=Zr.ALL),e=e||{};function r(o,s){var a=e[o];return typeof a=="function"&&t>=s?a.bind(e):function(){}}return{error:r("error",Zr.ERROR),warn:r("warn",Zr.WARN),info:r("info",Zr.INFO),debug:r("debug",Zr.DEBUG),verbose:r("verbose",Zr.VERBOSE)}}var Jue=Ce(()=>{l();JI()});var rXe,nXe,iXe,ln,Ad=Ce(()=>{l();Xue();Jue();JI();Td();rXe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},nXe=function(t,e,r){if(r||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))},iXe="diag",ln=function(){function t(){function e(s){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];var n=Ti("diag");if(n)return n[s].apply(n,nXe([],rXe(a),!1))}}var r=this,o=function(s,a){var i,n,u;if(a===void 0&&(a={logLevel:Zr.INFO}),s===r){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((i=c.stack)!==null&&i!==void 0?i:c.message),!1}typeof a=="number"&&(a={logLevel:a});var d=Ti("diag"),f=zue((n=a.logLevel)!==null&&n!==void 0?n:Zr.INFO,s);if(d&&!a.suppressOverrideMessage){var g=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+g),f.warn("Current logger will overwrite one already registered from "+g)}return Gs("diag",f,r,!0)};r.setLogger=o,r.disable=function(){Vs(iXe,r)},r.createComponentLogger=function(s){return new Kue(s)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()});var oXe,sXe,$ue,Que=Ce(()=>{l();oXe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},sXe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$ue=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=oXe(e,2),o=r[0],s=r[1];return[o,s]})},t.prototype.setEntry=function(e,r){var o=new t(this._entries);return o._entries.set(e,r),o},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=new t(this._entries);try{for(var i=sXe(o),n=i.next();!n.done;n=i.next()){var u=n.value;a._entries.delete(u)}}catch(c){e={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return a},t.prototype.clear=function(){return new t},t}()});var ece,tce=Ce(()=>{l();ece=Symbol("BaggageEntryMetadata")});function rce(t){return t===void 0&&(t={}),new $ue(new Map(Object.entries(t)))}function nce(t){return typeof t!="string"&&(aXe.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:ece,toString:function(){return t}}}var aXe,FG=Ce(()=>{l();Ad();Que();tce();aXe=ln.instance()});function Nh(t){return Symbol.for(t)}var uXe,$I,gS=Ce(()=>{l();uXe=function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(o){return r._currentContext.get(o)},r.setValue=function(o,s){var a=new t(r._currentContext);return a._currentContext.set(o,s),a},r.deleteValue=function(o){var s=new t(r._currentContext);return s._currentContext.delete(o),s}}return t}(),$I=new uXe});var HG,ice,oce=Ce(()=>{l();HG=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],ice=function(){function t(){function e(o){return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(console){var i=console[o];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,s)}}}for(var r=0;r<HG.length;r++)this[HG[r].n]=e(HG[r].c)}return t}()});function sce(){return ZG}var wh,cXe,kG,lXe,dXe,fXe,WG,pXe,hXe,gXe,ZG,mXe,yXe,_Xe,SXe,bXe,EXe,qG=Ce(()=>{l();wh=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function o(){this.constructor=e}e.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),cXe=function(){function t(){}return t.prototype.createHistogram=function(e,r){return yXe},t.prototype.createCounter=function(e,r){return mXe},t.prototype.createUpDownCounter=function(e,r){return _Xe},t.prototype.createObservableGauge=function(e,r){return bXe},t.prototype.createObservableCounter=function(e,r){return SXe},t.prototype.createObservableUpDownCounter=function(e,r){return EXe},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t}(),kG=function(){function t(){}return t}(),lXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,o){},e}(kG),dXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,o){},e}(kG),fXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,o){},e}(kG),WG=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),pXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WG),hXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WG),gXe=function(t){wh(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(WG),ZG=new cXe,mXe=new lXe,yXe=new fXe,_Xe=new dXe,SXe=new pXe,bXe=new hXe,EXe=new gXe});var QI,ace=Ce(()=>{l();(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(QI||(QI={}))});var eC,tC,YG=Ce(()=>{l();eC={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},tC={set:function(t,e,r){t!=null&&(t[e]=r)}}});var vXe,TXe,uce,cce=Ce(()=>{l();gS();vXe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},TXe=function(t,e,r){if(r||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))},uce=function(){function t(){}return t.prototype.active=function(){return $I},t.prototype.with=function(e,r,o){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];return r.call.apply(r,TXe([o],vXe(s),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}()});var AXe,IXe,jG,CXe,hc,mS=Ce(()=>{l();cce();Td();Ad();AXe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},IXe=function(t,e,r){if(r||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))},jG="context",CXe=new uce,hc=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return Gs(jG,e,ln.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,o){for(var s,a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return(s=this._getContextManager()).with.apply(s,IXe([e,r,o],AXe(a),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return Ti(jG)||CXe},t.prototype.disable=function(){this._getContextManager().disable(),Vs(jG,ln.instance())},t}()});var Ph,KG=Ce(()=>{l();(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(Ph||(Ph={}))});var yS,_S,rC,nC=Ce(()=>{l();KG();yS="0000000000000000",_S="00000000000000000000000000000000",rC={traceId:_S,spanId:yS,traceFlags:Ph.NONE}});var gc,iC=Ce(()=>{l();nC();gc=function(){function t(e){e===void 0&&(e=rC),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t}()});function oC(t){return t.getValue(XG)||void 0}function lce(){return oC(hc.getInstance().active())}function SS(t,e){return t.setValue(XG,e)}function dce(t){return t.deleteValue(XG)}function fce(t,e){return SS(t,new gc(e))}function sC(t){var e;return(e=oC(t))===null||e===void 0?void 0:e.spanContext()}var XG,zG=Ce(()=>{l();gS();iC();mS();XG=Nh("OpenTelemetry Context Key SPAN")});function JG(t){return RXe.test(t)&&t!==_S}function $G(t){return OXe.test(t)&&t!==yS}function Mh(t){return JG(t.traceId)&&$G(t.spanId)}function pce(t){return new gc(t)}var RXe,OXe,aC=Ce(()=>{l();nC();iC();RXe=/^([0-9a-f]{32})$/i,OXe=/^[0-9a-f]{16}$/i});function NXe(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var QG,uC,eV=Ce(()=>{l();mS();zG();iC();aC();QG=hc.getInstance(),uC=function(){function t(){}return t.prototype.startSpan=function(e,r,o){o===void 0&&(o=QG.active());var s=!!r?.root;if(s)return new gc;var a=o&&sC(o);return NXe(a)&&Mh(a)?new gc(a):new gc},t.prototype.startActiveSpan=function(e,r,o,s){var a,i,n;if(!(arguments.length<2)){arguments.length===2?n=r:arguments.length===3?(a=r,n=o):(a=r,i=o,n=s);var u=i??QG.active(),c=this.startSpan(e,a,u),d=SS(u,c);return QG.with(d,n,void 0,c)}},t}()});var wXe,cC,tV=Ce(()=>{l();eV();wXe=new uC,cC=function(){function t(e,r,o,s){this._provider=e,this.name=r,this.version=o,this.options=s}return t.prototype.startSpan=function(e,r,o){return this._getTracer().startSpan(e,r,o)},t.prototype.startActiveSpan=function(e,r,o,s){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):wXe},t}()});var hce,gce=Ce(()=>{l();eV();hce=function(){function t(){}return t.prototype.getTracer=function(e,r,o){return new uC},t}()});var PXe,bS,rV=Ce(()=>{l();tV();gce();PXe=new hce,bS=function(){function t(){}return t.prototype.getTracer=function(e,r,o){var s;return(s=this.getDelegateTracer(e,r,o))!==null&&s!==void 0?s:new cC(this,e,r,o)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:PXe},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,o){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(e,r,o)},t}()});var lC,mce=Ce(()=>{l();(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(lC||(lC={}))});var dC,yce=Ce(()=>{l();(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(dC||(dC={}))});var Id,_ce=Ce(()=>{l();(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(Id||(Id={}))});function Sce(t){return BXe.test(t)}function bce(t){return DXe.test(t)&&!LXe.test(t)}var nV,MXe,xXe,BXe,DXe,LXe,Ece=Ce(()=>{l();nV="[_0-9a-z-*/]",MXe="[a-z]"+nV+"{0,255}",xXe="[a-z0-9]"+nV+"{0,240}@[a-z]"+nV+"{0,13}",BXe=new RegExp("^(?:"+MXe+"|"+xXe+")$"),DXe=/^[ -~]{0,255}[!-~]$/,LXe=/,|=/});var vce,UXe,Tce,Ace,Ice,Cce=Ce(()=>{l();Ece();vce=32,UXe=512,Tce=",",Ace="=",Ice=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,r){var o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,r),o},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,o){return r.push(o+Ace+e.get(o)),r},[]).join(Tce)},t.prototype._parse=function(e){e.length>UXe||(this._internalState=e.split(Tce).reverse().reduce(function(r,o){var s=o.trim(),a=s.indexOf(Ace);if(a!==-1){var i=s.slice(0,a),n=s.slice(a+1,o.length);Sce(i)&&bce(n)&&r.set(i,n)}return r},new Map),this._internalState.size>vce&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,vce))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function Rce(t){return new Ice(t)}var Oce=Ce(()=>{l();Cce()});var fC,Nce=Ce(()=>{l();mS();fC=hc.getInstance()});var iV,wce=Ce(()=>{l();Ad();iV=ln.instance()});var GXe,Pce,Mce=Ce(()=>{l();qG();GXe=function(){function t(){}return t.prototype.getMeter=function(e,r,o){return ZG},t}(),Pce=new GXe});var oV,xce,Bce=Ce(()=>{l();Mce();Td();Ad();oV="metrics",xce=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return Gs(oV,e,ln.instance())},t.prototype.getMeterProvider=function(){return Ti(oV)||Pce},t.prototype.getMeter=function(e,r,o){return this.getMeterProvider().getMeter(e,r,o)},t.prototype.disable=function(){Vs(oV,ln.instance())},t}()});var sV,Dce=Ce(()=>{l();Bce();sV=xce.getInstance()});var Lce,Uce=Ce(()=>{l();Lce=function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t}()});function uV(t){return t.getValue(aV)||void 0}function Gce(){return uV(hc.getInstance().active())}function Vce(t,e){return t.setValue(aV,e)}function Fce(t){return t.deleteValue(aV)}var aV,Hce=Ce(()=>{l();mS();gS();aV=Nh("OpenTelemetry Baggage Key")});var cV,VXe,kce,Wce=Ce(()=>{l();Td();Uce();YG();Hce();FG();Ad();cV="propagation",VXe=new Lce,kce=function(){function t(){this.createBaggage=rce,this.getBaggage=uV,this.getActiveBaggage=Gce,this.setBaggage=Vce,this.deleteBaggage=Fce}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return Gs(cV,e,ln.instance())},t.prototype.inject=function(e,r,o){return o===void 0&&(o=tC),this._getGlobalPropagator().inject(e,r,o)},t.prototype.extract=function(e,r,o){return o===void 0&&(o=eC),this._getGlobalPropagator().extract(e,r,o)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Vs(cV,ln.instance())},t.prototype._getGlobalPropagator=function(){return Ti(cV)||VXe},t}()});var pC,Zce=Ce(()=>{l();Wce();pC=kce.getInstance()});var lV,qce,Yce=Ce(()=>{l();Td();rV();aC();zG();Ad();lV="trace",qce=function(){function t(){this._proxyTracerProvider=new bS,this.wrapSpanContext=pce,this.isSpanContextValid=Mh,this.deleteSpan=dce,this.getSpan=oC,this.getActiveSpan=lce,this.getSpanContext=sC,this.setSpan=SS,this.setSpanContext=fce}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=Gs(lV,this._proxyTracerProvider,ln.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return Ti(lV)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Vs(lV,ln.instance()),this._proxyTracerProvider=new bS},t}()});var dV,jce=Ce(()=>{l();Yce();dV=qce.getInstance()});var K={};nT(K,{DiagConsoleLogger:()=>ice,DiagLogLevel:()=>Zr,INVALID_SPANID:()=>yS,INVALID_SPAN_CONTEXT:()=>rC,INVALID_TRACEID:()=>_S,ProxyTracer:()=>cC,ProxyTracerProvider:()=>bS,ROOT_CONTEXT:()=>$I,SamplingDecision:()=>lC,SpanKind:()=>dC,SpanStatusCode:()=>Id,TraceFlags:()=>Ph,ValueType:()=>QI,baggageEntryMetadataFromString:()=>nce,context:()=>fC,createContextKey:()=>Nh,createNoopMeter:()=>sce,createTraceState:()=>Rce,default:()=>fV,defaultTextMapGetter:()=>eC,defaultTextMapSetter:()=>tC,diag:()=>iV,isSpanContextValid:()=>Mh,isValidSpanId:()=>$G,isValidTraceId:()=>JG,metrics:()=>sV,propagation:()=>pC,trace:()=>dV});var fV,j=Ce(()=>{l();FG();gS();oce();JI();qG();ace();YG();tV();rV();mce();yce();_ce();KG();Oce();aC();nC();Nce();wce();Dce();Zce();jce();fV={context:fC,diag:iV,metrics:sV,propagation:pC,trace:dV}});var ES=h(pV=>{l();Object.defineProperty(pV,"__esModule",{value:!0});var FXe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;pV.DEBUG_BUILD=FXe});var gV=h(hV=>{l();Object.defineProperty(hV,"__esModule",{value:!0});function HXe([t,e]){return t+e/1e9}hV.convertOtelTimeToSeconds=HXe});var Qa=h(so=>{l();Object.defineProperty(so,"__esModule",{value:!0});var Kce=new WeakMap,Xce=new WeakMap,zce=new WeakMap,Jce=new WeakMap,$ce=new WeakMap;function kXe(t,e){Kce.set(t,e)}function WXe(t){return Kce.get(t)}function ZXe(t,e){zce.set(t,e)}function qXe(t){return zce.get(t)}function YXe(t,e){Jce.set(t,e)}function jXe(t){return Jce.get(t)}function KXe(t,e){$ce.set(t,e)}function XXe(t){return $ce.get(t)}function zXe(t,e){Xce.set(t,e)}function JXe(t){return Xce.get(t)}so.getSpanFinishScope=JXe;so.getSpanHub=qXe;so.getSpanMetadata=XXe;so.getSpanParent=jXe;so.getSpanScope=WXe;so.setSpanFinishScope=zXe;so.setSpanHub=ZXe;so.setSpanMetadata=KXe;so.setSpanParent=YXe;so.setSpanScope=kXe});var gC=h(hC=>{l();Object.defineProperty(hC,"__esModule",{value:!0});var $Xe=(j(),Y(K)),Qce=Qa();function QXe(){return $Xe.trace.getActiveSpan()}function e8e(t){let e=t;for(;Qce.getSpanParent(e);)e=Qce.getSpanParent(e);return e}hC.getActiveSpan=QXe;hC.getRootSpan=e8e});var vS=h(_V=>{l();Object.defineProperty(_V,"__esModule",{value:!0});var t8e=Ue(),xh=z(),ele=ES(),Fs=Oh(),r8e=gV(),mV=gC(),n8e=Qa(),i8e=Ja(),yV=class t extends t8e.Scope{static clone(e){return e?e.clone():new t}clone(){let e=new t;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}getSpan(){ele.DEBUG_BUILD&&xh.logger.warn("Calling getSpan() is a noop in @sentry/opentelemetry. Use `getActiveSpan()` instead.")}setSpan(e){return ele.DEBUG_BUILD&&xh.logger.warn("Calling setSpan() is a noop in @sentry/opentelemetry. Use `startSpan()` instead."),this}addBreadcrumb(e,r){let o=this.activeSpan||mV.getActiveSpan(),s=o?mV.getRootSpan(o):void 0;if(s){let a={timestamp:xh.dateTimestampInSeconds(),...e};return s.addEvent(...s8e(a)),this}return this._addBreadcrumb(e,r)}getScopeData(){let e=super.getScopeData();return e.breadcrumbs=this._getBreadcrumbs(),e}_addBreadcrumb(e,r){return super.addBreadcrumb(e,r)}_getBreadcrumbs(){let e=this.activeSpan||mV.getActiveSpan(),r=e?o8e(e):[];return r.length>0?this._breadcrumbs.concat(r):this._breadcrumbs}};function o8e(t){return(t?tle(t):[]).map(u8e)}function s8e(t){let e=t.message||"<no message>",r=a8e(t.data);return[e,xh.dropUndefinedKeys({[Fs.InternalSentrySemanticAttributes.BREADCRUMB_TYPE]:t.type,[Fs.InternalSentrySemanticAttributes.BREADCRUMB_LEVEL]:t.level,[Fs.InternalSentrySemanticAttributes.BREADCRUMB_EVENT_ID]:t.event_id,[Fs.InternalSentrySemanticAttributes.BREADCRUMB_CATEGORY]:t.category,...r}),t.timestamp?new Date(t.timestamp*1e3):void 0]}function a8e(t){if(!(!t||Object.keys(t).length===0))try{let e=xh.normalize(t);return{[Fs.InternalSentrySemanticAttributes.BREADCRUMB_DATA]:JSON.stringify(e)}}catch{return}}function u8e(t){let e=t.attributes||{},r=e[Fs.InternalSentrySemanticAttributes.BREADCRUMB_TYPE],o=e[Fs.InternalSentrySemanticAttributes.BREADCRUMB_LEVEL],s=e[Fs.InternalSentrySemanticAttributes.BREADCRUMB_EVENT_ID],a=e[Fs.InternalSentrySemanticAttributes.BREADCRUMB_CATEGORY],i=e[Fs.InternalSentrySemanticAttributes.BREADCRUMB_DATA],n=xh.dropUndefinedKeys({timestamp:r8e.convertOtelTimeToSeconds(t.time),message:t.name,type:r,level:o,event_id:s,category:a});if(typeof i=="string")try{let u=JSON.parse(i);n.data=u}catch{}return n}function tle(t,e=[]){i8e.spanHasEvents(t)&&e.push(...t.events);let r=n8e.getSpanParent(t);return r?tle(r,e):e}_V.OpenTelemetryScope=yV});var rle=h(SV=>{l();var{_optionalChain:c8e}=z();Object.defineProperty(SV,"__esModule",{value:!0});var l8e=(j(),Y(K)),d8e=Ue(),f8e=vS();function p8e(t){class e extends t{constructor(...o){super(...o)}get tracer(){if(this._tracer)return this._tracer;let o="@sentry/opentelemetry",s=d8e.SDK_VERSION,a=l8e.trace.getTracer(o,s);return this._tracer=a,a}async flush(o){let s=this.traceProvider,a=c8e([s,"optionalAccess",i=>i.activeSpanProcessor]);return a&&await a.forceFlush(),super.flush(o)}_prepareEvent(o,s,a,i){let n=a;return s&&s.captureContext&&(n=h8e(a,s.captureContext),delete s.captureContext),super._prepareEvent(o,s,n)}}return e}function h8e(t,e){let r=t?t.clone():new f8e.OpenTelemetryScope;return r.update(e),r}SV.wrapClientClass=p8e});var EV=h(bV=>{l();Object.defineProperty(bV,"__esModule",{value:!0});var g8e=(j(),Y(K)),m8e=Ja();function y8e(t){return m8e.spanHasKind(t)?t.kind:g8e.SpanKind.INTERNAL}bV.getSpanKind=y8e});var vV=h(Bh=>{l();Object.defineProperty(Bh,"__esModule",{value:!0});var nle=(j(),Y(K)),_8e="sentry-trace",S8e="baggage",b8e=nle.createContextKey("SENTRY_PROPAGATION_CONTEXT_CONTEXT_KEY"),E8e=nle.createContextKey("sentry_hub");Bh.SENTRY_BAGGAGE_HEADER=S8e;Bh.SENTRY_HUB_CONTEXT_KEY=E8e;Bh.SENTRY_PROPAGATION_CONTEXT_CONTEXT_KEY=b8e;Bh.SENTRY_TRACE_HEADER=_8e});var Cd=h(Dh=>{l();Object.defineProperty(Dh,"__esModule",{value:!0});var mC=vV();function v8e(t){return t.getValue(mC.SENTRY_PROPAGATION_CONTEXT_CONTEXT_KEY)}function T8e(t,e){return t.setValue(mC.SENTRY_PROPAGATION_CONTEXT_CONTEXT_KEY,e)}function A8e(t){return t.getValue(mC.SENTRY_HUB_CONTEXT_KEY)}function I8e(t,e){return t.setValue(mC.SENTRY_HUB_CONTEXT_KEY,e)}Dh.getHubFromContext=A8e;Dh.getPropagationContextFromContext=v8e;Dh.setHubOnContext=I8e;Dh.setPropagationContextOnContext=T8e});var ole=h(TV=>{l();Object.defineProperty(TV,"__esModule",{value:!0});var C8e=cn(),ile=Ue(),R8e=Ja();function O8e(t){if(!R8e.spanHasAttributes(t))return!1;let{attributes:e}=t,r=e[C8e.SemanticAttributes.HTTP_URL];return r?ile.isSentryRequestUrl(r.toString(),ile.getClient()):!1}TV.isSentryRequestSpan=O8e});var TS=h(mc=>{"use strict";l();Object.defineProperty(mc,"__esModule",{value:!0});mc.isTracingSuppressed=mc.unsuppressTracing=mc.suppressTracing=void 0;var N8e=(j(),Y(K)),AV=(0,N8e.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function w8e(t){return t.setValue(AV,!0)}mc.suppressTracing=w8e;function P8e(t){return t.deleteValue(AV)}mc.unsuppressTracing=P8e;function M8e(t){return t.getValue(AV)===!0}mc.isTracingSuppressed=M8e});var IV=h(dn=>{"use strict";l();Object.defineProperty(dn,"__esModule",{value:!0});dn.BAGGAGE_MAX_TOTAL_LENGTH=dn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=dn.BAGGAGE_MAX_NAME_VALUE_PAIRS=dn.BAGGAGE_HEADER=dn.BAGGAGE_ITEMS_SEPARATOR=dn.BAGGAGE_PROPERTIES_SEPARATOR=dn.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;dn.BAGGAGE_KEY_PAIR_SEPARATOR="=";dn.BAGGAGE_PROPERTIES_SEPARATOR=";";dn.BAGGAGE_ITEMS_SEPARATOR=",";dn.BAGGAGE_HEADER="baggage";dn.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;dn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;dn.BAGGAGE_MAX_TOTAL_LENGTH=8192});var CV=h(Hs=>{"use strict";l();Object.defineProperty(Hs,"__esModule",{value:!0});Hs.parseKeyPairsIntoRecord=Hs.parsePairKeyValue=Hs.getKeyPairs=Hs.serializeKeyPairs=void 0;var x8e=(j(),Y(K)),Rd=IV();function B8e(t){return t.reduce((e,r)=>{let o=`${e}${e!==""?Rd.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return o.length>Rd.BAGGAGE_MAX_TOTAL_LENGTH?e:o},"")}Hs.serializeKeyPairs=B8e;function D8e(t){return t.getAllEntries().map(([e,r])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(o+=Rd.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),o})}Hs.getKeyPairs=D8e;function sle(t){let e=t.split(Rd.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let r=e.shift();if(!r)return;let o=r.indexOf(Rd.BAGGAGE_KEY_PAIR_SEPARATOR);if(o<=0)return;let s=decodeURIComponent(r.substring(0,o).trim()),a=decodeURIComponent(r.substring(o+1).trim()),i;return e.length>0&&(i=(0,x8e.baggageEntryMetadataFromString)(e.join(Rd.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:a,metadata:i}}Hs.parsePairKeyValue=sle;function L8e(t){return typeof t!="string"||t.length===0?{}:t.split(Rd.BAGGAGE_ITEMS_SEPARATOR).map(e=>sle(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,r)=>(e[r.key]=r.value,e),{})}Hs.parseKeyPairsIntoRecord=L8e});var ale=h(yC=>{"use strict";l();Object.defineProperty(yC,"__esModule",{value:!0});yC.W3CBaggagePropagator=void 0;var RV=(j(),Y(K)),U8e=TS(),Od=IV(),OV=CV(),NV=class{inject(e,r,o){let s=RV.propagation.getBaggage(e);if(!s||(0,U8e.isTracingSuppressed)(e))return;let a=(0,OV.getKeyPairs)(s).filter(n=>n.length<=Od.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Od.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,OV.serializeKeyPairs)(a);i.length>0&&o.set(r,Od.BAGGAGE_HEADER,i)}extract(e,r,o){let s=o.get(r,Od.BAGGAGE_HEADER),a=Array.isArray(s)?s.join(Od.BAGGAGE_ITEMS_SEPARATOR):s;if(!a)return e;let i={};return a.length===0||(a.split(Od.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,OV.parsePairKeyValue)(u);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),i[c.key]=d}}),Object.entries(i).length===0)?e:RV.propagation.setBaggage(e,RV.propagation.createBaggage(i))}fields(){return[Od.BAGGAGE_HEADER]}};yC.W3CBaggagePropagator=NV});var ule=h(_C=>{"use strict";l();Object.defineProperty(_C,"__esModule",{value:!0});_C.AnchoredClock=void 0;var wV=class{constructor(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};_C.AnchoredClock=wV});var ple=h(yc=>{"use strict";l();Object.defineProperty(yc,"__esModule",{value:!0});yc.isAttributeValue=yc.isAttributeKey=yc.sanitizeAttributes=void 0;var cle=(j(),Y(K));function G8e(t){let e={};if(typeof t!="object"||t==null)return e;for(let[r,o]of Object.entries(t)){if(!lle(r)){cle.diag.warn(`Invalid attribute key: ${r}`);continue}if(!dle(o)){cle.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(o)?e[r]=o.slice():e[r]=o}return e}yc.sanitizeAttributes=G8e;function lle(t){return typeof t=="string"&&t.length>0}yc.isAttributeKey=lle;function dle(t){return t==null?!0:Array.isArray(t)?V8e(t):fle(t)}yc.isAttributeValue=dle;function V8e(t){let e;for(let r of t)if(r!=null){if(!e){if(fle(r)){e=typeof r;continue}return!1}if(typeof r!==e)return!1}return!0}function fle(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}});var PV=h(SC=>{"use strict";l();Object.defineProperty(SC,"__esModule",{value:!0});SC.loggingErrorHandler=void 0;var F8e=(j(),Y(K));function H8e(){return t=>{F8e.diag.error(k8e(t))}}SC.loggingErrorHandler=H8e;function k8e(t){return typeof t=="string"?t:JSON.stringify(W8e(t))}function W8e(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(o=>{if(e[o])return;let s=r[o];s&&(e[o]=String(s))}),r=Object.getPrototypeOf(r);return e}});var MV=h(Lh=>{"use strict";l();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.globalErrorHandler=Lh.setGlobalErrorHandler=void 0;var Z8e=PV(),hle=(0,Z8e.loggingErrorHandler)();function q8e(t){hle=t}Lh.setGlobalErrorHandler=q8e;function Y8e(t){try{hle(t)}catch{}}Lh.globalErrorHandler=Y8e});var xV=h(AS=>{"use strict";l();Object.defineProperty(AS,"__esModule",{value:!0});AS.TracesSamplerValues=void 0;var j8e;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(j8e=AS.TracesSamplerValues||(AS.TracesSamplerValues={}))});var gle=h(bC=>{"use strict";l();Object.defineProperty(bC,"__esModule",{value:!0});bC._globalThis=void 0;bC._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var DV=h(Ft=>{"use strict";l();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.getEnvWithoutDefaults=Ft.parseEnvironment=Ft.DEFAULT_ENVIRONMENT=Ft.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=Ft.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=Ft.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Ft.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var _c=(j(),Y(K)),K8e=xV(),X8e=gle(),z8e=",",J8e=["OTEL_SDK_DISABLED"];function $8e(t){return J8e.indexOf(t)>-1}var Q8e=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function eze(t){return Q8e.indexOf(t)>-1}var tze=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function rze(t){return tze.indexOf(t)>-1}Ft.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Ft.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Ft.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;Ft.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;Ft.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:_c.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ft.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Ft.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ft.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Ft.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ft.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Ft.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Ft.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Ft.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:K8e.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function nze(t,e,r){if(typeof r[t]>"u")return;let o=String(r[t]);e[t]=o.toLowerCase()==="true"}function ize(t,e,r,o=-1/0,s=1/0){if(typeof r[t]<"u"){let a=Number(r[t]);isNaN(a)||(a<o?e[t]=o:a>s?e[t]=s:e[t]=a)}}function oze(t,e,r,o=z8e){let s=r[t];typeof s=="string"&&(e[t]=s.split(o).map(a=>a.trim()))}var sze={ALL:_c.DiagLogLevel.ALL,VERBOSE:_c.DiagLogLevel.VERBOSE,DEBUG:_c.DiagLogLevel.DEBUG,INFO:_c.DiagLogLevel.INFO,WARN:_c.DiagLogLevel.WARN,ERROR:_c.DiagLogLevel.ERROR,NONE:_c.DiagLogLevel.NONE};function aze(t,e,r){let o=r[t];if(typeof o=="string"){let s=sze[o.toUpperCase()];s!=null&&(e[t]=s)}}function BV(t){let e={};for(let r in Ft.DEFAULT_ENVIRONMENT){let o=r;switch(o){case"OTEL_LOG_LEVEL":aze(o,e,t);break;default:if($8e(o))nze(o,e,t);else if(eze(o))ize(o,e,t);else if(rze(o))oze(o,e,t);else{let s=t[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}Ft.parseEnvironment=BV;function uze(){return typeof process<"u"&&process&&process.env?BV(process.env):BV(X8e._globalThis)}Ft.getEnvWithoutDefaults=uze});var yle=h(EC=>{"use strict";l();Object.defineProperty(EC,"__esModule",{value:!0});EC.getEnv=void 0;var mle=DV();function cze(){let t=(0,mle.parseEnvironment)(process.env);return Object.assign({},mle.DEFAULT_ENVIRONMENT,t)}EC.getEnv=cze});var _le=h(vC=>{"use strict";l();Object.defineProperty(vC,"__esModule",{value:!0});vC._globalThis=void 0;vC._globalThis=typeof globalThis=="object"?globalThis:global});var LV=h(TC=>{"use strict";l();Object.defineProperty(TC,"__esModule",{value:!0});TC.hexToBinary=void 0;function Sle(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function lze(t){let e=new Uint8Array(t.length/2),r=0;for(let o=0;o<t.length;o+=2){let s=Sle(t.charCodeAt(o)),a=Sle(t.charCodeAt(o+1));e[r++]=s<<4|a}return e}TC.hexToBinary=lze});var ble=h(AC=>{"use strict";l();Object.defineProperty(AC,"__esModule",{value:!0});AC.hexToBase64=void 0;var dze=LV();function fze(t){return Buffer.from((0,dze.hexToBinary)(t)).toString("base64")}AC.hexToBase64=fze});var Tle=h(CC=>{"use strict";l();Object.defineProperty(CC,"__esModule",{value:!0});CC.RandomIdGenerator=void 0;var pze=8,vle=16,UV=class{constructor(){this.generateTraceId=Ele(vle),this.generateSpanId=Ele(pze)}};CC.RandomIdGenerator=UV;var IC=Buffer.allocUnsafe(vle);function Ele(t){return function(){for(let r=0;r<t/4;r++)IC.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(IC[r]>0);r++)r===t-1&&(IC[t-1]=1);return IC.toString("hex",0,t)}}});var Ale=h(RC=>{"use strict";l();Object.defineProperty(RC,"__esModule",{value:!0});RC.otperformance=void 0;var hze=require("perf_hooks");RC.otperformance=hze.performance});var GV=h(OC=>{"use strict";l();Object.defineProperty(OC,"__esModule",{value:!0});OC.VERSION=void 0;OC.VERSION="1.22.0"});var Ile=h(NC=>{"use strict";l();Object.defineProperty(NC,"__esModule",{value:!0});NC.SDK_INFO=void 0;var gze=GV(),IS=cn();NC.SDK_INFO={[IS.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[IS.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[IS.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:IS.TelemetrySdkLanguageValues.NODEJS,[IS.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:gze.VERSION}});var Cle=h(wC=>{"use strict";l();Object.defineProperty(wC,"__esModule",{value:!0});wC.unrefTimer=void 0;function mze(t){t.unref()}wC.unrefTimer=mze});var Rle=h(Ai=>{"use strict";l();var yze=Ai&&Ai.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Nd=Ai&&Ai.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yze(e,t,r)};Object.defineProperty(Ai,"__esModule",{value:!0});Nd(yle(),Ai);Nd(_le(),Ai);Nd(ble(),Ai);Nd(Tle(),Ai);Nd(Ale(),Ai);Nd(Ile(),Ai);Nd(Cle(),Ai)});var VV=h(wd=>{"use strict";l();var _ze=wd&&wd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Sze=wd&&wd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_ze(e,t,r)};Object.defineProperty(wd,"__esModule",{value:!0});Sze(Rle(),wd)});var Ple=h(xt=>{"use strict";l();Object.defineProperty(xt,"__esModule",{value:!0});xt.addHrTimes=xt.isTimeInput=xt.isTimeInputHrTime=xt.hrTimeToMicroseconds=xt.hrTimeToMilliseconds=xt.hrTimeToNanoseconds=xt.hrTimeToTimeStamp=xt.hrTimeDuration=xt.timeInputToHrTime=xt.hrTime=xt.getTimeOrigin=xt.millisToHrTime=void 0;var FV=VV(),Ole=9,bze=6,Eze=Math.pow(10,bze),PC=Math.pow(10,Ole);function CS(t){let e=t/1e3,r=Math.trunc(e),o=Math.round(t%1e3*Eze);return[r,o]}xt.millisToHrTime=CS;function HV(){let t=FV.otperformance.timeOrigin;if(typeof t!="number"){let e=FV.otperformance;t=e.timing&&e.timing.fetchStart}return t}xt.getTimeOrigin=HV;function Nle(t){let e=CS(HV()),r=CS(typeof t=="number"?t:FV.otperformance.now());return wle(e,r)}xt.hrTime=Nle;function vze(t){if(kV(t))return t;if(typeof t=="number")return t<HV()?Nle(t):CS(t);if(t instanceof Date)return CS(t.getTime());throw TypeError("Invalid input type")}xt.timeInputToHrTime=vze;function Tze(t,e){let r=e[0]-t[0],o=e[1]-t[1];return o<0&&(r-=1,o+=PC),[r,o]}xt.hrTimeDuration=Tze;function Aze(t){let e=Ole,r=`${"0".repeat(e)}${t[1]}Z`,o=r.substr(r.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",o)}xt.hrTimeToTimeStamp=Aze;function Ize(t){return t[0]*PC+t[1]}xt.hrTimeToNanoseconds=Ize;function Cze(t){return t[0]*1e3+t[1]/1e6}xt.hrTimeToMilliseconds=Cze;function Rze(t){return t[0]*1e6+t[1]/1e3}xt.hrTimeToMicroseconds=Rze;function kV(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}xt.isTimeInputHrTime=kV;function Oze(t){return kV(t)||typeof t=="number"||t instanceof Date}xt.isTimeInput=Oze;function wle(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=PC&&(r[1]-=PC,r[0]+=1),r}xt.addHrTimes=wle});var xle=h(Mle=>{"use strict";l();Object.defineProperty(Mle,"__esModule",{value:!0})});var Ble=h(RS=>{"use strict";l();Object.defineProperty(RS,"__esModule",{value:!0});RS.ExportResultCode=void 0;var Nze;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(Nze=RS.ExportResultCode||(RS.ExportResultCode={}))});var Lle=h(MC=>{"use strict";l();Object.defineProperty(MC,"__esModule",{value:!0});MC.CompositePropagator=void 0;var Dle=(j(),Y(K)),WV=class{constructor(e={}){var r;this._propagators=(r=e.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,r,o){for(let s of this._propagators)try{s.inject(e,r,o)}catch(a){Dle.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,r,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,r,o)}catch(i){Dle.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}};MC.CompositePropagator=WV});var Ule=h(Uh=>{"use strict";l();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.validateValue=Uh.validateKey=void 0;var ZV="[_0-9a-z-*/]",wze=`[a-z]${ZV}{0,255}`,Pze=`[a-z0-9]${ZV}{0,240}@[a-z]${ZV}{0,13}`,Mze=new RegExp(`^(?:${wze}|${Pze})$`),xze=/^[ -~]{0,255}[!-~]$/,Bze=/,|=/;function Dze(t){return Mze.test(t)}Uh.validateKey=Dze;function Lze(t){return xze.test(t)&&!Bze.test(t)}Uh.validateValue=Lze});var YV=h(xC=>{"use strict";l();Object.defineProperty(xC,"__esModule",{value:!0});xC.TraceState=void 0;var Gle=Ule(),Vle=32,Uze=512,Fle=",",Hle="=",qV=class t{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,r){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,r),o}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+Hle+this.get(r)),e),[]).join(Fle)}_parse(e){e.length>Uze||(this._internalState=e.split(Fle).reverse().reduce((r,o)=>{let s=o.trim(),a=s.indexOf(Hle);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);(0,Gle.validateKey)(i)&&(0,Gle.validateValue)(n)&&r.set(i,n)}return r},new Map),this._internalState.size>Vle&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Vle))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};xC.TraceState=qV});var Wle=h(fn=>{"use strict";l();Object.defineProperty(fn,"__esModule",{value:!0});fn.W3CTraceContextPropagator=fn.parseTraceParent=fn.TRACE_STATE_HEADER=fn.TRACE_PARENT_HEADER=void 0;var BC=(j(),Y(K)),Gze=TS(),Vze=YV();fn.TRACE_PARENT_HEADER="traceparent";fn.TRACE_STATE_HEADER="tracestate";var Fze="00",Hze="(?!ff)[\\da-f]{2}",kze="(?![0]{32})[\\da-f]{32}",Wze="(?![0]{16})[\\da-f]{16}",Zze="[\\da-f]{2}",qze=new RegExp(`^\\s?(${Hze})-(${kze})-(${Wze})-(${Zze})(-.*)?\\s?$`);function kle(t){let e=qze.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}fn.parseTraceParent=kle;var jV=class{inject(e,r,o){let s=BC.trace.getSpanContext(e);if(!s||(0,Gze.isTracingSuppressed)(e)||!(0,BC.isSpanContextValid)(s))return;let a=`${Fze}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||BC.TraceFlags.NONE).toString(16)}`;o.set(r,fn.TRACE_PARENT_HEADER,a),s.traceState&&o.set(r,fn.TRACE_STATE_HEADER,s.traceState.serialize())}extract(e,r,o){let s=o.get(r,fn.TRACE_PARENT_HEADER);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=kle(a);if(!i)return e;i.isRemote=!0;let n=o.get(r,fn.TRACE_STATE_HEADER);if(n){let u=Array.isArray(n)?n.join(","):n;i.traceState=new Vze.TraceState(typeof u=="string"?u:void 0)}return BC.trace.setSpanContext(e,i)}fields(){return[fn.TRACE_PARENT_HEADER,fn.TRACE_STATE_HEADER]}};fn.W3CTraceContextPropagator=jV});var qle=h(Zle=>{"use strict";l();Object.defineProperty(Zle,"__esModule",{value:!0})});var Yle=h(Zo=>{"use strict";l();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.getRPCMetadata=Zo.deleteRPCMetadata=Zo.setRPCMetadata=Zo.RPCType=void 0;var Yze=(j(),Y(K)),KV=(0,Yze.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),jze;(function(t){t.HTTP="http"})(jze=Zo.RPCType||(Zo.RPCType={}));function Kze(t,e){return t.setValue(KV,e)}Zo.setRPCMetadata=Kze;function Xze(t){return t.deleteValue(KV)}Zo.deleteRPCMetadata=Xze;function zze(t){return t.getValue(KV)}Zo.getRPCMetadata=zze});var zV=h(DC=>{"use strict";l();Object.defineProperty(DC,"__esModule",{value:!0});DC.AlwaysOffSampler=void 0;var Jze=(j(),Y(K)),XV=class{shouldSample(){return{decision:Jze.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};DC.AlwaysOffSampler=XV});var $V=h(LC=>{"use strict";l();Object.defineProperty(LC,"__esModule",{value:!0});LC.AlwaysOnSampler=void 0;var $ze=(j(),Y(K)),JV=class{shouldSample(){return{decision:$ze.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};LC.AlwaysOnSampler=JV});var Kle=h(GC=>{"use strict";l();Object.defineProperty(GC,"__esModule",{value:!0});GC.ParentBasedSampler=void 0;var UC=(j(),Y(K)),Qze=MV(),jle=zV(),QV=$V(),eF=class{constructor(e){var r,o,s,a;this._root=e.root,this._root||((0,Qze.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new QV.AlwaysOnSampler),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new QV.AlwaysOnSampler,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new jle.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new QV.AlwaysOnSampler,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new jle.AlwaysOffSampler}shouldSample(e,r,o,s,a,i){let n=UC.trace.getSpanContext(e);return!n||!(0,UC.isSpanContextValid)(n)?this._root.shouldSample(e,r,o,s,a,i):n.isRemote?n.traceFlags&UC.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,r,o,s,a,i):n.traceFlags&UC.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,o,s,a,i):this._localParentNotSampled.shouldSample(e,r,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};GC.ParentBasedSampler=eF});var Xle=h(VC=>{"use strict";l();Object.defineProperty(VC,"__esModule",{value:!0});VC.TraceIdRatioBasedSampler=void 0;var tF=(j(),Y(K)),rF=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:(0,tF.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?tF.SamplingDecision.RECORD_AND_SAMPLED:tF.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);r=(r^a)>>>0}return r}};VC.TraceIdRatioBasedSampler=rF});var ede=h(FC=>{"use strict";l();Object.defineProperty(FC,"__esModule",{value:!0});FC.isPlainObject=void 0;var eJe="[object Object]",tJe="[object Null]",rJe="[object Undefined]",nJe=Function.prototype,zle=nJe.toString,iJe=zle.call(Object),oJe=sJe(Object.getPrototypeOf,Object),Jle=Object.prototype,$le=Jle.hasOwnProperty,Pd=Symbol?Symbol.toStringTag:void 0,Qle=Jle.toString;function sJe(t,e){return function(r){return t(e(r))}}function aJe(t){if(!uJe(t)||cJe(t)!==eJe)return!1;let e=oJe(t);if(e===null)return!0;let r=$le.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&zle.call(r)===iJe}FC.isPlainObject=aJe;function uJe(t){return t!=null&&typeof t=="object"}function cJe(t){return t==null?t===void 0?rJe:tJe:Pd&&Pd in Object(t)?lJe(t):dJe(t)}function lJe(t){let e=$le.call(t,Pd),r=t[Pd],o=!1;try{t[Pd]=void 0,o=!0}catch{}let s=Qle.call(t);return o&&(e?t[Pd]=r:delete t[Pd]),s}function dJe(t){return Qle.call(t)}});var ode=h(WC=>{"use strict";l();Object.defineProperty(WC,"__esModule",{value:!0});WC.merge=void 0;var tde=ede(),fJe=20;function pJe(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=nde(e,t.shift(),0,r);return e}WC.merge=pJe;function nF(t){return kC(t)?t.slice():t}function nde(t,e,r=0,o){let s;if(!(r>fJe)){if(r++,HC(t)||HC(e)||ide(e))s=nF(e);else if(kC(t)){if(s=t.slice(),kC(e))for(let a=0,i=e.length;a<i;a++)s.push(nF(e[a]));else if(OS(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let u=a[i];s[u]=nF(e[u])}}}else if(OS(t))if(OS(e)){if(!hJe(t,e))return e;s=Object.assign({},t);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let u=a[i],c=e[u];if(HC(c))typeof c>"u"?delete s[u]:s[u]=c;else{let d=s[u],f=c;if(rde(t,u,o)||rde(e,u,o))delete s[u];else{if(OS(d)&&OS(f)){let g=o.get(d)||[],y=o.get(f)||[];g.push({obj:t,key:u}),y.push({obj:e,key:u}),o.set(d,g),o.set(f,y)}s[u]=nde(s[u],c,r,o)}}}}else s=e;return s}}function rde(t,e,r){let o=r.get(t[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===t)return!0}return!1}function kC(t){return Array.isArray(t)}function ide(t){return typeof t=="function"}function OS(t){return!HC(t)&&!kC(t)&&!ide(t)&&typeof t=="object"}function HC(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function hJe(t,e){return!(!(0,tde.isPlainObject)(t)||!(0,tde.isPlainObject)(e))}});var sde=h(Gh=>{"use strict";l();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.callWithTimeout=Gh.TimeoutError=void 0;var ZC=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Gh.TimeoutError=ZC;function gJe(t,e){let r,o=new Promise(function(a,i){r=setTimeout(function(){i(new ZC("Operation timed out."))},e)});return Promise.race([t,o]).then(s=>(clearTimeout(r),s),s=>{throw clearTimeout(r),s})}Gh.callWithTimeout=gJe});var ude=h(Vh=>{"use strict";l();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.isUrlIgnored=Vh.urlMatches=void 0;function ade(t,e){return typeof e=="string"?t===e:!!t.match(e)}Vh.urlMatches=ade;function mJe(t,e){if(!e)return!1;for(let r of e)if(ade(t,r))return!0;return!1}Vh.isUrlIgnored=mJe});var cde=h(qC=>{"use strict";l();Object.defineProperty(qC,"__esModule",{value:!0});qC.isWrapped=void 0;function yJe(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}qC.isWrapped=yJe});var lde=h(YC=>{"use strict";l();Object.defineProperty(YC,"__esModule",{value:!0});YC.Deferred=void 0;var iF=class{constructor(){this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};YC.Deferred=iF});var dde=h(jC=>{"use strict";l();Object.defineProperty(jC,"__esModule",{value:!0});jC.BindOnceFuture=void 0;var _Je=lde(),oF=class{constructor(e,r){this._callback=e,this._that=r,this._isCalled=!1,this._deferred=new _Je.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};jC.BindOnceFuture=oF});var pde=h(KC=>{"use strict";l();Object.defineProperty(KC,"__esModule",{value:!0});KC._export=void 0;var fde=(j(),Y(K)),SJe=TS();function bJe(t,e){return new Promise(r=>{fde.context.with((0,SJe.suppressTracing)(fde.context.active()),()=>{t.export(e,o=>{r(o)})})})}KC._export=bJe});var qr=h(tt=>{"use strict";l();var EJe=tt&&tt.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),At=tt&&tt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&EJe(e,t,r)};Object.defineProperty(tt,"__esModule",{value:!0});tt.internal=tt.baggageUtils=void 0;At(ale(),tt);At(ule(),tt);At(ple(),tt);At(MV(),tt);At(PV(),tt);At(Ple(),tt);At(xle(),tt);At(LV(),tt);At(Ble(),tt);tt.baggageUtils=CV();At(VV(),tt);At(Lle(),tt);At(Wle(),tt);At(qle(),tt);At(Yle(),tt);At(zV(),tt);At($V(),tt);At(Kle(),tt);At(Xle(),tt);At(TS(),tt);At(YV(),tt);At(DV(),tt);At(ode(),tt);At(xV(),tt);At(sde(),tt);At(ude(),tt);At(cde(),tt);At(dde(),tt);At(GV(),tt);var vJe=pde();tt.internal={_export:vJe._export}});var Bd=h(xd=>{l();Object.defineProperty(xd,"__esModule",{value:!0});var TJe=Ue(),XC=z(),AJe=vS(),Md=class extends TJe.Hub{constructor(e,r=new AJe.OpenTelemetryScope){super(e,r)}};function IJe(){return hde().getClient()}var CJe=4;function hde(){let t=aF();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return gde(t)}function RJe(){let t=aF();gde(t)instanceof Md||mde(t,new Md)}function sF(t){return XC.getGlobalSingleton("hub",()=>new Md,t)}function gde(t=aF()){return(!OJe(t)||sF(t).isOlderThan(CJe))&&mde(t,new Md),sF(t)}function OJe(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function aF(){return XC.GLOBAL_OBJ.__SENTRY__=XC.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},XC.GLOBAL_OBJ}function mde(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}xd.OpenTelemetryHub=Md;xd.getClient=IJe;xd.getCurrentHub=hde;xd.getHubFromCarrier=sF;xd.setupGlobalHub=RJe});var yde=h(NS=>{l();Object.defineProperty(NS,"__esModule",{value:!0});var eu=(j(),Y(K)),cF=qr(),lF=Ue(),NJe=Bd(),uF=Oh(),wJe=Qa();function PJe(t,e){let r=dF(),{name:o}=t,s=eu.context.active(),i=t.onlyIfParent&&!eu.trace.getSpan(s)?cF.suppressTracing(s):s;return r.startActiveSpan(o,t,i,n=>(fF(n,t),lF.handleCallbackErrors(()=>e(n),()=>{n.setStatus({code:eu.SpanStatusCode.ERROR})},()=>n.end())))}function MJe(t,e){let r=dF(),{name:o}=t,s=eu.context.active(),i=t.onlyIfParent&&!eu.trace.getSpan(s)?cF.suppressTracing(s):s;return r.startActiveSpan(o,t,i,n=>(fF(n,t),lF.handleCallbackErrors(()=>e(n),()=>{n.setStatus({code:eu.SpanStatusCode.ERROR})})))}function xJe(t){let e=dF(),{name:r}=t,o=eu.context.active(),a=t.onlyIfParent&&!eu.trace.getSpan(o)?cF.suppressTracing(o):o,i=e.startSpan(r,t,a);return fF(i,t),i}function dF(){let t=NJe.getClient();return t&&t.tracer||eu.trace.getTracer("@sentry/opentelemetry",lF.SDK_VERSION)}function fF(t,e){let{origin:r,op:o,source:s,metadata:a}=e;r&&t.setAttribute(uF.InternalSentrySemanticAttributes.ORIGIN,r),o&&t.setAttribute(uF.InternalSentrySemanticAttributes.OP,o),s&&t.setAttribute(uF.InternalSentrySemanticAttributes.SOURCE,s),a&&wJe.setSpanMetadata(t,a)}NS.startInactiveSpan=xJe;NS.startSpan=PJe;NS.startSpanManual=MJe});var bde=h(pF=>{l();Object.defineProperty(pF,"__esModule",{value:!0});var _de=Ue(),BJe=z();function DJe(){_de.addTracingExtensions();let t=_de.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction!==Sde&&(t.__SENTRY__.extensions.startTransaction=Sde))}function Sde(t,e){return BJe.consoleSandbox(()=>{console.warn("startTransaction is a noop in @sentry/opentelemetry. Use `startSpan` instead.")}),{}}pF.addTracingExtensions=DJe});var Ede=h(hF=>{l();Object.defineProperty(hF,"__esModule",{value:!0});var LJe=gC(),UJe=Ja();function GJe(t){t.addEventProcessor&&t.addEventProcessor(e=>{let r=LJe.getActiveSpan();if(!r)return e;let o=r.spanContext();return e.contexts={trace:{trace_id:o.traceId,span_id:o.spanId,parent_span_id:UJe.spanHasParentId(r)?r.parentSpanId:void 0},...e.contexts},e})}hF.setupEventContextTrace=GJe});var vde=h(mF=>{l();var{_optionalChain:VJe}=z();Object.defineProperty(mF,"__esModule",{value:!0});var gF=(j(),Y(K)),FJe=Ue(),HJe=Cd();function kJe(){function t(){let r=gF.context.active();return HJe.getHubFromContext(r)}function e(r,o){if(t()&&VJe([o,"optionalAccess",i=>i.reuseExisting]))return r();let a=gF.context.active();return gF.context.with(a,()=>r())}FJe.setAsyncContextStrategy({getCurrentHub:t,runWithAsyncContext:e})}mF.setOpenTelemetryContextAsyncContextStrategy=kJe});var Ade=h(yF=>{l();Object.defineProperty(yF,"__esModule",{value:!0});var WJe=Ue(),Tde=Bd(),ZJe=Cd();function qJe(t){let e={};return WJe.ensureHubOnCarrier(e,t),Tde.getHubFromCarrier(e)}function YJe(t){class e extends t{with(o,s,a,...i){let n=Tde.getCurrentHub(),u=qJe(n);return super.with(ZJe.setHubOnContext(o,u),s,a,...i)}}return e}yF.wrapContextManagerClass=YJe});var Rde=h(EF=>{l();var{_optionalChain:_F}=z();Object.defineProperty(EF,"__esModule",{value:!0});var tu=(j(),Y(K)),Ide=qr(),jJe=Ue(),SF=z(),wS=vV(),KJe=Bd(),Cde=Cd(),XJe=Qa(),bF=class extends Ide.W3CBaggagePropagator{inject(e,r,o){if(Ide.isTracingSuppressed(e))return;let s=tu.propagation.getBaggage(e)||tu.propagation.createBaggage({}),a=Cde.getPropagationContextFromContext(e),{spanId:i,traceId:n,sampled:u}=JJe(e,a),c=a?zJe(e,a,n):void 0;c&&(s=Object.entries(c).reduce((d,[f,g])=>g?d.setEntry(`${SF.SENTRY_BAGGAGE_KEY_PREFIX}${f}`,{value:g}):d,s)),o.set(r,wS.SENTRY_TRACE_HEADER,SF.generateSentryTraceHeader(n,i,u)),super.inject(tu.propagation.setBaggage(e,s),r,o)}extract(e,r,o){let s=o.get(r,wS.SENTRY_TRACE_HEADER),a=o.get(r,wS.SENTRY_BAGGAGE_HEADER),i=s?Array.isArray(s)?s[0]:s:void 0,n=SF.propagationContextFromHeaders(i,a),u=Cde.setPropagationContextOnContext(e,n),c={traceId:n.traceId,spanId:n.parentSpanId||"",isRemote:!0,traceFlags:n.sampled===!0?tu.TraceFlags.SAMPLED:tu.TraceFlags.NONE};return tu.trace.setSpanContext(u,c)}fields(){return[wS.SENTRY_TRACE_HEADER,wS.SENTRY_BAGGAGE_HEADER]}};function zJe(t,e,r){if(e.dsc)return e.dsc;let o=KJe.getClient(),s=tu.trace.getSpan(t),a=s?XJe.getSpanScope(s):void 0;if(o)return jJe.getDynamicSamplingContextFromClient(r||e.traceId,o,a)}function JJe(t,e){let r=tu.trace.getSpan(t),o=r&&r.spanContext(),s=o?o.traceId:_F([e,"optionalAccess",n=>n.traceId]),a=o&&!o.isRemote?o.spanId:_F([e,"optionalAccess",n=>n.spanId]),i=o?!!(o.traceFlags&tu.TraceFlags.SAMPLED):_F([e,"optionalAccess",n=>n.sampled]);return{traceId:s,spanId:a,sampled:i}}EF.SentryPropagator=bF});var Ode=h(zC=>{"use strict";l();Object.defineProperty(zC,"__esModule",{value:!0});zC.ExceptionEventName=void 0;zC.ExceptionEventName="exception"});var TF=h(JC=>{"use strict";l();Object.defineProperty(JC,"__esModule",{value:!0});JC.Span=void 0;var qo=(j(),Y(K)),pn=qr(),Dd=cn(),$Je=Ode(),vF=class{constructor(e,r,o,s,a,i,n=[],u,c,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:qo.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=s,this.parentSpanId=i,this.kind=a,this.links=n;let f=Date.now();this._performanceStartTime=pn.otperformance.now(),this._performanceOffset=f-(this._performanceStartTime+(0,pn.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??f),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(e,r){return r==null||this._isSpanEnded()?this:e.length===0?(qo.diag.warn(`Invalid attribute key: ${e}`),this):(0,pn.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this):(qo.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[r,o]of Object.entries(e))this.setAttribute(r,o);return this}addEvent(e,r,o){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return qo.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&qo.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,pn.isTimeInput)(r)&&((0,pn.isTimeInput)(o)||(o=r),r=void 0);let s=(0,pn.sanitizeAttributes)(r);return this.events.push({name:e,attributes:s,time:this._getTime(o),droppedAttributesCount:0}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){qo.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,pn.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(qo.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&qo.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<pn.otperformance.now())return(0,pn.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,pn.millisToHrTime)(e);if(e instanceof Date)return(0,pn.millisToHrTime)(e.getTime());if((0,pn.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,pn.millisToHrTime)(Date.now());let r=pn.otperformance.now()-this._performanceStartTime;return(0,pn.addHrTimes)(this.startTime,(0,pn.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(e,r){let o={};typeof e=="string"?o[Dd.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?o[Dd.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(o[Dd.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(o[Dd.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(o[Dd.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),o[Dd.SemanticAttributes.EXCEPTION_TYPE]||o[Dd.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent($Je.ExceptionEventName,o,r):qo.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&qo.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substr(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(qo.diag.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,r):o):e}};JC.Span=vF});var MS=h(PS=>{"use strict";l();Object.defineProperty(PS,"__esModule",{value:!0});PS.SamplingDecision=void 0;var QJe;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(QJe=PS.SamplingDecision||(PS.SamplingDecision={}))});var QC=h($C=>{"use strict";l();Object.defineProperty($C,"__esModule",{value:!0});$C.AlwaysOffSampler=void 0;var e6e=MS(),AF=class{shouldSample(){return{decision:e6e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};$C.AlwaysOffSampler=AF});var t0=h(e0=>{"use strict";l();Object.defineProperty(e0,"__esModule",{value:!0});e0.AlwaysOnSampler=void 0;var t6e=MS(),IF=class{shouldSample(){return{decision:t6e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};e0.AlwaysOnSampler=IF});var OF=h(n0=>{"use strict";l();Object.defineProperty(n0,"__esModule",{value:!0});n0.ParentBasedSampler=void 0;var r0=(j(),Y(K)),r6e=qr(),Nde=QC(),CF=t0(),RF=class{constructor(e){var r,o,s,a;this._root=e.root,this._root||((0,r6e.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new CF.AlwaysOnSampler),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new CF.AlwaysOnSampler,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Nde.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new CF.AlwaysOnSampler,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Nde.AlwaysOffSampler}shouldSample(e,r,o,s,a,i){let n=r0.trace.getSpanContext(e);return!n||!(0,r0.isSpanContextValid)(n)?this._root.shouldSample(e,r,o,s,a,i):n.isRemote?n.traceFlags&r0.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,r,o,s,a,i):n.traceFlags&r0.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,o,s,a,i):this._localParentNotSampled.shouldSample(e,r,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};n0.ParentBasedSampler=RF});var wF=h(i0=>{"use strict";l();Object.defineProperty(i0,"__esModule",{value:!0});i0.TraceIdRatioBasedSampler=void 0;var n6e=(j(),Y(K)),wde=MS(),NF=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:(0,n6e.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?wde.SamplingDecision.RECORD_AND_SAMPLED:wde.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);r=(r^a)>>>0}return r}};i0.TraceIdRatioBasedSampler=NF});var xF=h(Hh=>{"use strict";l();Object.defineProperty(Hh,"__esModule",{value:!0});Hh.buildSamplerFromEnv=Hh.loadDefaultConfig=void 0;var o0=(j(),Y(K)),Yr=qr(),Pde=QC(),PF=t0(),MF=OF(),Mde=wF(),i6e=(0,Yr.getEnv)(),o6e=Yr.TracesSamplerValues.AlwaysOn,Fh=1;function s6e(){return{sampler:Bde(i6e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Yr.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Yr.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Yr.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Yr.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Yr.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Yr.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Yr.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Yr.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}Hh.loadDefaultConfig=s6e;function Bde(t=(0,Yr.getEnv)()){switch(t.OTEL_TRACES_SAMPLER){case Yr.TracesSamplerValues.AlwaysOn:return new PF.AlwaysOnSampler;case Yr.TracesSamplerValues.AlwaysOff:return new Pde.AlwaysOffSampler;case Yr.TracesSamplerValues.ParentBasedAlwaysOn:return new MF.ParentBasedSampler({root:new PF.AlwaysOnSampler});case Yr.TracesSamplerValues.ParentBasedAlwaysOff:return new MF.ParentBasedSampler({root:new Pde.AlwaysOffSampler});case Yr.TracesSamplerValues.TraceIdRatio:return new Mde.TraceIdRatioBasedSampler(xde(t));case Yr.TracesSamplerValues.ParentBasedTraceIdRatio:return new MF.ParentBasedSampler({root:new Mde.TraceIdRatioBasedSampler(xde(t))});default:return o0.diag.error(`OTEL_TRACES_SAMPLER value "${t.OTEL_TRACES_SAMPLER} invalid, defaulting to ${o6e}".`),new PF.AlwaysOnSampler}}Hh.buildSamplerFromEnv=Bde;function xde(t){if(t.OTEL_TRACES_SAMPLER_ARG===void 0||t.OTEL_TRACES_SAMPLER_ARG==="")return o0.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Fh}.`),Fh;let e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(o0.diag.error(`OTEL_TRACES_SAMPLER_ARG=${t.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Fh}.`),Fh):e<0||e>1?(o0.diag.error(`OTEL_TRACES_SAMPLER_ARG=${t.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Fh}.`),Fh):e}});var DF=h(kh=>{"use strict";l();Object.defineProperty(kh,"__esModule",{value:!0});kh.reconfigureLimits=kh.mergeConfig=void 0;var Dde=xF(),BF=qr();function a6e(t){let e={sampler:(0,Dde.buildSamplerFromEnv)()},r=(0,Dde.loadDefaultConfig)(),o=Object.assign({},r,e,t);return o.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),o}kh.mergeConfig=a6e;function u6e(t){var e,r,o,s,a,i,n,u,c,d,f,g;let y=Object.assign({},t.spanLimits),S=(0,BF.getEnvWithoutDefaults)();return y.attributeCountLimit=(i=(a=(s=(r=(e=t.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&r!==void 0?r:(o=t.generalLimits)===null||o===void 0?void 0:o.attributeCountLimit)!==null&&s!==void 0?s:S.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:S.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:BF.DEFAULT_ATTRIBUTE_COUNT_LIMIT,y.attributeValueLengthLimit=(g=(f=(d=(u=(n=t.spanLimits)===null||n===void 0?void 0:n.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=t.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&d!==void 0?d:S.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:S.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&g!==void 0?g:BF.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},t,{spanLimits:y})}kh.reconfigureLimits=u6e});var Lde=h(s0=>{"use strict";l();Object.defineProperty(s0,"__esModule",{value:!0});s0.BatchSpanProcessorBase=void 0;var Wh=(j(),Y(K)),Ld=qr(),LF=class{constructor(e,r){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let o=(0,Ld.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Ld.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Wh.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Wh.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Wh.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Wh.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,r)=>{let o=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,i=s;a<i;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let o=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Wh.context.with((0,Ld.suppressTracing)(Wh.context.active()),()=>{let s=this._finishedSpans.splice(0,this._maxExportBatchSize),a=()=>this._exporter.export(s,n=>{var u;clearTimeout(o),n.code===Ld.ExportResultCode.SUCCESS?e():r((u=n.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),i=s.map(n=>n.resource).filter(n=>n.asyncAttributesPending);i.length===0?a():Promise.all(i.map(n=>{var u;return(u=n.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(n)})).then(a,n=>{(0,Ld.globalErrorHandler)(n),r(n)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,Ld.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),(0,Ld.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};s0.BatchSpanProcessorBase=LF});var Ude=h(a0=>{"use strict";l();Object.defineProperty(a0,"__esModule",{value:!0});a0.BatchSpanProcessor=void 0;var c6e=Lde(),UF=class extends c6e.BatchSpanProcessorBase{onShutdown(){}};a0.BatchSpanProcessor=UF});var Fde=h(c0=>{"use strict";l();Object.defineProperty(c0,"__esModule",{value:!0});c0.RandomIdGenerator=void 0;var l6e=8,Vde=16,GF=class{constructor(){this.generateTraceId=Gde(Vde),this.generateSpanId=Gde(l6e)}};c0.RandomIdGenerator=GF;var u0=Buffer.allocUnsafe(Vde);function Gde(t){return function(){for(let r=0;r<t/4;r++)u0.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(u0[r]>0);r++)r===t-1&&(u0[t-1]=1);return u0.toString("hex",0,t)}}});var kde=h(Sc=>{"use strict";l();var d6e=Sc&&Sc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Hde=Sc&&Sc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&d6e(e,t,r)};Object.defineProperty(Sc,"__esModule",{value:!0});Hde(Ude(),Sc);Hde(Fde(),Sc)});var l0=h(Ud=>{"use strict";l();var f6e=Ud&&Ud.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),p6e=Ud&&Ud.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&f6e(e,t,r)};Object.defineProperty(Ud,"__esModule",{value:!0});p6e(kde(),Ud)});var Wde=h(f0=>{"use strict";l();Object.defineProperty(f0,"__esModule",{value:!0});f0.Tracer=void 0;var jr=(j(),Y(K)),d0=qr(),h6e=TF(),g6e=DF(),m6e=l0(),VF=class{constructor(e,r,o){this._tracerProvider=o;let s=(0,g6e.mergeConfig)(r);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=r.idGenerator||new m6e.RandomIdGenerator,this.resource=o.resource,this.instrumentationLibrary=e}startSpan(e,r={},o=jr.context.active()){var s,a,i;r.root&&(o=jr.trace.deleteSpan(o));let n=jr.trace.getSpan(o);if((0,d0.isTracingSuppressed)(o))return jr.diag.debug("Instrumentation suppressed, returning Noop Span"),jr.trace.wrapSpanContext(jr.INVALID_SPAN_CONTEXT);let u=n?.spanContext(),c=this._idGenerator.generateSpanId(),d,f,g;!u||!jr.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,f=u.traceState,g=u.spanId);let y=(s=r.kind)!==null&&s!==void 0?s:jr.SpanKind.INTERNAL,S=((a=r.links)!==null&&a!==void 0?a:[]).map(U=>({context:U.context,attributes:(0,d0.sanitizeAttributes)(U.attributes)})),T=(0,d0.sanitizeAttributes)(r.attributes),C=this._sampler.shouldSample(o,d,e,y,T,S);f=(i=C.traceState)!==null&&i!==void 0?i:f;let R=C.decision===jr.SamplingDecision.RECORD_AND_SAMPLED?jr.TraceFlags.SAMPLED:jr.TraceFlags.NONE,P={traceId:d,spanId:c,traceFlags:R,traceState:f};if(C.decision===jr.SamplingDecision.NOT_RECORD)return jr.diag.debug("Recording is off, propagating context in a non-recording span"),jr.trace.wrapSpanContext(P);let M=(0,d0.sanitizeAttributes)(Object.assign(T,C.attributes));return new h6e.Span(this,o,e,P,y,g,S,r.startTime,void 0,M)}startActiveSpan(e,r,o,s){let a,i,n;if(arguments.length<2)return;arguments.length===2?n=r:arguments.length===3?(a=r,n=o):(a=r,i=o,n=s);let u=i??jr.context.active(),c=this.startSpan(e,a,u),d=jr.trace.setSpan(u,c);return jr.context.with(d,n,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};f0.Tracer=VF});var Zde=h(p0=>{"use strict";l();Object.defineProperty(p0,"__esModule",{value:!0});p0.defaultServiceName=void 0;function y6e(){return`unknown_service:${process.argv0}`}p0.defaultServiceName=y6e});var FF=h(Zh=>{"use strict";l();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.normalizeType=Zh.normalizeArch=void 0;var _6e=t=>{switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}};Zh.normalizeArch=_6e;var S6e=t=>{switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}};Zh.normalizeType=S6e});var g0=h(h0=>{"use strict";l();Object.defineProperty(h0,"__esModule",{value:!0});h0.execAsync=void 0;var b6e=require("child_process"),E6e=require("util");h0.execAsync=E6e.promisify(b6e.exec)});var qde=h(m0=>{"use strict";l();Object.defineProperty(m0,"__esModule",{value:!0});m0.getMachineId=void 0;var v6e=g0(),T6e=(j(),Y(K));async function A6e(){try{let e=(await(0,v6e.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(o=>o.includes("IOPlatformUUID"));if(!e)return"";let r=e.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(t){T6e.diag.debug(`error reading machine id: ${t}`)}return""}m0.getMachineId=A6e});var Yde=h(y0=>{"use strict";l();Object.defineProperty(y0,"__esModule",{value:!0});y0.getMachineId=void 0;var I6e=require("fs"),C6e=(j(),Y(K));async function R6e(){let t=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of t)try{return(await I6e.promises.readFile(e,{encoding:"utf8"})).trim()}catch(r){C6e.diag.debug(`error reading machine id: ${r}`)}return""}y0.getMachineId=R6e});var Kde=h(_0=>{"use strict";l();Object.defineProperty(_0,"__esModule",{value:!0});_0.getMachineId=void 0;var O6e=require("fs"),N6e=g0(),jde=(j(),Y(K));async function w6e(){try{return(await O6e.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(t){jde.diag.debug(`error reading machine id: ${t}`)}try{return(await(0,N6e.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(t){jde.diag.debug(`error reading machine id: ${t}`)}return""}_0.getMachineId=w6e});var zde=h(S0=>{"use strict";l();Object.defineProperty(S0,"__esModule",{value:!0});S0.getMachineId=void 0;var Xde=require("process"),P6e=g0(),M6e=(j(),Y(K));async function x6e(){let t="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";Xde.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Xde.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let o=(await(0,P6e.execAsync)(`${e} ${t}`)).stdout.split("REG_SZ");if(o.length===2)return o[1].trim()}catch(r){M6e.diag.debug(`error reading machine id: ${r}`)}return""}S0.getMachineId=x6e});var Jde=h(b0=>{"use strict";l();Object.defineProperty(b0,"__esModule",{value:!0});b0.getMachineId=void 0;var B6e=(j(),Y(K));async function D6e(){return B6e.diag.debug("could not read machine-id: unsupported platform"),""}b0.getMachineId=D6e});var $de=h(ru=>{"use strict";l();Object.defineProperty(ru,"__esModule",{value:!0});ru.getMachineId=void 0;var L6e=require("process"),qh;ru.getMachineId=qh;switch(L6e.platform){case"darwin":ru.getMachineId=qh=qde().getMachineId;break;case"linux":ru.getMachineId=qh=Yde().getMachineId;break;case"freebsd":ru.getMachineId=qh=Kde().getMachineId;break;case"win32":ru.getMachineId=qh=zde().getMachineId;break;default:ru.getMachineId=qh=Jde().getMachineId}});var WF=h(E0=>{"use strict";l();Object.defineProperty(E0,"__esModule",{value:!0});E0.hostDetectorSync=void 0;var HF=cn(),U6e=Gd(),Qde=require("os"),G6e=FF(),V6e=$de(),kF=class{detect(e){let r={[HF.SemanticResourceAttributes.HOST_NAME]:(0,Qde.hostname)(),[HF.SemanticResourceAttributes.HOST_ARCH]:(0,G6e.normalizeArch)((0,Qde.arch)())};return new U6e.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,V6e.getMachineId)().then(e=>{let r={};return e&&(r[HF.SemanticResourceAttributes.HOST_ID]=e),r})}};E0.hostDetectorSync=new kF});var efe=h(v0=>{"use strict";l();Object.defineProperty(v0,"__esModule",{value:!0});v0.hostDetector=void 0;var F6e=WF(),ZF=class{detect(e){return Promise.resolve(F6e.hostDetectorSync.detect(e))}};v0.hostDetector=new ZF});var YF=h(T0=>{"use strict";l();Object.defineProperty(T0,"__esModule",{value:!0});T0.osDetectorSync=void 0;var tfe=cn(),H6e=Gd(),rfe=require("os"),k6e=FF(),qF=class{detect(e){let r={[tfe.SemanticResourceAttributes.OS_TYPE]:(0,k6e.normalizeType)((0,rfe.platform)()),[tfe.SemanticResourceAttributes.OS_VERSION]:(0,rfe.release)()};return new H6e.Resource(r)}};T0.osDetectorSync=new qF});var nfe=h(A0=>{"use strict";l();Object.defineProperty(A0,"__esModule",{value:!0});A0.osDetector=void 0;var W6e=YF(),jF=class{detect(e){return Promise.resolve(W6e.osDetectorSync.detect(e))}};A0.osDetector=new jF});var XF=h(I0=>{"use strict";l();Object.defineProperty(I0,"__esModule",{value:!0});I0.processDetectorSync=void 0;var Z6e=(j(),Y(K)),nu=cn(),q6e=Gd(),Y6e=require("os"),KF=class{detect(e){let r={[nu.SemanticResourceAttributes.PROCESS_PID]:process.pid,[nu.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[nu.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[nu.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[nu.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[nu.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[nu.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[nu.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let o=Y6e.userInfo();r[nu.SemanticResourceAttributes.PROCESS_OWNER]=o.username}catch(o){Z6e.diag.debug(`error obtaining process owner: ${o}`)}return new q6e.Resource(r)}};I0.processDetectorSync=new KF});var ife=h(C0=>{"use strict";l();Object.defineProperty(C0,"__esModule",{value:!0});C0.processDetector=void 0;var j6e=XF(),zF=class{detect(e){return Promise.resolve(j6e.processDetectorSync.detect(e))}};C0.processDetector=new zF});var ofe=h(Ii=>{"use strict";l();var K6e=Ii&&Ii.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Vd=Ii&&Ii.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&K6e(e,t,r)};Object.defineProperty(Ii,"__esModule",{value:!0});Vd(Zde(),Ii);Vd(efe(),Ii);Vd(nfe(),Ii);Vd(WF(),Ii);Vd(YF(),Ii);Vd(ife(),Ii);Vd(XF(),Ii)});var JF=h(Fd=>{"use strict";l();var X6e=Fd&&Fd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),z6e=Fd&&Fd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&X6e(e,t,r)};Object.defineProperty(Fd,"__esModule",{value:!0});z6e(ofe(),Fd)});var Gd=h(R0=>{"use strict";l();Object.defineProperty(R0,"__esModule",{value:!0});R0.Resource=void 0;var sfe=(j(),Y(K)),Hd=cn(),$F=qr(),J6e=JF(),xS=class t{constructor(e,r){var o;this._attributes=e,this.asyncAttributesPending=r!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=r?.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(sfe.diag.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return t.EMPTY}static default(){return new t({[Hd.SemanticResourceAttributes.SERVICE_NAME]:(0,J6e.defaultServiceName)(),[Hd.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:$F.SDK_INFO[Hd.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Hd.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:$F.SDK_INFO[Hd.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Hd.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:$F.SDK_INFO[Hd.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var e;return this.asyncAttributesPending&&sfe.diag.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var r;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(r=e._syncAttributes)!==null&&r!==void 0?r:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new t(o,s)}};R0.Resource=xS;xS.EMPTY=new xS({})});var ufe=h(afe=>{"use strict";l();Object.defineProperty(afe,"__esModule",{value:!0})});var lfe=h(cfe=>{"use strict";l();Object.defineProperty(cfe,"__esModule",{value:!0})});var ffe=h(dfe=>{"use strict";l();Object.defineProperty(dfe,"__esModule",{value:!0})});var pfe=h(O0=>{"use strict";l();Object.defineProperty(O0,"__esModule",{value:!0});O0.browserDetector=void 0;var $6e=BS(),QF=class{detect(e){return Promise.resolve($6e.browserDetectorSync.detect(e))}};O0.browserDetector=new QF});var tH=h(N0=>{"use strict";l();Object.defineProperty(N0,"__esModule",{value:!0});N0.envDetectorSync=void 0;var Q6e=(j(),Y(K)),e7e=qr(),t7e=cn(),r7e=Gd(),eH=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let r={},o=(0,e7e.getEnv)(),s=o.OTEL_RESOURCE_ATTRIBUTES,a=o.OTEL_SERVICE_NAME;if(s)try{let i=this._parseResourceAttributes(s);Object.assign(r,i)}catch(i){Q6e.diag.debug(`EnvDetector failed: ${i.message}`)}return a&&(r[t7e.SemanticResourceAttributes.SERVICE_NAME]=a),new r7e.Resource(r)}_parseResourceAttributes(e){if(!e)return{};let r={},o=e.split(this._COMMA_SEPARATOR,-1);for(let s of o){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[i,n]=a;if(i=i.trim(),n=n.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(i))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(n))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[i]=decodeURIComponent(n)}return r}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o<33||o===44||o===59||o===92||o>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};N0.envDetectorSync=new eH});var hfe=h(w0=>{"use strict";l();Object.defineProperty(w0,"__esModule",{value:!0});w0.envDetector=void 0;var n7e=tH(),rH=class{detect(e){return Promise.resolve(n7e.envDetectorSync.detect(e))}};w0.envDetector=new rH});var gfe=h(M0=>{"use strict";l();Object.defineProperty(M0,"__esModule",{value:!0});M0.browserDetectorSync=void 0;var P0=cn(),nH=BS(),i7e=(j(),Y(K)),iH=class{detect(e){if(!(typeof navigator<"u"))return nH.Resource.empty();let o={[P0.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[P0.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[P0.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(o,e)}_getResourceAttributes(e,r){return e[P0.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(i7e.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),nH.Resource.empty()):new nH.Resource(Object.assign({},e))}};M0.browserDetectorSync=new iH});var mfe=h(ks=>{"use strict";l();var o7e=ks&&ks.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),x0=ks&&ks.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&o7e(e,t,r)};Object.defineProperty(ks,"__esModule",{value:!0});x0(pfe(),ks);x0(hfe(),ks);x0(gfe(),ks);x0(tH(),ks)});var yfe=h(B0=>{"use strict";l();Object.defineProperty(B0,"__esModule",{value:!0});B0.isPromiseLike=void 0;var s7e=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";B0.isPromiseLike=s7e});var Sfe=h(jh=>{"use strict";l();Object.defineProperty(jh,"__esModule",{value:!0});jh.detectResourcesSync=jh.detectResources=void 0;var DS=Gd(),Yh=(j(),Y(K)),a7e=yfe(),u7e=async(t={})=>{let e=await Promise.all((t.detectors||[]).map(async r=>{try{let o=await r.detect(t);return Yh.diag.debug(`${r.constructor.name} found resource.`,o),o}catch(o){return Yh.diag.debug(`${r.constructor.name} failed: ${o.message}`),DS.Resource.empty()}}));return _fe(e),e.reduce((r,o)=>r.merge(o),DS.Resource.empty())};jh.detectResources=u7e;var c7e=(t={})=>{var e;let r=((e=t.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(t),i;if((0,a7e.isPromiseLike)(a)){let n=async()=>(await a).attributes;i=new DS.Resource({},n())}else i=a;return i.waitForAsyncAttributes?i.waitForAsyncAttributes().then(()=>Yh.diag.debug(`${s.constructor.name} found resource.`,i)):Yh.diag.debug(`${s.constructor.name} found resource.`,i),i}catch(a){return Yh.diag.error(`${s.constructor.name} failed: ${a.message}`),DS.Resource.empty()}}),o=r.reduce((s,a)=>s.merge(a),DS.Resource.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then(()=>{_fe(r)}),o};jh.detectResourcesSync=c7e;var _fe=t=>{t.forEach(e=>{if(Object.keys(e.attributes).length>0){let r=JSON.stringify(e.attributes,null,4);Yh.diag.verbose(r)}})}});var BS=h(Ci=>{"use strict";l();var l7e=Ci&&Ci.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),kd=Ci&&Ci.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&l7e(e,t,r)};Object.defineProperty(Ci,"__esModule",{value:!0});kd(Gd(),Ci);kd(ufe(),Ci);kd(JF(),Ci);kd(lfe(),Ci);kd(ffe(),Ci);kd(mfe(),Ci);kd(Sfe(),Ci)});var bfe=h(D0=>{"use strict";l();Object.defineProperty(D0,"__esModule",{value:!0});D0.MultiSpanProcessor=void 0;var d7e=qr(),oH=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r()}).catch(o=>{(0,d7e.globalErrorHandler)(o||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(e,r){for(let o of this._spanProcessors)o.onStart(e,r)}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e)}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,o)=>{Promise.all(e).then(()=>{r()},o)})}};D0.MultiSpanProcessor=oH});var aH=h(L0=>{"use strict";l();Object.defineProperty(L0,"__esModule",{value:!0});L0.NoopSpanProcessor=void 0;var sH=class{onStart(e,r){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};L0.NoopSpanProcessor=sH});var vfe=h(Wd=>{"use strict";l();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.BasicTracerProvider=Wd.ForceFlushState=void 0;var Kh=(j(),Y(K)),zh=qr(),Efe=BS(),f7e=U0(),p7e=xF(),h7e=bfe(),g7e=aH(),m7e=l0(),y7e=DF(),Xh;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Xh=Wd.ForceFlushState||(Wd.ForceFlushState={}));var LS=class{constructor(e={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let o=(0,zh.merge)({},(0,p7e.loadDefaultConfig)(),(0,y7e.reconfigureLimits)(e));this.resource=(r=o.resource)!==null&&r!==void 0?r:Efe.Resource.empty(),this.resource=Efe.Resource.default().merge(this.resource),this._config=Object.assign({},o,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let a=new m7e.BatchSpanProcessor(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new g7e.NoopSpanProcessor}getTracer(e,r,o){let s=`${e}@${r||""}:${o?.schemaUrl||""}`;return this._tracers.has(s)||this._tracers.set(s,new f7e.Tracer({name:e,version:r,schemaUrl:o?.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Kh.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new h7e.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){Kh.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Kh.context.setGlobalContextManager(e.contextManager),e.propagator&&Kh.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(o=>new Promise(s=>{let a,i=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=Xh.timeout},e);o.forceFlush().then(()=>{clearTimeout(i),a!==Xh.timeout&&(a=Xh.resolved,s(a))}).catch(n=>{clearTimeout(i),a=Xh.error,s(n)})}));return new Promise((o,s)=>{Promise.all(r).then(a=>{let i=a.filter(n=>n!==Xh.resolved);i.length>0?s(i):o()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var r;return(r=this.constructor._registeredPropagators.get(e))===null||r===void 0?void 0:r()}_getSpanExporter(e){var r;return(r=this.constructor._registeredExporters.get(e))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,zh.getEnv)().OTEL_PROPAGATORS)),o=e.map(s=>{let a=this._getPropagator(s);return a||Kh.diag.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(o.length!==0)return e.length===1?o[0]:new zh.CompositePropagator({propagators:o})}_buildExporterFromEnv(){let e=(0,zh.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let r=this._getSpanExporter(e);return r||Kh.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),r}};Wd.BasicTracerProvider=LS;LS._registeredPropagators=new Map([["tracecontext",()=>new zh.W3CTraceContextPropagator],["baggage",()=>new zh.W3CBaggagePropagator]]);LS._registeredExporters=new Map});var Tfe=h(G0=>{"use strict";l();Object.defineProperty(G0,"__esModule",{value:!0});G0.ConsoleSpanExporter=void 0;var uH=qr(),cH=class{export(e,r){return this._sendSpans(e,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var r;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(r=e.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,uH.hrTimeToMicroseconds)(e.startTime),duration:(0,uH.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,r){for(let o of e)console.dir(this._exportInfo(o),{depth:3});if(r)return r({code:uH.ExportResultCode.SUCCESS})}};G0.ConsoleSpanExporter=cH});var Ife=h(V0=>{"use strict";l();Object.defineProperty(V0,"__esModule",{value:!0});V0.InMemorySpanExporter=void 0;var Afe=qr(),lH=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:Afe.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>r({code:Afe.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};V0.InMemorySpanExporter=lH});var Rfe=h(Cfe=>{"use strict";l();Object.defineProperty(Cfe,"__esModule",{value:!0})});var Ofe=h(F0=>{"use strict";l();Object.defineProperty(F0,"__esModule",{value:!0});F0.SimpleSpanProcessor=void 0;var _7e=(j(),Y(K)),Jh=qr(),dH=class{constructor(e){this._exporter=e,this._shutdownOnce=new Jh.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,r){}onEnd(e){var r,o;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&_7e.TraceFlags.SAMPLED))return;let s=()=>Jh.internal._export(this._exporter,[e]).then(a=>{var i;a.code!==Jh.ExportResultCode.SUCCESS&&(0,Jh.globalErrorHandler)((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{(0,Jh.globalErrorHandler)(a)});if(e.resource.asyncAttributesPending){let a=(o=(r=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(r).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),i=>(0,Jh.globalErrorHandler)(i));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};F0.SimpleSpanProcessor=dH});var wfe=h(Nfe=>{"use strict";l();Object.defineProperty(Nfe,"__esModule",{value:!0})});var Mfe=h(Pfe=>{"use strict";l();Object.defineProperty(Pfe,"__esModule",{value:!0})});var Bfe=h(xfe=>{"use strict";l();Object.defineProperty(xfe,"__esModule",{value:!0})});var Lfe=h(Dfe=>{"use strict";l();Object.defineProperty(Dfe,"__esModule",{value:!0})});var Gfe=h(Ufe=>{"use strict";l();Object.defineProperty(Ufe,"__esModule",{value:!0})});var U0=h(Ht=>{"use strict";l();var S7e=Ht&&Ht.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Tr=Ht&&Ht.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&S7e(e,t,r)};Object.defineProperty(Ht,"__esModule",{value:!0});Tr(Wde(),Ht);Tr(vfe(),Ht);Tr(l0(),Ht);Tr(Tfe(),Ht);Tr(Ife(),Ht);Tr(Rfe(),Ht);Tr(Ofe(),Ht);Tr(wfe(),Ht);Tr(aH(),Ht);Tr(QC(),Ht);Tr(t0(),Ht);Tr(OF(),Ht);Tr(wF(),Ht);Tr(MS(),Ht);Tr(TF(),Ht);Tr(Mfe(),Ht);Tr(Bfe(),Ht);Tr(Lfe(),Ht);Tr(Gfe(),Ht)});var Vfe=h(k0=>{l();Object.defineProperty(k0,"__esModule",{value:!0});var b7e=Ue(),E7e=z();function v7e(t,e){let r=t.getClient(),o=r&&r.getOptions()||{},s=new H0(e,t);return s.initSpanRecorder(o._experiments&&o._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",s),s}var H0=class extends b7e.Transaction{finishWithScope(e,r){let o=this._finishTransaction(e);if(!o)return;let s=this._hub.getClient();if(!s)return;let a=E7e.uuid4();return s.captureEvent(o,{event_id:a},r)}};k0.OpenTelemetryTransaction=H0;k0.startTransaction=v7e});var Ffe=h(pH=>{l();Object.defineProperty(pH,"__esModule",{value:!0});var T7e=Qa();function A7e(t){let e=new Map;for(let r of t)I7e(e,r);return Array.from(e,function([r,o]){return o})}function I7e(t,e){let r=T7e.getSpanParent(e),o=r?!!r.spanContext().isRemote:!1,s=e.spanContext().spanId,a=o?void 0:e.parentSpanId;if(!a){fH(t,{id:s,span:e,children:[]});return}let i=C7e(t,a),n=fH(t,{id:s,span:e,parentNode:i,children:[]});i.children.push(n)}function C7e(t,e){let r=t.get(e);return r||fH(t,{id:e,children:[]})}function fH(t,e){let r=t.get(e.id);return r&&r.span?r:r&&!r.span?(r.span=e.span,r.parentNode=e.parentNode,r):(t.set(e.id,e),e)}pH.groupSpansWithParents=A7e});var Zfe=h(hH=>{l();Object.defineProperty(hH,"__esModule",{value:!0});var Hfe=(j(),Y(K)),kfe=cn(),Wfe=Ja(),R7e={400:"failed_precondition",401:"unauthenticated",403:"permission_denied",404:"not_found",409:"aborted",429:"resource_exhausted",499:"cancelled",500:"internal_error",501:"unimplemented",503:"unavailable",504:"deadline_exceeded"},O7e={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"};function N7e(t){let e=Wfe.spanHasAttributes(t)?t.attributes:{},r=Wfe.spanHasStatus(t)?t.status:void 0,o=e[kfe.SemanticAttributes.HTTP_STATUS_CODE],s=e[kfe.SemanticAttributes.RPC_GRPC_STATUS_CODE],a=typeof o=="string"?o:typeof o=="number"?o.toString():void 0;if(a){let n=R7e[a];if(n)return n}if(typeof s=="string"){let n=O7e[s];if(n)return n}let i=r&&r.code;return i===Hfe.SpanStatusCode.OK||i===Hfe.SpanStatusCode.UNSET?"ok":"unknown_error"}hH.mapStatus=N7e});var Kfe=h(US=>{l();Object.defineProperty(US,"__esModule",{value:!0});var gH=(j(),Y(K)),iu=cn(),W0=z(),w7e=EV(),qfe=Ja();function P7e(t){let e=qfe.spanHasAttributes(t)?t.attributes:{},r=qfe.spanHasName(t)?t.name:"<unknown>",o=e[iu.SemanticAttributes.HTTP_METHOD];if(o)return Yfe({attributes:e,name:r,kind:w7e.getSpanKind(t)},o);if(e[iu.SemanticAttributes.DB_SYSTEM])return M7e({attributes:e,name:r});if(e[iu.SemanticAttributes.RPC_SERVICE])return{op:"rpc",description:r,source:"route"};if(e[iu.SemanticAttributes.MESSAGING_SYSTEM])return{op:"message",description:r,source:"route"};let n=e[iu.SemanticAttributes.FAAS_TRIGGER];return n?{op:n.toString(),description:r,source:"route"}:{op:void 0,description:r,source:"custom"}}function M7e({attributes:t,name:e}){let r=t[iu.SemanticAttributes.DB_STATEMENT];return{op:"db",description:r?r.toString():e,source:"task"}}function Yfe({name:t,kind:e,attributes:r},o){let s=["http"];switch(e){case gH.SpanKind.CLIENT:s.push("client");break;case gH.SpanKind.SERVER:s.push("server");break}let{urlPath:a,url:i,query:n,fragment:u,hasRoute:c}=jfe(r,e);if(!a)return{op:s.join("."),description:t,source:"custom"};let d=`${o} ${a}`,f=c||a==="/"?"route":"url",g={};return i&&(g.url=i),n&&(g["http.query"]=n),u&&(g["http.fragment"]=u),{op:s.join("."),description:d,source:f,data:g}}function jfe(t,e){let r=t[iu.SemanticAttributes.HTTP_TARGET],o=t[iu.SemanticAttributes.HTTP_URL],s=t[iu.SemanticAttributes.HTTP_ROUTE],a=typeof o=="string"?W0.parseUrl(o):void 0,i=a?W0.getSanitizedUrlString(a):void 0,n=a&&a.search?a.search:void 0,u=a&&a.hash?a.hash:void 0;return typeof s=="string"?{urlPath:s,url:i,query:n,fragment:u,hasRoute:!0}:e===gH.SpanKind.SERVER&&typeof r=="string"?{urlPath:W0.stripUrlQueryAndFragment(r),url:i,query:n,fragment:u,hasRoute:!1}:a?{urlPath:i,url:i,query:n,fragment:u,hasRoute:!1}:typeof r=="string"?{urlPath:W0.stripUrlQueryAndFragment(r),url:i,query:n,fragment:u,hasRoute:!1}:{urlPath:void 0,url:i,query:n,fragment:u,hasRoute:!1}}US.descriptionForHttpMethod=Yfe;US.getSanitizedUrl=jfe;US.parseSpanDescription=P7e});var epe=h(SH=>{l();Object.defineProperty(SH,"__esModule",{value:!0});var x7e=(j(),Y(K)),Xfe=qr(),q0=cn(),Y0=Ue(),zfe=z(),B7e=Bd(),D7e=Vfe(),Jfe=ES(),bc=Oh(),GS=gV(),L7e=GG(),U7e=Ffe(),$fe=Zfe(),G7e=Kfe(),Z0=Qa(),mH=class{constructor(){this._stopped=!1,this._finishedSpans=[]}export(e,r){if(this._stopped)return r({code:Xfe.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});let o=this._finishedSpans.length,s=e.length;this._finishedSpans.push(...e);let a=V7e(this._finishedSpans),i=a.length,n=o+s-i;Jfe.DEBUG_BUILD&&zfe.logger.log(`SpanExporter exported ${n} spans, ${i} unsent spans remaining`),this._finishedSpans=a.filter(u=>{let c=k7e(u,300);return Jfe.DEBUG_BUILD&&c&&zfe.logger.log(`SpanExporter dropping span ${u.name} (${u.spanContext().spanId}) because it is pending for more than 5 minutes.`),!c}),r({code:Xfe.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}async forceFlush(){await Y0.flush()}};function V7e(t){let e=U7e.groupSpansWithParents(t),r=new Set(e);return H7e(e).forEach(s=>{r.delete(s);let a=s.span,i=Z7e(a);s.children.forEach(u=>{yH(u,i,r)});let n=F7e(a);i.finishWithScope(GS.convertOtelTimeToSeconds(a.endTime),n)}),Array.from(r).map(s=>s.span).filter(s=>!!s)}function F7e(t){let e=Z0.getSpanFinishScope(t)||Y0.getCurrentScope().clone();return e.setContext("otel",{attributes:_H(t.attributes),resource:t.resource.attributes}),e}function H7e(t){return t.filter(e=>!!e.span&&!e.parentNode)}function k7e(t,e){let r=Date.now()/1e3-e;return GS.convertOtelTimeToSeconds(t.startTime)<r}function W7e(t){let e=t.attributes,r=e[bc.InternalSentrySemanticAttributes.ORIGIN],o=e[bc.InternalSentrySemanticAttributes.OP],s=e[bc.InternalSentrySemanticAttributes.SOURCE];return{origin:r,op:o,source:s}}function Z7e(t){let e=Z0.getSpanScope(t),r=Z0.getSpanHub(t)||B7e.getCurrentHub(),o=t.spanContext(),s=o.spanId,a=o.traceId,i=t.parentSpanId,n=t.attributes[bc.InternalSentrySemanticAttributes.PARENT_SAMPLED],u=e?e.getPropagationContext().dsc:void 0,{op:c,description:d,tags:f,data:g,origin:y,source:S}=Qfe(t),T=Z0.getSpanMetadata(t);return D7e.startTransaction(r,{spanId:s,traceId:a,parentSpanId:i,parentSampled:n,name:d,op:c,instrumenter:"otel",status:$fe.mapStatus(t),startTimestamp:GS.convertOtelTimeToSeconds(t.startTime),metadata:{dynamicSamplingContext:u,source:S,sampleRate:t.attributes[Y0.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],...T},data:_H(g),origin:y,tags:f,sampled:!0})}function yH(t,e,r){r.delete(t);let o=t.span;if(!o){t.children.forEach(S=>{yH(S,e,r)});return}let a=o.spanContext().spanId,{attributes:i}=o,{op:n,description:u,tags:c,data:d,origin:f}=Qfe(o),g={..._H(i),...d},y=e.startChild({description:u,op:n,data:g,status:$fe.mapStatus(o),instrumenter:"otel",startTimestamp:GS.convertOtelTimeToSeconds(o.startTime),spanId:a,origin:f,tags:c});t.children.forEach(S=>{yH(S,y,r)}),y.end(GS.convertOtelTimeToSeconds(o.endTime))}function Qfe(t){let{op:e,source:r,origin:o}=W7e(t),{op:s,description:a,source:i,data:n}=G7e.parseSpanDescription(t),u=e||s,c=r||i,d=q7e(t),f={...n,...Y7e(t)};return{op:u,description:a,source:c,origin:o,tags:d,data:f}}function _H(t){let e={...t};return delete e[bc.InternalSentrySemanticAttributes.PARENT_SAMPLED],delete e[bc.InternalSentrySemanticAttributes.ORIGIN],delete e[bc.InternalSentrySemanticAttributes.OP],delete e[bc.InternalSentrySemanticAttributes.SOURCE],delete e[Y0.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE],e}function q7e(t){let e=t.attributes,r={};if(e[q0.SemanticAttributes.HTTP_STATUS_CODE]){let o=e[q0.SemanticAttributes.HTTP_STATUS_CODE];r["http.status_code"]=`${o}`}return r}function Y7e(t){let e=t.attributes,r={"otel.kind":x7e.SpanKind[t.kind]};if(e[q0.SemanticAttributes.HTTP_STATUS_CODE]){let s=e[q0.SemanticAttributes.HTTP_STATUS_CODE];r["http.response.status_code"]=s}let o=L7e.getRequestSpanData(t);return o.url&&(r.url=o.url),o["http.query"]&&(r["http.query"]=o["http.query"].slice(1)),o["http.fragment"]&&(r["http.fragment"]=o["http.fragment"].slice(1)),r}SH.SentrySpanExporter=mH});var ope=h(EH=>{l();Object.defineProperty(EH,"__esModule",{value:!0});var tpe=(j(),Y(K)),j7e=U0(),rpe=z(),ipe=Bd(),K7e=vS(),npe=ES(),X7e=epe(),z7e=DG(),J7e=Cd(),VS=Qa();function $7e(t,e,r){let o=tpe.trace.getSpan(e),s=J7e.getHubFromContext(e);o&&VS.setSpanParent(t,o);let a=s;if(e===tpe.ROOT_CONTEXT&&(a=ipe.getCurrentHub()),a){let i=a.getScope();VS.setSpanScope(t,i),VS.setSpanHub(t,a);let n=i.clone();n.activeSpan=t,VS.setSpanFinishScope(t,n)}}function Q7e(t){let e=VS.getSpanHub(t)||ipe.getCurrentHub();t.events.forEach(r=>{z7e.maybeCaptureExceptionForTimedEvent(e,r,t)})}var bH=class extends j7e.BatchSpanProcessor{constructor(e={}){super(new X7e.SentrySpanExporter),this._scopeClass=e.scopeClass||K7e.OpenTelemetryScope}onStart(e,r){return $7e(e,r,this._scopeClass),npe.DEBUG_BUILD&&rpe.logger.log(`[Tracing] Starting span "${e.name}" (${e.spanContext().spanId})`),super.onStart(e,r)}onEnd(e){if(npe.DEBUG_BUILD&&rpe.logger.log(`[Tracing] Finishing span "${e.name}" (${e.spanContext().spanId})`),!!this._shouldSendSpanToSentry(e))return Q7e(e),super.onEnd(e)}_shouldSendSpanToSentry(e){return!0}};EH.SentrySpanProcessor=bH});var ape=h(AH=>{l();Object.defineProperty(AH,"__esModule",{value:!0});var vH=(j(),Y(K)),FS=U0(),spe=Ue(),Ec=z(),Zd=ES(),e$e=Oh(),t$e=Cd(),TH=class{constructor(e){this._client=e}shouldSample(e,r,o,s,a,i){let n=this._client.getOptions();if(!spe.hasTracingEnabled(n))return{decision:FS.SamplingDecision.NOT_RECORD};let u=vH.trace.getSpanContext(e),c;u&&vH.isSpanContextValid(u)&&u.traceId===r&&(u.isRemote?(c=i$e(u,e),Zd.DEBUG_BUILD&&Ec.logger.log(`[Tracing] Inheriting remote parent's sampled decision for ${o}: ${c}`)):(c=!!(u.traceFlags&vH.TraceFlags.SAMPLED),Zd.DEBUG_BUILD&&Ec.logger.log(`[Tracing] Inheriting parent's sampled decision for ${o}: ${c}`)));let d=r$e(n,{name:o,attributes:a,transactionContext:{name:o,parentSampled:c},parentSampled:c}),f={[spe.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]:Number(d)};return typeof c=="boolean"&&(f[e$e.InternalSentrySemanticAttributes.PARENT_SAMPLED]=c),n$e(d)?d?Math.random()<d?{decision:FS.SamplingDecision.RECORD_AND_SAMPLED,attributes:f}:(Zd.DEBUG_BUILD&&Ec.logger.log(`[Tracing] Discarding span because it's not included in the random sample (sampling rate = ${Number(d)})`),{decision:FS.SamplingDecision.NOT_RECORD,attributes:f}):(Zd.DEBUG_BUILD&&Ec.logger.log(`[Tracing] Discarding span because ${typeof n.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),{decision:FS.SamplingDecision.NOT_RECORD,attributes:f}):(Zd.DEBUG_BUILD&&Ec.logger.warn("[Tracing] Discarding span because of invalid sample rate."),{decision:FS.SamplingDecision.NOT_RECORD,attributes:f})}toString(){return"SentrySampler"}};function r$e(t,e){return typeof t.tracesSampler=="function"?t.tracesSampler(e):e.parentSampled!==void 0?e.parentSampled:typeof t.tracesSampleRate<"u"?t.tracesSampleRate:t.enableTracing?1:0}function n$e(t){return Ec.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(Zd.DEBUG_BUILD&&Ec.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(Zd.DEBUG_BUILD&&Ec.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function i$e(t,e){let r=t.traceId,o=t$e.getPropagationContextFromContext(e);return o&&r===o.traceId?o.sampled:void 0}AH.SentrySampler=TH});var cpe=h(ut=>{l();Object.defineProperty(ut,"__esModule",{value:!0});var o$e=bte(),s$e=DG(),a$e=GG(),u$e=rle(),c$e=EV(),$h=Qa(),IH=Cd(),Qh=Ja(),l$e=ole(),upe=gC(),CH=yde(),RH=Bd(),d$e=vS(),f$e=bde(),p$e=Ede(),h$e=vde(),g$e=Ade(),m$e=Rde(),y$e=ope(),_$e=ape(),S$e={addOriginToSpan:o$e.addOriginToSpan,maybeCaptureExceptionForTimedEvent:s$e.maybeCaptureExceptionForTimedEvent,getRequestSpanData:a$e.getRequestSpanData};ut.wrapClientClass=u$e.wrapClientClass;ut.getSpanKind=c$e.getSpanKind;ut.getSpanFinishScope=$h.getSpanFinishScope;ut.getSpanHub=$h.getSpanHub;ut.getSpanMetadata=$h.getSpanMetadata;ut.getSpanParent=$h.getSpanParent;ut.getSpanScope=$h.getSpanScope;ut.setSpanMetadata=$h.setSpanMetadata;ut.getPropagationContextFromContext=IH.getPropagationContextFromContext;ut.setHubOnContext=IH.setHubOnContext;ut.setPropagationContextOnContext=IH.setPropagationContextOnContext;ut.spanHasAttributes=Qh.spanHasAttributes;ut.spanHasEvents=Qh.spanHasEvents;ut.spanHasKind=Qh.spanHasKind;ut.spanHasName=Qh.spanHasName;ut.spanHasParentId=Qh.spanHasParentId;ut.spanHasStatus=Qh.spanHasStatus;ut.isSentryRequestSpan=l$e.isSentryRequestSpan;ut.getActiveSpan=upe.getActiveSpan;ut.getRootSpan=upe.getRootSpan;ut.startInactiveSpan=CH.startInactiveSpan;ut.startSpan=CH.startSpan;ut.startSpanManual=CH.startSpanManual;ut.getClient=RH.getClient;ut.getCurrentHub=RH.getCurrentHub;ut.setupGlobalHub=RH.setupGlobalHub;ut.OpenTelemetryScope=d$e.OpenTelemetryScope;ut.addTracingExtensions=f$e.addTracingExtensions;ut.setupEventContextTrace=p$e.setupEventContextTrace;ut.setOpenTelemetryContextAsyncContextStrategy=h$e.setOpenTelemetryContextAsyncContextStrategy;ut.wrapContextManagerClass=g$e.wrapContextManagerClass;ut.SentryPropagator=m$e.SentryPropagator;ut.SentrySpanProcessor=y$e.SentrySpanProcessor;ut.SentrySampler=_$e.SentrySampler;ut._INTERNAL=S$e});var HS=h(vc=>{"use strict";l();Object.defineProperty(vc,"__esModule",{value:!0});vc.isTracingSuppressed=vc.unsuppressTracing=vc.suppressTracing=void 0;var b$e=(j(),Y(K)),OH=(0,b$e.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function E$e(t){return t.setValue(OH,!0)}vc.suppressTracing=E$e;function v$e(t){return t.deleteValue(OH)}vc.unsuppressTracing=v$e;function T$e(t){return t.getValue(OH)===!0}vc.isTracingSuppressed=T$e});var NH=h(hn=>{"use strict";l();Object.defineProperty(hn,"__esModule",{value:!0});hn.BAGGAGE_MAX_TOTAL_LENGTH=hn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=hn.BAGGAGE_MAX_NAME_VALUE_PAIRS=hn.BAGGAGE_HEADER=hn.BAGGAGE_ITEMS_SEPARATOR=hn.BAGGAGE_PROPERTIES_SEPARATOR=hn.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;hn.BAGGAGE_KEY_PAIR_SEPARATOR="=";hn.BAGGAGE_PROPERTIES_SEPARATOR=";";hn.BAGGAGE_ITEMS_SEPARATOR=",";hn.BAGGAGE_HEADER="baggage";hn.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;hn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;hn.BAGGAGE_MAX_TOTAL_LENGTH=8192});var wH=h(Ws=>{"use strict";l();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.parseKeyPairsIntoRecord=Ws.parsePairKeyValue=Ws.getKeyPairs=Ws.serializeKeyPairs=void 0;var A$e=(j(),Y(K)),qd=NH();function I$e(t){return t.reduce((e,r)=>{let o=`${e}${e!==""?qd.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return o.length>qd.BAGGAGE_MAX_TOTAL_LENGTH?e:o},"")}Ws.serializeKeyPairs=I$e;function C$e(t){return t.getAllEntries().map(([e,r])=>{let o=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(o+=qd.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),o})}Ws.getKeyPairs=C$e;function lpe(t){let e=t.split(qd.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let r=e.shift();if(!r)return;let o=r.indexOf(qd.BAGGAGE_KEY_PAIR_SEPARATOR);if(o<=0)return;let s=decodeURIComponent(r.substring(0,o).trim()),a=decodeURIComponent(r.substring(o+1).trim()),i;return e.length>0&&(i=(0,A$e.baggageEntryMetadataFromString)(e.join(qd.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:a,metadata:i}}Ws.parsePairKeyValue=lpe;function R$e(t){return typeof t!="string"||t.length===0?{}:t.split(qd.BAGGAGE_ITEMS_SEPARATOR).map(e=>lpe(e)).filter(e=>e!==void 0&&e.value.length>0).reduce((e,r)=>(e[r.key]=r.value,e),{})}Ws.parseKeyPairsIntoRecord=R$e});var dpe=h(j0=>{"use strict";l();Object.defineProperty(j0,"__esModule",{value:!0});j0.W3CBaggagePropagator=void 0;var PH=(j(),Y(K)),O$e=HS(),Yd=NH(),MH=wH(),xH=class{inject(e,r,o){let s=PH.propagation.getBaggage(e);if(!s||(0,O$e.isTracingSuppressed)(e))return;let a=(0,MH.getKeyPairs)(s).filter(n=>n.length<=Yd.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Yd.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,MH.serializeKeyPairs)(a);i.length>0&&o.set(r,Yd.BAGGAGE_HEADER,i)}extract(e,r,o){let s=o.get(r,Yd.BAGGAGE_HEADER),a=Array.isArray(s)?s.join(Yd.BAGGAGE_ITEMS_SEPARATOR):s;if(!a)return e;let i={};return a.length===0||(a.split(Yd.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,MH.parsePairKeyValue)(u);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),i[c.key]=d}}),Object.entries(i).length===0)?e:PH.propagation.setBaggage(e,PH.propagation.createBaggage(i))}fields(){return[Yd.BAGGAGE_HEADER]}};j0.W3CBaggagePropagator=xH});var fpe=h(K0=>{"use strict";l();Object.defineProperty(K0,"__esModule",{value:!0});K0.AnchoredClock=void 0;var BH=class{constructor(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now()}now(){let e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};K0.AnchoredClock=BH});var ype=h(Tc=>{"use strict";l();Object.defineProperty(Tc,"__esModule",{value:!0});Tc.isAttributeValue=Tc.isAttributeKey=Tc.sanitizeAttributes=void 0;var ppe=(j(),Y(K));function N$e(t){let e={};if(typeof t!="object"||t==null)return e;for(let[r,o]of Object.entries(t)){if(!hpe(r)){ppe.diag.warn(`Invalid attribute key: ${r}`);continue}if(!gpe(o)){ppe.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(o)?e[r]=o.slice():e[r]=o}return e}Tc.sanitizeAttributes=N$e;function hpe(t){return typeof t=="string"&&t.length>0}Tc.isAttributeKey=hpe;function gpe(t){return t==null?!0:Array.isArray(t)?w$e(t):mpe(t)}Tc.isAttributeValue=gpe;function w$e(t){let e;for(let r of t)if(r!=null){if(!e){if(mpe(r)){e=typeof r;continue}return!1}if(typeof r!==e)return!1}return!0}function mpe(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}});var DH=h(X0=>{"use strict";l();Object.defineProperty(X0,"__esModule",{value:!0});X0.loggingErrorHandler=void 0;var P$e=(j(),Y(K));function M$e(){return t=>{P$e.diag.error(x$e(t))}}X0.loggingErrorHandler=M$e;function x$e(t){return typeof t=="string"?t:JSON.stringify(B$e(t))}function B$e(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(o=>{if(e[o])return;let s=r[o];s&&(e[o]=String(s))}),r=Object.getPrototypeOf(r);return e}});var LH=h(eg=>{"use strict";l();Object.defineProperty(eg,"__esModule",{value:!0});eg.globalErrorHandler=eg.setGlobalErrorHandler=void 0;var D$e=DH(),_pe=(0,D$e.loggingErrorHandler)();function L$e(t){_pe=t}eg.setGlobalErrorHandler=L$e;function U$e(t){try{_pe(t)}catch{}}eg.globalErrorHandler=U$e});var UH=h(kS=>{"use strict";l();Object.defineProperty(kS,"__esModule",{value:!0});kS.TracesSamplerValues=void 0;var G$e;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(G$e=kS.TracesSamplerValues||(kS.TracesSamplerValues={}))});var Spe=h(z0=>{"use strict";l();Object.defineProperty(z0,"__esModule",{value:!0});z0._globalThis=void 0;z0._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var VH=h(kt=>{"use strict";l();Object.defineProperty(kt,"__esModule",{value:!0});kt.getEnvWithoutDefaults=kt.parseEnvironment=kt.DEFAULT_ENVIRONMENT=kt.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=kt.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=kt.DEFAULT_ATTRIBUTE_COUNT_LIMIT=kt.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Ac=(j(),Y(K)),V$e=UH(),F$e=Spe(),H$e=",",k$e=["OTEL_SDK_DISABLED"];function W$e(t){return k$e.indexOf(t)>-1}var Z$e=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function q$e(t){return Z$e.indexOf(t)>-1}var Y$e=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function j$e(t){return Y$e.indexOf(t)>-1}kt.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;kt.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;kt.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;kt.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;kt.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ac.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:kt.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:kt.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:kt.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:kt.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:kt.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:kt.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:kt.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:kt.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:V$e.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function K$e(t,e,r){if(typeof r[t]>"u")return;let o=String(r[t]);e[t]=o.toLowerCase()==="true"}function X$e(t,e,r,o=-1/0,s=1/0){if(typeof r[t]<"u"){let a=Number(r[t]);isNaN(a)||(a<o?e[t]=o:a>s?e[t]=s:e[t]=a)}}function z$e(t,e,r,o=H$e){let s=r[t];typeof s=="string"&&(e[t]=s.split(o).map(a=>a.trim()))}var J$e={ALL:Ac.DiagLogLevel.ALL,VERBOSE:Ac.DiagLogLevel.VERBOSE,DEBUG:Ac.DiagLogLevel.DEBUG,INFO:Ac.DiagLogLevel.INFO,WARN:Ac.DiagLogLevel.WARN,ERROR:Ac.DiagLogLevel.ERROR,NONE:Ac.DiagLogLevel.NONE};function $$e(t,e,r){let o=r[t];if(typeof o=="string"){let s=J$e[o.toUpperCase()];s!=null&&(e[t]=s)}}function GH(t){let e={};for(let r in kt.DEFAULT_ENVIRONMENT){let o=r;switch(o){case"OTEL_LOG_LEVEL":$$e(o,e,t);break;default:if(W$e(o))K$e(o,e,t);else if(q$e(o))X$e(o,e,t);else if(j$e(o))z$e(o,e,t);else{let s=t[o];typeof s<"u"&&s!==null&&(e[o]=String(s))}}}return e}kt.parseEnvironment=GH;function Q$e(){return typeof process<"u"&&process&&process.env?GH(process.env):GH(F$e._globalThis)}kt.getEnvWithoutDefaults=Q$e});var Epe=h(J0=>{"use strict";l();Object.defineProperty(J0,"__esModule",{value:!0});J0.getEnv=void 0;var bpe=VH();function eQe(){let t=(0,bpe.parseEnvironment)(process.env);return Object.assign({},bpe.DEFAULT_ENVIRONMENT,t)}J0.getEnv=eQe});var vpe=h($0=>{"use strict";l();Object.defineProperty($0,"__esModule",{value:!0});$0._globalThis=void 0;$0._globalThis=typeof globalThis=="object"?globalThis:global});var FH=h(Q0=>{"use strict";l();Object.defineProperty(Q0,"__esModule",{value:!0});Q0.hexToBinary=void 0;function Tpe(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function tQe(t){let e=new Uint8Array(t.length/2),r=0;for(let o=0;o<t.length;o+=2){let s=Tpe(t.charCodeAt(o)),a=Tpe(t.charCodeAt(o+1));e[r++]=s<<4|a}return e}Q0.hexToBinary=tQe});var Ape=h(eR=>{"use strict";l();Object.defineProperty(eR,"__esModule",{value:!0});eR.hexToBase64=void 0;var rQe=FH();function nQe(t){return Buffer.from((0,rQe.hexToBinary)(t)).toString("base64")}eR.hexToBase64=nQe});var Rpe=h(rR=>{"use strict";l();Object.defineProperty(rR,"__esModule",{value:!0});rR.RandomIdGenerator=void 0;var iQe=8,Cpe=16,HH=class{constructor(){this.generateTraceId=Ipe(Cpe),this.generateSpanId=Ipe(iQe)}};rR.RandomIdGenerator=HH;var tR=Buffer.allocUnsafe(Cpe);function Ipe(t){return function(){for(let r=0;r<t/4;r++)tR.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(tR[r]>0);r++)r===t-1&&(tR[t-1]=1);return tR.toString("hex",0,t)}}});var Ope=h(nR=>{"use strict";l();Object.defineProperty(nR,"__esModule",{value:!0});nR.otperformance=void 0;var oQe=require("perf_hooks");nR.otperformance=oQe.performance});var kH=h(iR=>{"use strict";l();Object.defineProperty(iR,"__esModule",{value:!0});iR.VERSION=void 0;iR.VERSION="1.21.0"});var Npe=h(Et=>{"use strict";l();Object.defineProperty(Et,"__esModule",{value:!0});Et.MessageTypeValues=Et.RpcGrpcStatusCodeValues=Et.MessagingOperationValues=Et.MessagingDestinationKindValues=Et.HttpFlavorValues=Et.NetHostConnectionSubtypeValues=Et.NetHostConnectionTypeValues=Et.NetTransportValues=Et.FaasInvokedProviderValues=Et.FaasDocumentOperationValues=Et.FaasTriggerValues=Et.DbCassandraConsistencyLevelValues=Et.DbSystemValues=Et.SemanticAttributes=void 0;Et.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Et.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Et.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Et.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Et.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Et.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Et.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Et.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Et.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Et.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Et.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Et.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Et.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Et.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var wpe=h(jd=>{"use strict";l();var sQe=jd&&jd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),aQe=jd&&jd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sQe(e,t,r)};Object.defineProperty(jd,"__esModule",{value:!0});aQe(Npe(),jd)});var Ppe=h(gn=>{"use strict";l();Object.defineProperty(gn,"__esModule",{value:!0});gn.TelemetrySdkLanguageValues=gn.OsTypeValues=gn.HostArchValues=gn.AwsEcsLaunchtypeValues=gn.CloudPlatformValues=gn.CloudProviderValues=gn.SemanticResourceAttributes=void 0;gn.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};gn.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};gn.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};gn.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};gn.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};gn.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};gn.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Mpe=h(Kd=>{"use strict";l();var uQe=Kd&&Kd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),cQe=Kd&&Kd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uQe(e,t,r)};Object.defineProperty(Kd,"__esModule",{value:!0});cQe(Ppe(),Kd)});var Ri=h(Ic=>{"use strict";l();var lQe=Ic&&Ic.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),xpe=Ic&&Ic.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lQe(e,t,r)};Object.defineProperty(Ic,"__esModule",{value:!0});xpe(wpe(),Ic);xpe(Mpe(),Ic)});var Bpe=h(oR=>{"use strict";l();Object.defineProperty(oR,"__esModule",{value:!0});oR.SDK_INFO=void 0;var dQe=kH(),WS=Ri();oR.SDK_INFO={[WS.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[WS.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[WS.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:WS.TelemetrySdkLanguageValues.NODEJS,[WS.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:dQe.VERSION}});var Dpe=h(sR=>{"use strict";l();Object.defineProperty(sR,"__esModule",{value:!0});sR.unrefTimer=void 0;function fQe(t){t.unref()}sR.unrefTimer=fQe});var Lpe=h(Oi=>{"use strict";l();var pQe=Oi&&Oi.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Xd=Oi&&Oi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pQe(e,t,r)};Object.defineProperty(Oi,"__esModule",{value:!0});Xd(Epe(),Oi);Xd(vpe(),Oi);Xd(Ape(),Oi);Xd(Rpe(),Oi);Xd(Ope(),Oi);Xd(Bpe(),Oi);Xd(Dpe(),Oi)});var WH=h(zd=>{"use strict";l();var hQe=zd&&zd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),gQe=zd&&zd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hQe(e,t,r)};Object.defineProperty(zd,"__esModule",{value:!0});gQe(Lpe(),zd)});var Fpe=h(Bt=>{"use strict";l();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.addHrTimes=Bt.isTimeInput=Bt.isTimeInputHrTime=Bt.hrTimeToMicroseconds=Bt.hrTimeToMilliseconds=Bt.hrTimeToNanoseconds=Bt.hrTimeToTimeStamp=Bt.hrTimeDuration=Bt.timeInputToHrTime=Bt.hrTime=Bt.getTimeOrigin=Bt.millisToHrTime=void 0;var ZH=WH(),Upe=9,mQe=6,yQe=Math.pow(10,mQe),aR=Math.pow(10,Upe);function ZS(t){let e=t/1e3,r=Math.trunc(e),o=Math.round(t%1e3*yQe);return[r,o]}Bt.millisToHrTime=ZS;function qH(){let t=ZH.otperformance.timeOrigin;if(typeof t!="number"){let e=ZH.otperformance;t=e.timing&&e.timing.fetchStart}return t}Bt.getTimeOrigin=qH;function Gpe(t){let e=ZS(qH()),r=ZS(typeof t=="number"?t:ZH.otperformance.now());return Vpe(e,r)}Bt.hrTime=Gpe;function _Qe(t){if(YH(t))return t;if(typeof t=="number")return t<qH()?Gpe(t):ZS(t);if(t instanceof Date)return ZS(t.getTime());throw TypeError("Invalid input type")}Bt.timeInputToHrTime=_Qe;function SQe(t,e){let r=e[0]-t[0],o=e[1]-t[1];return o<0&&(r-=1,o+=aR),[r,o]}Bt.hrTimeDuration=SQe;function bQe(t){let e=Upe,r=`${"0".repeat(e)}${t[1]}Z`,o=r.substr(r.length-e-1);return new Date(t[0]*1e3).toISOString().replace("000Z",o)}Bt.hrTimeToTimeStamp=bQe;function EQe(t){return t[0]*aR+t[1]}Bt.hrTimeToNanoseconds=EQe;function vQe(t){return t[0]*1e3+t[1]/1e6}Bt.hrTimeToMilliseconds=vQe;function TQe(t){return t[0]*1e6+t[1]/1e3}Bt.hrTimeToMicroseconds=TQe;function YH(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}Bt.isTimeInputHrTime=YH;function AQe(t){return YH(t)||typeof t=="number"||t instanceof Date}Bt.isTimeInput=AQe;function Vpe(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=aR&&(r[1]-=aR,r[0]+=1),r}Bt.addHrTimes=Vpe});var kpe=h(Hpe=>{"use strict";l();Object.defineProperty(Hpe,"__esModule",{value:!0})});var Wpe=h(qS=>{"use strict";l();Object.defineProperty(qS,"__esModule",{value:!0});qS.ExportResultCode=void 0;var IQe;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(IQe=qS.ExportResultCode||(qS.ExportResultCode={}))});var qpe=h(uR=>{"use strict";l();Object.defineProperty(uR,"__esModule",{value:!0});uR.CompositePropagator=void 0;var Zpe=(j(),Y(K)),jH=class{constructor(e={}){var r;this._propagators=(r=e.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(e,r,o){for(let s of this._propagators)try{s.inject(e,r,o)}catch(a){Zpe.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(e,r,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,r,o)}catch(i){Zpe.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${i.message}`)}return s},e)}fields(){return this._fields.slice()}};uR.CompositePropagator=jH});var Ype=h(tg=>{"use strict";l();Object.defineProperty(tg,"__esModule",{value:!0});tg.validateValue=tg.validateKey=void 0;var KH="[_0-9a-z-*/]",CQe=`[a-z]${KH}{0,255}`,RQe=`[a-z0-9]${KH}{0,240}@[a-z]${KH}{0,13}`,OQe=new RegExp(`^(?:${CQe}|${RQe})$`),NQe=/^[ -~]{0,255}[!-~]$/,wQe=/,|=/;function PQe(t){return OQe.test(t)}tg.validateKey=PQe;function MQe(t){return NQe.test(t)&&!wQe.test(t)}tg.validateValue=MQe});var zH=h(cR=>{"use strict";l();Object.defineProperty(cR,"__esModule",{value:!0});cR.TraceState=void 0;var jpe=Ype(),Kpe=32,xQe=512,Xpe=",",zpe="=",XH=class t{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,r){let o=this._clone();return o._internalState.has(e)&&o._internalState.delete(e),o._internalState.set(e,r),o}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+zpe+this.get(r)),e),[]).join(Xpe)}_parse(e){e.length>xQe||(this._internalState=e.split(Xpe).reverse().reduce((r,o)=>{let s=o.trim(),a=s.indexOf(zpe);if(a!==-1){let i=s.slice(0,a),n=s.slice(a+1,o.length);(0,jpe.validateKey)(i)&&(0,jpe.validateValue)(n)&&r.set(i,n)}return r},new Map),this._internalState.size>Kpe&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Kpe))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};cR.TraceState=XH});var $pe=h(mn=>{"use strict";l();Object.defineProperty(mn,"__esModule",{value:!0});mn.W3CTraceContextPropagator=mn.parseTraceParent=mn.TRACE_STATE_HEADER=mn.TRACE_PARENT_HEADER=void 0;var lR=(j(),Y(K)),BQe=HS(),DQe=zH();mn.TRACE_PARENT_HEADER="traceparent";mn.TRACE_STATE_HEADER="tracestate";var LQe="00",UQe="(?!ff)[\\da-f]{2}",GQe="(?![0]{32})[\\da-f]{32}",VQe="(?![0]{16})[\\da-f]{16}",FQe="[\\da-f]{2}",HQe=new RegExp(`^\\s?(${UQe})-(${GQe})-(${VQe})-(${FQe})(-.*)?\\s?$`);function Jpe(t){let e=HQe.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}mn.parseTraceParent=Jpe;var JH=class{inject(e,r,o){let s=lR.trace.getSpanContext(e);if(!s||(0,BQe.isTracingSuppressed)(e)||!(0,lR.isSpanContextValid)(s))return;let a=`${LQe}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||lR.TraceFlags.NONE).toString(16)}`;o.set(r,mn.TRACE_PARENT_HEADER,a),s.traceState&&o.set(r,mn.TRACE_STATE_HEADER,s.traceState.serialize())}extract(e,r,o){let s=o.get(r,mn.TRACE_PARENT_HEADER);if(!s)return e;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=Jpe(a);if(!i)return e;i.isRemote=!0;let n=o.get(r,mn.TRACE_STATE_HEADER);if(n){let u=Array.isArray(n)?n.join(","):n;i.traceState=new DQe.TraceState(typeof u=="string"?u:void 0)}return lR.trace.setSpanContext(e,i)}fields(){return[mn.TRACE_PARENT_HEADER,mn.TRACE_STATE_HEADER]}};mn.W3CTraceContextPropagator=JH});var ehe=h(Qpe=>{"use strict";l();Object.defineProperty(Qpe,"__esModule",{value:!0})});var the=h(Yo=>{"use strict";l();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.getRPCMetadata=Yo.deleteRPCMetadata=Yo.setRPCMetadata=Yo.RPCType=void 0;var kQe=(j(),Y(K)),$H=(0,kQe.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),WQe;(function(t){t.HTTP="http"})(WQe=Yo.RPCType||(Yo.RPCType={}));function ZQe(t,e){return t.setValue($H,e)}Yo.setRPCMetadata=ZQe;function qQe(t){return t.deleteValue($H)}Yo.deleteRPCMetadata=qQe;function YQe(t){return t.getValue($H)}Yo.getRPCMetadata=YQe});var ek=h(dR=>{"use strict";l();Object.defineProperty(dR,"__esModule",{value:!0});dR.AlwaysOffSampler=void 0;var jQe=(j(),Y(K)),QH=class{shouldSample(){return{decision:jQe.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};dR.AlwaysOffSampler=QH});var rk=h(fR=>{"use strict";l();Object.defineProperty(fR,"__esModule",{value:!0});fR.AlwaysOnSampler=void 0;var KQe=(j(),Y(K)),tk=class{shouldSample(){return{decision:KQe.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};fR.AlwaysOnSampler=tk});var nhe=h(hR=>{"use strict";l();Object.defineProperty(hR,"__esModule",{value:!0});hR.ParentBasedSampler=void 0;var pR=(j(),Y(K)),XQe=LH(),rhe=ek(),nk=rk(),ik=class{constructor(e){var r,o,s,a;this._root=e.root,this._root||((0,XQe.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new nk.AlwaysOnSampler),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new nk.AlwaysOnSampler,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new rhe.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new nk.AlwaysOnSampler,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new rhe.AlwaysOffSampler}shouldSample(e,r,o,s,a,i){let n=pR.trace.getSpanContext(e);return!n||!(0,pR.isSpanContextValid)(n)?this._root.shouldSample(e,r,o,s,a,i):n.isRemote?n.traceFlags&pR.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,r,o,s,a,i):n.traceFlags&pR.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,o,s,a,i):this._localParentNotSampled.shouldSample(e,r,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};hR.ParentBasedSampler=ik});var ihe=h(gR=>{"use strict";l();Object.defineProperty(gR,"__esModule",{value:!0});gR.TraceIdRatioBasedSampler=void 0;var ok=(j(),Y(K)),sk=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:(0,ok.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?ok.SamplingDecision.RECORD_AND_SAMPLED:ok.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);r=(r^a)>>>0}return r}};gR.TraceIdRatioBasedSampler=sk});var che=h(mR=>{"use strict";l();Object.defineProperty(mR,"__esModule",{value:!0});mR.isPlainObject=void 0;var zQe="[object Object]",JQe="[object Null]",$Qe="[object Undefined]",QQe=Function.prototype,ohe=QQe.toString,eet=ohe.call(Object),tet=ret(Object.getPrototypeOf,Object),she=Object.prototype,ahe=she.hasOwnProperty,Jd=Symbol?Symbol.toStringTag:void 0,uhe=she.toString;function ret(t,e){return function(r){return t(e(r))}}function net(t){if(!iet(t)||oet(t)!==zQe)return!1;let e=tet(t);if(e===null)return!0;let r=ahe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&ohe.call(r)===eet}mR.isPlainObject=net;function iet(t){return t!=null&&typeof t=="object"}function oet(t){return t==null?t===void 0?$Qe:JQe:Jd&&Jd in Object(t)?set(t):aet(t)}function set(t){let e=ahe.call(t,Jd),r=t[Jd],o=!1;try{t[Jd]=void 0,o=!0}catch{}let s=uhe.call(t);return o&&(e?t[Jd]=r:delete t[Jd]),s}function aet(t){return uhe.call(t)}});var hhe=h(SR=>{"use strict";l();Object.defineProperty(SR,"__esModule",{value:!0});SR.merge=void 0;var lhe=che(),uet=20;function cet(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=fhe(e,t.shift(),0,r);return e}SR.merge=cet;function ak(t){return _R(t)?t.slice():t}function fhe(t,e,r=0,o){let s;if(!(r>uet)){if(r++,yR(t)||yR(e)||phe(e))s=ak(e);else if(_R(t)){if(s=t.slice(),_R(e))for(let a=0,i=e.length;a<i;a++)s.push(ak(e[a]));else if(YS(e)){let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let u=a[i];s[u]=ak(e[u])}}}else if(YS(t))if(YS(e)){if(!det(t,e))return e;s=Object.assign({},t);let a=Object.keys(e);for(let i=0,n=a.length;i<n;i++){let u=a[i],c=e[u];if(yR(c))typeof c>"u"?delete s[u]:s[u]=c;else{let d=s[u],f=c;if(dhe(t,u,o)||dhe(e,u,o))delete s[u];else{if(YS(d)&&YS(f)){let g=o.get(d)||[],y=o.get(f)||[];g.push({obj:t,key:u}),y.push({obj:e,key:u}),o.set(d,g),o.set(f,y)}s[u]=fhe(s[u],c,r,o)}}}}else s=e;return s}}function dhe(t,e,r){let o=r.get(t[e])||[];for(let s=0,a=o.length;s<a;s++){let i=o[s];if(i.key===e&&i.obj===t)return!0}return!1}function _R(t){return Array.isArray(t)}function phe(t){return typeof t=="function"}function YS(t){return!yR(t)&&!_R(t)&&!phe(t)&&typeof t=="object"}function yR(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function det(t,e){return!(!(0,lhe.isPlainObject)(t)||!(0,lhe.isPlainObject)(e))}});var ghe=h(rg=>{"use strict";l();Object.defineProperty(rg,"__esModule",{value:!0});rg.callWithTimeout=rg.TimeoutError=void 0;var bR=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};rg.TimeoutError=bR;function fet(t,e){let r,o=new Promise(function(a,i){r=setTimeout(function(){i(new bR("Operation timed out."))},e)});return Promise.race([t,o]).then(s=>(clearTimeout(r),s),s=>{throw clearTimeout(r),s})}rg.callWithTimeout=fet});var yhe=h(ng=>{"use strict";l();Object.defineProperty(ng,"__esModule",{value:!0});ng.isUrlIgnored=ng.urlMatches=void 0;function mhe(t,e){return typeof e=="string"?t===e:!!t.match(e)}ng.urlMatches=mhe;function pet(t,e){if(!e)return!1;for(let r of e)if(mhe(t,r))return!0;return!1}ng.isUrlIgnored=pet});var _he=h(ER=>{"use strict";l();Object.defineProperty(ER,"__esModule",{value:!0});ER.isWrapped=void 0;function het(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}ER.isWrapped=het});var She=h(vR=>{"use strict";l();Object.defineProperty(vR,"__esModule",{value:!0});vR.Deferred=void 0;var uk=class{constructor(){this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};vR.Deferred=uk});var bhe=h(TR=>{"use strict";l();Object.defineProperty(TR,"__esModule",{value:!0});TR.BindOnceFuture=void 0;var get=She(),ck=class{constructor(e,r){this._callback=e,this._that=r,this._isCalled=!1,this._deferred=new get.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};TR.BindOnceFuture=ck});var vhe=h(AR=>{"use strict";l();Object.defineProperty(AR,"__esModule",{value:!0});AR._export=void 0;var Ehe=(j(),Y(K)),met=HS();function yet(t,e){return new Promise(r=>{Ehe.context.with((0,met.suppressTracing)(Ehe.context.active()),()=>{t.export(e,o=>{r(o)})})})}AR._export=yet});var Ne=h(rt=>{"use strict";l();var _et=rt&&rt.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),It=rt&&rt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_et(e,t,r)};Object.defineProperty(rt,"__esModule",{value:!0});rt.internal=rt.baggageUtils=void 0;It(dpe(),rt);It(fpe(),rt);It(ype(),rt);It(LH(),rt);It(DH(),rt);It(Fpe(),rt);It(kpe(),rt);It(FH(),rt);It(Wpe(),rt);rt.baggageUtils=wH();It(WH(),rt);It(qpe(),rt);It($pe(),rt);It(ehe(),rt);It(the(),rt);It(ek(),rt);It(rk(),rt);It(nhe(),rt);It(ihe(),rt);It(HS(),rt);It(zH(),rt);It(VH(),rt);It(hhe(),rt);It(UH(),rt);It(ghe(),rt);It(yhe(),rt);It(_he(),rt);It(bhe(),rt);It(kH(),rt);var bet=vhe();rt.internal={_export:bet._export}});var Ahe=h(The=>{"use strict";l();Object.defineProperty(The,"__esModule",{value:!0})});var Che=h(Ihe=>{"use strict";l();Object.defineProperty(Ihe,"__esModule",{value:!0})});var Rhe=h(jS=>{"use strict";l();Object.defineProperty(jS,"__esModule",{value:!0});jS.SeverityNumber=void 0;var Eet;(function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.TRACE=1]="TRACE",t[t.TRACE2=2]="TRACE2",t[t.TRACE3=3]="TRACE3",t[t.TRACE4=4]="TRACE4",t[t.DEBUG=5]="DEBUG",t[t.DEBUG2=6]="DEBUG2",t[t.DEBUG3=7]="DEBUG3",t[t.DEBUG4=8]="DEBUG4",t[t.INFO=9]="INFO",t[t.INFO2=10]="INFO2",t[t.INFO3=11]="INFO3",t[t.INFO4=12]="INFO4",t[t.WARN=13]="WARN",t[t.WARN2=14]="WARN2",t[t.WARN3=15]="WARN3",t[t.WARN4=16]="WARN4",t[t.ERROR=17]="ERROR",t[t.ERROR2=18]="ERROR2",t[t.ERROR3=19]="ERROR3",t[t.ERROR4=20]="ERROR4",t[t.FATAL=21]="FATAL",t[t.FATAL2=22]="FATAL2",t[t.FATAL3=23]="FATAL3",t[t.FATAL4=24]="FATAL4"})(Eet=jS.SeverityNumber||(jS.SeverityNumber={}))});var Nhe=h(Ohe=>{"use strict";l();Object.defineProperty(Ohe,"__esModule",{value:!0})});var lk=h(ig=>{"use strict";l();Object.defineProperty(ig,"__esModule",{value:!0});ig.NOOP_LOGGER=ig.NoopLogger=void 0;var IR=class{emit(e){}};ig.NoopLogger=IR;ig.NOOP_LOGGER=new IR});var dk=h(og=>{"use strict";l();Object.defineProperty(og,"__esModule",{value:!0});og.NOOP_LOGGER_PROVIDER=og.NoopLoggerProvider=void 0;var vet=lk(),CR=class{getLogger(e,r,o){return new vet.NoopLogger}};og.NoopLoggerProvider=CR;og.NOOP_LOGGER_PROVIDER=new CR});var whe=h(RR=>{"use strict";l();Object.defineProperty(RR,"__esModule",{value:!0});RR._globalThis=void 0;RR._globalThis=typeof globalThis=="object"?globalThis:global});var Phe=h($d=>{"use strict";l();var Tet=$d&&$d.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Aet=$d&&$d.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tet(e,t,r)};Object.defineProperty($d,"__esModule",{value:!0});Aet(whe(),$d)});var Mhe=h(Qd=>{"use strict";l();var Iet=Qd&&Qd.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Cet=Qd&&Qd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Iet(e,t,r)};Object.defineProperty(Qd,"__esModule",{value:!0});Cet(Phe(),Qd)});var xhe=h(Zs=>{"use strict";l();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.API_BACKWARDS_COMPATIBILITY_VERSION=Zs.makeGetter=Zs._global=Zs.GLOBAL_LOGS_API_KEY=void 0;var Ret=Mhe();Zs.GLOBAL_LOGS_API_KEY=Symbol.for("io.opentelemetry.js.api.logs");Zs._global=Ret._globalThis;function Oet(t,e,r){return o=>o===t?e:r}Zs.makeGetter=Oet;Zs.API_BACKWARDS_COMPATIBILITY_VERSION=1});var Dhe=h(OR=>{"use strict";l();Object.defineProperty(OR,"__esModule",{value:!0});OR.LogsAPI=void 0;var ao=xhe(),Bhe=dk(),fk=class t{constructor(){}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return ao._global[ao.GLOBAL_LOGS_API_KEY]?this.getLoggerProvider():(ao._global[ao.GLOBAL_LOGS_API_KEY]=(0,ao.makeGetter)(ao.API_BACKWARDS_COMPATIBILITY_VERSION,e,Bhe.NOOP_LOGGER_PROVIDER),e)}getLoggerProvider(){var e,r;return(r=(e=ao._global[ao.GLOBAL_LOGS_API_KEY])===null||e===void 0?void 0:e.call(ao._global,ao.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:Bhe.NOOP_LOGGER_PROVIDER}getLogger(e,r,o){return this.getLoggerProvider().getLogger(e,r,o)}disable(){delete ao._global[ao.GLOBAL_LOGS_API_KEY]}};OR.LogsAPI=fk});var pk=h(ni=>{"use strict";l();var Net=ni&&ni.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),sg=ni&&ni.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Net(e,t,r)};Object.defineProperty(ni,"__esModule",{value:!0});ni.logs=void 0;sg(Ahe(),ni);sg(Che(),ni);sg(Rhe(),ni);sg(Nhe(),ni);sg(lk(),ni);sg(dk(),ni);var wet=Dhe();ni.logs=wet.LogsAPI.getInstance()});var Lhe=h(NR=>{"use strict";l();Object.defineProperty(NR,"__esModule",{value:!0});NR.defaultServiceName=void 0;function Pet(){return`unknown_service:${process.argv0}`}NR.defaultServiceName=Pet});var hk=h(ag=>{"use strict";l();Object.defineProperty(ag,"__esModule",{value:!0});ag.normalizeType=ag.normalizeArch=void 0;var Met=t=>{switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}};ag.normalizeArch=Met;var xet=t=>{switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}};ag.normalizeType=xet});var PR=h(wR=>{"use strict";l();Object.defineProperty(wR,"__esModule",{value:!0});wR.execAsync=void 0;var Bet=require("child_process"),Det=require("util");wR.execAsync=Det.promisify(Bet.exec)});var Uhe=h(MR=>{"use strict";l();Object.defineProperty(MR,"__esModule",{value:!0});MR.getMachineId=void 0;var Let=PR(),Uet=(j(),Y(K));async function Get(){try{let e=(await(0,Let.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(o=>o.includes("IOPlatformUUID"));if(!e)return"";let r=e.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(t){Uet.diag.debug(`error reading machine id: ${t}`)}return""}MR.getMachineId=Get});var Ghe=h(xR=>{"use strict";l();Object.defineProperty(xR,"__esModule",{value:!0});xR.getMachineId=void 0;var Vet=require("fs"),Fet=(j(),Y(K));async function Het(){let t=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let e of t)try{return(await Vet.promises.readFile(e,{encoding:"utf8"})).trim()}catch(r){Fet.diag.debug(`error reading machine id: ${r}`)}return""}xR.getMachineId=Het});var Fhe=h(BR=>{"use strict";l();Object.defineProperty(BR,"__esModule",{value:!0});BR.getMachineId=void 0;var ket=require("fs"),Wet=PR(),Vhe=(j(),Y(K));async function Zet(){try{return(await ket.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(t){Vhe.diag.debug(`error reading machine id: ${t}`)}try{return(await(0,Wet.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(t){Vhe.diag.debug(`error reading machine id: ${t}`)}return""}BR.getMachineId=Zet});var khe=h(DR=>{"use strict";l();Object.defineProperty(DR,"__esModule",{value:!0});DR.getMachineId=void 0;var Hhe=require("process"),qet=PR(),Yet=(j(),Y(K));async function jet(){let t="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe";Hhe.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in Hhe.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e);try{let o=(await(0,qet.execAsync)(`${e} ${t}`)).stdout.split("REG_SZ");if(o.length===2)return o[1].trim()}catch(r){Yet.diag.debug(`error reading machine id: ${r}`)}return""}DR.getMachineId=jet});var Whe=h(LR=>{"use strict";l();Object.defineProperty(LR,"__esModule",{value:!0});LR.getMachineId=void 0;var Ket=(j(),Y(K));async function Xet(){return Ket.diag.debug("could not read machine-id: unsupported platform"),""}LR.getMachineId=Xet});var Zhe=h(ou=>{"use strict";l();Object.defineProperty(ou,"__esModule",{value:!0});ou.getMachineId=void 0;var zet=require("process"),ug;ou.getMachineId=ug;switch(zet.platform){case"darwin":ou.getMachineId=ug=Uhe().getMachineId;break;case"linux":ou.getMachineId=ug=Ghe().getMachineId;break;case"freebsd":ou.getMachineId=ug=Fhe().getMachineId;break;case"win32":ou.getMachineId=ug=khe().getMachineId;break;default:ou.getMachineId=ug=Whe().getMachineId}});var yk=h(UR=>{"use strict";l();Object.defineProperty(UR,"__esModule",{value:!0});UR.hostDetectorSync=void 0;var gk=Ri(),Jet=ef(),qhe=require("os"),$et=hk(),Qet=Zhe(),mk=class{detect(e){let r={[gk.SemanticResourceAttributes.HOST_NAME]:(0,qhe.hostname)(),[gk.SemanticResourceAttributes.HOST_ARCH]:(0,$et.normalizeArch)((0,qhe.arch)())};return new Jet.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,Qet.getMachineId)().then(e=>{let r={};return e&&(r[gk.SemanticResourceAttributes.HOST_ID]=e),r})}};UR.hostDetectorSync=new mk});var Yhe=h(GR=>{"use strict";l();Object.defineProperty(GR,"__esModule",{value:!0});GR.hostDetector=void 0;var ett=yk(),_k=class{detect(e){return Promise.resolve(ett.hostDetectorSync.detect(e))}};GR.hostDetector=new _k});var bk=h(VR=>{"use strict";l();Object.defineProperty(VR,"__esModule",{value:!0});VR.osDetectorSync=void 0;var jhe=Ri(),ttt=ef(),Khe=require("os"),rtt=hk(),Sk=class{detect(e){let r={[jhe.SemanticResourceAttributes.OS_TYPE]:(0,rtt.normalizeType)((0,Khe.platform)()),[jhe.SemanticResourceAttributes.OS_VERSION]:(0,Khe.release)()};return new ttt.Resource(r)}};VR.osDetectorSync=new Sk});var Xhe=h(FR=>{"use strict";l();Object.defineProperty(FR,"__esModule",{value:!0});FR.osDetector=void 0;var ntt=bk(),Ek=class{detect(e){return Promise.resolve(ntt.osDetectorSync.detect(e))}};FR.osDetector=new Ek});var Tk=h(HR=>{"use strict";l();Object.defineProperty(HR,"__esModule",{value:!0});HR.processDetectorSync=void 0;var itt=(j(),Y(K)),su=Ri(),ott=ef(),stt=require("os"),vk=class{detect(e){let r={[su.SemanticResourceAttributes.PROCESS_PID]:process.pid,[su.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[su.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[su.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[su.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[su.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[su.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[su.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let o=stt.userInfo();r[su.SemanticResourceAttributes.PROCESS_OWNER]=o.username}catch(o){itt.diag.debug(`error obtaining process owner: ${o}`)}return new ott.Resource(r)}};HR.processDetectorSync=new vk});var zhe=h(kR=>{"use strict";l();Object.defineProperty(kR,"__esModule",{value:!0});kR.processDetector=void 0;var att=Tk(),Ak=class{detect(e){return Promise.resolve(att.processDetectorSync.detect(e))}};kR.processDetector=new Ak});var Jhe=h(Ni=>{"use strict";l();var utt=Ni&&Ni.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),tf=Ni&&Ni.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&utt(e,t,r)};Object.defineProperty(Ni,"__esModule",{value:!0});tf(Lhe(),Ni);tf(Yhe(),Ni);tf(Xhe(),Ni);tf(yk(),Ni);tf(bk(),Ni);tf(zhe(),Ni);tf(Tk(),Ni)});var Ik=h(rf=>{"use strict";l();var ctt=rf&&rf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),ltt=rf&&rf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ctt(e,t,r)};Object.defineProperty(rf,"__esModule",{value:!0});ltt(Jhe(),rf)});var ef=h(WR=>{"use strict";l();Object.defineProperty(WR,"__esModule",{value:!0});WR.Resource=void 0;var $he=(j(),Y(K)),nf=Ri(),Ck=Ne(),dtt=Ik(),KS=class t{constructor(e,r){var o;this._attributes=e,this.asyncAttributesPending=r!=null,this._syncAttributes=(o=this._attributes)!==null&&o!==void 0?o:{},this._asyncAttributesPromise=r?.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>($he.diag.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return t.EMPTY}static default(){return new t({[nf.SemanticResourceAttributes.SERVICE_NAME]:(0,dtt.defaultServiceName)(),[nf.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Ck.SDK_INFO[nf.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[nf.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Ck.SDK_INFO[nf.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[nf.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Ck.SDK_INFO[nf.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var e;return this.asyncAttributesPending&&$he.diag.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var r;if(!e)return this;let o=Object.assign(Object.assign({},this._syncAttributes),(r=e._syncAttributes)!==null&&r!==void 0?r:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(o);let s=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(([a,i])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes),i)});return new t(o,s)}};WR.Resource=KS;KS.EMPTY=new KS({})});var ege=h(Qhe=>{"use strict";l();Object.defineProperty(Qhe,"__esModule",{value:!0})});var rge=h(tge=>{"use strict";l();Object.defineProperty(tge,"__esModule",{value:!0})});var ige=h(nge=>{"use strict";l();Object.defineProperty(nge,"__esModule",{value:!0})});var oge=h(ZR=>{"use strict";l();Object.defineProperty(ZR,"__esModule",{value:!0});ZR.browserDetector=void 0;var ftt=Cc(),Rk=class{detect(e){return Promise.resolve(ftt.browserDetectorSync.detect(e))}};ZR.browserDetector=new Rk});var Nk=h(qR=>{"use strict";l();Object.defineProperty(qR,"__esModule",{value:!0});qR.envDetectorSync=void 0;var ptt=(j(),Y(K)),htt=Ne(),gtt=Ri(),mtt=ef(),Ok=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){let r={},o=(0,htt.getEnv)(),s=o.OTEL_RESOURCE_ATTRIBUTES,a=o.OTEL_SERVICE_NAME;if(s)try{let i=this._parseResourceAttributes(s);Object.assign(r,i)}catch(i){ptt.diag.debug(`EnvDetector failed: ${i.message}`)}return a&&(r[gtt.SemanticResourceAttributes.SERVICE_NAME]=a),new mtt.Resource(r)}_parseResourceAttributes(e){if(!e)return{};let r={},o=e.split(this._COMMA_SEPARATOR,-1);for(let s of o){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[i,n]=a;if(i=i.trim(),n=n.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(i))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(n))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[i]=decodeURIComponent(n)}return r}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o<33||o===44||o===59||o===92||o>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}};qR.envDetectorSync=new Ok});var sge=h(YR=>{"use strict";l();Object.defineProperty(YR,"__esModule",{value:!0});YR.envDetector=void 0;var ytt=Nk(),wk=class{detect(e){return Promise.resolve(ytt.envDetectorSync.detect(e))}};YR.envDetector=new wk});var age=h(KR=>{"use strict";l();Object.defineProperty(KR,"__esModule",{value:!0});KR.browserDetectorSync=void 0;var jR=Ri(),Pk=Cc(),_tt=(j(),Y(K)),Mk=class{detect(e){if(!(typeof navigator<"u"))return Pk.Resource.empty();let o={[jR.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[jR.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[jR.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(o,e)}_getResourceAttributes(e,r){return e[jR.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(_tt.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Pk.Resource.empty()):new Pk.Resource(Object.assign({},e))}};KR.browserDetectorSync=new Mk});var uge=h(qs=>{"use strict";l();var Stt=qs&&qs.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),XR=qs&&qs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Stt(e,t,r)};Object.defineProperty(qs,"__esModule",{value:!0});XR(oge(),qs);XR(sge(),qs);XR(age(),qs);XR(Nk(),qs)});var cge=h(zR=>{"use strict";l();Object.defineProperty(zR,"__esModule",{value:!0});zR.isPromiseLike=void 0;var btt=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";zR.isPromiseLike=btt});var dge=h(lg=>{"use strict";l();Object.defineProperty(lg,"__esModule",{value:!0});lg.detectResourcesSync=lg.detectResources=void 0;var XS=ef(),cg=(j(),Y(K)),Ett=cge(),vtt=async(t={})=>{let e=await Promise.all((t.detectors||[]).map(async r=>{try{let o=await r.detect(t);return cg.diag.debug(`${r.constructor.name} found resource.`,o),o}catch(o){return cg.diag.debug(`${r.constructor.name} failed: ${o.message}`),XS.Resource.empty()}}));return lge(e),e.reduce((r,o)=>r.merge(o),XS.Resource.empty())};lg.detectResources=vtt;var Ttt=(t={})=>{var e;let r=((e=t.detectors)!==null&&e!==void 0?e:[]).map(s=>{try{let a=s.detect(t),i;if((0,Ett.isPromiseLike)(a)){let n=async()=>(await a).attributes;i=new XS.Resource({},n())}else i=a;return i.waitForAsyncAttributes?i.waitForAsyncAttributes().then(()=>cg.diag.debug(`${s.constructor.name} found resource.`,i)):cg.diag.debug(`${s.constructor.name} found resource.`,i),i}catch(a){return cg.diag.error(`${s.constructor.name} failed: ${a.message}`),XS.Resource.empty()}}),o=r.reduce((s,a)=>s.merge(a),XS.Resource.empty());return o.waitForAsyncAttributes&&o.waitForAsyncAttributes().then(()=>{lge(r)}),o};lg.detectResourcesSync=Ttt;var lge=t=>{t.forEach(e=>{if(Object.keys(e.attributes).length>0){let r=JSON.stringify(e.attributes,null,4);cg.diag.verbose(r)}})}});var Cc=h(wi=>{"use strict";l();var Att=wi&&wi.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),of=wi&&wi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Att(e,t,r)};Object.defineProperty(wi,"__esModule",{value:!0});of(ef(),wi);of(ege(),wi);of(Ik(),wi);of(rge(),wi);of(ige(),wi);of(uge(),wi);of(dge(),wi)});var Bk=h($R=>{"use strict";l();Object.defineProperty($R,"__esModule",{value:!0});$R.LogRecord=void 0;var Itt=(j(),Y(K)),zS=(j(),Y(K)),JR=Ne(),xk=class{constructor(e,r,o){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:s,observedTimestamp:a,severityNumber:i,severityText:n,body:u,attributes:c={},context:d}=o,f=Date.now();if(this.hrTime=(0,JR.timeInputToHrTime)(s??f),this.hrTimeObserved=(0,JR.timeInputToHrTime)(a??f),d){let g=zS.trace.getSpanContext(d);g&&zS.isSpanContextValid(g)&&(this.spanContext=g)}this.severityNumber=i,this.severityText=n,this.body=u,this.resource=e.resource,this.instrumentationScope=r,this._logRecordLimits=e.logRecordLimits,this.setAttributes(c)}set severityText(e){this._isLogRecordReadonly()||(this._severityText=e)}get severityText(){return this._severityText}set severityNumber(e){this._isLogRecordReadonly()||(this._severityNumber=e)}get severityNumber(){return this._severityNumber}set body(e){this._isLogRecordReadonly()||(this._body=e)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(e,r){return this._isLogRecordReadonly()?this:r===null?this:e.length===0?(zS.diag.warn(`Invalid attribute key: ${e}`),this):!(0,JR.isAttributeValue)(r)&&!(typeof r=="object"&&!Array.isArray(r)&&Object.keys(r).length>0)?(zS.diag.warn(`Invalid attribute value set for key: ${e}`),this):(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this:((0,JR.isAttributeValue)(r)?this.attributes[e]=this._truncateToSize(r):this.attributes[e]=r,this))}setAttributes(e){for(let[r,o]of Object.entries(e))this.setAttribute(r,o);return this}setBody(e){return this.body=e,this}setSeverityNumber(e){return this.severityNumber=e,this}setSeverityText(e){return this.severityText=e,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(e){let r=this._logRecordLimits.attributeValueLengthLimit;return r<=0?(zS.diag.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,r):o):e}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_isLogRecordReadonly(){return this._isReadonly&&Itt.diag.warn("Can not execute the operation on emitted log record"),this._isReadonly}};$R.LogRecord=xk});var fge=h(QR=>{"use strict";l();Object.defineProperty(QR,"__esModule",{value:!0});QR.Logger=void 0;var Ctt=(j(),Y(K)),Rtt=Bk(),Dk=class{constructor(e,r){this.instrumentationScope=e,this._sharedState=r}emit(e){let r=e.context||Ctt.context.active(),o=new Rtt.LogRecord(this._sharedState,this.instrumentationScope,Object.assign({context:r},e));this._sharedState.activeProcessor.onEmit(o,r),o._makeReadonly()}};QR.Logger=Dk});var pge=h(dg=>{"use strict";l();Object.defineProperty(dg,"__esModule",{value:!0});dg.reconfigureLimits=dg.loadDefaultConfig=void 0;var JS=Ne();function Ott(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,JS.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,JS.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}}dg.loadDefaultConfig=Ott;function Ntt(t){var e,r,o,s,a,i;let n=(0,JS.getEnvWithoutDefaults)();return{attributeCountLimit:(o=(r=(e=t.attributeCountLimit)!==null&&e!==void 0?e:n.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)!==null&&r!==void 0?r:n.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:JS.DEFAULT_ATTRIBUTE_COUNT_LIMIT,attributeValueLengthLimit:(i=(a=(s=t.attributeValueLengthLimit)!==null&&s!==void 0?s:n.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&a!==void 0?a:n.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&i!==void 0?i:JS.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT}}dg.reconfigureLimits=Ntt});var hge=h(eO=>{"use strict";l();Object.defineProperty(eO,"__esModule",{value:!0});eO.MultiLogRecordProcessor=void 0;var wtt=Ne(),Lk=class{constructor(e,r){this.processors=e,this.forceFlushTimeoutMillis=r}async forceFlush(){let e=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(r=>(0,wtt.callWithTimeout)(r.forceFlush(),e)))}onEmit(e,r){this.processors.forEach(o=>o.onEmit(e,r))}async shutdown(){await Promise.all(this.processors.map(e=>e.shutdown()))}};eO.MultiLogRecordProcessor=Lk});var Gk=h(tO=>{"use strict";l();Object.defineProperty(tO,"__esModule",{value:!0});tO.NoopLogRecordProcessor=void 0;var Uk=class{forceFlush(){return Promise.resolve()}onEmit(e,r){}shutdown(){return Promise.resolve()}};tO.NoopLogRecordProcessor=Uk});var gge=h(rO=>{"use strict";l();Object.defineProperty(rO,"__esModule",{value:!0});rO.LoggerProviderSharedState=void 0;var Ptt=Gk(),Vk=class{constructor(e,r,o){this.resource=e,this.forceFlushTimeoutMillis=r,this.logRecordLimits=o,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new Ptt.NoopLogRecordProcessor}};rO.LoggerProviderSharedState=Vk});var _ge=h(sf=>{"use strict";l();Object.defineProperty(sf,"__esModule",{value:!0});sf.LoggerProvider=sf.DEFAULT_LOGGER_NAME=void 0;var $S=(j(),Y(K)),Mtt=pk(),xtt=Cc(),mge=Ne(),Btt=fge(),yge=pge(),Dtt=hge(),Ltt=gge();sf.DEFAULT_LOGGER_NAME="unknown";var Fk=class{constructor(e={}){let{resource:r=xtt.Resource.default(),logRecordLimits:o,forceFlushTimeoutMillis:s}=(0,mge.merge)({},(0,yge.loadDefaultConfig)(),e);this._sharedState=new Ltt.LoggerProviderSharedState(r,s,(0,yge.reconfigureLimits)(o)),this._shutdownOnce=new mge.BindOnceFuture(this._shutdown,this)}getLogger(e,r,o){if(this._shutdownOnce.isCalled)return $S.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),Mtt.NOOP_LOGGER;e||$S.diag.warn("Logger requested without instrumentation scope name.");let s=e||sf.DEFAULT_LOGGER_NAME,a=`${s}@${r||""}:${o?.schemaUrl||""}`;return this._sharedState.loggers.has(a)||this._sharedState.loggers.set(a,new Btt.Logger({name:s,version:r,schemaUrl:o?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(a)}addLogRecordProcessor(e){this._sharedState.registeredLogRecordProcessors.length===0&&this._sharedState.activeProcessor.shutdown().catch(r=>$S.diag.error("Error while trying to shutdown current log record processor",r)),this._sharedState.registeredLogRecordProcessors.push(e),this._sharedState.activeProcessor=new Dtt.MultiLogRecordProcessor(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?($S.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?($S.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}};sf.LoggerProvider=Fk});var Sge=h(nO=>{"use strict";l();Object.defineProperty(nO,"__esModule",{value:!0});nO.ConsoleLogRecordExporter=void 0;var Utt=Ne(),Gtt=Ne(),Hk=class{export(e,r){this._sendLogRecords(e,r)}shutdown(){return Promise.resolve()}_exportInfo(e){var r,o,s;return{timestamp:(0,Utt.hrTimeToMicroseconds)(e.hrTime),traceId:(r=e.spanContext)===null||r===void 0?void 0:r.traceId,spanId:(o=e.spanContext)===null||o===void 0?void 0:o.spanId,traceFlags:(s=e.spanContext)===null||s===void 0?void 0:s.traceFlags,severityText:e.severityText,severityNumber:e.severityNumber,body:e.body,attributes:e.attributes}}_sendLogRecords(e,r){for(let o of e)console.dir(this._exportInfo(o),{depth:3});r?.({code:Gtt.ExportResultCode.SUCCESS})}};nO.ConsoleLogRecordExporter=Hk});var bge=h(iO=>{"use strict";l();Object.defineProperty(iO,"__esModule",{value:!0});iO.SimpleLogRecordProcessor=void 0;var fg=Ne(),kk=class{constructor(e){this._exporter=e,this._shutdownOnce=new fg.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}onEmit(e){var r,o;if(this._shutdownOnce.isCalled)return;let s=()=>fg.internal._export(this._exporter,[e]).then(a=>{var i;a.code!==fg.ExportResultCode.SUCCESS&&(0,fg.globalErrorHandler)((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))}).catch(fg.globalErrorHandler);if(e.resource.asyncAttributesPending){let a=(o=(r=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(r).then(()=>(this._unresolvedExports.delete(a),s()),fg.globalErrorHandler);a!=null&&this._unresolvedExports.add(a)}else s()}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports))}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};iO.SimpleLogRecordProcessor=kk});var vge=h(oO=>{"use strict";l();Object.defineProperty(oO,"__esModule",{value:!0});oO.InMemoryLogRecordExporter=void 0;var Ege=Ne(),Wk=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:Ege.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedLogRecords.push(...e),r({code:Ege.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}};oO.InMemoryLogRecordExporter=Wk});var Tge=h(sO=>{"use strict";l();Object.defineProperty(sO,"__esModule",{value:!0});sO.BatchLogRecordProcessorBase=void 0;var Vtt=(j(),Y(K)),Ys=Ne(),Zk=class{constructor(e,r){var o,s,a,i;this._exporter=e,this._finishedLogRecords=[];let n=(0,Ys.getEnv)();this._maxExportBatchSize=(o=r?.maxExportBatchSize)!==null&&o!==void 0?o:n.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=(s=r?.maxQueueSize)!==null&&s!==void 0?s:n.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=(a=r?.scheduledDelayMillis)!==null&&a!==void 0?a:n.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=(i=r?.exportTimeoutMillis)!==null&&i!==void 0?i:n.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new Ys.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Vtt.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(e){this._shutdownOnce.isCalled||this._addToBuffer(e)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(e){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(e),this._maybeStartTimer())}_flushAll(){return new Promise((e,r)=>{let o=[],s=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<s;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedLogRecords.length===0?Promise.resolve():new Promise((e,r)=>{(0,Ys.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>e()).catch(r)})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(e=>{(0,Ys.globalErrorHandler)(e)})},this._scheduledDelayMillis),(0,Ys.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}_export(e){let r=()=>Ys.internal._export(this._exporter,e).then(s=>{var a;s.code!==Ys.ExportResultCode.SUCCESS&&(0,Ys.globalErrorHandler)((a=s.error)!==null&&a!==void 0?a:new Error(`BatchLogRecordProcessor: log record export failed (status ${s})`))}).catch(Ys.globalErrorHandler),o=e.map(s=>s.resource).filter(s=>s.asyncAttributesPending);return o.length===0?r():Promise.all(o.map(s=>{var a;return(a=s.waitForAsyncAttributes)===null||a===void 0?void 0:a.call(s)})).then(r,Ys.globalErrorHandler)}};sO.BatchLogRecordProcessorBase=Zk});var Age=h(aO=>{"use strict";l();Object.defineProperty(aO,"__esModule",{value:!0});aO.BatchLogRecordProcessor=void 0;var Ftt=Tge(),qk=class extends Ftt.BatchLogRecordProcessorBase{onShutdown(){}};aO.BatchLogRecordProcessor=qk});var Ige=h(uO=>{"use strict";l();Object.defineProperty(uO,"__esModule",{value:!0});uO.BatchLogRecordProcessor=void 0;var Htt=Age();Object.defineProperty(uO,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Htt.BatchLogRecordProcessor}})});var Cge=h(cO=>{"use strict";l();Object.defineProperty(cO,"__esModule",{value:!0});cO.BatchLogRecordProcessor=void 0;var ktt=Ige();Object.defineProperty(cO,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return ktt.BatchLogRecordProcessor}})});var Yk=h(yn=>{"use strict";l();Object.defineProperty(yn,"__esModule",{value:!0});yn.BatchLogRecordProcessor=yn.InMemoryLogRecordExporter=yn.SimpleLogRecordProcessor=yn.ConsoleLogRecordExporter=yn.NoopLogRecordProcessor=yn.LogRecord=yn.LoggerProvider=void 0;var Wtt=_ge();Object.defineProperty(yn,"LoggerProvider",{enumerable:!0,get:function(){return Wtt.LoggerProvider}});var Ztt=Bk();Object.defineProperty(yn,"LogRecord",{enumerable:!0,get:function(){return Ztt.LogRecord}});var qtt=Gk();Object.defineProperty(yn,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return qtt.NoopLogRecordProcessor}});var Ytt=Sge();Object.defineProperty(yn,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return Ytt.ConsoleLogRecordExporter}});var jtt=bge();Object.defineProperty(yn,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return jtt.SimpleLogRecordProcessor}});var Ktt=vge();Object.defineProperty(yn,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return Ktt.InMemoryLogRecordExporter}});var Xtt=Cge();Object.defineProperty(yn,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return Xtt.BatchLogRecordProcessor}})});var lO=h(QS=>{"use strict";l();Object.defineProperty(QS,"__esModule",{value:!0});QS.AggregationTemporality=void 0;var ztt;(function(t){t[t.DELTA=0]="DELTA",t[t.CUMULATIVE=1]="CUMULATIVE"})(ztt=QS.AggregationTemporality||(QS.AggregationTemporality={}))});var pg=h(eb=>{"use strict";l();Object.defineProperty(eb,"__esModule",{value:!0});eb.DataPointType=void 0;var Jtt;(function(t){t[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM"})(Jtt=eb.DataPointType||(eb.DataPointType={}))});var js=h(Xt=>{"use strict";l();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.equalsCaseInsensitive=Xt.binarySearchLB=Xt.setEquals=Xt.FlatMap=Xt.isPromiseAllSettledRejectionResult=Xt.PromiseAllSettled=Xt.callWithTimeout=Xt.TimeoutError=Xt.instrumentationScopeId=Xt.hashAttributes=Xt.isNotNullish=void 0;function $tt(t){return t!=null}Xt.isNotNullish=$tt;function Qtt(t){let e=Object.keys(t);return e.length===0?"":(e=e.sort(),JSON.stringify(e.map(r=>[r,t[r]])))}Xt.hashAttributes=Qtt;function ert(t){var e,r;return`${t.name}:${(e=t.version)!==null&&e!==void 0?e:""}:${(r=t.schemaUrl)!==null&&r!==void 0?r:""}`}Xt.instrumentationScopeId=ert;var dO=class t extends Error{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}};Xt.TimeoutError=dO;function trt(t,e){let r,o=new Promise(function(a,i){r=setTimeout(function(){i(new dO("Operation timed out."))},e)});return Promise.race([t,o]).then(s=>(clearTimeout(r),s),s=>{throw clearTimeout(r),s})}Xt.callWithTimeout=trt;async function rrt(t){return Promise.all(t.map(async e=>{try{return{status:"fulfilled",value:await e}}catch(r){return{status:"rejected",reason:r}}}))}Xt.PromiseAllSettled=rrt;function nrt(t){return t.status==="rejected"}Xt.isPromiseAllSettledRejectionResult=nrt;function irt(t,e){let r=[];return t.forEach(o=>{r.push(...e(o))}),r}Xt.FlatMap=irt;function ort(t,e){if(t.size!==e.size)return!1;for(let r of t)if(!e.has(r))return!1;return!0}Xt.setEquals=ort;function srt(t,e){let r=0,o=t.length-1;for(;o-r>1;){let s=Math.trunc((o+r)/2);t[s]<=e?r=s:o=s-1}return t[o]<=e?o:t[r]<=e?r:-1}Xt.binarySearchLB=srt;function art(t,e){return t.toLowerCase()===e.toLowerCase()}Xt.equalsCaseInsensitive=art});var hg=h(tb=>{"use strict";l();Object.defineProperty(tb,"__esModule",{value:!0});tb.AggregatorKind=void 0;var urt;(function(t){t[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(urt=tb.AggregatorKind||(tb.AggregatorKind={}))});var Rge=h(fO=>{"use strict";l();Object.defineProperty(fO,"__esModule",{value:!0});fO.DropAggregator=void 0;var crt=hg(),jk=class{constructor(){this.kind=crt.AggregatorKind.DROP}createAccumulation(){}merge(e,r){}diff(e,r){}toMetricData(e,r,o,s){}};fO.DropAggregator=jk});var au=h(Pi=>{"use strict";l();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.isValidName=Pi.isDescriptorCompatibleWith=Pi.createInstrumentDescriptorWithView=Pi.createInstrumentDescriptor=Pi.InstrumentType=void 0;var Oge=(j(),Y(K)),lrt=js(),drt;(function(t){t.COUNTER="COUNTER",t.HISTOGRAM="HISTOGRAM",t.UP_DOWN_COUNTER="UP_DOWN_COUNTER",t.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",t.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",t.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(drt=Pi.InstrumentType||(Pi.InstrumentType={}));function frt(t,e,r){var o,s,a,i;return Nge(t)||Oge.diag.warn(`Invalid metric name: "${t}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:t,type:e,description:(o=r?.description)!==null&&o!==void 0?o:"",unit:(s=r?.unit)!==null&&s!==void 0?s:"",valueType:(a=r?.valueType)!==null&&a!==void 0?a:Oge.ValueType.DOUBLE,advice:(i=r?.advice)!==null&&i!==void 0?i:{}}}Pi.createInstrumentDescriptor=frt;function prt(t,e){var r,o;return{name:(r=t.name)!==null&&r!==void 0?r:e.name,description:(o=t.description)!==null&&o!==void 0?o:e.description,type:e.type,unit:e.unit,valueType:e.valueType,advice:e.advice}}Pi.createInstrumentDescriptorWithView=prt;function hrt(t,e){return(0,lrt.equalsCaseInsensitive)(t.name,e.name)&&t.unit===e.unit&&t.type===e.type&&t.valueType===e.valueType}Pi.isDescriptorCompatibleWith=hrt;var grt=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function Nge(t){return t.match(grt)!=null}Pi.isValidName=Nge});var wge=h(mg=>{"use strict";l();Object.defineProperty(mg,"__esModule",{value:!0});mg.HistogramAggregator=mg.HistogramAccumulation=void 0;var mrt=hg(),yrt=pg(),Kk=au(),_rt=js();function Srt(t){let e=t.map(()=>0);return e.push(0),{buckets:{boundaries:t,counts:e},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var gg=class{constructor(e,r,o=!0,s=Srt(r)){this.startTime=e,this._boundaries=r,this._recordMinMax=o,this._current=s}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);let r=(0,_rt.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[r+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};mg.HistogramAccumulation=gg;var Xk=class{constructor(e,r){this._boundaries=e,this._recordMinMax=r,this.kind=mrt.AggregatorKind.HISTOGRAM}createAccumulation(e){return new gg(e,this._boundaries,this._recordMinMax)}merge(e,r){let o=e.toPointValue(),s=r.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let d=0;d<a.length;d++)n[d]=a[d]+i[d];let u=1/0,c=-1/0;return this._recordMinMax&&(o.hasMinMax&&s.hasMinMax?(u=Math.min(o.min,s.min),c=Math.max(o.max,s.max)):o.hasMinMax?(u=o.min,c=o.max):s.hasMinMax&&(u=s.min,c=s.max)),new gg(e.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:o.count+s.count,sum:o.sum+s.sum,hasMinMax:this._recordMinMax&&(o.hasMinMax||s.hasMinMax),min:u,max:c})}diff(e,r){let o=e.toPointValue(),s=r.toPointValue(),a=o.buckets.counts,i=s.buckets.counts,n=new Array(a.length);for(let u=0;u<a.length;u++)n[u]=i[u]-a[u];return new gg(r.startTime,o.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:o.buckets.boundaries,counts:n},count:s.count-o.count,sum:s.sum-o.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,r,o,s){return{descriptor:e,aggregationTemporality:r,dataPointType:yrt.DataPointType.HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),u=e.type===Kk.InstrumentType.UP_DOWN_COUNTER||e.type===Kk.InstrumentType.OBSERVABLE_GAUGE||e.type===Kk.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:u?void 0:n.sum,buckets:n.buckets,count:n.count}}})}}};mg.HistogramAggregator=Xk});var Pge=h(pO=>{"use strict";l();Object.defineProperty(pO,"__esModule",{value:!0});pO.Buckets=void 0;var zk=class t{constructor(e=new Jk,r=0,o=0,s=0){this.backing=e,this.indexBase=r,this.indexStart=o,this.indexEnd=s}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(e,r)=>this.at(r))}at(e){let r=this.indexBase-this.indexStart;return e<r&&(e+=this.backing.length),e-=r,this.backing.countAt(e)}incrementBucket(e,r){this.backing.increment(e,r)}decrementBucket(e,r){this.backing.decrement(e,r)}trim(){for(let e=0;e<this.length;e++)if(this.at(e)!==0){this.indexStart+=e;break}else if(e===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let e=this.length-1;e>=0;e--)if(this.at(e)!==0){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();let r=1+this.indexEnd-this.indexStart,o=1<<e,s=0,a=0;for(let i=this.indexStart;i<=this.indexEnd;){let n=i%o;n<0&&(n+=o);for(let u=n;u<o&&s<r;u++)this._relocateBucket(a,s),s++,i++;a++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new t(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let e=this.indexBase-this.indexStart;e!==0&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,r){e!==r&&this.incrementBucket(e,this.backing.emptyBucket(r))}};pO.Buckets=zk;var Jk=class t{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,r,o){let s=new Array(e).fill(0);s.splice(o,this._counts.length-r,...this._counts.slice(r)),s.splice(0,r,...this._counts.slice(0,r)),this._counts=s}reverse(e,r){let o=Math.floor((e+r)/2)-e;for(let s=0;s<o;s++){let a=this._counts[e+s];this._counts[e+s]=this._counts[r-s-1],this._counts[r-s-1]=a}}emptyBucket(e){let r=this._counts[e];return this._counts[e]=0,r}increment(e,r){this._counts[e]+=r}decrement(e,r){this._counts[e]>=r?this._counts[e]-=r:this._counts[e]=0}clone(){return new t([...this._counts])}}});var Qk=h(ii=>{"use strict";l();Object.defineProperty(ii,"__esModule",{value:!0});ii.getSignificand=ii.getNormalBase2=ii.MIN_VALUE=ii.MAX_NORMAL_EXPONENT=ii.MIN_NORMAL_EXPONENT=ii.SIGNIFICAND_WIDTH=void 0;ii.SIGNIFICAND_WIDTH=52;var brt=2146435072,Ert=1048575,$k=1023;ii.MIN_NORMAL_EXPONENT=-$k+1;ii.MAX_NORMAL_EXPONENT=$k;ii.MIN_VALUE=Math.pow(2,-1022);function vrt(t){let e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t),((e.getUint32(0)&brt)>>20)-$k}ii.getNormalBase2=vrt;function Trt(t){let e=new DataView(new ArrayBuffer(8));e.setFloat64(0,t);let r=e.getUint32(0),o=e.getUint32(4);return(r&Ert)*Math.pow(2,32)+o}ii.getSignificand=Trt});var hO=h(yg=>{"use strict";l();Object.defineProperty(yg,"__esModule",{value:!0});yg.nextGreaterSquare=yg.ldexp=void 0;function Art(t,e){return t===0||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t)?t:t*Math.pow(2,e)}yg.ldexp=Art;function Irt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}yg.nextGreaterSquare=Irt});var mO=h(gO=>{"use strict";l();Object.defineProperty(gO,"__esModule",{value:!0});gO.MappingError=void 0;var e3=class extends Error{};gO.MappingError=e3});var xge=h(yO=>{"use strict";l();Object.defineProperty(yO,"__esModule",{value:!0});yO.ExponentMapping=void 0;var _g=Qk(),Crt=hO(),Mge=mO(),t3=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<_g.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let r=_g.getNormalBase2(e),o=this._rightShift(_g.getSignificand(e)-1,_g.SIGNIFICAND_WIDTH);return r+o>>this._shift}lowerBoundary(e){let r=this._minNormalLowerBoundaryIndex();if(e<r)throw new Mge.MappingError(`underflow: ${e} is < minimum lower boundary: ${r}`);let o=this._maxNormalLowerBoundaryIndex();if(e>o)throw new Mge.MappingError(`overflow: ${e} is > maximum lower boundary: ${o}`);return Crt.ldexp(1,e<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=_g.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return _g.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(e,r){return Math.floor(e*Math.pow(2,-r))}};yO.ExponentMapping=t3});var Lge=h(_O=>{"use strict";l();Object.defineProperty(_O,"__esModule",{value:!0});_O.LogarithmMapping=void 0;var Sg=Qk(),Bge=hO(),Dge=mO(),r3=class{constructor(e){this._scale=e,this._scaleFactor=Bge.ldexp(Math.LOG2E,e),this._inverseFactor=Bge.ldexp(Math.LN2,-e)}mapToIndex(e){if(e<=Sg.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(Sg.getSignificand(e)===0)return(Sg.getNormalBase2(e)<<this._scale)-1;let r=Math.floor(Math.log(e)*this._scaleFactor),o=this._maxNormalLowerBoundaryIndex();return r>=o?o:r}lowerBoundary(e){let r=this._maxNormalLowerBoundaryIndex();if(e>=r){if(e===r)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new Dge.MappingError(`overflow: ${e} is > maximum lower boundary: ${r}`)}let o=this._minNormalLowerBoundaryIndex();if(e<=o){if(e===o)return Sg.MIN_VALUE;if(e===o-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new Dge.MappingError(`overflow: ${e} is < minimum lower boundary: ${o}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return Sg.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(Sg.MAX_NORMAL_EXPONENT+1<<this._scale)-1}};_O.LogarithmMapping=r3});var Vge=h(SO=>{"use strict";l();Object.defineProperty(SO,"__esModule",{value:!0});SO.getMapping=void 0;var Rrt=xge(),Ort=Lge(),Nrt=mO(),Uge=-10,Gge=20,wrt=Array.from({length:31},(t,e)=>e>10?new Ort.LogarithmMapping(e-10):new Rrt.ExponentMapping(e-10));function Prt(t){if(t>Gge||t<Uge)throw new Nrt.MappingError(`expected scale >= ${Uge} && <= ${Gge}, got: ${t}`);return wrt[t+10]}SO.getMapping=Prt});var kge=h(Eg=>{"use strict";l();Object.defineProperty(Eg,"__esModule",{value:!0});Eg.ExponentialHistogramAggregator=Eg.ExponentialHistogramAccumulation=void 0;var Mrt=hg(),xrt=pg(),Brt=(j(),Y(K)),n3=au(),Fge=Pge(),Hge=Vge(),Drt=hO(),bg=class t{constructor(e,r){this.low=e,this.high=r}static combine(e,r){return new t(Math.min(e.low,r.low),Math.max(e.high,r.high))}},Lrt=20,Urt=160,i3=2,bO=class t{constructor(e=e,r=Urt,o=!0,s=0,a=0,i=0,n=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=new Fge.Buckets,d=new Fge.Buckets,f=(0,Hge.getMapping)(Lrt)){this.startTime=e,this._maxSize=r,this._recordMinMax=o,this._sum=s,this._count=a,this._zeroCount=i,this._min=n,this._max=u,this._positive=c,this._negative=d,this._mapping=f,this._maxSize<i3&&(Brt.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${i3}`),this._maxSize=i3)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,r){if(e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=r,e===0){this._zeroCount+=r;return}this._sum+=e*r,e>0?this._updateBuckets(this._positive,e,r):this._updateBuckets(this._negative,-e,r)}merge(e){this._count===0?(this._min=e.min,this._max=e.max):e.count!==0&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._mergeBuckets(this.positive,e,e.positive,r),this._mergeBuckets(this.negative,e,e.negative,r)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;let r=this._minScale(e);this._downscale(this.scale-r),this._diffBuckets(this.positive,e,e.positive,r),this._diffBuckets(this.negative,e,e.negative,r)}clone(){return new t(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,r,o){let s=this._mapping.mapToIndex(r),a=!1,i=0,n=0;if(e.length===0?(e.indexStart=s,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):s<e.indexStart&&e.indexEnd-s>=this._maxSize?(a=!0,n=s,i=e.indexEnd):s>e.indexEnd&&s-e.indexStart>=this._maxSize&&(a=!0,n=e.indexStart,i=s),a){let u=this._changeScale(i,n);this._downscale(u),s=this._mapping.mapToIndex(r)}this._incrementIndexBy(e,s,o)}_incrementIndexBy(e,r,o){if(o===0)return;if(r<e.indexStart){let a=e.indexEnd-r;a>=e.backing.length&&this._grow(e,a+1),e.indexStart=r}else if(r>e.indexEnd){let a=r-e.indexStart;a>=e.backing.length&&this._grow(e,a+1),e.indexEnd=r}let s=r-e.indexBase;s<0&&(s+=e.backing.length),e.incrementBucket(s,o)}_grow(e,r){let o=e.backing.length,s=e.indexBase-e.indexStart,a=o-s,i=(0,Drt.nextGreaterSquare)(r);i>this._maxSize&&(i=this._maxSize);let n=i-s;e.backing.growTo(i,a,n)}_changeScale(e,r){let o=0;for(;e-r>=this._maxSize;)e>>=1,r>>=1,o++;return o}_downscale(e){if(e===0)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);let r=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=(0,Hge.getMapping)(r)}_minScale(e){let r=Math.min(this.scale,e.scale),o=bg.combine(this._highLowAtScale(this.positive,this.scale,r),this._highLowAtScale(e.positive,e.scale,r)),s=bg.combine(this._highLowAtScale(this.negative,this.scale,r),this._highLowAtScale(e.negative,e.scale,r));return Math.min(r-this._changeScale(o.high,o.low),r-this._changeScale(s.high,s.low))}_highLowAtScale(e,r,o){if(e.length===0)return new bg(0,-1);let s=r-o;return new bg(e.indexStart>>s,e.indexEnd>>s)}_mergeBuckets(e,r,o,s){let a=o.offset,i=r.scale-s;for(let n=0;n<o.length;n++)this._incrementIndexBy(e,a+n>>i,o.at(n))}_diffBuckets(e,r,o,s){let a=o.offset,i=r.scale-s;for(let n=0;n<o.length;n++){let c=(a+n>>i)-e.indexBase;c<0&&(c+=e.backing.length),e.decrementBucket(c,o.at(n))}e.trim()}};Eg.ExponentialHistogramAccumulation=bO;var o3=class{constructor(e,r){this._maxSize=e,this._recordMinMax=r,this.kind=Mrt.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new bO(e,this._maxSize,this._recordMinMax)}merge(e,r){let o=r.clone();return o.merge(e),o}diff(e,r){let o=r.clone();return o.diff(e),o}toMetricData(e,r,o,s){return{descriptor:e,aggregationTemporality:r,dataPointType:xrt.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:o.map(([a,i])=>{let n=i.toPointValue(),u=e.type===n3.InstrumentType.UP_DOWN_COUNTER||e.type===n3.InstrumentType.OBSERVABLE_GAUGE||e.type===n3.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:a,startTime:i.startTime,endTime:s,value:{min:n.hasMinMax?n.min:void 0,max:n.hasMinMax?n.max:void 0,sum:u?void 0:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},count:n.count,scale:n.scale,zeroCount:n.zeroCount}}})}}};Eg.ExponentialHistogramAggregator=o3});var Wge=h(Tg=>{"use strict";l();Object.defineProperty(Tg,"__esModule",{value:!0});Tg.LastValueAggregator=Tg.LastValueAccumulation=void 0;var Grt=hg(),rb=Ne(),Vrt=pg(),vg=class{constructor(e,r=0,o=[0,0]){this.startTime=e,this._current=r,this.sampleTime=o}record(e){this._current=e,this.sampleTime=(0,rb.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};Tg.LastValueAccumulation=vg;var s3=class{constructor(){this.kind=Grt.AggregatorKind.LAST_VALUE}createAccumulation(e){return new vg(e)}merge(e,r){let o=(0,rb.hrTimeToMicroseconds)(r.sampleTime)>=(0,rb.hrTimeToMicroseconds)(e.sampleTime)?r:e;return new vg(e.startTime,o.toPointValue(),o.sampleTime)}diff(e,r){let o=(0,rb.hrTimeToMicroseconds)(r.sampleTime)>=(0,rb.hrTimeToMicroseconds)(e.sampleTime)?r:e;return new vg(r.startTime,o.toPointValue(),o.sampleTime)}toMetricData(e,r,o,s){return{descriptor:e,aggregationTemporality:r,dataPointType:Vrt.DataPointType.GAUGE,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()}))}}};Tg.LastValueAggregator=s3});var Zge=h(Ag=>{"use strict";l();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.SumAggregator=Ag.SumAccumulation=void 0;var Frt=hg(),Hrt=pg(),Rc=class{constructor(e,r,o=0,s=!1){this.startTime=e,this.monotonic=r,this._current=o,this.reset=s}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}};Ag.SumAccumulation=Rc;var a3=class{constructor(e){this.monotonic=e,this.kind=Frt.AggregatorKind.SUM}createAccumulation(e){return new Rc(e,this.monotonic)}merge(e,r){let o=e.toPointValue(),s=r.toPointValue();return r.reset?new Rc(r.startTime,this.monotonic,s,r.reset):new Rc(e.startTime,this.monotonic,o+s)}diff(e,r){let o=e.toPointValue(),s=r.toPointValue();return this.monotonic&&o>s?new Rc(r.startTime,this.monotonic,s,!0):new Rc(r.startTime,this.monotonic,s-o)}toMetricData(e,r,o,s){return{descriptor:e,aggregationTemporality:r,dataPointType:Hrt.DataPointType.SUM,dataPoints:o.map(([a,i])=>({attributes:a,startTime:i.startTime,endTime:s,value:i.toPointValue()})),isMonotonic:this.monotonic}}};Ag.SumAggregator=a3});var qge=h(jo=>{"use strict";l();var krt=jo&&jo.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),nb=jo&&jo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&krt(e,t,r)};Object.defineProperty(jo,"__esModule",{value:!0});nb(Rge(),jo);nb(wge(),jo);nb(kge(),jo);nb(Wge(),jo);nb(Zge(),jo)});var AO=h(Pr=>{"use strict";l();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.DefaultAggregation=Pr.ExponentialHistogramAggregation=Pr.ExplicitBucketHistogramAggregation=Pr.HistogramAggregation=Pr.LastValueAggregation=Pr.SumAggregation=Pr.DropAggregation=Pr.Aggregation=void 0;var Wrt=(j(),Y(K)),af=qge(),uu=au(),Ks=class{static Drop(){return Yge}static Sum(){return jge}static LastValue(){return Kge}static Histogram(){return Xge}static ExponentialHistogram(){return Zrt}static Default(){return qrt}};Pr.Aggregation=Ks;var ib=class t extends Ks{createAggregator(e){return t.DEFAULT_INSTANCE}};Pr.DropAggregation=ib;ib.DEFAULT_INSTANCE=new af.DropAggregator;var Ig=class t extends Ks{createAggregator(e){switch(e.type){case uu.InstrumentType.COUNTER:case uu.InstrumentType.OBSERVABLE_COUNTER:case uu.InstrumentType.HISTOGRAM:return t.MONOTONIC_INSTANCE;default:return t.NON_MONOTONIC_INSTANCE}}};Pr.SumAggregation=Ig;Ig.MONOTONIC_INSTANCE=new af.SumAggregator(!0);Ig.NON_MONOTONIC_INSTANCE=new af.SumAggregator(!1);var ob=class t extends Ks{createAggregator(e){return t.DEFAULT_INSTANCE}};Pr.LastValueAggregation=ob;ob.DEFAULT_INSTANCE=new af.LastValueAggregator;var sb=class t extends Ks{createAggregator(e){return t.DEFAULT_INSTANCE}};Pr.HistogramAggregation=sb;sb.DEFAULT_INSTANCE=new af.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);var EO=class extends Ks{constructor(e,r=!0){if(super(),this._recordMinMax=r,e===void 0||e.length===0)throw new Error("HistogramAggregator should be created with boundaries.");e=e.concat(),e=e.sort((a,i)=>a-i);let o=e.lastIndexOf(-1/0),s=e.indexOf(1/0);s===-1&&(s=void 0),this._boundaries=e.slice(o+1,s)}createAggregator(e){return new af.HistogramAggregator(this._boundaries,this._recordMinMax)}};Pr.ExplicitBucketHistogramAggregation=EO;var vO=class extends Ks{constructor(e=160,r=!0){super(),this._maxSize=e,this._recordMinMax=r}createAggregator(e){return new af.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}};Pr.ExponentialHistogramAggregation=vO;var TO=class extends Ks{_resolve(e){switch(e.type){case uu.InstrumentType.COUNTER:case uu.InstrumentType.UP_DOWN_COUNTER:case uu.InstrumentType.OBSERVABLE_COUNTER:case uu.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return jge;case uu.InstrumentType.OBSERVABLE_GAUGE:return Kge;case uu.InstrumentType.HISTOGRAM:return e.advice.explicitBucketBoundaries?new EO(e.advice.explicitBucketBoundaries):Xge}return Wrt.diag.warn(`Unable to recognize instrument type: ${e.type}`),Yge}createAggregator(e){return this._resolve(e).createAggregator(e)}};Pr.DefaultAggregation=TO;var Yge=new ib,jge=new Ig,Kge=new ob,Xge=new sb,Zrt=new vO,qrt=new TO});var u3=h(Cg=>{"use strict";l();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=Cg.DEFAULT_AGGREGATION_SELECTOR=void 0;var Yrt=AO(),jrt=lO(),Krt=t=>Yrt.Aggregation.Default();Cg.DEFAULT_AGGREGATION_SELECTOR=Krt;var Xrt=t=>jrt.AggregationTemporality.CUMULATIVE;Cg.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=Xrt});var l3=h(CO=>{"use strict";l();Object.defineProperty(CO,"__esModule",{value:!0});CO.MetricReader=void 0;var zge=(j(),Y(K)),IO=js(),Jge=u3(),c3=class{constructor(e){var r,o,s;this._shutdown=!1,this._aggregationSelector=(r=e?.aggregationSelector)!==null&&r!==void 0?r:Jge.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(o=e?.aggregationTemporalitySelector)!==null&&o!==void 0?o:Jge.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=(s=e?.metricProducers)!==null&&s!==void 0?s:[]}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[r,...o]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:e?.timeoutMillis}),...this._metricProducers.map(n=>n.collect({timeoutMillis:e?.timeoutMillis}))]),s=r.errors.concat((0,IO.FlatMap)(o,n=>n.errors)),a=r.resourceMetrics.resource,i=r.resourceMetrics.scopeMetrics.concat((0,IO.FlatMap)(o,n=>n.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:a,scopeMetrics:i},errors:s}}async shutdown(e){if(this._shutdown){zge.diag.error("Cannot call shutdown twice.");return}e?.timeoutMillis==null?await this.onShutdown():await(0,IO.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0}async forceFlush(e){if(this._shutdown){zge.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(e?.timeoutMillis==null){await this.onForceFlush();return}await(0,IO.callWithTimeout)(this.onForceFlush(),e.timeoutMillis)}};CO.MetricReader=c3});var eme=h(OO=>{"use strict";l();Object.defineProperty(OO,"__esModule",{value:!0});OO.PeriodicExportingMetricReader=void 0;var $ge=(j(),Y(K)),RO=Ne(),zrt=l3(),Qge=js(),Jrt=(j(),Y(K)),d3=class extends zrt.MetricReader{constructor(e){var r,o,s,a;if(super({aggregationSelector:(r=e.exporter.selectAggregation)===null||r===void 0?void 0:r.bind(e.exporter),aggregationTemporalitySelector:(o=e.exporter.selectAggregationTemporality)===null||o===void 0?void 0:o.bind(e.exporter),metricProducers:e.metricProducers}),e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(e.exportTimeoutMillis!==void 0&&e.exportIntervalMillis!==void 0&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(s=e.exportIntervalMillis)!==null&&s!==void 0?s:6e4,this._exportTimeout=(a=e.exportTimeoutMillis)!==null&&a!==void 0?a:3e4,this._exporter=e.exporter}async _runOnce(){try{await(0,Qge.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof Qge.TimeoutError){$ge.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,RO.globalErrorHandler)(e)}}async _doRun(){var e,r;let{resourceMetrics:o,errors:s}=await this.collect({timeoutMillis:this._exportTimeout});s.length>0&&$ge.diag.error("PeriodicExportingMetricReader: metrics collection errors",...s);let a=async()=>{let i=await RO.internal._export(this._exporter,o);if(i.code!==RO.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${i.error})`)};o.resource.asyncAttributesPending?(r=(e=o.resource).waitForAsyncAttributes)===null||r===void 0||r.call(e).then(a,i=>Jrt.diag.debug("Error while resolving async portion of resource: ",i)):await a()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,RO.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};OO.PeriodicExportingMetricReader=d3});var rme=h(NO=>{"use strict";l();Object.defineProperty(NO,"__esModule",{value:!0});NO.InMemoryMetricExporter=void 0;var tme=Ne(),f3=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,r){if(this._shutdown){setTimeout(()=>r({code:tme.ExportResultCode.FAILED}),0);return}this._metrics.push(e),setTimeout(()=>r({code:tme.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};NO.InMemoryMetricExporter=f3});var ime=h(wO=>{"use strict";l();Object.defineProperty(wO,"__esModule",{value:!0});wO.ConsoleMetricExporter=void 0;var nme=Ne(),$rt=u3(),p3=class t{constructor(e){var r;this._shutdown=!1,this._temporalitySelector=(r=e?.temporalitySelector)!==null&&r!==void 0?r:$rt.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(e,r){if(this._shutdown){setImmediate(r,{code:nme.ExportResultCode.FAILED});return}return t._sendMetrics(e,r)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,r){for(let o of e.scopeMetrics)for(let s of o.metrics)console.dir({descriptor:s.descriptor,dataPointType:s.dataPointType,dataPoints:s.dataPoints});r({code:nme.ExportResultCode.SUCCESS})}};wO.ConsoleMetricExporter=p3});var ome=h(PO=>{"use strict";l();Object.defineProperty(PO,"__esModule",{value:!0});PO.ViewRegistry=void 0;var h3=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,r){return this._registeredViews.filter(s=>this._matchInstrument(s.instrumentSelector,e)&&this._matchMeter(s.meterSelector,r))}_matchInstrument(e,r){return(e.getType()===void 0||r.type===e.getType())&&e.getNameFilter().match(r.name)&&e.getUnitFilter().match(r.unit)}_matchMeter(e,r){return e.getNameFilter().match(r.name)&&(r.version===void 0||e.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||e.getSchemaUrlFilter().match(r.schemaUrl))}};PO.ViewRegistry=h3});var MO=h(Sr=>{"use strict";l();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.isObservableInstrument=Sr.ObservableUpDownCounterInstrument=Sr.ObservableGaugeInstrument=Sr.ObservableCounterInstrument=Sr.ObservableInstrument=Sr.HistogramInstrument=Sr.CounterInstrument=Sr.UpDownCounterInstrument=Sr.SyncInstrument=void 0;var Rg=(j(),Y(K)),Qrt=Ne(),Og=class{constructor(e,r){this._writableMetricStorage=e,this._descriptor=r}_record(e,r={},o=Rg.context.active()){if(typeof e!="number"){Rg.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`);return}this._descriptor.valueType===Rg.ValueType.INT&&!Number.isInteger(e)&&(Rg.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._writableMetricStorage.record(e,r,o,(0,Qrt.millisToHrTime)(Date.now()))}};Sr.SyncInstrument=Og;var g3=class extends Og{add(e,r,o){this._record(e,r,o)}};Sr.UpDownCounterInstrument=g3;var m3=class extends Og{add(e,r,o){if(e<0){Rg.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`);return}this._record(e,r,o)}};Sr.CounterInstrument=m3;var y3=class extends Og{record(e,r,o){if(e<0){Rg.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`);return}this._record(e,r,o)}};Sr.HistogramInstrument=y3;var uf=class{constructor(e,r,o){this._observableRegistry=o,this._descriptor=e,this._metricStorages=r}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}};Sr.ObservableInstrument=uf;var _3=class extends uf{};Sr.ObservableCounterInstrument=_3;var S3=class extends uf{};Sr.ObservableGaugeInstrument=S3;var b3=class extends uf{};Sr.ObservableUpDownCounterInstrument=b3;function ent(t){return t instanceof uf}Sr.isObservableInstrument=ent});var sme=h(xO=>{"use strict";l();Object.defineProperty(xO,"__esModule",{value:!0});xO.Meter=void 0;var uo=au(),Ng=MO(),E3=class{constructor(e){this._meterSharedState=e}createHistogram(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.HISTOGRAM,r),s=this._meterSharedState.registerMetricStorage(o);return new Ng.HistogramInstrument(s,o)}createCounter(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.COUNTER,r),s=this._meterSharedState.registerMetricStorage(o);return new Ng.CounterInstrument(s,o)}createUpDownCounter(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.UP_DOWN_COUNTER,r),s=this._meterSharedState.registerMetricStorage(o);return new Ng.UpDownCounterInstrument(s,o)}createObservableGauge(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.OBSERVABLE_GAUGE,r),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Ng.ObservableGaugeInstrument(o,s,this._meterSharedState.observableRegistry)}createObservableCounter(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.OBSERVABLE_COUNTER,r),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Ng.ObservableCounterInstrument(o,s,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,r){let o=(0,uo.createInstrumentDescriptor)(e,uo.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),s=this._meterSharedState.registerAsyncMetricStorage(o);return new Ng.ObservableUpDownCounterInstrument(o,s,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.addBatchCallback(e,r)}removeBatchObservableCallback(e,r){this._meterSharedState.observableRegistry.removeBatchCallback(e,r)}};xO.Meter=E3});var T3=h(BO=>{"use strict";l();Object.defineProperty(BO,"__esModule",{value:!0});BO.MetricStorage=void 0;var tnt=au(),v3=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,tnt.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}};BO.MetricStorage=v3});var ab=h(wg=>{"use strict";l();Object.defineProperty(wg,"__esModule",{value:!0});wg.AttributeHashMap=wg.HashMap=void 0;var rnt=js(),DO=class{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,r){return r??(r=this._hash(e)),this._valueMap.get(r)}getOrDefault(e,r){let o=this._hash(e);if(this._valueMap.has(o))return this._valueMap.get(o);let s=r();return this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,s),s}set(e,r,o){o??(o=this._hash(e)),this._keyMap.has(o)||this._keyMap.set(o,e),this._valueMap.set(o,r)}has(e,r){return r??(r=this._hash(e)),this._valueMap.has(r)}*keys(){let e=this._keyMap.entries(),r=e.next();for(;r.done!==!0;)yield[r.value[1],r.value[0]],r=e.next()}*entries(){let e=this._valueMap.entries(),r=e.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=e.next()}get size(){return this._valueMap.size}};wg.HashMap=DO;var A3=class extends DO{constructor(){super(rnt.hashAttributes)}};wg.AttributeHashMap=A3});var R3=h(LO=>{"use strict";l();Object.defineProperty(LO,"__esModule",{value:!0});LO.DeltaMetricProcessor=void 0;var I3=ab(),C3=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new I3.AttributeHashMap,this._cumulativeMemoStorage=new I3.AttributeHashMap}record(e,r,o,s){let a=this._activeCollectionStorage.getOrDefault(r,()=>this._aggregator.createAccumulation(s));a?.record(e)}batchCumulate(e,r){Array.from(e.entries()).forEach(([o,s,a])=>{let i=this._aggregator.createAccumulation(r);i?.record(s);let n=i;if(this._cumulativeMemoStorage.has(o,a)){let u=this._cumulativeMemoStorage.get(o,a);n=this._aggregator.diff(u,i)}if(this._activeCollectionStorage.has(o,a)){let u=this._activeCollectionStorage.get(o,a);n=this._aggregator.merge(u,n)}this._cumulativeMemoStorage.set(o,i,a),this._activeCollectionStorage.set(o,n,a)})}collect(){let e=this._activeCollectionStorage;return this._activeCollectionStorage=new I3.AttributeHashMap,e}};LO.DeltaMetricProcessor=C3});var N3=h(UO=>{"use strict";l();Object.defineProperty(UO,"__esModule",{value:!0});UO.TemporalMetricProcessor=void 0;var nnt=lO(),int=ab(),O3=class t{constructor(e,r){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,r.forEach(o=>{this._unreportedAccumulations.set(o,[])})}buildMetrics(e,r,o,s){this._stashAccumulations(o);let a=this._getMergedUnreportedAccumulations(e),i=a,n;if(this._reportHistory.has(e)){let c=this._reportHistory.get(e),d=c.collectionTime;n=c.aggregationTemporality,n===nnt.AggregationTemporality.CUMULATIVE?i=t.merge(c.accumulations,a,this._aggregator):i=t.calibrateStartTime(c.accumulations,a,d)}else n=e.selectAggregationTemporality(r.type);this._reportHistory.set(e,{accumulations:i,collectionTime:s,aggregationTemporality:n});let u=ont(i);if(u.length!==0)return this._aggregator.toMetricData(r,n,u,s)}_stashAccumulations(e){let r=this._unreportedAccumulations.keys();for(let o of r){let s=this._unreportedAccumulations.get(o);s===void 0&&(s=[],this._unreportedAccumulations.set(o,s)),s.push(e)}}_getMergedUnreportedAccumulations(e){let r=new int.AttributeHashMap,o=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),o===void 0)return r;for(let s of o)r=t.merge(r,s,this._aggregator);return r}static merge(e,r,o){let s=e,a=r.entries(),i=a.next();for(;i.done!==!0;){let[n,u,c]=i.value;if(e.has(n,c)){let d=e.get(n,c),f=o.merge(d,u);s.set(n,f,c)}else s.set(n,u,c);i=a.next()}return s}static calibrateStartTime(e,r,o){for(let[s,a]of e.keys()){let i=r.get(s,a);i?.setStartTime(o)}return r}};UO.TemporalMetricProcessor=O3;function ont(t){return Array.from(t.entries())}});var ame=h(GO=>{"use strict";l();Object.defineProperty(GO,"__esModule",{value:!0});GO.AsyncMetricStorage=void 0;var snt=T3(),ant=R3(),unt=N3(),cnt=ab(),w3=class extends snt.MetricStorage{constructor(e,r,o,s){super(e),this._attributesProcessor=o,this._deltaMetricStorage=new ant.DeltaMetricProcessor(r),this._temporalMetricStorage=new unt.TemporalMetricProcessor(r,s)}record(e,r){let o=new cnt.AttributeHashMap;Array.from(e.entries()).forEach(([s,a])=>{o.set(this._attributesProcessor.process(s),a)}),this._deltaMetricStorage.batchCumulate(o,r)}collect(e,r){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,r)}};GO.AsyncMetricStorage=w3});var fme=h(oi=>{"use strict";l();Object.defineProperty(oi,"__esModule",{value:!0});oi.getConflictResolutionRecipe=oi.getDescriptionResolutionRecipe=oi.getTypeConflictResolutionRecipe=oi.getUnitConflictResolutionRecipe=oi.getValueTypeConflictResolutionRecipe=oi.getIncompatibilityDetails=void 0;function lnt(t,e){let r="";return t.unit!==e.unit&&(r+=`	- Unit '${t.unit}' does not match '${e.unit}'
`),t.type!==e.type&&(r+=`	- Type '${t.type}' does not match '${e.type}'
`),t.valueType!==e.valueType&&(r+=`	- Value Type '${t.valueType}' does not match '${e.valueType}'
`),t.description!==e.description&&(r+=`	- Description '${t.description}' does not match '${e.description}'
`),r}oi.getIncompatibilityDetails=lnt;function ume(t,e){return`	- use valueType '${t.valueType}' on instrument creation or use an instrument name other than '${e.name}'`}oi.getValueTypeConflictResolutionRecipe=ume;function cme(t,e){return`	- use unit '${t.unit}' on instrument creation or use an instrument name other than '${e.name}'`}oi.getUnitConflictResolutionRecipe=cme;function lme(t,e){let r={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(r);return`	- create a new view with a name other than '${t.name}' and InstrumentSelector '${o}'`}oi.getTypeConflictResolutionRecipe=lme;function dme(t,e){let r={name:e.name,type:e.type,unit:e.unit},o=JSON.stringify(r);return`	- create a new view with a name other than '${t.name}' and InstrumentSelector '${o}'
    	- OR - create a new view with the name ${t.name} and description '${t.description}' and InstrumentSelector ${o}
    	- OR - create a new view with the name ${e.name} and description '${t.description}' and InstrumentSelector ${o}`}oi.getDescriptionResolutionRecipe=dme;function dnt(t,e){return t.valueType!==e.valueType?ume(t,e):t.unit!==e.unit?cme(t,e):t.type!==e.type?lme(t,e):t.description!==e.description?dme(t,e):""}oi.getConflictResolutionRecipe=dnt});var hme=h(FO=>{"use strict";l();Object.defineProperty(FO,"__esModule",{value:!0});FO.MetricStorageRegistry=void 0;var fnt=au(),pme=(j(),Y(K)),VO=fme(),P3=class t{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new t}getStorages(e){let r=[];for(let s of this._sharedRegistry.values())r=r.concat(s);let o=this._perCollectorRegistry.get(e);if(o!=null)for(let s of o.values())r=r.concat(s);return r}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,r){let o=this._perCollectorRegistry.get(e);o==null&&(o=new Map,this._perCollectorRegistry.set(e,o)),this._registerStorage(r,o)}findOrUpdateCompatibleStorage(e){let r=this._sharedRegistry.get(e.name);return r===void 0?null:this._findOrUpdateCompatibleStorage(e,r)}findOrUpdateCompatibleCollectorStorage(e,r){let o=this._perCollectorRegistry.get(e);if(o===void 0)return null;let s=o.get(r.name);return s===void 0?null:this._findOrUpdateCompatibleStorage(r,s)}_registerStorage(e,r){let o=e.getInstrumentDescriptor(),s=r.get(o.name);if(s===void 0){r.set(o.name,[e]);return}s.push(e)}_findOrUpdateCompatibleStorage(e,r){let o=null;for(let s of r){let a=s.getInstrumentDescriptor();(0,fnt.isDescriptorCompatibleWith)(a,e)?(a.description!==e.description&&(e.description.length>a.description.length&&s.updateDescription(e.description),pme.diag.warn("A view or instrument with the name ",e.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,VO.getIncompatibilityDetails)(a,e),`The longer description will be used.
To resolve the conflict:`,(0,VO.getConflictResolutionRecipe)(a,e))),o=s):pme.diag.warn("A view or instrument with the name ",e.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,VO.getIncompatibilityDetails)(a,e),`To resolve the conflict:
`,(0,VO.getConflictResolutionRecipe)(a,e))}return o}};FO.MetricStorageRegistry=P3});var gme=h(HO=>{"use strict";l();Object.defineProperty(HO,"__esModule",{value:!0});HO.MultiMetricStorage=void 0;var M3=class{constructor(e){this._backingStorages=e}record(e,r,o,s){this._backingStorages.forEach(a=>{a.record(e,r,o,s)})}};HO.MultiMetricStorage=M3});var yme=h(Mg=>{"use strict";l();Object.defineProperty(Mg,"__esModule",{value:!0});Mg.BatchObservableResultImpl=Mg.ObservableResultImpl=void 0;var Pg=(j(),Y(K)),mme=ab(),pnt=MO(),x3=class{constructor(e,r){this._instrumentName=e,this._valueType=r,this._buffer=new mme.AttributeHashMap}observe(e,r={}){if(typeof e!="number"){Pg.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`);return}this._valueType===Pg.ValueType.INT&&!Number.isInteger(e)&&(Pg.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),!Number.isInteger(e))||this._buffer.set(r,e)}};Mg.ObservableResultImpl=x3;var B3=class{constructor(){this._buffer=new Map}observe(e,r,o={}){if(!(0,pnt.isObservableInstrument)(e))return;let s=this._buffer.get(e);if(s==null&&(s=new mme.AttributeHashMap,this._buffer.set(e,s)),typeof r!="number"){Pg.diag.warn(`non-number value provided to metric ${e._descriptor.name}: ${r}`);return}e._descriptor.valueType===Pg.ValueType.INT&&!Number.isInteger(r)&&(Pg.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||s.set(o,r)}};Mg.BatchObservableResultImpl=B3});var bme=h(kO=>{"use strict";l();Object.defineProperty(kO,"__esModule",{value:!0});kO.ObservableRegistry=void 0;var hnt=(j(),Y(K)),_me=MO(),Sme=yme(),ub=js(),D3=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,r){this._findCallback(e,r)>=0||this._callbacks.push({callback:e,instrument:r})}removeCallback(e,r){let o=this._findCallback(e,r);o<0||this._callbacks.splice(o,1)}addBatchCallback(e,r){let o=new Set(r.filter(_me.isObservableInstrument));if(o.size===0){hnt.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(e,o)>=0||this._batchCallbacks.push({callback:e,instruments:o})}removeBatchCallback(e,r){let o=new Set(r.filter(_me.isObservableInstrument)),s=this._findBatchCallback(e,o);s<0||this._batchCallbacks.splice(s,1)}async observe(e,r){let o=this._observeCallbacks(e,r),s=this._observeBatchCallbacks(e,r);return(await(0,ub.PromiseAllSettled)([...o,...s])).filter(ub.isPromiseAllSettledRejectionResult).map(n=>n.reason)}_observeCallbacks(e,r){return this._callbacks.map(async({callback:o,instrument:s})=>{let a=new Sme.ObservableResultImpl(s._descriptor.name,s._descriptor.valueType),i=Promise.resolve(o(a));r!=null&&(i=(0,ub.callWithTimeout)(i,r)),await i,s._metricStorages.forEach(n=>{n.record(a._buffer,e)})})}_observeBatchCallbacks(e,r){return this._batchCallbacks.map(async({callback:o,instruments:s})=>{let a=new Sme.BatchObservableResultImpl,i=Promise.resolve(o(a));r!=null&&(i=(0,ub.callWithTimeout)(i,r)),await i,s.forEach(n=>{let u=a._buffer.get(n);u!=null&&n._metricStorages.forEach(c=>{c.record(u,e)})})})}_findCallback(e,r){return this._callbacks.findIndex(o=>o.callback===e&&o.instrument===r)}_findBatchCallback(e,r){return this._batchCallbacks.findIndex(o=>o.callback===e&&(0,ub.setEquals)(o.instruments,r))}};kO.ObservableRegistry=D3});var Eme=h(WO=>{"use strict";l();Object.defineProperty(WO,"__esModule",{value:!0});WO.SyncMetricStorage=void 0;var gnt=T3(),mnt=R3(),ynt=N3(),L3=class extends gnt.MetricStorage{constructor(e,r,o,s){super(e),this._attributesProcessor=o,this._deltaMetricStorage=new mnt.DeltaMetricProcessor(r),this._temporalMetricStorage=new ynt.TemporalMetricProcessor(r,s)}record(e,r,o,s){r=this._attributesProcessor.process(r,o),this._deltaMetricStorage.record(e,r,o,s)}collect(e,r){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,o,r)}};WO.SyncMetricStorage=L3});var G3=h(Oc=>{"use strict";l();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.FilteringAttributesProcessor=Oc.NoopAttributesProcessor=Oc.AttributesProcessor=void 0;var cb=class{static Noop(){return _nt}};Oc.AttributesProcessor=cb;var ZO=class extends cb{process(e,r){return e}};Oc.NoopAttributesProcessor=ZO;var U3=class extends cb{constructor(e){super(),this._allowedAttributeNames=e}process(e,r){let o={};return Object.keys(e).filter(s=>this._allowedAttributeNames.includes(s)).forEach(s=>o[s]=e[s]),o}};Oc.FilteringAttributesProcessor=U3;var _nt=new ZO});var vme=h(qO=>{"use strict";l();Object.defineProperty(qO,"__esModule",{value:!0});qO.MeterSharedState=void 0;var Snt=au(),bnt=sme(),Ent=js(),vnt=ame(),Tnt=hme(),Ant=gme(),Int=bme(),Cnt=Eme(),Rnt=G3(),V3=class{constructor(e,r){this._meterProviderSharedState=e,this._instrumentationScope=r,this.metricStorageRegistry=new Tnt.MetricStorageRegistry,this.observableRegistry=new Int.ObservableRegistry,this.meter=new bnt.Meter(this)}registerMetricStorage(e){let r=this._registerMetricStorage(e,Cnt.SyncMetricStorage);return r.length===1?r[0]:new Ant.MultiMetricStorage(r)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,vnt.AsyncMetricStorage)}async collect(e,r,o){let s=await this.observableRegistry.observe(r,o?.timeoutMillis),a=this.metricStorageRegistry.getStorages(e);if(a.length===0)return null;let i=a.map(n=>n.collect(e,r)).filter(Ent.isNotNullish);return i.length===0?{errors:s}:{scopeMetrics:{scope:this._instrumentationScope,metrics:i},errors:s}}_registerMetricStorage(e,r){let s=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map(a=>{let i=(0,Snt.createInstrumentDescriptorWithView)(a,e),n=this.metricStorageRegistry.findOrUpdateCompatibleStorage(i);if(n!=null)return n;let u=a.aggregation.createAggregator(i),c=new r(i,u,a.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(c),c});if(s.length===0){let i=this._meterProviderSharedState.selectAggregations(e.type).map(([n,u])=>{let c=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(n,e);if(c!=null)return c;let d=u.createAggregator(e),f=new r(e,d,Rnt.AttributesProcessor.Noop(),[n]);return this.metricStorageRegistry.registerForCollector(n,f),f});s=s.concat(i)}return s}};qO.MeterSharedState=V3});var Tme=h(YO=>{"use strict";l();Object.defineProperty(YO,"__esModule",{value:!0});YO.MeterProviderSharedState=void 0;var Ont=js(),Nnt=ome(),wnt=vme(),F3=class{constructor(e){this.resource=e,this.viewRegistry=new Nnt.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){let r=(0,Ont.instrumentationScopeId)(e),o=this.meterSharedStates.get(r);return o==null&&(o=new wnt.MeterSharedState(this,e),this.meterSharedStates.set(r,o)),o}selectAggregations(e){let r=[];for(let o of this.metricCollectors)r.push([o,o.selectAggregation(e)]);return r}};YO.MeterProviderSharedState=F3});var Ame=h(jO=>{"use strict";l();Object.defineProperty(jO,"__esModule",{value:!0});jO.MetricCollector=void 0;var Pnt=Ne(),H3=class{constructor(e,r){this._sharedState=e,this._metricReader=r}async collect(e){let r=(0,Pnt.millisToHrTime)(Date.now()),o=[],s=[],a=Array.from(this._sharedState.meterSharedStates.values()).map(async i=>{let n=await i.collect(this,r,e);n?.scopeMetrics!=null&&o.push(n.scopeMetrics),n?.errors!=null&&s.push(...n.errors)});return await Promise.all(a),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:o},errors:s}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}};jO.MetricCollector=H3});var Cme=h(XO=>{"use strict";l();Object.defineProperty(XO,"__esModule",{value:!0});XO.MeterProvider=void 0;var KO=(j(),Y(K)),Ime=Cc(),Mnt=Tme(),xnt=Ame(),k3=class{constructor(e){var r;this._shutdown=!1;let o=Ime.Resource.default().merge((r=e?.resource)!==null&&r!==void 0?r:Ime.Resource.empty());if(this._sharedState=new Mnt.MeterProviderSharedState(o),e?.views!=null&&e.views.length>0)for(let s of e.views)this._sharedState.viewRegistry.addView(s);if(e?.readers!=null&&e.readers.length>0)for(let s of e.readers)this.addMetricReader(s)}getMeter(e,r="",o={}){return this._shutdown?(KO.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,KO.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:r,schemaUrl:o.schemaUrl}).meter}addMetricReader(e){let r=new xnt.MetricCollector(this._sharedState,e);e.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}async shutdown(e){if(this._shutdown){KO.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(e)))}async forceFlush(e){if(this._shutdown){KO.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(e)))}};XO.MeterProvider=k3});var zO=h(xg=>{"use strict";l();Object.defineProperty(xg,"__esModule",{value:!0});xg.ExactPredicate=xg.PatternPredicate=void 0;var Bnt=/[\^$\\.+?()[\]{}|]/g,W3=class t{constructor(e){e==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(t.escapePattern(e)))}match(e){return this._matchAll?!0:this._regexp.test(e)}static escapePattern(e){return`^${e.replace(Bnt,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}};xg.PatternPredicate=W3;var Z3=class{constructor(e){this._matchAll=e===void 0,this._pattern=e}match(e){return!!(this._matchAll||e===this._pattern)}};xg.ExactPredicate=Z3});var Ome=h(JO=>{"use strict";l();Object.defineProperty(JO,"__esModule",{value:!0});JO.InstrumentSelector=void 0;var Rme=zO(),q3=class{constructor(e){var r;this._nameFilter=new Rme.PatternPredicate((r=e?.name)!==null&&r!==void 0?r:"*"),this._type=e?.type,this._unitFilter=new Rme.ExactPredicate(e?.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};JO.InstrumentSelector=q3});var Nme=h($O=>{"use strict";l();Object.defineProperty($O,"__esModule",{value:!0});$O.MeterSelector=void 0;var Y3=zO(),j3=class{constructor(e){this._nameFilter=new Y3.ExactPredicate(e?.name),this._versionFilter=new Y3.ExactPredicate(e?.version),this._schemaUrlFilter=new Y3.ExactPredicate(e?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};$O.MeterSelector=j3});var Pme=h(QO=>{"use strict";l();Object.defineProperty(QO,"__esModule",{value:!0});QO.View=void 0;var Dnt=zO(),wme=G3(),Lnt=Ome(),Unt=Nme(),Gnt=AO();function Vnt(t){return t.instrumentName==null&&t.instrumentType==null&&t.instrumentUnit==null&&t.meterName==null&&t.meterVersion==null&&t.meterSchemaUrl==null}var K3=class{constructor(e){var r;if(Vnt(e))throw new Error("Cannot create view with no selector arguments supplied");if(e.name!=null&&(e?.instrumentName==null||Dnt.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");e.attributeKeys!=null?this.attributesProcessor=new wme.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=wme.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=(r=e.aggregation)!==null&&r!==void 0?r:Gnt.Aggregation.Default(),this.instrumentSelector=new Lnt.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new Unt.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}};QO.View=K3});var eN=h(nt=>{"use strict";l();Object.defineProperty(nt,"__esModule",{value:!0});nt.TimeoutError=nt.View=nt.Aggregation=nt.SumAggregation=nt.LastValueAggregation=nt.HistogramAggregation=nt.DropAggregation=nt.ExponentialHistogramAggregation=nt.ExplicitBucketHistogramAggregation=nt.DefaultAggregation=nt.MeterProvider=nt.InstrumentType=nt.ConsoleMetricExporter=nt.InMemoryMetricExporter=nt.PeriodicExportingMetricReader=nt.MetricReader=nt.DataPointType=nt.AggregationTemporality=void 0;var Fnt=lO();Object.defineProperty(nt,"AggregationTemporality",{enumerable:!0,get:function(){return Fnt.AggregationTemporality}});var Hnt=pg();Object.defineProperty(nt,"DataPointType",{enumerable:!0,get:function(){return Hnt.DataPointType}});var knt=l3();Object.defineProperty(nt,"MetricReader",{enumerable:!0,get:function(){return knt.MetricReader}});var Wnt=eme();Object.defineProperty(nt,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return Wnt.PeriodicExportingMetricReader}});var Znt=rme();Object.defineProperty(nt,"InMemoryMetricExporter",{enumerable:!0,get:function(){return Znt.InMemoryMetricExporter}});var qnt=ime();Object.defineProperty(nt,"ConsoleMetricExporter",{enumerable:!0,get:function(){return qnt.ConsoleMetricExporter}});var Ynt=au();Object.defineProperty(nt,"InstrumentType",{enumerable:!0,get:function(){return Ynt.InstrumentType}});var jnt=Cme();Object.defineProperty(nt,"MeterProvider",{enumerable:!0,get:function(){return jnt.MeterProvider}});var Nc=AO();Object.defineProperty(nt,"DefaultAggregation",{enumerable:!0,get:function(){return Nc.DefaultAggregation}});Object.defineProperty(nt,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return Nc.ExplicitBucketHistogramAggregation}});Object.defineProperty(nt,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return Nc.ExponentialHistogramAggregation}});Object.defineProperty(nt,"DropAggregation",{enumerable:!0,get:function(){return Nc.DropAggregation}});Object.defineProperty(nt,"HistogramAggregation",{enumerable:!0,get:function(){return Nc.HistogramAggregation}});Object.defineProperty(nt,"LastValueAggregation",{enumerable:!0,get:function(){return Nc.LastValueAggregation}});Object.defineProperty(nt,"SumAggregation",{enumerable:!0,get:function(){return Nc.SumAggregation}});Object.defineProperty(nt,"Aggregation",{enumerable:!0,get:function(){return Nc.Aggregation}});var Knt=Pme();Object.defineProperty(nt,"View",{enumerable:!0,get:function(){return Knt.View}});var Xnt=js();Object.defineProperty(nt,"TimeoutError",{enumerable:!0,get:function(){return Xnt.TimeoutError}})});var z3=h(tN=>{"use strict";l();Object.defineProperty(tN,"__esModule",{value:!0});tN.AbstractAsyncHooksContextManager=void 0;var znt=require("events"),Jnt=["addListener","on","once","prependListener","prependOnceListener"],X3=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,r){return r instanceof znt.EventEmitter?this._bindEventEmitter(e,r):typeof r=="function"?this._bindFunction(e,r):r}_bindFunction(e,r){let o=this,s=function(...a){return o.with(e,()=>r.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),s}_bindEventEmitter(e,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),Jnt.forEach(s=>{r[s]!==void 0&&(r[s]=this._patchAddListener(r,r[s],e))}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(e,r){let o=this;return function(s,a){var i;let n=(i=o._getPatchMap(e))===null||i===void 0?void 0:i[s];if(n===void 0)return r.call(this,s,a);let u=n.get(a);return r.call(this,s,u||a)}}_patchRemoveAllListeners(e,r){let o=this;return function(s){let a=o._getPatchMap(e);return a!==void 0&&(arguments.length===0?o._createPatchMap(e):a[s]!==void 0&&delete a[s]),r.apply(this,arguments)}}_patchAddListener(e,r,o){let s=this;return function(a,i){if(s._wrapped)return r.call(this,a,i);let n=s._getPatchMap(e);n===void 0&&(n=s._createPatchMap(e));let u=n[a];u===void 0&&(u=new WeakMap,n[a]=u);let c=s.bind(o,i);u.set(i,c),s._wrapped=!0;try{return r.call(this,a,c)}finally{s._wrapped=!1}}}_createPatchMap(e){let r=Object.create(null);return e[this._kOtListeners]=r,r}_getPatchMap(e){return e[this._kOtListeners]}};tN.AbstractAsyncHooksContextManager=X3});var Mme=h(rN=>{"use strict";l();Object.defineProperty(rN,"__esModule",{value:!0});rN.AsyncHooksContextManager=void 0;var $nt=(j(),Y(K)),Qnt=require("async_hooks"),eit=z3(),J3=class extends eit.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=Qnt.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:$nt.ROOT_CONTEXT}with(e,r,o,...s){this._enterContext(e);try{return r.call(o,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,r){if(r==="TIMERWRAP")return;let o=this._stack[this._stack.length-1];o!==void 0&&this._contexts.set(e,o)}_destroy(e){this._contexts.delete(e)}_before(e){let r=this._contexts.get(e);r!==void 0&&this._enterContext(r)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};rN.AsyncHooksContextManager=J3});var xme=h(nN=>{"use strict";l();Object.defineProperty(nN,"__esModule",{value:!0});nN.AsyncLocalStorageContextManager=void 0;var tit=(j(),Y(K)),rit=require("async_hooks"),nit=z3(),$3=class extends nit.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new rit.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:tit.ROOT_CONTEXT}with(e,r,o,...s){let a=o==null?r:r.bind(o);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};nN.AsyncLocalStorageContextManager=$3});var Dme=h(wc=>{"use strict";l();var iit=wc&&wc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Bme=wc&&wc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&iit(e,t,r)};Object.defineProperty(wc,"__esModule",{value:!0});Bme(Mme(),wc);Bme(xme(),wc)});var Q3=h(iN=>{"use strict";l();Object.defineProperty(iN,"__esModule",{value:!0});iN.B3_DEBUG_FLAG_KEY=void 0;var oit=(j(),Y(K));iN.B3_DEBUG_FLAG_KEY=(0,oit.createContextKey)("OpenTelemetry Context Key B3 Debug Flag")});var lb=h(si=>{"use strict";l();Object.defineProperty(si,"__esModule",{value:!0});si.X_B3_FLAGS=si.X_B3_PARENT_SPAN_ID=si.X_B3_SAMPLED=si.X_B3_SPAN_ID=si.X_B3_TRACE_ID=si.B3_CONTEXT_HEADER=void 0;si.B3_CONTEXT_HEADER="b3";si.X_B3_TRACE_ID="x-b3-traceid";si.X_B3_SPAN_ID="x-b3-spanid";si.X_B3_SAMPLED="x-b3-sampled";si.X_B3_PARENT_SPAN_ID="x-b3-parentspanid";si.X_B3_FLAGS="x-b3-flags"});var Gme=h(sN=>{"use strict";l();Object.defineProperty(sN,"__esModule",{value:!0});sN.B3MultiPropagator=void 0;var Ko=(j(),Y(K)),sit=Ne(),Lme=Q3(),Mi=lb(),ait=new Set([!0,"true","True","1",1]),uit=new Set([!1,"false","False","0",0]);function cit(t){return t===Ko.TraceFlags.SAMPLED||t===Ko.TraceFlags.NONE}function lit(t){return Array.isArray(t)?t[0]:t}function oN(t,e,r){let o=e.get(t,r);return lit(o)}function dit(t,e){let r=oN(t,e,Mi.X_B3_TRACE_ID);return typeof r=="string"?r.padStart(32,"0"):""}function fit(t,e){let r=oN(t,e,Mi.X_B3_SPAN_ID);return typeof r=="string"?r:""}function Ume(t,e){return oN(t,e,Mi.X_B3_FLAGS)==="1"?"1":void 0}function pit(t,e){let r=oN(t,e,Mi.X_B3_SAMPLED);if(Ume(t,e)==="1"||ait.has(r))return Ko.TraceFlags.SAMPLED;if(r===void 0||uit.has(r))return Ko.TraceFlags.NONE}var eW=class{inject(e,r,o){let s=Ko.trace.getSpanContext(e);if(!s||!(0,Ko.isSpanContextValid)(s)||(0,sit.isTracingSuppressed)(e))return;let a=e.getValue(Lme.B3_DEBUG_FLAG_KEY);o.set(r,Mi.X_B3_TRACE_ID,s.traceId),o.set(r,Mi.X_B3_SPAN_ID,s.spanId),a==="1"?o.set(r,Mi.X_B3_FLAGS,a):s.traceFlags!==void 0&&o.set(r,Mi.X_B3_SAMPLED,(Ko.TraceFlags.SAMPLED&s.traceFlags)===Ko.TraceFlags.SAMPLED?"1":"0")}extract(e,r,o){let s=dit(r,o),a=fit(r,o),i=pit(r,o),n=Ume(r,o);return(0,Ko.isValidTraceId)(s)&&(0,Ko.isValidSpanId)(a)&&cit(i)?(e=e.setValue(Lme.B3_DEBUG_FLAG_KEY,n),Ko.trace.setSpanContext(e,{traceId:s,spanId:a,isRemote:!0,traceFlags:i})):e}fields(){return[Mi.X_B3_TRACE_ID,Mi.X_B3_SPAN_ID,Mi.X_B3_FLAGS,Mi.X_B3_SAMPLED,Mi.X_B3_PARENT_SPAN_ID]}};sN.B3MultiPropagator=eW});var Fme=h(aN=>{"use strict";l();Object.defineProperty(aN,"__esModule",{value:!0});aN.B3SinglePropagator=void 0;var cf=(j(),Y(K)),hit=Ne(),Vme=Q3(),tW=lb(),git=/((?:[0-9a-f]{16}){1,2})-([0-9a-f]{16})(?:-([01d](?![0-9a-f])))?(?:-([0-9a-f]{16}))?/,mit="0".repeat(16),yit=new Set(["d","1"]),_it="d";function Sit(t){return t.length===32?t:`${mit}${t}`}function bit(t){return t&&yit.has(t)?cf.TraceFlags.SAMPLED:cf.TraceFlags.NONE}var rW=class{inject(e,r,o){let s=cf.trace.getSpanContext(e);if(!s||!(0,cf.isSpanContextValid)(s)||(0,hit.isTracingSuppressed)(e))return;let a=e.getValue(Vme.B3_DEBUG_FLAG_KEY)||s.traceFlags&1,i=`${s.traceId}-${s.spanId}-${a}`;o.set(r,tW.B3_CONTEXT_HEADER,i)}extract(e,r,o){let s=o.get(r,tW.B3_CONTEXT_HEADER),a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return e;let i=a.match(git);if(!i)return e;let[,n,u,c]=i,d=Sit(n);if(!(0,cf.isValidTraceId)(d)||!(0,cf.isValidSpanId)(u))return e;let f=bit(c);return c===_it&&(e=e.setValue(Vme.B3_DEBUG_FLAG_KEY,c)),cf.trace.setSpanContext(e,{traceId:d,spanId:u,isRemote:!0,traceFlags:f})}fields(){return[tW.B3_CONTEXT_HEADER]}};aN.B3SinglePropagator=rW});var nW=h(db=>{"use strict";l();Object.defineProperty(db,"__esModule",{value:!0});db.B3InjectEncoding=void 0;var Eit;(function(t){t[t.SINGLE_HEADER=0]="SINGLE_HEADER",t[t.MULTI_HEADER=1]="MULTI_HEADER"})(Eit=db.B3InjectEncoding||(db.B3InjectEncoding={}))});var Hme=h(uN=>{"use strict";l();Object.defineProperty(uN,"__esModule",{value:!0});uN.B3Propagator=void 0;var vit=Ne(),Tit=Gme(),Ait=Fme(),Iit=lb(),Cit=nW(),iW=class{constructor(e={}){this._b3MultiPropagator=new Tit.B3MultiPropagator,this._b3SinglePropagator=new Ait.B3SinglePropagator,e.injectEncoding===Cit.B3InjectEncoding.MULTI_HEADER?(this._inject=this._b3MultiPropagator.inject,this._fields=this._b3MultiPropagator.fields()):(this._inject=this._b3SinglePropagator.inject,this._fields=this._b3SinglePropagator.fields())}inject(e,r,o){(0,vit.isTracingSuppressed)(e)||this._inject(e,r,o)}extract(e,r,o){let s=o.get(r,Iit.B3_CONTEXT_HEADER);return(Array.isArray(s)?s[0]:s)?this._b3SinglePropagator.extract(e,r,o):this._b3MultiPropagator.extract(e,r,o)}fields(){return this._fields}};uN.B3Propagator=iW});var kme=h(cu=>{"use strict";l();var Rit=cu&&cu.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),oW=cu&&cu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rit(e,t,r)};Object.defineProperty(cu,"__esModule",{value:!0});oW(Hme(),cu);oW(lb(),cu);oW(nW(),cu)});var Wme=h(cN=>{"use strict";l();Object.defineProperty(cN,"__esModule",{value:!0});cN.ExceptionEventName=void 0;cN.ExceptionEventName="exception"});var aW=h(lN=>{"use strict";l();Object.defineProperty(lN,"__esModule",{value:!0});lN.Span=void 0;var Xo=(j(),Y(K)),_n=Ne(),lf=Ri(),Oit=Wme(),sW=class{constructor(e,r,o,s,a,i,n=[],u,c,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Xo.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=o,this._spanContext=s,this.parentSpanId=i,this.kind=a,this.links=n;let f=Date.now();this._performanceStartTime=_n.otperformance.now(),this._performanceOffset=f-(this._performanceStartTime+(0,_n.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??f),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(e,r){return r==null||this._isSpanEnded()?this:e.length===0?(Xo.diag.warn(`Invalid attribute key: ${e}`),this):(0,_n.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this):(Xo.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[r,o]of Object.entries(e))this.setAttribute(r,o);return this}addEvent(e,r,o){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Xo.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&Xo.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,_n.isTimeInput)(r)&&((0,_n.isTimeInput)(o)||(o=r),r=void 0);let s=(0,_n.sanitizeAttributes)(r);return this.events.push({name:e,attributes:s,time:this._getTime(o),droppedAttributesCount:0}),this}setStatus(e){return this._isSpanEnded()?this:(this.status=e,this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){Xo.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,_n.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(Xo.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&Xo.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<_n.otperformance.now())return(0,_n.hrTime)(e+this._performanceOffset);if(typeof e=="number")return(0,_n.millisToHrTime)(e);if(e instanceof Date)return(0,_n.millisToHrTime)(e.getTime());if((0,_n.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,_n.millisToHrTime)(Date.now());let r=_n.otperformance.now()-this._performanceStartTime;return(0,_n.addHrTimes)(this.startTime,(0,_n.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(e,r){let o={};typeof e=="string"?o[lf.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?o[lf.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(o[lf.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(o[lf.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(o[lf.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),o[lf.SemanticAttributes.EXCEPTION_TYPE]||o[lf.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(Oit.ExceptionEventName,o,r):Xo.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&Xo.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substr(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(Xo.diag.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(o=>typeof o=="string"?this._truncateToLimitUtil(o,r):o):e}};lN.Span=sW});var pb=h(fb=>{"use strict";l();Object.defineProperty(fb,"__esModule",{value:!0});fb.SamplingDecision=void 0;var Nit;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Nit=fb.SamplingDecision||(fb.SamplingDecision={}))});var fN=h(dN=>{"use strict";l();Object.defineProperty(dN,"__esModule",{value:!0});dN.AlwaysOffSampler=void 0;var wit=pb(),uW=class{shouldSample(){return{decision:wit.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};dN.AlwaysOffSampler=uW});var hN=h(pN=>{"use strict";l();Object.defineProperty(pN,"__esModule",{value:!0});pN.AlwaysOnSampler=void 0;var Pit=pb(),cW=class{shouldSample(){return{decision:Pit.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};pN.AlwaysOnSampler=cW});var fW=h(mN=>{"use strict";l();Object.defineProperty(mN,"__esModule",{value:!0});mN.ParentBasedSampler=void 0;var gN=(j(),Y(K)),Mit=Ne(),Zme=fN(),lW=hN(),dW=class{constructor(e){var r,o,s,a;this._root=e.root,this._root||((0,Mit.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new lW.AlwaysOnSampler),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new lW.AlwaysOnSampler,this._remoteParentNotSampled=(o=e.remoteParentNotSampled)!==null&&o!==void 0?o:new Zme.AlwaysOffSampler,this._localParentSampled=(s=e.localParentSampled)!==null&&s!==void 0?s:new lW.AlwaysOnSampler,this._localParentNotSampled=(a=e.localParentNotSampled)!==null&&a!==void 0?a:new Zme.AlwaysOffSampler}shouldSample(e,r,o,s,a,i){let n=gN.trace.getSpanContext(e);return!n||!(0,gN.isSpanContextValid)(n)?this._root.shouldSample(e,r,o,s,a,i):n.isRemote?n.traceFlags&gN.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,r,o,s,a,i):this._remoteParentNotSampled.shouldSample(e,r,o,s,a,i):n.traceFlags&gN.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,r,o,s,a,i):this._localParentNotSampled.shouldSample(e,r,o,s,a,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};mN.ParentBasedSampler=dW});var hW=h(yN=>{"use strict";l();Object.defineProperty(yN,"__esModule",{value:!0});yN.TraceIdRatioBasedSampler=void 0;var xit=(j(),Y(K)),qme=pb(),pW=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:(0,xit.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?qme.SamplingDecision.RECORD_AND_SAMPLED:qme.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let o=0;o<e.length/8;o++){let s=o*8,a=parseInt(e.slice(s,s+8),16);r=(r^a)>>>0}return r}};yN.TraceIdRatioBasedSampler=pW});var yW=h(Dg=>{"use strict";l();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.buildSamplerFromEnv=Dg.loadDefaultConfig=void 0;var _N=(j(),Y(K)),Kr=Ne(),Yme=fN(),gW=hN(),mW=fW(),jme=hW(),Bit=(0,Kr.getEnv)(),Dit=Kr.TracesSamplerValues.AlwaysOn,Bg=1;function Lit(){return{sampler:Xme(Bit),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Kr.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Kr.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Kr.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Kr.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Kr.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Kr.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Kr.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Kr.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}Dg.loadDefaultConfig=Lit;function Xme(t=(0,Kr.getEnv)()){switch(t.OTEL_TRACES_SAMPLER){case Kr.TracesSamplerValues.AlwaysOn:return new gW.AlwaysOnSampler;case Kr.TracesSamplerValues.AlwaysOff:return new Yme.AlwaysOffSampler;case Kr.TracesSamplerValues.ParentBasedAlwaysOn:return new mW.ParentBasedSampler({root:new gW.AlwaysOnSampler});case Kr.TracesSamplerValues.ParentBasedAlwaysOff:return new mW.ParentBasedSampler({root:new Yme.AlwaysOffSampler});case Kr.TracesSamplerValues.TraceIdRatio:return new jme.TraceIdRatioBasedSampler(Kme(t));case Kr.TracesSamplerValues.ParentBasedTraceIdRatio:return new mW.ParentBasedSampler({root:new jme.TraceIdRatioBasedSampler(Kme(t))});default:return _N.diag.error(`OTEL_TRACES_SAMPLER value "${t.OTEL_TRACES_SAMPLER} invalid, defaulting to ${Dit}".`),new gW.AlwaysOnSampler}}Dg.buildSamplerFromEnv=Xme;function Kme(t){if(t.OTEL_TRACES_SAMPLER_ARG===void 0||t.OTEL_TRACES_SAMPLER_ARG==="")return _N.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Bg}.`),Bg;let e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(_N.diag.error(`OTEL_TRACES_SAMPLER_ARG=${t.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Bg}.`),Bg):e<0||e>1?(_N.diag.error(`OTEL_TRACES_SAMPLER_ARG=${t.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Bg}.`),Bg):e}});var SW=h(Lg=>{"use strict";l();Object.defineProperty(Lg,"__esModule",{value:!0});Lg.reconfigureLimits=Lg.mergeConfig=void 0;var zme=yW(),_W=Ne();function Uit(t){let e={sampler:(0,zme.buildSamplerFromEnv)()},r=(0,zme.loadDefaultConfig)(),o=Object.assign({},r,e,t);return o.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),o.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),o}Lg.mergeConfig=Uit;function Git(t){var e,r,o,s,a,i,n,u,c,d,f,g;let y=Object.assign({},t.spanLimits),S=(0,_W.getEnvWithoutDefaults)();return y.attributeCountLimit=(i=(a=(s=(r=(e=t.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&r!==void 0?r:(o=t.generalLimits)===null||o===void 0?void 0:o.attributeCountLimit)!==null&&s!==void 0?s:S.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:S.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:_W.DEFAULT_ATTRIBUTE_COUNT_LIMIT,y.attributeValueLengthLimit=(g=(f=(d=(u=(n=t.spanLimits)===null||n===void 0?void 0:n.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=t.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&d!==void 0?d:S.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:S.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&g!==void 0?g:_W.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},t,{spanLimits:y})}Lg.reconfigureLimits=Git});var Jme=h(SN=>{"use strict";l();Object.defineProperty(SN,"__esModule",{value:!0});SN.BatchSpanProcessorBase=void 0;var Ug=(j(),Y(K)),df=Ne(),bW=class{constructor(e,r){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let o=(0,df.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:o.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:o.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:o.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:o.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new df.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Ug.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&Ug.TraceFlags.SAMPLED&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Ug.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Ug.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,r)=>{let o=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,i=s;a<i;a++)o.push(this._flushOneBatch());Promise.all(o).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let o=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Ug.context.with((0,df.suppressTracing)(Ug.context.active()),()=>{let s=this._finishedSpans.splice(0,this._maxExportBatchSize),a=()=>this._exporter.export(s,n=>{var u;clearTimeout(o),n.code===df.ExportResultCode.SUCCESS?e():r((u=n.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),i=s.map(n=>n.resource).filter(n=>n.asyncAttributesPending);i.length===0?a():Promise.all(i.map(n=>{var u;return(u=n.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(n)})).then(a,n=>{(0,df.globalErrorHandler)(n),r(n)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,df.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),(0,df.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};SN.BatchSpanProcessorBase=bW});var $me=h(bN=>{"use strict";l();Object.defineProperty(bN,"__esModule",{value:!0});bN.BatchSpanProcessor=void 0;var Vit=Jme(),EW=class extends Vit.BatchSpanProcessorBase{onShutdown(){}};bN.BatchSpanProcessor=EW});var tye=h(vN=>{"use strict";l();Object.defineProperty(vN,"__esModule",{value:!0});vN.RandomIdGenerator=void 0;var Fit=8,eye=16,vW=class{constructor(){this.generateTraceId=Qme(eye),this.generateSpanId=Qme(Fit)}};vN.RandomIdGenerator=vW;var EN=Buffer.allocUnsafe(eye);function Qme(t){return function(){for(let r=0;r<t/4;r++)EN.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<t&&!(EN[r]>0);r++)r===t-1&&(EN[t-1]=1);return EN.toString("hex",0,t)}}});var nye=h(Pc=>{"use strict";l();var Hit=Pc&&Pc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),rye=Pc&&Pc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hit(e,t,r)};Object.defineProperty(Pc,"__esModule",{value:!0});rye($me(),Pc);rye(tye(),Pc)});var TN=h(ff=>{"use strict";l();var kit=ff&&ff.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Wit=ff&&ff.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&kit(e,t,r)};Object.defineProperty(ff,"__esModule",{value:!0});Wit(nye(),ff)});var iye=h(IN=>{"use strict";l();Object.defineProperty(IN,"__esModule",{value:!0});IN.Tracer=void 0;var Xr=(j(),Y(K)),AN=Ne(),Zit=aW(),qit=SW(),Yit=TN(),TW=class{constructor(e,r,o){this._tracerProvider=o;let s=(0,qit.mergeConfig)(r);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=r.idGenerator||new Yit.RandomIdGenerator,this.resource=o.resource,this.instrumentationLibrary=e}startSpan(e,r={},o=Xr.context.active()){var s,a,i;r.root&&(o=Xr.trace.deleteSpan(o));let n=Xr.trace.getSpan(o);if((0,AN.isTracingSuppressed)(o))return Xr.diag.debug("Instrumentation suppressed, returning Noop Span"),Xr.trace.wrapSpanContext(Xr.INVALID_SPAN_CONTEXT);let u=n?.spanContext(),c=this._idGenerator.generateSpanId(),d,f,g;!u||!Xr.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,f=u.traceState,g=u.spanId);let y=(s=r.kind)!==null&&s!==void 0?s:Xr.SpanKind.INTERNAL,S=((a=r.links)!==null&&a!==void 0?a:[]).map(U=>({context:U.context,attributes:(0,AN.sanitizeAttributes)(U.attributes)})),T=(0,AN.sanitizeAttributes)(r.attributes),C=this._sampler.shouldSample(o,d,e,y,T,S);f=(i=C.traceState)!==null&&i!==void 0?i:f;let R=C.decision===Xr.SamplingDecision.RECORD_AND_SAMPLED?Xr.TraceFlags.SAMPLED:Xr.TraceFlags.NONE,P={traceId:d,spanId:c,traceFlags:R,traceState:f};if(C.decision===Xr.SamplingDecision.NOT_RECORD)return Xr.diag.debug("Recording is off, propagating context in a non-recording span"),Xr.trace.wrapSpanContext(P);let M=(0,AN.sanitizeAttributes)(Object.assign(T,C.attributes));return new Zit.Span(this,o,e,P,y,g,S,r.startTime,void 0,M)}startActiveSpan(e,r,o,s){let a,i,n;if(arguments.length<2)return;arguments.length===2?n=r:arguments.length===3?(a=r,n=o):(a=r,i=o,n=s);let u=i??Xr.context.active(),c=this.startSpan(e,a,u),d=Xr.trace.setSpan(u,c);return Xr.context.with(d,n,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};IN.Tracer=TW});var oye=h(CN=>{"use strict";l();Object.defineProperty(CN,"__esModule",{value:!0});CN.MultiSpanProcessor=void 0;var jit=Ne(),AW=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r()}).catch(o=>{(0,jit.globalErrorHandler)(o||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(e,r){for(let o of this._spanProcessors)o.onStart(e,r)}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e)}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,o)=>{Promise.all(e).then(()=>{r()},o)})}};CN.MultiSpanProcessor=AW});var CW=h(RN=>{"use strict";l();Object.defineProperty(RN,"__esModule",{value:!0});RN.NoopSpanProcessor=void 0;var IW=class{onStart(e,r){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};RN.NoopSpanProcessor=IW});var aye=h(pf=>{"use strict";l();Object.defineProperty(pf,"__esModule",{value:!0});pf.BasicTracerProvider=pf.ForceFlushState=void 0;var Gg=(j(),Y(K)),Fg=Ne(),sye=Cc(),Kit=hf(),Xit=yW(),zit=oye(),Jit=CW(),$it=TN(),Qit=SW(),Vg;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Vg=pf.ForceFlushState||(pf.ForceFlushState={}));var hb=class{constructor(e={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let o=(0,Fg.merge)({},(0,Xit.loadDefaultConfig)(),(0,Qit.reconfigureLimits)(e));this.resource=(r=o.resource)!==null&&r!==void 0?r:sye.Resource.empty(),this.resource=sye.Resource.default().merge(this.resource),this._config=Object.assign({},o,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let a=new $it.BatchSpanProcessor(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new Jit.NoopSpanProcessor}getTracer(e,r,o){let s=`${e}@${r||""}:${o?.schemaUrl||""}`;return this._tracers.has(s)||this._tracers.set(s,new Kit.Tracer({name:e,version:r,schemaUrl:o?.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Gg.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new zit.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){Gg.trace.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Gg.context.setGlobalContextManager(e.contextManager),e.propagator&&Gg.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(o=>new Promise(s=>{let a,i=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${e} ms`)),a=Vg.timeout},e);o.forceFlush().then(()=>{clearTimeout(i),a!==Vg.timeout&&(a=Vg.resolved,s(a))}).catch(n=>{clearTimeout(i),a=Vg.error,s(n)})}));return new Promise((o,s)=>{Promise.all(r).then(a=>{let i=a.filter(n=>n!==Vg.resolved);i.length>0?s(i):o()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var r;return(r=this.constructor._registeredPropagators.get(e))===null||r===void 0?void 0:r()}_getSpanExporter(e){var r;return(r=this.constructor._registeredExporters.get(e))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let e=Array.from(new Set((0,Fg.getEnv)().OTEL_PROPAGATORS)),o=e.map(s=>{let a=this._getPropagator(s);return a||Gg.diag.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(o.length!==0)return e.length===1?o[0]:new Fg.CompositePropagator({propagators:o})}_buildExporterFromEnv(){let e=(0,Fg.getEnv)().OTEL_TRACES_EXPORTER;if(e==="none"||e==="")return;let r=this._getSpanExporter(e);return r||Gg.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),r}};pf.BasicTracerProvider=hb;hb._registeredPropagators=new Map([["tracecontext",()=>new Fg.W3CTraceContextPropagator],["baggage",()=>new Fg.W3CBaggagePropagator]]);hb._registeredExporters=new Map});var uye=h(ON=>{"use strict";l();Object.defineProperty(ON,"__esModule",{value:!0});ON.ConsoleSpanExporter=void 0;var RW=Ne(),OW=class{export(e,r){return this._sendSpans(e,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var r;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(r=e.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,RW.hrTimeToMicroseconds)(e.startTime),duration:(0,RW.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,r){for(let o of e)console.dir(this._exportInfo(o),{depth:3});if(r)return r({code:RW.ExportResultCode.SUCCESS})}};ON.ConsoleSpanExporter=OW});var lye=h(NN=>{"use strict";l();Object.defineProperty(NN,"__esModule",{value:!0});NN.InMemorySpanExporter=void 0;var cye=Ne(),NW=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,r){if(this._stopped)return r({code:cye.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout(()=>r({code:cye.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};NN.InMemorySpanExporter=NW});var fye=h(dye=>{"use strict";l();Object.defineProperty(dye,"__esModule",{value:!0})});var pye=h(wN=>{"use strict";l();Object.defineProperty(wN,"__esModule",{value:!0});wN.SimpleSpanProcessor=void 0;var eot=(j(),Y(K)),Hg=Ne(),wW=class{constructor(e){this._exporter=e,this._shutdownOnce=new Hg.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,r){}onEnd(e){var r,o;if(this._shutdownOnce.isCalled||!(e.spanContext().traceFlags&eot.TraceFlags.SAMPLED))return;let s=()=>Hg.internal._export(this._exporter,[e]).then(a=>{var i;a.code!==Hg.ExportResultCode.SUCCESS&&(0,Hg.globalErrorHandler)((i=a.error)!==null&&i!==void 0?i:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{(0,Hg.globalErrorHandler)(a)});if(e.resource.asyncAttributesPending){let a=(o=(r=e.resource).waitForAsyncAttributes)===null||o===void 0?void 0:o.call(r).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),i=>(0,Hg.globalErrorHandler)(i));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};wN.SimpleSpanProcessor=wW});var gye=h(hye=>{"use strict";l();Object.defineProperty(hye,"__esModule",{value:!0})});var yye=h(mye=>{"use strict";l();Object.defineProperty(mye,"__esModule",{value:!0})});var Sye=h(_ye=>{"use strict";l();Object.defineProperty(_ye,"__esModule",{value:!0})});var Eye=h(bye=>{"use strict";l();Object.defineProperty(bye,"__esModule",{value:!0})});var Tye=h(vye=>{"use strict";l();Object.defineProperty(vye,"__esModule",{value:!0})});var hf=h(Wt=>{"use strict";l();var tot=Wt&&Wt.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Ar=Wt&&Wt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tot(e,t,r)};Object.defineProperty(Wt,"__esModule",{value:!0});Ar(iye(),Wt);Ar(aye(),Wt);Ar(TN(),Wt);Ar(uye(),Wt);Ar(lye(),Wt);Ar(fye(),Wt);Ar(pye(),Wt);Ar(gye(),Wt);Ar(CW(),Wt);Ar(fN(),Wt);Ar(hN(),Wt);Ar(fW(),Wt);Ar(hW(),Wt);Ar(pb(),Wt);Ar(aW(),Wt);Ar(yye(),Wt);Ar(Sye(),Wt);Ar(Eye(),Wt);Ar(Tye(),Wt)});var gb=h((lJt,Aye)=>{l();var rot="2.0.0",not=Number.MAX_SAFE_INTEGER||9007199254740991,iot=16,oot=250,sot=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Aye.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:iot,MAX_SAFE_BUILD_LENGTH:oot,MAX_SAFE_INTEGER:not,RELEASE_TYPES:sot,SEMVER_SPEC_VERSION:rot,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var mb=h((fJt,Iye)=>{l();var aot=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Iye.exports=aot});var kg=h((lu,Cye)=>{l();var{MAX_SAFE_COMPONENT_LENGTH:PW,MAX_SAFE_BUILD_LENGTH:uot,MAX_LENGTH:cot}=gb(),lot=mb();lu=Cye.exports={};var dot=lu.re=[],fot=lu.safeRe=[],he=lu.src=[],ge=lu.t={},pot=0,MW="[a-zA-Z0-9-]",hot=[["\\s",1],["\\d",cot],[MW,uot]],got=t=>{for(let[e,r]of hot)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Ye=(t,e,r)=>{let o=got(e),s=pot++;lot(t,s,e),ge[t]=s,he[s]=e,dot[s]=new RegExp(e,r?"g":void 0),fot[s]=new RegExp(o,r?"g":void 0)};Ye("NUMERICIDENTIFIER","0|[1-9]\\d*");Ye("NUMERICIDENTIFIERLOOSE","\\d+");Ye("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${MW}*`);Ye("MAINVERSION",`(${he[ge.NUMERICIDENTIFIER]})\\.(${he[ge.NUMERICIDENTIFIER]})\\.(${he[ge.NUMERICIDENTIFIER]})`);Ye("MAINVERSIONLOOSE",`(${he[ge.NUMERICIDENTIFIERLOOSE]})\\.(${he[ge.NUMERICIDENTIFIERLOOSE]})\\.(${he[ge.NUMERICIDENTIFIERLOOSE]})`);Ye("PRERELEASEIDENTIFIER",`(?:${he[ge.NUMERICIDENTIFIER]}|${he[ge.NONNUMERICIDENTIFIER]})`);Ye("PRERELEASEIDENTIFIERLOOSE",`(?:${he[ge.NUMERICIDENTIFIERLOOSE]}|${he[ge.NONNUMERICIDENTIFIER]})`);Ye("PRERELEASE",`(?:-(${he[ge.PRERELEASEIDENTIFIER]}(?:\\.${he[ge.PRERELEASEIDENTIFIER]})*))`);Ye("PRERELEASELOOSE",`(?:-?(${he[ge.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${he[ge.PRERELEASEIDENTIFIERLOOSE]})*))`);Ye("BUILDIDENTIFIER",`${MW}+`);Ye("BUILD",`(?:\\+(${he[ge.BUILDIDENTIFIER]}(?:\\.${he[ge.BUILDIDENTIFIER]})*))`);Ye("FULLPLAIN",`v?${he[ge.MAINVERSION]}${he[ge.PRERELEASE]}?${he[ge.BUILD]}?`);Ye("FULL",`^${he[ge.FULLPLAIN]}$`);Ye("LOOSEPLAIN",`[v=\\s]*${he[ge.MAINVERSIONLOOSE]}${he[ge.PRERELEASELOOSE]}?${he[ge.BUILD]}?`);Ye("LOOSE",`^${he[ge.LOOSEPLAIN]}$`);Ye("GTLT","((?:<|>)?=?)");Ye("XRANGEIDENTIFIERLOOSE",`${he[ge.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ye("XRANGEIDENTIFIER",`${he[ge.NUMERICIDENTIFIER]}|x|X|\\*`);Ye("XRANGEPLAIN",`[v=\\s]*(${he[ge.XRANGEIDENTIFIER]})(?:\\.(${he[ge.XRANGEIDENTIFIER]})(?:\\.(${he[ge.XRANGEIDENTIFIER]})(?:${he[ge.PRERELEASE]})?${he[ge.BUILD]}?)?)?`);Ye("XRANGEPLAINLOOSE",`[v=\\s]*(${he[ge.XRANGEIDENTIFIERLOOSE]})(?:\\.(${he[ge.XRANGEIDENTIFIERLOOSE]})(?:\\.(${he[ge.XRANGEIDENTIFIERLOOSE]})(?:${he[ge.PRERELEASELOOSE]})?${he[ge.BUILD]}?)?)?`);Ye("XRANGE",`^${he[ge.GTLT]}\\s*${he[ge.XRANGEPLAIN]}$`);Ye("XRANGELOOSE",`^${he[ge.GTLT]}\\s*${he[ge.XRANGEPLAINLOOSE]}$`);Ye("COERCEPLAIN",`(^|[^\\d])(\\d{1,${PW}})(?:\\.(\\d{1,${PW}}))?(?:\\.(\\d{1,${PW}}))?`);Ye("COERCE",`${he[ge.COERCEPLAIN]}(?:$|[^\\d])`);Ye("COERCEFULL",he[ge.COERCEPLAIN]+`(?:${he[ge.PRERELEASE]})?(?:${he[ge.BUILD]})?(?:$|[^\\d])`);Ye("COERCERTL",he[ge.COERCE],!0);Ye("COERCERTLFULL",he[ge.COERCEFULL],!0);Ye("LONETILDE","(?:~>?)");Ye("TILDETRIM",`(\\s*)${he[ge.LONETILDE]}\\s+`,!0);lu.tildeTrimReplace="$1~";Ye("TILDE",`^${he[ge.LONETILDE]}${he[ge.XRANGEPLAIN]}$`);Ye("TILDELOOSE",`^${he[ge.LONETILDE]}${he[ge.XRANGEPLAINLOOSE]}$`);Ye("LONECARET","(?:\\^)");Ye("CARETTRIM",`(\\s*)${he[ge.LONECARET]}\\s+`,!0);lu.caretTrimReplace="$1^";Ye("CARET",`^${he[ge.LONECARET]}${he[ge.XRANGEPLAIN]}$`);Ye("CARETLOOSE",`^${he[ge.LONECARET]}${he[ge.XRANGEPLAINLOOSE]}$`);Ye("COMPARATORLOOSE",`^${he[ge.GTLT]}\\s*(${he[ge.LOOSEPLAIN]})$|^$`);Ye("COMPARATOR",`^${he[ge.GTLT]}\\s*(${he[ge.FULLPLAIN]})$|^$`);Ye("COMPARATORTRIM",`(\\s*)${he[ge.GTLT]}\\s*(${he[ge.LOOSEPLAIN]}|${he[ge.XRANGEPLAIN]})`,!0);lu.comparatorTrimReplace="$1$2$3";Ye("HYPHENRANGE",`^\\s*(${he[ge.XRANGEPLAIN]})\\s+-\\s+(${he[ge.XRANGEPLAIN]})\\s*$`);Ye("HYPHENRANGELOOSE",`^\\s*(${he[ge.XRANGEPLAINLOOSE]})\\s+-\\s+(${he[ge.XRANGEPLAINLOOSE]})\\s*$`);Ye("STAR","(<|>)?=?\\s*\\*");Ye("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ye("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var PN=h((gJt,Rye)=>{l();var mot=Object.freeze({loose:!0}),yot=Object.freeze({}),_ot=t=>t?typeof t!="object"?mot:t:yot;Rye.exports=_ot});var xW=h((yJt,wye)=>{l();var Oye=/^[0-9]+$/,Nye=(t,e)=>{let r=Oye.test(t),o=Oye.test(e);return r&&o&&(t=+t,e=+e),t===e?0:r&&!o?-1:o&&!r?1:t<e?-1:1},Sot=(t,e)=>Nye(e,t);wye.exports={compareIdentifiers:Nye,rcompareIdentifiers:Sot}});var Sn=h((SJt,Bye)=>{l();var MN=mb(),{MAX_LENGTH:Pye,MAX_SAFE_INTEGER:xN}=gb(),{safeRe:Mye,t:xye}=kg(),bot=PN(),{compareIdentifiers:Wg}=xW(),BW=class t{constructor(e,r){if(r=bot(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Pye)throw new TypeError(`version is longer than ${Pye} characters`);MN("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let o=e.trim().match(r.loose?Mye[xye.LOOSE]:Mye[xye.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>xN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xN||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<xN)return a}return s}):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(MN("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Wg(this.major,e.major)||Wg(this.minor,e.minor)||Wg(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let o=this.prerelease[r],s=e.prerelease[r];if(MN("prerelease compare",r,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Wg(o,s)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let o=this.build[r],s=e.build[r];if(MN("prerelease compare",r,o,s),o===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(o===void 0)return-1;if(o===s)continue;return Wg(o,s)}while(++r)}inc(e,r,o){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,o),this.inc("pre",r,o);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,o),this.inc("pre",r,o);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(o)?1:0;if(!r&&o===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&o===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];o===!1&&(a=[r]),Wg(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Bye.exports=BW});var gf=h((EJt,Lye)=>{l();var Dye=Sn(),Eot=(t,e,r=!1)=>{if(t instanceof Dye)return t;try{return new Dye(t,e)}catch(o){if(!r)return null;throw o}};Lye.exports=Eot});var Gye=h((TJt,Uye)=>{l();var vot=gf(),Tot=(t,e)=>{let r=vot(t,e);return r?r.version:null};Uye.exports=Tot});var Fye=h((IJt,Vye)=>{l();var Aot=gf(),Iot=(t,e)=>{let r=Aot(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Vye.exports=Iot});var Wye=h((RJt,kye)=>{l();var Hye=Sn(),Cot=(t,e,r,o,s)=>{typeof r=="string"&&(s=o,o=r,r=void 0);try{return new Hye(t instanceof Hye?t.version:t,r).inc(e,o,s).version}catch{return null}};kye.exports=Cot});var Yye=h((NJt,qye)=>{l();var Zye=gf(),Rot=(t,e)=>{let r=Zye(t,null,!0),o=Zye(e,null,!0),s=r.compare(o);if(s===0)return null;let a=s>0,i=a?r:o,n=a?o:r,u=!!i.prerelease.length;if(!!n.prerelease.length&&!u)return!n.patch&&!n.minor?"major":i.patch?"patch":i.minor?"minor":"major";let d=u?"pre":"";return r.major!==o.major?d+"major":r.minor!==o.minor?d+"minor":r.patch!==o.patch?d+"patch":"prerelease"};qye.exports=Rot});var Kye=h((PJt,jye)=>{l();var Oot=Sn(),Not=(t,e)=>new Oot(t,e).major;jye.exports=Not});var zye=h((xJt,Xye)=>{l();var wot=Sn(),Pot=(t,e)=>new wot(t,e).minor;Xye.exports=Pot});var $ye=h((DJt,Jye)=>{l();var Mot=Sn(),xot=(t,e)=>new Mot(t,e).patch;Jye.exports=xot});var e_e=h((UJt,Qye)=>{l();var Bot=gf(),Dot=(t,e)=>{let r=Bot(t,e);return r&&r.prerelease.length?r.prerelease:null};Qye.exports=Dot});var co=h((VJt,r_e)=>{l();var t_e=Sn(),Lot=(t,e,r)=>new t_e(t,r).compare(new t_e(e,r));r_e.exports=Lot});var i_e=h((HJt,n_e)=>{l();var Uot=co(),Got=(t,e,r)=>Uot(e,t,r);n_e.exports=Got});var s_e=h((WJt,o_e)=>{l();var Vot=co(),Fot=(t,e)=>Vot(t,e,!0);o_e.exports=Fot});var BN=h((qJt,u_e)=>{l();var a_e=Sn(),Hot=(t,e,r)=>{let o=new a_e(t,r),s=new a_e(e,r);return o.compare(s)||o.compareBuild(s)};u_e.exports=Hot});var l_e=h((jJt,c_e)=>{l();var kot=BN(),Wot=(t,e)=>t.sort((r,o)=>kot(r,o,e));c_e.exports=Wot});var f_e=h((XJt,d_e)=>{l();var Zot=BN(),qot=(t,e)=>t.sort((r,o)=>Zot(o,r,e));d_e.exports=qot});var yb=h((JJt,p_e)=>{l();var Yot=co(),jot=(t,e,r)=>Yot(t,e,r)>0;p_e.exports=jot});var DN=h((QJt,h_e)=>{l();var Kot=co(),Xot=(t,e,r)=>Kot(t,e,r)<0;h_e.exports=Xot});var DW=h((t6t,g_e)=>{l();var zot=co(),Jot=(t,e,r)=>zot(t,e,r)===0;g_e.exports=Jot});var LW=h((n6t,m_e)=>{l();var $ot=co(),Qot=(t,e,r)=>$ot(t,e,r)!==0;m_e.exports=Qot});var LN=h((o6t,y_e)=>{l();var est=co(),tst=(t,e,r)=>est(t,e,r)>=0;y_e.exports=tst});var UN=h((a6t,__e)=>{l();var rst=co(),nst=(t,e,r)=>rst(t,e,r)<=0;__e.exports=nst});var UW=h((c6t,S_e)=>{l();var ist=DW(),ost=LW(),sst=yb(),ast=LN(),ust=DN(),cst=UN(),lst=(t,e,r,o)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return ist(t,r,o);case"!=":return ost(t,r,o);case">":return sst(t,r,o);case">=":return ast(t,r,o);case"<":return ust(t,r,o);case"<=":return cst(t,r,o);default:throw new TypeError(`Invalid operator: ${e}`)}};S_e.exports=lst});var E_e=h((d6t,b_e)=>{l();var dst=Sn(),fst=gf(),{safeRe:GN,t:VN}=kg(),pst=(t,e)=>{if(t instanceof dst)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?GN[VN.COERCEFULL]:GN[VN.COERCE]);else{let u=e.includePrerelease?GN[VN.COERCERTLFULL]:GN[VN.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let o=r[2],s=r[3]||"0",a=r[4]||"0",i=e.includePrerelease&&r[5]?`-${r[5]}`:"",n=e.includePrerelease&&r[6]?`+${r[6]}`:"";return fst(`${o}.${s}.${a}${i}${n}`,e)};b_e.exports=pst});var T_e=h((p6t,v_e)=>{"use strict";l();v_e.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var I_e=h((g6t,A_e)=>{"use strict";l();A_e.exports=_t;_t.Node=mf;_t.create=_t;function _t(t){var e=this;if(e instanceof _t||(e=new _t),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,o=arguments.length;r<o;r++)e.push(arguments[r]);return e}_t.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};_t.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};_t.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};_t.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)gst(this,arguments[t]);return this.length};_t.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)mst(this,arguments[t]);return this.length};_t.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};_t.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};_t.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,o=0;r!==null;o++)t.call(e,r.value,o,this),r=r.next};_t.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,o=this.length-1;r!==null;o--)t.call(e,r.value,o,this),r=r.prev};_t.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};_t.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};_t.prototype.map=function(t,e){e=e||this;for(var r=new _t,o=this.head;o!==null;)r.push(t.call(e,o.value,this)),o=o.next;return r};_t.prototype.mapReverse=function(t,e){e=e||this;for(var r=new _t,o=this.tail;o!==null;)r.push(t.call(e,o.value,this)),o=o.prev;return r};_t.prototype.reduce=function(t,e){var r,o=this.head;if(arguments.length>1)r=e;else if(this.head)o=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;o!==null;s++)r=t(r,o.value,s),o=o.next;return r};_t.prototype.reduceReverse=function(t,e){var r,o=this.tail;if(arguments.length>1)r=e;else if(this.tail)o=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;o!==null;s--)r=t(r,o.value,s),o=o.prev;return r};_t.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};_t.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};_t.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new _t;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=0,s=this.head;s!==null&&o<t;o++)s=s.next;for(;s!==null&&o<e;o++,s=s.next)r.push(s.value);return r};_t.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new _t;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var o=this.length,s=this.tail;s!==null&&o>e;o--)s=s.prev;for(;s!==null&&o>t;o--,s=s.prev)r.push(s.value);return r};_t.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var o=0,s=this.head;s!==null&&o<t;o++)s=s.next;for(var a=[],o=0;s&&o<e;o++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var o=0;o<r.length;o++)s=hst(this,s,r[o]);return a};_t.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var o=r.prev;r.prev=r.next,r.next=o}return this.head=e,this.tail=t,this};function hst(t,e,r){var o=e===t.head?new mf(r,null,e,t):new mf(r,e,e.next,t);return o.next===null&&(t.tail=o),o.prev===null&&(t.head=o),t.length++,o}function gst(t,e){t.tail=new mf(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function mst(t,e){t.head=new mf(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function mf(t,e,r,o){if(!(this instanceof mf))return new mf(t,e,r,o);this.list=o,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{T_e()(_t)}catch{}});var w_e=h((y6t,N_e)=>{"use strict";l();var yst=I_e(),yf=Symbol("max"),fu=Symbol("length"),Zg=Symbol("lengthCalculator"),Sb=Symbol("allowStale"),_f=Symbol("maxAge"),du=Symbol("dispose"),C_e=Symbol("noDisposeOnSet"),Mr=Symbol("lruList"),zo=Symbol("cache"),O_e=Symbol("updateAgeOnGet"),GW=()=>1,FW=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[yf]=e.max||1/0,o=e.length||GW;if(this[Zg]=typeof o!="function"?GW:o,this[Sb]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[_f]=e.maxAge||0,this[du]=e.dispose,this[C_e]=e.noDisposeOnSet||!1,this[O_e]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[yf]=e||1/0,_b(this)}get max(){return this[yf]}set allowStale(e){this[Sb]=!!e}get allowStale(){return this[Sb]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[_f]=e,_b(this)}get maxAge(){return this[_f]}set lengthCalculator(e){typeof e!="function"&&(e=GW),e!==this[Zg]&&(this[Zg]=e,this[fu]=0,this[Mr].forEach(r=>{r.length=this[Zg](r.value,r.key),this[fu]+=r.length})),_b(this)}get lengthCalculator(){return this[Zg]}get length(){return this[fu]}get itemCount(){return this[Mr].length}rforEach(e,r){r=r||this;for(let o=this[Mr].tail;o!==null;){let s=o.prev;R_e(this,e,o,r),o=s}}forEach(e,r){r=r||this;for(let o=this[Mr].head;o!==null;){let s=o.next;R_e(this,e,o,r),o=s}}keys(){return this[Mr].toArray().map(e=>e.key)}values(){return this[Mr].toArray().map(e=>e.value)}reset(){this[du]&&this[Mr]&&this[Mr].length&&this[Mr].forEach(e=>this[du](e.key,e.value)),this[zo]=new Map,this[Mr]=new yst,this[fu]=0}dump(){return this[Mr].map(e=>FN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Mr]}set(e,r,o){if(o=o||this[_f],o&&typeof o!="number")throw new TypeError("maxAge must be a number");let s=o?Date.now():0,a=this[Zg](r,e);if(this[zo].has(e)){if(a>this[yf])return qg(this,this[zo].get(e)),!1;let u=this[zo].get(e).value;return this[du]&&(this[C_e]||this[du](e,u.value)),u.now=s,u.maxAge=o,u.value=r,this[fu]+=a-u.length,u.length=a,this.get(e),_b(this),!0}let i=new HW(e,r,a,s,o);return i.length>this[yf]?(this[du]&&this[du](e,r),!1):(this[fu]+=i.length,this[Mr].unshift(i),this[zo].set(e,this[Mr].head),_b(this),!0)}has(e){if(!this[zo].has(e))return!1;let r=this[zo].get(e).value;return!FN(this,r)}get(e){return VW(this,e,!0)}peek(e){return VW(this,e,!1)}pop(){let e=this[Mr].tail;return e?(qg(this,e),e.value):null}del(e){qg(this,this[zo].get(e))}load(e){this.reset();let r=Date.now();for(let o=e.length-1;o>=0;o--){let s=e[o],a=s.e||0;if(a===0)this.set(s.k,s.v);else{let i=a-r;i>0&&this.set(s.k,s.v,i)}}}prune(){this[zo].forEach((e,r)=>VW(this,r,!1))}},VW=(t,e,r)=>{let o=t[zo].get(e);if(o){let s=o.value;if(FN(t,s)){if(qg(t,o),!t[Sb])return}else r&&(t[O_e]&&(o.value.now=Date.now()),t[Mr].unshiftNode(o));return s.value}},FN=(t,e)=>{if(!e||!e.maxAge&&!t[_f])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[_f]&&r>t[_f]},_b=t=>{if(t[fu]>t[yf])for(let e=t[Mr].tail;t[fu]>t[yf]&&e!==null;){let r=e.prev;qg(t,e),e=r}},qg=(t,e)=>{if(e){let r=e.value;t[du]&&t[du](r.key,r.value),t[fu]-=r.length,t[zo].delete(r.key),t[Mr].removeNode(e)}},HW=class{constructor(e,r,o,s,a){this.key=e,this.value=r,this.length=o,this.now=s,this.maxAge=a||0}},R_e=(t,e,r,o)=>{let s=r.value;FN(t,s)&&(qg(t,r),t[Sb]||(s=void 0)),s&&e.call(o,s.value,s.key,t)};N_e.exports=FW});var lo=h((S6t,B_e)=>{l();var kW=class t{constructor(e,r){if(r=Sst(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof WW)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(o=>this.parseRange(o.trim())).filter(o=>o.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let o=this.set[0];if(this.set=this.set.filter(s=>!M_e(s[0])),this.set.length===0)this.set=[o];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Cst(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let o=((this.options.includePrerelease&&Ast)|(this.options.loose&&Ist))+":"+e,s=P_e.get(o);if(s)return s;let a=this.options.loose,i=a?ai[Dn.HYPHENRANGELOOSE]:ai[Dn.HYPHENRANGE];e=e.replace(i,Lst(this.options.includePrerelease)),Zt("hyphen replace",e),e=e.replace(ai[Dn.COMPARATORTRIM],Est),Zt("comparator trim",e),e=e.replace(ai[Dn.TILDETRIM],vst),Zt("tilde trim",e),e=e.replace(ai[Dn.CARETTRIM],Tst),Zt("caret trim",e);let n=e.split(" ").map(f=>Rst(f,this.options)).join(" ").split(/\s+/).map(f=>Dst(f,this.options));a&&(n=n.filter(f=>(Zt("loose invalid filter",f,this.options),!!f.match(ai[Dn.COMPARATORLOOSE])))),Zt("range list",n);let u=new Map,c=n.map(f=>new WW(f,this.options));for(let f of c){if(M_e(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return P_e.set(o,d),d}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(o=>x_e(o,r)&&e.set.some(s=>x_e(s,r)&&o.every(a=>s.every(i=>a.intersects(i,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new bst(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Ust(this.set[r],e,this.options))return!0;return!1}};B_e.exports=kW;var _st=w_e(),P_e=new _st({max:1e3}),Sst=PN(),WW=bb(),Zt=mb(),bst=Sn(),{safeRe:ai,t:Dn,comparatorTrimReplace:Est,tildeTrimReplace:vst,caretTrimReplace:Tst}=kg(),{FLAG_INCLUDE_PRERELEASE:Ast,FLAG_LOOSE:Ist}=gb(),M_e=t=>t.value==="<0.0.0-0",Cst=t=>t.value==="",x_e=(t,e)=>{let r=!0,o=t.slice(),s=o.pop();for(;r&&o.length;)r=o.every(a=>s.intersects(a,e)),s=o.pop();return r},Rst=(t,e)=>(Zt("comp",t,e),t=wst(t,e),Zt("caret",t),t=Ost(t,e),Zt("tildes",t),t=Mst(t,e),Zt("xrange",t),t=Bst(t,e),Zt("stars",t),t),Ln=t=>!t||t.toLowerCase()==="x"||t==="*",Ost=(t,e)=>t.trim().split(/\s+/).map(r=>Nst(r,e)).join(" "),Nst=(t,e)=>{let r=e.loose?ai[Dn.TILDELOOSE]:ai[Dn.TILDE];return t.replace(r,(o,s,a,i,n)=>{Zt("tilde",t,o,s,a,i,n);let u;return Ln(s)?u="":Ln(a)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Ln(i)?u=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:n?(Zt("replaceTilde pr",n),u=`>=${s}.${a}.${i}-${n} <${s}.${+a+1}.0-0`):u=`>=${s}.${a}.${i} <${s}.${+a+1}.0-0`,Zt("tilde return",u),u})},wst=(t,e)=>t.trim().split(/\s+/).map(r=>Pst(r,e)).join(" "),Pst=(t,e)=>{Zt("caret",t,e);let r=e.loose?ai[Dn.CARETLOOSE]:ai[Dn.CARET],o=e.includePrerelease?"-0":"";return t.replace(r,(s,a,i,n,u)=>{Zt("caret",t,s,a,i,n,u);let c;return Ln(a)?c="":Ln(i)?c=`>=${a}.0.0${o} <${+a+1}.0.0-0`:Ln(n)?a==="0"?c=`>=${a}.${i}.0${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.0${o} <${+a+1}.0.0-0`:u?(Zt("replaceCaret pr",u),a==="0"?i==="0"?c=`>=${a}.${i}.${n}-${u} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}-${u} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n}-${u} <${+a+1}.0.0-0`):(Zt("no pr"),a==="0"?i==="0"?c=`>=${a}.${i}.${n}${o} <${a}.${i}.${+n+1}-0`:c=`>=${a}.${i}.${n}${o} <${a}.${+i+1}.0-0`:c=`>=${a}.${i}.${n} <${+a+1}.0.0-0`),Zt("caret return",c),c})},Mst=(t,e)=>(Zt("replaceXRanges",t,e),t.split(/\s+/).map(r=>xst(r,e)).join(" ")),xst=(t,e)=>{t=t.trim();let r=e.loose?ai[Dn.XRANGELOOSE]:ai[Dn.XRANGE];return t.replace(r,(o,s,a,i,n,u)=>{Zt("xRange",t,o,s,a,i,n,u);let c=Ln(a),d=c||Ln(i),f=d||Ln(n),g=f;return s==="="&&g&&(s=""),u=e.includePrerelease?"-0":"",c?s===">"||s==="<"?o="<0.0.0-0":o="*":s&&g?(d&&(i=0),n=0,s===">"?(s=">=",d?(a=+a+1,i=0,n=0):(i=+i+1,n=0)):s==="<="&&(s="<",d?a=+a+1:i=+i+1),s==="<"&&(u="-0"),o=`${s+a}.${i}.${n}${u}`):d?o=`>=${a}.0.0${u} <${+a+1}.0.0-0`:f&&(o=`>=${a}.${i}.0${u} <${a}.${+i+1}.0-0`),Zt("xRange return",o),o})},Bst=(t,e)=>(Zt("replaceStars",t,e),t.trim().replace(ai[Dn.STAR],"")),Dst=(t,e)=>(Zt("replaceGTE0",t,e),t.trim().replace(ai[e.includePrerelease?Dn.GTE0PRE:Dn.GTE0],"")),Lst=t=>(e,r,o,s,a,i,n,u,c,d,f,g,y)=>(Ln(o)?r="":Ln(s)?r=`>=${o}.0.0${t?"-0":""}`:Ln(a)?r=`>=${o}.${s}.0${t?"-0":""}`:i?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Ln(c)?u="":Ln(d)?u=`<${+c+1}.0.0-0`:Ln(f)?u=`<${c}.${+d+1}.0-0`:g?u=`<=${c}.${d}.${f}-${g}`:t?u=`<${c}.${d}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),Ust=(t,e,r)=>{for(let o=0;o<t.length;o++)if(!t[o].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let o=0;o<t.length;o++)if(Zt(t[o].semver),t[o].semver!==WW.ANY&&t[o].semver.prerelease.length>0){let s=t[o].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var bb=h((E6t,F_e)=>{l();var Eb=Symbol("SemVer ANY"),YW=class t{static get ANY(){return Eb}constructor(e,r){if(r=D_e(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),qW("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Eb?this.value="":this.value=this.operator+this.semver.version,qW("comp",this)}parse(e){let r=this.options.loose?L_e[U_e.COMPARATORLOOSE]:L_e[U_e.COMPARATOR],o=e.match(r);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=o[1]!==void 0?o[1]:"",this.operator==="="&&(this.operator=""),o[2]?this.semver=new G_e(o[2],this.options.loose):this.semver=Eb}toString(){return this.value}test(e){if(qW("Comparator.test",e,this.options.loose),this.semver===Eb||e===Eb)return!0;if(typeof e=="string")try{e=new G_e(e,this.options)}catch{return!1}return ZW(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new V_e(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new V_e(this.value,r).test(e.semver):(r=D_e(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ZW(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ZW(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};F_e.exports=YW;var D_e=PN(),{safeRe:L_e,t:U_e}=kg(),ZW=UW(),qW=mb(),G_e=Sn(),V_e=lo()});var vb=h((T6t,H_e)=>{l();var Gst=lo(),Vst=(t,e,r)=>{try{e=new Gst(e,r)}catch{return!1}return e.test(t)};H_e.exports=Vst});var W_e=h((I6t,k_e)=>{l();var Fst=lo(),Hst=(t,e)=>new Fst(t,e).set.map(r=>r.map(o=>o.value).join(" ").trim().split(" "));k_e.exports=Hst});var q_e=h((R6t,Z_e)=>{l();var kst=Sn(),Wst=lo(),Zst=(t,e,r)=>{let o=null,s=null,a=null;try{a=new Wst(e,r)}catch{return null}return t.forEach(i=>{a.test(i)&&(!o||s.compare(i)===-1)&&(o=i,s=new kst(o,r))}),o};Z_e.exports=Zst});var j_e=h((N6t,Y_e)=>{l();var qst=Sn(),Yst=lo(),jst=(t,e,r)=>{let o=null,s=null,a=null;try{a=new Yst(e,r)}catch{return null}return t.forEach(i=>{a.test(i)&&(!o||s.compare(i)===1)&&(o=i,s=new qst(o,r))}),o};Y_e.exports=jst});var z_e=h((P6t,X_e)=>{l();var jW=Sn(),Kst=lo(),K_e=yb(),Xst=(t,e)=>{t=new Kst(t,e);let r=new jW("0.0.0");if(t.test(r)||(r=new jW("0.0.0-0"),t.test(r)))return r;r=null;for(let o=0;o<t.set.length;++o){let s=t.set[o],a=null;s.forEach(i=>{let n=new jW(i.semver.version);switch(i.operator){case">":n.prerelease.length===0?n.patch++:n.prerelease.push(0),n.raw=n.format();case"":case">=":(!a||K_e(n,a))&&(a=n);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),a&&(!r||K_e(r,a))&&(r=a)}return r&&t.test(r)?r:null};X_e.exports=Xst});var $_e=h((x6t,J_e)=>{l();var zst=lo(),Jst=(t,e)=>{try{return new zst(t,e).range||"*"}catch{return null}};J_e.exports=Jst});var HN=h((D6t,rSe)=>{l();var $st=Sn(),tSe=bb(),{ANY:Qst}=tSe,eat=lo(),tat=vb(),Q_e=yb(),eSe=DN(),rat=UN(),nat=LN(),iat=(t,e,r,o)=>{t=new $st(t,o),e=new eat(e,o);let s,a,i,n,u;switch(r){case">":s=Q_e,a=rat,i=eSe,n=">",u=">=";break;case"<":s=eSe,a=nat,i=Q_e,n="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tat(t,e,o))return!1;for(let c=0;c<e.set.length;++c){let d=e.set[c],f=null,g=null;if(d.forEach(y=>{y.semver===Qst&&(y=new tSe(">=0.0.0")),f=f||y,g=g||y,s(y.semver,f.semver,o)?f=y:i(y.semver,g.semver,o)&&(g=y)}),f.operator===n||f.operator===u||(!g.operator||g.operator===n)&&a(t,g.semver))return!1;if(g.operator===u&&i(t,g.semver))return!1}return!0};rSe.exports=iat});var iSe=h((U6t,nSe)=>{l();var oat=HN(),sat=(t,e,r)=>oat(t,e,">",r);nSe.exports=sat});var sSe=h((V6t,oSe)=>{l();var aat=HN(),uat=(t,e,r)=>aat(t,e,"<",r);oSe.exports=uat});var cSe=h((H6t,uSe)=>{l();var aSe=lo(),cat=(t,e,r)=>(t=new aSe(t,r),e=new aSe(e,r),t.intersects(e,r));uSe.exports=cat});var dSe=h((W6t,lSe)=>{l();var lat=vb(),dat=co();lSe.exports=(t,e,r)=>{let o=[],s=null,a=null,i=t.sort((d,f)=>dat(d,f,r));for(let d of i)lat(d,e,r)?(a=d,s||(s=d)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let n=[];for(let[d,f]of o)d===f?n.push(d):!f&&d===i[0]?n.push("*"):f?d===i[0]?n.push(`<=${f}`):n.push(`${d} - ${f}`):n.push(`>=${d}`);let u=n.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var ySe=h((q6t,mSe)=>{l();var fSe=lo(),XW=bb(),{ANY:KW}=XW,Tb=vb(),zW=co(),fat=(t,e,r={})=>{if(t===e)return!0;t=new fSe(t,r),e=new fSe(e,r);let o=!1;e:for(let s of t.set){for(let a of e.set){let i=hat(s,a,r);if(o=o||i!==null,i)continue e}if(o)return!1}return!0},pat=[new XW(">=0.0.0-0")],pSe=[new XW(">=0.0.0")],hat=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===KW){if(e.length===1&&e[0].semver===KW)return!0;r.includePrerelease?t=pat:t=pSe}if(e.length===1&&e[0].semver===KW){if(r.includePrerelease)return!0;e=pSe}let o=new Set,s,a;for(let y of t)y.operator===">"||y.operator===">="?s=hSe(s,y,r):y.operator==="<"||y.operator==="<="?a=gSe(a,y,r):o.add(y.semver);if(o.size>1)return null;let i;if(s&&a){if(i=zW(s.semver,a.semver,r),i>0)return null;if(i===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let y of o){if(s&&!Tb(y,String(s),r)||a&&!Tb(y,String(a),r))return null;for(let S of e)if(!Tb(y,String(S),r))return!1;return!0}let n,u,c,d,f=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,g=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;f&&f.prerelease.length===1&&a.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let y of e){if(d=d||y.operator===">"||y.operator===">=",c=c||y.operator==="<"||y.operator==="<=",s){if(g&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===g.major&&y.semver.minor===g.minor&&y.semver.patch===g.patch&&(g=!1),y.operator===">"||y.operator===">="){if(n=hSe(s,y,r),n===y&&n!==s)return!1}else if(s.operator===">="&&!Tb(s.semver,String(y),r))return!1}if(a){if(f&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===f.major&&y.semver.minor===f.minor&&y.semver.patch===f.patch&&(f=!1),y.operator==="<"||y.operator==="<="){if(u=gSe(a,y,r),u===y&&u!==a)return!1}else if(a.operator==="<="&&!Tb(a.semver,String(y),r))return!1}if(!y.operator&&(a||s)&&i!==0)return!1}return!(s&&c&&!a&&i!==0||a&&d&&!s&&i!==0||g||f)},hSe=(t,e,r)=>{if(!t)return e;let o=zW(t.semver,e.semver,r);return o>0?t:o<0||e.operator===">"&&t.operator===">="?e:t},gSe=(t,e,r)=>{if(!t)return e;let o=zW(t.semver,e.semver,r);return o<0?t:o>0||e.operator==="<"&&t.operator==="<="?e:t};mSe.exports=fat});var Sf=h((j6t,bSe)=>{l();var JW=kg(),_Se=gb(),gat=Sn(),SSe=xW(),mat=gf(),yat=Gye(),_at=Fye(),Sat=Wye(),bat=Yye(),Eat=Kye(),vat=zye(),Tat=$ye(),Aat=e_e(),Iat=co(),Cat=i_e(),Rat=s_e(),Oat=BN(),Nat=l_e(),wat=f_e(),Pat=yb(),Mat=DN(),xat=DW(),Bat=LW(),Dat=LN(),Lat=UN(),Uat=UW(),Gat=E_e(),Vat=bb(),Fat=lo(),Hat=vb(),kat=W_e(),Wat=q_e(),Zat=j_e(),qat=z_e(),Yat=$_e(),jat=HN(),Kat=iSe(),Xat=sSe(),zat=cSe(),Jat=dSe(),$at=ySe();bSe.exports={parse:mat,valid:yat,clean:_at,inc:Sat,diff:bat,major:Eat,minor:vat,patch:Tat,prerelease:Aat,compare:Iat,rcompare:Cat,compareLoose:Rat,compareBuild:Oat,sort:Nat,rsort:wat,gt:Pat,lt:Mat,eq:xat,neq:Bat,gte:Dat,lte:Lat,cmp:Uat,coerce:Gat,Comparator:Vat,Range:Fat,satisfies:Hat,toComparators:kat,maxSatisfying:Wat,minSatisfying:Zat,minVersion:qat,validRange:Yat,outside:jat,gtr:Kat,ltr:Xat,intersects:zat,simplifyRange:Jat,subset:$at,SemVer:gat,re:JW.re,src:JW.src,tokens:JW.t,SEMVER_SPEC_VERSION:_Se.SEMVER_SPEC_VERSION,RELEASE_TYPES:_Se.RELEASE_TYPES,compareIdentifiers:SSe.compareIdentifiers,rcompareIdentifiers:SSe.rcompareIdentifiers}});var ESe=h(Jo=>{"use strict";l();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.JaegerPropagator=Jo.UBER_BAGGAGE_HEADER_PREFIX=Jo.UBER_TRACE_ID_HEADER=void 0;var bf=(j(),Y(K)),Qat=Ne();Jo.UBER_TRACE_ID_HEADER="uber-trace-id";Jo.UBER_BAGGAGE_HEADER_PREFIX="uberctx";var $W=class{constructor(e){typeof e=="string"?(this._jaegerTraceHeader=e,this._jaegerBaggageHeaderPrefix=Jo.UBER_BAGGAGE_HEADER_PREFIX):(this._jaegerTraceHeader=e?.customTraceHeader||Jo.UBER_TRACE_ID_HEADER,this._jaegerBaggageHeaderPrefix=e?.customBaggageHeaderPrefix||Jo.UBER_BAGGAGE_HEADER_PREFIX)}inject(e,r,o){let s=bf.trace.getSpanContext(e),a=bf.propagation.getBaggage(e);if(s&&(0,Qat.isTracingSuppressed)(e)===!1){let i=`0${(s.traceFlags||bf.TraceFlags.NONE).toString(16)}`;o.set(r,this._jaegerTraceHeader,`${s.traceId}:${s.spanId}:0:${i}`)}if(a)for(let[i,n]of a.getAllEntries())o.set(r,`${this._jaegerBaggageHeaderPrefix}-${i}`,encodeURIComponent(n.value))}extract(e,r,o){var s;let a=o.get(r,this._jaegerTraceHeader),i=Array.isArray(a)?a[0]:a,n=o.keys(r).filter(d=>d.startsWith(`${this._jaegerBaggageHeaderPrefix}-`)).map(d=>{let f=o.get(r,d);return{key:d.substring(this._jaegerBaggageHeaderPrefix.length+1),value:Array.isArray(f)?f[0]:f}}),u=e;if(typeof i=="string"){let d=tut(i);d&&(u=bf.trace.setSpanContext(u,d))}if(n.length===0)return u;let c=(s=bf.propagation.getBaggage(e))!==null&&s!==void 0?s:bf.propagation.createBaggage();for(let d of n)d.value!==void 0&&(c=c.setEntry(d.key,{value:decodeURIComponent(d.value)}));return u=bf.propagation.setBaggage(u,c),u}fields(){return[this._jaegerTraceHeader]}};Jo.JaegerPropagator=$W;var eut=/^[0-9a-f]{1,2}$/i;function tut(t){let e=decodeURIComponent(t).split(":");if(e.length!==4)return null;let[r,o,,s]=e,a=r.padStart(32,"0"),i=o.padStart(16,"0"),n=eut.test(s)?parseInt(s,16)&1:1;return{traceId:a,spanId:i,isRemote:!0,traceFlags:n}}});var vSe=h(Ef=>{"use strict";l();var rut=Ef&&Ef.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),nut=Ef&&Ef.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rut(e,t,r)};Object.defineProperty(Ef,"__esModule",{value:!0});nut(ESe(),Ef)});var ISe=h(ZN=>{"use strict";l();Object.defineProperty(ZN,"__esModule",{value:!0});ZN.NodeTracerProvider=void 0;var TSe=Dme(),kN=kme(),ASe=hf(),iut=Sf(),out=vSe(),WN=class extends ASe.BasicTracerProvider{constructor(e={}){super(e)}register(e={}){if(e.contextManager===void 0){let r=iut.gte(process.version,"14.8.0")?TSe.AsyncLocalStorageContextManager:TSe.AsyncHooksContextManager;e.contextManager=new r,e.contextManager.enable()}super.register(e)}};ZN.NodeTracerProvider=WN;WN._registeredPropagators=new Map([...ASe.BasicTracerProvider._registeredPropagators,["b3",()=>new kN.B3Propagator({injectEncoding:kN.B3InjectEncoding.SINGLE_HEADER})],["b3multi",()=>new kN.B3Propagator({injectEncoding:kN.B3InjectEncoding.MULTI_HEADER})],["jaeger",()=>new out.JaegerPropagator]])});var qN=h(Mc=>{"use strict";l();var sut=Mc&&Mc.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),CSe=Mc&&Mc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sut(e,t,r)};Object.defineProperty(Mc,"__esModule",{value:!0});CSe(ISe(),Mc);CSe(hf(),Mc)});var OSe=h(xc=>{"use strict";l();Object.defineProperty(xc,"__esModule",{value:!0});xc.disableInstrumentations=xc.enableInstrumentations=xc.parseInstrumentationOptions=void 0;function RSe(t=[]){let e=[];for(let r=0,o=t.length;r<o;r++){let s=t[r];if(Array.isArray(s)){let a=RSe(s);e=e.concat(a.instrumentations)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return{instrumentations:e}}xc.parseInstrumentationOptions=RSe;function aut(t,e,r){for(let o=0,s=t.length;o<s;o++){let a=t[o];e&&a.setTracerProvider(e),r&&a.setMeterProvider(r),a.getConfig().enabled||a.enable()}}xc.enableInstrumentations=aut;function uut(t){t.forEach(e=>e.disable())}xc.disableInstrumentations=uut});var wSe=h(YN=>{"use strict";l();Object.defineProperty(YN,"__esModule",{value:!0});YN.registerInstrumentations=void 0;var NSe=(j(),Y(K)),QW=OSe();function cut(t){let{instrumentations:e}=(0,QW.parseInstrumentationOptions)(t.instrumentations),r=t.tracerProvider||NSe.trace.getTracerProvider(),o=t.meterProvider||NSe.metrics.getMeterProvider();return(0,QW.enableInstrumentations)(e,r,o),()=>{(0,QW.disableInstrumentations)(e)}}YN.registerInstrumentations=cut});var tZ=h((a7t,xSe)=>{"use strict";l();function eZ(t){return typeof t=="function"}var Un=console.error.bind(console);function Ab(t,e,r){var o=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:o,writable:!0,value:r})}function Ib(t){t&&t.logger&&(eZ(t.logger)?Un=t.logger:Un("new logger isn't a function, not replacing"))}function PSe(t,e,r){if(!t||!t[e]){Un("no original function "+e+" to wrap");return}if(!r){Un("no wrapper function"),Un(new Error().stack);return}if(!eZ(t[e])||!eZ(r)){Un("original object and wrapper must be functions");return}var o=t[e],s=r(o,e);return Ab(s,"__original",o),Ab(s,"__unwrap",function(){t[e]===s&&Ab(t,e,o)}),Ab(s,"__wrapped",!0),Ab(t,e,s),s}function lut(t,e,r){if(t)Array.isArray(t)||(t=[t]);else{Un("must provide one or more modules to patch"),Un(new Error().stack);return}if(!(e&&Array.isArray(e))){Un("must provide one or more functions to wrap on modules");return}t.forEach(function(o){e.forEach(function(s){PSe(o,s,r)})})}function MSe(t,e){if(!t||!t[e]){Un("no function to unwrap."),Un(new Error().stack);return}if(!t[e].__unwrap)Un("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function dut(t,e){if(t)Array.isArray(t)||(t=[t]);else{Un("must provide one or more modules to patch"),Un(new Error().stack);return}if(!(e&&Array.isArray(e))){Un("must provide one or more functions to unwrap on modules");return}t.forEach(function(r){e.forEach(function(o){MSe(r,o)})})}Ib.wrap=PSe;Ib.massWrap=lut;Ib.unwrap=MSe;Ib.massUnwrap=dut;xSe.exports=Ib});var BSe=h(KN=>{"use strict";l();Object.defineProperty(KN,"__esModule",{value:!0});KN.InstrumentationAbstract=void 0;var rZ=(j(),Y(K)),jN=tZ(),nZ=class{constructor(e,r,o={}){this.instrumentationName=e,this.instrumentationVersion=r,this._wrap=jN.wrap,this._unwrap=jN.unwrap,this._massWrap=jN.massWrap,this._massUnwrap=jN.massUnwrap,this._config=Object.assign({enabled:!0},o),this._diag=rZ.diag.createComponentLogger({namespace:e}),this._tracer=rZ.trace.getTracer(e,r),this._meter=rZ.metrics.getMeter(e,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}};KN.InstrumentationAbstract=nZ});var iZ=h((d7t,DSe)=>{"use strict";l();var fut=require("os");DSe.exports=fut.homedir||function(){var e=process.env.HOME,r=process.env.LOGNAME||process.env.USER||process.env.LNAME||process.env.USERNAME;return process.platform==="win32"?process.env.USERPROFILE||process.env.HOMEDRIVE+process.env.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}});var oZ=h((p7t,LSe)=>{l();LSe.exports=function(){var t=Error.prepareStackTrace;Error.prepareStackTrace=function(r,o){return o};var e=new Error().stack;return Error.prepareStackTrace=t,e[2].getFileName()}});var USe=h((g7t,Cb)=>{"use strict";l();var put=process.platform==="win32",hut=/^(((?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?[\\\/]?)(?:[^\\\/]*[\\\/])*)((\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))[\\\/]*$/,sZ={};function gut(t){return hut.exec(t).slice(1)}sZ.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=gut(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return{root:e[1],dir:e[0]===e[1]?e[0]:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};var mut=/^((\/?)(?:[^\/]*\/)*)((\.{1,2}|[^\/]+?|)(\.[^.\/]*|))[\/]*$/,aZ={};function yut(t){return mut.exec(t).slice(1)}aZ.parse=function(t){if(typeof t!="string")throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=yut(t);if(!e||e.length!==5)throw new TypeError("Invalid path '"+t+"'");return{root:e[1],dir:e[0].slice(0,-1),base:e[2],ext:e[4],name:e[3]}};put?Cb.exports=sZ.parse:Cb.exports=aZ.parse;Cb.exports.posix=aZ.parse;Cb.exports.win32=sZ.parse});var uZ=h((y7t,HSe)=>{l();var FSe=require("path"),GSe=FSe.parse||USe(),VSe=function(e,r){var o="/";/^([A-Za-z]:)/.test(e)?o="":/^\\\\/.test(e)&&(o="\\\\");for(var s=[e],a=GSe(e);a.dir!==s[s.length-1];)s.push(a.dir),a=GSe(a.dir);return s.reduce(function(i,n){return i.concat(r.map(function(u){return FSe.resolve(o,n,u)}))},[])};HSe.exports=function(e,r,o){var s=r&&r.moduleDirectory?[].concat(r.moduleDirectory):["node_modules"];if(r&&typeof r.paths=="function")return r.paths(o,e,function(){return VSe(e,s)},r);var a=VSe(e,s);return r&&r.paths?a.concat(r.paths):a}});var cZ=h((S7t,kSe)=>{l();kSe.exports=function(t,e){return e||{}}});var qSe=h((E7t,ZSe)=>{"use strict";l();var _ut="Function.prototype.bind called on incompatible ",Sut=Object.prototype.toString,but=Math.max,Eut="[object Function]",WSe=function(e,r){for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s];for(var a=0;a<r.length;a+=1)o[a+e.length]=r[a];return o},vut=function(e,r){for(var o=[],s=r||0,a=0;s<e.length;s+=1,a+=1)o[a]=e[s];return o},Tut=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r};ZSe.exports=function(e){var r=this;if(typeof r!="function"||Sut.apply(r)!==Eut)throw new TypeError(_ut+r);for(var o=vut(arguments,1),s,a=function(){if(this instanceof s){var d=r.apply(this,WSe(o,arguments));return Object(d)===d?d:this}return r.apply(e,WSe(o,arguments))},i=but(0,r.length-o.length),n=[],u=0;u<i;u++)n[u]="$"+u;if(s=Function("binder","return function ("+Tut(n,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var c=function(){};c.prototype=r.prototype,s.prototype=new c,c.prototype=null}return s}});var jSe=h((T7t,YSe)=>{"use strict";l();var Aut=qSe();YSe.exports=Function.prototype.bind||Aut});var XSe=h((I7t,KSe)=>{"use strict";l();var Iut=Function.prototype.call,Cut=Object.prototype.hasOwnProperty,Rut=jSe();KSe.exports=Rut.call(Iut,Cut)});var zSe=h((R7t,Out)=>{Out.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var Rb=h((O7t,QSe)=>{"use strict";l();var Nut=XSe();function wut(t,e){for(var r=t.split("."),o=e.split(" "),s=o.length>1?o[0]:"=",a=(o.length>1?o[1]:o[0]).split("."),i=0;i<3;++i){var n=parseInt(r[i]||0,10),u=parseInt(a[i]||0,10);if(n!==u)return s==="<"?n<u:s===">="?n>=u:!1}return s===">="}function JSe(t,e){var r=e.split(/ ?&& ?/);if(r.length===0)return!1;for(var o=0;o<r.length;++o)if(!wut(t,r[o]))return!1;return!0}function Put(t,e){if(typeof e=="boolean")return e;var r=typeof t>"u"?process.versions&&process.versions.node:t;if(typeof r!="string")throw new TypeError(typeof t>"u"?"Unable to determine current node version":"If provided, a valid node version is required");if(e&&typeof e=="object"){for(var o=0;o<e.length;++o)if(JSe(r,e[o]))return!0;return!1}return JSe(r,e)}var $Se=zSe();QSe.exports=function(e,r){return Nut($Se,e)&&Put(r,$Se[e])}});var rbe=h((w7t,tbe)=>{l();var vf=require("fs"),Mut=iZ(),br=require("path"),xut=oZ(),But=uZ(),Dut=cZ(),Lut=Rb(),Uut=process.platform!=="win32"&&vf.realpath&&typeof vf.realpath.native=="function"?vf.realpath.native:vf.realpath,ebe=Mut(),Gut=function(){return[br.join(ebe,".node_modules"),br.join(ebe,".node_libraries")]},Vut=function(e,r){vf.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?r(null,!1):r(o):r(null,s.isFile()||s.isFIFO())})},Fut=function(e,r){vf.stat(e,function(o,s){return o?o.code==="ENOENT"||o.code==="ENOTDIR"?r(null,!1):r(o):r(null,s.isDirectory())})},Hut=function(e,r){Uut(e,function(o,s){o&&o.code!=="ENOENT"?r(o):r(null,o?e:s)})},Ob=function(e,r,o,s){o&&o.preserveSymlinks===!1?e(r,s):s(null,r)},kut=function(e,r,o){e(r,function(s,a){if(s)o(s);else try{var i=JSON.parse(a);o(null,i)}catch{o(null)}})},Wut=function(e,r,o){for(var s=But(r,o,e),a=0;a<s.length;a++)s[a]=br.join(s[a],e);return s};tbe.exports=function(e,r,o){var s=o,a=r;if(typeof r=="function"&&(s=a,a={}),typeof e!="string"){var i=new TypeError("Path must be a string.");return process.nextTick(function(){s(i)})}a=Dut(e,a);var n=a.isFile||Vut,u=a.isDirectory||Fut,c=a.readFile||vf.readFile,d=a.realpath||Hut,f=a.readPackage||kut;if(a.readFile&&a.readPackage){var g=new TypeError("`readFile` and `readPackage` are mutually exclusive.");return process.nextTick(function(){s(g)})}var y=a.packageIterator,S=a.extensions||[".js"],T=a.includeCoreModules!==!1,C=a.basedir||br.dirname(xut()),R=a.filename||C;a.paths=a.paths||Gut();var P=br.resolve(C);Ob(d,P,a,function(L,le){L?s(L):x(le)});var M;function x(L){if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e))M=br.resolve(L,e),(e==="."||e===".."||e.slice(-1)==="/")&&(M+="/"),/\/$/.test(e)&&M===L?re(M,a.package,U):D(M,a.package,U);else{if(T&&Lut(e))return s(null,e);_e(e,L,function(le,k,O){if(le)s(le);else{if(k)return Ob(d,k,a,function(H,J){H?s(H):s(null,J,O)});var te=new Error("Cannot find module '"+e+"' from '"+R+"'");te.code="MODULE_NOT_FOUND",s(te)}})}}function U(L,le,k){L?s(L):le?s(null,le,k):re(M,function(O,te,H){if(O)s(O);else if(te)Ob(d,te,a,function(ce,Oe){ce?s(ce):s(null,Oe,H)});else{var J=new Error("Cannot find module '"+e+"' from '"+R+"'");J.code="MODULE_NOT_FOUND",s(J)}})}function D(L,le,k){var O=le,te=k;typeof O=="function"&&(te=O,O=void 0);var H=[""].concat(S);J(H,L,O);function J(ce,Oe,ue){if(ce.length===0)return te(null,void 0,ue);var st=Oe+ce[0],$e=ue;$e?Ge(null,$e):W(br.dirname(st),Ge);function Ge(He,vt,ar){if($e=vt,He)return te(He);if(ar&&$e&&a.pathFilter){var Ze=br.relative(ar,st),Q=Ze.slice(0,Ze.length-ce[0].length),ee=a.pathFilter($e,Oe,Q);if(ee)return J([""].concat(S.slice()),br.resolve(ar,ee),$e)}n(st,at)}function at(He,vt){if(He)return te(He);if(vt)return te(null,st,$e);J(ce.slice(1),Oe,$e)}}}function W(L,le){if(L===""||L==="/"||process.platform==="win32"&&/^\w:[/\\]*$/.test(L)||/[/\\]node_modules[/\\]*$/.test(L))return le(null);Ob(d,L,a,function(k,O){if(k)return W(br.dirname(L),le);var te=br.join(O,"package.json");n(te,function(H,J){if(!J)return W(br.dirname(L),le);f(c,te,function(ce,Oe){ce&&le(ce);var ue=Oe;ue&&a.packageFilter&&(ue=a.packageFilter(ue,te)),le(null,ue,L)})})})}function re(L,le,k){var O=k,te=le;typeof te=="function"&&(O=te,te=a.package),Ob(d,L,a,function(H,J){if(H)return O(H);var ce=br.join(J,"package.json");n(ce,function(Oe,ue){if(Oe)return O(Oe);if(!ue)return D(br.join(L,"index"),te,O);f(c,ce,function(st,$e){if(st)return O(st);var Ge=$e;if(Ge&&a.packageFilter&&(Ge=a.packageFilter(Ge,ce)),Ge&&Ge.main){if(typeof Ge.main!="string"){var at=new TypeError("package \u201C"+Ge.name+"\u201D `main` must be a string");return at.code="INVALID_PACKAGE_MAIN",O(at)}(Ge.main==="."||Ge.main==="./")&&(Ge.main="index"),D(br.resolve(L,Ge.main),Ge,function(He,vt,ar){if(He)return O(He);if(vt)return O(null,vt,ar);if(!ar)return D(br.join(L,"index"),ar,O);var Ze=br.resolve(L,ar.main);re(Ze,ar,function(Q,ee,oe){if(Q)return O(Q);if(ee)return O(null,ee,oe);D(br.join(L,"index"),oe,O)})});return}D(br.join(L,"/index"),Ge,O)})})})}function ie(L,le){if(le.length===0)return L(null,void 0);var k=le[0];u(br.dirname(k),O);function O(J,ce){if(J)return L(J);if(!ce)return ie(L,le.slice(1));D(k,a.package,te)}function te(J,ce,Oe){if(J)return L(J);if(ce)return L(null,ce,Oe);re(k,a.package,H)}function H(J,ce,Oe){if(J)return L(J);if(ce)return L(null,ce,Oe);ie(L,le.slice(1))}}function _e(L,le,k){var O=function(){return Wut(L,le,a)};ie(k,y?y(L,le,O,a):O())}}});var nbe=h((M7t,Zut)=>{Zut.exports={assert:!0,"node:assert":[">= 14.18 && < 15",">= 16"],"assert/strict":">= 15","node:assert/strict":">= 16",async_hooks:">= 8","node:async_hooks":[">= 14.18 && < 15",">= 16"],buffer_ieee754:">= 0.5 && < 0.9.7",buffer:!0,"node:buffer":[">= 14.18 && < 15",">= 16"],child_process:!0,"node:child_process":[">= 14.18 && < 15",">= 16"],cluster:">= 0.5","node:cluster":[">= 14.18 && < 15",">= 16"],console:!0,"node:console":[">= 14.18 && < 15",">= 16"],constants:!0,"node:constants":[">= 14.18 && < 15",">= 16"],crypto:!0,"node:crypto":[">= 14.18 && < 15",">= 16"],_debug_agent:">= 1 && < 8",_debugger:"< 8",dgram:!0,"node:dgram":[">= 14.18 && < 15",">= 16"],diagnostics_channel:[">= 14.17 && < 15",">= 15.1"],"node:diagnostics_channel":[">= 14.18 && < 15",">= 16"],dns:!0,"node:dns":[">= 14.18 && < 15",">= 16"],"dns/promises":">= 15","node:dns/promises":">= 16",domain:">= 0.7.12","node:domain":[">= 14.18 && < 15",">= 16"],events:!0,"node:events":[">= 14.18 && < 15",">= 16"],freelist:"< 6",fs:!0,"node:fs":[">= 14.18 && < 15",">= 16"],"fs/promises":[">= 10 && < 10.1",">= 14"],"node:fs/promises":[">= 14.18 && < 15",">= 16"],_http_agent:">= 0.11.1","node:_http_agent":[">= 14.18 && < 15",">= 16"],_http_client:">= 0.11.1","node:_http_client":[">= 14.18 && < 15",">= 16"],_http_common:">= 0.11.1","node:_http_common":[">= 14.18 && < 15",">= 16"],_http_incoming:">= 0.11.1","node:_http_incoming":[">= 14.18 && < 15",">= 16"],_http_outgoing:">= 0.11.1","node:_http_outgoing":[">= 14.18 && < 15",">= 16"],_http_server:">= 0.11.1","node:_http_server":[">= 14.18 && < 15",">= 16"],http:!0,"node:http":[">= 14.18 && < 15",">= 16"],http2:">= 8.8","node:http2":[">= 14.18 && < 15",">= 16"],https:!0,"node:https":[">= 14.18 && < 15",">= 16"],inspector:">= 8","node:inspector":[">= 14.18 && < 15",">= 16"],"inspector/promises":[">= 19"],"node:inspector/promises":[">= 19"],_linklist:"< 8",module:!0,"node:module":[">= 14.18 && < 15",">= 16"],net:!0,"node:net":[">= 14.18 && < 15",">= 16"],"node-inspect/lib/_inspect":">= 7.6 && < 12","node-inspect/lib/internal/inspect_client":">= 7.6 && < 12","node-inspect/lib/internal/inspect_repl":">= 7.6 && < 12",os:!0,"node:os":[">= 14.18 && < 15",">= 16"],path:!0,"node:path":[">= 14.18 && < 15",">= 16"],"path/posix":">= 15.3","node:path/posix":">= 16","path/win32":">= 15.3","node:path/win32":">= 16",perf_hooks:">= 8.5","node:perf_hooks":[">= 14.18 && < 15",">= 16"],process:">= 1","node:process":[">= 14.18 && < 15",">= 16"],punycode:">= 0.5","node:punycode":[">= 14.18 && < 15",">= 16"],querystring:!0,"node:querystring":[">= 14.18 && < 15",">= 16"],readline:!0,"node:readline":[">= 14.18 && < 15",">= 16"],"readline/promises":">= 17","node:readline/promises":">= 17",repl:!0,"node:repl":[">= 14.18 && < 15",">= 16"],smalloc:">= 0.11.5 && < 3",_stream_duplex:">= 0.9.4","node:_stream_duplex":[">= 14.18 && < 15",">= 16"],_stream_transform:">= 0.9.4","node:_stream_transform":[">= 14.18 && < 15",">= 16"],_stream_wrap:">= 1.4.1","node:_stream_wrap":[">= 14.18 && < 15",">= 16"],_stream_passthrough:">= 0.9.4","node:_stream_passthrough":[">= 14.18 && < 15",">= 16"],_stream_readable:">= 0.9.4","node:_stream_readable":[">= 14.18 && < 15",">= 16"],_stream_writable:">= 0.9.4","node:_stream_writable":[">= 14.18 && < 15",">= 16"],stream:!0,"node:stream":[">= 14.18 && < 15",">= 16"],"stream/consumers":">= 16.7","node:stream/consumers":">= 16.7","stream/promises":">= 15","node:stream/promises":">= 16","stream/web":">= 16.5","node:stream/web":">= 16.5",string_decoder:!0,"node:string_decoder":[">= 14.18 && < 15",">= 16"],sys:[">= 0.4 && < 0.7",">= 0.8"],"node:sys":[">= 14.18 && < 15",">= 16"],"test/reporters":">= 19.9 && < 20.2","node:test/reporters":[">= 18.17 && < 19",">= 19.9",">= 20"],"node:test":[">= 16.17 && < 17",">= 18"],timers:!0,"node:timers":[">= 14.18 && < 15",">= 16"],"timers/promises":">= 15","node:timers/promises":">= 16",_tls_common:">= 0.11.13","node:_tls_common":[">= 14.18 && < 15",">= 16"],_tls_legacy:">= 0.11.3 && < 10",_tls_wrap:">= 0.11.3","node:_tls_wrap":[">= 14.18 && < 15",">= 16"],tls:!0,"node:tls":[">= 14.18 && < 15",">= 16"],trace_events:">= 10","node:trace_events":[">= 14.18 && < 15",">= 16"],tty:!0,"node:tty":[">= 14.18 && < 15",">= 16"],url:!0,"node:url":[">= 14.18 && < 15",">= 16"],util:!0,"node:util":[">= 14.18 && < 15",">= 16"],"util/types":">= 15.3","node:util/types":">= 16","v8/tools/arguments":">= 10 && < 12","v8/tools/codemap":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/consarray":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/csvparser":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/logreader":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/profile_view":[">= 4.4 && < 5",">= 5.2 && < 12"],"v8/tools/splaytree":[">= 4.4 && < 5",">= 5.2 && < 12"],v8:">= 1","node:v8":[">= 14.18 && < 15",">= 16"],vm:!0,"node:vm":[">= 14.18 && < 15",">= 16"],wasi:[">= 13.4 && < 13.5",">= 18.17 && < 19",">= 20"],"node:wasi":[">= 18.17 && < 19",">= 20"],worker_threads:">= 11.7","node:worker_threads":[">= 14.18 && < 15",">= 16"],zlib:">= 0.5","node:zlib":[">= 14.18 && < 15",">= 16"]}});var abe=h((x7t,sbe)=>{"use strict";l();var qut=Rb(),ibe=nbe(),obe={};for(XN in ibe)Object.prototype.hasOwnProperty.call(ibe,XN)&&(obe[XN]=qut(XN));var XN;sbe.exports=obe});var cbe=h((D7t,ube)=>{l();var Yut=Rb();ube.exports=function(e){return Yut(e)}});var fbe=h((U7t,dbe)=>{l();var jut=Rb(),Tf=require("fs"),bn=require("path"),Kut=iZ(),Xut=oZ(),zut=uZ(),Jut=cZ(),$ut=process.platform!=="win32"&&Tf.realpathSync&&typeof Tf.realpathSync.native=="function"?Tf.realpathSync.native:Tf.realpathSync,lbe=Kut(),Qut=function(){return[bn.join(lbe,".node_modules"),bn.join(lbe,".node_libraries")]},ect=function(e){try{var r=Tf.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!r&&(r.isFile()||r.isFIFO())},tct=function(e){try{var r=Tf.statSync(e,{throwIfNoEntry:!1})}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return!1;throw o}return!!r&&r.isDirectory()},rct=function(e){try{return $ut(e)}catch(r){if(r.code!=="ENOENT")throw r}return e},Nb=function(e,r,o){return o&&o.preserveSymlinks===!1?e(r):r},nct=function(e,r){var o=e(r);try{var s=JSON.parse(o);return s}catch{}},ict=function(e,r,o){for(var s=zut(r,o,e),a=0;a<s.length;a++)s[a]=bn.join(s[a],e);return s};dbe.exports=function(e,r){if(typeof e!="string")throw new TypeError("Path must be a string.");var o=Jut(e,r),s=o.isFile||ect,a=o.readFileSync||Tf.readFileSync,i=o.isDirectory||tct,n=o.realpathSync||rct,u=o.readPackageSync||nct;if(o.readFileSync&&o.readPackageSync)throw new TypeError("`readFileSync` and `readPackageSync` are mutually exclusive.");var c=o.packageIterator,d=o.extensions||[".js"],f=o.includeCoreModules!==!1,g=o.basedir||bn.dirname(Xut()),y=o.filename||g;o.paths=o.paths||Qut();var S=Nb(n,bn.resolve(g),o);if(/^(?:\.\.?(?:\/|$)|\/|([A-Za-z]:)?[/\\])/.test(e)){var T=bn.resolve(S,e);(e==="."||e===".."||e.slice(-1)==="/")&&(T+="/");var C=M(T)||U(T);if(C)return Nb(n,C,o)}else{if(f&&jut(e))return e;var R=D(e,S);if(R)return Nb(n,R,o)}var P=new Error("Cannot find module '"+e+"' from '"+y+"'");throw P.code="MODULE_NOT_FOUND",P;function M(W){var re=x(bn.dirname(W));if(re&&re.dir&&re.pkg&&o.pathFilter){var ie=bn.relative(re.dir,W),_e=o.pathFilter(re.pkg,W,ie);_e&&(W=bn.resolve(re.dir,_e))}if(s(W))return W;for(var L=0;L<d.length;L++){var le=W+d[L];if(s(le))return le}}function x(W){if(!(W===""||W==="/")&&!(process.platform==="win32"&&/^\w:[/\\]*$/.test(W))&&!/[/\\]node_modules[/\\]*$/.test(W)){var re=bn.join(Nb(n,W,o),"package.json");if(!s(re))return x(bn.dirname(W));var ie=u(a,re);return ie&&o.packageFilter&&(ie=o.packageFilter(ie,W)),{pkg:ie,dir:W}}}function U(W){var re=bn.join(Nb(n,W,o),"/package.json");if(s(re)){try{var ie=u(a,re)}catch{}if(ie&&o.packageFilter&&(ie=o.packageFilter(ie,W)),ie&&ie.main){if(typeof ie.main!="string"){var _e=new TypeError("package \u201C"+ie.name+"\u201D `main` must be a string");throw _e.code="INVALID_PACKAGE_MAIN",_e}(ie.main==="."||ie.main==="./")&&(ie.main="index");try{var L=M(bn.resolve(W,ie.main));if(L)return L;var le=U(bn.resolve(W,ie.main));if(le)return le}catch{}}}return M(bn.join(W,"/index"))}function D(W,re){for(var ie=function(){return ict(W,re,o)},_e=c?c(W,re,ie,o):ie(),L=0;L<_e.length;L++){var le=_e[L];if(i(bn.dirname(le))){var k=M(le);if(k)return k;var O=U(le);if(O)return O}}}}});var hbe=h((V7t,pbe)=>{l();var zN=rbe();zN.core=abe();zN.isCore=cbe();zN.sync=fbe();pbe.exports=zN});var mbe=h((H7t,gbe)=>{l();var Yg=1e3,jg=Yg*60,Kg=jg*60,Af=Kg*24,oct=Af*7,sct=Af*365.25;gbe.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return act(t);if(r==="number"&&isFinite(t))return e.long?cct(t):uct(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function act(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*sct;case"weeks":case"week":case"w":return r*oct;case"days":case"day":case"d":return r*Af;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Kg;case"minutes":case"minute":case"mins":case"min":case"m":return r*jg;case"seconds":case"second":case"secs":case"sec":case"s":return r*Yg;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function uct(t){var e=Math.abs(t);return e>=Af?Math.round(t/Af)+"d":e>=Kg?Math.round(t/Kg)+"h":e>=jg?Math.round(t/jg)+"m":e>=Yg?Math.round(t/Yg)+"s":t+"ms"}function cct(t){var e=Math.abs(t);return e>=Af?JN(t,e,Af,"day"):e>=Kg?JN(t,e,Kg,"hour"):e>=jg?JN(t,e,jg,"minute"):e>=Yg?JN(t,e,Yg,"second"):t+" ms"}function JN(t,e,r,o){var s=e>=r*1.5;return Math.round(t/r)+" "+o+(s?"s":"")}});var lZ=h((W7t,ybe)=>{l();function lct(t){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=s,r.enabled=i,r.humanize=mbe(),r.destroy=c,Object.keys(t).forEach(d=>{r[d]=t[d]}),r.names=[],r.skips=[],r.formatters={};function e(d){let f=0;for(let g=0;g<d.length;g++)f=(f<<5)-f+d.charCodeAt(g),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(d){let f,g=null,y,S;function T(...C){if(!T.enabled)return;let R=T,P=Number(new Date),M=P-(f||P);R.diff=M,R.prev=f,R.curr=P,f=P,C[0]=r.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let x=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(D,W)=>{if(D==="%%")return"%";x++;let re=r.formatters[W];if(typeof re=="function"){let ie=C[x];D=re.call(R,ie),C.splice(x,1),x--}return D}),r.formatArgs.call(R,C),(R.log||r.log).apply(R,C)}return T.namespace=d,T.useColors=r.useColors(),T.color=r.selectColor(d),T.extend=o,T.destroy=r.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==r.namespaces&&(y=r.namespaces,S=r.enabled(d)),S),set:C=>{g=C}}),typeof r.init=="function"&&r.init(T),T}function o(d,f){let g=r(this.namespace+(typeof f>"u"?":":f)+d);return g.log=this.log,g}function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let f,g=(typeof d=="string"?d:"").split(/[\s,]+/),y=g.length;for(f=0;f<y;f++)g[f]&&(d=g[f].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function a(){let d=[...r.names.map(n),...r.skips.map(n).map(f=>"-"+f)].join(",");return r.enable(""),d}function i(d){if(d[d.length-1]==="*")return!0;let f,g;for(f=0,g=r.skips.length;f<g;f++)if(r.skips[f].test(d))return!1;for(f=0,g=r.names.length;f<g;f++)if(r.names[f].test(d))return!0;return!1}function n(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function u(d){return d instanceof Error?d.stack||d.message:d}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}ybe.exports=lct});var _be=h((xi,$N)=>{l();xi.formatArgs=fct;xi.save=pct;xi.load=hct;xi.useColors=dct;xi.storage=gct();xi.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();xi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function dct(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function fct(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+$N.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(o=r))}),t.splice(o,0,e)}xi.log=console.debug||console.log||(()=>{});function pct(t){try{t?xi.storage.setItem("debug",t):xi.storage.removeItem("debug")}catch{}}function hct(){let t;try{t=xi.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function gct(){try{return localStorage}catch{}}$N.exports=lZ()(xi);var{formatters:mct}=$N.exports;mct.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var bbe=h((Y7t,Sbe)=>{"use strict";l();Sbe.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",o=e.indexOf(r+t),s=e.indexOf("--");return o!==-1&&(s===-1||o<s)}});var Tbe=h((K7t,vbe)=>{"use strict";l();var yct=require("os"),Ebe=require("tty"),fo=bbe(),{env:xr}=process,QN;fo("no-color")||fo("no-colors")||fo("color=false")||fo("color=never")?QN=0:(fo("color")||fo("colors")||fo("color=true")||fo("color=always"))&&(QN=1);function _ct(){if("FORCE_COLOR"in xr)return xr.FORCE_COLOR==="true"?1:xr.FORCE_COLOR==="false"?0:xr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(xr.FORCE_COLOR,10),3)}function Sct(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function bct(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let o=_ct();o!==void 0&&(QN=o);let s=r?QN:o;if(s===0)return 0;if(r){if(fo("color=16m")||fo("color=full")||fo("color=truecolor"))return 3;if(fo("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let a=s||0;if(xr.TERM==="dumb")return a;if(process.platform==="win32"){let i=yct.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in xr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(i=>i in xr)||xr.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in xr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(xr.TEAMCITY_VERSION)?1:0;if(xr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in xr){let i=Number.parseInt((xr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(xr.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(xr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(xr.TERM)||"COLORTERM"in xr?1:a}function dZ(t,e={}){let r=bct(t,{streamIsTTY:t&&t.isTTY,...e});return Sct(r)}vbe.exports={supportsColor:dZ,stdout:dZ({isTTY:Ebe.isatty(1)}),stderr:dZ({isTTY:Ebe.isatty(2)})}});var Ibe=h((zr,tw)=>{l();var Ect=require("tty"),ew=require("util");zr.init=Oct;zr.log=Ict;zr.formatArgs=Tct;zr.save=Cct;zr.load=Rct;zr.useColors=vct;zr.destroy=ew.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");zr.colors=[6,2,3,4,5,1];try{let t=Tbe();t&&(t.stderr||t).level>=2&&(zr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}zr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),o=process.env[e];return/^(yes|on|true|enabled)$/i.test(o)?o=!0:/^(no|off|false|disabled)$/i.test(o)?o=!1:o==="null"?o=null:o=Number(o),t[r]=o,t},{});function vct(){return"colors"in zr.inspectOpts?!!zr.inspectOpts.colors:Ect.isatty(process.stderr.fd)}function Tct(t){let{namespace:e,useColors:r}=this;if(r){let o=this.color,s="\x1B[3"+(o<8?o:"8;5;"+o),a=`  ${s};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(s+"m+"+tw.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Act()+e+" "+t[0]}function Act(){return zr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ict(...t){return process.stderr.write(ew.format(...t)+`
`)}function Cct(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Rct(){return process.env.DEBUG}function Oct(t){t.inspectOpts={};let e=Object.keys(zr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=zr.inspectOpts[e[r]]}tw.exports=lZ()(zr);var{formatters:Abe}=tw.exports;Abe.o=function(t){return this.inspectOpts.colors=this.useColors,ew.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Abe.O=function(t){return this.inspectOpts.colors=this.useColors,ew.inspect(t,this.inspectOpts)}});var wb=h((J7t,fZ)=>{l();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?fZ.exports=_be():fZ.exports=Ibe()});var hZ=h((Q7t,Cbe)=>{"use strict";l();var pZ=require("path");Cbe.exports=function(t){var e=t.split(pZ.sep),r=e.lastIndexOf("node_modules");if(r!==-1&&e[r+1]){var o=e[r+1][0]==="@",s=o?e[r+1]+"/"+e[r+2]:e[r+1],a=o?3:2;return{name:s,basedir:e.slice(0,r+a).join(pZ.sep),path:e.slice(r+a).join(pZ.sep)}}}});var Rbe=h((t$t,Nct)=>{Nct.exports={name:"require-in-the-middle",version:"7.2.0",description:"Module to hook into the Node.js require function",main:"index.js",types:"types/index.d.ts",dependencies:{debug:"^4.1.1","module-details-from-path":"^1.0.3",resolve:"^1.22.1"},devDependencies:{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.5","@babel/preset-typescript":"^7.9.0","@babel/register":"^7.9.0","ipp-printer":"^1.0.0",patterns:"^1.0.3",roundround:"^0.2.0",semver:"^6.3.0",standard:"^14.3.1",tape:"^4.11.0"},scripts:{test:"npm run test:lint && npm run test:tape && npm run test:babel","test:lint":"standard","test:tape":"tape test/*.js","test:babel":"node test/babel/babel-register.js"},repository:{type:"git",url:"git+https://github.com/elastic/require-in-the-middle.git"},keywords:["require","hook","shim","shimmer","shimming","patch","monkey","monkeypatch","module","load"],files:["types"],author:"Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)",license:"MIT",bugs:{url:"https://github.com/elastic/require-in-the-middle/issues"},homepage:"https://github.com/elastic/require-in-the-middle#readme",engines:{node:">=8.6.0"}}});var _Z=h((r$t,yZ)=>{"use strict";l();var Xg=require("path"),pu=require("module"),gZ=hbe(),Jr=wb()("require-in-the-middle"),wct=hZ();yZ.exports=Mb;yZ.exports.Hook=Mb;var Pb;if(pu.isBuiltin)Pb=pu.isBuiltin;else{let[t,e]=process.versions.node.split(".").map(Number);t===8&&e<8?Pb=r=>r==="http2"?!0:!!gZ.core[r]:Pb=r=>!!gZ.core[r]}var Pct=/([/\\]index)?(\.js)?$/,mZ=class{constructor(){this._localCache=new Map,this._kRitmExports=Symbol("RitmExports")}has(e,r){if(this._localCache.has(e))return!0;if(r)return!1;{let o=require.cache[e];return!!(o&&this._kRitmExports in o)}}get(e,r){let o=this._localCache.get(e);if(o!==void 0)return o;if(!r){let s=require.cache[e];return s&&s[this._kRitmExports]}}set(e,r,o){o?this._localCache.set(e,r):e in require.cache?require.cache[e][this._kRitmExports]=r:(Jr('non-core module is unexpectedly not in require.cache: "%s"',e),this._localCache.set(e,r))}};function Mb(t,e,r){if(!(this instanceof Mb))return new Mb(t,e,r);if(typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),typeof pu._resolveFilename!="function"){console.error("Error: Expected Module._resolveFilename to be a function (was: %s) - aborting!",typeof pu._resolveFilename),console.error("Please report this error as an issue related to Node.js %s at %s",process.version,Rbe().bugs.url);return}this._cache=new mZ,this._unhooked=!1,this._origRequire=pu.prototype.require;let o=this,s=new Set,a=e?e.internals===!0:!1,i=Array.isArray(t);Jr("registering require hook"),this._require=pu.prototype.require=function(n){if(o._unhooked===!0)return Jr("ignoring require call - module is soft-unhooked"),o._origRequire.apply(this,arguments);let u=Pb(n),c;if(u){if(c=n,n.startsWith("node:")){let T=n.slice(5);Pb(T)&&(c=T)}}else try{c=pu._resolveFilename(n,this)}catch(T){return Jr('Module._resolveFilename("%s") threw %j, calling original Module.require',n,T.message),o._origRequire.apply(this,arguments)}let d,f;if(Jr("processing %s module require('%s'): %s",u===!0?"core":"non-core",n,c),o._cache.has(c,u)===!0)return Jr("returning already patched cached module: %s",c),o._cache.get(c,u);let g=s.has(c);g===!1&&s.add(c);let y=o._origRequire.apply(this,arguments);if(g===!0)return Jr("module is in the process of being patched already - ignoring: %s",c),y;if(s.delete(c),u===!0){if(i===!0&&t.includes(c)===!1)return Jr("ignoring core module not on whitelist: %s",c),y;d=c}else if(i===!0&&t.includes(c)){let T=Xg.parse(c);d=T.name,f=T.dir}else{let T=wct(c);if(T===void 0)return Jr("could not parse filename: %s",c),y;d=T.name,f=T.basedir;let C=Mct(T);if(Jr("resolved filename to module: %s (id: %s, resolved: %s, basedir: %s)",d,n,C,f),i===!0&&t.includes(d)===!1){if(t.includes(C)===!1)return y;d=C}else{let R;try{R=gZ.sync(d,{basedir:f})}catch{return Jr("could not resolve module: %s",d),o._cache.set(c,y,u),y}if(R!==c)if(a===!0)d=d+Xg.sep+Xg.relative(f,c),Jr("preparing to process require of internal file: %s",d);else return Jr("ignoring require of non-main module file: %s",R),o._cache.set(c,y,u),y}}o._cache.set(c,y,u),Jr("calling require hook: %s",d);let S=r(y,d,f);return o._cache.set(c,S,u),Jr("returning module: %s",d),S}}Mb.prototype.unhook=function(){this._unhooked=!0,this._require===pu.prototype.require?(pu.prototype.require=this._origRequire,Jr("unhook successful")):Jr("unhook unsuccessful")};function Mct(t){let e=Xg.sep!=="/"?t.path.split(Xg.sep).join("/"):t.path;return Xg.posix.join(t.name,e).replace(Pct,"")}});var Obe=h(Bc=>{"use strict";l();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.ModuleNameTrie=Bc.ModuleNameSeparator=void 0;Bc.ModuleNameSeparator="/";var rw=class{constructor(){this.hooks=[],this.children=new Map}},SZ=class{constructor(){this._trie=new rw,this._counter=0}insert(e){let r=this._trie;for(let o of e.moduleName.split(Bc.ModuleNameSeparator)){let s=r.children.get(o);s||(s=new rw,r.children.set(o,s)),r=s}r.hooks.push({hook:e,insertedId:this._counter++})}search(e,{maintainInsertionOrder:r,fullOnly:o}={}){let s=this._trie,a=[],i=!0;for(let n of e.split(Bc.ModuleNameSeparator)){let u=s.children.get(n);if(!u){i=!1;break}o||a.push(...u.hooks),s=u}return o&&i&&a.push(...s.hooks),a.length===0?[]:a.length===1?[a[0].hook]:(r&&a.sort((n,u)=>n.insertedId-u.insertedId),a.map(({hook:n})=>n))}};Bc.ModuleNameTrie=SZ});var wbe=h(nw=>{"use strict";l();Object.defineProperty(nw,"__esModule",{value:!0});nw.RequireInTheMiddleSingleton=void 0;var xct=_Z(),Nbe=require("path"),bZ=Obe(),Bct=["afterEach","after","beforeEach","before","describe","it"].every(t=>typeof global[t]=="function"),EZ=class t{constructor(){this._moduleNameTrie=new bZ.ModuleNameTrie,this._initialize()}_initialize(){new xct.Hook(null,{internals:!0},(e,r,o)=>{let s=Dct(r),a=this._moduleNameTrie.search(s,{maintainInsertionOrder:!0,fullOnly:o===void 0});for(let{onRequire:i}of a)e=i(e,r,o);return e})}register(e,r){let o={moduleName:e,onRequire:r};return this._moduleNameTrie.insert(o),o}static getInstance(){var e;return Bct?new t:this._instance=(e=this._instance)!==null&&e!==void 0?e:new t}};nw.RequireInTheMiddleSingleton=EZ;function Dct(t){return Nbe.sep!==bZ.ModuleNameSeparator?t.split(Nbe.sep).join(bZ.ModuleNameSeparator):t}});var Bbe=h(xb=>{l();var Pbe=[],vZ=new WeakMap,Mbe=new Map,xbe=[],Lct={set(t,e,r){return vZ.get(t)[e](r)},defineProperty(t,e,r){if(!("value"in r))throw new Error("Getters/setters are not supported for exports property descriptors.");return vZ.get(t)[e](r.value)}};function Uct(t,e,r,o){Mbe.set(t,o),vZ.set(e,r);let s=new Proxy(e,Lct);Pbe.forEach(a=>a(t,s)),xbe.push([t,s])}xb.register=Uct;xb.importHooks=Pbe;xb.specifiers=Mbe;xb.toHook=xbe});var Fbe=h((l$t,ow)=>{l();var Dbe=require("path"),Gct=hZ(),{fileURLToPath:Lbe}=require("url"),{importHooks:TZ,specifiers:Vct,toHook:Fct}=Bbe();function Gbe(t){TZ.push(t),Fct.forEach(([e,r])=>t(e,r))}function Vbe(t){let e=TZ.indexOf(t);e>-1&&TZ.splice(e,1)}function Ube(t,e,r,o){let s=t(e,r,o);s&&s!==e&&(e.default=s)}function iw(t,e,r){if(!(this instanceof iw))return new iw(t,e,r);typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let o=e?e.internals===!0:!1;this._iitmHook=(s,a)=>{let i=s,n=s.startsWith("node:"),u;if(n)s=s.replace(/^node:/,"");else{if(s.startsWith("file://"))try{s=Lbe(s)}catch{}let c=Gct(s);c&&(s=c.name,u=c.basedir)}if(t){for(let c of t)if(c===s){if(u){if(o)s=s+Dbe.sep+Dbe.relative(u,Lbe(i));else if(!u.endsWith(Vct.get(i)))continue}Ube(r,a,s,u)}}else Ube(r,a,s,u)},Gbe(this._iitmHook)}iw.prototype.unhook=function(){Vbe(this._iitmHook)};ow.exports=iw;ow.exports.addHook=Gbe;ow.exports.removeHook=Vbe});var Zbe=h(sw=>{"use strict";l();Object.defineProperty(sw,"__esModule",{value:!0});sw.InstrumentationBase=void 0;var Hbe=require("path"),kbe=require("util"),Hct=Sf(),AZ=tZ(),kct=BSe(),Wct=wbe(),Zct=Fbe(),zg=(j(),Y(K)),qct=_Z(),IZ=class extends kct.InstrumentationAbstract{constructor(e,r,o={}){super(e,r,o),this._hooks=[],this._requireInTheMiddleSingleton=Wct.RequireInTheMiddleSingleton.getInstance(),this._enabled=!1,this._wrap=(a,i,n)=>{if(kbe.types.isProxy(a)){let u=(0,AZ.wrap)(Object.assign({},a),i,n);return Object.defineProperty(a,i,{value:u})}else return(0,AZ.wrap)(a,i,n)},this._unwrap=(a,i)=>kbe.types.isProxy(a)?Object.defineProperty(a,i,{value:a[i]}):(0,AZ.unwrap)(a,i),this._massWrap=(a,i,n)=>{if(a)Array.isArray(a)||(a=[a]);else{zg.diag.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){zg.diag.error("must provide one or more functions to wrap on modules");return}a.forEach(u=>{i.forEach(c=>{this._wrap(u,c,n)})})},this._massUnwrap=(a,i)=>{if(a)Array.isArray(a)||(a=[a]);else{zg.diag.error("must provide one or more modules to patch");return}if(!(i&&Array.isArray(i))){zg.diag.error("must provide one or more functions to wrap on modules");return}a.forEach(n=>{i.forEach(u=>{this._unwrap(n,u)})})};let s=this.init();s&&!Array.isArray(s)&&(s=[s]),this._modules=s||[],this._modules.length===0&&zg.diag.debug(`No modules instrumentation has been defined for '${this.instrumentationName}@${this.instrumentationVersion}', nothing will be patched`),this._config.enabled&&this.enable()}_warnOnPreloadedModules(){this._modules.forEach(e=>{let{name:r}=e;try{let o=require.resolve(r);require.cache[o]&&this._diag.warn(`Module ${r} has been loaded before ${this.instrumentationName} so it might not work, please initialize it before requiring ${r}`)}catch{}})}_extractPackageVersion(e){try{let r=require(Hbe.join(e,"package.json")).version;return typeof r=="string"?r:void 0}catch{zg.diag.warn("Failed extracting version",e)}}_onRequire(e,r,o,s){var a;if(!s)return typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?e.patch(r):r;let i=this._extractPackageVersion(s);return e.moduleVersion=i,e.name===o?Wbe(e.supportedVersions,i,e.includePrerelease)&&typeof e.patch=="function"&&(e.moduleExports=r,this._enabled)?e.patch(r,e.moduleVersion):r:((a=e.files)!==null&&a!==void 0?a:[]).filter(c=>c.name===o).filter(c=>Wbe(c.supportedVersions,i,e.includePrerelease)).reduce((c,d)=>(d.moduleExports=c,this._enabled?d.patch(c,e.moduleVersion):c),r)}enable(){if(!this._enabled){if(this._enabled=!0,this._hooks.length>0){for(let e of this._modules){typeof e.patch=="function"&&e.moduleExports&&e.patch(e.moduleExports,e.moduleVersion);for(let r of e.files)r.moduleExports&&r.patch(r.moduleExports,e.moduleVersion)}return}this._warnOnPreloadedModules();for(let e of this._modules){let r=(i,n,u)=>this._onRequire(e,i,n,u),o=(i,n,u)=>this._onRequire(e,i,n,u),s=Hbe.isAbsolute(e.name)?new qct.Hook([e.name],{internals:!0},o):this._requireInTheMiddleSingleton.register(e.name,o);this._hooks.push(s);let a=new Zct([e.name],{internals:!1},r);this._hooks.push(a)}}}disable(){if(this._enabled){this._enabled=!1;for(let e of this._modules){typeof e.unpatch=="function"&&e.moduleExports&&e.unpatch(e.moduleExports,e.moduleVersion);for(let r of e.files)r.moduleExports&&r.unpatch(r.moduleExports,e.moduleVersion)}}}isEnabled(){return this._enabled}};sw.InstrumentationBase=IZ;function Wbe(t,e,r){return typeof e>"u"?t.includes("*"):t.some(o=>(0,Hct.satisfies)(e,o,{includePrerelease:r}))}});var qbe=h(aw=>{"use strict";l();Object.defineProperty(aw,"__esModule",{value:!0});aw.normalize=void 0;var Yct=require("path");Object.defineProperty(aw,"normalize",{enumerable:!0,get:function(){return Yct.normalize}})});var Ybe=h(Jg=>{"use strict";l();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.normalize=Jg.InstrumentationBase=void 0;var jct=Zbe();Object.defineProperty(Jg,"InstrumentationBase",{enumerable:!0,get:function(){return jct.InstrumentationBase}});var Kct=qbe();Object.defineProperty(Jg,"normalize",{enumerable:!0,get:function(){return Kct.normalize}})});var CZ=h($g=>{"use strict";l();Object.defineProperty($g,"__esModule",{value:!0});$g.normalize=$g.InstrumentationBase=void 0;var jbe=Ybe();Object.defineProperty($g,"InstrumentationBase",{enumerable:!0,get:function(){return jbe.InstrumentationBase}});Object.defineProperty($g,"normalize",{enumerable:!0,get:function(){return jbe.normalize}})});var Kbe=h(uw=>{"use strict";l();Object.defineProperty(uw,"__esModule",{value:!0});uw.InstrumentationNodeModuleDefinition=void 0;var RZ=class{constructor(e,r,o,s,a){this.name=e,this.supportedVersions=r,this.patch=o,this.unpatch=s,this.files=a||[]}};uw.InstrumentationNodeModuleDefinition=RZ});var Xbe=h(cw=>{"use strict";l();Object.defineProperty(cw,"__esModule",{value:!0});cw.InstrumentationNodeModuleFile=void 0;var Xct=CZ(),OZ=class{constructor(e,r,o,s){this.supportedVersions=r,this.patch=o,this.unpatch=s,this.name=(0,Xct.normalize)(e)}};cw.InstrumentationNodeModuleFile=OZ});var Jbe=h(zbe=>{"use strict";l();Object.defineProperty(zbe,"__esModule",{value:!0})});var Qbe=h($be=>{"use strict";l();Object.defineProperty($be,"__esModule",{value:!0})});var eEe=h(Dc=>{"use strict";l();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.isWrapped=Dc.safeExecuteInTheMiddleAsync=Dc.safeExecuteInTheMiddle=void 0;function zct(t,e,r){let o,s;try{s=t()}catch(a){o=a}finally{if(e(o,s),o&&!r)throw o;return s}}Dc.safeExecuteInTheMiddle=zct;async function Jct(t,e,r){let o,s;try{s=await t()}catch(a){o=a}finally{if(e(o,s),o&&!r)throw o;return s}}Dc.safeExecuteInTheMiddleAsync=Jct;function $ct(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}Dc.isWrapped=$ct});var NZ=h(En=>{"use strict";l();var Qct=En&&En.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),lw=En&&En.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Qct(e,t,r)};Object.defineProperty(En,"__esModule",{value:!0});En.InstrumentationNodeModuleFile=En.InstrumentationNodeModuleDefinition=En.InstrumentationBase=void 0;lw(wSe(),En);var elt=CZ();Object.defineProperty(En,"InstrumentationBase",{enumerable:!0,get:function(){return elt.InstrumentationBase}});var tlt=Kbe();Object.defineProperty(En,"InstrumentationNodeModuleDefinition",{enumerable:!0,get:function(){return tlt.InstrumentationNodeModuleDefinition}});var rlt=Xbe();Object.defineProperty(En,"InstrumentationNodeModuleFile",{enumerable:!0,get:function(){return rlt.InstrumentationNodeModuleFile}});lw(Jbe(),En);lw(Qbe(),En);lw(eEe(),En)});var If=h(zt=>{"use strict";l();Object.defineProperty(zt,"__esModule",{value:!0});zt.parseRetryAfterToMills=zt.isExportRetryable=zt.invalidTimeout=zt.configureExporterTimeout=zt.appendRootPathToUrlIfNeeded=zt.appendResourcePathToUrl=zt.parseHeaders=zt.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=zt.DEFAULT_EXPORT_MAX_BACKOFF=zt.DEFAULT_EXPORT_INITIAL_BACKOFF=zt.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var wZ=(j(),Y(K)),tEe=Ne(),rEe=1e4;zt.DEFAULT_EXPORT_MAX_ATTEMPTS=5;zt.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3;zt.DEFAULT_EXPORT_MAX_BACKOFF=5e3;zt.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5;function nlt(t={}){let e={};return Object.entries(t).forEach(([r,o])=>{typeof o<"u"?e[r]=String(o):wZ.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),e}zt.parseHeaders=nlt;function ilt(t,e){return t.endsWith("/")||(t=t+"/"),t+e}zt.appendResourcePathToUrl=ilt;function olt(t){try{let e=new URL(t);return e.pathname===""&&(e.pathname=e.pathname+"/"),e.toString()}catch{return wZ.diag.warn(`Could not parse export URL: '${t}'`),t}}zt.appendRootPathToUrlIfNeeded=olt;function slt(t){return typeof t=="number"?t<=0?PZ(t,rEe):t:alt()}zt.configureExporterTimeout=slt;function alt(){var t;let e=Number((t=(0,tEe.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&t!==void 0?t:(0,tEe.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return e<=0?PZ(e,rEe):e}function PZ(t,e){return wZ.diag.warn("Timeout must be greater than 0",t),e}zt.invalidTimeout=PZ;function ult(t){return[429,502,503,504].includes(t)}zt.isExportRetryable=ult;function clt(t){if(t==null)return-1;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}zt.parseRetryAfterToMills=clt});var fw=h(dw=>{"use strict";l();Object.defineProperty(dw,"__esModule",{value:!0});dw.OTLPExporterBase=void 0;var nEe=(j(),Y(K)),Bb=Ne(),llt=If(),MZ=class{constructor(e={}){this._sendingPromises=[],this.url=this.getDefaultUrl(e),typeof e.hostname=="string"&&(this.hostname=e.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Bb.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof e.concurrencyLimit=="number"?e.concurrencyLimit:30,this.timeoutMillis=(0,llt.configureExporterTimeout)(e.timeoutMillis),this.onInit(e)}export(e,r){if(this._shutdownOnce.isCalled){r({code:Bb.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Bb.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(e).then(()=>{r({code:Bb.ExportResultCode.SUCCESS})}).catch(o=>{r({code:Bb.ExportResultCode.FAILED,error:o})})}_export(e){return new Promise((r,o)=>{try{nEe.diag.debug("items to be sent",e),this.send(e,r,o)}catch(s){o(s)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return nEe.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}};dw.OTLPExporterBase=MZ});var xZ=h(Db=>{"use strict";l();Object.defineProperty(Db,"__esModule",{value:!0});Db.CompressionAlgorithm=void 0;var dlt;(function(t){t.NONE="none",t.GZIP="gzip"})(dlt=Db.CompressionAlgorithm||(Db.CompressionAlgorithm={}))});var hw=h(pw=>{"use strict";l();Object.defineProperty(pw,"__esModule",{value:!0});pw.OTLPExporterError=void 0;var BZ=class extends Error{constructor(e,r,o){super(e),this.name="OTLPExporterError",this.data=o,this.code=r}};pw.OTLPExporterError=BZ});var LZ=h(Lc=>{"use strict";l();Object.defineProperty(Lc,"__esModule",{value:!0});Lc.configureCompression=Lc.createHttpAgent=Lc.sendWithHttp=void 0;var oEe=require("url"),sEe=require("http"),aEe=require("https"),flt=require("zlib"),plt=require("stream"),DZ=(j(),Y(K)),gw=xZ(),iEe=Ne(),Lb=hw(),Qg=If();function hlt(t,e,r,o,s){let a=t.timeoutMillis,i=new oEe.URL(t.url),n=Number(process.versions.node.split(".")[0]),u,c,d=!1,f=setTimeout(()=>{if(clearTimeout(u),d=!0,c.destroyed){let T=new Lb.OTLPExporterError("Request Timeout");s(T)}else n>=14?c.destroy():c.abort()},a),g={hostname:i.hostname,port:i.port,path:i.pathname,method:"POST",headers:Object.assign({"Content-Type":r},t.headers),agent:t.agent},y=i.protocol==="http:"?sEe.request:aEe.request,S=(T=Qg.DEFAULT_EXPORT_MAX_ATTEMPTS,C=Qg.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{switch(c=y(g,R=>{let P="";R.on("data",M=>P+=M),R.on("aborted",()=>{if(d){let M=new Lb.OTLPExporterError("Request Timeout");s(M)}}),R.on("end",()=>{if(d===!1)if(R.statusCode&&R.statusCode<299)DZ.diag.debug(`statusCode: ${R.statusCode}`,P),o(),clearTimeout(f),clearTimeout(u);else if(R.statusCode&&(0,Qg.isExportRetryable)(R.statusCode)&&T>0){let M;C=Qg.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*C,R.headers["retry-after"]?M=(0,Qg.parseRetryAfterToMills)(R.headers["retry-after"]):M=Math.round(Math.random()*(Qg.DEFAULT_EXPORT_MAX_BACKOFF-C)+C),u=setTimeout(()=>{S(T-1,C)},M)}else{let M=new Lb.OTLPExporterError(R.statusMessage,R.statusCode,P);s(M),clearTimeout(f),clearTimeout(u)}})}),c.on("error",R=>{if(d){let P=new Lb.OTLPExporterError("Request Timeout",R.code);s(P)}else s(R);clearTimeout(f),clearTimeout(u)}),c.on("abort",()=>{if(d){let R=new Lb.OTLPExporterError("Request Timeout");s(R)}clearTimeout(f),clearTimeout(u)}),t.compression){case gw.CompressionAlgorithm.GZIP:{c.setHeader("Content-Encoding","gzip"),glt(e).on("error",s).pipe(flt.createGzip()).on("error",s).pipe(c);break}default:c.end(e);break}};S()}Lc.sendWithHttp=hlt;function glt(t){let e=new plt.Readable;return e.push(t),e.push(null),e}function mlt(t){if(t.httpAgentOptions&&t.keepAlive===!1){DZ.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(t.keepAlive===!1||!t.url))try{let r=new oEe.URL(t.url).protocol==="http:"?sEe.Agent:aEe.Agent;return new r(Object.assign({keepAlive:!0},t.httpAgentOptions))}catch(e){DZ.diag.error(`collector exporter failed to create http agent. err: ${e.message}`);return}}Lc.createHttpAgent=mlt;function ylt(t){return t||(((0,iEe.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,iEe.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===gw.CompressionAlgorithm.GZIP?gw.CompressionAlgorithm.GZIP:gw.CompressionAlgorithm.NONE)}Lc.configureCompression=ylt});var lEe=h(mw=>{"use strict";l();Object.defineProperty(mw,"__esModule",{value:!0});mw.OTLPExporterNodeBase=void 0;var _lt=fw(),Slt=If(),UZ=LZ(),uEe=(j(),Y(K)),cEe=Ne(),GZ=class extends _lt.OTLPExporterBase{constructor(e={}){super(e),this.DEFAULT_HEADERS={},e.metadata&&uEe.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,Slt.parseHeaders)(e.headers),cEe.baggageUtils.parseKeyPairsIntoRecord((0,cEe.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,UZ.createHttpAgent)(e),this.compression=(0,UZ.configureCompression)(e.compression)}onInit(e){}send(e,r,o){if(this._shutdownOnce.isCalled){uEe.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),a=new Promise((n,u)=>{(0,UZ.sendWithHttp)(this,JSON.stringify(s),"application/json",n,u)}).then(r,o);this._sendingPromises.push(a);let i=()=>{let n=this._sendingPromises.indexOf(a);this._sendingPromises.splice(n,1)};a.then(i,i)}onShutdown(){}};mw.OTLPExporterNodeBase=GZ});var dEe=h(po=>{"use strict";l();Object.defineProperty(po,"__esModule",{value:!0});po.CompressionAlgorithm=po.configureCompression=po.createHttpAgent=po.sendWithHttp=po.OTLPExporterNodeBase=void 0;var blt=lEe();Object.defineProperty(po,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return blt.OTLPExporterNodeBase}});var VZ=LZ();Object.defineProperty(po,"sendWithHttp",{enumerable:!0,get:function(){return VZ.sendWithHttp}});Object.defineProperty(po,"createHttpAgent",{enumerable:!0,get:function(){return VZ.createHttpAgent}});Object.defineProperty(po,"configureCompression",{enumerable:!0,get:function(){return VZ.configureCompression}});var Elt=xZ();Object.defineProperty(po,"CompressionAlgorithm",{enumerable:!0,get:function(){return Elt.CompressionAlgorithm}})});var FZ=h(tm=>{"use strict";l();Object.defineProperty(tm,"__esModule",{value:!0});tm.sendWithXhr=tm.sendWithBeacon=void 0;var fEe=(j(),Y(K)),Ub=hw(),em=If();function vlt(t,e,r,o,s){if(navigator.sendBeacon(e,new Blob([t],r)))fEe.diag.debug("sendBeacon - can send",t),o();else{let a=new Ub.OTLPExporterError(`sendBeacon - cannot send ${t}`);s(a)}}tm.sendWithBeacon=vlt;function Tlt(t,e,r,o,s,a){let i,n,u=!1,c=setTimeout(()=>{if(clearTimeout(i),u=!0,n.readyState===XMLHttpRequest.DONE){let f=new Ub.OTLPExporterError("Request Timeout");a(f)}else n.abort()},o),d=(f=em.DEFAULT_EXPORT_MAX_ATTEMPTS,g=em.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{n=new XMLHttpRequest,n.open("POST",e),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([S,T])=>{n.setRequestHeader(S,T)}),n.send(t),n.onreadystatechange=()=>{if(n.readyState===XMLHttpRequest.DONE&&u===!1)if(n.status>=200&&n.status<=299)fEe.diag.debug("xhr success",t),s(),clearTimeout(c),clearTimeout(i);else if(n.status&&(0,em.isExportRetryable)(n.status)&&f>0){let S;g=em.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*g,n.getResponseHeader("Retry-After")?S=(0,em.parseRetryAfterToMills)(n.getResponseHeader("Retry-After")):S=Math.round(Math.random()*(em.DEFAULT_EXPORT_MAX_BACKOFF-g)+g),i=setTimeout(()=>{d(f-1,g)},S)}else{let S=new Ub.OTLPExporterError(`Failed to export with XHR (status: ${n.status})`,n.status);a(S),clearTimeout(c),clearTimeout(i)}},n.onabort=()=>{if(u){let S=new Ub.OTLPExporterError("Request Timeout");a(S)}clearTimeout(c),clearTimeout(i)},n.onerror=()=>{if(u){let S=new Ub.OTLPExporterError("Request Timeout");a(S)}clearTimeout(c),clearTimeout(i)}};d()}tm.sendWithXhr=Tlt});var hEe=h(_w=>{"use strict";l();Object.defineProperty(_w,"__esModule",{value:!0});_w.OTLPExporterBrowserBase=void 0;var Alt=fw(),Ilt=If(),pEe=FZ(),Clt=(j(),Y(K)),yw=Ne(),HZ=class extends Alt.OTLPExporterBase{constructor(e={}){super(e),this._useXHR=!1,this._useXHR=!!e.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,Ilt.parseHeaders)(e.headers),yw.baggageUtils.parseKeyPairsIntoRecord((0,yw.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){yw._globalThis.addEventListener("unload",this.shutdown)}onShutdown(){yw._globalThis.removeEventListener("unload",this.shutdown)}send(e,r,o){if(this._shutdownOnce.isCalled){Clt.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),a=JSON.stringify(s),i=new Promise((u,c)=>{this._useXHR?(0,pEe.sendWithXhr)(a,this.url,this._headers,this.timeoutMillis,u,c):(0,pEe.sendWithBeacon)(a,this.url,{type:"application/json"},u,c)}).then(r,o);this._sendingPromises.push(i);let n=()=>{let u=this._sendingPromises.indexOf(i);this._sendingPromises.splice(u,1)};i.then(n,n)}};_w.OTLPExporterBrowserBase=HZ});var gEe=h(rm=>{"use strict";l();Object.defineProperty(rm,"__esModule",{value:!0});rm.sendWithXhr=rm.OTLPExporterBrowserBase=void 0;var Rlt=hEe();Object.defineProperty(rm,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return Rlt.OTLPExporterBrowserBase}});var Olt=FZ();Object.defineProperty(rm,"sendWithXhr",{enumerable:!0,get:function(){return Olt.sendWithXhr}})});var yEe=h(vn=>{"use strict";l();Object.defineProperty(vn,"__esModule",{value:!0});vn.sendWithXhr=vn.OTLPExporterBrowserBase=vn.CompressionAlgorithm=vn.configureCompression=vn.createHttpAgent=vn.sendWithHttp=vn.OTLPExporterNodeBase=void 0;var Gb=dEe();Object.defineProperty(vn,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return Gb.OTLPExporterNodeBase}});Object.defineProperty(vn,"sendWithHttp",{enumerable:!0,get:function(){return Gb.sendWithHttp}});Object.defineProperty(vn,"createHttpAgent",{enumerable:!0,get:function(){return Gb.createHttpAgent}});Object.defineProperty(vn,"configureCompression",{enumerable:!0,get:function(){return Gb.configureCompression}});Object.defineProperty(vn,"CompressionAlgorithm",{enumerable:!0,get:function(){return Gb.CompressionAlgorithm}});var mEe=gEe();Object.defineProperty(vn,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return mEe.OTLPExporterBrowserBase}});Object.defineProperty(vn,"sendWithXhr",{enumerable:!0,get:function(){return mEe.sendWithXhr}})});var hu=h(fr=>{"use strict";l();var Nlt=fr&&fr.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),wlt=fr&&fr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Nlt(e,t,r)};Object.defineProperty(fr,"__esModule",{value:!0});fr.invalidTimeout=fr.configureExporterTimeout=fr.appendRootPathToUrlIfNeeded=fr.appendResourcePathToUrl=fr.parseHeaders=fr.OTLPExporterError=fr.OTLPExporterBase=void 0;wlt(yEe(),fr);var Plt=fw();Object.defineProperty(fr,"OTLPExporterBase",{enumerable:!0,get:function(){return Plt.OTLPExporterBase}});var Mlt=hw();Object.defineProperty(fr,"OTLPExporterError",{enumerable:!0,get:function(){return Mlt.OTLPExporterError}});var Vb=If();Object.defineProperty(fr,"parseHeaders",{enumerable:!0,get:function(){return Vb.parseHeaders}});Object.defineProperty(fr,"appendResourcePathToUrl",{enumerable:!0,get:function(){return Vb.appendResourcePathToUrl}});Object.defineProperty(fr,"appendRootPathToUrlIfNeeded",{enumerable:!0,get:function(){return Vb.appendRootPathToUrlIfNeeded}});Object.defineProperty(fr,"configureExporterTimeout",{enumerable:!0,get:function(){return Vb.configureExporterTimeout}});Object.defineProperty(fr,"invalidTimeout",{enumerable:!0,get:function(){return Vb.invalidTimeout}})});var kZ=h((rQt,_Ee)=>{"use strict";l();_Ee.exports=xlt;function xlt(t,e){for(var r=new Array(arguments.length-1),o=0,s=2,a=!0;s<arguments.length;)r[o++]=arguments[s++];return new Promise(function(n,u){r[o]=function(d){if(a)if(a=!1,d)u(d);else{for(var f=new Array(arguments.length-1),g=0;g<f.length;)f[g++]=arguments[g];n.apply(null,f)}};try{t.apply(e||null,r)}catch(c){a&&(a=!1,u(c))}})}});var vEe=h(EEe=>{"use strict";l();var Sw=EEe;Sw.length=function(e){var r=e.length;if(!r)return 0;for(var o=0;--r%4>1&&e.charAt(r)==="=";)++o;return Math.ceil(e.length*3)/4-o};var nm=new Array(64),bEe=new Array(123);for($o=0;$o<64;)bEe[nm[$o]=$o<26?$o+65:$o<52?$o+71:$o<62?$o-4:$o-59|43]=$o++;var $o;Sw.encode=function(e,r,o){for(var s=null,a=[],i=0,n=0,u;r<o;){var c=e[r++];switch(n){case 0:a[i++]=nm[c>>2],u=(c&3)<<4,n=1;break;case 1:a[i++]=nm[u|c>>4],u=(c&15)<<2,n=2;break;case 2:a[i++]=nm[u|c>>6],a[i++]=nm[c&63],n=0;break}i>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),i=0)}return n&&(a[i++]=nm[u],a[i++]=61,n===1&&(a[i++]=61)),s?(i&&s.push(String.fromCharCode.apply(String,a.slice(0,i))),s.join("")):String.fromCharCode.apply(String,a.slice(0,i))};var SEe="invalid encoding";Sw.decode=function(e,r,o){for(var s=o,a=0,i,n=0;n<e.length;){var u=e.charCodeAt(n++);if(u===61&&a>1)break;if((u=bEe[u])===void 0)throw Error(SEe);switch(a){case 0:i=u,a=1;break;case 1:r[o++]=i<<2|(u&48)>>4,i=u,a=2;break;case 2:r[o++]=(i&15)<<4|(u&60)>>2,i=u,a=3;break;case 3:r[o++]=(i&3)<<6|u,a=0;break}}if(a===1)throw Error(SEe);return o-s};Sw.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var AEe=h((sQt,TEe)=>{"use strict";l();TEe.exports=bw;function bw(){this._listeners={}}bw.prototype.on=function(e,r,o){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:o||this}),this};bw.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var o=this._listeners[e],s=0;s<o.length;)o[s].fn===r?o.splice(s,1):++s;return this};bw.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var o=[],s=1;s<arguments.length;)o.push(arguments[s++]);for(s=0;s<r.length;)r[s].fn.apply(r[s++].ctx,o)}return this}});var PEe=h((uQt,wEe)=>{"use strict";l();wEe.exports=IEe(IEe);function IEe(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),o=r[3]===128;function s(u,c,d){e[0]=u,c[d]=r[0],c[d+1]=r[1],c[d+2]=r[2],c[d+3]=r[3]}function a(u,c,d){e[0]=u,c[d]=r[3],c[d+1]=r[2],c[d+2]=r[1],c[d+3]=r[0]}t.writeFloatLE=o?s:a,t.writeFloatBE=o?a:s;function i(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],e[0]}function n(u,c){return r[3]=u[c],r[2]=u[c+1],r[1]=u[c+2],r[0]=u[c+3],e[0]}t.readFloatLE=o?i:n,t.readFloatBE=o?n:i}():function(){function e(o,s,a,i){var n=s<0?1:0;if(n&&(s=-s),s===0)o(1/s>0?0:2147483648,a,i);else if(isNaN(s))o(2143289344,a,i);else if(s>34028234663852886e22)o((n<<31|2139095040)>>>0,a,i);else if(s<11754943508222875e-54)o((n<<31|Math.round(s/1401298464324817e-60))>>>0,a,i);else{var u=Math.floor(Math.log(s)/Math.LN2),c=Math.round(s*Math.pow(2,-u)*8388608)&8388607;o((n<<31|u+127<<23|c)>>>0,a,i)}}t.writeFloatLE=e.bind(null,CEe),t.writeFloatBE=e.bind(null,REe);function r(o,s,a){var i=o(s,a),n=(i>>31)*2+1,u=i>>>23&255,c=i&8388607;return u===255?c?NaN:n*(1/0):u===0?n*1401298464324817e-60*c:n*Math.pow(2,u-150)*(c+8388608)}t.readFloatLE=r.bind(null,OEe),t.readFloatBE=r.bind(null,NEe)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),o=r[7]===128;function s(u,c,d){e[0]=u,c[d]=r[0],c[d+1]=r[1],c[d+2]=r[2],c[d+3]=r[3],c[d+4]=r[4],c[d+5]=r[5],c[d+6]=r[6],c[d+7]=r[7]}function a(u,c,d){e[0]=u,c[d]=r[7],c[d+1]=r[6],c[d+2]=r[5],c[d+3]=r[4],c[d+4]=r[3],c[d+5]=r[2],c[d+6]=r[1],c[d+7]=r[0]}t.writeDoubleLE=o?s:a,t.writeDoubleBE=o?a:s;function i(u,c){return r[0]=u[c],r[1]=u[c+1],r[2]=u[c+2],r[3]=u[c+3],r[4]=u[c+4],r[5]=u[c+5],r[6]=u[c+6],r[7]=u[c+7],e[0]}function n(u,c){return r[7]=u[c],r[6]=u[c+1],r[5]=u[c+2],r[4]=u[c+3],r[3]=u[c+4],r[2]=u[c+5],r[1]=u[c+6],r[0]=u[c+7],e[0]}t.readDoubleLE=o?i:n,t.readDoubleBE=o?n:i}():function(){function e(o,s,a,i,n,u){var c=i<0?1:0;if(c&&(i=-i),i===0)o(0,n,u+s),o(1/i>0?0:2147483648,n,u+a);else if(isNaN(i))o(0,n,u+s),o(2146959360,n,u+a);else if(i>17976931348623157e292)o(0,n,u+s),o((c<<31|2146435072)>>>0,n,u+a);else{var d;if(i<22250738585072014e-324)d=i/5e-324,o(d>>>0,n,u+s),o((c<<31|d/4294967296)>>>0,n,u+a);else{var f=Math.floor(Math.log(i)/Math.LN2);f===1024&&(f=1023),d=i*Math.pow(2,-f),o(d*4503599627370496>>>0,n,u+s),o((c<<31|f+1023<<20|d*1048576&1048575)>>>0,n,u+a)}}}t.writeDoubleLE=e.bind(null,CEe,0,4),t.writeDoubleBE=e.bind(null,REe,4,0);function r(o,s,a,i,n){var u=o(i,n+s),c=o(i,n+a),d=(c>>31)*2+1,f=c>>>20&2047,g=4294967296*(c&1048575)+u;return f===2047?g?NaN:d*(1/0):f===0?d*5e-324*g:d*Math.pow(2,f-1075)*(g+4503599627370496)}t.readDoubleLE=r.bind(null,OEe,0,4),t.readDoubleBE=r.bind(null,NEe,4,0)}(),t}function CEe(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function REe(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function OEe(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function NEe(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var WZ=h((exports,module)=>{"use strict";l();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var xEe=h(MEe=>{"use strict";l();var ZZ=MEe;ZZ.length=function(e){for(var r=0,o=0,s=0;s<e.length;++s)o=e.charCodeAt(s),o<128?r+=1:o<2048?r+=2:(o&64512)===55296&&(e.charCodeAt(s+1)&64512)===56320?(++s,r+=4):r+=3;return r};ZZ.read=function(e,r,o){var s=o-r;if(s<1)return"";for(var a=null,i=[],n=0,u;r<o;)u=e[r++],u<128?i[n++]=u:u>191&&u<224?i[n++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,i[n++]=55296+(u>>10),i[n++]=56320+(u&1023)):i[n++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,n>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),n=0);return a?(n&&a.push(String.fromCharCode.apply(String,i.slice(0,n))),a.join("")):String.fromCharCode.apply(String,i.slice(0,n))};ZZ.write=function(e,r,o){for(var s=o,a,i,n=0;n<e.length;++n)a=e.charCodeAt(n),a<128?r[o++]=a:a<2048?(r[o++]=a>>6|192,r[o++]=a&63|128):(a&64512)===55296&&((i=e.charCodeAt(n+1))&64512)===56320?(a=65536+((a&1023)<<10)+(i&1023),++n,r[o++]=a>>18|240,r[o++]=a>>12&63|128,r[o++]=a>>6&63|128,r[o++]=a&63|128):(r[o++]=a>>12|224,r[o++]=a>>6&63|128,r[o++]=a&63|128);return o-s}});var DEe=h((pQt,BEe)=>{"use strict";l();BEe.exports=Blt;function Blt(t,e,r){var o=r||8192,s=o>>>1,a=null,i=o;return function(u){if(u<1||u>s)return t(u);i+u>o&&(a=t(o),i=0);var c=e.call(a,i,i+=u);return i&7&&(i=(i|7)+1),c}}});var UEe=h((gQt,LEe)=>{"use strict";l();LEe.exports=Br;var Fb=Xs();function Br(t,e){this.lo=t>>>0,this.hi=e>>>0}var Cf=Br.zero=new Br(0,0);Cf.toNumber=function(){return 0};Cf.zzEncode=Cf.zzDecode=function(){return this};Cf.length=function(){return 1};var Dlt=Br.zeroHash="\0\0\0\0\0\0\0\0";Br.fromNumber=function(e){if(e===0)return Cf;var r=e<0;r&&(e=-e);var o=e>>>0,s=(e-o)/4294967296>>>0;return r&&(s=~s>>>0,o=~o>>>0,++o>4294967295&&(o=0,++s>4294967295&&(s=0))),new Br(o,s)};Br.from=function(e){if(typeof e=="number")return Br.fromNumber(e);if(Fb.isString(e))if(Fb.Long)e=Fb.Long.fromString(e);else return Br.fromNumber(parseInt(e,10));return e.low||e.high?new Br(e.low>>>0,e.high>>>0):Cf};Br.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,o=~this.hi>>>0;return r||(o=o+1>>>0),-(r+o*4294967296)}return this.lo+this.hi*4294967296};Br.prototype.toLong=function(e){return Fb.Long?new Fb.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Uc=String.prototype.charCodeAt;Br.fromHash=function(e){return e===Dlt?Cf:new Br((Uc.call(e,0)|Uc.call(e,1)<<8|Uc.call(e,2)<<16|Uc.call(e,3)<<24)>>>0,(Uc.call(e,4)|Uc.call(e,5)<<8|Uc.call(e,6)<<16|Uc.call(e,7)<<24)>>>0)};Br.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Br.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Br.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Br.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:o<128?9:10}});var Xs=h(qZ=>{"use strict";l();var Ae=qZ;Ae.asPromise=kZ();Ae.base64=vEe();Ae.EventEmitter=AEe();Ae.float=PEe();Ae.inquire=WZ();Ae.utf8=xEe();Ae.pool=DEe();Ae.LongBits=UEe();Ae.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Ae.global=Ae.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||qZ;Ae.emptyArray=Object.freeze?Object.freeze([]):[];Ae.emptyObject=Object.freeze?Object.freeze({}):{};Ae.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Ae.isString=function(e){return typeof e=="string"||e instanceof String};Ae.isObject=function(e){return e&&typeof e=="object"};Ae.isset=Ae.isSet=function(e,r){var o=e[r];return o!=null&&e.hasOwnProperty(r)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1};Ae.Buffer=function(){try{var t=Ae.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Ae._Buffer_from=null;Ae._Buffer_allocUnsafe=null;Ae.newBuffer=function(e){return typeof e=="number"?Ae.Buffer?Ae._Buffer_allocUnsafe(e):new Ae.Array(e):Ae.Buffer?Ae._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Ae.Array=typeof Uint8Array<"u"?Uint8Array:Array;Ae.Long=Ae.global.dcodeIO&&Ae.global.dcodeIO.Long||Ae.global.Long||Ae.inquire("long");Ae.key2Re=/^true|false|0|1$/;Ae.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Ae.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Ae.longToHash=function(e){return e?Ae.LongBits.from(e).toHash():Ae.LongBits.zeroHash};Ae.longFromHash=function(e,r){var o=Ae.LongBits.fromHash(e);return Ae.Long?Ae.Long.fromBits(o.lo,o.hi,r):o.toNumber(!!r)};function GEe(t,e,r){for(var o=Object.keys(e),s=0;s<o.length;++s)(t[o[s]]===void 0||!r)&&(t[o[s]]=e[o[s]]);return t}Ae.merge=GEe;Ae.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function VEe(t){function e(r,o){if(!(this instanceof e))return new e(r,o);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&GEe(this,o)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Ae.newError=VEe;Ae.ProtocolError=VEe("ProtocolError");Ae.oneOfGetter=function(e){for(var r={},o=0;o<e.length;++o)r[e[o]]=1;return function(){for(var s=Object.keys(this),a=s.length-1;a>-1;--a)if(r[s[a]]===1&&this[s[a]]!==void 0&&this[s[a]]!==null)return s[a]}};Ae.oneOfSetter=function(e){return function(r){for(var o=0;o<e.length;++o)e[o]!==r&&delete this[e[o]]}};Ae.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Ae._configure=function(){var t=Ae.Buffer;if(!t){Ae._Buffer_from=Ae._Buffer_allocUnsafe=null;return}Ae._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,o){return new t(r,o)},Ae._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var vw=h((SQt,WEe)=>{"use strict";l();WEe.exports=gt;var ho=Xs(),YZ,Ew=ho.LongBits,FEe=ho.base64,HEe=ho.utf8;function Hb(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function KZ(){}function Llt(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function gt(){this.len=0,this.head=new Hb(KZ,0,0),this.tail=this.head,this.states=null}var kEe=function(){return ho.Buffer?function(){return(gt.create=function(){return new YZ})()}:function(){return new gt}};gt.create=kEe();gt.alloc=function(e){return new ho.Array(e)};ho.Array!==Array&&(gt.alloc=ho.pool(gt.alloc,ho.Array.prototype.subarray));gt.prototype._push=function(e,r,o){return this.tail=this.tail.next=new Hb(e,r,o),this.len+=r,this};function XZ(t,e,r){e[r]=t&255}function Ult(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function zZ(t,e){this.len=t,this.next=void 0,this.val=e}zZ.prototype=Object.create(Hb.prototype);zZ.prototype.fn=Ult;gt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new zZ((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};gt.prototype.int32=function(e){return e<0?this._push(JZ,10,Ew.fromNumber(e)):this.uint32(e)};gt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function JZ(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}gt.prototype.uint64=function(e){var r=Ew.from(e);return this._push(JZ,r.length(),r)};gt.prototype.int64=gt.prototype.uint64;gt.prototype.sint64=function(e){var r=Ew.from(e).zzEncode();return this._push(JZ,r.length(),r)};gt.prototype.bool=function(e){return this._push(XZ,1,e?1:0)};function jZ(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}gt.prototype.fixed32=function(e){return this._push(jZ,4,e>>>0)};gt.prototype.sfixed32=gt.prototype.fixed32;gt.prototype.fixed64=function(e){var r=Ew.from(e);return this._push(jZ,4,r.lo)._push(jZ,4,r.hi)};gt.prototype.sfixed64=gt.prototype.fixed64;gt.prototype.float=function(e){return this._push(ho.float.writeFloatLE,4,e)};gt.prototype.double=function(e){return this._push(ho.float.writeDoubleLE,8,e)};var Glt=ho.Array.prototype.set?function(e,r,o){r.set(e,o)}:function(e,r,o){for(var s=0;s<e.length;++s)r[o+s]=e[s]};gt.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(XZ,1,0);if(ho.isString(e)){var o=gt.alloc(r=FEe.length(e));FEe.decode(e,o,0),e=o}return this.uint32(r)._push(Glt,r,e)};gt.prototype.string=function(e){var r=HEe.length(e);return r?this.uint32(r)._push(HEe.write,r,e):this._push(XZ,1,0)};gt.prototype.fork=function(){return this.states=new Llt(this),this.head=this.tail=new Hb(KZ,0,0),this.len=0,this};gt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Hb(KZ,0,0),this.len=0),this};gt.prototype.ldelim=function(){var e=this.head,r=this.tail,o=this.len;return this.reset().uint32(o),o&&(this.tail.next=e.next,this.tail=r,this.len+=o),this};gt.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),o=0;e;)e.fn(e.val,r,o),o+=e.len,e=e.next;return r};gt._configure=function(t){YZ=t,gt.create=kEe(),YZ._configure()}});var YEe=h((EQt,qEe)=>{"use strict";l();qEe.exports=zs;var ZEe=vw();(zs.prototype=Object.create(ZEe.prototype)).constructor=zs;var Gc=Xs();function zs(){ZEe.call(this)}zs._configure=function(){zs.alloc=Gc._Buffer_allocUnsafe,zs.writeBytesBuffer=Gc.Buffer&&Gc.Buffer.prototype instanceof Uint8Array&&Gc.Buffer.prototype.set.name==="set"?function(e,r,o){r.set(e,o)}:function(e,r,o){if(e.copy)e.copy(r,o,0,e.length);else for(var s=0;s<e.length;)r[o++]=e[s++]}};zs.prototype.bytes=function(e){Gc.isString(e)&&(e=Gc._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(zs.writeBytesBuffer,r,e),this};function Vlt(t,e,r){t.length<40?Gc.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}zs.prototype.string=function(e){var r=Gc.Buffer.byteLength(e);return this.uint32(r),r&&this._push(Vlt,r,e),this};zs._configure()});var Aw=h((TQt,JEe)=>{"use strict";l();JEe.exports=pr;var Qo=Xs(),QZ,XEe=Qo.LongBits,Flt=Qo.utf8;function es(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function pr(t){this.buf=t,this.pos=0,this.len=t.length}var jEe=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new pr(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new pr(e);throw Error("illegal buffer")},zEe=function(){return Qo.Buffer?function(r){return(pr.create=function(s){return Qo.Buffer.isBuffer(s)?new QZ(s):jEe(s)})(r)}:jEe};pr.create=zEe();pr.prototype._slice=Qo.Array.prototype.subarray||Qo.Array.prototype.slice;pr.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,es(this,10);return e}}();pr.prototype.int32=function(){return this.uint32()|0};pr.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function $Z(){var t=new XEe(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw es(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw es(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}pr.prototype.bool=function(){return this.uint32()!==0};function Tw(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}pr.prototype.fixed32=function(){if(this.pos+4>this.len)throw es(this,4);return Tw(this.buf,this.pos+=4)};pr.prototype.sfixed32=function(){if(this.pos+4>this.len)throw es(this,4);return Tw(this.buf,this.pos+=4)|0};function KEe(){if(this.pos+8>this.len)throw es(this,8);return new XEe(Tw(this.buf,this.pos+=4),Tw(this.buf,this.pos+=4))}pr.prototype.float=function(){if(this.pos+4>this.len)throw es(this,4);var e=Qo.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};pr.prototype.double=function(){if(this.pos+8>this.len)throw es(this,4);var e=Qo.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};pr.prototype.bytes=function(){var e=this.uint32(),r=this.pos,o=this.pos+e;if(o>this.len)throw es(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,o);if(r===o){var s=Qo.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,o)};pr.prototype.string=function(){var e=this.bytes();return Flt.read(e,0,e.length)};pr.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw es(this,e);this.pos+=e}else do if(this.pos>=this.len)throw es(this);while(this.buf[this.pos++]&128);return this};pr.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};pr._configure=function(t){QZ=t,pr.create=zEe(),QZ._configure();var e=Qo.Long?"toLong":"toNumber";Qo.merge(pr.prototype,{int64:function(){return $Z.call(this)[e](!1)},uint64:function(){return $Z.call(this)[e](!0)},sint64:function(){return $Z.call(this).zzDecode()[e](!1)},fixed64:function(){return KEe.call(this)[e](!0)},sfixed64:function(){return KEe.call(this)[e](!1)}})}});var tve=h((IQt,eve)=>{"use strict";l();eve.exports=Rf;var QEe=Aw();(Rf.prototype=Object.create(QEe.prototype)).constructor=Rf;var $Ee=Xs();function Rf(t){QEe.call(this,t)}Rf._configure=function(){$Ee.Buffer&&(Rf.prototype._slice=$Ee.Buffer.prototype.slice)};Rf.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Rf._configure()});var nve=h((RQt,rve)=>{"use strict";l();rve.exports=kb;var e5=Xs();(kb.prototype=Object.create(e5.EventEmitter.prototype)).constructor=kb;function kb(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");e5.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}kb.prototype.rpcCall=function t(e,r,o,s,a){if(!s)throw TypeError("request must be specified");var i=this;if(!a)return e5.asPromise(t,i,e,r,o,s);if(!i.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return i.rpcImpl(e,r[i.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(u,c){if(u)return i.emit("error",u,e),a(u);if(c===null){i.end(!0);return}if(!(c instanceof o))try{c=o[i.responseDelimited?"decodeDelimited":"decode"](c)}catch(d){return i.emit("error",d,e),a(d)}return i.emit("data",c,e),a(null,c)})}catch(n){i.emit("error",n,e),setTimeout(function(){a(n)},0);return}};kb.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var t5=h(ive=>{"use strict";l();var Hlt=ive;Hlt.Service=nve()});var r5=h((PQt,ove)=>{"use strict";l();ove.exports={}});var n5=h(ave=>{"use strict";l();var ui=ave;ui.build="minimal";ui.Writer=vw();ui.BufferWriter=YEe();ui.Reader=Aw();ui.BufferReader=tve();ui.util=Xs();ui.rpc=t5();ui.roots=r5();ui.configure=sve;function sve(){ui.util._configure(),ui.Writer._configure(ui.BufferWriter),ui.Reader._configure(ui.BufferReader)}sve()});var i5=h((DQt,uve)=>{"use strict";l();uve.exports=n5()});var lve=h((UQt,cve)=>{"use strict";l();var we=i5(),G=we.Reader,Ke=we.Writer,A=we.util,E=we.roots.default||(we.roots.default={});E.opentelemetry=function(){var t={};return t.proto=function(){var e={};return e.common=function(){var r={};return r.v1=function(){var o={};return o.AnyValue=function(){function s(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:A.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){return u||(u=Ke.create()),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&u.uint32(10).string(n.stringValue),n.boolValue!=null&&Object.hasOwnProperty.call(n,"boolValue")&&u.uint32(16).bool(n.boolValue),n.intValue!=null&&Object.hasOwnProperty.call(n,"intValue")&&u.uint32(24).int64(n.intValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&u.uint32(33).double(n.doubleValue),n.arrayValue!=null&&Object.hasOwnProperty.call(n,"arrayValue")&&E.opentelemetry.proto.common.v1.ArrayValue.encode(n.arrayValue,u.uint32(42).fork()).ldelim(),n.kvlistValue!=null&&Object.hasOwnProperty.call(n,"kvlistValue")&&E.opentelemetry.proto.common.v1.KeyValueList.encode(n.kvlistValue,u.uint32(50).fork()).ldelim(),n.bytesValue!=null&&Object.hasOwnProperty.call(n,"bytesValue")&&u.uint32(58).bytes(n.bytesValue),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.common.v1.AnyValue;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.stringValue=n.string();break}case 2:{d.boolValue=n.bool();break}case 3:{d.intValue=n.int64();break}case 4:{d.doubleValue=n.double();break}case 5:{d.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.decode(n,n.uint32());break}case 6:{d.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.decode(n,n.uint32());break}case 7:{d.bytesValue=n.bytes();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(u.value=1,!A.isString(n.stringValue)))return"stringValue: string expected";if(n.boolValue!=null&&n.hasOwnProperty("boolValue")){if(u.value===1)return"value: multiple values";if(u.value=1,typeof n.boolValue!="boolean")return"boolValue: boolean expected"}if(n.intValue!=null&&n.hasOwnProperty("intValue")){if(u.value===1)return"value: multiple values";if(u.value=1,!A.isInteger(n.intValue)&&!(n.intValue&&A.isInteger(n.intValue.low)&&A.isInteger(n.intValue.high)))return"intValue: integer|Long expected"}if(n.doubleValue!=null&&n.hasOwnProperty("doubleValue")){if(u.value===1)return"value: multiple values";if(u.value=1,typeof n.doubleValue!="number")return"doubleValue: number expected"}if(n.arrayValue!=null&&n.hasOwnProperty("arrayValue")){if(u.value===1)return"value: multiple values";u.value=1;{var c=E.opentelemetry.proto.common.v1.ArrayValue.verify(n.arrayValue);if(c)return"arrayValue."+c}}if(n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")){if(u.value===1)return"value: multiple values";u.value=1;{var c=E.opentelemetry.proto.common.v1.KeyValueList.verify(n.kvlistValue);if(c)return"kvlistValue."+c}}if(n.bytesValue!=null&&n.hasOwnProperty("bytesValue")){if(u.value===1)return"value: multiple values";if(u.value=1,!(n.bytesValue&&typeof n.bytesValue.length=="number"||A.isString(n.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.common.v1.AnyValue)return n;var u=new E.opentelemetry.proto.common.v1.AnyValue;if(n.stringValue!=null&&(u.stringValue=String(n.stringValue)),n.boolValue!=null&&(u.boolValue=!!n.boolValue),n.intValue!=null&&(A.Long?(u.intValue=A.Long.fromValue(n.intValue)).unsigned=!1:typeof n.intValue=="string"?u.intValue=parseInt(n.intValue,10):typeof n.intValue=="number"?u.intValue=n.intValue:typeof n.intValue=="object"&&(u.intValue=new A.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber())),n.doubleValue!=null&&(u.doubleValue=Number(n.doubleValue)),n.arrayValue!=null){if(typeof n.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");u.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.fromObject(n.arrayValue)}if(n.kvlistValue!=null){if(typeof n.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");u.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.fromObject(n.kvlistValue)}return n.bytesValue!=null&&(typeof n.bytesValue=="string"?A.base64.decode(n.bytesValue,u.bytesValue=A.newBuffer(A.base64.length(n.bytesValue)),0):n.bytesValue.length>=0&&(u.bytesValue=n.bytesValue)),u},s.toObject=function(n,u){u||(u={});var c={};return n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(c.stringValue=n.stringValue,u.oneofs&&(c.value="stringValue")),n.boolValue!=null&&n.hasOwnProperty("boolValue")&&(c.boolValue=n.boolValue,u.oneofs&&(c.value="boolValue")),n.intValue!=null&&n.hasOwnProperty("intValue")&&(typeof n.intValue=="number"?c.intValue=u.longs===String?String(n.intValue):n.intValue:c.intValue=u.longs===String?A.Long.prototype.toString.call(n.intValue):u.longs===Number?new A.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber():n.intValue,u.oneofs&&(c.value="intValue")),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(c.doubleValue=u.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue,u.oneofs&&(c.value="doubleValue")),n.arrayValue!=null&&n.hasOwnProperty("arrayValue")&&(c.arrayValue=E.opentelemetry.proto.common.v1.ArrayValue.toObject(n.arrayValue,u),u.oneofs&&(c.value="arrayValue")),n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")&&(c.kvlistValue=E.opentelemetry.proto.common.v1.KeyValueList.toObject(n.kvlistValue,u),u.oneofs&&(c.value="kvlistValue")),n.bytesValue!=null&&n.hasOwnProperty("bytesValue")&&(c.bytesValue=u.bytes===String?A.base64.encode(n.bytesValue,0,n.bytesValue.length):u.bytes===Array?Array.prototype.slice.call(n.bytesValue):n.bytesValue,u.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.AnyValue"},s}(),o.ArrayValue=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.values!=null&&i.values.length)for(var u=0;u<i.values.length;++u)E.opentelemetry.proto.common.v1.AnyValue.encode(i.values[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.common.v1.ArrayValue;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(E.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var u=E.opentelemetry.proto.common.v1.AnyValue.verify(i.values[n]);if(u)return"values."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.common.v1.ArrayValue)return i;var n=new E.opentelemetry.proto.common.v1.ArrayValue;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");n.values=[];for(var u=0;u<i.values.length;++u){if(typeof i.values[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");n.values[u]=E.opentelemetry.proto.common.v1.AnyValue.fromObject(i.values[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.values=[]),i.values&&i.values.length){u.values=[];for(var c=0;c<i.values.length;++c)u.values[c]=E.opentelemetry.proto.common.v1.AnyValue.toObject(i.values[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),o.KeyValueList=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.values!=null&&i.values.length)for(var u=0;u<i.values.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.values[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.common.v1.KeyValueList;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var u=E.opentelemetry.proto.common.v1.KeyValue.verify(i.values[n]);if(u)return"values."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.common.v1.KeyValueList)return i;var n=new E.opentelemetry.proto.common.v1.KeyValueList;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");n.values=[];for(var u=0;u<i.values.length;++u){if(typeof i.values[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");n.values[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.values[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.values=[]),i.values&&i.values.length){u.values=[];for(var c=0;c<i.values.length;++c)u.values[c]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.values[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),o.KeyValue=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=Ke.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(10).string(i.key),i.value!=null&&Object.hasOwnProperty.call(i,"value")&&E.opentelemetry.proto.common.v1.AnyValue.encode(i.value,n.uint32(18).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.common.v1.KeyValue;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.key=i.string();break}case 2:{c.value=E.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.key!=null&&i.hasOwnProperty("key")&&!A.isString(i.key))return"key: string expected";if(i.value!=null&&i.hasOwnProperty("value")){var n=E.opentelemetry.proto.common.v1.AnyValue.verify(i.value);if(n)return"value."+n}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.common.v1.KeyValue)return i;var n=new E.opentelemetry.proto.common.v1.KeyValue;if(i.key!=null&&(n.key=String(i.key)),i.value!=null){if(typeof i.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");n.value=E.opentelemetry.proto.common.v1.AnyValue.fromObject(i.value)}return n},s.toObject=function(i,n){n||(n={});var u={};return n.defaults&&(u.key="",u.value=null),i.key!=null&&i.hasOwnProperty("key")&&(u.key=i.key),i.value!=null&&i.hasOwnProperty("value")&&(u.value=E.opentelemetry.proto.common.v1.AnyValue.toObject(i.value,n)),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValue"},s}(),o.InstrumentationScope=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=A.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(10).string(i.name),i.version!=null&&Object.hasOwnProperty.call(i,"version")&&n.uint32(18).string(i.version),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(26).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(32).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.common.v1.InstrumentationScope;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.name=i.string();break}case 2:{c.version=i.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 4:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!A.isString(i.name))return"name: string expected";if(i.version!=null&&i.hasOwnProperty("version")&&!A.isString(i.version))return"version: string expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=E.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.common.v1.InstrumentationScope)return i;var n=new E.opentelemetry.proto.common.v1.InstrumentationScope;if(i.name!=null&&(n.name=String(i.name)),i.version!=null&&(n.version=String(i.version)),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");n.attributes[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults&&(u.name="",u.version="",u.droppedAttributesCount=0),i.name!=null&&i.hasOwnProperty("name")&&(u.name=i.name),i.version!=null&&i.hasOwnProperty("version")&&(u.version=i.version),i.attributes&&i.attributes.length){u.attributes=[];for(var c=0;c<i.attributes.length;++c)u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),o}(),r}(),e.resource=function(){var r={};return r.v1=function(){var o={};return o.Resource=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=A.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(10).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(16).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.resource.v1.Resource;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=E.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.resource.v1.Resource)return i;var n=new E.opentelemetry.proto.resource.v1.Resource;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");n.attributes[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults&&(u.droppedAttributesCount=0),i.attributes&&i.attributes.length){u.attributes=[];for(var c=0;c<i.attributes.length;++c)u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.resource.v1.Resource"},s}(),o}(),r}(),e.trace=function(){var r={};return r.v1=function(){var o={};return o.TracesData=function(){function s(a){if(this.resourceSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceSpans=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resourceSpans!=null&&i.resourceSpans.length)for(var u=0;u<i.resourceSpans.length;++u)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(i.resourceSpans[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.trace.v1.TracesData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceSpans!=null&&i.hasOwnProperty("resourceSpans")){if(!Array.isArray(i.resourceSpans))return"resourceSpans: array expected";for(var n=0;n<i.resourceSpans.length;++n){var u=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(i.resourceSpans[n]);if(u)return"resourceSpans."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.trace.v1.TracesData)return i;var n=new E.opentelemetry.proto.trace.v1.TracesData;if(i.resourceSpans){if(!Array.isArray(i.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");n.resourceSpans=[];for(var u=0;u<i.resourceSpans.length;++u){if(typeof i.resourceSpans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");n.resourceSpans[u]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(i.resourceSpans[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceSpans=[]),i.resourceSpans&&i.resourceSpans.length){u.resourceSpans=[];for(var c=0;c<i.resourceSpans.length;++c)u.resourceSpans[c]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(i.resourceSpans[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.TracesData"},s}(),o.ResourceSpans=function(){function s(a){if(this.scopeSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeSpans=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&E.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeSpans!=null&&i.scopeSpans.length)for(var u=0;u<i.scopeSpans.length;++u)E.opentelemetry.proto.trace.v1.ScopeSpans.encode(i.scopeSpans[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.trace.v1.ResourceSpans;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=E.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(E.opentelemetry.proto.trace.v1.ScopeSpans.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=E.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeSpans!=null&&i.hasOwnProperty("scopeSpans")){if(!Array.isArray(i.scopeSpans))return"scopeSpans: array expected";for(var u=0;u<i.scopeSpans.length;++u){var n=E.opentelemetry.proto.trace.v1.ScopeSpans.verify(i.scopeSpans[u]);if(n)return"scopeSpans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.trace.v1.ResourceSpans)return i;var n=new E.opentelemetry.proto.trace.v1.ResourceSpans;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");n.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeSpans){if(!Array.isArray(i.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");n.scopeSpans=[];for(var u=0;u<i.scopeSpans.length;++u){if(typeof i.scopeSpans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");n.scopeSpans[u]=E.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(i.scopeSpans[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeSpans=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeSpans&&i.scopeSpans.length){u.scopeSpans=[];for(var c=0;c<i.scopeSpans.length;++c)u.scopeSpans[c]=E.opentelemetry.proto.trace.v1.ScopeSpans.toObject(i.scopeSpans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),o.ScopeSpans=function(){function s(a){if(this.spans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.spans=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&E.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.spans!=null&&i.spans.length)for(var u=0;u<i.spans.length;++u)E.opentelemetry.proto.trace.v1.Span.encode(i.spans[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.trace.v1.ScopeSpans;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(E.opentelemetry.proto.trace.v1.Span.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.spans!=null&&i.hasOwnProperty("spans")){if(!Array.isArray(i.spans))return"spans: array expected";for(var u=0;u<i.spans.length;++u){var n=E.opentelemetry.proto.trace.v1.Span.verify(i.spans[u]);if(n)return"spans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.trace.v1.ScopeSpans)return i;var n=new E.opentelemetry.proto.trace.v1.ScopeSpans;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");n.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.spans){if(!Array.isArray(i.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");n.spans=[];for(var u=0;u<i.spans.length;++u){if(typeof i.spans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");n.spans[u]=E.opentelemetry.proto.trace.v1.Span.fromObject(i.spans[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.spans=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.spans&&i.spans.length){u.spans=[];for(var c=0;c<i.spans.length;++c)u.spans[c]=E.opentelemetry.proto.trace.v1.Span.toObject(i.spans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),o.Span=function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=A.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=A.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=A.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(10).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(18).bytes(i.spanId),i.traceState!=null&&Object.hasOwnProperty.call(i,"traceState")&&n.uint32(26).string(i.traceState),i.parentSpanId!=null&&Object.hasOwnProperty.call(i,"parentSpanId")&&n.uint32(34).bytes(i.parentSpanId),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(42).string(i.name),i.kind!=null&&Object.hasOwnProperty.call(i,"kind")&&n.uint32(48).int32(i.kind),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(57).fixed64(i.startTimeUnixNano),i.endTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"endTimeUnixNano")&&n.uint32(65).fixed64(i.endTimeUnixNano),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(74).fork()).ldelim();if(i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(80).uint32(i.droppedAttributesCount),i.events!=null&&i.events.length)for(var u=0;u<i.events.length;++u)E.opentelemetry.proto.trace.v1.Span.Event.encode(i.events[u],n.uint32(90).fork()).ldelim();if(i.droppedEventsCount!=null&&Object.hasOwnProperty.call(i,"droppedEventsCount")&&n.uint32(96).uint32(i.droppedEventsCount),i.links!=null&&i.links.length)for(var u=0;u<i.links.length;++u)E.opentelemetry.proto.trace.v1.Span.Link.encode(i.links[u],n.uint32(106).fork()).ldelim();return i.droppedLinksCount!=null&&Object.hasOwnProperty.call(i,"droppedLinksCount")&&n.uint32(112).uint32(i.droppedLinksCount),i.status!=null&&Object.hasOwnProperty.call(i,"status")&&E.opentelemetry.proto.trace.v1.Status.encode(i.status,n.uint32(122).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.trace.v1.Span;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.traceId=i.bytes();break}case 2:{c.spanId=i.bytes();break}case 3:{c.traceState=i.string();break}case 4:{c.parentSpanId=i.bytes();break}case 5:{c.name=i.string();break}case 6:{c.kind=i.int32();break}case 7:{c.startTimeUnixNano=i.fixed64();break}case 8:{c.endTimeUnixNano=i.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 10:{c.droppedAttributesCount=i.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(E.opentelemetry.proto.trace.v1.Span.Event.decode(i,i.uint32()));break}case 12:{c.droppedEventsCount=i.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(E.opentelemetry.proto.trace.v1.Span.Link.decode(i,i.uint32()));break}case 14:{c.droppedLinksCount=i.uint32();break}case 15:{c.status=E.opentelemetry.proto.trace.v1.Status.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||A.isString(i.traceId)))return"traceId: buffer expected";if(i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||A.isString(i.spanId)))return"spanId: buffer expected";if(i.traceState!=null&&i.hasOwnProperty("traceState")&&!A.isString(i.traceState))return"traceState: string expected";if(i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&!(i.parentSpanId&&typeof i.parentSpanId.length=="number"||A.isString(i.parentSpanId)))return"parentSpanId: buffer expected";if(i.name!=null&&i.hasOwnProperty("name")&&!A.isString(i.name))return"name: string expected";if(i.kind!=null&&i.hasOwnProperty("kind"))switch(i.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!A.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&A.isInteger(i.startTimeUnixNano.low)&&A.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&!A.isInteger(i.endTimeUnixNano)&&!(i.endTimeUnixNano&&A.isInteger(i.endTimeUnixNano.low)&&A.isInteger(i.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=E.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(i.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(i.events!=null&&i.hasOwnProperty("events")){if(!Array.isArray(i.events))return"events: array expected";for(var n=0;n<i.events.length;++n){var u=E.opentelemetry.proto.trace.v1.Span.Event.verify(i.events[n]);if(u)return"events."+u}}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&!A.isInteger(i.droppedEventsCount))return"droppedEventsCount: integer expected";if(i.links!=null&&i.hasOwnProperty("links")){if(!Array.isArray(i.links))return"links: array expected";for(var n=0;n<i.links.length;++n){var u=E.opentelemetry.proto.trace.v1.Span.Link.verify(i.links[n]);if(u)return"links."+u}}if(i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&!A.isInteger(i.droppedLinksCount))return"droppedLinksCount: integer expected";if(i.status!=null&&i.hasOwnProperty("status")){var u=E.opentelemetry.proto.trace.v1.Status.verify(i.status);if(u)return"status."+u}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.trace.v1.Span)return i;var n=new E.opentelemetry.proto.trace.v1.Span;switch(i.traceId!=null&&(typeof i.traceId=="string"?A.base64.decode(i.traceId,n.traceId=A.newBuffer(A.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?A.base64.decode(i.spanId,n.spanId=A.newBuffer(A.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),i.traceState!=null&&(n.traceState=String(i.traceState)),i.parentSpanId!=null&&(typeof i.parentSpanId=="string"?A.base64.decode(i.parentSpanId,n.parentSpanId=A.newBuffer(A.base64.length(i.parentSpanId)),0):i.parentSpanId.length>=0&&(n.parentSpanId=i.parentSpanId)),i.name!=null&&(n.name=String(i.name)),i.kind){default:if(typeof i.kind=="number"){n.kind=i.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:n.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:n.kind=1;break;case"SPAN_KIND_SERVER":case 2:n.kind=2;break;case"SPAN_KIND_CLIENT":case 3:n.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:n.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:n.kind=5;break}if(i.startTimeUnixNano!=null&&(A.Long?(n.startTimeUnixNano=A.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new A.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.endTimeUnixNano!=null&&(A.Long?(n.endTimeUnixNano=A.Long.fromValue(i.endTimeUnixNano)).unsigned=!1:typeof i.endTimeUnixNano=="string"?n.endTimeUnixNano=parseInt(i.endTimeUnixNano,10):typeof i.endTimeUnixNano=="number"?n.endTimeUnixNano=i.endTimeUnixNano:typeof i.endTimeUnixNano=="object"&&(n.endTimeUnixNano=new A.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber())),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");n.attributes[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}if(i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.events){if(!Array.isArray(i.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");n.events=[];for(var u=0;u<i.events.length;++u){if(typeof i.events[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");n.events[u]=E.opentelemetry.proto.trace.v1.Span.Event.fromObject(i.events[u])}}if(i.droppedEventsCount!=null&&(n.droppedEventsCount=i.droppedEventsCount>>>0),i.links){if(!Array.isArray(i.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");n.links=[];for(var u=0;u<i.links.length;++u){if(typeof i.links[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");n.links[u]=E.opentelemetry.proto.trace.v1.Span.Link.fromObject(i.links[u])}}if(i.droppedLinksCount!=null&&(n.droppedLinksCount=i.droppedLinksCount>>>0),i.status!=null){if(typeof i.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");n.status=E.opentelemetry.proto.trace.v1.Status.fromObject(i.status)}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[],u.events=[],u.links=[]),n.defaults){if(n.bytes===String?u.traceId="":(u.traceId=[],n.bytes!==Array&&(u.traceId=A.newBuffer(u.traceId))),n.bytes===String?u.spanId="":(u.spanId=[],n.bytes!==Array&&(u.spanId=A.newBuffer(u.spanId))),u.traceState="",n.bytes===String?u.parentSpanId="":(u.parentSpanId=[],n.bytes!==Array&&(u.parentSpanId=A.newBuffer(u.parentSpanId))),u.name="",u.kind=n.enums===String?"SPAN_KIND_UNSPECIFIED":0,A.Long){var c=new A.Long(0,0,!1);u.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.startTimeUnixNano=n.longs===String?"0":0;if(A.Long){var c=new A.Long(0,0,!1);u.endTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.endTimeUnixNano=n.longs===String?"0":0;u.droppedAttributesCount=0,u.droppedEventsCount=0,u.droppedLinksCount=0,u.status=null}if(i.traceId!=null&&i.hasOwnProperty("traceId")&&(u.traceId=n.bytes===String?A.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(u.spanId=n.bytes===String?A.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.traceState!=null&&i.hasOwnProperty("traceState")&&(u.traceState=i.traceState),i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&(u.parentSpanId=n.bytes===String?A.base64.encode(i.parentSpanId,0,i.parentSpanId.length):n.bytes===Array?Array.prototype.slice.call(i.parentSpanId):i.parentSpanId),i.name!=null&&i.hasOwnProperty("name")&&(u.name=i.name),i.kind!=null&&i.hasOwnProperty("kind")&&(u.kind=n.enums===String?E.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]===void 0?i.kind:E.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]:i.kind),i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?u.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:u.startTimeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new A.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&(typeof i.endTimeUnixNano=="number"?u.endTimeUnixNano=n.longs===String?String(i.endTimeUnixNano):i.endTimeUnixNano:u.endTimeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.endTimeUnixNano):n.longs===Number?new A.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber():i.endTimeUnixNano),i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),i.events&&i.events.length){u.events=[];for(var d=0;d<i.events.length;++d)u.events[d]=E.opentelemetry.proto.trace.v1.Span.Event.toObject(i.events[d],n)}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&(u.droppedEventsCount=i.droppedEventsCount),i.links&&i.links.length){u.links=[];for(var d=0;d<i.links.length;++d)u.links[d]=E.opentelemetry.proto.trace.v1.Span.Link.toObject(i.links[d],n)}return i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&(u.droppedLinksCount=i.droppedLinksCount),i.status!=null&&i.hasOwnProperty("status")&&(u.status=E.opentelemetry.proto.trace.v1.Status.toObject(i.status,n)),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var a={},i=Object.create(a);return i[a[0]="SPAN_KIND_UNSPECIFIED"]=0,i[a[1]="SPAN_KIND_INTERNAL"]=1,i[a[2]="SPAN_KIND_SERVER"]=2,i[a[3]="SPAN_KIND_CLIENT"]=3,i[a[4]="SPAN_KIND_PRODUCER"]=4,i[a[5]="SPAN_KIND_CONSUMER"]=5,i}(),s.Event=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=A.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Ke.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(9).fixed64(n.timeUnixNano),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&u.uint32(18).string(n.name),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&u.uint32(32).uint32(n.droppedAttributesCount),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.trace.v1.Span.Event;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.timeUnixNano=n.fixed64();break}case 2:{d.name=n.string();break}case 3:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{d.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!A.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&A.isInteger(n.timeUnixNano.low)&&A.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.name!=null&&n.hasOwnProperty("name")&&!A.isString(n.name))return"name: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var u=0;u<n.attributes.length;++u){var c=E.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[u]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.trace.v1.Span.Event)return n;var u=new E.opentelemetry.proto.trace.v1.Span.Event;if(n.timeUnixNano!=null&&(A.Long?(u.timeUnixNano=A.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.name!=null&&(u.name=String(n.name)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(u.droppedAttributesCount=n.droppedAttributesCount>>>0),u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[]),u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),s.Link=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=A.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Ke.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&u.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&u.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&u.uint32(26).string(n.traceState),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(34).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&u.uint32(40).uint32(n.droppedAttributesCount),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.trace.v1.Span.Link;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.traceId=n.bytes();break}case 2:{d.spanId=n.bytes();break}case 3:{d.traceState=n.string();break}case 4:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 5:{d.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||A.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||A.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!A.isString(n.traceState))return"traceState: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var u=0;u<n.attributes.length;++u){var c=E.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[u]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.trace.v1.Span.Link)return n;var u=new E.opentelemetry.proto.trace.v1.Span.Link;if(n.traceId!=null&&(typeof n.traceId=="string"?A.base64.decode(n.traceId,u.traceId=A.newBuffer(A.base64.length(n.traceId)),0):n.traceId.length>=0&&(u.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?A.base64.decode(n.spanId,u.spanId=A.newBuffer(A.base64.length(n.spanId)),0):n.spanId.length>=0&&(u.spanId=n.spanId)),n.traceState!=null&&(u.traceState=String(n.traceState)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(u.droppedAttributesCount=n.droppedAttributesCount>>>0),u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[]),u.defaults&&(u.bytes===String?c.traceId="":(c.traceId=[],u.bytes!==Array&&(c.traceId=A.newBuffer(c.traceId))),u.bytes===String?c.spanId="":(c.spanId=[],u.bytes!==Array&&(c.spanId=A.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=u.bytes===String?A.base64.encode(n.traceId,0,n.traceId.length):u.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=u.bytes===String?A.base64.encode(n.spanId,0,n.spanId.length):u.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(c.traceState=n.traceState),n.attributes&&n.attributes.length){c.attributes=[];for(var d=0;d<n.attributes.length;++d)c.attributes[d]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[d],u)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),s}(),o.Status=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=Ke.create()),i.message!=null&&Object.hasOwnProperty.call(i,"message")&&n.uint32(18).string(i.message),i.code!=null&&Object.hasOwnProperty.call(i,"code")&&n.uint32(24).int32(i.code),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.trace.v1.Status;i.pos<u;){var d=i.uint32();switch(d>>>3){case 2:{c.message=i.string();break}case 3:{c.code=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.message!=null&&i.hasOwnProperty("message")&&!A.isString(i.message))return"message: string expected";if(i.code!=null&&i.hasOwnProperty("code"))switch(i.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.trace.v1.Status)return i;var n=new E.opentelemetry.proto.trace.v1.Status;switch(i.message!=null&&(n.message=String(i.message)),i.code){default:if(typeof i.code=="number"){n.code=i.code;break}break;case"STATUS_CODE_UNSET":case 0:n.code=0;break;case"STATUS_CODE_OK":case 1:n.code=1;break;case"STATUS_CODE_ERROR":case 2:n.code=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};return n.defaults&&(u.message="",u.code=n.enums===String?"STATUS_CODE_UNSET":0),i.message!=null&&i.hasOwnProperty("message")&&(u.message=i.message),i.code!=null&&i.hasOwnProperty("code")&&(u.code=n.enums===String?E.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]===void 0?i.code:E.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]:i.code),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var a={},i=Object.create(a);return i[a[0]="STATUS_CODE_UNSET"]=0,i[a[1]="STATUS_CODE_OK"]=1,i[a[2]="STATUS_CODE_ERROR"]=2,i}(),s}(),o}(),r}(),e.collector=function(){var r={};return r.trace=function(){var o={};return o.v1=function(){var s={};return s.TraceService=function(){function a(i,n,u){we.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(we.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportTraceServiceRequest=function(){function a(i){if(this.resourceSpans=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceSpans=A.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Ke.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var c=0;c<n.resourceSpans.length;++c)E.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(E.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var u=0;u<n.resourceSpans.length;++u){var c=E.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[u]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return n;var u=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");u.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c){if(typeof n.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");u.resourceSpans[c]=E.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<n.resourceSpans.length;++d)c.resourceSpans[d]=E.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),s.ExportTraceServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return n;var u=new E.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");u.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),s.ExportTracePartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.rejectedSpans!=null&&Object.hasOwnProperty.call(n,"rejectedSpans")&&u.uint32(8).int64(n.rejectedSpans),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedSpans=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&!A.isInteger(n.rejectedSpans)&&!(n.rejectedSpans&&A.isInteger(n.rejectedSpans.low)&&A.isInteger(n.rejectedSpans.high))?"rejectedSpans: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!A.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return n;var u=new E.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return n.rejectedSpans!=null&&(A.Long?(u.rejectedSpans=A.Long.fromValue(n.rejectedSpans)).unsigned=!1:typeof n.rejectedSpans=="string"?u.rejectedSpans=parseInt(n.rejectedSpans,10):typeof n.rejectedSpans=="number"?u.rejectedSpans=n.rejectedSpans:typeof n.rejectedSpans=="object"&&(u.rejectedSpans=new A.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.rejectedSpans=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedSpans=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&(typeof n.rejectedSpans=="number"?c.rejectedSpans=u.longs===String?String(n.rejectedSpans):n.rejectedSpans:c.rejectedSpans=u.longs===String?A.Long.prototype.toString.call(n.rejectedSpans):u.longs===Number?new A.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber():n.rejectedSpans),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),s}(),o}(),r.metrics=function(){var o={};return o.v1=function(){var s={};return s.MetricsService=function(){function a(i,n,u){we.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(we.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportMetricsServiceRequest=function(){function a(i){if(this.resourceMetrics=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceMetrics=A.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Ke.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var c=0;c<n.resourceMetrics.length;++c)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var u=0;u<n.resourceMetrics.length;++u){var c=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[u]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return n;var u=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");u.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c){if(typeof n.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");u.resourceMetrics[c]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<n.resourceMetrics.length;++d)c.resourceMetrics[d]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),s.ExportMetricsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return n;var u=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");u.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),s.ExportMetricsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.rejectedDataPoints!=null&&Object.hasOwnProperty.call(n,"rejectedDataPoints")&&u.uint32(8).int64(n.rejectedDataPoints),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedDataPoints=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&!A.isInteger(n.rejectedDataPoints)&&!(n.rejectedDataPoints&&A.isInteger(n.rejectedDataPoints.low)&&A.isInteger(n.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!A.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return n;var u=new E.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return n.rejectedDataPoints!=null&&(A.Long?(u.rejectedDataPoints=A.Long.fromValue(n.rejectedDataPoints)).unsigned=!1:typeof n.rejectedDataPoints=="string"?u.rejectedDataPoints=parseInt(n.rejectedDataPoints,10):typeof n.rejectedDataPoints=="number"?u.rejectedDataPoints=n.rejectedDataPoints:typeof n.rejectedDataPoints=="object"&&(u.rejectedDataPoints=new A.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.rejectedDataPoints=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedDataPoints=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&(typeof n.rejectedDataPoints=="number"?c.rejectedDataPoints=u.longs===String?String(n.rejectedDataPoints):n.rejectedDataPoints:c.rejectedDataPoints=u.longs===String?A.Long.prototype.toString.call(n.rejectedDataPoints):u.longs===Number?new A.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber():n.rejectedDataPoints),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),s}(),o}(),r.logs=function(){var o={};return o.v1=function(){var s={};return s.LogsService=function(){function a(i,n,u){we.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(we.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(i){if(this.resourceLogs=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceLogs=A.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Ke.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var c=0;c<n.resourceLogs.length;++c)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var u=0;u<n.resourceLogs.length;++u){var c=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[u]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return n;var u=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");u.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c){if(typeof n.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");u.resourceLogs[c]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<n.resourceLogs.length;++d)c.resourceLogs[d]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return n;var u=new E.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");u.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.rejectedLogRecords!=null&&Object.hasOwnProperty.call(n,"rejectedLogRecords")&&u.uint32(8).int64(n.rejectedLogRecords),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedLogRecords=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&!A.isInteger(n.rejectedLogRecords)&&!(n.rejectedLogRecords&&A.isInteger(n.rejectedLogRecords.low)&&A.isInteger(n.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!A.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return n;var u=new E.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return n.rejectedLogRecords!=null&&(A.Long?(u.rejectedLogRecords=A.Long.fromValue(n.rejectedLogRecords)).unsigned=!1:typeof n.rejectedLogRecords=="string"?u.rejectedLogRecords=parseInt(n.rejectedLogRecords,10):typeof n.rejectedLogRecords=="number"?u.rejectedLogRecords=n.rejectedLogRecords:typeof n.rejectedLogRecords=="object"&&(u.rejectedLogRecords=new A.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.rejectedLogRecords=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedLogRecords=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&(typeof n.rejectedLogRecords=="number"?c.rejectedLogRecords=u.longs===String?String(n.rejectedLogRecords):n.rejectedLogRecords:c.rejectedLogRecords=u.longs===String?A.Long.prototype.toString.call(n.rejectedLogRecords):u.longs===Number?new A.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber():n.rejectedLogRecords),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),s}(),o}(),r}(),e.metrics=function(){var r={};return r.v1=function(){var o={};return o.MetricsData=function(){function s(a){if(this.resourceMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceMetrics=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resourceMetrics!=null&&i.resourceMetrics.length)for(var u=0;u<i.resourceMetrics.length;++u)E.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(i.resourceMetrics[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.MetricsData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(E.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceMetrics!=null&&i.hasOwnProperty("resourceMetrics")){if(!Array.isArray(i.resourceMetrics))return"resourceMetrics: array expected";for(var n=0;n<i.resourceMetrics.length;++n){var u=E.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(i.resourceMetrics[n]);if(u)return"resourceMetrics."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.MetricsData)return i;var n=new E.opentelemetry.proto.metrics.v1.MetricsData;if(i.resourceMetrics){if(!Array.isArray(i.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");n.resourceMetrics=[];for(var u=0;u<i.resourceMetrics.length;++u){if(typeof i.resourceMetrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");n.resourceMetrics[u]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(i.resourceMetrics[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceMetrics=[]),i.resourceMetrics&&i.resourceMetrics.length){u.resourceMetrics=[];for(var c=0;c<i.resourceMetrics.length;++c)u.resourceMetrics[c]=E.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(i.resourceMetrics[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),o.ResourceMetrics=function(){function s(a){if(this.scopeMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeMetrics=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&E.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeMetrics!=null&&i.scopeMetrics.length)for(var u=0;u<i.scopeMetrics.length;++u)E.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(i.scopeMetrics[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=E.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(E.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=E.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeMetrics!=null&&i.hasOwnProperty("scopeMetrics")){if(!Array.isArray(i.scopeMetrics))return"scopeMetrics: array expected";for(var u=0;u<i.scopeMetrics.length;++u){var n=E.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(i.scopeMetrics[u]);if(n)return"scopeMetrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.ResourceMetrics)return i;var n=new E.opentelemetry.proto.metrics.v1.ResourceMetrics;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");n.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeMetrics){if(!Array.isArray(i.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");n.scopeMetrics=[];for(var u=0;u<i.scopeMetrics.length;++u){if(typeof i.scopeMetrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");n.scopeMetrics[u]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(i.scopeMetrics[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeMetrics=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeMetrics&&i.scopeMetrics.length){u.scopeMetrics=[];for(var c=0;c<i.scopeMetrics.length;++c)u.scopeMetrics[c]=E.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(i.scopeMetrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),o.ScopeMetrics=function(){function s(a){if(this.metrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.metrics=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&E.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.metrics!=null&&i.metrics.length)for(var u=0;u<i.metrics.length;++u)E.opentelemetry.proto.metrics.v1.Metric.encode(i.metrics[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(E.opentelemetry.proto.metrics.v1.Metric.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.metrics!=null&&i.hasOwnProperty("metrics")){if(!Array.isArray(i.metrics))return"metrics: array expected";for(var u=0;u<i.metrics.length;++u){var n=E.opentelemetry.proto.metrics.v1.Metric.verify(i.metrics[u]);if(n)return"metrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.ScopeMetrics)return i;var n=new E.opentelemetry.proto.metrics.v1.ScopeMetrics;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");n.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.metrics){if(!Array.isArray(i.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");n.metrics=[];for(var u=0;u<i.metrics.length;++u){if(typeof i.metrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");n.metrics[u]=E.opentelemetry.proto.metrics.v1.Metric.fromObject(i.metrics[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.metrics=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.metrics&&i.metrics.length){u.metrics=[];for(var c=0;c<i.metrics.length;++c)u.metrics[c]=E.opentelemetry.proto.metrics.v1.Metric.toObject(i.metrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),o.Metric=function(){function s(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:A.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){return u||(u=Ke.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&u.uint32(10).string(n.name),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&u.uint32(18).string(n.description),n.unit!=null&&Object.hasOwnProperty.call(n,"unit")&&u.uint32(26).string(n.unit),n.gauge!=null&&Object.hasOwnProperty.call(n,"gauge")&&E.opentelemetry.proto.metrics.v1.Gauge.encode(n.gauge,u.uint32(42).fork()).ldelim(),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&E.opentelemetry.proto.metrics.v1.Sum.encode(n.sum,u.uint32(58).fork()).ldelim(),n.histogram!=null&&Object.hasOwnProperty.call(n,"histogram")&&E.opentelemetry.proto.metrics.v1.Histogram.encode(n.histogram,u.uint32(74).fork()).ldelim(),n.exponentialHistogram!=null&&Object.hasOwnProperty.call(n,"exponentialHistogram")&&E.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(n.exponentialHistogram,u.uint32(82).fork()).ldelim(),n.summary!=null&&Object.hasOwnProperty.call(n,"summary")&&E.opentelemetry.proto.metrics.v1.Summary.encode(n.summary,u.uint32(90).fork()).ldelim(),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.Metric;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.name=n.string();break}case 2:{d.description=n.string();break}case 3:{d.unit=n.string();break}case 5:{d.gauge=E.opentelemetry.proto.metrics.v1.Gauge.decode(n,n.uint32());break}case 7:{d.sum=E.opentelemetry.proto.metrics.v1.Sum.decode(n,n.uint32());break}case 9:{d.histogram=E.opentelemetry.proto.metrics.v1.Histogram.decode(n,n.uint32());break}case 10:{d.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(n,n.uint32());break}case 11:{d.summary=E.opentelemetry.proto.metrics.v1.Summary.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.name!=null&&n.hasOwnProperty("name")&&!A.isString(n.name))return"name: string expected";if(n.description!=null&&n.hasOwnProperty("description")&&!A.isString(n.description))return"description: string expected";if(n.unit!=null&&n.hasOwnProperty("unit")&&!A.isString(n.unit))return"unit: string expected";if(n.gauge!=null&&n.hasOwnProperty("gauge")){u.data=1;{var c=E.opentelemetry.proto.metrics.v1.Gauge.verify(n.gauge);if(c)return"gauge."+c}}if(n.sum!=null&&n.hasOwnProperty("sum")){if(u.data===1)return"data: multiple values";u.data=1;{var c=E.opentelemetry.proto.metrics.v1.Sum.verify(n.sum);if(c)return"sum."+c}}if(n.histogram!=null&&n.hasOwnProperty("histogram")){if(u.data===1)return"data: multiple values";u.data=1;{var c=E.opentelemetry.proto.metrics.v1.Histogram.verify(n.histogram);if(c)return"histogram."+c}}if(n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")){if(u.data===1)return"data: multiple values";u.data=1;{var c=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(n.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(n.summary!=null&&n.hasOwnProperty("summary")){if(u.data===1)return"data: multiple values";u.data=1;{var c=E.opentelemetry.proto.metrics.v1.Summary.verify(n.summary);if(c)return"summary."+c}}return null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.Metric)return n;var u=new E.opentelemetry.proto.metrics.v1.Metric;if(n.name!=null&&(u.name=String(n.name)),n.description!=null&&(u.description=String(n.description)),n.unit!=null&&(u.unit=String(n.unit)),n.gauge!=null){if(typeof n.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");u.gauge=E.opentelemetry.proto.metrics.v1.Gauge.fromObject(n.gauge)}if(n.sum!=null){if(typeof n.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");u.sum=E.opentelemetry.proto.metrics.v1.Sum.fromObject(n.sum)}if(n.histogram!=null){if(typeof n.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");u.histogram=E.opentelemetry.proto.metrics.v1.Histogram.fromObject(n.histogram)}if(n.exponentialHistogram!=null){if(typeof n.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");u.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(n.exponentialHistogram)}if(n.summary!=null){if(typeof n.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");u.summary=E.opentelemetry.proto.metrics.v1.Summary.fromObject(n.summary)}return u},s.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.name="",c.description="",c.unit=""),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.description!=null&&n.hasOwnProperty("description")&&(c.description=n.description),n.unit!=null&&n.hasOwnProperty("unit")&&(c.unit=n.unit),n.gauge!=null&&n.hasOwnProperty("gauge")&&(c.gauge=E.opentelemetry.proto.metrics.v1.Gauge.toObject(n.gauge,u),u.oneofs&&(c.data="gauge")),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=E.opentelemetry.proto.metrics.v1.Sum.toObject(n.sum,u),u.oneofs&&(c.data="sum")),n.histogram!=null&&n.hasOwnProperty("histogram")&&(c.histogram=E.opentelemetry.proto.metrics.v1.Histogram.toObject(n.histogram,u),u.oneofs&&(c.data="histogram")),n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=E.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(n.exponentialHistogram,u),u.oneofs&&(c.data="exponentialHistogram")),n.summary!=null&&n.hasOwnProperty("summary")&&(c.summary=E.opentelemetry.proto.metrics.v1.Summary.toObject(n.summary,u),u.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Metric"},s}(),o.Gauge=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.Gauge;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.Gauge)return i;var n=new E.opentelemetry.proto.metrics.v1.Gauge;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");n.dataPoints[u]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),o.Sum=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=A.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)E.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),i.isMonotonic!=null&&Object.hasOwnProperty.call(i,"isMonotonic")&&n.uint32(24).bool(i.isMonotonic),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.Sum;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(E.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}case 3:{c.isMonotonic=i.bool();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=E.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&typeof i.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.Sum)return i;var n=new E.opentelemetry.proto.metrics.v1.Sum;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");n.dataPoints[u]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return i.isMonotonic!=null&&(n.isMonotonic=!!i.isMonotonic),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,u.isMonotonic=!1),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=E.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&(u.isMonotonic=i.isMonotonic),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Sum"},s}(),o.Histogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=A.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)E.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.Histogram;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(E.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.Histogram)return i;var n=new E.opentelemetry.proto.metrics.v1.Histogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");n.dataPoints[u]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=E.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),o.ExponentialHistogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=A.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogram)return i;var n=new E.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");n.dataPoints[u]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:E.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),o.Summary=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.Summary;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.Summary)return i;var n=new E.opentelemetry.proto.metrics.v1.Summary;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");n.dataPoints[u]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(i.dataPoints[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(i.dataPoints[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Summary"},s}(),o.AggregationTemporality=function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a}(),o.DataPointFlags=function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a}(),o.NumberDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=A.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=A.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:A.oneOfGetter(a=["asDouble","asInt"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Ke.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&u.uint32(33).double(n.asDouble),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)E.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(42).fork()).ldelim();if(n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&u.uint32(49).sfixed64(n.asInt),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(64).uint32(n.flags),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.asDouble=n.double();break}case 6:{d.asInt=n.sfixed64();break}case 5:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 8:{d.flags=n.uint32();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=E.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!A.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&A.isInteger(n.startTimeUnixNano.low)&&A.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!A.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&A.isInteger(n.timeUnixNano.low)&&A.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(u.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(u.value===1)return"value: multiple values";if(u.value=1,!A.isInteger(n.asInt)&&!(n.asInt&&A.isInteger(n.asInt.low)&&A.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=E.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.flags!=null&&n.hasOwnProperty("flags")&&!A.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.NumberDataPoint)return n;var u=new E.opentelemetry.proto.metrics.v1.NumberDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(A.Long?(u.startTimeUnixNano=A.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(A.Long?(u.timeUnixNano=A.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(u.asDouble=Number(n.asDouble)),n.asInt!=null&&(A.Long?(u.asInt=A.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?u.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?u.asInt=n.asInt:typeof n.asInt=="object"&&(u.asInt=new A.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");u.exemplars[c]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(u.flags=n.flags>>>0),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.exemplars=[],c.attributes=[]),u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(A.Long){var d=new A.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=u.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,u.oneofs&&(c.value="asDouble")),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}if(n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=u.longs===String?String(n.asInt):n.asInt:c.asInt=u.longs===String?A.Long.prototype.toString.call(n.asInt):u.longs===Number?new A.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,u.oneofs&&(c.value="asInt")),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),o.HistogramDataPoint=function(){function s(i){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=A.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=A.emptyArray,s.prototype.explicitBounds=A.emptyArray,s.prototype.exemplars=A.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:A.oneOfGetter(a=["sum"]),set:A.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:A.oneOfGetter(a=["min"]),set:A.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:A.oneOfGetter(a=["max"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Ke.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&u.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&u.uint32(41).double(n.sum),n.bucketCounts!=null&&n.bucketCounts.length){u.uint32(50).fork();for(var c=0;c<n.bucketCounts.length;++c)u.fixed64(n.bucketCounts[c]);u.ldelim()}if(n.explicitBounds!=null&&n.explicitBounds.length){u.uint32(58).fork();for(var c=0;c<n.explicitBounds.length;++c)u.double(n.explicitBounds[c]);u.ldelim()}if(n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)E.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(66).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(74).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(80).uint32(n.flags),n.min!=null&&Object.hasOwnProperty.call(n,"min")&&u.uint32(89).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&u.uint32(97).double(n.max),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 9:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.count=n.fixed64();break}case 5:{d.sum=n.double();break}case 6:{if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(f&7)===2)for(var g=n.uint32()+n.pos;n.pos<g;)d.bucketCounts.push(n.fixed64());else d.bucketCounts.push(n.fixed64());break}case 7:{if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(f&7)===2)for(var g=n.uint32()+n.pos;n.pos<g;)d.explicitBounds.push(n.double());else d.explicitBounds.push(n.double());break}case 8:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 10:{d.flags=n.uint32();break}case 11:{d.min=n.double();break}case 12:{d.max=n.double();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=E.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!A.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&A.isInteger(n.startTimeUnixNano.low)&&A.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!A.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&A.isInteger(n.timeUnixNano.low)&&A.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!A.isInteger(n.count)&&!(n.count&&A.isInteger(n.count.low)&&A.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(u._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.bucketCounts!=null&&n.hasOwnProperty("bucketCounts")){if(!Array.isArray(n.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<n.bucketCounts.length;++c)if(!A.isInteger(n.bucketCounts[c])&&!(n.bucketCounts[c]&&A.isInteger(n.bucketCounts[c].low)&&A.isInteger(n.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(n.explicitBounds!=null&&n.hasOwnProperty("explicitBounds")){if(!Array.isArray(n.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<n.explicitBounds.length;++c)if(typeof n.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=E.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.flags!=null&&n.hasOwnProperty("flags")&&!A.isInteger(n.flags)?"flags: integer expected":n.min!=null&&n.hasOwnProperty("min")&&(u._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(u._max=1,typeof n.max!="number")?"max: number expected":null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.HistogramDataPoint)return n;var u=new E.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(A.Long?(u.startTimeUnixNano=A.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(A.Long?(u.timeUnixNano=A.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(A.Long?(u.count=A.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?u.count=parseInt(n.count,10):typeof n.count=="number"?u.count=n.count:typeof n.count=="object"&&(u.count=new A.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(u.sum=Number(n.sum)),n.bucketCounts){if(!Array.isArray(n.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");u.bucketCounts=[];for(var c=0;c<n.bucketCounts.length;++c)A.Long?(u.bucketCounts[c]=A.Long.fromValue(n.bucketCounts[c])).unsigned=!1:typeof n.bucketCounts[c]=="string"?u.bucketCounts[c]=parseInt(n.bucketCounts[c],10):typeof n.bucketCounts[c]=="number"?u.bucketCounts[c]=n.bucketCounts[c]:typeof n.bucketCounts[c]=="object"&&(u.bucketCounts[c]=new A.LongBits(n.bucketCounts[c].low>>>0,n.bucketCounts[c].high>>>0).toNumber())}if(n.explicitBounds){if(!Array.isArray(n.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");u.explicitBounds=[];for(var c=0;c<n.explicitBounds.length;++c)u.explicitBounds[c]=Number(n.explicitBounds[c])}if(n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");u.exemplars[c]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(u.flags=n.flags>>>0),n.min!=null&&(u.min=Number(n.min)),n.max!=null&&(u.max=Number(n.max)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(A.Long){var d=new A.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;if(A.Long){var d=new A.Long(0,0,!1);c.count=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.count=u.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=u.longs===String?String(n.count):n.count:c.count=u.longs===String?A.Long.prototype.toString.call(n.count):u.longs===Number?new A.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=u.json&&!isFinite(n.sum)?String(n.sum):n.sum,u.oneofs&&(c._sum="sum")),n.bucketCounts&&n.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<n.bucketCounts.length;++f)typeof n.bucketCounts[f]=="number"?c.bucketCounts[f]=u.longs===String?String(n.bucketCounts[f]):n.bucketCounts[f]:c.bucketCounts[f]=u.longs===String?A.Long.prototype.toString.call(n.bucketCounts[f]):u.longs===Number?new A.LongBits(n.bucketCounts[f].low>>>0,n.bucketCounts[f].high>>>0).toNumber():n.bucketCounts[f]}if(n.explicitBounds&&n.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<n.explicitBounds.length;++f)c.explicitBounds[f]=u.json&&!isFinite(n.explicitBounds[f])?String(n.explicitBounds[f]):n.explicitBounds[f]}if(n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.min!=null&&n.hasOwnProperty("min")&&(c.min=u.json&&!isFinite(n.min)?String(n.min):n.min,u.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=u.json&&!isFinite(n.max)?String(n.max):n.max,u.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),o.ExponentialHistogramDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=A.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=A.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:A.oneOfGetter(a=["sum"]),set:A.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:A.oneOfGetter(a=["min"]),set:A.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:A.oneOfGetter(a=["max"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Ke.create()),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(10).fork()).ldelim();if(n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&u.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&u.uint32(41).double(n.sum),n.scale!=null&&Object.hasOwnProperty.call(n,"scale")&&u.uint32(48).sint32(n.scale),n.zeroCount!=null&&Object.hasOwnProperty.call(n,"zeroCount")&&u.uint32(57).fixed64(n.zeroCount),n.positive!=null&&Object.hasOwnProperty.call(n,"positive")&&E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.positive,u.uint32(66).fork()).ldelim(),n.negative!=null&&Object.hasOwnProperty.call(n,"negative")&&E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.negative,u.uint32(74).fork()).ldelim(),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(80).uint32(n.flags),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)E.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(90).fork()).ldelim();return n.min!=null&&Object.hasOwnProperty.call(n,"min")&&u.uint32(97).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&u.uint32(105).double(n.max),n.zeroThreshold!=null&&Object.hasOwnProperty.call(n,"zeroThreshold")&&u.uint32(113).double(n.zeroThreshold),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.count=n.fixed64();break}case 5:{d.sum=n.double();break}case 6:{d.scale=n.sint32();break}case 7:{d.zeroCount=n.fixed64();break}case 8:{d.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 9:{d.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 10:{d.flags=n.uint32();break}case 11:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(E.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 12:{d.min=n.double();break}case 13:{d.max=n.double();break}case 14:{d.zeroThreshold=n.double();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=E.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!A.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&A.isInteger(n.startTimeUnixNano.low)&&A.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!A.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&A.isInteger(n.timeUnixNano.low)&&A.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!A.isInteger(n.count)&&!(n.count&&A.isInteger(n.count.low)&&A.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(u._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.scale!=null&&n.hasOwnProperty("scale")&&!A.isInteger(n.scale))return"scale: integer expected";if(n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&!A.isInteger(n.zeroCount)&&!(n.zeroCount&&A.isInteger(n.zeroCount.low)&&A.isInteger(n.zeroCount.high)))return"zeroCount: integer|Long expected";if(n.positive!=null&&n.hasOwnProperty("positive")){var d=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.positive);if(d)return"positive."+d}if(n.negative!=null&&n.hasOwnProperty("negative")){var d=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.negative);if(d)return"negative."+d}if(n.flags!=null&&n.hasOwnProperty("flags")&&!A.isInteger(n.flags))return"flags: integer expected";if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=E.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.min!=null&&n.hasOwnProperty("min")&&(u._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(u._max=1,typeof n.max!="number")?"max: number expected":n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&typeof n.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return n;var u=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");u.attributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(A.Long?(u.startTimeUnixNano=A.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(A.Long?(u.timeUnixNano=A.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(A.Long?(u.count=A.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?u.count=parseInt(n.count,10):typeof n.count=="number"?u.count=n.count:typeof n.count=="object"&&(u.count=new A.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(u.sum=Number(n.sum)),n.scale!=null&&(u.scale=n.scale|0),n.zeroCount!=null&&(A.Long?(u.zeroCount=A.Long.fromValue(n.zeroCount)).unsigned=!1:typeof n.zeroCount=="string"?u.zeroCount=parseInt(n.zeroCount,10):typeof n.zeroCount=="number"?u.zeroCount=n.zeroCount:typeof n.zeroCount=="object"&&(u.zeroCount=new A.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber())),n.positive!=null){if(typeof n.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");u.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.positive)}if(n.negative!=null){if(typeof n.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");u.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.negative)}if(n.flags!=null&&(u.flags=n.flags>>>0),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");u.exemplars[c]=E.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.min!=null&&(u.min=Number(n.min)),n.max!=null&&(u.max=Number(n.max)),n.zeroThreshold!=null&&(u.zeroThreshold=Number(n.zeroThreshold)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[],c.exemplars=[]),u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(A.Long){var d=new A.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;if(A.Long){var d=new A.Long(0,0,!1);c.count=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.count=u.longs===String?"0":0;if(c.scale=0,A.Long){var d=new A.Long(0,0,!1);c.zeroCount=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.zeroCount=u.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new A.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=u.longs===String?String(n.count):n.count:c.count=u.longs===String?A.Long.prototype.toString.call(n.count):u.longs===Number?new A.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=u.json&&!isFinite(n.sum)?String(n.sum):n.sum,u.oneofs&&(c._sum="sum")),n.scale!=null&&n.hasOwnProperty("scale")&&(c.scale=n.scale),n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&(typeof n.zeroCount=="number"?c.zeroCount=u.longs===String?String(n.zeroCount):n.zeroCount:c.zeroCount=u.longs===String?A.Long.prototype.toString.call(n.zeroCount):u.longs===Number?new A.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber():n.zeroCount),n.positive!=null&&n.hasOwnProperty("positive")&&(c.positive=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.positive,u)),n.negative!=null&&n.hasOwnProperty("negative")&&(c.negative=E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.negative,u)),n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=E.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}return n.min!=null&&n.hasOwnProperty("min")&&(c.min=u.json&&!isFinite(n.min)?String(n.min):n.min,u.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=u.json&&!isFinite(n.max)?String(n.max):n.max,u.oneofs&&(c._max="max")),n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=u.json&&!isFinite(n.zeroThreshold)?String(n.zeroThreshold):n.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function i(n){if(this.bucketCounts=[],n)for(var u=Object.keys(n),c=0;c<u.length;++c)n[u[c]]!=null&&(this[u[c]]=n[u[c]])}return i.prototype.offset=null,i.prototype.bucketCounts=A.emptyArray,i.create=function(u){return new i(u)},i.encode=function(u,c){if(c||(c=Ke.create()),u.offset!=null&&Object.hasOwnProperty.call(u,"offset")&&c.uint32(8).sint32(u.offset),u.bucketCounts!=null&&u.bucketCounts.length){c.uint32(18).fork();for(var d=0;d<u.bucketCounts.length;++d)c.uint64(u.bucketCounts[d]);c.ldelim()}return c},i.encodeDelimited=function(u,c){return this.encode(u,c).ldelim()},i.decode=function(u,c){u instanceof G||(u=G.create(u));for(var d=c===void 0?u.len:u.pos+c,f=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;u.pos<d;){var g=u.uint32();switch(g>>>3){case 1:{f.offset=u.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(g&7)===2)for(var y=u.uint32()+u.pos;u.pos<y;)f.bucketCounts.push(u.uint64());else f.bucketCounts.push(u.uint64());break}default:u.skipType(g&7);break}}return f},i.decodeDelimited=function(u){return u instanceof G||(u=new G(u)),this.decode(u,u.uint32())},i.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.offset!=null&&u.hasOwnProperty("offset")&&!A.isInteger(u.offset))return"offset: integer expected";if(u.bucketCounts!=null&&u.hasOwnProperty("bucketCounts")){if(!Array.isArray(u.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<u.bucketCounts.length;++c)if(!A.isInteger(u.bucketCounts[c])&&!(u.bucketCounts[c]&&A.isInteger(u.bucketCounts[c].low)&&A.isInteger(u.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},i.fromObject=function(u){if(u instanceof E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return u;var c=new E.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(u.offset!=null&&(c.offset=u.offset|0),u.bucketCounts){if(!Array.isArray(u.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var d=0;d<u.bucketCounts.length;++d)A.Long?(c.bucketCounts[d]=A.Long.fromValue(u.bucketCounts[d])).unsigned=!0:typeof u.bucketCounts[d]=="string"?c.bucketCounts[d]=parseInt(u.bucketCounts[d],10):typeof u.bucketCounts[d]=="number"?c.bucketCounts[d]=u.bucketCounts[d]:typeof u.bucketCounts[d]=="object"&&(c.bucketCounts[d]=new A.LongBits(u.bucketCounts[d].low>>>0,u.bucketCounts[d].high>>>0).toNumber(!0))}return c},i.toObject=function(u,c){c||(c={});var d={};if((c.arrays||c.defaults)&&(d.bucketCounts=[]),c.defaults&&(d.offset=0),u.offset!=null&&u.hasOwnProperty("offset")&&(d.offset=u.offset),u.bucketCounts&&u.bucketCounts.length){d.bucketCounts=[];for(var f=0;f<u.bucketCounts.length;++f)typeof u.bucketCounts[f]=="number"?d.bucketCounts[f]=c.longs===String?String(u.bucketCounts[f]):u.bucketCounts[f]:d.bucketCounts[f]=c.longs===String?A.Long.prototype.toString.call(u.bucketCounts[f]):c.longs===Number?new A.LongBits(u.bucketCounts[f].low>>>0,u.bucketCounts[f].high>>>0).toNumber(!0):u.bucketCounts[f]}return d},i.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},i.getTypeUrl=function(u){return u===void 0&&(u="type.googleapis.com"),u+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},i}(),s}(),o.SummaryDataPoint=function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=A.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=A.emptyArray,s.prototype.flags=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(17).fixed64(i.startTimeUnixNano),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(25).fixed64(i.timeUnixNano),i.count!=null&&Object.hasOwnProperty.call(i,"count")&&n.uint32(33).fixed64(i.count),i.sum!=null&&Object.hasOwnProperty.call(i,"sum")&&n.uint32(41).double(i.sum),i.quantileValues!=null&&i.quantileValues.length)for(var u=0;u<i.quantileValues.length;++u)E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(i.quantileValues[u],n.uint32(50).fork()).ldelim();if(i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(58).fork()).ldelim();return i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(64).uint32(i.flags),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;i.pos<u;){var d=i.uint32();switch(d>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.startTimeUnixNano=i.fixed64();break}case 3:{c.timeUnixNano=i.fixed64();break}case 4:{c.count=i.fixed64();break}case 5:{c.sum=i.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(i,i.uint32()));break}case 8:{c.flags=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=E.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!A.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&A.isInteger(i.startTimeUnixNano.low)&&A.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!A.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&A.isInteger(i.timeUnixNano.low)&&A.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.count!=null&&i.hasOwnProperty("count")&&!A.isInteger(i.count)&&!(i.count&&A.isInteger(i.count.low)&&A.isInteger(i.count.high)))return"count: integer|Long expected";if(i.sum!=null&&i.hasOwnProperty("sum")&&typeof i.sum!="number")return"sum: number expected";if(i.quantileValues!=null&&i.hasOwnProperty("quantileValues")){if(!Array.isArray(i.quantileValues))return"quantileValues: array expected";for(var n=0;n<i.quantileValues.length;++n){var u=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(i.quantileValues[n]);if(u)return"quantileValues."+u}}return i.flags!=null&&i.hasOwnProperty("flags")&&!A.isInteger(i.flags)?"flags: integer expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint)return i;var n=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");n.attributes[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}if(i.startTimeUnixNano!=null&&(A.Long?(n.startTimeUnixNano=A.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new A.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.timeUnixNano!=null&&(A.Long?(n.timeUnixNano=A.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new A.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.count!=null&&(A.Long?(n.count=A.Long.fromValue(i.count)).unsigned=!1:typeof i.count=="string"?n.count=parseInt(i.count,10):typeof i.count=="number"?n.count=i.count:typeof i.count=="object"&&(n.count=new A.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber())),i.sum!=null&&(n.sum=Number(i.sum)),i.quantileValues){if(!Array.isArray(i.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");n.quantileValues=[];for(var u=0;u<i.quantileValues.length;++u){if(typeof i.quantileValues[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");n.quantileValues[u]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(i.quantileValues[u])}}return i.flags!=null&&(n.flags=i.flags>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.quantileValues=[],u.attributes=[]),n.defaults){if(A.Long){var c=new A.Long(0,0,!1);u.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.startTimeUnixNano=n.longs===String?"0":0;if(A.Long){var c=new A.Long(0,0,!1);u.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.timeUnixNano=n.longs===String?"0":0;if(A.Long){var c=new A.Long(0,0,!1);u.count=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.count=n.longs===String?"0":0;u.sum=0,u.flags=0}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?u.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:u.startTimeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new A.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?u.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:u.timeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new A.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.count!=null&&i.hasOwnProperty("count")&&(typeof i.count=="number"?u.count=n.longs===String?String(i.count):i.count:u.count=n.longs===String?A.Long.prototype.toString.call(i.count):n.longs===Number?new A.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber():i.count),i.sum!=null&&i.hasOwnProperty("sum")&&(u.sum=n.json&&!isFinite(i.sum)?String(i.sum):i.sum),i.quantileValues&&i.quantileValues.length){u.quantileValues=[];for(var d=0;d<i.quantileValues.length;++d)u.quantileValues[d]=E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(i.quantileValues[d],n)}if(i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}return i.flags!=null&&i.hasOwnProperty("flags")&&(u.flags=i.flags),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Ke.create()),n.quantile!=null&&Object.hasOwnProperty.call(n,"quantile")&&u.uint32(9).double(n.quantile),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&u.uint32(17).double(n.value),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.quantile=n.double();break}case 2:{d.value=n.double();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.quantile!=null&&n.hasOwnProperty("quantile")&&typeof n.quantile!="number"?"quantile: number expected":n.value!=null&&n.hasOwnProperty("value")&&typeof n.value!="number"?"value: number expected":null},a.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return n;var u=new E.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return n.quantile!=null&&(u.quantile=Number(n.quantile)),n.value!=null&&(u.value=Number(n.value)),u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.quantile=0,c.value=0),n.quantile!=null&&n.hasOwnProperty("quantile")&&(c.quantile=u.json&&!isFinite(n.quantile)?String(n.quantile):n.quantile),n.value!=null&&n.hasOwnProperty("value")&&(c.value=u.json&&!isFinite(n.value)?String(n.value):n.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),s}(),o.Exemplar=function(){function s(i){if(this.filteredAttributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.filteredAttributes=A.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:A.oneOfGetter(a=["asDouble","asInt"]),set:A.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Ke.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(17).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&u.uint32(25).double(n.asDouble),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&u.uint32(34).bytes(n.spanId),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&u.uint32(42).bytes(n.traceId),n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&u.uint32(49).sfixed64(n.asInt),n.filteredAttributes!=null&&n.filteredAttributes.length)for(var c=0;c<n.filteredAttributes.length;++c)E.opentelemetry.proto.common.v1.KeyValue.encode(n.filteredAttributes[c],u.uint32(58).fork()).ldelim();return u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof G||(n=G.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new E.opentelemetry.proto.metrics.v1.Exemplar;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.timeUnixNano=n.fixed64();break}case 3:{d.asDouble=n.double();break}case 6:{d.asInt=n.sfixed64();break}case 4:{d.spanId=n.bytes();break}case 5:{d.traceId=n.bytes();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof G||(n=new G(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.filteredAttributes!=null&&n.hasOwnProperty("filteredAttributes")){if(!Array.isArray(n.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<n.filteredAttributes.length;++c){var d=E.opentelemetry.proto.common.v1.KeyValue.verify(n.filteredAttributes[c]);if(d)return"filteredAttributes."+d}}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!A.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&A.isInteger(n.timeUnixNano.low)&&A.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(u.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(u.value===1)return"value: multiple values";if(u.value=1,!A.isInteger(n.asInt)&&!(n.asInt&&A.isInteger(n.asInt.low)&&A.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}return n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||A.isString(n.spanId))?"spanId: buffer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||A.isString(n.traceId))?"traceId: buffer expected":null},s.fromObject=function(n){if(n instanceof E.opentelemetry.proto.metrics.v1.Exemplar)return n;var u=new E.opentelemetry.proto.metrics.v1.Exemplar;if(n.filteredAttributes){if(!Array.isArray(n.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");u.filteredAttributes=[];for(var c=0;c<n.filteredAttributes.length;++c){if(typeof n.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");u.filteredAttributes[c]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(n.filteredAttributes[c])}}return n.timeUnixNano!=null&&(A.Long?(u.timeUnixNano=A.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(u.asDouble=Number(n.asDouble)),n.asInt!=null&&(A.Long?(u.asInt=A.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?u.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?u.asInt=n.asInt:typeof n.asInt=="object"&&(u.asInt=new A.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.spanId!=null&&(typeof n.spanId=="string"?A.base64.decode(n.spanId,u.spanId=A.newBuffer(A.base64.length(n.spanId)),0):n.spanId.length>=0&&(u.spanId=n.spanId)),n.traceId!=null&&(typeof n.traceId=="string"?A.base64.decode(n.traceId,u.traceId=A.newBuffer(A.base64.length(n.traceId)),0):n.traceId.length>=0&&(u.traceId=n.traceId)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.filteredAttributes=[]),u.defaults){if(A.Long){var d=new A.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;u.bytes===String?c.spanId="":(c.spanId=[],u.bytes!==Array&&(c.spanId=A.newBuffer(c.spanId))),u.bytes===String?c.traceId="":(c.traceId=[],u.bytes!==Array&&(c.traceId=A.newBuffer(c.traceId)))}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?A.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new A.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=u.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,u.oneofs&&(c.value="asDouble")),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=u.bytes===String?A.base64.encode(n.spanId,0,n.spanId.length):u.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=u.bytes===String?A.base64.encode(n.traceId,0,n.traceId.length):u.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=u.longs===String?String(n.asInt):n.asInt:c.asInt=u.longs===String?A.Long.prototype.toString.call(n.asInt):u.longs===Number?new A.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,u.oneofs&&(c.value="asInt")),n.filteredAttributes&&n.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<n.filteredAttributes.length;++f)c.filteredAttributes[f]=E.opentelemetry.proto.common.v1.KeyValue.toObject(n.filteredAttributes[f],u)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),o}(),r}(),e.logs=function(){var r={};return r.v1=function(){var o={};return o.LogsData=function(){function s(a){if(this.resourceLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceLogs=A.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resourceLogs!=null&&i.resourceLogs.length)for(var u=0;u<i.resourceLogs.length;++u)E.opentelemetry.proto.logs.v1.ResourceLogs.encode(i.resourceLogs[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.logs.v1.LogsData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(E.opentelemetry.proto.logs.v1.ResourceLogs.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceLogs!=null&&i.hasOwnProperty("resourceLogs")){if(!Array.isArray(i.resourceLogs))return"resourceLogs: array expected";for(var n=0;n<i.resourceLogs.length;++n){var u=E.opentelemetry.proto.logs.v1.ResourceLogs.verify(i.resourceLogs[n]);if(u)return"resourceLogs."+u}}return null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.logs.v1.LogsData)return i;var n=new E.opentelemetry.proto.logs.v1.LogsData;if(i.resourceLogs){if(!Array.isArray(i.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");n.resourceLogs=[];for(var u=0;u<i.resourceLogs.length;++u){if(typeof i.resourceLogs[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");n.resourceLogs[u]=E.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(i.resourceLogs[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceLogs=[]),i.resourceLogs&&i.resourceLogs.length){u.resourceLogs=[];for(var c=0;c<i.resourceLogs.length;++c)u.resourceLogs[c]=E.opentelemetry.proto.logs.v1.ResourceLogs.toObject(i.resourceLogs[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogsData"},s}(),o.ResourceLogs=function(){function s(a){if(this.scopeLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeLogs=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&E.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeLogs!=null&&i.scopeLogs.length)for(var u=0;u<i.scopeLogs.length;++u)E.opentelemetry.proto.logs.v1.ScopeLogs.encode(i.scopeLogs[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.logs.v1.ResourceLogs;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=E.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(E.opentelemetry.proto.logs.v1.ScopeLogs.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=E.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeLogs!=null&&i.hasOwnProperty("scopeLogs")){if(!Array.isArray(i.scopeLogs))return"scopeLogs: array expected";for(var u=0;u<i.scopeLogs.length;++u){var n=E.opentelemetry.proto.logs.v1.ScopeLogs.verify(i.scopeLogs[u]);if(n)return"scopeLogs."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.logs.v1.ResourceLogs)return i;var n=new E.opentelemetry.proto.logs.v1.ResourceLogs;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");n.resource=E.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeLogs){if(!Array.isArray(i.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");n.scopeLogs=[];for(var u=0;u<i.scopeLogs.length;++u){if(typeof i.scopeLogs[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");n.scopeLogs[u]=E.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(i.scopeLogs[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeLogs=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=E.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeLogs&&i.scopeLogs.length){u.scopeLogs=[];for(var c=0;c<i.scopeLogs.length;++c)u.scopeLogs[c]=E.opentelemetry.proto.logs.v1.ScopeLogs.toObject(i.scopeLogs[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),o.ScopeLogs=function(){function s(a){if(this.logRecords=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.logRecords=A.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&E.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.logRecords!=null&&i.logRecords.length)for(var u=0;u<i.logRecords.length;++u)E.opentelemetry.proto.logs.v1.LogRecord.encode(i.logRecords[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.logs.v1.ScopeLogs;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(E.opentelemetry.proto.logs.v1.LogRecord.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=E.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.logRecords!=null&&i.hasOwnProperty("logRecords")){if(!Array.isArray(i.logRecords))return"logRecords: array expected";for(var u=0;u<i.logRecords.length;++u){var n=E.opentelemetry.proto.logs.v1.LogRecord.verify(i.logRecords[u]);if(n)return"logRecords."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!A.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.logs.v1.ScopeLogs)return i;var n=new E.opentelemetry.proto.logs.v1.ScopeLogs;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");n.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.logRecords){if(!Array.isArray(i.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");n.logRecords=[];for(var u=0;u<i.logRecords.length;++u){if(typeof i.logRecords[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");n.logRecords[u]=E.opentelemetry.proto.logs.v1.LogRecord.fromObject(i.logRecords[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.logRecords=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=E.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.logRecords&&i.logRecords.length){u.logRecords=[];for(var c=0;c<i.logRecords.length;++c)u.logRecords[c]=E.opentelemetry.proto.logs.v1.LogRecord.toObject(i.logRecords[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),o.SeverityNumber=function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a}(),o.LogRecordFlags=function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a}(),o.LogRecord=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=A.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Ke.create()),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(9).fixed64(i.timeUnixNano),i.severityNumber!=null&&Object.hasOwnProperty.call(i,"severityNumber")&&n.uint32(16).int32(i.severityNumber),i.severityText!=null&&Object.hasOwnProperty.call(i,"severityText")&&n.uint32(26).string(i.severityText),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&E.opentelemetry.proto.common.v1.AnyValue.encode(i.body,n.uint32(42).fork()).ldelim(),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)E.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(50).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(56).uint32(i.droppedAttributesCount),i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(69).fixed32(i.flags),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(74).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(82).bytes(i.spanId),i.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"observedTimeUnixNano")&&n.uint32(89).fixed64(i.observedTimeUnixNano),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof G||(i=G.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new E.opentelemetry.proto.logs.v1.LogRecord;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.timeUnixNano=i.fixed64();break}case 11:{c.observedTimeUnixNano=i.fixed64();break}case 2:{c.severityNumber=i.int32();break}case 3:{c.severityText=i.string();break}case 5:{c.body=E.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(E.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 7:{c.droppedAttributesCount=i.uint32();break}case 8:{c.flags=i.fixed32();break}case 9:{c.traceId=i.bytes();break}case 10:{c.spanId=i.bytes();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof G||(i=new G(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!A.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&A.isInteger(i.timeUnixNano.low)&&A.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&!A.isInteger(i.observedTimeUnixNano)&&!(i.observedTimeUnixNano&&A.isInteger(i.observedTimeUnixNano.low)&&A.isInteger(i.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(i.severityNumber!=null&&i.hasOwnProperty("severityNumber"))switch(i.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(i.severityText!=null&&i.hasOwnProperty("severityText")&&!A.isString(i.severityText))return"severityText: string expected";if(i.body!=null&&i.hasOwnProperty("body")){var n=E.opentelemetry.proto.common.v1.AnyValue.verify(i.body);if(n)return"body."+n}if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var u=0;u<i.attributes.length;++u){var n=E.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[u]);if(n)return"attributes."+n}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!A.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":i.flags!=null&&i.hasOwnProperty("flags")&&!A.isInteger(i.flags)?"flags: integer expected":i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||A.isString(i.traceId))?"traceId: buffer expected":i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||A.isString(i.spanId))?"spanId: buffer expected":null},s.fromObject=function(i){if(i instanceof E.opentelemetry.proto.logs.v1.LogRecord)return i;var n=new E.opentelemetry.proto.logs.v1.LogRecord;switch(i.timeUnixNano!=null&&(A.Long?(n.timeUnixNano=A.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new A.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.observedTimeUnixNano!=null&&(A.Long?(n.observedTimeUnixNano=A.Long.fromValue(i.observedTimeUnixNano)).unsigned=!1:typeof i.observedTimeUnixNano=="string"?n.observedTimeUnixNano=parseInt(i.observedTimeUnixNano,10):typeof i.observedTimeUnixNano=="number"?n.observedTimeUnixNano=i.observedTimeUnixNano:typeof i.observedTimeUnixNano=="object"&&(n.observedTimeUnixNano=new A.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber())),i.severityNumber){default:if(typeof i.severityNumber=="number"){n.severityNumber=i.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:n.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:n.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:n.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:n.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:n.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:n.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:n.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:n.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:n.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:n.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:n.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:n.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:n.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:n.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:n.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:n.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:n.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:n.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:n.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:n.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:n.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:n.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:n.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:n.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:n.severityNumber=24;break}if(i.severityText!=null&&(n.severityText=String(i.severityText)),i.body!=null){if(typeof i.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");n.body=E.opentelemetry.proto.common.v1.AnyValue.fromObject(i.body)}if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");n.attributes[u]=E.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.flags!=null&&(n.flags=i.flags>>>0),i.traceId!=null&&(typeof i.traceId=="string"?A.base64.decode(i.traceId,n.traceId=A.newBuffer(A.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?A.base64.decode(i.spanId,n.spanId=A.newBuffer(A.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults){if(A.Long){var c=new A.Long(0,0,!1);u.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.timeUnixNano=n.longs===String?"0":0;if(u.severityNumber=n.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,u.severityText="",u.body=null,u.droppedAttributesCount=0,u.flags=0,n.bytes===String?u.traceId="":(u.traceId=[],n.bytes!==Array&&(u.traceId=A.newBuffer(u.traceId))),n.bytes===String?u.spanId="":(u.spanId=[],n.bytes!==Array&&(u.spanId=A.newBuffer(u.spanId))),A.Long){var c=new A.Long(0,0,!1);u.observedTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.observedTimeUnixNano=n.longs===String?"0":0}if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?u.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:u.timeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new A.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.severityNumber!=null&&i.hasOwnProperty("severityNumber")&&(u.severityNumber=n.enums===String?E.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]===void 0?i.severityNumber:E.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]:i.severityNumber),i.severityText!=null&&i.hasOwnProperty("severityText")&&(u.severityText=i.severityText),i.body!=null&&i.hasOwnProperty("body")&&(u.body=E.opentelemetry.proto.common.v1.AnyValue.toObject(i.body,n)),i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=E.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),i.flags!=null&&i.hasOwnProperty("flags")&&(u.flags=i.flags),i.traceId!=null&&i.hasOwnProperty("traceId")&&(u.traceId=n.bytes===String?A.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(u.spanId=n.bytes===String?A.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&(typeof i.observedTimeUnixNano=="number"?u.observedTimeUnixNano=n.longs===String?String(i.observedTimeUnixNano):i.observedTimeUnixNano:u.observedTimeUnixNano=n.longs===String?A.Long.prototype.toString.call(i.observedTimeUnixNano):n.longs===Number?new A.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber():i.observedTimeUnixNano),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,we.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),o}(),r}(),e}(),t}();cve.exports=E});var Iw=h(Wb=>{"use strict";l();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.ServiceClientType=void 0;var klt;(function(t){t[t.SPANS=0]="SPANS",t[t.METRICS=1]="METRICS",t[t.LOGS=2]="LOGS"})(klt=Wb.ServiceClientType||(Wb.ServiceClientType={}))});var Rw=h(Cw=>{"use strict";l();Object.defineProperty(Cw,"__esModule",{value:!0});Cw.getExportRequestProto=void 0;var o5=lve(),dve=Iw();function Wlt(t){return t===dve.ServiceClientType.SPANS?o5.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest:t===dve.ServiceClientType.LOGS?o5.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest:o5.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest}Cw.getExportRequestProto=Wlt});var s5=h(Ow=>{"use strict";l();Object.defineProperty(Ow,"__esModule",{value:!0});Ow.send=void 0;var fve=hu(),Zlt=Rw();function qlt(t,e,r,o,s){let a=t.convert(e),i=(0,Zlt.getExportRequestProto)(t.getServiceClientType()),n=i.create(a);if(n){let u=i.encode(n).finish();u&&(0,fve.sendWithHttp)(t,Buffer.from(u),"application/x-protobuf",o,s)}else s(new fve.OTLPExporterError("No proto"))}Ow.send=qlt});var pve=h(Nw=>{"use strict";l();Object.defineProperty(Nw,"__esModule",{value:!0});Nw.OTLPProtoExporterNodeBase=void 0;var Ylt=(j(),Y(K)),jlt=hu(),a5=class extends jlt.OTLPExporterNodeBase{constructor(e={}){super(e)}_sendPromise(e,r,o){let s=new Promise((i,n)=>{this._send(this,e,this.compression,i,n)}).then(r,o);this._sendingPromises.push(s);let a=()=>{let i=this._sendingPromises.indexOf(s);this._sendingPromises.splice(i,1)};s.then(a,a)}send(e,r,o){if(this._shutdownOnce.isCalled){Ylt.diag.debug("Shutdown already started. Cannot send objects");return}this._send?this._sendPromise(e,r,o):setImmediate(()=>{let{send:s}=s5();this._send=s,this._sendPromise(e,r,o)})}};Nw.OTLPProtoExporterNodeBase=a5});var hve=h(im=>{"use strict";l();Object.defineProperty(im,"__esModule",{value:!0});im.send=im.OTLPProtoExporterNodeBase=void 0;var Klt=pve();Object.defineProperty(im,"OTLPProtoExporterNodeBase",{enumerable:!0,get:function(){return Klt.OTLPProtoExporterNodeBase}});var Xlt=s5();Object.defineProperty(im,"send",{enumerable:!0,get:function(){return Xlt.send}})});var gve=h(ww=>{"use strict";l();Object.defineProperty(ww,"__esModule",{value:!0});ww.OTLPProtoExporterBrowserBase=void 0;var zlt=(j(),Y(K)),u5=hu(),Jlt=Rw(),c5=class extends u5.OTLPExporterBrowserBase{constructor(e={}){super(e)}send(e,r,o){if(this._shutdownOnce.isCalled){zlt.diag.debug("Shutdown already started. Cannot send objects");return}let s=this.convert(e),a=(0,Jlt.getExportRequestProto)(this.getServiceClientType()),i=a.create(s);if(i){let n=a.encode(i).finish();n&&(0,u5.sendWithXhr)(new Blob([n],{type:"application/x-protobuf"}),this.url,Object.assign(Object.assign({},this._headers),{"Content-Type":"application/x-protobuf",Accept:"application/x-protobuf"}),this.timeoutMillis,r,o)}else o(new u5.OTLPExporterError("No proto"))}};ww.OTLPProtoExporterBrowserBase=c5});var mve=h(om=>{"use strict";l();Object.defineProperty(om,"__esModule",{value:!0});om.ServiceClientType=om.OTLPProtoExporterBrowserBase=void 0;var $lt=gve();Object.defineProperty(om,"OTLPProtoExporterBrowserBase",{enumerable:!0,get:function(){return $lt.OTLPProtoExporterBrowserBase}});var Qlt=Iw();Object.defineProperty(om,"ServiceClientType",{enumerable:!0,get:function(){return Qlt.ServiceClientType}})});var _ve=h(go=>{"use strict";l();Object.defineProperty(go,"__esModule",{value:!0});go.getExportRequestProto=go.ServiceClientType=go.OTLPProtoExporterBrowserBase=go.send=go.OTLPProtoExporterNodeBase=void 0;var yve=hve();Object.defineProperty(go,"OTLPProtoExporterNodeBase",{enumerable:!0,get:function(){return yve.OTLPProtoExporterNodeBase}});Object.defineProperty(go,"send",{enumerable:!0,get:function(){return yve.send}});var edt=mve();Object.defineProperty(go,"OTLPProtoExporterBrowserBase",{enumerable:!0,get:function(){return edt.OTLPProtoExporterBrowserBase}});var tdt=Iw();Object.defineProperty(go,"ServiceClientType",{enumerable:!0,get:function(){return tdt.ServiceClientType}});var rdt=Rw();Object.defineProperty(go,"getExportRequestProto",{enumerable:!0,get:function(){return rdt.getExportRequestProto}})});var Sve=h(Of=>{"use strict";l();var ndt=Of&&Of.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),idt=Of&&Of.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ndt(e,t,r)};Object.defineProperty(Of,"__esModule",{value:!0});idt(_ve(),Of)});var Eve=h(bve=>{"use strict";l();Object.defineProperty(bve,"__esModule",{value:!0})});var Zb=h(mo=>{"use strict";l();Object.defineProperty(mo,"__esModule",{value:!0});mo.getOtlpEncoder=mo.encodeAsString=mo.encodeAsLongBits=mo.toLongBits=mo.hrTimeToNanos=void 0;var Pw=Ne(),odt=BigInt(1e9);function l5(t){return BigInt(t[0])*odt+BigInt(t[1])}mo.hrTimeToNanos=l5;function Tve(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return{low:e,high:r}}mo.toLongBits=Tve;function d5(t){let e=l5(t);return Tve(e)}mo.encodeAsLongBits=d5;function Ave(t){return l5(t).toString()}mo.encodeAsString=Ave;var sdt=typeof BigInt<"u"?Ave:Pw.hrTimeToNanoseconds;function vve(t){return t}function Ive(t){if(t!==void 0)return(0,Pw.hexToBinary)(t)}var adt={encodeHrTime:d5,encodeSpanContext:Pw.hexToBinary,encodeOptionalSpanContext:Ive};function udt(t){var e,r;if(t===void 0)return adt;let o=(e=t.useLongBits)!==null&&e!==void 0?e:!0,s=(r=t.useHex)!==null&&r!==void 0?r:!1;return{encodeHrTime:o?d5:sdt,encodeSpanContext:s?vve:Pw.hexToBinary,encodeOptionalSpanContext:s?vve:Ive}}mo.getOtlpEncoder=udt});var Rve=h(Cve=>{"use strict";l();Object.defineProperty(Cve,"__esModule",{value:!0})});var Nve=h(Ove=>{"use strict";l();Object.defineProperty(Ove,"__esModule",{value:!0})});var wve=h(qb=>{"use strict";l();Object.defineProperty(qb,"__esModule",{value:!0});qb.ESpanKind=void 0;var cdt;(function(t){t[t.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",t[t.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",t[t.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",t[t.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",t[t.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",t[t.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(cdt=qb.ESpanKind||(qb.ESpanKind={}))});var Mve=h(Pve=>{"use strict";l();Object.defineProperty(Pve,"__esModule",{value:!0})});var Yb=h(Vc=>{"use strict";l();Object.defineProperty(Vc,"__esModule",{value:!0});Vc.toAnyValue=Vc.toKeyValue=Vc.toAttributes=void 0;function ldt(t){return Object.keys(t).map(e=>f5(e,t[e]))}Vc.toAttributes=ldt;function f5(t,e){return{key:t,value:p5(e)}}Vc.toKeyValue=f5;function p5(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(p5)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,o])=>f5(r,o))}}:{}}Vc.toAnyValue=p5});var Dve=h(Fc=>{"use strict";l();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.toOtlpSpanEvent=Fc.toOtlpLink=Fc.sdkSpanToOtlpSpan=void 0;var h5=Yb();function ddt(t,e){var r;let o=t.spanContext(),s=t.status;return{traceId:e.encodeSpanContext(o.traceId),spanId:e.encodeSpanContext(o.spanId),parentSpanId:e.encodeOptionalSpanContext(t.parentSpanId),traceState:(r=o.traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:(0,h5.toAttributes)(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(a=>Bve(a,e)),droppedEventsCount:t.droppedEventsCount,status:{code:s.code,message:s.message},links:t.links.map(a=>xve(a,e)),droppedLinksCount:t.droppedLinksCount}}Fc.sdkSpanToOtlpSpan=ddt;function xve(t,e){var r;return{attributes:t.attributes?(0,h5.toAttributes)(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:(r=t.context.traceState)===null||r===void 0?void 0:r.serialize(),droppedAttributesCount:t.droppedAttributesCount||0}}Fc.toOtlpLink=xve;function Bve(t,e){return{attributes:t.attributes?(0,h5.toAttributes)(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}Fc.toOtlpSpanEvent=Bve});var Lve=h(Mw=>{"use strict";l();Object.defineProperty(Mw,"__esModule",{value:!0});Mw.createExportTraceServiceRequest=void 0;var fdt=Yb(),pdt=Dve(),hdt=Zb();function gdt(t,e){let r=(0,hdt.getOtlpEncoder)(e);return{resourceSpans:ydt(t,r)}}Mw.createExportTraceServiceRequest=gdt;function mdt(t){let e=new Map;for(let r of t){let o=e.get(r.resource);o||(o=new Map,e.set(r.resource,o));let s=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,a=o.get(s);a||(a=[],o.set(s,a)),a.push(r)}return e}function ydt(t,e){let r=mdt(t),o=[],s=r.entries(),a=s.next();for(;!a.done;){let[i,n]=a.value,u=[],c=n.values(),d=c.next();for(;!d.done;){let g=d.value;if(g.length>0){let{name:y,version:S,schemaUrl:T}=g[0].instrumentationLibrary,C=g.map(R=>(0,pdt.sdkSpanToOtlpSpan)(R,e));u.push({scope:{name:y,version:S},spans:C,schemaUrl:T})}d=c.next()}let f={resource:{attributes:(0,fdt.toAttributes)(i.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};o.push(f),a=s.next()}return o}});var Hve=h(Hc=>{"use strict";l();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.toMetric=Hc.toScopeMetrics=Hc.toResourceMetrics=void 0;var Uve=(j(),Y(K)),sm=eN(),xw=Yb(),_dt=Zb();function Sdt(t,e){let r=(0,_dt.getOtlpEncoder)(e);return{resource:{attributes:(0,xw.toAttributes)(t.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:Vve(t.scopeMetrics,r)}}Hc.toResourceMetrics=Sdt;function Vve(t,e){return Array.from(t.map(r=>({scope:{name:r.scope.name,version:r.scope.version},metrics:r.metrics.map(o=>Fve(o,e)),schemaUrl:r.scope.schemaUrl})))}Hc.toScopeMetrics=Vve;function Fve(t,e){let r={name:t.descriptor.name,description:t.descriptor.description,unit:t.descriptor.unit},o=Tdt(t.aggregationTemporality);switch(t.dataPointType){case sm.DataPointType.SUM:r.sum={aggregationTemporality:o,isMonotonic:t.isMonotonic,dataPoints:Gve(t,e)};break;case sm.DataPointType.GAUGE:r.gauge={dataPoints:Gve(t,e)};break;case sm.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:o,dataPoints:Edt(t,e)};break;case sm.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:o,dataPoints:vdt(t,e)};break}return r}Hc.toMetric=Fve;function bdt(t,e,r){let o={attributes:(0,xw.toAttributes)(t.attributes),startTimeUnixNano:r.encodeHrTime(t.startTime),timeUnixNano:r.encodeHrTime(t.endTime)};switch(e){case Uve.ValueType.INT:o.asInt=t.value;break;case Uve.ValueType.DOUBLE:o.asDouble=t.value;break}return o}function Gve(t,e){return t.dataPoints.map(r=>bdt(r,t.descriptor.valueType,e))}function Edt(t,e){return t.dataPoints.map(r=>{let o=r.value;return{attributes:(0,xw.toAttributes)(r.attributes),bucketCounts:o.buckets.counts,explicitBounds:o.buckets.boundaries,count:o.count,sum:o.sum,min:o.min,max:o.max,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function vdt(t,e){return t.dataPoints.map(r=>{let o=r.value;return{attributes:(0,xw.toAttributes)(r.attributes),count:o.count,min:o.min,max:o.max,sum:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},scale:o.scale,zeroCount:o.zeroCount,startTimeUnixNano:e.encodeHrTime(r.startTime),timeUnixNano:e.encodeHrTime(r.endTime)}})}function Tdt(t){switch(t){case sm.AggregationTemporality.DELTA:return 1;case sm.AggregationTemporality.CUMULATIVE:return 2}}});var kve=h(Bw=>{"use strict";l();Object.defineProperty(Bw,"__esModule",{value:!0});Bw.createExportMetricsServiceRequest=void 0;var Adt=Hve();function Idt(t,e){return{resourceMetrics:t.map(r=>(0,Adt.toResourceMetrics)(r,e))}}Bw.createExportMetricsServiceRequest=Idt});var Zve=h(am=>{"use strict";l();Object.defineProperty(am,"__esModule",{value:!0});am.toLogAttributes=am.createExportLogsServiceRequest=void 0;var Cdt=Zb(),g5=Yb();function Rdt(t,e){let r=(0,Cdt.getOtlpEncoder)(e);return{resourceLogs:Ndt(t,r)}}am.createExportLogsServiceRequest=Rdt;function Odt(t){let e=new Map;for(let r of t){let{resource:o,instrumentationScope:{name:s,version:a="",schemaUrl:i=""}}=r,n=e.get(o);n||(n=new Map,e.set(o,n));let u=`${s}@${a}:${i}`,c=n.get(u);c||(c=[],n.set(u,c)),c.push(r)}return e}function Ndt(t,e){let r=Odt(t);return Array.from(r,([o,s])=>({resource:{attributes:(0,g5.toAttributes)(o.attributes),droppedAttributesCount:0},scopeLogs:Array.from(s,([,a])=>{let{instrumentationScope:{name:i,version:n,schemaUrl:u}}=a[0];return{scope:{name:i,version:n},logRecords:a.map(c=>wdt(c,e)),schemaUrl:u}}),schemaUrl:void 0}))}function wdt(t,e){var r,o,s;return{timeUnixNano:e.encodeHrTime(t.hrTime),observedTimeUnixNano:e.encodeHrTime(t.hrTimeObserved),severityNumber:t.severityNumber,severityText:t.severityText,body:(0,g5.toAnyValue)(t.body),attributes:Wve(t.attributes),droppedAttributesCount:t.droppedAttributesCount,flags:(r=t.spanContext)===null||r===void 0?void 0:r.traceFlags,traceId:e.encodeOptionalSpanContext((o=t.spanContext)===null||o===void 0?void 0:o.traceId),spanId:e.encodeOptionalSpanContext((s=t.spanContext)===null||s===void 0?void 0:s.spanId)}}function Wve(t){return Object.keys(t).map(e=>(0,g5.toKeyValue)(e,t[e]))}am.toLogAttributes=Wve});var Dw=h(Dr=>{"use strict";l();var Pdt=Dr&&Dr.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),um=Dr&&Dr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Pdt(e,t,r)};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.createExportLogsServiceRequest=Dr.createExportMetricsServiceRequest=Dr.createExportTraceServiceRequest=void 0;um(Eve(),Dr);um(Zb(),Dr);um(Rve(),Dr);um(Nve(),Dr);um(wve(),Dr);um(Mve(),Dr);var Mdt=Lve();Object.defineProperty(Dr,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return Mdt.createExportTraceServiceRequest}});var xdt=kve();Object.defineProperty(Dr,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return xdt.createExportMetricsServiceRequest}});var Bdt=Zve();Object.defineProperty(Dr,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return Bdt.createExportLogsServiceRequest}})});var qve=h(Lw=>{"use strict";l();Object.defineProperty(Lw,"__esModule",{value:!0});Lw.VERSION=void 0;Lw.VERSION="0.48.0"});var Xve=h(Uw=>{"use strict";l();Object.defineProperty(Uw,"__esModule",{value:!0});Uw.OTLPTraceExporter=void 0;var cm=Ne(),Yve=hu(),jve=Sve(),Ddt=Dw(),Ldt=qve(),Kve="v1/traces",Udt=`http://localhost:4318/${Kve}`,Gdt={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Ldt.VERSION}`},m5=class extends jve.OTLPProtoExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),Gdt),cm.baggageUtils.parseKeyPairsIntoRecord((0,cm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),e.headers)}convert(e){return(0,Ddt.createExportTraceServiceRequest)(e)}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,cm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,Yve.appendRootPathToUrlIfNeeded)((0,cm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,cm.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,Yve.appendResourcePathToUrl)((0,cm.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Kve):Udt}getServiceClientType(){return jve.ServiceClientType.SPANS}};Uw.OTLPTraceExporter=m5});var zve=h(Gw=>{"use strict";l();Object.defineProperty(Gw,"__esModule",{value:!0});Gw.OTLPTraceExporter=void 0;var Vdt=Xve();Object.defineProperty(Gw,"OTLPTraceExporter",{enumerable:!0,get:function(){return Vdt.OTLPTraceExporter}})});var Jve=h(Vw=>{"use strict";l();Object.defineProperty(Vw,"__esModule",{value:!0});Vw.OTLPTraceExporter=void 0;var Fdt=zve();Object.defineProperty(Vw,"OTLPTraceExporter",{enumerable:!0,get:function(){return Fdt.OTLPTraceExporter}})});var $ve=h(Fw=>{"use strict";l();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.OTLPTraceExporter=void 0;var Hdt=Jve();Object.defineProperty(Fw,"OTLPTraceExporter",{enumerable:!0,get:function(){return Hdt.OTLPTraceExporter}})});var Qve=h(Hw=>{"use strict";l();Object.defineProperty(Hw,"__esModule",{value:!0});Hw.VERSION=void 0;Hw.VERSION="0.48.0"});var rTe=h(kw=>{"use strict";l();Object.defineProperty(kw,"__esModule",{value:!0});kw.OTLPTraceExporter=void 0;var lm=Ne(),kdt=hu(),eTe=hu(),Wdt=Dw(),Zdt=Qve(),tTe="v1/traces",qdt=`http://localhost:4318/${tTe}`,Ydt={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${Zdt.VERSION}`},y5=class extends kdt.OTLPExporterNodeBase{constructor(e={}){super(e),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),Ydt),lm.baggageUtils.parseKeyPairsIntoRecord((0,lm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),e.headers)}convert(e){return(0,Wdt.createExportTraceServiceRequest)(e,{useHex:!0,useLongBits:!1})}getDefaultUrl(e){return typeof e.url=="string"?e.url:(0,lm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,eTe.appendRootPathToUrlIfNeeded)((0,lm.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,lm.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,eTe.appendResourcePathToUrl)((0,lm.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,tTe):qdt}};kw.OTLPTraceExporter=y5});var nTe=h(Nf=>{"use strict";l();var jdt=Nf&&Nf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Kdt=Nf&&Nf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jdt(e,t,r)};Object.defineProperty(Nf,"__esModule",{value:!0});Kdt(rTe(),Nf)});var iTe=h(wf=>{"use strict";l();var Xdt=wf&&wf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),zdt=wf&&wf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Xdt(e,t,r)};Object.defineProperty(wf,"__esModule",{value:!0});zdt(nTe(),wf)});var oTe=h(Pf=>{"use strict";l();var Jdt=Pf&&Pf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),$dt=Pf&&Pf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Jdt(e,t,r)};Object.defineProperty(Pf,"__esModule",{value:!0});$dt(iTe(),Pf)});var pt=h(yo=>{"use strict";l();Object.defineProperty(yo,"__esModule",{value:!0});yo.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=yo.DEFAULT_MAX_SEND_MESSAGE_LENGTH=yo.Propagate=yo.LogVerbosity=yo.Status=void 0;var sTe;(function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(sTe||(yo.Status=sTe={}));var aTe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.ERROR=2]="ERROR",t[t.NONE=3]="NONE"})(aTe||(yo.LogVerbosity=aTe={}));var uTe;(function(t){t[t.DEADLINE=1]="DEADLINE",t[t.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",t[t.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",t[t.CANCELLATION=8]="CANCELLATION",t[t.DEFAULTS=65535]="DEFAULTS"})(uTe||(yo.Propagate=uTe={}));yo.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1;yo.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024});var _5=h((Jer,Qdt)=>{Qdt.exports={name:"@grpc/grpc-js",version:"1.10.1",description:"gRPC Library for Node - pure JS implementation",homepage:"https://grpc.io/",repository:"https://github.com/grpc/grpc-node/tree/master/packages/grpc-js",main:"build/src/index.js",engines:{node:"^8.13.0 || >=10.10.0"},keywords:[],author:{name:"Google Inc."},types:"build/src/index.d.ts",license:"Apache-2.0",devDependencies:{"@types/gulp":"^4.0.6","@types/gulp-mocha":"0.0.32","@types/lodash":"^4.14.186","@types/mocha":"^5.2.6","@types/ncp":"^2.0.1","@types/pify":"^3.0.2","@types/semver":"^7.3.9","@typescript-eslint/eslint-plugin":"^5.59.11","@typescript-eslint/parser":"^5.59.11","@typescript-eslint/typescript-estree":"^5.59.11","clang-format":"^1.0.55",eslint:"^8.42.0","eslint-config-prettier":"^8.8.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.2.1",execa:"^2.0.3",gulp:"^4.0.2","gulp-mocha":"^6.0.0",lodash:"^4.17.4",madge:"^5.0.1","mocha-jenkins-reporter":"^0.4.1",ncp:"^2.0.0",pify:"^4.0.1",prettier:"^2.8.8",rimraf:"^3.0.2",semver:"^7.3.5","ts-node":"^10.9.1",typescript:"^5.1.3"},contributors:[{name:"Google Inc."}],scripts:{build:"npm run compile",clean:"rimraf ./build",compile:"tsc -p .",format:'clang-format -i -style="{Language: JavaScript, BasedOnStyle: Google, ColumnLimit: 80}" src/*.ts test/*.ts',lint:"eslint src/*.ts test/*.ts",prepare:"npm run generate-types && npm run compile",test:"gulp test",check:"npm run lint",fix:"eslint --fix src/*.ts test/*.ts",pretest:"npm run generate-types && npm run generate-test-types && npm run compile",posttest:"npm run check && madge -c ./build/src","generate-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --includeDirs proto/ --include-dirs test/fixtures/ -O src/generated/ --grpcLib ../index channelz.proto","generate-test-types":"proto-loader-gen-types --keepCase --longs String --enums String --defaults --oneofs --includeComments --include-dirs test/fixtures/ -O test/generated/ --grpcLib ../../src/index test_service.proto"},dependencies:{"@grpc/proto-loader":"^0.7.8","@types/node":">=12.12.47"},files:["src/**/*.ts","build/src/**/*.{js,d.ts,js.map}","proto/*.proto","LICENSE","deps/envoy-api/envoy/api/v2/**/*.proto","deps/envoy-api/envoy/config/**/*.proto","deps/envoy-api/envoy/service/**/*.proto","deps/envoy-api/envoy/type/**/*.proto","deps/udpa/udpa/**/*.proto","deps/googleapis/google/api/*.proto","deps/googleapis/google/rpc/*.proto","deps/protoc-gen-validate/validate/**/*.proto"]}});var tr=h(Gn=>{"use strict";l();var S5,b5,E5,v5;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.isTracerEnabled=Gn.trace=Gn.log=Gn.setLoggerVerbosity=Gn.setLogger=Gn.getLogger=void 0;var kc=pt(),eft=require("process"),tft=_5().version,rft={error:(t,...e)=>{console.error("E "+t,...e)},info:(t,...e)=>{console.error("I "+t,...e)},debug:(t,...e)=>{console.error("D "+t,...e)}},Mf=rft,dm=kc.LogVerbosity.ERROR,nft=(b5=(S5=process.env.GRPC_NODE_VERBOSITY)!==null&&S5!==void 0?S5:process.env.GRPC_VERBOSITY)!==null&&b5!==void 0?b5:"";switch(nft.toUpperCase()){case"DEBUG":dm=kc.LogVerbosity.DEBUG;break;case"INFO":dm=kc.LogVerbosity.INFO;break;case"ERROR":dm=kc.LogVerbosity.ERROR;break;case"NONE":dm=kc.LogVerbosity.NONE;break;default:}var ift=()=>Mf;Gn.getLogger=ift;var oft=t=>{Mf=t};Gn.setLogger=oft;var sft=t=>{dm=t};Gn.setLoggerVerbosity=sft;var aft=(t,...e)=>{let r;if(t>=dm){switch(t){case kc.LogVerbosity.DEBUG:r=Mf.debug;break;case kc.LogVerbosity.INFO:r=Mf.info;break;case kc.LogVerbosity.ERROR:r=Mf.error;break}r||(r=Mf.error),r&&r.bind(Mf)(...e)}};Gn.log=aft;var uft=(v5=(E5=process.env.GRPC_NODE_TRACE)!==null&&E5!==void 0?E5:process.env.GRPC_TRACE)!==null&&v5!==void 0?v5:"",T5=new Set,cTe=new Set;for(let t of uft.split(","))t.startsWith("-")?cTe.add(t.substring(1)):T5.add(t);var cft=T5.has("all");function lft(t,e,r){lTe(e)&&(0,Gn.log)(t,new Date().toISOString()+" | v"+tft+" "+eft.pid+" | "+e+" | "+r)}Gn.trace=lft;function lTe(t){return!cTe.has(t)&&(cft||T5.has(t))}Gn.isTracerEnabled=lTe});var Ww=h(fm=>{"use strict";l();Object.defineProperty(fm,"__esModule",{value:!0});fm.getErrorCode=fm.getErrorMessage=void 0;function dft(t){return t instanceof Error?t.message:String(t)}fm.getErrorMessage=dft;function fft(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}fm.getErrorCode=fft});var Tn=h(qw=>{"use strict";l();Object.defineProperty(qw,"__esModule",{value:!0});qw.Metadata=void 0;var pft=tr(),hft=pt(),gft=Ww(),mft=/^[0-9a-z_.-]+$/,yft=/^[ -~]*$/;function _ft(t){return mft.test(t)}function Sft(t){return yft.test(t)}function fTe(t){return t.endsWith("-bin")}function bft(t){return!t.startsWith("grpc-")}function Zw(t){return t.toLowerCase()}function dTe(t,e){if(!_ft(t))throw new Error('Metadata key "'+t+'" contains illegal characters');if(e!=null)if(fTe(t)){if(!Buffer.isBuffer(e))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(e))throw new Error("keys that don't end with '-bin' must have String values");if(!Sft(e))throw new Error('Metadata string value "'+e+'" contains illegal characters')}}var A5=class t{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,r){e=Zw(e),dTe(e,r),this.internalRepr.set(e,[r])}add(e,r){e=Zw(e),dTe(e,r);let o=this.internalRepr.get(e);o===void 0?this.internalRepr.set(e,[r]):o.push(r)}remove(e){e=Zw(e),this.internalRepr.delete(e)}get(e){return e=Zw(e),this.internalRepr.get(e)||[]}getMap(){let e={};for(let[r,o]of this.internalRepr)if(o.length>0){let s=o[0];e[r]=Buffer.isBuffer(s)?Buffer.from(s):s}return e}clone(){let e=new t(this.options),r=e.internalRepr;for(let[o,s]of this.internalRepr){let a=s.map(i=>Buffer.isBuffer(i)?Buffer.from(i):i);r.set(o,a)}return e}merge(e){for(let[r,o]of e.internalRepr){let s=(this.internalRepr.get(r)||[]).concat(o);this.internalRepr.set(r,s)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){let e={};for(let[r,o]of this.internalRepr)e[r]=o.map(Eft);return e}toJSON(){let e={};for(let[r,o]of this.internalRepr)e[r]=o;return e}static fromHttp2Headers(e){let r=new t;for(let o of Object.keys(e)){if(o.charAt(0)===":")continue;let s=e[o];try{fTe(o)?Array.isArray(s)?s.forEach(a=>{r.add(o,Buffer.from(a,"base64"))}):s!==void 0&&(bft(o)?s.split(",").forEach(a=>{r.add(o,Buffer.from(a.trim(),"base64"))}):r.add(o,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach(a=>{r.add(o,a)}):s!==void 0&&r.add(o,s)}catch(a){let i=`Failed to add metadata entry ${o}: ${s}. ${(0,gft.getErrorMessage)(a)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,pft.log)(hft.LogVerbosity.ERROR,i)}}return r}};qw.Metadata=A5;var Eft=t=>Buffer.isBuffer(t)?t.toString("base64"):t});var N5=h(Yw=>{"use strict";l();Object.defineProperty(Yw,"__esModule",{value:!0});Yw.CallCredentials=void 0;var O5=Tn();function vft(t){return"getRequestHeaders"in t&&typeof t.getRequestHeaders=="function"}var pm=class t{static createFromMetadataGenerator(e){return new C5(e)}static createFromGoogleCredential(e){return t.createFromMetadataGenerator((r,o)=>{let s;vft(e)?s=e.getRequestHeaders(r.service_url):s=new Promise((a,i)=>{e.getRequestMetadata(r.service_url,(n,u)=>{if(n){i(n);return}if(!u){i(new Error("Headers not set by metadata plugin"));return}a(u)})}),s.then(a=>{let i=new O5.Metadata;for(let n of Object.keys(a))i.add(n,a[n]);o(null,i)},a=>{o(a)})})}static createEmpty(){return new R5}};Yw.CallCredentials=pm;var I5=class t extends pm{constructor(e){super(),this.creds=e}async generateMetadata(e){let r=new O5.Metadata,o=await Promise.all(this.creds.map(s=>s.generateMetadata(e)));for(let s of o)r.merge(s);return r}compose(e){return new t(this.creds.concat([e]))}_equals(e){return this===e?!0:e instanceof t?this.creds.every((r,o)=>r._equals(e.creds[o])):!1}},C5=class t extends pm{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise((r,o)=>{this.metadataGenerator(e,(s,a)=>{a!==void 0?r(a):o(s)})})}compose(e){return new I5([this,e])}_equals(e){return this===e?!0:e instanceof t?this.metadataGenerator===e.metadataGenerator:!1}},R5=class t extends pm{generateMetadata(e){return Promise.resolve(new O5.Metadata)}compose(e){return e}_equals(e){return e instanceof t}}});var P5=h(hm=>{"use strict";l();Object.defineProperty(hm,"__esModule",{value:!0});hm.getDefaultRootsData=hm.CIPHER_SUITES=void 0;var Tft=require("fs");hm.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;var pTe=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,w5=null;function Aft(){return pTe?(w5===null&&(w5=Tft.readFileSync(pTe)),w5):null}hm.getDefaultRootsData=Aft});var Xw=h(Kw=>{"use strict";l();Object.defineProperty(Kw,"__esModule",{value:!0});Kw.ChannelCredentials=void 0;var Ift=require("tls"),Cft=N5(),hTe=P5();function M5(t,e){if(t&&!(t instanceof Buffer))throw new TypeError(`${e}, if provided, must be a Buffer.`)}var gm=class{constructor(e){this.callCredentials=e||Cft.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,r,o,s){var a;if(M5(e,"Root certificate"),M5(r,"Private key"),M5(o,"Certificate chain"),r&&!o)throw new Error("Private key must be given with accompanying certificate chain");if(!r&&o)throw new Error("Certificate chain must be given with accompanying private key");let i=(0,Ift.createSecureContext)({ca:(a=e??(0,hTe.getDefaultRootsData)())!==null&&a!==void 0?a:void 0,key:r??void 0,cert:o??void 0,ciphers:hTe.CIPHER_SUITES});return new jw(i,s??{})}static createFromSecureContext(e,r){return new jw(e,r??{})}static createInsecure(){return new x5}};Kw.ChannelCredentials=gm;var x5=class t extends gm{constructor(){super()}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof t}},jw=class t extends gm{constructor(e,r){super(),this.secureContext=e,this.verifyOptions=r,this.connectionOptions={secureContext:e},r?.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=r.checkServerIdentity)}compose(e){let r=this.callCredentials.compose(e);return new B5(this,r)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity:!1}},B5=class t extends gm{constructor(e,r){super(r),this.channelCredentials=e}compose(e){let r=this.callCredentials.compose(e);return new t(this.channelCredentials,r)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e?!0:e instanceof t?this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials):!1}}});var xf=h(Lr=>{"use strict";l();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.selectLbConfigFromList=Lr.getDefaultConfig=Lr.parseLoadBalancingConfig=Lr.isLoadBalancerNameRegistered=Lr.createLoadBalancer=Lr.registerDefaultLoadBalancerType=Lr.registerLoadBalancerType=Lr.createChildChannelControlHelper=void 0;var Rft=tr(),Oft=pt();function Nft(t,e){var r,o,s,a,i,n,u,c,d,f;return{createSubchannel:(o=(r=e.createSubchannel)===null||r===void 0?void 0:r.bind(e))!==null&&o!==void 0?o:t.createSubchannel.bind(t),updateState:(a=(s=e.updateState)===null||s===void 0?void 0:s.bind(e))!==null&&a!==void 0?a:t.updateState.bind(t),requestReresolution:(n=(i=e.requestReresolution)===null||i===void 0?void 0:i.bind(e))!==null&&n!==void 0?n:t.requestReresolution.bind(t),addChannelzChild:(c=(u=e.addChannelzChild)===null||u===void 0?void 0:u.bind(e))!==null&&c!==void 0?c:t.addChannelzChild.bind(t),removeChannelzChild:(f=(d=e.removeChannelzChild)===null||d===void 0?void 0:d.bind(e))!==null&&f!==void 0?f:t.removeChannelzChild.bind(t)}}Lr.createChildChannelControlHelper=Nft;var Wc={},jb=null;function wft(t,e,r){Wc[t]={LoadBalancer:e,LoadBalancingConfig:r}}Lr.registerLoadBalancerType=wft;function Pft(t){jb=t}Lr.registerDefaultLoadBalancerType=Pft;function Mft(t,e,r){let o=t.getLoadBalancerName();return o in Wc?new Wc[o].LoadBalancer(e,r):null}Lr.createLoadBalancer=Mft;function xft(t){return t in Wc}Lr.isLoadBalancerNameRegistered=xft;function gTe(t){let e=Object.keys(t);if(e.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");let r=e[0];if(r in Wc)try{return Wc[r].LoadBalancingConfig.createFromJson(t[r])}catch(o){throw new Error(`${r}: ${o.message}`)}else throw new Error(`Unrecognized load balancing config name ${r}`)}Lr.parseLoadBalancingConfig=gTe;function Bft(){if(!jb)throw new Error("No default load balancer type registered");return new Wc[jb].LoadBalancingConfig}Lr.getDefaultConfig=Bft;function Dft(t,e=!1){for(let r of t)try{return gTe(r)}catch(o){(0,Rft.log)(Oft.LogVerbosity.DEBUG,"Config parsing failed with error",o.message);continue}return e&&jb?new Wc[jb].LoadBalancingConfig:null}Lr.selectLbConfigFromList=Dft});var D5=h(Zc=>{"use strict";l();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.extractAndSelectServiceConfig=Zc.validateServiceConfig=Zc.validateRetryThrottling=void 0;var Lft=require("os"),zw=pt(),Jw=/^\d+(\.\d{1,9})?s$/,Uft="node";function Gft(t){if("service"in t&&t.service!==""){if(typeof t.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof t.service}`);if("method"in t&&t.method!==""){if(typeof t.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof t.service}`);return{service:t.service,method:t.method}}else return{service:t.service}}else{if("method"in t&&t.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function Vft(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in t)||typeof t.initialBackoff!="string"||!Jw.test(t.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in t)||typeof t.maxBackoff!="string"||!Jw.test(t.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in t)||typeof t.backoffMultiplier!="number"||t.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in t&&Array.isArray(t.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(t.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let e of t.retryableStatusCodes)if(typeof e=="number"){if(!Object.values(zw.Status).includes(e))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof e=="string"){if(!Object.values(zw.Status).includes(e.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:t.maxAttempts,initialBackoff:t.initialBackoff,maxBackoff:t.maxBackoff,backoffMultiplier:t.backoffMultiplier,retryableStatusCodes:t.retryableStatusCodes}}function Fft(t){if(!("maxAttempts"in t)||!Number.isInteger(t.maxAttempts)||t.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in t&&(typeof t.hedgingDelay!="string"||!Jw.test(t.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in t&&Array.isArray(t.nonFatalStatusCodes))for(let r of t.nonFatalStatusCodes)if(typeof r=="number"){if(!Object.values(zw.Status).includes(r))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof r=="string"){if(!Object.values(zw.Status).includes(r.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let e={maxAttempts:t.maxAttempts};return t.hedgingDelay&&(e.hedgingDelay=t.hedgingDelay),t.nonFatalStatusCodes&&(e.nonFatalStatusCodes=t.nonFatalStatusCodes),e}function Hft(t){var e;let r={name:[]};if(!("name"in t)||!Array.isArray(t.name))throw new Error("Invalid method config: invalid name array");for(let o of t.name)r.name.push(Gft(o));if("waitForReady"in t){if(typeof t.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=t.waitForReady}if("timeout"in t)if(typeof t.timeout=="object"){if(!("seconds"in t.timeout)||typeof t.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in t.timeout)||typeof t.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=t.timeout}else if(typeof t.timeout=="string"&&Jw.test(t.timeout)){let o=t.timeout.substring(0,t.timeout.length-1).split(".");r.timeout={seconds:o[0]|0,nanos:((e=o[1])!==null&&e!==void 0?e:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in t){if(typeof t.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=t.maxRequestBytes}if("maxResponseBytes"in t){if(typeof t.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=t.maxResponseBytes}if("retryPolicy"in t){if("hedgingPolicy"in t)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=Vft(t.retryPolicy)}else"hedgingPolicy"in t&&(r.hedgingPolicy=Fft(t.hedgingPolicy));return r}function mTe(t){if(!("maxTokens"in t)||typeof t.maxTokens!="number"||t.maxTokens<=0||t.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in t)||typeof t.tokenRatio!="number"||t.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+t.maxTokens.toFixed(3),tokenRatio:+t.tokenRatio.toFixed(3)}}Zc.validateRetryThrottling=mTe;function kft(t){if(!(typeof t=="object"&&t!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof t}`);let e=Object.keys(t);if(e.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${e}`);if(e.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[e[0]]:t[e[0]]}}function yTe(t){let e={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in t)if(typeof t.loadBalancingPolicy=="string")e.loadBalancingPolicy=t.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in t)if(Array.isArray(t.loadBalancingConfig))for(let o of t.loadBalancingConfig)e.loadBalancingConfig.push(kft(o));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in t&&Array.isArray(t.methodConfig))for(let o of t.methodConfig)e.methodConfig.push(Hft(o));"retryThrottling"in t&&(e.retryThrottling=mTe(t.retryThrottling));let r=[];for(let o of e.methodConfig)for(let s of o.name){for(let a of r)if(s.service===a.service&&s.method===a.method)throw new Error(`Invalid service config: duplicate name ${s.service}/${s.method}`);r.push(s)}return e}Zc.validateServiceConfig=yTe;function Wft(t){if(!("serviceConfig"in t))throw new Error("Invalid service config choice: missing service config");let e={serviceConfig:yTe(t.serviceConfig)};if("clientLanguage"in t)if(Array.isArray(t.clientLanguage)){e.clientLanguage=[];for(let o of t.clientLanguage)if(typeof o=="string")e.clientLanguage.push(o);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in t)if(Array.isArray(t.clientHostname)){e.clientHostname=[];for(let o of t.clientHostname)if(typeof o=="string")e.clientHostname.push(o);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in t)if(typeof t.percentage=="number"&&0<=t.percentage&&t.percentage<=100)e.percentage=t.percentage;else throw new Error("Invalid service config choice: invalid percentage");let r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let o in t)if(!r.includes(o))throw new Error(`Invalid service config choice: unexpected field ${o}`);return e}function Zft(t,e){if(!Array.isArray(t))throw new Error("Invalid service config list");for(let r of t){let o=Wft(r);if(!(typeof o.percentage=="number"&&e>o.percentage)){if(Array.isArray(o.clientHostname)){let s=!1;for(let a of o.clientHostname)a===Lft.hostname()&&(s=!0);if(!s)continue}if(Array.isArray(o.clientLanguage)){let s=!1;for(let a of o.clientLanguage)a===Uft&&(s=!0);if(!s)continue}return o.serviceConfig}}throw new Error("No matching service config found")}function qft(t,e){for(let r of t)if(r.length>0&&r[0].startsWith("grpc_config=")){let o=r.join("").substring(12),s=JSON.parse(o);return Zft(s,e)}return null}Zc.extractAndSelectServiceConfig=qft});var _o=h($w=>{"use strict";l();Object.defineProperty($w,"__esModule",{value:!0});$w.ConnectivityState=void 0;var _Te;(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.READY=2]="READY",t[t.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",t[t.SHUTDOWN=4]="SHUTDOWN"})(_Te||($w.ConnectivityState=_Te={}))});var Bi=h(Js=>{"use strict";l();Object.defineProperty(Js,"__esModule",{value:!0});Js.uriToString=Js.combineHostPort=Js.splitHostPort=Js.parseUri=void 0;var Yft=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function jft(t){let e=Yft.exec(t);return e===null?null:{scheme:e[1],authority:e[2],path:e[3]}}Js.parseUri=jft;var STe=/^\d+$/;function Kft(t){if(t.startsWith("[")){let e=t.indexOf("]");if(e===-1)return null;let r=t.substring(1,e);if(r.indexOf(":")===-1)return null;if(t.length>e+1)if(t[e+1]===":"){let o=t.substring(e+2);return STe.test(o)?{host:r,port:+o}:null}else return null;else return{host:r}}else{let e=t.split(":");return e.length===2?STe.test(e[1])?{host:e[0],port:+e[1]}:null:{host:t}}}Js.splitHostPort=Kft;function Xft(t){return t.port===void 0?t.host:t.host.includes(":")?`[${t.host}]:${t.port}`:`${t.host}:${t.port}`}Js.combineHostPort=Xft;function zft(t){let e="";return t.scheme!==void 0&&(e+=t.scheme+":"),t.authority!==void 0&&(e+="//"+t.authority+"/"),e+=t.path,e}Js.uriToString=zft});var $s=h(So=>{"use strict";l();Object.defineProperty(So,"__esModule",{value:!0});So.mapUriDefaultScheme=So.getDefaultAuthority=So.createResolver=So.registerDefaultScheme=So.registerResolver=void 0;var U5=Bi(),mm={},L5=null;function Jft(t,e){mm[t]=e}So.registerResolver=Jft;function $ft(t){L5=t}So.registerDefaultScheme=$ft;function Qft(t,e,r){if(t.scheme!==void 0&&t.scheme in mm)return new mm[t.scheme](t,e,r);throw new Error(`No resolver could be created for target ${(0,U5.uriToString)(t)}`)}So.createResolver=Qft;function ept(t){if(t.scheme!==void 0&&t.scheme in mm)return mm[t.scheme].getDefaultAuthority(t);throw new Error(`Invalid target ${(0,U5.uriToString)(t)}`)}So.getDefaultAuthority=ept;function tpt(t){return t.scheme===void 0||!(t.scheme in mm)?L5!==null?{scheme:L5,authority:void 0,path:(0,U5.uriToString)(t)}:null:t}So.mapUriDefaultScheme=tpt});var Yc=h(qc=>{"use strict";l();Object.defineProperty(qc,"__esModule",{value:!0});qc.QueuePicker=qc.UnavailablePicker=qc.PickResultType=void 0;var rpt=Tn(),npt=pt(),Qw;(function(t){t[t.COMPLETE=0]="COMPLETE",t[t.QUEUE=1]="QUEUE",t[t.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",t[t.DROP=3]="DROP"})(Qw||(qc.PickResultType=Qw={}));var G5=class{constructor(e){this.status=Object.assign({code:npt.Status.UNAVAILABLE,details:"No connection established",metadata:new rpt.Metadata},e)}pick(e){return{pickResultType:Qw.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}};qc.UnavailablePicker=G5;var V5=class{constructor(e,r){this.loadBalancer=e,this.childPicker=r,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(e):{pickResultType:Qw.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}};qc.QueuePicker=V5});var Kb=h(eP=>{"use strict";l();Object.defineProperty(eP,"__esModule",{value:!0});eP.BackoffTimeout=void 0;var ipt=1e3,opt=1.6,spt=12e4,apt=.2;function upt(t,e){return Math.random()*(e-t)+t}var F5=class{constructor(e,r){this.callback=e,this.initialDelay=ipt,this.multiplier=opt,this.maxDelay=spt,this.jitter=apt,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,r&&(r.initialDelay&&(this.initialDelay=r.initialDelay),r.multiplier&&(this.multiplier=r.multiplier),r.jitter&&(this.jitter=r.jitter),r.maxDelay&&(this.maxDelay=r.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(e){var r,o;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},e),this.hasRef||(o=(r=this.timerId).unref)===null||o===void 0||o.call(r)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=e*this.jitter;this.nextDelay=e+upt(-r,r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let e=new Date,r=this.startTime;r.setMilliseconds(r.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<r?this.runTimer(r.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,r;this.hasRef=!0,(r=(e=this.timerId).ref)===null||r===void 0||r.call(e)}unref(){var e,r;this.hasRef=!1,(r=(e=this.timerId).unref)===null||r===void 0||r.call(e)}getEndTime(){return this.endTime}};eP.BackoffTimeout=F5});var rP=h(tP=>{"use strict";l();Object.defineProperty(tP,"__esModule",{value:!0});tP.ChildLoadBalancerHandler=void 0;var cpt=xf(),lpt=_o(),dpt="child_load_balancer_helper",H5=class{constructor(e,r){this.channelControlHelper=e,this.options=r,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(o){this.parent=o,this.child=null}createSubchannel(o,s){return this.parent.channelControlHelper.createSubchannel(o,s)}updateState(o,s){var a;if(this.calledByPendingChild()){if(o===lpt.ConnectivityState.CONNECTING)return;(a=this.parent.currentChild)===null||a===void 0||a.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(o,s)}requestReresolution(){var o;let s=(o=this.parent.pendingChild)!==null&&o!==void 0?o:this.parent.currentChild;this.child===s&&this.parent.channelControlHelper.requestReresolution()}setChild(o){this.child=o}addChannelzChild(o){this.parent.channelControlHelper.addChannelzChild(o)}removeChannelzChild(o){this.parent.channelControlHelper.removeChannelzChild(o)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(e,r){return e.getLoadBalancerName()!==r.getLoadBalancerName()}updateAddressList(e,r,o){let s;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,r)){let a=new this.ChildPolicyHelper(this),i=(0,cpt.createLoadBalancer)(r,a,this.options);a.setChild(i),this.currentChild===null?(this.currentChild=i,s=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=i,s=this.pendingChild)}else this.pendingChild===null?s=this.currentChild:s=this.pendingChild;this.latestConfig=r,s.updateAddressList(e,r,o)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return dpt}};tP.ChildLoadBalancerHandler=H5});var ETe=h(nP=>{"use strict";l();Object.defineProperty(nP,"__esModule",{value:!0});nP.ResolvingLoadBalancer=void 0;var fpt=xf(),ppt=D5(),ci=_o(),hpt=$s(),Xb=Yc(),gpt=Kb(),k5=pt(),mpt=Tn(),ypt=tr(),_pt=pt(),Spt=Bi(),bpt=rP(),Ept="resolving_load_balancer";function bTe(t){ypt.trace(_pt.LogVerbosity.DEBUG,Ept,t)}var vpt=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function Tpt(t,e,r,o){for(let s of r.name)switch(o){case"EMPTY":if(!s.service&&!s.method)return!0;break;case"SERVICE":if(s.service===t&&!s.method)return!0;break;case"SERVICE_AND_METHOD":if(s.service===t&&s.method===e)return!0}return!1}function Apt(t,e,r,o){for(let s of r)if(Tpt(t,e,s,o))return s;return null}function Ipt(t){return function(r,o){var s,a;let i=r.split("/").filter(c=>c.length>0),n=(s=i[0])!==null&&s!==void 0?s:"",u=(a=i[1])!==null&&a!==void 0?a:"";if(t&&t.methodConfig)for(let c of vpt){let d=Apt(n,u,t.methodConfig,c);if(d)return{methodConfig:d,pickInformation:{},status:k5.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:k5.Status.OK,dynamicFilterFactories:[]}}}var W5=class{constructor(e,r,o,s,a){this.target=e,this.channelControlHelper=r,this.onSuccessfulResolution=s,this.onFailedResolution=a,this.latestChildState=ci.ConnectivityState.IDLE,this.latestChildPicker=new Xb.QueuePicker(this),this.currentState=ci.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,o["grpc.service_config"]?this.defaultServiceConfig=(0,ppt.validateServiceConfig)(JSON.parse(o["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(ci.ConnectivityState.IDLE,new Xb.QueuePicker(this)),this.childLoadBalancer=new bpt.ChildLoadBalancerHandler({createSubchannel:r.createSubchannel.bind(r),requestReresolution:()=>{this.backoffTimeout.isRunning()?(bTe("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(n,u)=>{this.latestChildState=n,this.latestChildPicker=u,this.updateState(n,u)},addChannelzChild:r.addChannelzChild.bind(r),removeChannelzChild:r.removeChannelzChild.bind(r)},o),this.innerResolver=(0,hpt.createResolver)(e,{onSuccessfulResolution:(n,u,c,d,f)=>{var g;this.backoffTimeout.stop(),this.backoffTimeout.reset();let y=null;u===null?c===null?(this.previousServiceConfig=null,y=this.defaultServiceConfig):this.previousServiceConfig===null?this.handleResolutionFailure(c):y=this.previousServiceConfig:(y=u,this.previousServiceConfig=u);let S=(g=y?.loadBalancingConfig)!==null&&g!==void 0?g:[],T=(0,fpt.selectLbConfigFromList)(S,!0);if(T===null){this.handleResolutionFailure({code:k5.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new mpt.Metadata});return}this.childLoadBalancer.updateAddressList(n,T,f);let C=y??this.defaultServiceConfig;this.onSuccessfulResolution(C,d??Ipt(C))},onError:n=>{this.handleResolutionFailure(n)}},o);let i={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new gpt.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},i),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===ci.ConnectivityState.IDLE&&this.updateState(ci.ConnectivityState.CONNECTING,this.latestChildPicker),this.backoffTimeout.runOnce()}updateState(e,r){bTe((0,Spt.uriToString)(this.target)+" "+ci.ConnectivityState[this.currentState]+" -> "+ci.ConnectivityState[e]),e===ci.ConnectivityState.IDLE&&(r=new Xb.QueuePicker(this,r)),this.currentState=e,this.channelControlHelper.updateState(e,r)}handleResolutionFailure(e){this.latestChildState===ci.ConnectivityState.IDLE&&(this.updateState(ci.ConnectivityState.TRANSIENT_FAILURE,new Xb.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){(this.currentState===ci.ConnectivityState.IDLE||this.currentState===ci.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,r){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=ci.ConnectivityState.IDLE,this.latestChildPicker=new Xb.QueuePicker(this),this.currentState=ci.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}};nP.ResolvingLoadBalancer=W5});var vTe=h(ym=>{"use strict";l();Object.defineProperty(ym,"__esModule",{value:!0});ym.channelOptionsEqual=ym.recognizedOptions=void 0;ym.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0};function Cpt(t,e){let r=Object.keys(t).sort(),o=Object.keys(e).sort();if(r.length!==o.length)return!1;for(let s=0;s<r.length;s+=1)if(r[s]!==o[s]||t[r[s]]!==e[o[s]])return!1;return!0}ym.channelOptionsEqual=Cpt});var ts=h(Ur=>{"use strict";l();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.EndpointMap=Ur.endpointHasAddress=Ur.endpointToString=Ur.endpointEqual=Ur.stringToSubchannelAddress=Ur.subchannelAddressToString=Ur.subchannelAddressEqual=Ur.isTcpSubchannelAddress=void 0;var Rpt=require("net");function Jb(t){return"port"in t}Ur.isTcpSubchannelAddress=Jb;function iP(t,e){return!t&&!e?!0:!t||!e?!1:Jb(t)?Jb(e)&&t.host===e.host&&t.port===e.port:!Jb(e)&&t.path===e.path}Ur.subchannelAddressEqual=iP;function TTe(t){return Jb(t)?t.host+":"+t.port:t.path}Ur.subchannelAddressToString=TTe;var Opt=443;function Npt(t,e){return(0,Rpt.isIP)(t)?{host:t,port:e??Opt}:{path:t}}Ur.stringToSubchannelAddress=Npt;function wpt(t,e){if(t.addresses.length!==e.addresses.length)return!1;for(let r=0;r<t.addresses.length;r++)if(!iP(t.addresses[r],e.addresses[r]))return!1;return!0}Ur.endpointEqual=wpt;function Ppt(t){return"["+t.addresses.map(TTe).join(", ")+"]"}Ur.endpointToString=Ppt;function ATe(t,e){for(let r of t.addresses)if(iP(r,e))return!0;return!1}Ur.endpointHasAddress=ATe;function zb(t,e){if(t.addresses.length!==e.addresses.length)return!1;for(let r of t.addresses){let o=!1;for(let s of e.addresses)if(iP(r,s)){o=!0;break}if(!o)return!1}return!0}var Z5=class{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(e){for(let r of this.map)if(ATe(r.key,e))return r.value}deleteMissing(e){let r=[];for(let o of this.map){let s=!1;for(let a of e)zb(a,o.key)&&(s=!0);s||(r.push(o.value),this.map.delete(o))}return r}get(e){for(let r of this.map)if(zb(e,r.key))return r.value}set(e,r){for(let o of this.map)if(zb(e,o.key)){o.value=r;return}this.map.add({key:e,value:r})}delete(e){for(let r of this.map)if(zb(e,r.key)){this.map.delete(r);return}}has(e){for(let r of this.map)if(zb(e,r.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(let e of this.map)yield e.key}*values(){for(let e of this.map)yield e.value}*entries(){for(let e of this.map)yield[e.key,e.value]}};Ur.EndpointMap=Z5});var oP=h(_m=>{"use strict";l();Object.defineProperty(_m,"__esModule",{value:!0});_m.addAdminServicesToServer=_m.registerAdminService=void 0;var ITe=[];function Mpt(t,e){ITe.push({getServiceDefinition:t,getHandlers:e})}_m.registerAdminService=Mpt;function xpt(t){for(let{getServiceDefinition:e,getHandlers:r}of ITe)t.addService(e(),r())}_m.addAdminServicesToServer=xpt});var CTe=h(bo=>{"use strict";l();Object.defineProperty(bo,"__esModule",{value:!0});bo.ClientDuplexStreamImpl=bo.ClientWritableStreamImpl=bo.ClientReadableStreamImpl=bo.ClientUnaryCallImpl=bo.callErrorFromStatus=void 0;var Bpt=require("events"),X5=require("stream"),$b=pt();function Dpt(t,e){let r=`${t.code} ${$b.Status[t.code]}: ${t.details}`,s=`${new Error(r).stack}
for call at
${e}`;return Object.assign(new Error(r),t,{stack:s})}bo.callErrorFromStatus=Dpt;var q5=class extends Bpt.EventEmitter{constructor(){super()}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus($b.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}};bo.ClientUnaryCallImpl=q5;var Y5=class extends X5.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus($b.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead()}};bo.ClientReadableStreamImpl=Y5;var j5=class extends X5.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus($b.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_write(e,r,o){var s;let a={callback:o},i=Number(r);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e()}};bo.ClientWritableStreamImpl=j5;var K5=class extends X5.Duplex{constructor(e,r){super({objectMode:!0}),this.serialize=e,this.deserialize=r}cancel(){var e;(e=this.call)===null||e===void 0||e.cancelWithStatus($b.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,r;return(r=(e=this.call)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:"unknown"}_read(e){var r;(r=this.call)===null||r===void 0||r.startRead()}_write(e,r,o){var s;let a={callback:o},i=Number(r);Number.isNaN(i)||(a.flags=i),(s=this.call)===null||s===void 0||s.sendMessageWithContext(a,e)}_final(e){var r;(r=this.call)===null||r===void 0||r.halfClose(),e()}};bo.ClientDuplexStreamImpl=K5});var RTe=h(Sm=>{"use strict";l();Object.defineProperty(Sm,"__esModule",{value:!0});Sm.InterceptingListenerImpl=Sm.isInterceptingListener=void 0;function Lpt(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}Sm.isInterceptingListener=Lpt;var z5=class{constructor(e,r){this.listener=e,this.nextListener=r,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(r),this.processPendingStatus())})}onReceiveStatus(e){this.listener.onReceiveStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextListener.onReceiveStatus(r)})}};Sm.InterceptingListenerImpl=z5});var nq=h(Eo=>{"use strict";l();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.getInterceptingCall=Eo.InterceptingCall=Eo.RequesterBuilder=Eo.ListenerBuilder=Eo.InterceptorConfigurationError=void 0;var Upt=Tn(),OTe=RTe(),NTe=pt(),wTe=Ww(),eE=class t extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,t)}};Eo.InterceptorConfigurationError=eE;var $5=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}};Eo.ListenerBuilder=$5;var Q5=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};Eo.RequesterBuilder=Q5;var J5={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveStatus:(t,e)=>{e(t)}},Qb={start:(t,e,r)=>{r(t,e)},sendMessage:(t,e)=>{e(t)},halfClose:t=>{t()},cancel:t=>{t()}},eq=class{constructor(e,r){var o,s,a,i;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,r?this.requester={start:(o=r.start)!==null&&o!==void 0?o:Qb.start,sendMessage:(s=r.sendMessage)!==null&&s!==void 0?s:Qb.sendMessage,halfClose:(a=r.halfClose)!==null&&a!==void 0?a:Qb.halfClose,cancel:(i=r.cancel)!==null&&i!==void 0?i:Qb.cancel}:this.requester=Qb}cancelWithStatus(e,r){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(e,r)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,r){var o,s,a,i,n,u;let c={onReceiveMetadata:(s=(o=r?.onReceiveMetadata)===null||o===void 0?void 0:o.bind(r))!==null&&s!==void 0?s:d=>{},onReceiveMessage:(i=(a=r?.onReceiveMessage)===null||a===void 0?void 0:a.bind(r))!==null&&i!==void 0?i:d=>{},onReceiveStatus:(u=(n=r?.onReceiveStatus)===null||n===void 0?void 0:n.bind(r))!==null&&u!==void 0?u:d=>{}};this.processingMetadata=!0,this.requester.start(e,c,(d,f)=>{var g,y,S;this.processingMetadata=!1;let T;if((0,OTe.isInterceptingListener)(f))T=f;else{let C={onReceiveMetadata:(g=f.onReceiveMetadata)!==null&&g!==void 0?g:J5.onReceiveMetadata,onReceiveMessage:(y=f.onReceiveMessage)!==null&&y!==void 0?y:J5.onReceiveMessage,onReceiveStatus:(S=f.onReceiveStatus)!==null&&S!==void 0?S:J5.onReceiveStatus};T=new OTe.InterceptingListenerImpl(C,c)}this.nextCall.start(d,T),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(e,r){this.processingMessage=!0,this.requester.sendMessage(r,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=r):(this.nextCall.sendMessageWithContext(e,o),this.processPendingHalfClose())})}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}};Eo.InterceptingCall=eq;function Gpt(t,e,r){var o,s;let a=(o=r.deadline)!==null&&o!==void 0?o:1/0,i=r.host,n=(s=r.parent)!==null&&s!==void 0?s:null,u=r.propagate_flags,c=r.credentials,d=t.createCall(e,a,i,n,u);return c&&d.setCredentials(c),d}var sP=class{constructor(e,r){this.call=e,this.methodDefinition=r}cancelWithStatus(e,r){this.call.cancelWithStatus(e,r)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,r){let o;try{o=this.methodDefinition.requestSerialize(r)}catch(s){this.call.cancelWithStatus(NTe.Status.INTERNAL,`Request message serialization failure: ${(0,wTe.getErrorMessage)(s)}`);return}this.call.sendMessageWithContext(e,o)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,r){let o=null;this.call.start(e,{onReceiveMetadata:s=>{var a;(a=r?.onReceiveMetadata)===null||a===void 0||a.call(r,s)},onReceiveMessage:s=>{var a;let i;try{i=this.methodDefinition.responseDeserialize(s)}catch(n){o={code:NTe.Status.INTERNAL,details:`Response message parsing error: ${(0,wTe.getErrorMessage)(n)}`,metadata:new Upt.Metadata},this.call.cancelWithStatus(o.code,o.details);return}(a=r?.onReceiveMessage)===null||a===void 0||a.call(r,i)},onReceiveStatus:s=>{var a,i;o?(a=r?.onReceiveStatus)===null||a===void 0||a.call(r,o):(i=r?.onReceiveStatus)===null||i===void 0||i.call(r,s)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}},tq=class extends sP{constructor(e,r){super(e,r)}start(e,r){var o,s;let a=!1,i={onReceiveMetadata:(s=(o=r?.onReceiveMetadata)===null||o===void 0?void 0:o.bind(r))!==null&&s!==void 0?s:n=>{},onReceiveMessage:n=>{var u;a=!0,(u=r?.onReceiveMessage)===null||u===void 0||u.call(r,n)},onReceiveStatus:n=>{var u,c;a||(u=r?.onReceiveMessage)===null||u===void 0||u.call(r,null),(c=r?.onReceiveStatus)===null||c===void 0||c.call(r,n)}};super.start(e,i),this.call.startRead()}},rq=class extends sP{};function Vpt(t,e,r){let o=Gpt(t,r.path,e);return r.responseStream?new rq(o,r):new tq(o,r)}function Fpt(t,e,r,o){if(t.clientInterceptors.length>0&&t.clientInterceptorProviders.length>0)throw new eE("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(t.callInterceptors.length>0&&t.callInterceptorProviders.length>0)throw new eE("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let s=[];t.callInterceptors.length>0||t.callInterceptorProviders.length>0?s=[].concat(t.callInterceptors,t.callInterceptorProviders.map(n=>n(e))).filter(n=>n):s=[].concat(t.clientInterceptors,t.clientInterceptorProviders.map(n=>n(e))).filter(n=>n);let a=Object.assign({},r,{method_definition:e});return s.reduceRight((n,u)=>c=>u(c,n),n=>Vpt(o,n,e))(a)}Eo.getInterceptingCall=Fpt});var sq=h(uP=>{"use strict";l();Object.defineProperty(uP,"__esModule",{value:!0});uP.Client=void 0;var Qs=CTe(),Hpt=aq(),kpt=_o(),jc=pt(),bm=Tn(),aP=nq(),rs=Symbol(),Em=Symbol(),vm=Symbol(),gu=Symbol();function iq(t){return typeof t=="function"}function Tm(t){return t.stack.split(`
`).slice(1).join(`
`)}var oq=class{constructor(e,r,o={}){var s,a;if(o=Object.assign({},o),this[Em]=(s=o.interceptors)!==null&&s!==void 0?s:[],delete o.interceptors,this[vm]=(a=o.interceptor_providers)!==null&&a!==void 0?a:[],delete o.interceptor_providers,this[Em].length>0&&this[vm].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[gu]=o.callInvocationTransformer,delete o.callInvocationTransformer,o.channelOverride)this[rs]=o.channelOverride;else if(o.channelFactoryOverride){let i=o.channelFactoryOverride;delete o.channelFactoryOverride,this[rs]=i(e,r,o)}else this[rs]=new Hpt.ChannelImplementation(e,r,o)}close(){this[rs].close()}getChannel(){return this[rs]}waitForReady(e,r){let o=s=>{if(s){r(new Error("Failed to connect before the deadline"));return}let a;try{a=this[rs].getConnectivityState(!0)}catch{r(new Error("The channel has been closed"));return}if(a===kpt.ConnectivityState.READY)r();else try{this[rs].watchConnectivityState(a,e,o)}catch{r(new Error("The channel has been closed"))}};setImmediate(o)}checkOptionalUnaryResponseArguments(e,r,o){if(iq(e))return{metadata:new bm.Metadata,options:{},callback:e};if(iq(r))return e instanceof bm.Metadata?{metadata:e,options:{},callback:r}:{metadata:new bm.Metadata,options:e,callback:r};if(!(e instanceof bm.Metadata&&r instanceof Object&&iq(o)))throw new Error("Incorrect arguments passed");return{metadata:e,options:r,callback:o}}makeUnaryRequest(e,r,o,s,a,i,n){var u,c;let d=this.checkOptionalUnaryResponseArguments(a,i,n),f={path:e,requestStream:!1,responseStream:!1,requestSerialize:r,responseDeserialize:o},g={argument:s,metadata:d.metadata,call:new Qs.ClientUnaryCallImpl,channel:this[rs],methodDefinition:f,callOptions:d.options,callback:d.callback};this[gu]&&(g=this[gu](g));let y=g.call,S={clientInterceptors:this[Em],clientInterceptorProviders:this[vm],callInterceptors:(u=g.callOptions.interceptors)!==null&&u!==void 0?u:[],callInterceptorProviders:(c=g.callOptions.interceptor_providers)!==null&&c!==void 0?c:[]},T=(0,aP.getInterceptingCall)(S,g.methodDefinition,g.callOptions,g.channel);y.call=T;let C=null,R=!1,P=new Error;return T.start(g.metadata,{onReceiveMetadata:M=>{y.emit("metadata",M)},onReceiveMessage(M){C!==null&&T.cancelWithStatus(jc.Status.INTERNAL,"Too many responses received"),C=M},onReceiveStatus(M){if(!R){if(R=!0,M.code===jc.Status.OK)if(C===null){let x=Tm(P);g.callback((0,Qs.callErrorFromStatus)({code:jc.Status.INTERNAL,details:"No message received",metadata:M.metadata},x))}else g.callback(null,C);else{let x=Tm(P);g.callback((0,Qs.callErrorFromStatus)(M,x))}P=null,y.emit("status",M)}}}),T.sendMessage(s),T.halfClose(),y}makeClientStreamRequest(e,r,o,s,a,i){var n,u;let c=this.checkOptionalUnaryResponseArguments(s,a,i),d={path:e,requestStream:!0,responseStream:!1,requestSerialize:r,responseDeserialize:o},f={metadata:c.metadata,call:new Qs.ClientWritableStreamImpl(r),channel:this[rs],methodDefinition:d,callOptions:c.options,callback:c.callback};this[gu]&&(f=this[gu](f));let g=f.call,y={clientInterceptors:this[Em],clientInterceptorProviders:this[vm],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(u=f.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},S=(0,aP.getInterceptingCall)(y,f.methodDefinition,f.callOptions,f.channel);g.call=S;let T=null,C=!1,R=new Error;return S.start(f.metadata,{onReceiveMetadata:P=>{g.emit("metadata",P)},onReceiveMessage(P){T!==null&&S.cancelWithStatus(jc.Status.INTERNAL,"Too many responses received"),T=P},onReceiveStatus(P){if(!C){if(C=!0,P.code===jc.Status.OK)if(T===null){let M=Tm(R);f.callback((0,Qs.callErrorFromStatus)({code:jc.Status.INTERNAL,details:"No message received",metadata:P.metadata},M))}else f.callback(null,T);else{let M=Tm(R);f.callback((0,Qs.callErrorFromStatus)(P,M))}R=null,g.emit("status",P)}}}),g}checkMetadataAndOptions(e,r){let o,s;return e instanceof bm.Metadata?(o=e,r?s=r:s={}):(e?s=e:s={},o=new bm.Metadata),{metadata:o,options:s}}makeServerStreamRequest(e,r,o,s,a,i){var n,u;let c=this.checkMetadataAndOptions(a,i),d={path:e,requestStream:!1,responseStream:!0,requestSerialize:r,responseDeserialize:o},f={argument:s,metadata:c.metadata,call:new Qs.ClientReadableStreamImpl(o),channel:this[rs],methodDefinition:d,callOptions:c.options};this[gu]&&(f=this[gu](f));let g=f.call,y={clientInterceptors:this[Em],clientInterceptorProviders:this[vm],callInterceptors:(n=f.callOptions.interceptors)!==null&&n!==void 0?n:[],callInterceptorProviders:(u=f.callOptions.interceptor_providers)!==null&&u!==void 0?u:[]},S=(0,aP.getInterceptingCall)(y,f.methodDefinition,f.callOptions,f.channel);g.call=S;let T=!1,C=new Error;return S.start(f.metadata,{onReceiveMetadata(R){g.emit("metadata",R)},onReceiveMessage(R){g.push(R)},onReceiveStatus(R){if(!T){if(T=!0,g.push(null),R.code!==jc.Status.OK){let P=Tm(C);g.emit("error",(0,Qs.callErrorFromStatus)(R,P))}C=null,g.emit("status",R)}}}),S.sendMessage(s),S.halfClose(),g}makeBidiStreamRequest(e,r,o,s,a){var i,n;let u=this.checkMetadataAndOptions(s,a),c={path:e,requestStream:!0,responseStream:!0,requestSerialize:r,responseDeserialize:o},d={metadata:u.metadata,call:new Qs.ClientDuplexStreamImpl(r,o),channel:this[rs],methodDefinition:c,callOptions:u.options};this[gu]&&(d=this[gu](d));let f=d.call,g={clientInterceptors:this[Em],clientInterceptorProviders:this[vm],callInterceptors:(i=d.callOptions.interceptors)!==null&&i!==void 0?i:[],callInterceptorProviders:(n=d.callOptions.interceptor_providers)!==null&&n!==void 0?n:[]},y=(0,aP.getInterceptingCall)(g,d.methodDefinition,d.callOptions,d.channel);f.call=y;let S=!1,T=new Error;return y.start(d.metadata,{onReceiveMetadata(C){f.emit("metadata",C)},onReceiveMessage(C){f.push(C)},onReceiveStatus(C){if(!S){if(S=!0,f.push(null),C.code!==jc.Status.OK){let R=Tm(T);f.emit("error",(0,Qs.callErrorFromStatus)(C,R))}T=null,f.emit("status",C)}}}),f}};uP.Client=oq});var cq=h(Am=>{"use strict";l();Object.defineProperty(Am,"__esModule",{value:!0});Am.loadPackageDefinition=Am.makeClientConstructor=void 0;var tE=sq(),Wpt={unary:tE.Client.prototype.makeUnaryRequest,server_stream:tE.Client.prototype.makeServerStreamRequest,client_stream:tE.Client.prototype.makeClientStreamRequest,bidi:tE.Client.prototype.makeBidiStreamRequest};function uq(t){return["__proto__","prototype","constructor"].includes(t)}function PTe(t,e,r){r||(r={});class o extends tE.Client{}return Object.keys(t).forEach(s=>{if(uq(s))return;let a=t[s],i;if(typeof s=="string"&&s.charAt(0)==="$")throw new Error("Method names cannot start with $");a.requestStream?a.responseStream?i="bidi":i="client_stream":a.responseStream?i="server_stream":i="unary";let n=a.requestSerialize,u=a.responseDeserialize,c=Zpt(Wpt[i],a.path,n,u);o.prototype[s]=c,Object.assign(o.prototype[s],a),a.originalName&&!uq(a.originalName)&&(o.prototype[a.originalName]=o.prototype[s])}),o.service=t,o.serviceName=e,o}Am.makeClientConstructor=PTe;function Zpt(t,e,r,o){return function(...s){return t.call(this,e,r,o,...s)}}function qpt(t){return"format"in t}function Ypt(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let o=t[r],s=r.split(".");if(s.some(n=>uq(n)))continue;let a=s[s.length-1],i=e;for(let n of s.slice(0,-1))i[n]||(i[n]={}),i=i[n];qpt(o)?i[a]=o:i[a]=PTe(o,a,{})}return e}Am.loadPackageDefinition=Ypt});var rAe=h((qtr,tAe)=>{l();var jpt=1/0,Kpt="[object Symbol]",Xpt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zpt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lP="\\ud800-\\udfff",VTe="\\u0300-\\u036f\\ufe20-\\ufe23",FTe="\\u20d0-\\u20f0",HTe="\\u2700-\\u27bf",kTe="a-z\\xdf-\\xf6\\xf8-\\xff",Jpt="\\xac\\xb1\\xd7\\xf7",$pt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qpt="\\u2000-\\u206f",eht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",WTe="A-Z\\xc0-\\xd6\\xd8-\\xde",ZTe="\\ufe0e\\ufe0f",qTe=Jpt+$pt+Qpt+eht,dq="['\u2019]",tht="["+lP+"]",MTe="["+qTe+"]",cP="["+VTe+FTe+"]",YTe="\\d+",rht="["+HTe+"]",jTe="["+kTe+"]",KTe="[^"+lP+qTe+YTe+HTe+kTe+WTe+"]",lq="\\ud83c[\\udffb-\\udfff]",nht="(?:"+cP+"|"+lq+")",XTe="[^"+lP+"]",fq="(?:\\ud83c[\\udde6-\\uddff]){2}",pq="[\\ud800-\\udbff][\\udc00-\\udfff]",Im="["+WTe+"]",zTe="\\u200d",xTe="(?:"+jTe+"|"+KTe+")",iht="(?:"+Im+"|"+KTe+")",BTe="(?:"+dq+"(?:d|ll|m|re|s|t|ve))?",DTe="(?:"+dq+"(?:D|LL|M|RE|S|T|VE))?",JTe=nht+"?",$Te="["+ZTe+"]?",oht="(?:"+zTe+"(?:"+[XTe,fq,pq].join("|")+")"+$Te+JTe+")*",QTe=$Te+JTe+oht,sht="(?:"+[rht,fq,pq].join("|")+")"+QTe,aht="(?:"+[XTe+cP+"?",cP,fq,pq,tht].join("|")+")",uht=RegExp(dq,"g"),cht=RegExp(cP,"g"),lht=RegExp(lq+"(?="+lq+")|"+aht+QTe,"g"),dht=RegExp([Im+"?"+jTe+"+"+BTe+"(?="+[MTe,Im,"$"].join("|")+")",iht+"+"+DTe+"(?="+[MTe,Im+xTe,"$"].join("|")+")",Im+"?"+xTe+"+"+BTe,Im+"+"+DTe,YTe,sht].join("|"),"g"),fht=RegExp("["+zTe+lP+VTe+FTe+ZTe+"]"),pht=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hht={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"ss"},ght=typeof global=="object"&&global&&global.Object===Object&&global,mht=typeof self=="object"&&self&&self.Object===Object&&self,yht=ght||mht||Function("return this")();function _ht(t,e,r,o){var s=-1,a=t?t.length:0;for(o&&a&&(r=t[++s]);++s<a;)r=e(r,t[s],s,t);return r}function Sht(t){return t.split("")}function bht(t){return t.match(Xpt)||[]}function Eht(t){return function(e){return t?.[e]}}var vht=Eht(hht);function eAe(t){return fht.test(t)}function Tht(t){return pht.test(t)}function Aht(t){return eAe(t)?Iht(t):Sht(t)}function Iht(t){return t.match(lht)||[]}function Cht(t){return t.match(dht)||[]}var Rht=Object.prototype,Oht=Rht.toString,LTe=yht.Symbol,UTe=LTe?LTe.prototype:void 0,GTe=UTe?UTe.toString:void 0;function Nht(t,e,r){var o=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(s);++o<s;)a[o]=t[o+e];return a}function wht(t){if(typeof t=="string")return t;if(Dht(t))return GTe?GTe.call(t):"";var e=t+"";return e=="0"&&1/t==-jpt?"-0":e}function Pht(t,e,r){var o=t.length;return r=r===void 0?o:r,!e&&r>=o?t:Nht(t,e,r)}function Mht(t){return function(e){e=dP(e);var r=eAe(e)?Aht(e):void 0,o=r?r[0]:e.charAt(0),s=r?Pht(r,1).join(""):e.slice(1);return o[t]()+s}}function xht(t){return function(e){return _ht(Fht(Ght(e).replace(uht,"")),t,"")}}function Bht(t){return!!t&&typeof t=="object"}function Dht(t){return typeof t=="symbol"||Bht(t)&&Oht.call(t)==Kpt}function dP(t){return t==null?"":wht(t)}var Lht=xht(function(t,e,r){return e=e.toLowerCase(),t+(r?Uht(e):e)});function Uht(t){return Vht(dP(t).toLowerCase())}function Ght(t){return t=dP(t),t&&t.replace(zpt,vht).replace(cht,"")}var Vht=Mht("toUpperCase");function Fht(t,e,r){return t=dP(t),e=r?void 0:e,e===void 0?Tht(t)?Cht(t):bht(t):t.match(e)||[]}tAe.exports=Lht});var iAe=h((jtr,nAe)=>{"use strict";l();nAe.exports=hq;function hq(t,e){typeof t=="string"&&(e=t,t=void 0);var r=[];function o(a){if(typeof a!="string"){var i=s();if(hq.verbose&&console.log("codegen: "+i),i="return "+i,a){for(var n=Object.keys(a),u=new Array(n.length+1),c=new Array(n.length),d=0;d<n.length;)u[d]=n[d],c[d]=a[n[d++]];return u[d]=i,Function.apply(null,u).apply(null,c)}return Function(i)()}for(var f=new Array(arguments.length-1),g=0;g<f.length;)f[g]=arguments[++g];if(g=0,a=a.replace(/%([%dfijs])/g,function(S,T){var C=f[g++];switch(T){case"d":case"f":return String(Number(C));case"i":return String(Math.floor(C));case"j":return JSON.stringify(C);case"s":return String(C)}return"%"}),g!==f.length)throw Error("parameter count mismatch");return r.push(a),o}function s(a){return"function "+(a||e||"")+"("+(t&&t.join(",")||"")+`){
  `+r.join(`
  `)+`
}`}return o.toString=s,o}hq.verbose=!1});var sAe=h((Xtr,oAe)=>{"use strict";l();oAe.exports=rE;var Hht=kZ(),kht=WZ(),gq=kht("fs");function rE(t,e,r){return typeof e=="function"?(r=e,e={}):e||(e={}),r?!e.xhr&&gq&&gq.readFile?gq.readFile(t,function(s,a){return s&&typeof XMLHttpRequest<"u"?rE.xhr(t,e,r):s?r(s):r(null,e.binary?a:a.toString("utf8"))}):rE.xhr(t,e,r):Hht(rE,this,t,e)}rE.xhr=function(e,r,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return o(Error("status "+s.status));if(r.binary){var i=s.response;if(!i){i=[];for(var n=0;n<s.responseText.length;++n)i.push(s.responseText.charCodeAt(n)&255)}return o(null,typeof Uint8Array<"u"?new Uint8Array(i):i)}return o(null,s.responseText)}},r.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()}});var cAe=h(uAe=>{"use strict";l();var yq=uAe,aAe=yq.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},mq=yq.normalize=function(e){e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var r=e.split("/"),o=aAe(e),s="";o&&(s=r.shift()+"/");for(var a=0;a<r.length;)r[a]===".."?a>0&&r[a-1]!==".."?r.splice(--a,2):o?r.splice(a,1):++a:r[a]==="."?r.splice(a,1):++a;return s+r.join("/")};yq.resolve=function(e,r,o){return o||(r=mq(r)),aAe(r)?r:(o||(e=mq(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?mq(e+"/"+r):r)}});var Bf=h(lAe=>{"use strict";l();var nE=lAe,Wht=Gr(),Zht=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function iE(t,e){var r=0,o={};for(e|=0;r<t.length;)o[Zht[r+e]]=t[r++];return o}nE.basic=iE([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]);nE.defaults=iE([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",Wht.emptyArray,null]);nE.long=iE([0,0,0,1,1],7);nE.mapKey=iE([0,0,0,5,5,0,0,0,1,1,0,2],2);nE.packed=iE([1,5,0,0,0,5,5,0,0,0,1,1,0])});var Kc=h((trr,pAe)=>{"use strict";l();pAe.exports=vo;var fP=Df();((vo.prototype=Object.create(fP.prototype)).constructor=vo).className="Field";var dAe=ns(),fAe=Bf(),Er=Gr(),_q,qht=/^required|optional|repeated$/;vo.fromJSON=function(e,r){return new vo(e,r.id,r.type,r.rule,r.extend,r.options,r.comment)};function vo(t,e,r,o,s,a,i){if(Er.isObject(o)?(i=s,a=o,o=s=void 0):Er.isObject(s)&&(i=a,a=s,s=void 0),fP.call(this,t,a),!Er.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!Er.isString(r))throw TypeError("type must be a string");if(o!==void 0&&!qht.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(s!==void 0&&!Er.isString(s))throw TypeError("extend must be a string");o==="proto3_optional"&&(o="optional"),this.rule=o&&o!=="optional"?o:void 0,this.type=r,this.id=e,this.extend=s||void 0,this.required=o==="required",this.optional=!this.required,this.repeated=o==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=Er.Long?fAe.long[r]!==void 0:!1,this.bytes=r==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=i}Object.defineProperty(vo.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}});vo.prototype.setOption=function(e,r,o){return e==="packed"&&(this._packed=null),fP.prototype.setOption.call(this,e,r,o)};vo.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return Er.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};vo.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=fAe.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof _q?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof dAe&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof dAe))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=Er.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var e;Er.base64.test(this.typeDefault)?Er.base64.decode(this.typeDefault,e=Er.newBuffer(Er.base64.length(this.typeDefault)),0):Er.utf8.write(this.typeDefault,e=Er.newBuffer(Er.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=Er.emptyObject:this.repeated?this.defaultValue=Er.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof _q&&(this.parent.ctor.prototype[this.name]=this.defaultValue),fP.prototype.resolve.call(this)};vo.d=function(e,r,o,s){return typeof r=="function"?r=Er.decorateType(r).name:r&&typeof r=="object"&&(r=Er.decorateEnum(r).name),function(i,n){Er.decorateType(i.constructor).add(new vo(n,e,r,o,{default:s}))}};vo._configure=function(e){_q=e}});var Cm=h((nrr,mAe)=>{"use strict";l();mAe.exports=To;var hP=Df();((To.prototype=Object.create(hP.prototype)).constructor=To).className="OneOf";var hAe=Kc(),pP=Gr();function To(t,e,r,o){if(Array.isArray(e)||(r=e,e=void 0),hP.call(this,t,r),!(e===void 0||Array.isArray(e)))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=o}To.fromJSON=function(e,r){return new To(e,r.oneof,r.options,r.comment)};To.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return pP.toObject(["options",this.options,"oneof",this.oneof,"comment",r?this.comment:void 0])};function gAe(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}To.prototype.add=function(e){if(!(e instanceof hAe))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,gAe(this),this};To.prototype.remove=function(e){if(!(e instanceof hAe))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(e);if(r<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(r,1),r=this.oneof.indexOf(e.name),r>-1&&this.oneof.splice(r,1),e.partOf=null,this};To.prototype.onAdd=function(e){hP.prototype.onAdd.call(this,e);for(var r=this,o=0;o<this.oneof.length;++o){var s=e.get(this.oneof[o]);s&&!s.partOf&&(s.partOf=r,r.fieldsArray.push(s))}gAe(this)};To.prototype.onRemove=function(e){for(var r=0,o;r<this.fieldsArray.length;++r)(o=this.fieldsArray[r]).parent&&o.parent.remove(o);hP.prototype.onRemove.call(this,e)};To.d=function(){for(var e=new Array(arguments.length),r=0;r<arguments.length;)e[r]=arguments[r++];return function(s,a){pP.decorateType(s.constructor).add(new To(a,e)),Object.defineProperty(s,a,{get:pP.oneOfGetter(e),set:pP.oneOfSetter(e)})}}});var Nm=h((orr,bAe)=>{"use strict";l();bAe.exports=St;var Sq=Df();((St.prototype=Object.create(Sq.prototype)).constructor=St).className="Namespace";var yAe=Kc(),gP=Gr(),Yht=Cm(),Rm,oE,Om;St.fromJSON=function(e,r){return new St(e,r.options).addJSON(r.nested)};function _Ae(t,e){if(t&&t.length){for(var r={},o=0;o<t.length;++o)r[t[o].name]=t[o].toJSON(e);return r}}St.arrayToJSON=_Ae;St.isReservedId=function(e,r){if(e){for(var o=0;o<e.length;++o)if(typeof e[o]!="string"&&e[o][0]<=r&&e[o][1]>r)return!0}return!1};St.isReservedName=function(e,r){if(e){for(var o=0;o<e.length;++o)if(e[o]===r)return!0}return!1};function St(t,e){Sq.call(this,t,e),this.nested=void 0,this._nestedArray=null}function SAe(t){return t._nestedArray=null,t}Object.defineProperty(St.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=gP.toArray(this.nested))}});St.prototype.toJSON=function(e){return gP.toObject(["options",this.options,"nested",_Ae(this.nestedArray,e)])};St.prototype.addJSON=function(e){var r=this;if(e)for(var o=Object.keys(e),s=0,a;s<o.length;++s)a=e[o[s]],r.add((a.fields!==void 0?Rm.fromJSON:a.values!==void 0?Om.fromJSON:a.methods!==void 0?oE.fromJSON:a.id!==void 0?yAe.fromJSON:St.fromJSON)(o[s],a));return this};St.prototype.get=function(e){return this.nested&&this.nested[e]||null};St.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof Om)return this.nested[e].values;throw Error("no such enum: "+e)};St.prototype.add=function(e){if(!(e instanceof yAe&&e.extend!==void 0||e instanceof Rm||e instanceof Yht||e instanceof Om||e instanceof oE||e instanceof St))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var r=this.get(e.name);if(r)if(r instanceof St&&e instanceof St&&!(r instanceof Rm||r instanceof oE)){for(var o=r.nestedArray,s=0;s<o.length;++s)e.add(o[s]);this.remove(r),this.nested||(this.nested={}),e.setOptions(r.options,!0)}else throw Error("duplicate name '"+e.name+"' in "+this)}return this.nested[e.name]=e,e.onAdd(this),SAe(this)};St.prototype.remove=function(e){if(!(e instanceof Sq))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),SAe(this)};St.prototype.define=function(e,r){if(gP.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&e[0]==="")throw Error("path must be relative");for(var o=this;e.length>0;){var s=e.shift();if(o.nested&&o.nested[s]){if(o=o.nested[s],!(o instanceof St))throw Error("path conflicts with non-namespace objects")}else o.add(o=new St(s))}return r&&o.addJSON(r),o};St.prototype.resolveAll=function(){for(var e=this.nestedArray,r=0;r<e.length;)e[r]instanceof St?e[r++].resolveAll():e[r++].resolve();return this.resolve()};St.prototype.lookup=function(e,r,o){if(typeof r=="boolean"?(o=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),gP.isString(e)&&e.length){if(e===".")return this.root;e=e.split(".")}else if(!e.length)return this;if(e[0]==="")return this.root.lookup(e.slice(1),r);var s=this.get(e[0]);if(s){if(e.length===1){if(!r||r.indexOf(s.constructor)>-1)return s}else if(s instanceof St&&(s=s.lookup(e.slice(1),r,!0)))return s}else for(var a=0;a<this.nestedArray.length;++a)if(this._nestedArray[a]instanceof St&&(s=this._nestedArray[a].lookup(e,r,!0)))return s;return this.parent===null||o?null:this.parent.lookup(e,r)};St.prototype.lookupType=function(e){var r=this.lookup(e,[Rm]);if(!r)throw Error("no such type: "+e);return r};St.prototype.lookupEnum=function(e){var r=this.lookup(e,[Om]);if(!r)throw Error("no such Enum '"+e+"' in "+this);return r};St.prototype.lookupTypeOrEnum=function(e){var r=this.lookup(e,[Rm,Om]);if(!r)throw Error("no such Type or Enum '"+e+"' in "+this);return r};St.prototype.lookupService=function(e){var r=this.lookup(e,[oE]);if(!r)throw Error("no such Service '"+e+"' in "+this);return r};St._configure=function(t,e,r){Rm=t,oE=e,Om=r}});var mP=h((arr,EAe)=>{"use strict";l();EAe.exports=mu;var bq=Kc();((mu.prototype=Object.create(bq.prototype)).constructor=mu).className="MapField";var jht=Bf(),sE=Gr();function mu(t,e,r,o,s,a){if(bq.call(this,t,e,o,void 0,void 0,s,a),!sE.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}mu.fromJSON=function(e,r){return new mu(e,r.id,r.keyType,r.type,r.options,r.comment)};mu.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return sE.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",r?this.comment:void 0])};mu.prototype.resolve=function(){if(this.resolved)return this;if(jht.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return bq.prototype.resolve.call(this)};mu.d=function(e,r,o){return typeof o=="function"?o=sE.decorateType(o).name:o&&typeof o=="object"&&(o=sE.decorateEnum(o).name),function(a,i){sE.decorateType(a.constructor).add(new mu(i,e,r,o))}}});var yP=h((crr,vAe)=>{"use strict";l();vAe.exports=Lf;var Eq=Df();((Lf.prototype=Object.create(Eq.prototype)).constructor=Lf).className="Method";var wm=Gr();function Lf(t,e,r,o,s,a,i,n,u){if(wm.isObject(s)?(i=s,s=a=void 0):wm.isObject(a)&&(i=a,a=void 0),!(e===void 0||wm.isString(e)))throw TypeError("type must be a string");if(!wm.isString(r))throw TypeError("requestType must be a string");if(!wm.isString(o))throw TypeError("responseType must be a string");Eq.call(this,t,i),this.type=e||"rpc",this.requestType=r,this.requestStream=s?!0:void 0,this.responseType=o,this.responseStream=a?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=n,this.parsedOptions=u}Lf.fromJSON=function(e,r){return new Lf(e,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)};Lf.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return wm.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",r?this.comment:void 0,"parsedOptions",this.parsedOptions])};Lf.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),Eq.prototype.resolve.call(this))}});var _P=h((drr,AAe)=>{"use strict";l();AAe.exports=Ao;var Xc=Nm();((Ao.prototype=Object.create(Xc.prototype)).constructor=Ao).className="Service";var vq=yP(),aE=Gr(),Kht=t5();function Ao(t,e){Xc.call(this,t,e),this.methods={},this._methodsArray=null}Ao.fromJSON=function(e,r){var o=new Ao(e,r.options);if(r.methods)for(var s=Object.keys(r.methods),a=0;a<s.length;++a)o.add(vq.fromJSON(s[a],r.methods[s[a]]));return r.nested&&o.addJSON(r.nested),o.comment=r.comment,o};Ao.prototype.toJSON=function(e){var r=Xc.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return aE.toObject(["options",r&&r.options||void 0,"methods",Xc.arrayToJSON(this.methodsArray,e)||{},"nested",r&&r.nested||void 0,"comment",o?this.comment:void 0])};Object.defineProperty(Ao.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=aE.toArray(this.methods))}});function TAe(t){return t._methodsArray=null,t}Ao.prototype.get=function(e){return this.methods[e]||Xc.prototype.get.call(this,e)};Ao.prototype.resolveAll=function(){for(var e=this.methodsArray,r=0;r<e.length;++r)e[r].resolve();return Xc.prototype.resolve.call(this)};Ao.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof vq?(this.methods[e.name]=e,e.parent=this,TAe(this)):Xc.prototype.add.call(this,e)};Ao.prototype.remove=function(e){if(e instanceof vq){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,TAe(this)}return Xc.prototype.remove.call(this,e)};Ao.prototype.create=function(e,r,o){for(var s=new Kht.Service(e,r,o),a=0,i;a<this.methodsArray.length;++a){var n=aE.lcFirst((i=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");s[n]=aE.codegen(["r","c"],aE.isReserved(n)?n+"_":n)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return s}});var SP=h((prr,IAe)=>{"use strict";l();IAe.exports=ea;var Xht=Xs();function ea(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]]}ea.create=function(e){return this.$type.create(e)};ea.encode=function(e,r){return this.$type.encode(e,r)};ea.encodeDelimited=function(e,r){return this.$type.encodeDelimited(e,r)};ea.decode=function(e){return this.$type.decode(e)};ea.decodeDelimited=function(e){return this.$type.decodeDelimited(e)};ea.verify=function(e){return this.$type.verify(e)};ea.fromObject=function(e){return this.$type.fromObject(e)};ea.toObject=function(e,r){return this.$type.toObject(e,r)};ea.prototype.toJSON=function(){return this.$type.toObject(this,Xht.toJSONOptions)}});var Tq=h((grr,RAe)=>{"use strict";l();RAe.exports=$ht;var zht=ns(),yu=Bf(),CAe=Gr();function Jht(t){return"missing required '"+t.name+"'"}function $ht(t){var e=CAe.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(n){return n.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var o=t._fieldsArray[r].resolve(),s=o.resolvedType instanceof zht?"int32":o.type,a="m"+CAe.safeProp(o.name);e("case %i: {",o.id),o.map?(e("if(%s===util.emptyObject)",a)("%s={}",a)("var c2 = r.uint32()+r.pos"),yu.defaults[o.keyType]!==void 0?e("k=%j",yu.defaults[o.keyType]):e("k=null"),yu.defaults[s]!==void 0?e("value=%j",yu.defaults[s]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),yu.basic[s]===void 0?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",s),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),yu.long[o.keyType]!==void 0?e('%s[typeof k==="object"?util.longToHash(k):k]=value',a):e("%s[k]=value",a)):o.repeated?(e("if(!(%s&&%s.length))",a,a)("%s=[]",a),yu.packed[s]!==void 0&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",a,s)("}else"),yu.basic[s]===void 0?e(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",a,r):e("%s.push(r.%s())",a,s)):yu.basic[s]===void 0?e(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",a,r):e("%s=r.%s()",a,s),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var i=t._fieldsArray[r];i.required&&e("if(!m.hasOwnProperty(%j))",i.name)("throw util.ProtocolError(%j,{instance:m})",Jht(i))}return e("return m")}});var Cq=h((yrr,OAe)=>{"use strict";l();OAe.exports=tgt;var Qht=ns(),Aq=Gr();function Io(t,e){return t.name+": "+e+(t.repeated&&e!=="array"?"[]":t.map&&e!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function Iq(t,e,r,o){if(e.resolvedType)if(e.resolvedType instanceof Qht){t("switch(%s){",o)("default:")("return%j",Io(e,"enum value"));for(var s=Object.keys(e.resolvedType.values),a=0;a<s.length;++a)t("case %i:",e.resolvedType.values[s[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",o)("return%j",Io(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",Io(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',o)("return%j",Io(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',o)("return%j",Io(e,"boolean"));break;case"string":t("if(!util.isString(%s))",o)("return%j",Io(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",Io(e,"buffer"));break}return t}function egt(t,e,r){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",Io(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",Io(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",r)("return%j",Io(e,"boolean key"));break}return t}function tgt(t){var e=Aq.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=t.oneofsArray,o={};r.length&&e("var p={}");for(var s=0;s<t.fieldsArray.length;++s){var a=t._fieldsArray[s].resolve(),i="m"+Aq.safeProp(a.name);if(a.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",i,a.name),a.map)e("if(!util.isObject(%s))",i)("return%j",Io(a,"object"))("var k=Object.keys(%s)",i)("for(var i=0;i<k.length;++i){"),egt(e,a,"k[i]"),Iq(e,a,s,i+"[k[i]]")("}");else if(a.repeated)e("if(!Array.isArray(%s))",i)("return%j",Io(a,"array"))("for(var i=0;i<%s.length;++i){",i),Iq(e,a,s,i+"[i]")("}");else{if(a.partOf){var n=Aq.safeProp(a.partOf.name);o[a.partOf.name]===1&&e("if(p%s===1)",n)("return%j",a.partOf.name+": multiple values"),o[a.partOf.name]=1,e("p%s=1",n)}Iq(e,a,s,i)}a.optional&&e("}")}return e("return null")}});var Nq=h(wAe=>{"use strict";l();var NAe=wAe,uE=ns(),ta=Gr();function Rq(t,e,r,o){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof uE){t("switch(d%s){",o);for(var a=e.resolvedType.values,i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]===e.typeDefault&&!s&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',o,o,o),e.repeated||t("break"),s=!0),t("case%j:",i[n])("case %i:",a[i[n]])("m%s=%j",o,a[i[n]])("break");t("}")}else t('if(typeof d%s!=="object")',o)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,r,o);else{var u=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",o,o);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,u)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length >= 0)",o)("m%s=d%s",o,o);break;case"string":t("m%s=String(d%s)",o,o);break;case"bool":t("m%s=Boolean(d%s)",o,o);break}}return t}NAe.fromObject=function(e){var r=e.fieldsArray,o=ta.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return o("return new this.ctor");o("var m=new this.ctor");for(var s=0;s<r.length;++s){var a=r[s].resolve(),i=ta.safeProp(a.name);a.map?(o("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),Rq(o,a,s,i+"[ks[i]]")("}")("}")):a.repeated?(o("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),Rq(o,a,s,i+"[i]")("}")("}")):(a.resolvedType instanceof uE||o("if(d%s!=null){",i),Rq(o,a,s,i),a.resolvedType instanceof uE||o("}"))}return o("return m")};function Oq(t,e,r,o){if(e.resolvedType)e.resolvedType instanceof uE?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",o,r,o,o,r,o,o):t("d%s=types[%i].toObject(m%s,o)",o,r,o);else{var s=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,s?"true":"",o);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:t("d%s=m%s",o,o);break}}return t}NAe.toObject=function(e){var r=e.fieldsArray.slice().sort(ta.compareFieldsById);if(!r.length)return ta.codegen()("return {}");for(var o=ta.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),s=[],a=[],i=[],n=0;n<r.length;++n)r[n].partOf||(r[n].resolve().repeated?s:r[n].map?a:i).push(r[n]);if(s.length){for(o("if(o.arrays||o.defaults){"),n=0;n<s.length;++n)o("d%s=[]",ta.safeProp(s[n].name));o("}")}if(a.length){for(o("if(o.objects||o.defaults){"),n=0;n<a.length;++n)o("d%s={}",ta.safeProp(a[n].name));o("}")}if(i.length){for(o("if(o.defaults){"),n=0;n<i.length;++n){var u=i[n],c=ta.safeProp(u.name);if(u.resolvedType instanceof uE)o("d%s=o.enums===String?%j:%j",c,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",c)("}else")("d%s=o.longs===String?%j:%i",c,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var d="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",c,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",c,d)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",c,c)("}")}else o("d%s=%j",c,u.typeDefault)}o("}")}var f=!1;for(n=0;n<r.length;++n){var u=r[n],g=e._fieldsArray.indexOf(u),c=ta.safeProp(u.name);u.map?(f||(f=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",c,c)("d%s={}",c)("for(var j=0;j<ks2.length;++j){"),Oq(o,u,g,c+"[ks2[j]]")("}")):u.repeated?(o("if(m%s&&m%s.length){",c,c)("d%s=[]",c)("for(var j=0;j<m%s.length;++j){",c),Oq(o,u,g,c+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",c,u.name),Oq(o,u,g,c),u.partOf&&o("if(o.oneofs)")("d%s=%j",ta.safeProp(u.partOf.name),u.name)),o("}")}return o("return d")}});var wq=h(PAe=>{"use strict";l();var rgt=PAe,ngt=SP();rgt[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var o=t["@type"].charAt(0)==="."?t["@type"].slice(1):t["@type"];return o.indexOf("/")===-1&&(o="/"+o),this.create({type_url:o,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="type.googleapis.com/",o="",s="";if(e&&e.json&&t.type_url&&t.value){s=t.type_url.substring(t.type_url.lastIndexOf("/")+1),o=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var a=this.lookup(s);a&&(t=a.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof ngt){var i=t.$type.toObject(t,e),n=t.$type.fullName[0]==="."?t.$type.fullName.slice(1):t.$type.fullName;return o===""&&(o=r),s=o+n,i["@type"]=s,i}return this.toObject(t,e)}}});var vP=h((Trr,xAe)=>{"use strict";l();xAe.exports=Dt;var is=Nm();((Dt.prototype=Object.create(is.prototype)).constructor=Dt).className="Type";var igt=ns(),xq=Cm(),bP=Kc(),ogt=mP(),sgt=_P(),Pq=SP(),Mq=Aw(),agt=vw(),An=Gr(),ugt=Bq(),cgt=Tq(),lgt=Cq(),MAe=Nq(),dgt=wq();function Dt(t,e){is.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(Dt.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],o=r.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=An.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=An.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Dt.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof Pq||((t.prototype=new Pq).constructor=t,An.merge(t.prototype,e)),t.$type=t.prototype.$type=this,An.merge(t,Pq,!0),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var o={};for(r=0;r<this.oneofsArray.length;++r)o[this._oneofsArray[r].resolve().name]={get:An.oneOfGetter(this._oneofsArray[r].oneof),set:An.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,o)}}});Dt.generateConstructor=function(e){for(var r=An.codegen(["p"],e.name),o=0,s;o<e.fieldsArray.length;++o)(s=e._fieldsArray[o]).map?r("this%s={}",An.safeProp(s.name)):s.repeated&&r("this%s=[]",An.safeProp(s.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function EP(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Dt.fromJSON=function(e,r){var o=new Dt(e,r.options);o.extensions=r.extensions,o.reserved=r.reserved;for(var s=Object.keys(r.fields),a=0;a<s.length;++a)o.add((typeof r.fields[s[a]].keyType<"u"?ogt.fromJSON:bP.fromJSON)(s[a],r.fields[s[a]]));if(r.oneofs)for(s=Object.keys(r.oneofs),a=0;a<s.length;++a)o.add(xq.fromJSON(s[a],r.oneofs[s[a]]));if(r.nested)for(s=Object.keys(r.nested),a=0;a<s.length;++a){var i=r.nested[s[a]];o.add((i.id!==void 0?bP.fromJSON:i.fields!==void 0?Dt.fromJSON:i.values!==void 0?igt.fromJSON:i.methods!==void 0?sgt.fromJSON:is.fromJSON)(s[a],i))}return r.extensions&&r.extensions.length&&(o.extensions=r.extensions),r.reserved&&r.reserved.length&&(o.reserved=r.reserved),r.group&&(o.group=!0),r.comment&&(o.comment=r.comment),o};Dt.prototype.toJSON=function(e){var r=is.prototype.toJSON.call(this,e),o=e?!!e.keepComments:!1;return An.toObject(["options",r&&r.options||void 0,"oneofs",is.arrayToJSON(this.oneofsArray,e),"fields",is.arrayToJSON(this.fieldsArray.filter(function(s){return!s.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",o?this.comment:void 0])};Dt.prototype.resolveAll=function(){for(var e=this.fieldsArray,r=0;r<e.length;)e[r++].resolve();var o=this.oneofsArray;for(r=0;r<o.length;)o[r++].resolve();return is.prototype.resolveAll.call(this)};Dt.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null};Dt.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof bP&&e.extend===void 0){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),EP(this)}return e instanceof xq?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),EP(this)):is.prototype.add.call(this,e)};Dt.prototype.remove=function(e){if(e instanceof bP&&e.extend===void 0){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),EP(this)}if(e instanceof xq){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),EP(this)}return is.prototype.remove.call(this,e)};Dt.prototype.isReservedId=function(e){return is.isReservedId(this.reserved,e)};Dt.prototype.isReservedName=function(e){return is.isReservedName(this.reserved,e)};Dt.prototype.create=function(e){return new this.ctor(e)};Dt.prototype.setup=function(){for(var e=this.fullName,r=[],o=0;o<this.fieldsArray.length;++o)r.push(this._fieldsArray[o].resolve().resolvedType);this.encode=ugt(this)({Writer:agt,types:r,util:An}),this.decode=cgt(this)({Reader:Mq,types:r,util:An}),this.verify=lgt(this)({types:r,util:An}),this.fromObject=MAe.fromObject(this)({types:r,util:An}),this.toObject=MAe.toObject(this)({types:r,util:An});var s=dgt[e];if(s){var a=Object.create(this);a.fromObject=this.fromObject,this.fromObject=s.fromObject.bind(a),a.toObject=this.toObject,this.toObject=s.toObject.bind(a)}return this};Dt.prototype.encode=function(e,r){return this.setup().encode(e,r)};Dt.prototype.encodeDelimited=function(e,r){return this.encode(e,r&&r.len?r.fork():r).ldelim()};Dt.prototype.decode=function(e,r){return this.setup().decode(e,r)};Dt.prototype.decodeDelimited=function(e){return e instanceof Mq||(e=Mq.create(e)),this.decode(e,e.uint32())};Dt.prototype.verify=function(e){return this.setup().verify(e)};Dt.prototype.fromObject=function(e){return this.setup().fromObject(e)};Dt.prototype.toObject=function(e,r){return this.setup().toObject(e,r)};Dt.d=function(e){return function(o){An.decorateType(o,e)}}});var IP=h((Irr,GAe)=>{"use strict";l();GAe.exports=Di;var AP=Nm();((Di.prototype=Object.create(AP.prototype)).constructor=Di).className="Root";var Lq=Kc(),DAe=ns(),fgt=Cm(),zc=Gr(),LAe,Dq,cE;function Di(t){AP.call(this,"",t),this.deferred=[],this.files=[]}Di.fromJSON=function(e,r){return r||(r=new Di),e.options&&r.setOptions(e.options),r.addJSON(e.nested)};Di.prototype.resolvePath=zc.path.resolve;Di.prototype.fetch=zc.fetch;function UAe(){}Di.prototype.load=function t(e,r,o){typeof r=="function"&&(o=r,r=void 0);var s=this;if(!o)return zc.asPromise(t,s,e,r);var a=o===UAe;function i(y,S){if(o){if(a)throw y;var T=o;o=null,T(y,S)}}function n(y){var S=y.lastIndexOf("google/protobuf/");if(S>-1){var T=y.substring(S);if(T in cE)return T}return null}function u(y,S){try{if(zc.isString(S)&&S.charAt(0)==="{"&&(S=JSON.parse(S)),!zc.isString(S))s.setOptions(S.options).addJSON(S.nested);else{Dq.filename=y;var T=Dq(S,s,r),C,R=0;if(T.imports)for(;R<T.imports.length;++R)(C=n(T.imports[R])||s.resolvePath(y,T.imports[R]))&&c(C);if(T.weakImports)for(R=0;R<T.weakImports.length;++R)(C=n(T.weakImports[R])||s.resolvePath(y,T.weakImports[R]))&&c(C,!0)}}catch(P){i(P)}!a&&!d&&i(null,s)}function c(y,S){if(y=n(y)||y,!(s.files.indexOf(y)>-1)){if(s.files.push(y),y in cE){a?u(y,cE[y]):(++d,setTimeout(function(){--d,u(y,cE[y])}));return}if(a){var T;try{T=zc.fs.readFileSync(y).toString("utf8")}catch(C){S||i(C);return}u(y,T)}else++d,s.fetch(y,function(C,R){if(--d,!!o){if(C){S?d||i(null,s):i(C);return}u(y,R)}})}}var d=0;zc.isString(e)&&(e=[e]);for(var f=0,g;f<e.length;++f)(g=s.resolvePath("",e[f]))&&c(g);if(a)return s;d||i(null,s)};Di.prototype.loadSync=function(e,r){if(!zc.isNode)throw Error("not supported");return this.load(e,r,UAe)};Di.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return AP.prototype.resolveAll.call(this)};var TP=/^[A-Z]/;function BAe(t,e){var r=e.parent.lookup(e.extend);if(r){var o=new Lq(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(o.name)||(o.declaringField=e,e.extensionField=o,r.add(o)),!0}return!1}Di.prototype._handleAdd=function(e){if(e instanceof Lq)e.extend!==void 0&&!e.extensionField&&(BAe(this,e)||this.deferred.push(e));else if(e instanceof DAe)TP.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof fgt)){if(e instanceof LAe)for(var r=0;r<this.deferred.length;)BAe(this,this.deferred[r])?this.deferred.splice(r,1):++r;for(var o=0;o<e.nestedArray.length;++o)this._handleAdd(e._nestedArray[o]);TP.test(e.name)&&(e.parent[e.name]=e)}};Di.prototype._handleRemove=function(e){if(e instanceof Lq){if(e.extend!==void 0)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var r=this.deferred.indexOf(e);r>-1&&this.deferred.splice(r,1)}}else if(e instanceof DAe)TP.test(e.name)&&delete e.parent[e.name];else if(e instanceof AP){for(var o=0;o<e.nestedArray.length;++o)this._handleRemove(e._nestedArray[o]);TP.test(e.name)&&delete e.parent[e.name]}};Di._configure=function(t,e,r){LAe=t,Dq=e,cE=r}});var Gr=h((Rrr,FAe)=>{"use strict";l();var hr=FAe.exports=Xs(),VAe=r5(),Uq,Gq;hr.codegen=iAe();hr.fetch=sAe();hr.path=cAe();hr.fs=hr.inquire("fs");hr.toArray=function(e){if(e){for(var r=Object.keys(e),o=new Array(r.length),s=0;s<r.length;)o[s]=e[r[s++]];return o}return[]};hr.toObject=function(e){for(var r={},o=0;o<e.length;){var s=e[o++],a=e[o++];a!==void 0&&(r[s]=a)}return r};var pgt=/\\/g,hgt=/"/g;hr.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)};hr.safeProp=function(e){return!/^[$\w_]+$/.test(e)||hr.isReserved(e)?'["'+e.replace(pgt,"\\\\").replace(hgt,'\\"')+'"]':"."+e};hr.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var ggt=/_([a-z])/g;hr.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(ggt,function(r,o){return o.toUpperCase()})};hr.compareFieldsById=function(e,r){return e.id-r.id};hr.decorateType=function(e,r){if(e.$type)return r&&e.$type.name!==r&&(hr.decorateRoot.remove(e.$type),e.$type.name=r,hr.decorateRoot.add(e.$type)),e.$type;Uq||(Uq=vP());var o=new Uq(r||e.name);return hr.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var mgt=0;hr.decorateEnum=function(e){if(e.$type)return e.$type;Gq||(Gq=ns());var r=new Gq("Enum"+mgt++,e);return hr.decorateRoot.add(r),Object.defineProperty(e,"$type",{value:r,enumerable:!1}),r};hr.setProperty=function(e,r,o){function s(a,i,n){var u=i.shift();if(u==="__proto__"||u==="prototype")return a;if(i.length>0)a[u]=s(a[u]||{},i,n);else{var c=a[u];c&&(n=[].concat(c).concat(n)),a[u]=n}return a}if(typeof e!="object")throw TypeError("dst must be an object");if(!r)throw TypeError("path must be specified");return r=r.split("."),s(e,r,o)};Object.defineProperty(hr,"decorateRoot",{get:function(){return VAe.decorated||(VAe.decorated=new(IP()))}})});var Df=h((Nrr,HAe)=>{"use strict";l();HAe.exports=Li;Li.className="ReflectionObject";var CP=Gr(),RP;function Li(t,e){if(!CP.isString(t))throw TypeError("name must be a string");if(e&&!CP.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(Li.prototype,{root:{get:function(){for(var t=this;t.parent!==null;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}});Li.prototype.toJSON=function(){throw Error()};Li.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var r=e.root;r instanceof RP&&r._handleAdd(this)};Li.prototype.onRemove=function(e){var r=e.root;r instanceof RP&&r._handleRemove(this),this.parent=null,this.resolved=!1};Li.prototype.resolve=function(){return this.resolved?this:(this.root instanceof RP&&(this.resolved=!0),this)};Li.prototype.getOption=function(e){if(this.options)return this.options[e]};Li.prototype.setOption=function(e,r,o){return(!o||!this.options||this.options[e]===void 0)&&((this.options||(this.options={}))[e]=r),this};Li.prototype.setParsedOption=function(e,r,o){this.parsedOptions||(this.parsedOptions=[]);var s=this.parsedOptions;if(o){var a=s.find(function(u){return Object.prototype.hasOwnProperty.call(u,e)});if(a){var i=a[e];CP.setProperty(i,o,r)}else a={},a[e]=CP.setProperty({},o,r),s.push(a)}else{var n={};n[e]=r,s.push(n)}return this};Li.prototype.setOptions=function(e,r){if(e)for(var o=Object.keys(e),s=0;s<o.length;++s)this.setOption(o[s],e[o[s]],r);return this};Li.prototype.toString=function(){var e=this.constructor.className,r=this.fullName;return r.length?e+" "+r:e};Li._configure=function(t){RP=t}});var ns=h((Prr,ZAe)=>{"use strict";l();ZAe.exports=ra;var kAe=Df();((ra.prototype=Object.create(kAe.prototype)).constructor=ra).className="Enum";var WAe=Nm(),OP=Gr();function ra(t,e,r,o,s,a){if(kAe.call(this,t,r),e&&typeof e!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.valuesOptions=a,this.reserved=void 0,e)for(var i=Object.keys(e),n=0;n<i.length;++n)typeof e[i[n]]=="number"&&(this.valuesById[this.values[i[n]]=e[i[n]]]=i[n])}ra.fromJSON=function(e,r){var o=new ra(e,r.values,r.options,r.comment,r.comments);return o.reserved=r.reserved,o};ra.prototype.toJSON=function(e){var r=e?!!e.keepComments:!1;return OP.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",r?this.comment:void 0,"comments",r?this.comments:void 0])};ra.prototype.add=function(e,r,o,s){if(!OP.isString(e))throw TypeError("name must be a string");if(!OP.isInteger(r))throw TypeError("id must be an integer");if(this.values[e]!==void 0)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[r]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+r+" in "+this);this.values[e]=r}else this.valuesById[this.values[e]=r]=e;return s&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[e]=s||null),this.comments[e]=o||null,this};ra.prototype.remove=function(e){if(!OP.isString(e))throw TypeError("name must be a string");var r=this.values[e];if(r==null)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this};ra.prototype.isReservedId=function(e){return WAe.isReservedId(this.reserved,e)};ra.prototype.isReservedName=function(e){return WAe.isReservedName(this.reserved,e)}});var Bq=h((xrr,YAe)=>{"use strict";l();YAe.exports=_gt;var ygt=ns(),Vq=Bf(),Fq=Gr();function qAe(t,e,r,o){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,o,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,o,(e.id<<3|2)>>>0)}function _gt(t){for(var e=Fq.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),r,o,s=t.fieldsArray.slice().sort(Fq.compareFieldsById),r=0;r<s.length;++r){var a=s[r].resolve(),i=t._fieldsArray.indexOf(a),n=a.resolvedType instanceof ygt?"int32":a.type,u=Vq.basic[n];o="m"+Fq.safeProp(a.name),a.map?(e("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,a.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(a.id<<3|2)>>>0,8|Vq.mapKey[a.keyType],a.keyType),u===void 0?e("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",i,o):e(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|u,n,o),e("}")("}")):a.repeated?(e("if(%s!=null&&%s.length){",o,o),a.packed&&Vq.packed[n]!==void 0?e("w.uint32(%i).fork()",(a.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",n,o)("w.ldelim()"):(e("for(var i=0;i<%s.length;++i)",o),u===void 0?qAe(e,a,i,o+"[i]"):e("w.uint32(%i).%s(%s[i])",(a.id<<3|u)>>>0,n,o)),e("}")):(a.optional&&e("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,a.name),u===void 0?qAe(e,a,i,o):e("w.uint32(%i).%s(%s)",(a.id<<3|u)>>>0,n,o))}return e("return w")}});var KAe=h((Drr,jAe)=>{"use strict";l();var ht=jAe.exports=n5();ht.build="light";function Sgt(t,e,r){return typeof e=="function"?(r=e,e=new ht.Root):e||(e=new ht.Root),e.load(t,r)}ht.load=Sgt;function bgt(t,e){return e||(e=new ht.Root),e.loadSync(t)}ht.loadSync=bgt;ht.encoder=Bq();ht.decoder=Tq();ht.verifier=Cq();ht.converter=Nq();ht.ReflectionObject=Df();ht.Namespace=Nm();ht.Root=IP();ht.Enum=ns();ht.Type=vP();ht.Field=Kc();ht.OneOf=Cm();ht.MapField=mP();ht.Service=_P();ht.Method=yP();ht.Message=SP();ht.wrappers=wq();ht.types=Bf();ht.util=Gr();ht.ReflectionObject._configure(ht.Root);ht.Namespace._configure(ht.Type,ht.Service,ht.Enum);ht.Root._configure(ht.Type);ht.Field._configure(ht.Type)});var kq=h((Urr,JAe)=>{"use strict";l();JAe.exports=zAe;var Hq=/[\s{}=;:[\],'"()<>]/g,Egt=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,vgt=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,Tgt=/^ *[*/]+ */,Agt=/^\s*\*?\/*/,Igt=/\n/g,Cgt=/\s/,Rgt=/\\(.?)/g,Ogt={0:"\0",r:"\r",n:`
`,t:"	"};function XAe(t){return t.replace(Rgt,function(e,r){switch(r){case"\\":case"":return r;default:return Ogt[r]||""}})}zAe.unescape=XAe;function zAe(t,e){t=t.toString();var r=0,o=t.length,s=1,a=0,i={},n=[],u=null;function c(x){return Error("illegal "+x+" (line "+s+")")}function d(){var x=u==="'"?vgt:Egt;x.lastIndex=r-1;var U=x.exec(t);if(!U)throw c("string");return r=x.lastIndex,C(u),u=null,XAe(U[1])}function f(x){return t.charAt(x)}function g(x,U,D){var W={type:t.charAt(x++),lineEmpty:!1,leading:D},re;e?re=2:re=3;var ie=x-re,_e;do if(--ie<0||(_e=t.charAt(ie))===`
`){W.lineEmpty=!0;break}while(_e===" "||_e==="	");for(var L=t.substring(x,U).split(Igt),le=0;le<L.length;++le)L[le]=L[le].replace(e?Agt:Tgt,"").trim();W.text=L.join(`
`).trim(),i[s]=W,a=s}function y(x){var U=S(x),D=t.substring(x,U),W=/^\s*\/\//.test(D);return W}function S(x){for(var U=x;U<o&&f(U)!==`
`;)U++;return U}function T(){if(n.length>0)return n.shift();if(u)return d();var x,U,D,W,re,ie=r===0;do{if(r===o)return null;for(x=!1;Cgt.test(D=f(r));)if(D===`
`&&(ie=!0,++s),++r===o)return null;if(f(r)==="/"){if(++r===o)throw c("comment");if(f(r)==="/")if(e){if(W=r,re=!1,y(r-1)){re=!0;do if(r=S(r),r===o||(r++,!ie))break;while(y(r))}else r=Math.min(o,S(r)+1);re&&(g(W,r,ie),ie=!0),s++,x=!0}else{for(re=f(W=r+1)==="/";f(++r)!==`
`;)if(r===o)return null;++r,re&&(g(W,r-1,ie),ie=!0),++s,x=!0}else if((D=f(r))==="*"){W=r+1,re=e||f(W)==="*";do{if(D===`
`&&++s,++r===o)throw c("comment");U=D,D=f(r)}while(U!=="*"||D!=="/");++r,re&&(g(W,r-2,ie),ie=!0),x=!0}else return"/"}}while(x);var _e=r;Hq.lastIndex=0;var L=Hq.test(f(_e++));if(!L)for(;_e<o&&!Hq.test(f(_e));)++_e;var le=t.substring(r,r=_e);return(le==='"'||le==="'")&&(u=le),le}function C(x){n.push(x)}function R(){if(!n.length){var x=T();if(x===null)return null;C(x)}return n[0]}function P(x,U){var D=R(),W=D===x;if(W)return T(),!0;if(!U)throw c("token '"+D+"', '"+x+"' expected");return!1}function M(x){var U=null,D;return x===void 0?(D=i[s-1],delete i[s-1],D&&(e||D.type==="*"||D.lineEmpty)&&(U=D.leading?D.text:null)):(a<x&&R(),D=i[x],delete i[x],D&&!D.lineEmpty&&(e||D.type==="/")&&(U=D.leading?null:D.text)),U}return Object.defineProperty({next:T,peek:R,push:C,skip:P,cmnt:M},"line",{get:function(){return s}})}});var nIe=h((Vrr,rIe)=>{"use strict";l();rIe.exports=_u;_u.filename=null;_u.defaults={keepCase:!1};var Ngt=kq(),$Ae=IP(),QAe=vP(),eIe=Kc(),wgt=mP(),tIe=Cm(),Pgt=ns(),Mgt=_P(),xgt=yP(),Wq=Bf(),Zq=Gr(),Bgt=/^[1-9][0-9]*$/,Dgt=/^-?[1-9][0-9]*$/,Lgt=/^0[x][0-9a-fA-F]+$/,Ugt=/^-?0[x][0-9a-fA-F]+$/,Ggt=/^0[0-7]+$/,Vgt=/^-?0[0-7]+$/,Fgt=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,na=/^[a-zA-Z_][a-zA-Z_0-9]*$/,ia=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,Hgt=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function _u(t,e,r){e instanceof $Ae||(r=e,e=new $Ae),r||(r=_u.defaults);var o=r.preferTrailingComment||!1,s=Ngt(t,r.alternateCommentMode||!1),a=s.next,i=s.push,n=s.peek,u=s.skip,c=s.cmnt,d=!0,f,g,y,S,T=!1,C=e,R=r.keepCase?function(Q){return Q}:Zq.camelCase;function P(Q,ee,oe){var Ee=_u.filename;return oe||(_u.filename=null),Error("illegal "+(ee||"token")+" '"+Q+"' ("+(Ee?Ee+", ":"")+"line "+s.line+")")}function M(){var Q=[],ee;do{if((ee=a())!=='"'&&ee!=="'")throw P(ee);Q.push(a()),u(ee),ee=n()}while(ee==='"'||ee==="'");return Q.join("")}function x(Q){var ee=a();switch(ee){case"'":case'"':return i(ee),M();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return D(ee,!0)}catch{if(Q&&ia.test(ee))return ee;throw P(ee,"value")}}function U(Q,ee){var oe,Ee;do ee&&((oe=n())==='"'||oe==="'")?Q.push(M()):Q.push([Ee=W(a()),u("to",!0)?W(a()):Ee]);while(u(",",!0));u(";")}function D(Q,ee){var oe=1;switch(Q.charAt(0)==="-"&&(oe=-1,Q=Q.substring(1)),Q){case"inf":case"INF":case"Inf":return oe*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(Bgt.test(Q))return oe*parseInt(Q,10);if(Lgt.test(Q))return oe*parseInt(Q,16);if(Ggt.test(Q))return oe*parseInt(Q,8);if(Fgt.test(Q))return oe*parseFloat(Q);throw P(Q,"number",ee)}function W(Q,ee){switch(Q){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!ee&&Q.charAt(0)==="-")throw P(Q,"id");if(Dgt.test(Q))return parseInt(Q,10);if(Ugt.test(Q))return parseInt(Q,16);if(Vgt.test(Q))return parseInt(Q,8);throw P(Q,"id")}function re(){if(f!==void 0)throw P("package");if(f=a(),!ia.test(f))throw P(f,"name");C=C.define(f),u(";")}function ie(){var Q=n(),ee;switch(Q){case"weak":ee=y||(y=[]),a();break;case"public":a();default:ee=g||(g=[]);break}Q=M(),u(";"),ee.push(Q)}function _e(){if(u("="),S=M(),T=S==="proto3",!T&&S!=="proto2")throw P(S,"syntax");u(";")}function L(Q,ee){switch(ee){case"option":return ue(Q,ee),u(";"),!0;case"message":return k(Q,ee),!0;case"enum":return ce(Q,ee),!0;case"service":return He(Q,ee),!0;case"extend":return ar(Q,ee),!0}return!1}function le(Q,ee,oe){var Ee=s.line;if(Q&&(typeof Q.comment!="string"&&(Q.comment=c()),Q.filename=_u.filename),u("{",!0)){for(var ye;(ye=a())!=="}";)ee(ye);u(";",!0)}else oe&&oe(),u(";"),Q&&(typeof Q.comment!="string"||o)&&(Q.comment=c(Ee)||Q.comment)}function k(Q,ee){if(!na.test(ee=a()))throw P(ee,"type name");var oe=new QAe(ee);le(oe,function(ye){if(!L(oe,ye))switch(ye){case"map":H(oe,ye);break;case"required":case"repeated":O(oe,ye);break;case"optional":T?O(oe,"proto3_optional"):O(oe,"optional");break;case"oneof":J(oe,ye);break;case"extensions":U(oe.extensions||(oe.extensions=[]));break;case"reserved":U(oe.reserved||(oe.reserved=[]),!0);break;default:if(!T||!ia.test(ye))throw P(ye);i(ye),O(oe,"optional");break}}),Q.add(oe)}function O(Q,ee,oe){var Ee=a();if(Ee==="group"){te(Q,ee);return}for(;Ee.endsWith(".")||n().startsWith(".");)Ee+=a();if(!ia.test(Ee))throw P(Ee,"type");var ye=a();if(!na.test(ye))throw P(ye,"name");ye=R(ye),u("=");var Fe=new eIe(ye,W(a()),Ee,ee,oe);if(le(Fe,function(jt){if(jt==="option")ue(Fe,jt),u(";");else throw P(jt)},function(){at(Fe)}),ee==="proto3_optional"){var Ot=new tIe("_"+ye);Fe.setOption("proto3_optional",!0),Ot.add(Fe),Q.add(Ot)}else Q.add(Fe);!T&&Fe.repeated&&(Wq.packed[Ee]!==void 0||Wq.basic[Ee]===void 0)&&Fe.setOption("packed",!1,!0)}function te(Q,ee){var oe=a();if(!na.test(oe))throw P(oe,"name");var Ee=Zq.lcFirst(oe);oe===Ee&&(oe=Zq.ucFirst(oe)),u("=");var ye=W(a()),Fe=new QAe(oe);Fe.group=!0;var Ot=new eIe(Ee,ye,oe,ee);Ot.filename=_u.filename,le(Fe,function(jt){switch(jt){case"option":ue(Fe,jt),u(";");break;case"required":case"repeated":O(Fe,jt);break;case"optional":T?O(Fe,"proto3_optional"):O(Fe,"optional");break;case"message":k(Fe,jt);break;case"enum":ce(Fe,jt);break;default:throw P(jt)}}),Q.add(Fe).add(Ot)}function H(Q){u("<");var ee=a();if(Wq.mapKey[ee]===void 0)throw P(ee,"type");u(",");var oe=a();if(!ia.test(oe))throw P(oe,"type");u(">");var Ee=a();if(!na.test(Ee))throw P(Ee,"name");u("=");var ye=new wgt(R(Ee),W(a()),ee,oe);le(ye,function(Ot){if(Ot==="option")ue(ye,Ot),u(";");else throw P(Ot)},function(){at(ye)}),Q.add(ye)}function J(Q,ee){if(!na.test(ee=a()))throw P(ee,"name");var oe=new tIe(R(ee));le(oe,function(ye){ye==="option"?(ue(oe,ye),u(";")):(i(ye),O(oe,"optional"))}),Q.add(oe)}function ce(Q,ee){if(!na.test(ee=a()))throw P(ee,"name");var oe=new Pgt(ee);le(oe,function(ye){switch(ye){case"option":ue(oe,ye),u(";");break;case"reserved":U(oe.reserved||(oe.reserved=[]),!0);break;default:Oe(oe,ye)}}),Q.add(oe)}function Oe(Q,ee){if(!na.test(ee))throw P(ee,"name");u("=");var oe=W(a(),!0),Ee={options:void 0};Ee.setOption=function(ye,Fe){this.options===void 0&&(this.options={}),this.options[ye]=Fe},le(Ee,function(Fe){if(Fe==="option")ue(Ee,Fe),u(";");else throw P(Fe)},function(){at(Ee)}),Q.add(ee,oe,Ee.comment,Ee.options)}function ue(Q,ee){var oe=u("(",!0);if(!ia.test(ee=a()))throw P(ee,"name");var Ee=ee,ye=Ee,Fe;oe&&(u(")"),Ee="("+Ee+")",ye=Ee,ee=n(),Hgt.test(ee)&&(Fe=ee.slice(1),Ee+=ee,a())),u("=");var Ot=st(Q,Ee);Ge(Q,ye,Ot,Fe)}function st(Q,ee){if(u("{",!0)){for(var oe={};!u("}",!0);){if(!na.test(Ze=a()))throw P(Ze,"name");if(Ze===null)throw P(Ze,"end of input");var Ee,ye=Ze;if(u(":",!0),n()==="{")Ee=st(Q,ee+"."+Ze);else if(n()==="["){Ee=[];var Fe;if(u("[",!0)){do Fe=x(!0),Ee.push(Fe);while(u(",",!0));u("]"),typeof Fe<"u"&&$e(Q,ee+"."+Ze,Fe)}}else Ee=x(!0),$e(Q,ee+"."+Ze,Ee);var Ot=oe[ye];Ot&&(Ee=[].concat(Ot).concat(Ee)),oe[ye]=Ee,u(",",!0),u(";",!0)}return oe}var Wr=x(!0);return $e(Q,ee,Wr),Wr}function $e(Q,ee,oe){Q.setOption&&Q.setOption(ee,oe)}function Ge(Q,ee,oe,Ee){Q.setParsedOption&&Q.setParsedOption(ee,oe,Ee)}function at(Q){if(u("[",!0)){do ue(Q,"option");while(u(",",!0));u("]")}return Q}function He(Q,ee){if(!na.test(ee=a()))throw P(ee,"service name");var oe=new Mgt(ee);le(oe,function(ye){if(!L(oe,ye))if(ye==="rpc")vt(oe,ye);else throw P(ye)}),Q.add(oe)}function vt(Q,ee){var oe=c(),Ee=ee;if(!na.test(ee=a()))throw P(ee,"name");var ye=ee,Fe,Ot,Wr,jt;if(u("("),u("stream",!0)&&(Ot=!0),!ia.test(ee=a())||(Fe=ee,u(")"),u("returns"),u("("),u("stream",!0)&&(jt=!0),!ia.test(ee=a())))throw P(ee);Wr=ee,u(")");var mi=new xgt(ye,Ee,Fe,Wr,Ot,jt);mi.comment=oe,le(mi,function(wn){if(wn==="option")ue(mi,wn),u(";");else throw P(wn)}),Q.add(mi)}function ar(Q,ee){if(!ia.test(ee=a()))throw P(ee,"reference");var oe=ee;le(null,function(ye){switch(ye){case"required":case"repeated":O(Q,ye,oe);break;case"optional":T?O(Q,"proto3_optional",oe):O(Q,"optional",oe);break;default:if(!T||!ia.test(ye))throw P(ye);i(ye),O(Q,"optional",oe);break}})}for(var Ze;(Ze=a())!==null;)switch(Ze){case"package":if(!d)throw P(Ze);re();break;case"import":if(!d)throw P(Ze);ie();break;case"syntax":if(!d)throw P(Ze);_e();break;case"option":ue(C,Ze),u(";");break;default:if(L(C,Ze)){d=!1;continue}throw P(Ze)}return _u.filename=null,{package:f,imports:g,weakImports:y,syntax:S,root:e}}});var sIe=h((Hrr,oIe)=>{"use strict";l();oIe.exports=os;var kgt=/\/|\./;function os(t,e){kgt.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),os[t]=e}os("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var iIe;os("duration",{Duration:iIe={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});os("timestamp",{Timestamp:iIe});os("empty",{Empty:{fields:{}}});os("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});os("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});os("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});os.get=function(e){return os[e]||null}});var uIe=h((Wrr,aIe)=>{"use strict";l();var Jc=aIe.exports=KAe();Jc.build="full";Jc.tokenize=kq();Jc.parse=nIe();Jc.common=sIe();Jc.Root._configure(Jc.Type,Jc.parse,Jc.common)});var NP=h((qrr,cIe)=>{"use strict";l();cIe.exports=uIe()});var qq=h((jrr,Wgt)=>{Wgt.exports={nested:{google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5},serverStreaming:{type:"bool",id:6}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16},javaGenericServices:{type:"bool",id:17},pyGenericServices:{type:"bool",id:18},deprecated:{type:"bool",id:23},ccEnableArenas:{type:"bool",id:31},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1},noStandardDescriptorAccessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}}});var hIe=h((it,pIe)=>{"use strict";l();var Vn=NP();pIe.exports=it=Vn.descriptor=Vn.Root.fromJSON(qq()).lookup(".google.protobuf");var lIe=Vn.Namespace,lE=Vn.Root,Su=Vn.Enum,$c=Vn.Type,Qc=Vn.Field,Zgt=Vn.MapField,wP=Vn.OneOf,dE=Vn.Service,PP=Vn.Method;lE.fromDescriptor=function(e){typeof e.length=="number"&&(e=it.FileDescriptorSet.decode(e));var r=new lE;if(e.file)for(var o,s,a=0,i;a<e.file.length;++a){if(s=r,(o=e.file[a]).package&&o.package.length&&(s=r.define(o.package)),o.name&&o.name.length&&r.files.push(s.filename=o.name),o.messageType)for(i=0;i<o.messageType.length;++i)s.add($c.fromDescriptor(o.messageType[i],o.syntax));if(o.enumType)for(i=0;i<o.enumType.length;++i)s.add(Su.fromDescriptor(o.enumType[i]));if(o.extension)for(i=0;i<o.extension.length;++i)s.add(Qc.fromDescriptor(o.extension[i]));if(o.service)for(i=0;i<o.service.length;++i)s.add(dE.fromDescriptor(o.service[i]));var n=Pm(o.options,it.FileOptions);if(n){var u=Object.keys(n);for(i=0;i<u.length;++i)s.setOption(u[i],n[u[i]])}}return r};lE.prototype.toDescriptor=function(e){var r=it.FileDescriptorSet.create();return dIe(this,r.file,e),r};function dIe(t,e,r){var o=it.FileDescriptorProto.create({name:t.filename||(t.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});r&&(o.syntax=r),t instanceof lE||(o.package=t.fullName.substring(1));for(var s=0,a;s<t.nestedArray.length;++s)(a=t._nestedArray[s])instanceof $c?o.messageType.push(a.toDescriptor(r)):a instanceof Su?o.enumType.push(a.toDescriptor()):a instanceof Qc?o.extension.push(a.toDescriptor(r)):a instanceof dE?o.service.push(a.toDescriptor()):a instanceof lIe&&dIe(a,e,r);o.options=Mm(t.options,it.FileOptions),o.messageType.length+o.enumType.length+o.extension.length+o.service.length&&e.push(o)}var qgt=0;$c.fromDescriptor=function(e,r){typeof e.length=="number"&&(e=it.DescriptorProto.decode(e));var o=new $c(e.name.length?e.name:"Type"+qgt++,Pm(e.options,it.MessageOptions)),s;if(e.oneofDecl)for(s=0;s<e.oneofDecl.length;++s)o.add(wP.fromDescriptor(e.oneofDecl[s]));if(e.field)for(s=0;s<e.field.length;++s){var a=Qc.fromDescriptor(e.field[s],r);o.add(a),e.field[s].hasOwnProperty("oneofIndex")&&o.oneofsArray[e.field[s].oneofIndex].add(a)}if(e.extension)for(s=0;s<e.extension.length;++s)o.add(Qc.fromDescriptor(e.extension[s],r));if(e.nestedType)for(s=0;s<e.nestedType.length;++s)o.add($c.fromDescriptor(e.nestedType[s],r)),e.nestedType[s].options&&e.nestedType[s].options.mapEntry&&o.setOption("map_entry",!0);if(e.enumType)for(s=0;s<e.enumType.length;++s)o.add(Su.fromDescriptor(e.enumType[s]));if(e.extensionRange&&e.extensionRange.length)for(o.extensions=[],s=0;s<e.extensionRange.length;++s)o.extensions.push([e.extensionRange[s].start,e.extensionRange[s].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(o.reserved=[],e.reservedRange)for(s=0;s<e.reservedRange.length;++s)o.reserved.push([e.reservedRange[s].start,e.reservedRange[s].end]);if(e.reservedName)for(s=0;s<e.reservedName.length;++s)o.reserved.push(e.reservedName[s])}return o};$c.prototype.toDescriptor=function(e){var r=it.DescriptorProto.create({name:this.name}),o;for(o=0;o<this.fieldsArray.length;++o){var s;if(r.field.push(s=this._fieldsArray[o].toDescriptor(e)),this._fieldsArray[o]instanceof Zgt){var a=Yq(this._fieldsArray[o].keyType,this._fieldsArray[o].resolvedKeyType),i=Yq(this._fieldsArray[o].type,this._fieldsArray[o].resolvedType),n=i===11||i===14?this._fieldsArray[o].resolvedType&&fIe(this.parent,this._fieldsArray[o].resolvedType)||this._fieldsArray[o].type:void 0;r.nestedType.push(it.DescriptorProto.create({name:s.typeName,field:[it.FieldDescriptorProto.create({name:"key",number:1,label:1,type:a}),it.FieldDescriptorProto.create({name:"value",number:2,label:1,type:i,typeName:n})],options:it.MessageOptions.create({mapEntry:!0})}))}}for(o=0;o<this.oneofsArray.length;++o)r.oneofDecl.push(this._oneofsArray[o].toDescriptor());for(o=0;o<this.nestedArray.length;++o)this._nestedArray[o]instanceof Qc?r.field.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof $c?r.nestedType.push(this._nestedArray[o].toDescriptor(e)):this._nestedArray[o]instanceof Su&&r.enumType.push(this._nestedArray[o].toDescriptor());if(this.extensions)for(o=0;o<this.extensions.length;++o)r.extensionRange.push(it.DescriptorProto.ExtensionRange.create({start:this.extensions[o][0],end:this.extensions[o][1]}));if(this.reserved)for(o=0;o<this.reserved.length;++o)typeof this.reserved[o]=="string"?r.reservedName.push(this.reserved[o]):r.reservedRange.push(it.DescriptorProto.ReservedRange.create({start:this.reserved[o][0],end:this.reserved[o][1]}));return r.options=Mm(this.options,it.MessageOptions),r};var Ygt=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;Qc.fromDescriptor=function(e,r){if(typeof e.length=="number"&&(e=it.DescriptorProto.decode(e)),typeof e.number!="number")throw Error("missing field id");var o;e.typeName&&e.typeName.length?o=e.typeName:o=Jgt(e.type);var s;switch(e.label){case 1:s=void 0;break;case 2:s="required";break;case 3:s="repeated";break;default:throw Error("illegal label: "+e.label)}var a=e.extendee;e.extendee!==void 0&&(a=a.length?a:void 0);var i=new Qc(e.name.length?e.name:"field"+e.number,e.number,o,s,a);if(i.options=Pm(e.options,it.FieldOptions),e.defaultValue&&e.defaultValue.length){var n=e.defaultValue;switch(n){case"true":case"TRUE":n=!0;break;case"false":case"FALSE":n=!1;break;default:var u=Ygt.exec(n);u&&(n=parseInt(n));break}i.setOption("default",n)}return $gt(e.type)&&(r==="proto3"?e.options&&!e.options.packed&&i.setOption("packed",!1):e.options&&e.options.packed||i.setOption("packed",!1)),i};Qc.prototype.toDescriptor=function(e){var r=it.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=Vn.util.ucFirst(this.name),r.label=3;else{switch(r.type=Yq(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?fIe(this.parent,this.resolvedType):this.type;break}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1;break}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=Mm(this.options,it.FieldOptions),this.options.default!=null&&(r.defaultValue=String(this.options.default))),e==="proto3"?this.packed||((r.options||(r.options=it.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=it.FieldOptions.create())).packed=!0),r};var jgt=0;Su.fromDescriptor=function(e){typeof e.length=="number"&&(e=it.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var o=0;o<e.value.length;++o){var s=e.value[o].name,a=e.value[o].number||0;r[s&&s.length?s:"NAME"+a]=a}return new Su(e.name&&e.name.length?e.name:"Enum"+jgt++,r,Pm(e.options,it.EnumOptions))};Su.prototype.toDescriptor=function(){for(var e=[],r=0,o=Object.keys(this.values);r<o.length;++r)e.push(it.EnumValueDescriptorProto.create({name:o[r],number:this.values[o[r]]}));return it.EnumDescriptorProto.create({name:this.name,value:e,options:Mm(this.options,it.EnumOptions)})};var Kgt=0;wP.fromDescriptor=function(e){return typeof e.length=="number"&&(e=it.OneofDescriptorProto.decode(e)),new wP(e.name&&e.name.length?e.name:"oneof"+Kgt++)};wP.prototype.toDescriptor=function(){return it.OneofDescriptorProto.create({name:this.name})};var Xgt=0;dE.fromDescriptor=function(e){typeof e.length=="number"&&(e=it.ServiceDescriptorProto.decode(e));var r=new dE(e.name&&e.name.length?e.name:"Service"+Xgt++,Pm(e.options,it.ServiceOptions));if(e.method)for(var o=0;o<e.method.length;++o)r.add(PP.fromDescriptor(e.method[o]));return r};dE.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return it.ServiceDescriptorProto.create({name:this.name,method:e,options:Mm(this.options,it.ServiceOptions)})};var zgt=0;PP.fromDescriptor=function(e){return typeof e.length=="number"&&(e=it.MethodDescriptorProto.decode(e)),new PP(e.name&&e.name.length?e.name:"Method"+zgt++,"rpc",e.inputType,e.outputType,!!e.clientStreaming,!!e.serverStreaming,Pm(e.options,it.MethodOptions))};PP.prototype.toDescriptor=function(){return it.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:Mm(this.options,it.MethodOptions)})};function Jgt(t){switch(t){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+t)}function $gt(t){switch(t){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function Yq(t,e){switch(t){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(e instanceof Su)return 14;if(e instanceof $c)return e.group?10:11;throw Error("illegal type: "+t)}function Pm(t,e){if(t){for(var r=[],o=0,s,a,i;o<e.fieldsArray.length;++o)(a=(s=e._fieldsArray[o]).name)!=="uninterpretedOption"&&t.hasOwnProperty(a)&&(i=t[a],s.resolvedType instanceof Su&&typeof i=="number"&&s.resolvedType.valuesById[i]!==void 0&&(i=s.resolvedType.valuesById[i]),r.push(Qgt(a),i));return r.length?Vn.util.toObject(r):void 0}}function Mm(t,e){if(t){for(var r=[],o=0,s=Object.keys(t),a,i;o<s.length;++o)if(i=t[a=s[o]],a!=="default"){var n=e.fields[a];!n&&!(n=e.fields[a=Vn.util.camelCase(a)])||r.push(a,i)}return r.length?e.fromObject(Vn.util.toObject(r)):void 0}}function fIe(t,e){var r=t.fullName.split("."),o=e.fullName.split("."),s=0,a=0,i=o.length-1;if(!(t instanceof lE)&&e instanceof lIe)for(;s<r.length&&a<i&&r[s]===o[a];){var n=e.lookup(r[s++],!0);if(n!==null&&n!==e)break;++a}else for(;s<r.length&&a<i&&r[s]===o[a];++s,++a);return o.slice(a).join(".")}function Qgt(t){return t.substring(0,1)+t.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(e,r){return"_"+r.toLowerCase()})}});var gIe=h((Xrr,emt)=>{emt.exports={nested:{google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}}}});var mIe=h((zrr,tmt)=>{tmt.exports={nested:{google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var yIe=h((Jrr,rmt)=>{rmt.exports={nested:{google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}}}});var EIe=h(el=>{"use strict";l();Object.defineProperty(el,"__esModule",{value:!0});el.addCommonProtos=el.loadProtosWithOptionsSync=el.loadProtosWithOptions=void 0;var _Ie=require("fs"),SIe=require("path"),xm=NP();function bIe(t,e){let r=t.resolvePath;t.resolvePath=(o,s)=>{if(SIe.isAbsolute(s))return s;for(let a of e){let i=SIe.join(a,s);try{return _Ie.accessSync(i,_Ie.constants.R_OK),i}catch{continue}}return process.emitWarning(`${s} not found in any of the include paths ${e}`),r(o,s)}}async function nmt(t,e){let r=new xm.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));bIe(r,e.includeDirs)}let o=await r.load(t,e);return o.resolveAll(),o}el.loadProtosWithOptions=nmt;function imt(t,e){let r=new xm.Root;if(e=e||{},e.includeDirs){if(!Array.isArray(e.includeDirs))throw new Error("The includeDirs option must be an array");bIe(r,e.includeDirs)}let o=r.loadSync(t,e);return o.resolveAll(),o}el.loadProtosWithOptionsSync=imt;function omt(){let t=gIe(),e=qq(),r=mIe(),o=yIe();xm.common("api",t.nested.google.nested.protobuf.nested),xm.common("descriptor",e.nested.google.nested.protobuf.nested),xm.common("source_context",r.nested.google.nested.protobuf.nested),xm.common("type",o.nested.google.nested.protobuf.nested)}el.addCommonProtos=omt});var AIe=h((TIe,jq)=>{l();var vIe=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(k,O,te){this.low=k|0,this.high=O|0,this.unsigned=!!te}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0});function o(k){return(k&&k.__isLong__)===!0}function s(k){var O=Math.clz32(k&-k);return k?31-O:O}r.isLong=o;var a={},i={};function n(k,O){var te,H,J;return O?(k>>>=0,(J=0<=k&&k<256)&&(H=i[k],H)?H:(te=c(k,0,!0),J&&(i[k]=te),te)):(k|=0,(J=-128<=k&&k<128)&&(H=a[k],H)?H:(te=c(k,k<0?-1:0,!1),J&&(a[k]=te),te))}r.fromInt=n;function u(k,O){if(isNaN(k))return O?x:M;if(O){if(k<0)return x;if(k>=C)return ie}else{if(k<=-R)return _e;if(k+1>=R)return re}return k<0?u(-k,O).neg():c(k%T|0,k/T|0,O)}r.fromNumber=u;function c(k,O,te){return new r(k,O,te)}r.fromBits=c;var d=Math.pow;function f(k,O,te){if(k.length===0)throw Error("empty string");if(typeof O=="number"?(te=O,O=!1):O=!!O,k==="NaN"||k==="Infinity"||k==="+Infinity"||k==="-Infinity")return O?x:M;if(te=te||10,te<2||36<te)throw RangeError("radix");var H;if((H=k.indexOf("-"))>0)throw Error("interior hyphen");if(H===0)return f(k.substring(1),O,te).neg();for(var J=u(d(te,8)),ce=M,Oe=0;Oe<k.length;Oe+=8){var ue=Math.min(8,k.length-Oe),st=parseInt(k.substring(Oe,Oe+ue),te);if(ue<8){var $e=u(d(te,ue));ce=ce.mul($e).add(u(st))}else ce=ce.mul(J),ce=ce.add(u(st))}return ce.unsigned=O,ce}r.fromString=f;function g(k,O){return typeof k=="number"?u(k,O):typeof k=="string"?f(k,O):c(k.low,k.high,typeof O=="boolean"?O:k.unsigned)}r.fromValue=g;var y=65536,S=1<<24,T=y*y,C=T*T,R=C/2,P=n(S),M=n(0);r.ZERO=M;var x=n(0,!0);r.UZERO=x;var U=n(1);r.ONE=U;var D=n(1,!0);r.UONE=D;var W=n(-1);r.NEG_ONE=W;var re=c(-1,2147483647,!1);r.MAX_VALUE=re;var ie=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=ie;var _e=c(0,-2147483648,!1);r.MIN_VALUE=_e;var L=r.prototype;L.toInt=function(){return this.unsigned?this.low>>>0:this.low},L.toNumber=function(){return this.unsigned?(this.high>>>0)*T+(this.low>>>0):this.high*T+(this.low>>>0)},L.toString=function(O){if(O=O||10,O<2||36<O)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(_e)){var te=u(O),H=this.div(te),J=H.mul(te).sub(this);return H.toString(O)+J.toInt().toString(O)}else return"-"+this.neg().toString(O);for(var ce=u(d(O,6),this.unsigned),Oe=this,ue="";;){var st=Oe.div(ce),$e=Oe.sub(st.mul(ce)).toInt()>>>0,Ge=$e.toString(O);if(Oe=st,Oe.isZero())return Ge+ue;for(;Ge.length<6;)Ge="0"+Ge;ue=""+Ge+ue}},L.getHighBits=function(){return this.high},L.getHighBitsUnsigned=function(){return this.high>>>0},L.getLowBits=function(){return this.low},L.getLowBitsUnsigned=function(){return this.low>>>0},L.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_e)?64:this.neg().getNumBitsAbs();for(var O=this.high!=0?this.high:this.low,te=31;te>0&&!(O&1<<te);te--);return this.high!=0?te+33:te+1},L.isZero=function(){return this.high===0&&this.low===0},L.eqz=L.isZero,L.isNegative=function(){return!this.unsigned&&this.high<0},L.isPositive=function(){return this.unsigned||this.high>=0},L.isOdd=function(){return(this.low&1)===1},L.isEven=function(){return(this.low&1)===0},L.equals=function(O){return o(O)||(O=g(O)),this.unsigned!==O.unsigned&&this.high>>>31===1&&O.high>>>31===1?!1:this.high===O.high&&this.low===O.low},L.eq=L.equals,L.notEquals=function(O){return!this.eq(O)},L.neq=L.notEquals,L.ne=L.notEquals,L.lessThan=function(O){return this.comp(O)<0},L.lt=L.lessThan,L.lessThanOrEqual=function(O){return this.comp(O)<=0},L.lte=L.lessThanOrEqual,L.le=L.lessThanOrEqual,L.greaterThan=function(O){return this.comp(O)>0},L.gt=L.greaterThan,L.greaterThanOrEqual=function(O){return this.comp(O)>=0},L.gte=L.greaterThanOrEqual,L.ge=L.greaterThanOrEqual,L.compare=function(O){if(o(O)||(O=g(O)),this.eq(O))return 0;var te=this.isNegative(),H=O.isNegative();return te&&!H?-1:!te&&H?1:this.unsigned?O.high>>>0>this.high>>>0||O.high===this.high&&O.low>>>0>this.low>>>0?-1:1:this.sub(O).isNegative()?-1:1},L.comp=L.compare,L.negate=function(){return!this.unsigned&&this.eq(_e)?_e:this.not().add(U)},L.neg=L.negate,L.add=function(O){o(O)||(O=g(O));var te=this.high>>>16,H=this.high&65535,J=this.low>>>16,ce=this.low&65535,Oe=O.high>>>16,ue=O.high&65535,st=O.low>>>16,$e=O.low&65535,Ge=0,at=0,He=0,vt=0;return vt+=ce+$e,He+=vt>>>16,vt&=65535,He+=J+st,at+=He>>>16,He&=65535,at+=H+ue,Ge+=at>>>16,at&=65535,Ge+=te+Oe,Ge&=65535,c(He<<16|vt,Ge<<16|at,this.unsigned)},L.subtract=function(O){return o(O)||(O=g(O)),this.add(O.neg())},L.sub=L.subtract,L.multiply=function(O){if(this.isZero())return this;if(o(O)||(O=g(O)),e){var te=e.mul(this.low,this.high,O.low,O.high);return c(te,e.get_high(),this.unsigned)}if(O.isZero())return this.unsigned?x:M;if(this.eq(_e))return O.isOdd()?_e:M;if(O.eq(_e))return this.isOdd()?_e:M;if(this.isNegative())return O.isNegative()?this.neg().mul(O.neg()):this.neg().mul(O).neg();if(O.isNegative())return this.mul(O.neg()).neg();if(this.lt(P)&&O.lt(P))return u(this.toNumber()*O.toNumber(),this.unsigned);var H=this.high>>>16,J=this.high&65535,ce=this.low>>>16,Oe=this.low&65535,ue=O.high>>>16,st=O.high&65535,$e=O.low>>>16,Ge=O.low&65535,at=0,He=0,vt=0,ar=0;return ar+=Oe*Ge,vt+=ar>>>16,ar&=65535,vt+=ce*Ge,He+=vt>>>16,vt&=65535,vt+=Oe*$e,He+=vt>>>16,vt&=65535,He+=J*Ge,at+=He>>>16,He&=65535,He+=ce*$e,at+=He>>>16,He&=65535,He+=Oe*st,at+=He>>>16,He&=65535,at+=H*Ge+J*$e+ce*st+Oe*ue,at&=65535,c(vt<<16|ar,at<<16|He,this.unsigned)},L.mul=L.multiply,L.divide=function(O){if(o(O)||(O=g(O)),O.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&O.low===-1&&O.high===-1)return this;var te=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,O.low,O.high);return c(te,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x:M;var H,J,ce;if(this.unsigned){if(O.unsigned||(O=O.toUnsigned()),O.gt(this))return x;if(O.gt(this.shru(1)))return D;ce=x}else{if(this.eq(_e)){if(O.eq(U)||O.eq(W))return _e;if(O.eq(_e))return U;var Oe=this.shr(1);return H=Oe.div(O).shl(1),H.eq(M)?O.isNegative()?U:W:(J=this.sub(O.mul(H)),ce=H.add(J.div(O)),ce)}else if(O.eq(_e))return this.unsigned?x:M;if(this.isNegative())return O.isNegative()?this.neg().div(O.neg()):this.neg().div(O).neg();if(O.isNegative())return this.div(O.neg()).neg();ce=M}for(J=this;J.gte(O);){H=Math.max(1,Math.floor(J.toNumber()/O.toNumber()));for(var ue=Math.ceil(Math.log(H)/Math.LN2),st=ue<=48?1:d(2,ue-48),$e=u(H),Ge=$e.mul(O);Ge.isNegative()||Ge.gt(J);)H-=st,$e=u(H,this.unsigned),Ge=$e.mul(O);$e.isZero()&&($e=U),ce=ce.add($e),J=J.sub(Ge)}return ce},L.div=L.divide,L.modulo=function(O){if(o(O)||(O=g(O)),e){var te=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,O.low,O.high);return c(te,e.get_high(),this.unsigned)}return this.sub(this.div(O).mul(O))},L.mod=L.modulo,L.rem=L.modulo,L.not=function(){return c(~this.low,~this.high,this.unsigned)},L.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},L.clz=L.countLeadingZeros,L.countTrailingZeros=function(){return this.low?s(this.low):s(this.high)+32},L.ctz=L.countTrailingZeros,L.and=function(O){return o(O)||(O=g(O)),c(this.low&O.low,this.high&O.high,this.unsigned)},L.or=function(O){return o(O)||(O=g(O)),c(this.low|O.low,this.high|O.high,this.unsigned)},L.xor=function(O){return o(O)||(O=g(O)),c(this.low^O.low,this.high^O.high,this.unsigned)},L.shiftLeft=function(O){return o(O)&&(O=O.toInt()),(O&=63)===0?this:O<32?c(this.low<<O,this.high<<O|this.low>>>32-O,this.unsigned):c(0,this.low<<O-32,this.unsigned)},L.shl=L.shiftLeft,L.shiftRight=function(O){return o(O)&&(O=O.toInt()),(O&=63)===0?this:O<32?c(this.low>>>O|this.high<<32-O,this.high>>O,this.unsigned):c(this.high>>O-32,this.high>=0?0:-1,this.unsigned)},L.shr=L.shiftRight,L.shiftRightUnsigned=function(O){return o(O)&&(O=O.toInt()),(O&=63)===0?this:O<32?c(this.low>>>O|this.high<<32-O,this.high>>>O,this.unsigned):O===32?c(this.high,0,this.unsigned):c(this.high>>>O-32,0,this.unsigned)},L.shru=L.shiftRightUnsigned,L.shr_u=L.shiftRightUnsigned,L.rotateLeft=function(O){var te;return o(O)&&(O=O.toInt()),(O&=63)===0?this:O===32?c(this.high,this.low,this.unsigned):O<32?(te=32-O,c(this.low<<O|this.high>>>te,this.high<<O|this.low>>>te,this.unsigned)):(O-=32,te=32-O,c(this.high<<O|this.low>>>te,this.low<<O|this.high>>>te,this.unsigned))},L.rotl=L.rotateLeft,L.rotateRight=function(O){var te;return o(O)&&(O=O.toInt()),(O&=63)===0?this:O===32?c(this.high,this.low,this.unsigned):O<32?(te=32-O,c(this.high<<te|this.low>>>O,this.low<<te|this.high>>>O,this.unsigned)):(O-=32,te=32-O,c(this.low<<te|this.high>>>O,this.high<<te|this.low>>>O,this.unsigned))},L.rotr=L.rotateRight,L.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},L.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},L.toBytes=function(O){return O?this.toBytesLE():this.toBytesBE()},L.toBytesLE=function(){var O=this.high,te=this.low;return[te&255,te>>>8&255,te>>>16&255,te>>>24,O&255,O>>>8&255,O>>>16&255,O>>>24]},L.toBytesBE=function(){var O=this.high,te=this.low;return[O>>>24,O>>>16&255,O>>>8&255,O&255,te>>>24,te>>>16&255,te>>>8&255,te&255]},r.fromBytes=function(O,te,H){return H?r.fromBytesLE(O,te):r.fromBytesBE(O,te)},r.fromBytesLE=function(O,te){return new r(O[0]|O[1]<<8|O[2]<<16|O[3]<<24,O[4]|O[5]<<8|O[6]<<16|O[7]<<24,te)},r.fromBytesBE=function(O,te){return new r(O[4]<<24|O[5]<<16|O[6]<<8|O[7],O[0]<<24|O[1]<<16|O[2]<<8|O[3],te)};var le=r;return t.default=le,"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return vIe}):typeof jq=="object"&&typeof TIe=="object"&&(jq.exports=vIe)});var wIe=h(In=>{"use strict";l();Object.defineProperty(In,"__esModule",{value:!0});In.loadFileDescriptorSetFromObject=In.loadFileDescriptorSetFromBuffer=In.fromJSON=In.loadSync=In.load=In.isAnyExtension=In.Long=void 0;var smt=rAe(),oa=NP(),Xq=hIe(),zq=EIe(),amt=AIe();In.Long=amt;function umt(t){return"@type"in t&&typeof t["@type"]=="string"}In.isAnyExtension=umt;var RIe={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function cmt(t,e){return t===""?e:t+"."+e}function lmt(t){return t instanceof oa.Service||t instanceof oa.Type||t instanceof oa.Enum}function dmt(t){return t instanceof oa.Namespace||t instanceof oa.Root}function OIe(t,e){let r=cmt(e,t.name);return lmt(t)?[[r,t]]:dmt(t)&&typeof t.nested<"u"?Object.keys(t.nested).map(o=>OIe(t.nested[o],r)).reduce((o,s)=>o.concat(s),[]):[]}function IIe(t,e){return function(o){return t.toObject(t.decode(o),e)}}function CIe(t){return function(r){if(Array.isArray(r))throw new Error(`Failed to serialize message: expected object with ${t.name} structure, got array instead`);let o=t.fromObject(r);return t.encode(o).finish()}}function fmt(t,e,r,o){let s=t.resolvedRequestType,a=t.resolvedResponseType;return{path:"/"+e+"/"+t.name,requestStream:!!t.requestStream,responseStream:!!t.responseStream,requestSerialize:CIe(s),requestDeserialize:IIe(s,r),responseSerialize:CIe(a),responseDeserialize:IIe(a,r),originalName:smt(t.name),requestType:Kq(s,o),responseType:Kq(a,o)}}function pmt(t,e,r,o){let s={};for(let a of t.methodsArray)s[a.name]=fmt(a,e,r,o);return s}function Kq(t,e){let r=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,RIe),fileDescriptorProtos:e}}function hmt(t,e){let r=t.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,RIe),fileDescriptorProtos:e}}function gmt(t,e,r,o){if(t instanceof oa.Service)return pmt(t,e,r,o);if(t instanceof oa.Type)return Kq(t,o);if(t instanceof oa.Enum)return hmt(t,o);throw new Error("Type mismatch in reflection object handling")}function MP(t,e){let r={};t.resolveAll();let s=t.toDescriptor("proto3").file.map(a=>Buffer.from(Xq.FileDescriptorProto.encode(a).finish()));for(let[a,i]of OIe(t,""))r[a]=gmt(i,a,e,s);return r}function NIe(t,e){e=e||{};let r=oa.Root.fromDescriptor(t);return r.resolveAll(),MP(r,e)}function mmt(t,e){return(0,zq.loadProtosWithOptions)(t,e).then(r=>MP(r,e))}In.load=mmt;function ymt(t,e){let r=(0,zq.loadProtosWithOptionsSync)(t,e);return MP(r,e)}In.loadSync=ymt;function _mt(t,e){e=e||{};let r=oa.Root.fromJSON(t);return r.resolveAll(),MP(r,e)}In.fromJSON=_mt;function Smt(t,e){let r=Xq.FileDescriptorSet.decode(t);return NIe(r,e)}In.loadFileDescriptorSetFromBuffer=Smt;function bmt(t,e){let r=Xq.FileDescriptorSet.fromObject(t);return NIe(r,e)}In.loadFileDescriptorSetFromObject=bmt;(0,zq.addCommonProtos)()});var Uf=h(Jt=>{"use strict";l();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.setup=Jt.getChannelzServiceDefinition=Jt.getChannelzHandlers=Jt.unregisterChannelzRef=Jt.registerChannelzSocket=Jt.registerChannelzServer=Jt.registerChannelzSubchannel=Jt.registerChannelzChannel=Jt.ChannelzCallTracker=Jt.ChannelzChildrenTracker=Jt.ChannelzTrace=void 0;var PIe=require("net"),fE=_o(),hE=pt(),Emt=ts(),vmt=oP(),Tmt=cq();function Jq(t){return{channel_id:t.id,name:t.name}}function tY(t){return{subchannel_id:t.id,name:t.name}}function Amt(t){return{server_id:t.id}}function BP(t){return{socket_id:t.id,name:t.name}}var MIe=32,$q=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,r,o){let s=new Date;this.events.push({description:r,severity:e,timestamp:s,childChannel:o?.kind==="channel"?o:void 0,childSubchannel:o?.kind==="subchannel"?o:void 0}),this.events.length>=MIe*2&&(this.events=this.events.slice(MIe)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:bu(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(e=>({description:e.description,severity:e.severity,timestamp:bu(e.timestamp),channel_ref:e.childChannel?Jq(e.childChannel):null,subchannel_ref:e.childSubchannel?tY(e.childSubchannel):null}))}}};Jt.ChannelzTrace=$q;var Qq=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var r,o,s;switch(e.kind){case"channel":{let a=(r=this.channelChildren.get(e.id))!==null&&r!==void 0?r:{ref:e,count:0};a.count+=1,this.channelChildren.set(e.id,a);break}case"subchannel":{let a=(o=this.subchannelChildren.get(e.id))!==null&&o!==void 0?o:{ref:e,count:0};a.count+=1,this.subchannelChildren.set(e.id,a);break}case"socket":{let a=(s=this.socketChildren.get(e.id))!==null&&s!==void 0?s:{ref:e,count:0};a.count+=1,this.socketChildren.set(e.id,a);break}}}unrefChild(e){switch(e.kind){case"channel":{let r=this.channelChildren.get(e.id);r!==void 0&&(r.count-=1,r.count===0?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,r));break}case"subchannel":{let r=this.subchannelChildren.get(e.id);r!==void 0&&(r.count-=1,r.count===0?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,r));break}case"socket":{let r=this.socketChildren.get(e.id);r!==void 0&&(r.count-=1,r.count===0?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,r));break}}}getChildLists(){let e=[];for(let{ref:s}of this.channelChildren.values())e.push(s);let r=[];for(let{ref:s}of this.subchannelChildren.values())r.push(s);let o=[];for(let{ref:s}of this.socketChildren.values())o.push(s);return{channels:e,subchannels:r,sockets:o}}};Jt.ChannelzChildrenTracker=Qq;var eY=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};Jt.ChannelzCallTracker=eY;var Imt=1;function DP(){return Imt++}var pE=[],rY=[],tl=[],nY=[];function Cmt(t,e,r){let o=DP(),s={id:o,name:t,kind:"channel"};return r&&(pE[o]={ref:s,getInfo:e}),s}Jt.registerChannelzChannel=Cmt;function Rmt(t,e,r){let o=DP(),s={id:o,name:t,kind:"subchannel"};return r&&(rY[o]={ref:s,getInfo:e}),s}Jt.registerChannelzSubchannel=Rmt;function Omt(t,e){let r=DP(),o={id:r,kind:"server"};return e&&(tl[r]={ref:o,getInfo:t}),o}Jt.registerChannelzServer=Omt;function Nmt(t,e,r){let o=DP(),s={id:o,name:t,kind:"socket"};return r&&(nY[o]={ref:s,getInfo:e}),s}Jt.registerChannelzSocket=Nmt;function wmt(t){switch(t.kind){case"channel":delete pE[t.id];return;case"subchannel":delete rY[t.id];return;case"server":delete tl[t.id];return;case"socket":delete nY[t.id];return}}Jt.unregisterChannelzRef=wmt;function Pmt(t){let e=Number.parseInt(t,16);return[e/256|0,e%256]}function xIe(t){if(t==="")return[];let e=t.split(":").map(o=>Pmt(o));return[].concat(...e)}function Mmt(t){if((0,PIe.isIPv4)(t))return Buffer.from(Uint8Array.from(t.split(".").map(e=>Number.parseInt(e))));if((0,PIe.isIPv6)(t)){let e,r,o=t.indexOf("::");o===-1?(e=t,r=""):(e=t.substring(0,o),r=t.substring(o+2));let s=Buffer.from(xIe(e)),a=Buffer.from(xIe(r)),i=Buffer.alloc(16-s.length-a.length,0);return Buffer.concat([s,i,a])}else return null}function DIe(t){switch(t){case fE.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case fE.ConnectivityState.IDLE:return{state:"IDLE"};case fE.ConnectivityState.READY:return{state:"READY"};case fE.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case fE.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function bu(t){if(!t)return null;let e=t.getTime();return{seconds:e/1e3|0,nanos:e%1e3*1e6}}function LIe(t){let e=t.getInfo();return{ref:Jq(t.ref),data:{target:e.target,state:DIe(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:bu(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},channel_ref:e.children.channels.map(r=>Jq(r)),subchannel_ref:e.children.subchannels.map(r=>tY(r))}}function xmt(t,e){let r=Number.parseInt(t.request.channel_id),o=pE[r];if(o===void 0){e({code:hE.Status.NOT_FOUND,details:"No channel data found for id "+r});return}e(null,{channel:LIe(o)})}function Bmt(t,e){let r=Number.parseInt(t.request.max_results),o=[],s=Number.parseInt(t.request.start_channel_id);for(;s<pE.length;s++){let a=pE[s];if(a!==void 0&&(o.push(LIe(a)),o.length>=r))break}e(null,{channel:o,end:s>=tl.length})}function UIe(t){let e=t.getInfo();return{ref:Amt(t.ref),data:{calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:bu(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},listen_socket:e.listenerChildren.sockets.map(r=>BP(r))}}function Dmt(t,e){let r=Number.parseInt(t.request.server_id),o=tl[r];if(o===void 0){e({code:hE.Status.NOT_FOUND,details:"No server data found for id "+r});return}e(null,{server:UIe(o)})}function Lmt(t,e){let r=Number.parseInt(t.request.max_results),o=[],s=Number.parseInt(t.request.start_server_id);for(;s<tl.length;s++){let a=tl[s];if(a!==void 0&&(o.push(UIe(a)),o.length>=r))break}e(null,{server:o,end:s>=tl.length})}function Umt(t,e){let r=Number.parseInt(t.request.subchannel_id),o=rY[r];if(o===void 0){e({code:hE.Status.NOT_FOUND,details:"No subchannel data found for id "+r});return}let s=o.getInfo(),a={ref:tY(o.ref),data:{target:s.target,state:DIe(s.state),calls_started:s.callTracker.callsStarted,calls_succeeded:s.callTracker.callsSucceeded,calls_failed:s.callTracker.callsFailed,last_call_started_timestamp:bu(s.callTracker.lastCallStartedTimestamp),trace:s.trace.getTraceMessage()},socket_ref:s.children.sockets.map(i=>BP(i))};e(null,{subchannel:a})}function BIe(t){var e;return(0,Emt.isTcpSubchannelAddress)(t)?{address:"tcpip_address",tcpip_address:{ip_address:(e=Mmt(t.host))!==null&&e!==void 0?e:void 0,port:t.port}}:{address:"uds_address",uds_address:{filename:t.path}}}function Gmt(t,e){var r,o,s,a,i;let n=Number.parseInt(t.request.socket_id),u=nY[n];if(u===void 0){e({code:hE.Status.NOT_FOUND,details:"No socket data found for id "+n});return}let c=u.getInfo(),d=c.security?{model:"tls",tls:{cipher_suite:c.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(r=c.security.cipherSuiteStandardName)!==null&&r!==void 0?r:void 0,other_name:(o=c.security.cipherSuiteOtherName)!==null&&o!==void 0?o:void 0,local_certificate:(s=c.security.localCertificate)!==null&&s!==void 0?s:void 0,remote_certificate:(a=c.security.remoteCertificate)!==null&&a!==void 0?a:void 0}}:null,f={ref:BP(u.ref),local:c.localAddress?BIe(c.localAddress):null,remote:c.remoteAddress?BIe(c.remoteAddress):null,remote_name:(i=c.remoteName)!==null&&i!==void 0?i:void 0,security:d,data:{keep_alives_sent:c.keepAlivesSent,streams_started:c.streamsStarted,streams_succeeded:c.streamsSucceeded,streams_failed:c.streamsFailed,last_local_stream_created_timestamp:bu(c.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:bu(c.lastRemoteStreamCreatedTimestamp),messages_received:c.messagesReceived,messages_sent:c.messagesSent,last_message_received_timestamp:bu(c.lastMessageReceivedTimestamp),last_message_sent_timestamp:bu(c.lastMessageSentTimestamp),local_flow_control_window:c.localFlowControlWindow?{value:c.localFlowControlWindow}:null,remote_flow_control_window:c.remoteFlowControlWindow?{value:c.remoteFlowControlWindow}:null}};e(null,{socket:f})}function Vmt(t,e){let r=Number.parseInt(t.request.server_id),o=tl[r];if(o===void 0){e({code:hE.Status.NOT_FOUND,details:"No server data found for id "+r});return}let s=Number.parseInt(t.request.start_socket_id),a=Number.parseInt(t.request.max_results),n=o.getInfo().sessionChildren.sockets.sort((d,f)=>d.id-f.id),u=[],c=0;for(;c<n.length&&!(n[c].id>=s&&(u.push(BP(n[c])),u.length>=a));c++);e(null,{socket_ref:u,end:c>=n.length})}function GIe(){return{GetChannel:xmt,GetTopChannels:Bmt,GetServer:Dmt,GetServers:Lmt,GetSubchannel:Umt,GetSocket:Gmt,GetServerSockets:Vmt}}Jt.getChannelzHandlers=GIe;var xP=null;function VIe(){if(xP)return xP;let t=wIe().loadSync,e=t("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return xP=(0,Tmt.loadPackageDefinition)(e).grpc.channelz.v1.Channelz.service,xP}Jt.getChannelzServiceDefinition=VIe;function Fmt(){(0,vmt.registerAdminService)(VIe,GIe)}Jt.setup=Fmt});var FIe=h(UP=>{"use strict";l();Object.defineProperty(UP,"__esModule",{value:!0});UP.Subchannel=void 0;var Lt=_o(),Hmt=Kb(),iY=tr(),LP=pt(),kmt=Bi(),Wmt=ts(),Bm=Uf(),Zmt="subchannel",qmt=~(1<<31),oY=class{constructor(e,r,o,s,a){var i;this.channelTarget=e,this.subchannelAddress=r,this.options=o,this.credentials=s,this.connector=a,this.connectivityState=Lt.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new Bm.ChannelzCallTracker,this.childrenTracker=new Bm.ChannelzChildrenTracker,this.streamTracker=new Bm.ChannelzCallTracker;let n={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new Hmt.BackoffTimeout(()=>{this.handleBackoffTimer()},n),this.backoffTimeout.unref(),this.subchannelAddressString=(0,Wmt.subchannelAddressToString)(r),this.keepaliveTime=(i=o["grpc.keepalive_time_ms"])!==null&&i!==void 0?i:-1,o["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new Bm.ChannelzTrace,this.channelzRef=(0,Bm.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(o,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){iY.trace(LP.LogVerbosity.DEBUG,Zmt,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){iY.trace(LP.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([Lt.ConnectivityState.TRANSIENT_FAILURE],Lt.ConnectivityState.CONNECTING):this.transitionToState([Lt.ConnectivityState.TRANSIENT_FAILURE],Lt.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){let r=Math.min(this.keepaliveTime,qmt);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":r})}this.connector.connect(this.subchannelAddress,this.credentials,e).then(r=>{this.transitionToState([Lt.ConnectivityState.CONNECTING],Lt.ConnectivityState.READY)?(this.transport=r,this.channelzEnabled&&this.childrenTracker.refChild(r.getChannelzRef()),r.addDisconnectListener(o=>{this.transitionToState([Lt.ConnectivityState.READY],Lt.ConnectivityState.IDLE),o&&this.keepaliveTime>0&&(this.keepaliveTime*=2,iY.log(LP.LogVerbosity.ERROR,`Connection to ${(0,kmt.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):r.shutdown()},r=>{this.transitionToState([Lt.ConnectivityState.CONNECTING],Lt.ConnectivityState.TRANSIENT_FAILURE,`${r}`)})}transitionToState(e,r,o){var s,a;if(e.indexOf(this.connectivityState)===-1)return!1;this.trace(Lt.ConnectivityState[this.connectivityState]+" -> "+Lt.ConnectivityState[r]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+Lt.ConnectivityState[r]);let i=this.connectivityState;switch(this.connectivityState=r,r){case Lt.ConnectivityState.READY:this.stopBackoff();break;case Lt.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case Lt.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(s=this.transport)===null||s===void 0||s.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case Lt.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(a=this.transport)===null||a===void 0||a.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${r}`)}for(let n of this.stateListeners)n(this,i,r,this.keepaliveTime,o);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,Bm.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([Lt.ConnectivityState.CONNECTING,Lt.ConnectivityState.READY],Lt.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(e,r,o,s){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let a;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),a={onCallEnd:i=>{i.code===LP.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):a={},this.transport.createCall(e,r,o,s,a)}startConnecting(){process.nextTick(()=>{this.transitionToState([Lt.ConnectivityState.IDLE],Lt.ConnectivityState.CONNECTING)||this.connectivityState===Lt.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([Lt.ConnectivityState.TRANSIENT_FAILURE],Lt.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(e){}removeHealthStateWatcher(e){}getRealSubchannel(){return this}realSubchannelEquals(e){return e.getRealSubchannel()===this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}};UP.Subchannel=oY});var cY=h(il=>{"use strict";l();Object.defineProperty(il,"__esModule",{value:!0});il.setup=il.DEFAULT_PORT=void 0;var HIe=$s(),WIe=require("dns"),ZIe=require("util"),Ymt=D5(),sY=pt(),aY=Tn(),jmt=tr(),Kmt=pt(),rl=Bi(),kIe=require("net"),Xmt=Kb(),zmt="dns_resolver";function nl(t){jmt.trace(Kmt.LogVerbosity.DEBUG,zmt,t)}il.DEFAULT_PORT=443;var Jmt=3e4,$mt=ZIe.promisify(WIe.resolveTxt),Qmt=ZIe.promisify(WIe.lookup),uY=class{constructor(e,r,o){var s,a,i;this.target=e,this.listener=r,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,nl("Resolver constructed for target "+(0,rl.uriToString)(e));let n=(0,rl.splitHostPort)(e.path);n===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,kIe.isIPv4)(n.host)||(0,kIe.isIPv6)(n.host)?(this.ipResult=[{addresses:[{host:n.host,port:(s=n.port)!==null&&s!==void 0?s:il.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=n.host,this.port=(a=n.port)!==null&&a!==void 0?a:il.DEFAULT_PORT),this.percentage=Math.random()*100,o["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:sY.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,rl.uriToString)(this.target)}`,metadata:new aY.Metadata};let u={initialDelay:o["grpc.initial_reconnect_backoff_ms"],maxDelay:o["grpc.max_reconnect_backoff_ms"]};this.backoff=new Xmt.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},u),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(i=o["grpc.dns_min_time_between_resolutions_ms"])!==null&&i!==void 0?i:Jmt,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(nl("Returning IP address for target "+(0,rl.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)nl("Failed to parse DNS address "+(0,rl.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:sY.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,rl.uriToString)(this.target)}`,metadata:new aY.Metadata})}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;nl("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let e=this.dnsHostname;this.pendingLookupPromise=Qmt(e,{all:!0}),this.pendingLookupPromise.then(r=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let o=r.map(a=>({host:a.address,port:+this.port}));this.latestLookupResult=o.map(a=>({addresses:[a]}));let s="["+o.map(a=>a.host+":"+a.port).join(",")+"]";if(nl("Resolved addresses for target "+(0,rl.uriToString)(this.target)+": "+s),this.latestLookupResult.length===0){this.listener.onError(this.defaultResolutionError);return}this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},r=>{this.pendingLookupPromise!==null&&(nl("Resolution error for target "+(0,rl.uriToString)(this.target)+": "+r.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=$mt(e),this.pendingTxtPromise.then(r=>{if(this.pendingTxtPromise!==null){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,Ymt.extractAndSelectServiceConfig)(r,this.percentage)}catch(o){this.latestServiceConfigError={code:sY.Status.UNAVAILABLE,details:`Parsing service config failed with error ${o.message}`,metadata:new aY.Metadata}}this.latestLookupResult!==null&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},r=>{}))}}startNextResolutionTimer(){var e,r;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=(r=(e=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)===null||r===void 0?void 0:r.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?nl('resolution update delayed by "min time between resolutions" rate limit'):nl("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(e){return e.path}};function eyt(){(0,HIe.registerResolver)("dns",uY),(0,HIe.registerDefaultScheme)("dns")}il.setup=eyt});var lY=h(Um=>{"use strict";l();Object.defineProperty(Um,"__esModule",{value:!0});Um.getProxiedConnection=Um.mapProxyName=void 0;var gE=tr(),Dm=pt(),tyt=$s(),ryt=require("http"),nyt=require("tls"),iyt=tr(),qIe=ts(),Lm=Bi(),oyt=require("url"),syt=cY(),ayt="proxy";function ol(t){iyt.trace(Dm.LogVerbosity.DEBUG,ayt,t)}function uyt(){let t="",e="";if(process.env.grpc_proxy)e="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)e="https_proxy",t=process.env.https_proxy;else if(process.env.http_proxy)e="http_proxy",t=process.env.http_proxy;else return{};let r;try{r=new oyt.URL(t)}catch{return(0,gE.log)(Dm.LogVerbosity.ERROR,`cannot parse value of "${e}" env var`),{}}if(r.protocol!=="http:")return(0,gE.log)(Dm.LogVerbosity.ERROR,`"${r.protocol}" scheme not supported in proxy URI`),{};let o=null;r.username&&(r.password?((0,gE.log)(Dm.LogVerbosity.INFO,"userinfo found in proxy URI"),o=`${r.username}:${r.password}`):o=r.username);let s=r.hostname,a=r.port;a===""&&(a="80");let i={address:`${s}:${a}`};return o&&(i.creds=o),ol("Proxy server "+i.address+" set by environment variable "+e),i}function cyt(){let t=process.env.no_grpc_proxy,e="no_grpc_proxy";return t||(t=process.env.no_proxy,e="no_proxy"),t?(ol("No proxy server list set by environment variable "+e),t.split(",")):[]}function lyt(t,e){var r;let o={target:t,extraOptions:{}};if(((r=e["grpc.enable_http_proxy"])!==null&&r!==void 0?r:1)===0||t.scheme==="unix")return o;let s=uyt();if(!s.address)return o;let a=(0,Lm.splitHostPort)(t.path);if(!a)return o;let i=a.host;for(let u of cyt())if(u===i)return ol("Not using proxy for target in no_proxy list: "+(0,Lm.uriToString)(t)),o;let n={"grpc.http_connect_target":(0,Lm.uriToString)(t)};return s.creds&&(n["grpc.http_connect_creds"]=s.creds),{target:{scheme:"dns",path:s.address},extraOptions:n}}Um.mapProxyName=lyt;function dyt(t,e,r){var o;if(!("grpc.http_connect_target"in e))return Promise.resolve({});let s=e["grpc.http_connect_target"],a=(0,Lm.parseUri)(s);if(a===null)return Promise.resolve({});let i=(0,Lm.splitHostPort)(a.path);if(i===null)return Promise.resolve({});let n=`${i.host}:${(o=i.port)!==null&&o!==void 0?o:syt.DEFAULT_PORT}`,u={method:"CONNECT",path:n},c={Host:n};(0,qIe.isTcpSubchannelAddress)(t)?(u.host=t.host,u.port=t.port):u.socketPath=t.path,"grpc.http_connect_creds"in e&&(c["Proxy-Authorization"]="Basic "+Buffer.from(e["grpc.http_connect_creds"]).toString("base64")),u.headers=c;let d=(0,qIe.subchannelAddressToString)(t);return ol("Using proxy "+d+" to connect to "+u.path),new Promise((f,g)=>{let y=ryt.request(u);y.once("connect",(S,T,C)=>{var R;if(y.removeAllListeners(),T.removeAllListeners(),S.statusCode===200)if(ol("Successfully connected to "+u.path+" through proxy "+d),"secureContext"in r){let P=(0,tyt.getDefaultAuthority)(a),M=(0,Lm.splitHostPort)(P),x=(R=M?.host)!==null&&R!==void 0?R:P,U=nyt.connect(Object.assign({host:x,servername:x,socket:T},r),()=>{ol("Successfully established a TLS connection to "+u.path+" through proxy "+d),f({socket:U,realTarget:a})});U.on("error",D=>{ol("Failed to establish a TLS connection to "+u.path+" through proxy "+d+" with error "+D.message),g()})}else ol("Successfully established a plaintext connection to "+u.path+" through proxy "+d),f({socket:T,realTarget:a});else(0,gE.log)(Dm.LogVerbosity.ERROR,"Failed to connect to "+u.path+" through proxy "+d+" with status "+S.statusCode),g()}),y.once("error",S=>{y.removeAllListeners(),(0,gE.log)(Dm.LogVerbosity.ERROR,"Failed to connect to proxy "+d+" with error "+S.message),g()}),y.end()})}Um.getProxiedConnection=dyt});var fY=h(GP=>{"use strict";l();Object.defineProperty(GP,"__esModule",{value:!0});GP.StreamDecoder=void 0;var sa;(function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE"})(sa||(sa={}));var dY=class{constructor(){this.readState=sa.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let r=0,o,s=[];for(;r<e.length;)switch(this.readState){case sa.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=sa.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case sa.READING_SIZE:if(o=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+o),this.readSizeRemaining-=o,r+=o,this.readSizeRemaining===0)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=sa.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=sa.NO_DATA,s.push(a)}break;case sa.READING_MESSAGE:if(o=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+o)),this.readMessageRemaining-=o,r+=o,this.readMessageRemaining===0){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),i=Buffer.concat(a,this.readMessageSize+5);this.readState=sa.NO_DATA,s.push(i)}break;default:throw new Error("Unexpected read state")}return s}};GP.StreamDecoder=dY});var YIe=h(VP=>{"use strict";l();Object.defineProperty(VP,"__esModule",{value:!0});VP.Http2SubchannelCall=void 0;var Eu=require("http2"),fyt=require("os"),Rt=pt(),sl=Tn(),pyt=fY(),hyt=tr(),gyt=pt(),myt="subchannel_call";function yyt(t){for(let[e,r]of Object.entries(fyt.constants.errno))if(r===t)return e;return"Unknown system error "+t}var pY=class{constructor(e,r,o,s,a){this.http2Stream=e,this.callEventTracker=r,this.listener=o,this.transport=s,this.callId=a,this.decoder=new pyt.StreamDecoder,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=Rt.Status.UNKNOWN,this.finalStatus=null,this.internalError=null,e.on("response",(i,n)=>{let u="";for(let c of Object.keys(i))u+="		"+c+": "+i[c]+`
`;switch(this.trace(`Received server headers:
`+u),i[":status"]){case 400:this.mappedStatusCode=Rt.Status.INTERNAL;break;case 401:this.mappedStatusCode=Rt.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=Rt.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=Rt.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=Rt.Status.UNAVAILABLE;break;default:this.mappedStatusCode=Rt.Status.UNKNOWN}if(n&Eu.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(i);else{let c;try{c=sl.Metadata.fromHttp2Headers(i)}catch(d){this.endCall({code:Rt.Status.UNKNOWN,details:d.message,metadata:new sl.Metadata});return}this.listener.onReceiveMetadata(c)}}),e.on("trailers",i=>{this.handleTrailers(i)}),e.on("data",i=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+i.length);let n=this.decoder.write(i);for(let u of n)this.trace("parsed message of length "+u.length),this.callEventTracker.addMessageReceived(),this.tryPush(u)}),e.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),e.on("close",()=>{process.nextTick(()=>{var i;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),((i=this.finalStatus)===null||i===void 0?void 0:i.code)===Rt.Status.OK)return;let n,u="";switch(e.rstCode){case Eu.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;n=Rt.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`;break;case Eu.constants.NGHTTP2_REFUSED_STREAM:n=Rt.Status.UNAVAILABLE,u="Stream refused by server";break;case Eu.constants.NGHTTP2_CANCEL:n=Rt.Status.CANCELLED,u="Call cancelled";break;case Eu.constants.NGHTTP2_ENHANCE_YOUR_CALM:n=Rt.Status.RESOURCE_EXHAUSTED,u="Bandwidth exhausted or memory limit exceeded";break;case Eu.constants.NGHTTP2_INADEQUATE_SECURITY:n=Rt.Status.PERMISSION_DENIED,u="Protocol not secure enough";break;case Eu.constants.NGHTTP2_INTERNAL_ERROR:n=Rt.Status.INTERNAL,this.internalError===null?u=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(n=Rt.Status.UNAVAILABLE,u=this.internalError.message):u=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:n=Rt.Status.INTERNAL,u=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:n,details:u,metadata:new sl.Metadata,rstCode:e.rstCode})})}),e.on("error",i=>{i.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+i.message+" code="+i.code+" errno="+yyt(i.errno)+" syscall="+i.syscall),this.internalError=i),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:Rt.Status.UNAVAILABLE,details:"Connection dropped",metadata:new sl.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(e){hyt.trace(gyt.LogVerbosity.DEBUG,myt,"["+this.callId+"] "+e)}endCall(e){(this.finalStatus===null||this.finalStatus.code===Rt.Status.OK)&&(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==Rt.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(e),this.maybeOutputStatus())})}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let r="";for(let u of Object.keys(e))r+="		"+u+": "+e[u]+`
`;this.trace(`Received server trailers:
`+r);let o;try{o=sl.Metadata.fromHttp2Headers(e)}catch{o=new sl.Metadata}let s=o.getMap(),a=this.mappedStatusCode;if(a===Rt.Status.UNKNOWN&&typeof s["grpc-status"]=="string"){let u=Number(s["grpc-status"]);u in Rt.Status&&(a=u,this.trace("received status code "+u+" from server")),o.remove("grpc-status")}let i="";if(typeof s["grpc-message"]=="string"){try{i=decodeURI(s["grpc-message"])}catch{i=s["grpc-message"]}o.remove("grpc-message"),this.trace('received status details string "'+i+'" from server')}let n={code:a,details:i,metadata:o};this.endCall(n)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let r;((e=this.finalStatus)===null||e===void 0?void 0:e.code)===Rt.Status.OK?r=Eu.constants.NGHTTP2_NO_ERROR:r=Eu.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+r),this.http2Stream.close(r)}}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.endCall({code:e,details:r,metadata:new sl.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==Rt.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let e=this.unpushedReadMessages.shift();this.push(e);return}this.http2Stream.resume()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length);let o=s=>{process.nextTick(()=>{var a;let i=Rt.Status.UNAVAILABLE;s?.code==="ERR_STREAM_WRITE_AFTER_END"&&(i=Rt.Status.INTERNAL),s&&this.cancelWithStatus(i,`Write error: ${s.message}`),(a=e.callback)===null||a===void 0||a.call(e)})};this.trace("sending data chunk of length "+r.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(r,o)}catch(s){this.endCall({code:Rt.Status.UNAVAILABLE,details:`Write failed with error ${s.message}`,metadata:new sl.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}};VP.Http2SubchannelCall=pY});var hY=h(FP=>{"use strict";l();Object.defineProperty(FP,"__esModule",{value:!0});FP.getNextCallNumber=void 0;var _yt=0;function Syt(){return _yt++}FP.getNextCallNumber=Syt});var XIe=h(kP=>{"use strict";l();Object.defineProperty(kP,"__esModule",{value:!0});kP.Http2SubchannelConnector=void 0;var SY=require("http2"),jIe=require("tls"),gY=Uf(),mE=pt(),byt=lY(),Vm=tr(),KIe=$s(),HP=ts(),Gm=Bi(),Eyt=require("net"),vyt=YIe(),Tyt=hY(),mY="transport",Ayt="transport_flowctrl",Iyt=_5().version,{HTTP2_HEADER_AUTHORITY:Cyt,HTTP2_HEADER_CONTENT_TYPE:Ryt,HTTP2_HEADER_METHOD:Oyt,HTTP2_HEADER_PATH:Nyt,HTTP2_HEADER_TE:wyt,HTTP2_HEADER_USER_AGENT:Pyt}=SY.constants,Myt=2e4,xyt=Buffer.from("too_many_pings","ascii"),yY=class{constructor(e,r,o,s){this.session=e,this.remoteName=s,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=Myt,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new gY.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,HP.subchannelAddressToString)(r),o["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,gY.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[o["grpc.primary_user_agent"],`grpc-node-js/${Iyt}`,o["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in o&&(this.keepaliveTimeMs=o["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in o&&(this.keepaliveTimeoutMs=o["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in o?this.keepaliveWithoutCalls=o["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,e.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),e.once("goaway",(a,i,n)=>{let u=!1;a===SY.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n&&n.equals(xyt)&&(u=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+n?.toString()),this.reportDisconnectToOwner(u)}),e.once("error",a=>{this.trace("connection closed with error "+a.message)}),Vm.isTracerEnabled(mY)&&(e.on("remoteSettings",a=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))}),e.on("localSettings",a=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(a))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,r,o;let s=this.session.socket,a=s.remoteAddress?(0,HP.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,i=s.localAddress?(0,HP.stringToSubchannelAddress)(s.localAddress,s.localPort):null,n;if(this.session.encrypted){let c=s,d=c.getCipher(),f=c.getCertificate(),g=c.getPeerCertificate();n={cipherSuiteStandardName:(e=d.standardName)!==null&&e!==void 0?e:null,cipherSuiteOtherName:d.standardName?null:d.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:g&&"raw"in g?g.raw:null}}else n=null;return{remoteAddress:a,localAddress:i,security:n,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(r=this.session.state.localWindowSize)!==null&&r!==void 0?r:null,remoteFlowControlWindow:(o=this.session.state.remoteWindowSize)!==null&&o!==void 0?o:null}}trace(e){Vm.trace(mE.LogVerbosity.DEBUG,mY,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){Vm.trace(mE.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){Vm.trace(mE.LogVerbosity.DEBUG,Ayt,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){Vm.trace(mE.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(r=>r(e)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let e of this.activeCalls)e.onDisconnect()})}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,r;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(r=(e=this.keepaliveTimeoutId).unref)===null||r===void 0||r.call(e));try{this.session.ping((o,s,a)=>{o&&(this.keepaliveTrace("Ping failed with error "+o.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch{this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var e,r;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):!this.keepaliveTimerId&&!this.keepaliveTimeoutId&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=(r=(e=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)===null||r===void 0?void 0:r.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),this.activeCalls.size===0&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,r,o,s,a){let i=e.toHttp2Headers();i[Cyt]=r,i[Pyt]=this.userAgent,i[Ryt]="application/grpc",i[Oyt]="POST",i[Nyt]=o,i[wyt]="trailers";let n;try{n=this.session.request(i)}catch(d){throw this.handleDisconnect(),d}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let u,c;return this.channelzEnabled?(this.streamTracker.addCallStarted(),u={addMessageSent:()=>{var d;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(d=a.addMessageSent)===null||d===void 0||d.call(a)},addMessageReceived:()=>{var d;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(d=a.addMessageReceived)===null||d===void 0||d.call(a)},onCallEnd:d=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,d),this.removeActiveCall(c)},onStreamEnd:d=>{var f;d?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(f=a.onStreamEnd)===null||f===void 0||f.call(a,d)}}):u={addMessageSent:()=>{var d;(d=a.addMessageSent)===null||d===void 0||d.call(a)},addMessageReceived:()=>{var d;(d=a.addMessageReceived)===null||d===void 0||d.call(a)},onCallEnd:d=>{var f;(f=a.onCallEnd)===null||f===void 0||f.call(a,d),this.removeActiveCall(c)},onStreamEnd:d=>{var f;(f=a.onStreamEnd)===null||f===void 0||f.call(a,d)}},c=new vyt.Http2SubchannelCall(n,u,s,this,(0,Tyt.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}shutdown(){this.session.close(),(0,gY.unregisterChannelzRef)(this.channelzRef)}},_Y=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){Vm.trace(mE.LogVerbosity.DEBUG,mY,(0,Gm.uriToString)(this.channelTarget)+" "+e)}createSession(e,r,o,s){return this.isShutdown?Promise.reject():new Promise((a,i)=>{var n,u,c;let d;s.realTarget?(d=(0,Gm.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,Gm.uriToString)(s.realTarget))):(d=null,this.trace("creating HTTP/2 session to "+(0,HP.subchannelAddressToString)(e)));let f=(0,KIe.getDefaultAuthority)((n=s.realTarget)!==null&&n!==void 0?n:this.channelTarget),g=r._getConnectionOptions()||{};g.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in o?g.maxSessionMemory=o["grpc-node.max_session_memory"]:g.maxSessionMemory=Number.MAX_SAFE_INTEGER;let y="http://";if("secureContext"in g){if(y="https://",o["grpc.ssl_target_name_override"]){let C=o["grpc.ssl_target_name_override"];g.checkServerIdentity=(R,P)=>(0,jIe.checkServerIdentity)(C,P),g.servername=C}else{let C=(c=(u=(0,Gm.splitHostPort)(f))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";g.servername=C}s.socket&&(g.createConnection=(C,R)=>s.socket)}else g.createConnection=(C,R)=>s.socket?s.socket:Eyt.connect(e);g=Object.assign(Object.assign(Object.assign({},g),e),{enableTrace:o["grpc-node.tls_enable_trace"]===1});let S=SY.connect(y+f,g);this.session=S;let T="Failed to connect";S.unref(),S.once("connect",()=>{S.removeAllListeners(),a(new yY(S,e,o,d)),this.session=null}),S.once("close",()=>{this.session=null,setImmediate(()=>{i(`${T} (${new Date().toISOString()})`)})}),S.once("error",C=>{T=C.message,this.trace("connection failed with error "+T)})})}connect(e,r,o){var s,a;if(this.isShutdown)return Promise.reject();let i=r._getConnectionOptions()||{};if("secureContext"in i){if(i.ALPNProtocols=["h2"],o["grpc.ssl_target_name_override"]){let n=o["grpc.ssl_target_name_override"];i.checkServerIdentity=(u,c)=>(0,jIe.checkServerIdentity)(n,c),i.servername=n}else if("grpc.http_connect_target"in o){let n=(0,KIe.getDefaultAuthority)((s=(0,Gm.parseUri)(o["grpc.http_connect_target"]))!==null&&s!==void 0?s:{path:"localhost"}),u=(0,Gm.splitHostPort)(n);i.servername=(a=u?.host)!==null&&a!==void 0?a:n}o["grpc-node.tls_enable_trace"]&&(i.enableTrace=!0)}return(0,byt.getProxiedConnection)(e,o,i).then(n=>this.createSession(e,r,o,n))}shutdown(){var e;this.isShutdown=!0,(e=this.session)===null||e===void 0||e.close(),this.session=null}};kP.Http2SubchannelConnector=_Y});var zIe=h(Fm=>{"use strict";l();Object.defineProperty(Fm,"__esModule",{value:!0});Fm.getSubchannelPool=Fm.SubchannelPool=void 0;var Byt=vTe(),Dyt=FIe(),Lyt=ts(),Uyt=Bi(),Gyt=XIe(),Vyt=1e4,yE=class{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(let r in this.pool){let s=this.pool[r].filter(a=>!a.subchannel.unrefIfOneRef());s.length>0&&(e=!1),this.pool[r]=s}e&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,r;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},Vyt),(r=(e=this.cleanupTimer).unref)===null||r===void 0||r.call(e))}getOrCreateSubchannel(e,r,o,s){this.ensureCleanupTask();let a=(0,Uyt.uriToString)(e);if(a in this.pool){let n=this.pool[a];for(let u of n)if((0,Lyt.subchannelAddressEqual)(r,u.subchannelAddress)&&(0,Byt.channelOptionsEqual)(o,u.channelArguments)&&s._equals(u.channelCredentials))return u.subchannel}let i=new Dyt.Subchannel(e,r,o,s,new Gyt.Http2SubchannelConnector(e));return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:r,channelArguments:o,channelCredentials:s,subchannel:i}),i.ref(),i}};Fm.SubchannelPool=yE;var Fyt=new yE;function Hyt(t){return t?Fyt:new yE}Fm.getSubchannelPool=Hyt});var EY=h(Hm=>{"use strict";l();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.FilterStackFactory=Hm.FilterStack=void 0;var WP=class{constructor(e){this.filters=e}sendMetadata(e){let r=e;for(let o=0;o<this.filters.length;o++)r=this.filters[o].sendMetadata(r);return r}receiveMetadata(e){let r=e;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveMetadata(r);return r}sendMessage(e){let r=e;for(let o=0;o<this.filters.length;o++)r=this.filters[o].sendMessage(r);return r}receiveMessage(e){let r=e;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveMessage(r);return r}receiveTrailers(e){let r=e;for(let o=this.filters.length-1;o>=0;o--)r=this.filters[o].receiveTrailers(r);return r}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}};Hm.FilterStack=WP;var bY=class t{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new t([...this.factories])}createFilter(){return new WP(this.factories.map(e=>e.createFilter()))}};Hm.FilterStackFactory=bY});var vY=h(ZP=>{"use strict";l();Object.defineProperty(ZP,"__esModule",{value:!0});ZP.CompressionAlgorithms=void 0;var JIe;(function(t){t[t.identity=0]="identity",t[t.deflate=1]="deflate",t[t.gzip=2]="gzip"})(JIe||(ZP.CompressionAlgorithms=JIe={}))});var YP=h(qP=>{"use strict";l();Object.defineProperty(qP,"__esModule",{value:!0});qP.BaseFilter=void 0;var TY=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}};qP.BaseFilter=TY});var eCe=h(Wm=>{"use strict";l();Object.defineProperty(Wm,"__esModule",{value:!0});Wm.CompressionFilterFactory=Wm.CompressionFilter=void 0;var jP=require("zlib"),QIe=vY(),kyt=pt(),Wyt=YP(),Zyt=tr(),qyt=t=>typeof t=="number"&&typeof QIe.CompressionAlgorithms[t]=="string",km=class{async writeMessage(e,r){let o=e;r&&(o=await this.compressMessage(o));let s=Buffer.allocUnsafe(o.length+5);return s.writeUInt8(r?1:0,0),s.writeUInt32BE(o.length,1),o.copy(s,5),s}async readMessage(e){let r=e.readUInt8(0)===1,o=e.slice(5);return r&&(o=await this.decompressMessage(o)),o}},Gf=class extends km{async compressMessage(e){return e}async writeMessage(e,r){let o=Buffer.allocUnsafe(e.length+5);return o.writeUInt8(0,0),o.writeUInt32BE(e.length,1),e.copy(o,5),o}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}},AY=class extends km{compressMessage(e){return new Promise((r,o)=>{jP.deflate(e,(s,a)=>{s?o(s):r(a)})})}decompressMessage(e){return new Promise((r,o)=>{jP.inflate(e,(s,a)=>{s?o(s):r(a)})})}},IY=class extends km{compressMessage(e){return new Promise((r,o)=>{jP.gzip(e,(s,a)=>{s?o(s):r(a)})})}decompressMessage(e){return new Promise((r,o)=>{jP.unzip(e,(s,a)=>{s?o(s):r(a)})})}},CY=class extends km{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}};function $Ie(t){switch(t){case"identity":return new Gf;case"deflate":return new AY;case"gzip":return new IY;default:return new CY(t)}}var KP=class extends Wyt.BaseFilter{constructor(e,r){var o;super(),this.sharedFilterConfig=r,this.sendCompression=new Gf,this.receiveCompression=new Gf,this.currentCompressionAlgorithm="identity";let s=e["grpc.default_compression_algorithm"];if(s!==void 0)if(qyt(s)){let a=QIe.CompressionAlgorithms[s],i=(o=r.serverSupportedEncodingHeader)===null||o===void 0?void 0:o.split(",");(!i||i.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=$Ie(this.currentCompressionAlgorithm))}else Zyt.log(kyt.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${s}`)}async sendMetadata(e){let r=await e;return r.set("grpc-accept-encoding","identity,deflate,gzip"),r.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?r.remove("grpc-encoding"):r.set("grpc-encoding",this.currentCompressionAlgorithm),r}receiveMetadata(e){let r=e.get("grpc-encoding");if(r.length>0){let s=r[0];typeof s=="string"&&(this.receiveCompression=$Ie(s))}e.remove("grpc-encoding");let o=e.get("grpc-accept-encoding")[0];return o&&(this.sharedFilterConfig.serverSupportedEncodingHeader=o,o.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new Gf,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var r;let o=await e,s;return this.sendCompression instanceof Gf?s=!1:s=(((r=o.flags)!==null&&r!==void 0?r:0)&2)===0,{message:await this.sendCompression.writeMessage(o.message,s),flags:o.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}};Wm.CompressionFilter=KP;var RY=class{constructor(e,r){this.options=r,this.sharedFilterConfig={}}createFilter(){return new KP(this.options,this.sharedFilterConfig)}};Wm.CompressionFilterFactory=RY});var rCe=h(Zm=>{"use strict";l();Object.defineProperty(Zm,"__esModule",{value:!0});Zm.MaxMessageSizeFilterFactory=Zm.MaxMessageSizeFilter=void 0;var Yyt=YP(),XP=pt(),tCe=Tn(),zP=class extends Yyt.BaseFilter{constructor(e){super(),this.maxSendMessageSize=XP.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=XP.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(this.maxSendMessageSize===-1)return e;{let r=await e;if(r.message.length>this.maxSendMessageSize)throw{code:XP.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${r.message.length} vs. ${this.maxSendMessageSize})`,metadata:new tCe.Metadata};return r}}async receiveMessage(e){if(this.maxReceiveMessageSize===-1)return e;{let r=await e;if(r.length>this.maxReceiveMessageSize)throw{code:XP.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${r.length} vs. ${this.maxReceiveMessageSize})`,metadata:new tCe.Metadata};return r}}};Zm.MaxMessageSizeFilter=zP;var OY=class{constructor(e){this.options=e}createFilter(){return new zP(this.options)}};Zm.MaxMessageSizeFilterFactory=OY});var JP=h(aa=>{"use strict";l();Object.defineProperty(aa,"__esModule",{value:!0});aa.deadlineToString=aa.getRelativeTimeout=aa.getDeadlineTimeoutString=aa.minDeadline=void 0;function jyt(...t){let e=1/0;for(let r of t){let o=r instanceof Date?r.getTime():r;o<e&&(e=o)}return e}aa.minDeadline=jyt;var Kyt=[["m",1],["S",1e3],["M",60*1e3],["H",60*60*1e3]];function Xyt(t){let e=new Date().getTime();t instanceof Date&&(t=t.getTime());let r=Math.max(t-e,0);for(let[o,s]of Kyt){let a=r/s;if(a<1e8)return String(Math.ceil(a))+o}throw new Error("Deadline is too far in the future")}aa.getDeadlineTimeoutString=Xyt;var zyt=2147483647;function Jyt(t){let e=t instanceof Date?t.getTime():t,r=new Date().getTime(),o=e-r;return o<0?0:o>zyt?1/0:o}aa.getRelativeTimeout=Jyt;function $yt(t){if(t instanceof Date)return t.toISOString();{let e=new Date(t);return Number.isNaN(e.getTime())?""+t:e.toISOString()}}aa.deadlineToString=$yt});var QP=h($P=>{"use strict";l();Object.defineProperty($P,"__esModule",{value:!0});$P.restrictControlPlaneStatusCode=void 0;var ua=pt(),Qyt=[ua.Status.OK,ua.Status.INVALID_ARGUMENT,ua.Status.NOT_FOUND,ua.Status.ALREADY_EXISTS,ua.Status.FAILED_PRECONDITION,ua.Status.ABORTED,ua.Status.OUT_OF_RANGE,ua.Status.DATA_LOSS];function e_t(t,e){return Qyt.includes(t)?{code:ua.Status.INTERNAL,details:`Invalid status from control plane: ${t} ${ua.Status[t]} ${e}`}:{code:t,details:e}}$P.restrictControlPlaneStatusCode=e_t});var iCe=h(r1=>{"use strict";l();Object.defineProperty(r1,"__esModule",{value:!0});r1.LoadBalancingCall=void 0;var nCe=_o(),e1=pt(),t_t=JP(),t1=Tn(),_E=Yc(),r_t=Bi(),n_t=tr(),NY=QP(),i_t=require("http2"),o_t="load_balancing_call",wY=class{constructor(e,r,o,s,a,i,n){var u,c;this.channel=e,this.callConfig=r,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;let d=this.methodName.split("/"),f="";d.length>=2&&(f=d[1]);let g=(c=(u=(0,r_t.splitHostPort)(this.host))===null||u===void 0?void 0:u.host)!==null&&c!==void 0?c:"localhost";this.serviceUrl=`https://${g}/${f}`}trace(e){n_t.trace(e1.LogVerbosity.DEBUG,o_t,"["+this.callNumber+"] "+e)}outputStatus(e,r){var o,s;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');let a=Object.assign(Object.assign({},e),{progress:r});(o=this.listener)===null||o===void 0||o.onReceiveStatus(a),(s=this.onCallEnded)===null||s===void 0||s.call(this,a.code)}}doPick(){var e,r;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");let o=this.metadata.clone(),s=this.channel.doPick(o,this.callConfig.pickInformation),a=s.subchannel?"("+s.subchannel.getChannelzRef().id+") "+s.subchannel.getAddress():""+s.subchannel;switch(this.trace("Pick result: "+_E.PickResultType[s.pickResultType]+" subchannel: "+a+" status: "+((e=s.status)===null||e===void 0?void 0:e.code)+" "+((r=s.status)===null||r===void 0?void 0:r.details)),s.pickResultType){case _E.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(u=>{var c,d,f;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(o.merge(u),o.get("authorization").length>1&&this.outputStatus({code:e1.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new t1.Metadata},"PROCESSED"),s.subchannel.getConnectivityState()!==nCe.ConnectivityState.READY){this.trace("Picked subchannel "+a+" has state "+nCe.ConnectivityState[s.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&o.set("grpc-timeout",(0,t_t.getDeadlineTimeoutString)(this.deadline));try{this.child=s.subchannel.getRealSubchannel().createCall(o,this.host,this.methodName,{onReceiveMetadata:g=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(g)},onReceiveMessage:g=>{this.trace("Received message"),this.listener.onReceiveMessage(g)},onReceiveStatus:g=>{this.trace("Received status"),g.rstCode===i_t.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(g,"REFUSED"):this.outputStatus(g,"PROCESSED")}})}catch(g){this.trace("Failed to start call on picked subchannel "+a+" with error "+g.message),this.outputStatus({code:e1.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+g.message,metadata:new t1.Metadata},"NOT_STARTED");return}(d=(c=this.callConfig).onCommitted)===null||d===void 0||d.call(c),(f=s.onCallStarted)===null||f===void 0||f.call(s),this.onCallEnded=s.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},u=>{let{code:c,details:d}=(0,NY.restrictControlPlaneStatusCode)(typeof u.code=="number"?u.code:e1.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${u.message}`);this.outputStatus({code:c,details:d,metadata:new t1.Metadata},"PROCESSED")});break;case _E.PickResultType.DROP:let{code:i,details:n}=(0,NY.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:i,details:n,metadata:s.status.metadata},"DROP")});break;case _E.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:u,details:c}=(0,NY.restrictControlPlaneStatusCode)(s.status.code,s.status.details);setImmediate(()=>{this.outputStatus({code:u,details:c,metadata:s.status.metadata},"PROCESSED")})}break;case _E.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,r){var o;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new t1.Metadata},"PROCESSED")}getPeer(){var e,r;return(r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.listener=r,this.metadata=e,this.doPick()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.child.sendMessageWithContext(e,r):this.pendingMessage={context:e,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}};r1.LoadBalancingCall=wY});var sCe=h(i1=>{"use strict";l();Object.defineProperty(i1,"__esModule",{value:!0});i1.ResolvingCall=void 0;var qm=pt(),n1=JP(),oCe=Tn(),s_t=tr(),a_t=QP(),u_t="resolving_call",PY=class{constructor(e,r,o,s,a,i){this.channel=e,this.method=r,this.filterStackFactory=s,this.credentials=a,this.callNumber=i,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=o.deadline,this.host=o.host,o.parentCall&&(o.flags&qm.Propagate.CANCELLATION&&o.parentCall.on("cancelled",()=>{this.cancelWithStatus(qm.Status.CANCELLED,"Cancelled by parent call")}),o.flags&qm.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+o.parentCall.getDeadline()),this.deadline=(0,n1.minDeadline)(this.deadline,o.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){s_t.trace(qm.LogVerbosity.DEBUG,u_t,"["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,n1.deadlineToString)(this.deadline));let e=(0,n1.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");let r=()=>{this.cancelWithStatus(qm.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(r):this.deadlineTimer=setTimeout(r,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let r=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+r.code+' details="'+r.details+'"'),this.statusWatchers.forEach(o=>o(r)),process.nextTick(()=>{var o;(o=this.listener)===null||o===void 0||o.onReceiveStatus(r)})}}sendMessageOnChild(e,r){if(!this.child)throw new Error("sendMessageonChild called with child not populated");let o=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:r,flags:e.flags})).then(s=>{this.writeFilterPending=!1,o.sendMessageWithContext(e,s.message),this.pendingHalfClose&&o.halfClose()},s=>{this.cancelWithStatus(s.code,s.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");let e=this.channel.getConfig(this.method,this.metadata);if(e.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(e.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error);return}let r=e.config;if(r.status!==qm.Status.OK){let{code:o,details:s}=(0,a_t.restrictControlPlaneStatusCode)(r.status,"Failed to route call to method "+this.method);this.outputStatus({code:o,details:s,metadata:new oCe.Metadata});return}if(r.methodConfig.timeout){let o=new Date;o.setSeconds(o.getSeconds()+r.methodConfig.timeout.seconds),o.setMilliseconds(o.getMilliseconds()+r.methodConfig.timeout.nanos/1e6),this.deadline=(0,n1.minDeadline)(this.deadline,o),this.runDeadlineTimer()}this.filterStackFactory.push(r.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(o=>{this.child=this.channel.createInnerCall(r,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(o,{onReceiveMetadata:s=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(s))},onReceiveMessage:s=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(s).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:s=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=s:this.outputStatus(s)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},o=>{this.outputStatus(o)})}reportResolverError(e){var r;!((r=this.metadata)===null||r===void 0)&&r.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,r){var o;this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),(o=this.child)===null||o===void 0||o.cancelWithStatus(e,r),this.outputStatus({code:e,details:r,metadata:new oCe.Metadata})}getPeer(){var e,r;return(r=(e=this.child)===null||e===void 0?void 0:e.getPeer())!==null&&r!==void 0?r:this.channel.getTarget()}start(e,r){this.trace("start called"),this.metadata=e.clone(),this.listener=r,this.getConfig()}sendMessageWithContext(e,r){this.trace("write() called with message of length "+r.length),this.child?this.sendMessageOnChild(e,r):this.pendingMessage={context:e,message:r}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}};i1.ResolvingCall=PY});var aCe=h(al=>{"use strict";l();Object.defineProperty(al,"__esModule",{value:!0});al.RetryingCall=al.MessageBufferTracker=al.RetryThrottler=void 0;var o1=pt(),c_t=Tn(),l_t=tr(),d_t="retrying_call",xY=class{constructor(e,r,o){this.maxTokens=e,this.tokenRatio=r,o?this.tokens=o.tokens*(e/o.maxTokens):this.tokens=e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}};al.RetryThrottler=xY;var BY=class{constructor(e,r){this.totalLimit=e,this.limitPerCall=r,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,r){var o;let s=(o=this.allocatedPerCall.get(r))!==null&&o!==void 0?o:0;return this.limitPerCall-s<e||this.totalLimit-this.totalAllocated<e?!1:(this.allocatedPerCall.set(r,s+e),this.totalAllocated+=e,!0)}free(e,r){var o;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;let s=(o=this.allocatedPerCall.get(r))!==null&&o!==void 0?o:0;if(s<e)throw new Error(`Invalid buffer allocation state: call ${r} freed ${e} > allocated for call ${s}`);this.allocatedPerCall.set(r,s-e)}freeAll(e){var r;let o=(r=this.allocatedPerCall.get(e))!==null&&r!==void 0?r:0;if(this.totalAllocated<o)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${o} > total allocated ${this.totalAllocated}`);this.totalAllocated-=o,this.allocatedPerCall.delete(e)}};al.MessageBufferTracker=BY;var MY="grpc-previous-rpc-attempts",DY=class{constructor(e,r,o,s,a,i,n,u,c){if(this.channel=e,this.callConfig=r,this.methodName=o,this.host=s,this.credentials=a,this.deadline=i,this.callNumber=n,this.bufferTracker=u,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,r.methodConfig.retryPolicy){this.state="RETRY";let d=r.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(d.initialBackoff.substring(0,d.initialBackoff.length-1))}else r.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){l_t.trace(o1.LogVerbosity.DEBUG,d_t,"["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var r;(r=this.listener)===null||r===void 0||r.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})})}cancelWithStatus(e,r){this.trace("cancelWithStatus code: "+e+' details: "'+r+'"'),this.reportStatus({code:e,details:r,metadata:new c_t.Metadata});for(let{call:o}of this.underlyingCalls)o.cancelWithStatus(e,r)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var r;return(r=this.writeBuffer[e-this.writeBufferOffset])!==null&&r!==void 0?r:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let r=this.writeBufferOffset;r<e;r++){let o=this.getBufferEntry(r);o.allocated&&this.bufferTracker.free(o.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if(this.state!=="COMMITTED"&&this.underlyingCalls[e].state!=="COMPLETED"){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let r=0;r<this.underlyingCalls.length;r++)r!==e&&this.underlyingCalls[r].state!=="COMPLETED"&&(this.underlyingCalls[r].state="COMPLETED",this.underlyingCalls[r].call.cancelWithStatus(o1.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let e=-1,r=-1;for(let[o,s]of this.underlyingCalls.entries())s.state==="ACTIVE"&&s.nextMessageToSend>e&&(e=s.nextMessageToSend,r=o);r===-1?this.state="TRANSPARENT_ONLY":this.commitCall(r)}isStatusCodeInList(e,r){return e.some(o=>o===r||o.toString().toLowerCase()===o1.Status[r].toLowerCase())}getNextRetryBackoffMs(){var e;let r=(e=this.callConfig)===null||e===void 0?void 0:e.methodConfig.retryPolicy;if(!r)return 0;let o=Math.random()*this.nextRetryBackoffSec*1e3,s=Number(r.maxBackoff.substring(0,r.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*r.backoffMultiplier,s),o}maybeRetryCall(e,r){if(this.state!=="RETRY"){r(!1);return}let o=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(o.maxAttempts,5)){r(!1);return}let s;if(e===null)s=this.getNextRetryBackoffMs();else if(e<0){this.state="TRANSPARENT_ONLY",r(!1);return}else s=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,i;if(this.state!=="RETRY"){r(!1);return}(!((i=(a=this.retryThrottler)===null||a===void 0?void 0:a.canRetryCall())!==null&&i!==void 0)||i)&&(r(!0),this.attempts+=1,this.startNewAttempt())},s)}countActiveCalls(){let e=0;for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&(e+=1);return e}handleProcessedStatus(e,r,o){var s,a,i;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(r),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList((s=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&s!==void 0?s:[],e.code)){(a=this.retryThrottler)===null||a===void 0||a.addCallFailed();let n;if(o===null)n=0;else if(o<0){this.state="TRANSPARENT_ONLY",this.commitCall(r),this.reportStatus(e);return}else n=o;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(r),this.reportStatus(e))},n)}else this.commitCall(r),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?((i=this.retryThrottler)===null||i===void 0||i.addCallFailed(),this.maybeRetryCall(o,n=>{n||(this.commitCall(r),this.reportStatus(e))})):(this.commitCall(r),this.reportStatus(e));break}}getPushback(e){let r=e.get("grpc-retry-pushback-ms");if(r.length===0)return null;try{return parseInt(r[0])}catch{return-1}}handleChildStatus(e,r){var o;if(this.underlyingCalls[r].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[r].call.getCallNumber()+"] in state "+this.underlyingCalls[r].state),this.underlyingCalls[r].state="COMPLETED",e.code===o1.Status.OK){(o=this.retryThrottler)===null||o===void 0||o.addCallSucceeded(),this.commitCall(r),this.reportStatus(e);return}if(this.state==="COMMITTED"){this.reportStatus(e);return}let s=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,r,s):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(r),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,r,s);break}}maybeStartHedgingAttempt(){if(this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,r,o;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;let s=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(s.maxAttempts,5))return;let a=(e=s.hedgingDelay)!==null&&e!==void 0?e:"0s",i=Number(a.substring(0,a.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},i*1e3),(o=(r=this.hedgingTimer).unref)===null||o===void 0||o.call(r)}startNewAttempt(){let e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);let r=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});let o=this.attempts-1,s=this.initialMetadata.clone();o>0&&s.set(MY,`${o}`);let a=!1;e.start(s,{onReceiveMetadata:i=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(r),a=!0,o>0&&i.set(MY,`${o}`),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMetadata(i)},onReceiveMessage:i=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(r),this.underlyingCalls[r].state==="ACTIVE"&&this.listener.onReceiveMessage(i)},onReceiveStatus:i=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!a&&o>0&&i.metadata.set(MY,`${o}`),this.handleChildStatus(i,r)}}),this.sendNextChildMessage(r),this.readStarted&&e.startRead()}start(e,r){this.trace("start called"),this.listener=r,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var r,o;let s=this.underlyingCalls[e],a=s.nextMessageToSend;(o=(r=this.getBufferEntry(a)).callback)===null||o===void 0||o.call(r),this.clearSentMessages(),s.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){let r=this.underlyingCalls[e];if(r.state!=="COMPLETED"&&this.getBufferEntry(r.nextMessageToSend)){let o=this.getBufferEntry(r.nextMessageToSend);switch(o.entryType){case"MESSAGE":r.call.sendMessageWithContext({callback:s=>{this.handleChildWriteCompleted(e)}},o.message.message);break;case"HALF_CLOSE":r.nextMessageToSend+=1,r.call.halfClose();break;case"FREED":break}}}sendMessageWithContext(e,r){var o;this.trace("write() called with message of length "+r.length);let s={message:r,flags:e.flags},a=this.getNextBufferIndex(),i={entryType:"MESSAGE",message:s,allocated:this.bufferTracker.allocate(r.length,this.callNumber)};if(this.writeBuffer.push(i),i.allocated){(o=e.callback)===null||o===void 0||o.call(e);for(let[n,u]of this.underlyingCalls.entries())u.state==="ACTIVE"&&u.nextMessageToSend===a&&u.call.sendMessageWithContext({callback:c=>{this.handleChildWriteCompleted(n)}},r)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;let n=this.underlyingCalls[this.committedCallIndex];i.callback=e.callback,n.state==="ACTIVE"&&n.nextMessageToSend===a&&n.call.sendMessageWithContext({callback:u=>{this.handleChildWriteCompleted(this.committedCallIndex)}},r)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(let e of this.underlyingCalls)e?.state==="ACTIVE"&&e.call.startRead()}halfClose(){this.trace("halfClose called");let e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(let r of this.underlyingCalls)r?.state==="ACTIVE"&&r.nextMessageToSend===e&&(r.nextMessageToSend+=1,r.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}};al.RetryingCall=DY});var a1=h(s1=>{"use strict";l();Object.defineProperty(s1,"__esModule",{value:!0});s1.BaseSubchannelWrapper=void 0;var LY=class{constructor(e){this.child=e,this.healthy=!0,this.healthListeners=new Set,e.addHealthStateWatcher(r=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(let e of this.healthListeners)e(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(e){this.healthListeners.add(e)}removeHealthStateWatcher(e){this.healthListeners.delete(e)}setHealthy(e){e!==this.healthy&&(this.healthy=e,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(e){return this.getRealSubchannel()===e.getRealSubchannel()}};s1.BaseSubchannelWrapper=LY});var lCe=h(l1=>{"use strict";l();Object.defineProperty(l1,"__esModule",{value:!0});l1.InternalChannel=void 0;var f_t=Xw(),p_t=ETe(),h_t=zIe(),uCe=Yc(),SE=pt(),g_t=EY(),m_t=eCe(),cCe=$s(),UY=tr(),y_t=rCe(),__t=lY(),u1=Bi(),ca=_o(),bE=Uf(),S_t=iCe(),b_t=JP(),E_t=sCe(),GY=hY(),v_t=QP(),VY=aCe(),T_t=a1(),A_t=2147483647,I_t=1e3,C_t=30*60*1e3,c1=new Map,R_t=1<<24,O_t=1<<20,FY=class extends T_t.BaseSubchannelWrapper{constructor(e,r){super(e),this.channel=r,this.refCount=0,this.subchannelStateListener=(o,s,a,i)=>{r.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}},HY=class{constructor(e,r,o){var s,a,i,n,u,c,d,f;if(this.credentials=r,this.options=o,this.connectivityState=ca.ConnectivityState.IDLE,this.currentPicker=new uCe.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new bE.ChannelzCallTracker,this.childrenTracker=new bE.ChannelzChildrenTracker,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof f_t.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.originalTarget=e;let g=(0,u1.parseUri)(e);if(g===null)throw new Error(`Could not parse target name "${e}"`);let y=(0,cCe.mapUriDefaultScheme)(g);if(y===null)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval(()=>{},A_t),(a=(s=this.callRefTimer).unref)===null||a===void 0||a.call(s),this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzTrace=new bE.ChannelzTrace,this.channelzRef=(0,bE.registerChannelzChannel)(e,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,cCe.getDefaultAuthority)(y);let S=(0,__t.mapProxyName)(y,o);this.target=S.target,this.options=Object.assign({},this.options,S.extraOptions),this.subchannelPool=(0,h_t.getSubchannelPool)(((i=o["grpc.use_local_subchannel_pool"])!==null&&i!==void 0?i:0)===0),this.retryBufferTracker=new VY.MessageBufferTracker((n=o["grpc.retry_buffer_size"])!==null&&n!==void 0?n:R_t,(u=o["grpc.per_rpc_retry_buffer_size"])!==null&&u!==void 0?u:O_t),this.keepaliveTime=(c=o["grpc.keepalive_time_ms"])!==null&&c!==void 0?c:-1,this.idleTimeoutMs=Math.max((d=o["grpc.client_idle_timeout_ms"])!==null&&d!==void 0?d:C_t,I_t);let T={createSubchannel:(R,P)=>{let M=this.subchannelPool.getOrCreateSubchannel(this.target,R,Object.assign({},this.options,P),this.credentials);M.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",M.getChannelzRef());let x=new FY(M,this);return this.wrappedSubchannels.add(x),x},updateState:(R,P)=>{this.currentPicker=P;let M=this.pickQueue.slice();this.pickQueue=[],M.length>0&&this.callRefTimerUnref();for(let x of M)x.doPick();this.updateState(R)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:R=>{this.channelzEnabled&&this.childrenTracker.refChild(R)},removeChannelzChild:R=>{this.channelzEnabled&&this.childrenTracker.unrefChild(R)}};this.resolvingLoadBalancer=new p_t.ResolvingLoadBalancer(this.target,T,o,(R,P)=>{R.retryThrottling?c1.set(this.getTarget(),new VY.RetryThrottler(R.retryThrottling.maxTokens,R.retryThrottling.tokenRatio,c1.get(this.getTarget()))):c1.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=P,this.currentResolutionError=null,process.nextTick(()=>{let M=this.configSelectionQueue;this.configSelectionQueue=[],M.length>0&&this.callRefTimerUnref();for(let x of M)x.getConfig()})},R=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+R.code+' and details "'+R.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,v_t.restrictControlPlaneStatusCode)(R.code,R.details)),{metadata:R.metadata}));let P=this.configSelectionQueue;this.configSelectionQueue=[],P.length>0&&this.callRefTimerUnref();for(let M of P)M.reportResolverError(R)}),this.filterStackFactory=new g_t.FilterStackFactory([new y_t.MaxMessageSizeFilterFactory(this.options),new m_t.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(o,void 0,2));let C=new Error;(0,UY.trace)(SE.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+((f=C.stack)===null||f===void 0?void 0:f.substring(C.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,r){(0,UY.trace)(r??SE.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,u1.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,r,o,s;!((r=(e=this.callRefTimer).hasRef)===null||r===void 0)&&r.call(e)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(s=(o=this.callRefTimer).ref)===null||s===void 0||s.call(o))}callRefTimerUnref(){var e,r;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(r=(e=this.callRefTimer).unref)===null||r===void 0||r.call(e))}removeConnectivityStateWatcher(e){let r=this.connectivityStateWatchers.findIndex(o=>o===e);r>=0&&this.connectivityStateWatchers.splice(r,1)}updateState(e){(0,UY.trace)(SE.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,u1.uriToString)(this.target)+" "+ca.ConnectivityState[this.connectivityState]+" -> "+ca.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+ca.ConnectivityState[e]),this.connectivityState=e;let r=this.connectivityStateWatchers.slice();for(let o of r)e!==o.currentState&&(o.timer&&clearTimeout(o.timer),this.removeConnectivityStateWatcher(o),o.callback());e!==ca.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(let r of this.wrappedSubchannels)r.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,r){return this.currentPicker.pick({metadata:e,extraPickInfo:r})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,r){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,r,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(ca.ConnectivityState.IDLE),this.currentPicker=new uCe.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(e){var r,o;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},e),(o=(r=this.idleTimer).unref)===null||o===void 0||o.call(r)}maybeStartIdleTimer(){this.connectivityState!==ca.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(e){this.channelzEnabled&&(e.code===SE.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(e,r,o,s,a){let i=(0,GY.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+i+'] method="'+r+'"'),new S_t.LoadBalancingCall(this,e,r,o,s,a,i)}createRetryingCall(e,r,o,s,a){let i=(0,GY.getNextCallNumber)();return this.trace("createRetryingCall ["+i+'] method="'+r+'"'),new VY.RetryingCall(this,e,r,o,s,a,i,this.retryBufferTracker,c1.get(this.getTarget()))}createInnerCall(e,r,o,s,a){return this.options["grpc.enable_retries"]===0?this.createLoadBalancingCall(e,r,o,s,a):this.createRetryingCall(e,r,o,s,a)}createResolvingCall(e,r,o,s,a){let i=(0,GY.getNextCallNumber)();this.trace("createResolvingCall ["+i+'] method="'+e+'", deadline='+(0,b_t.deadlineToString)(r));let n={deadline:r,flags:a??SE.Propagate.DEFAULTS,host:o??this.defaultAuthority,parentCall:s},u=new E_t.ResolvingCall(this,e,n,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),i);return this.onCallStart(),u.addStatusWatcher(c=>{this.onCallEnd(c)}),u}close(){this.resolvingLoadBalancer.destroy(),this.updateState(ca.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,bE.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,u1.uriToString)(this.target)}getConnectivityState(e){let r=this.connectivityState;return e&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),r}watchConnectivityState(e,r,o){if(this.connectivityState===ca.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let s=null;if(r!==1/0){let i=r instanceof Date?r:new Date(r),n=new Date;if(r===-1/0||i<=n){process.nextTick(o,new Error("Deadline passed without connectivity state change"));return}s=setTimeout(()=>{this.removeConnectivityStateWatcher(a),o(new Error("Deadline passed without connectivity state change"))},i.getTime()-n.getTime())}let a={currentState:e,callback:o,timer:s};this.connectivityStateWatchers.push(a)}getChannelzRef(){return this.channelzRef}createCall(e,r,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===ca.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,r,o,s,a)}};l1.InternalChannel=HY});var aq=h(d1=>{"use strict";l();Object.defineProperty(d1,"__esModule",{value:!0});d1.ChannelImplementation=void 0;var N_t=Xw(),w_t=lCe(),kY=class{constructor(e,r,o){if(typeof e!="string")throw new TypeError("Channel target must be a string");if(!(r instanceof N_t.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(o&&typeof o!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new w_t.InternalChannel(e,r,o)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,r,o){this.internalChannel.watchConnectivityState(e,r,o)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,r,o,s,a){if(typeof e!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof r=="number"||r instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,r,o,s,a)}};d1.ChannelImplementation=kY});var fCe=h(Co=>{"use strict";l();Object.defineProperty(Co,"__esModule",{value:!0});Co.ServerDuplexStreamImpl=Co.ServerWritableStreamImpl=Co.ServerReadableStreamImpl=Co.ServerUnaryCallImpl=Co.serverErrorToStatus=void 0;var P_t=require("events"),jY=require("stream"),KY=pt(),dCe=Tn();function XY(t,e){var r;let o={code:KY.Status.UNKNOWN,details:"message"in t?t.message:"Unknown Error",metadata:(r=e??t.metadata)!==null&&r!==void 0?r:null};return"code"in t&&typeof t.code=="number"&&Number.isInteger(t.code)&&(o.code=t.code,"details"in t&&typeof t.details=="string"&&(o.details=t.details)),o}Co.serverErrorToStatus=XY;var WY=class extends P_t.EventEmitter{constructor(e,r,o,s){super(),this.path=e,this.call=r,this.metadata=o,this.request=s,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};Co.ServerUnaryCallImpl=WY;var ZY=class extends jY.Readable{constructor(e,r,o){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=o,this.cancelled=!1}_read(e){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}};Co.ServerReadableStreamImpl=ZY;var qY=class extends jY.Writable{constructor(e,r,o,s){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=o,this.request=s,this.pendingStatus={code:KY.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new dCe.Metadata,this.on("error",a=>{this.pendingStatus=XY(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_write(e,r,o){this.call.sendMessage(e,o)}_final(e){var r;this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata})),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};Co.ServerWritableStreamImpl=qY;var YY=class extends jY.Duplex{constructor(e,r,o){super({objectMode:!0}),this.path=e,this.call=r,this.metadata=o,this.pendingStatus={code:KY.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new dCe.Metadata,this.on("error",s=>{this.pendingStatus=XY(s),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}_read(e){this.call.startRead()}_write(e,r,o){this.call.sendMessage(e,o)}_final(e){var r;this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(r=this.pendingStatus.metadata)!==null&&r!==void 0?r:this.trailingMetadata})),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}};Co.ServerDuplexStreamImpl=YY});var $Y=h(f1=>{"use strict";l();Object.defineProperty(f1,"__esModule",{value:!0});f1.ServerCredentials=void 0;var pCe=P5(),EE=class{static createInsecure(){return new zY}static createSsl(e,r,o=!1){var s;if(e!==null&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(r))throw new TypeError("keyCertPairs must be an array");if(typeof o!="boolean")throw new TypeError("checkClientCertificate must be a boolean");let a=[],i=[];for(let n=0;n<r.length;n++){let u=r[n];if(u===null||typeof u!="object")throw new TypeError(`keyCertPair[${n}] must be an object`);if(!Buffer.isBuffer(u.private_key))throw new TypeError(`keyCertPair[${n}].private_key must be a Buffer`);if(!Buffer.isBuffer(u.cert_chain))throw new TypeError(`keyCertPair[${n}].cert_chain must be a Buffer`);a.push(u.cert_chain),i.push(u.private_key)}return new JY({ca:(s=e??(0,pCe.getDefaultRootsData)())!==null&&s!==void 0?s:void 0,cert:a,key:i,requestCert:o,ciphers:pCe.CIPHER_SUITES})}};f1.ServerCredentials=EE;var zY=class t extends EE{_isSecure(){return!1}_getSettings(){return null}_equals(e){return e instanceof t}},JY=class t extends EE{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}_equals(e){if(this===e)return!0;if(!(e instanceof t))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(e.options.ca)){if(!this.options.ca.equals(e.options.ca))return!1}else if(this.options.ca!==e.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(e.options.cert)){if(this.options.cert.length!==e.options.cert.length)return!1;for(let r=0;r<this.options.cert.length;r++){let o=this.options.cert[r],s=e.options.cert[r];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.cert!==e.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(e.options.key)){if(this.options.key.length!==e.options.key.length)return!1;for(let r=0;r<this.options.key.length;r++){let o=this.options.key[r],s=e.options.key[r];if(Buffer.isBuffer(o)&&Buffer.isBuffer(s)){if(!o.equals(s))return!1}else if(o!==s)return!1}}else if(this.options.key!==e.options.key)return!1;return this.options.requestCert===e.options.requestCert}}});var o9=h(li=>{"use strict";l();Object.defineProperty(li,"__esModule",{value:!0});li.getServerInterceptingCall=li.BaseServerInterceptingCall=li.ServerInterceptingCall=li.ResponderBuilder=li.isInterceptingServerListener=li.ServerListenerBuilder=void 0;var hCe=Tn(),Ui=pt(),Ym=require("http2"),gCe=Ww(),SCe=require("zlib"),bCe=require("util"),M_t=fY(),ECe=tr(),x_t=(0,bCe.promisify)(SCe.unzip),B_t=(0,bCe.promisify)(SCe.inflate),vCe="server_call";function Vf(t){ECe.trace(Ui.LogVerbosity.DEBUG,vCe,t)}var e9=class{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveHalfClose(e){return this.halfClose=e,this}withOnCancel(e){return this.cancel=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}};li.ServerListenerBuilder=e9;function D_t(t){return t.onReceiveMetadata!==void 0&&t.onReceiveMetadata.length===1}li.isInterceptingServerListener=D_t;var t9=class{constructor(e,r){this.listener=e,this.nextListener=r,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(e){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(e,r=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(r),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(e){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(e,r=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=r,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(r),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}},r9=class{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(e){return this.start=e,this}withSendMetadata(e){return this.metadata=e,this}withSendMessage(e){return this.message=e,this}withSendStatus(e){return this.status=e,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}};li.ResponderBuilder=r9;var L_t={onReceiveMetadata:(t,e)=>{e(t)},onReceiveMessage:(t,e)=>{e(t)},onReceiveHalfClose:t=>{t()},onCancel:()=>{}},U_t={start:t=>{t()},sendMetadata:(t,e)=>{e(t)},sendMessage:(t,e)=>{e(t)},sendStatus:(t,e)=>{e(t)}},n9=class{constructor(e,r){this.nextCall=e,this.processingMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder=Object.assign(Object.assign({},U_t),r)}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(e){this.responder.start(r=>{let o=Object.assign(Object.assign({},L_t),r),s=new t9(o,e);this.nextCall.start(s)})}sendMetadata(e){this.processingMetadata=!0,this.responder.sendMetadata(e,r=>{this.processingMetadata=!1,this.nextCall.sendMetadata(r),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(e,r){this.processingMessage=!0,this.responder.sendMessage(e,o=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=o,this.pendingMessageCallback=r):this.nextCall.sendMessage(o,r)})}sendStatus(e){this.responder.sendStatus(e,r=>{this.processingMetadata||this.processingMessage?this.pendingStatus=r:this.nextCall.sendStatus(r)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}};li.ServerInterceptingCall=n9;var TCe="grpc-accept-encoding",i9="grpc-encoding",mCe="grpc-message",yCe="grpc-status",QY="grpc-timeout",G_t=/(\d{1,8})\s*([HMSmun])/,V_t={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},F_t={[TCe]:"identity,deflate,gzip",[i9]:"identity"},_Ce={[Ym.constants.HTTP2_HEADER_STATUS]:Ym.constants.HTTP_STATUS_OK,[Ym.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},H_t={waitForTrailers:!0},p1=class{constructor(e,r,o,s,a){this.stream=e,this.callEventTracker=o,this.handler=s,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=Ui.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=Ui.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.decoder=new M_t.StreamDecoder,this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.stream.once("error",c=>{}),this.stream.once("close",()=>{var c;Vf("Request to method "+((c=this.handler)===null||c===void 0?void 0:c.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:Ui.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",c=>{this.handleDataFrame(c)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in a&&(this.maxSendMessageSize=a["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in a&&(this.maxReceiveMessageSize=a["grpc.max_receive_message_length"]);let i=hCe.Metadata.fromHttp2Headers(r);ECe.isTracerEnabled(vCe)&&Vf("Request to "+this.handler.path+" received headers "+JSON.stringify(i.toJSON()));let n=i.get(QY);n.length>0&&this.handleTimeoutHeader(n[0]);let u=i.get(i9);u.length>0&&(this.incomingEncoding=u[0]),i.remove(QY),i.remove(i9),i.remove(TCe),i.remove(Ym.constants.HTTP2_HEADER_ACCEPT_ENCODING),i.remove(Ym.constants.HTTP2_HEADER_TE),i.remove(Ym.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=i}handleTimeoutHeader(e){let r=e.toString().match(G_t);if(r===null){let a={code:Ui.Status.INTERNAL,details:`Invalid ${QY} value "${e}"`,metadata:null};process.nextTick(()=>{this.sendStatus(a)});return}let o=+r[1]*V_t[r[2]]|0,s=new Date;this.deadline=s.setMilliseconds(s.getMilliseconds()+o),this.deadlineTimer=setTimeout(()=>{let a={code:Ui.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(a)},o)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var e;(e=this.listener)===null||e===void 0||e.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new hCe.Metadata)}serializeMessage(e){let r=this.handler.serialize(e),o=r.byteLength,s=Buffer.allocUnsafe(o+5);return s.writeUInt8(0,0),s.writeUInt32BE(o,1),r.copy(s,5),s}decompressMessage(e,r){switch(r){case"deflate":return B_t(e.subarray(5));case"gzip":return x_t(e.subarray(5));case"identity":return e.subarray(5);default:return Promise.reject({code:Ui.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${r}"`})}}async decompressAndMaybePush(e){if(e.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${e.type}`);let o=e.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity",s=await this.decompressMessage(e.compressedMessage,o);try{e.parsedMessage=this.handler.deserialize(s)}catch(a){this.sendStatus({code:Ui.Status.INTERNAL,details:`Error deserializing request: ${a.message}`});return}e.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;let e=this.readQueue.shift();e.type==="READABLE"?this.listener.onReceiveMessage(e.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(e){var r;if(this.checkCancelled())return;Vf("Request to "+this.handler.path+" received data frame of size "+e.length);let o=this.decoder.write(e);for(let s of o){if(this.stream.pause(),this.maxReceiveMessageSize!==-1&&s.length-5>this.maxReceiveMessageSize){this.sendStatus({code:Ui.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${s.length-5} vs. ${this.maxReceiveMessageSize})`,metadata:null});return}let a={type:"COMPRESSED",compressedMessage:s,parsedMessage:null};this.readQueue.push(a),this.decompressAndMaybePush(a),(r=this.callEventTracker)===null||r===void 0||r.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(e){Vf("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=e,e.onReceiveMetadata(this.metadata))}sendMetadata(e){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let r=e?e.toHttp2Headers():null,o=Object.assign(Object.assign(Object.assign({},_Ce),F_t),r);this.stream.respond(o,H_t)}sendMessage(e,r){if(this.checkCancelled())return;let o;try{o=this.serializeMessage(e)}catch(s){this.sendStatus({code:Ui.Status.INTERNAL,details:`Error serializing response: ${(0,gCe.getErrorMessage)(s)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&o.length-5>this.maxSendMessageSize){this.sendStatus({code:Ui.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${o.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),Vf("Request to "+this.handler.path+" sent data frame of size "+o.length),this.stream.write(o,s=>{var a;if(s){this.sendStatus({code:Ui.Status.INTERNAL,details:`Error writing message: ${(0,gCe.getErrorMessage)(s)}`,metadata:null});return}(a=this.callEventTracker)===null||a===void 0||a.addMessageSent(),r()})}sendStatus(e){var r,o;if(!this.checkCancelled())if(this.notifyOnCancel(),Vf("Request to method "+((r=this.handler)===null||r===void 0?void 0:r.path)+" ended with status code: "+Ui.Status[e.code]+" details: "+e.details),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var s;this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let a=Object.assign({[yCe]:e.code,[mCe]:encodeURI(e.details)},(s=e.metadata)===null||s===void 0?void 0:s.toHttp2Headers());this.stream.sendTrailers(a)}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(e));let s=Object.assign(Object.assign({[yCe]:e.code,[mCe]:encodeURI(e.details)},_Ce),(o=e.metadata)===null||o===void 0?void 0:o.toHttp2Headers());this.stream.respond(s,{endStream:!0})}}startRead(){Vf("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var e;let r=(e=this.stream.session)===null||e===void 0?void 0:e.socket;return r?.remoteAddress?r.remotePort?`${r.remoteAddress}:${r.remotePort}`:r.remoteAddress:"unknown"}getDeadline(){return this.deadline}};li.BaseServerInterceptingCall=p1;function k_t(t,e,r,o,s,a){let i={path:s.path,requestStream:s.type==="clientStream"||s.type==="bidi",responseStream:s.type==="serverStream"||s.type==="bidi",requestDeserialize:s.deserialize,responseSerialize:s.serialize},n=new p1(e,r,o,s,a);return t.reduce((u,c)=>c(i,u),n)}li.getServerInterceptingCall=k_t});var RCe=h(cl=>{"use strict";l();var W_t=cl&&cl.__runInitializers||function(t,e,r){for(var o=arguments.length>2,s=0;s<e.length;s++)r=o?e[s].call(t,r):e[s].call(t);return o?r:void 0},Z_t=cl&&cl.__esDecorate||function(t,e,r,o,s,a){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var n=o.kind,u=n==="getter"?"get":n==="setter"?"set":"value",c=!e&&t?o.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),f,g=!1,y=r.length-1;y>=0;y--){var S={};for(var T in o)S[T]=T==="access"?{}:o[T];for(var T in o.access)S.access[T]=o.access[T];S.addInitializer=function(R){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(R||null))};var C=(0,r[y])(n==="accessor"?{get:d.get,set:d.set}:d[u],S);if(n==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(f=i(C.get))&&(d.get=f),(f=i(C.set))&&(d.set=f),(f=i(C.init))&&s.unshift(f)}else(f=i(C))&&(n==="field"?s.unshift(f):d[u]=f)}c&&Object.defineProperty(c,o.name,d),g=!0};Object.defineProperty(cl,"__esModule",{value:!0});cl.Server=void 0;var Ro=require("http2"),q_t=require("util"),Vr=pt(),jm=fCe(),Y_t=$Y(),ACe=$s(),s9=tr(),ul=ts(),ss=Bi(),Gi=Uf(),ICe=o9(),h1=~(1<<31),j_t=~(1<<31),K_t=2e4,{HTTP2_HEADER_PATH:CCe}=Ro.constants,X_t="server";function z_t(){}function J_t(t){return function(e,r){return q_t.deprecate(e,t)}}function a9(t){return{code:Vr.Status.UNIMPLEMENTED,details:`The server does not implement the method ${t}`}}function $_t(t,e){let r=a9(e);switch(t){case"unary":return(o,s)=>{s(r,null)};case"clientStream":return(o,s)=>{s(r,null)};case"serverStream":return o=>{o.emit("error",r)};case"bidi":return o=>{o.emit("error",r)};default:throw new Error(`Invalid handlerType ${t}`)}}var Q_t=(()=>{var t;let e=[],r;return t=class{constructor(s){var a,i,n,u,c;this.boundPorts=(W_t(this,e),new Map),this.http2Servers=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new Gi.ChannelzTrace,this.callTracker=new Gi.ChannelzCallTracker,this.listenerChildrenTracker=new Gi.ChannelzChildrenTracker,this.sessionChildrenTracker=new Gi.ChannelzChildrenTracker,this.options=s??{},this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,Gi.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(a=this.options["grpc.max_connection_age_ms"])!==null&&a!==void 0?a:h1,this.maxConnectionAgeGraceMs=(i=this.options["grpc.max_connection_age_grace_ms"])!==null&&i!==void 0?i:h1,this.keepaliveTimeMs=(n=this.options["grpc.keepalive_time_ms"])!==null&&n!==void 0?n:j_t,this.keepaliveTimeoutMs=(u=this.options["grpc.keepalive_timeout_ms"])!==null&&u!==void 0?u:K_t,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(c=this.options.interceptors)!==null&&c!==void 0?c:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(s){return()=>{var a,i,n;let u=this.sessions.get(s),c=s.socket,d=c.remoteAddress?(0,ul.stringToSubchannelAddress)(c.remoteAddress,c.remotePort):null,f=c.localAddress?(0,ul.stringToSubchannelAddress)(c.localAddress,c.localPort):null,g;if(s.encrypted){let S=c,T=S.getCipher(),C=S.getCertificate(),R=S.getPeerCertificate();g={cipherSuiteStandardName:(a=T.standardName)!==null&&a!==void 0?a:null,cipherSuiteOtherName:T.standardName?null:T.name,localCertificate:C&&"raw"in C?C.raw:null,remoteCertificate:R&&"raw"in R?R.raw:null}}else g=null;return{remoteAddress:d,localAddress:f,security:g,remoteName:null,streamsStarted:u.streamTracker.callsStarted,streamsSucceeded:u.streamTracker.callsSucceeded,streamsFailed:u.streamTracker.callsFailed,messagesSent:u.messagesSent,messagesReceived:u.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:u.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:u.lastMessageSentTimestamp,lastMessageReceivedTimestamp:u.lastMessageReceivedTimestamp,localFlowControlWindow:(i=s.state.localWindowSize)!==null&&i!==void 0?i:null,remoteFlowControlWindow:(n=s.state.remoteWindowSize)!==null&&n!==void 0?n:null}}}trace(s){s9.trace(Vr.LogVerbosity.DEBUG,X_t,"("+this.channelzRef.id+") "+s)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(s,a){if(s===null||typeof s!="object"||a===null||typeof a!="object")throw new Error("addService() requires two objects as arguments");let i=Object.keys(s);if(i.length===0)throw new Error("Cannot add an empty service to a server");i.forEach(n=>{let u=s[n],c;u.requestStream?u.responseStream?c="bidi":c="clientStream":u.responseStream?c="serverStream":c="unary";let d=a[n],f;if(d===void 0&&typeof u.originalName=="string"&&(d=a[u.originalName]),d!==void 0?f=d.bind(a):f=$_t(c,n),this.register(u.path,f,u.responseSerialize,u.requestDeserialize,c)===!1)throw new Error(`Method handler for ${u.path} already provided.`)})}removeService(s){if(s===null||typeof s!="object")throw new Error("removeService() requires object as argument");Object.keys(s).forEach(i=>{let n=s[i];this.unregister(n.path)})}bind(s,a){throw new Error("Not implemented. Use bindAsync() instead")}registerListenerToChannelz(s){return(0,Gi.registerChannelzSocket)((0,ul.subchannelAddressToString)(s),()=>({localAddress:s,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}createHttp2Server(s){let a;if(s._isSecure()){let i=Object.assign(this.commonServerOptions,s._getSettings());i.enableTrace=this.options["grpc-node.tls_enable_trace"]===1,a=Ro.createSecureServer(i),a.on("secureConnection",n=>{n.on("error",u=>{this.trace("An incoming TLS connection closed with error: "+u.message)})})}else a=Ro.createServer(this.commonServerOptions);return a.setTimeout(0,z_t),this._setupHandlers(a),a}bindOneAddress(s,a){this.trace("Attempting to bind "+(0,ul.subchannelAddressToString)(s));let i=this.createHttp2Server(a.credentials);return new Promise((n,u)=>{let c=d=>{this.trace("Failed to bind "+(0,ul.subchannelAddressToString)(s)+" with error "+d.message),n({port:"port"in s?s.port:1,error:d.message})};i.once("error",c),i.listen(s,()=>{let d=i.address(),f;typeof d=="string"?f={path:d}:f={host:d.address,port:d.port};let g=this.registerListenerToChannelz(f);this.channelzEnabled&&this.listenerChildrenTracker.refChild(g),this.http2Servers.set(i,{channelzRef:g,sessions:new Set}),a.listeningServers.add(i),this.trace("Successfully bound "+(0,ul.subchannelAddressToString)(f)),n({port:"port"in f?f.port:1}),i.removeListener("error",c)})})}async bindManyPorts(s,a){if(s.length===0)return{count:0,port:0,errors:[]};if((0,ul.isTcpSubchannelAddress)(s[0])&&s[0].port===0){let i=await this.bindOneAddress(s[0],a);if(i.error){let n=await this.bindManyPorts(s.slice(1),a);return Object.assign(Object.assign({},n),{errors:[i.error,...n.errors]})}else{let n=s.slice(1).map(d=>(0,ul.isTcpSubchannelAddress)(d)?{host:d.host,port:i.port}:d),u=await Promise.all(n.map(d=>this.bindOneAddress(d,a))),c=[i,...u];return{count:c.filter(d=>d.error===void 0).length,port:i.port,errors:c.filter(d=>d.error).map(d=>d.error)}}}else{let i=await Promise.all(s.map(n=>this.bindOneAddress(n,a)));return{count:i.filter(n=>n.error===void 0).length,port:i[0].port,errors:i.filter(n=>n.error).map(n=>n.error)}}}async bindAddressList(s,a){let i;try{i=await this.bindManyPorts(s,a)}catch(n){throw n}if(i.count>0)return i.count<s.length&&s9.log(Vr.LogVerbosity.INFO,`WARNING Only ${i.count} addresses added out of total ${s.length} resolved`),i.port;{let n=`No address added out of total ${s.length} resolved`;throw s9.log(Vr.LogVerbosity.ERROR,n),new Error(`${n} errors: [${i.errors.join(",")}]`)}}resolvePort(s){return new Promise((a,i)=>{let n={onSuccessfulResolution:(c,d,f)=>{n.onSuccessfulResolution=()=>{};let g=[].concat(...c.map(y=>y.addresses));if(g.length===0){i(new Error(`No addresses resolved for port ${s}`));return}a(g)},onError:c=>{i(new Error(c.details))}};(0,ACe.createResolver)(s,n,this.options).updateResolution()})}async bindPort(s,a){let i=await this.resolvePort(s);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");let n=await this.bindAddressList(i,a);if(a.cancelled)throw this.completeUnbind(a),new Error("bindAsync operation cancelled by unbind call");return n}normalizePort(s){let a=(0,ss.parseUri)(s);if(a===null)throw new Error(`Could not parse port "${s}"`);let i=(0,ACe.mapUriDefaultScheme)(a);if(i===null)throw new Error(`Could not get a default scheme for port "${s}"`);return i}bindAsync(s,a,i){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof s!="string")throw new TypeError("port must be a string");if(a===null||!(a instanceof Y_t.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof i!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+s);let n=this.normalizePort(s),u=(g,y)=>{process.nextTick(()=>i(g,y))},c=this.boundPorts.get((0,ss.uriToString)(n));if(c){if(!a._equals(c.credentials)){u(new Error(`${s} already bound with incompatible credentials`),0);return}c.cancelled=!1,c.completionPromise?c.completionPromise.then(g=>i(null,g),g=>i(g,0)):u(null,c.portNumber);return}c={mapKey:(0,ss.uriToString)(n),originalUri:n,completionPromise:null,cancelled:!1,portNumber:0,credentials:a,listeningServers:new Set};let d=(0,ss.splitHostPort)(n.path),f=this.bindPort(n,c);c.completionPromise=f,d?.port===0?f.then(g=>{let y={scheme:n.scheme,authority:n.authority,path:(0,ss.combineHostPort)({host:d.host,port:g})};c.mapKey=(0,ss.uriToString)(y),c.completionPromise=null,c.portNumber=g,this.boundPorts.set(c.mapKey,c),i(null,g)},g=>{i(g,0)}):(this.boundPorts.set(c.mapKey,c),f.then(g=>{c.completionPromise=null,c.portNumber=g,i(null,g)},g=>{i(g,0)}))}closeServer(s,a){this.trace("Closing server with address "+JSON.stringify(s.address()));let i=this.http2Servers.get(s);s.close(()=>{this.channelzEnabled&&i&&(this.listenerChildrenTracker.unrefChild(i.channelzRef),(0,Gi.unregisterChannelzRef)(i.channelzRef)),this.http2Servers.delete(s),a?.()})}closeSession(s,a){var i;this.trace("Closing session initiated by "+((i=s.socket)===null||i===void 0?void 0:i.remoteAddress));let n=this.sessions.get(s),u=()=>{this.channelzEnabled&&n&&(this.sessionChildrenTracker.unrefChild(n.ref),(0,Gi.unregisterChannelzRef)(n.ref)),this.sessions.delete(s),a?.()};s.closed?process.nextTick(u):s.close(u)}completeUnbind(s){for(let a of s.listeningServers){let i=this.http2Servers.get(a);if(this.closeServer(a,()=>{s.listeningServers.delete(a)}),i)for(let n of i.sessions)this.closeSession(n)}this.boundPorts.delete(s.mapKey)}unbind(s){this.trace("unbind port="+s);let a=this.normalizePort(s),i=(0,ss.splitHostPort)(a.path);if(i?.port===0)throw new Error("Cannot unbind port 0");let n=this.boundPorts.get((0,ss.uriToString)(a));n&&(this.trace("unbinding "+n.mapKey+" originally bound as "+(0,ss.uriToString)(n.originalUri)),n.completionPromise?n.cancelled=!0:this.completeUnbind(n))}drain(s,a){var i,n;this.trace("drain port="+s+" graceTimeMs="+a);let u=this.normalizePort(s),c=(0,ss.splitHostPort)(u.path);if(c?.port===0)throw new Error("Cannot drain port 0");let d=this.boundPorts.get((0,ss.uriToString)(u));if(!d)return;let f=new Set;for(let g of d.listeningServers){let y=this.http2Servers.get(g);if(y)for(let S of y.sessions)f.add(S),this.closeSession(S,()=>{f.delete(S)})}(n=(i=setTimeout(()=>{for(let g of f)g.destroy(Ro.constants.NGHTTP2_CANCEL)},a)).unref)===null||n===void 0||n.call(i)}forceShutdown(){for(let s of this.boundPorts.values())s.cancelled=!0;this.boundPorts.clear();for(let s of this.http2Servers.keys())this.closeServer(s);this.sessions.forEach((s,a)=>{this.closeSession(a),a.destroy(Ro.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,Gi.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(s,a,i,n,u){return this.handlers.has(s)?!1:(this.handlers.set(s,{func:a,serialize:i,deserialize:n,type:u,path:s}),!0)}unregister(s){return this.handlers.delete(s)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(s=>!s.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(s){var a;let i=c=>{this.channelzEnabled&&(0,Gi.unregisterChannelzRef)(this.channelzRef),s(c)},n=0;function u(){n--,n===0&&i()}this.shutdown=!0;for(let c of this.http2Servers.keys()){n++;let d=this.http2Servers.get(c).channelzRef.name;this.trace("Waiting for server "+d+" to close"),this.closeServer(c,()=>{this.trace("Server "+d+" finished closing"),u()})}for(let c of this.sessions.keys()){n++;let d=(a=c.socket)===null||a===void 0?void 0:a.remoteAddress;this.trace("Waiting for session "+d+" to close"),this.closeSession(c,()=>{this.trace("Session "+d+" finished closing"),u()})}n===0&&i()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(s,a){let i=a[Ro.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof i!="string"||!i.startsWith("application/grpc")?(s.respond({[Ro.constants.HTTP2_HEADER_STATUS]:Ro.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(s){this.trace("Received call to method "+s+" at address "+this.serverAddressString);let a=this.handlers.get(s);return a===void 0?(this.trace("No handler registered for method "+s+". Sending UNIMPLEMENTED status."),null):a}_respondWithError(s,a,i=null){var n,u;let c=Object.assign({"grpc-status":(n=s.code)!==null&&n!==void 0?n:Vr.Status.INTERNAL,"grpc-message":s.details,[Ro.constants.HTTP2_HEADER_STATUS]:Ro.constants.HTTP_STATUS_OK,[Ro.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(u=s.metadata)===null||u===void 0?void 0:u.toHttp2Headers());a.respond(c,{endStream:!0}),this.channelzEnabled&&(this.callTracker.addCallFailed(),i?.streamTracker.addCallFailed())}_channelzHandler(s,a){let i=this.sessions.get(s.session);if(this.callTracker.addCallStarted(),i?.streamTracker.addCallStarted(),!this._verifyContentType(s,a)){this.callTracker.addCallFailed(),i?.streamTracker.addCallFailed();return}let n=a[CCe],u=this._retrieveHandler(n);if(!u){this._respondWithError(a9(n),s,i);return}let c={addMessageSent:()=>{i&&(i.messagesSent+=1,i.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{i&&(i.messagesReceived+=1,i.lastMessageReceivedTimestamp=new Date)},onCallEnd:f=>{f.code===Vr.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:f=>{i&&(f?i.streamTracker.addCallSucceeded():i.streamTracker.addCallFailed())}},d=(0,ICe.getServerInterceptingCall)(this.interceptors,s,a,c,u,this.options);this._runHandlerForCall(d,u)||(this.callTracker.addCallFailed(),i?.streamTracker.addCallFailed(),d.sendStatus({code:Vr.Status.INTERNAL,details:`Unknown handler type: ${u.type}`}))}_streamHandler(s,a){if(this._verifyContentType(s,a)!==!0)return;let i=a[CCe],n=this._retrieveHandler(i);if(!n){this._respondWithError(a9(i),s,null);return}let u=(0,ICe.getServerInterceptingCall)(this.interceptors,s,a,null,n,this.options);this._runHandlerForCall(u,n)||u.sendStatus({code:Vr.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(s,a){let{type:i}=a;if(i==="unary")eSt(s,a);else if(i==="clientStream")tSt(s,a);else if(i==="serverStream")rSt(s,a);else if(i==="bidi")nSt(s,a);else return!1;return!0}_setupHandlers(s){if(s===null)return;let a=s.address(),i="null";a&&(typeof a=="string"?i=a:i=a.address+":"+a.port),this.serverAddressString=i;let n=this.channelzEnabled?this._channelzHandler:this._streamHandler;s.on("stream",n.bind(this)),s.on("session",u=>{var c,d,f,g,y,S;let T=(0,Gi.registerChannelzSocket)((c=u.socket.remoteAddress)!==null&&c!==void 0?c:"unknown",this.getChannelzSessionInfoGetter(u),this.channelzEnabled),C={ref:T,streamTracker:new Gi.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(d=this.http2Servers.get(s))===null||d===void 0||d.sessions.add(u),this.sessions.set(u,C);let R=u.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+R),this.sessionChildrenTracker.refChild(T));let P=null,M=null,x=!1;if(this.maxConnectionAgeMs!==h1){let D=this.maxConnectionAgeMs/10,W=Math.random()*D*2-D;P=(g=(f=setTimeout(()=>{var re,ie;x=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+R);try{u.goaway(Ro.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch{u.destroy();return}u.close(),this.maxConnectionAgeGraceMs!==h1&&(M=(ie=(re=setTimeout(()=>{u.destroy()},this.maxConnectionAgeGraceMs)).unref)===null||ie===void 0?void 0:ie.call(re))},this.maxConnectionAgeMs+W)).unref)===null||g===void 0?void 0:g.call(f)}let U=(S=(y=setInterval(()=>{var D,W;let re=(W=(D=setTimeout(()=>{x=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+R),u.close()},this.keepaliveTimeoutMs)).unref)===null||W===void 0?void 0:W.call(D);try{u.ping((ie,_e,L)=>{clearTimeout(re)})}catch{u.destroy()}},this.keepaliveTimeMs)).unref)===null||S===void 0?void 0:S.call(y);u.on("close",()=>{var D;this.channelzEnabled&&(x||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+R),this.sessionChildrenTracker.unrefChild(T),(0,Gi.unregisterChannelzRef)(T)),P&&clearTimeout(P),M&&clearTimeout(M),U&&clearTimeout(U),(D=this.http2Servers.get(s))===null||D===void 0||D.sessions.delete(u),this.sessions.delete(u)})})}},(()=>{let o=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;r=[J_t("Calling start() is no longer necessary. It can be safely omitted.")],Z_t(t,null,r,{kind:"method",name:"start",static:!1,private:!1,access:{has:s=>"start"in s,get:s=>s.start},metadata:o},null,e),o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o})})(),t})();cl.Server=Q_t;async function eSt(t,e){let r;function o(i,n,u,c){if(i){t.sendStatus((0,jm.serverErrorToStatus)(i,u));return}t.sendMessage(n,()=>{t.sendStatus({code:Vr.Status.OK,details:"OK",metadata:u??null})})}let s,a=null;t.start({onReceiveMetadata(i){s=i,t.startRead()},onReceiveMessage(i){if(a){t.sendStatus({code:Vr.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}a=i,t.startRead()},onReceiveHalfClose(){if(!a){t.sendStatus({code:Vr.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new jm.ServerWritableStreamImpl(e.path,t,s,a);try{e.func(r,o)}catch(i){t.sendStatus({code:Vr.Status.UNKNOWN,details:`Server method handler threw error ${i.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"))}})}function tSt(t,e){let r;function o(s,a,i,n){if(s){t.sendStatus((0,jm.serverErrorToStatus)(s,i));return}t.sendMessage(a,()=>{t.sendStatus({code:Vr.Status.OK,details:"OK",metadata:i??null})})}t.start({onReceiveMetadata(s){r=new jm.ServerDuplexStreamImpl(e.path,t,s);try{e.func(r,o)}catch(a){t.sendStatus({code:Vr.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onReceiveMessage(s){r.push(s)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function rSt(t,e){let r,o,s=null;t.start({onReceiveMetadata(a){o=a,t.startRead()},onReceiveMessage(a){if(s){t.sendStatus({code:Vr.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${e.path}`,metadata:null});return}s=a,t.startRead()},onReceiveHalfClose(){if(!s){t.sendStatus({code:Vr.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${e.path}`,metadata:null});return}r=new jm.ServerWritableStreamImpl(e.path,t,o,s);try{e.func(r)}catch(a){t.sendStatus({code:Vr.Status.UNKNOWN,details:`Server method handler threw error ${a.message}`,metadata:null})}},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}function nSt(t,e){let r;t.start({onReceiveMetadata(o){r=new jm.ServerDuplexStreamImpl(e.path,t,o);try{e.func(r)}catch(s){t.sendStatus({code:Vr.Status.UNKNOWN,details:`Server method handler threw error ${s.message}`,metadata:null})}},onReceiveMessage(o){r.push(o)},onReceiveHalfClose(){r.push(null)},onCancel(){r&&(r.cancelled=!0,r.emit("cancelled","cancelled"),r.destroy())}})}});var OCe=h(g1=>{"use strict";l();Object.defineProperty(g1,"__esModule",{value:!0});g1.StatusBuilder=void 0;var u9=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){let e={};return this.code!==null&&(e.code=this.code),this.details!==null&&(e.details=this.details),this.metadata!==null&&(e.metadata=this.metadata),e}};g1.StatusBuilder=u9});var c9=h(ll=>{"use strict";l();Object.defineProperty(ll,"__esModule",{value:!0});ll.isDuration=ll.durationToMs=ll.msToDuration=void 0;function iSt(t){return{seconds:t/1e3|0,nanos:t%1e3*1e6|0}}ll.msToDuration=iSt;function oSt(t){return t.seconds*1e3+t.nanos/1e6|0}ll.durationToMs=oSt;function sSt(t){return typeof t.seconds=="number"&&typeof t.nanos=="number"}ll.isDuration=sSt});var m1=h(Oo=>{"use strict";l();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.setup=Oo.LeafLoadBalancer=Oo.PickFirstLoadBalancer=Oo.shuffled=Oo.PickFirstLoadBalancingConfig=void 0;var d9=xf(),Ir=_o(),Km=Yc(),aSt=tr(),uSt=pt(),NCe=ts(),wCe=require("net"),cSt="pick_first";function l9(t){aSt.trace(uSt.LogVerbosity.DEBUG,cSt,t)}var vE="pick_first",lSt=250,Xm=class t{constructor(e){this.shuffleAddressList=e}getLoadBalancerName(){return vE}toJsonObject(){return{[vE]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(e){if("shuffleAddressList"in e&&typeof e.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new t(e.shuffleAddressList===!0)}};Oo.PickFirstLoadBalancingConfig=Xm;var f9=class{constructor(e){this.subchannel=e}pick(e){return{pickResultType:Km.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}};function PCe(t){let e=t.slice();for(let r=e.length-1;r>1;r--){let o=Math.floor(Math.random()*(r+1)),s=e[r];e[r]=e[o],e[o]=s}return e}Oo.shuffled=PCe;function dSt(t){let e=[],r=[],o=[],s=(0,NCe.isTcpSubchannelAddress)(t[0])&&(0,wCe.isIPv6)(t[0].host);for(let n of t)(0,NCe.isTcpSubchannelAddress)(n)&&(0,wCe.isIPv6)(n.host)?r.push(n):o.push(n);let a=s?r:o,i=s?o:r;for(let n=0;n<Math.max(a.length,i.length);n++)n<a.length&&e.push(a[n]),n<i.length&&e.push(i[n]);return e}var MCe="grpc-node.internal.pick-first.report_health_status",TE=class{constructor(e,r){this.channelControlHelper=e,this.children=[],this.currentState=Ir.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(o,s,a,i,n)=>{this.onSubchannelStateUpdate(o,s,a,n)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout),this.reportHealthStatus=r[MCe]}allChildrenHaveReportedTF(){return this.children.every(e=>e.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.reportHealthStatus&&!this.currentPick.isHealthy()?this.updateState(Ir.ConnectivityState.TRANSIENT_FAILURE,new Km.UnavailablePicker({details:`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`})):this.updateState(Ir.ConnectivityState.READY,new f9(this.currentPick)):this.children.length===0?this.updateState(Ir.ConnectivityState.IDLE,new Km.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(Ir.ConnectivityState.TRANSIENT_FAILURE,new Km.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Ir.ConnectivityState.CONNECTING,new Km.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){this.stickyTransientFailureMode=!0;for(let{subchannel:e}of this.children)e.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(this.currentPick!==null){let e=this.currentPick;this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.reportHealthStatus&&e.removeHealthStateWatcher(this.pickedSubchannelHealthListener)}}onSubchannelStateUpdate(e,r,o,s){var a;if(!((a=this.currentPick)===null||a===void 0)&&a.realSubchannelEquals(e)){o!==Ir.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[i,n]of this.children.entries())if(e.realSubchannelEquals(n.subchannel)){o===Ir.ConnectivityState.READY&&this.pickSubchannel(n.subchannel),o===Ir.ConnectivityState.TRANSIENT_FAILURE&&(n.hasReportedTransientFailure=!0,s&&(this.lastError=s),this.maybeEnterStickyTransientFailureMode(),i===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(i+1)),n.subchannel.startConnecting();return}}startNextSubchannelConnecting(e){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[r,o]of this.children.entries())if(r>=e){let s=o.subchannel.getConnectivityState();if(s===Ir.ConnectivityState.IDLE||s===Ir.ConnectivityState.CONNECTING){this.startConnecting(r);return}}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(e){var r,o;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.children[e].subchannel.getConnectivityState()===Ir.ConnectivityState.IDLE&&(l9("Start connecting to subchannel with address "+this.children[e].subchannel.getAddress()),process.nextTick(()=>{var s;(s=this.children[e])===null||s===void 0||s.subchannel.startConnecting()})),this.connectionDelayTimeout=(o=(r=setTimeout(()=>{this.startNextSubchannelConnecting(e+1)},lSt)).unref)===null||o===void 0?void 0:o.call(r)}pickSubchannel(e){this.currentPick&&e.realSubchannelEquals(this.currentPick)||(l9("Pick subchannel with address "+e.getAddress()),this.stickyTransientFailureMode=!1,this.removeCurrentPick(),this.currentPick=e,e.ref(),this.reportHealthStatus&&e.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(e,r){l9(Ir.ConnectivityState[this.currentState]+" -> "+Ir.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,r)}resetSubchannelList(){for(let e of this.children)this.currentPick&&e.subchannel.realSubchannelEquals(this.currentPick)||e.subchannel.removeConnectivityStateListener(this.subchannelStateListener),e.subchannel.unref(),this.channelControlHelper.removeChannelzChild(e.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(e){let r=e.map(o=>({subchannel:this.channelControlHelper.createSubchannel(o,{}),hasReportedTransientFailure:!1}));for(let{subchannel:o}of r)o.ref(),this.channelControlHelper.addChannelzChild(o.getChannelzRef());this.resetSubchannelList(),this.children=r;for(let{subchannel:o}of this.children)if(o.addConnectivityStateListener(this.subchannelStateListener),o.getConnectivityState()===Ir.ConnectivityState.READY){this.pickSubchannel(o);return}for(let o of this.children)o.subchannel.getConnectivityState()===Ir.ConnectivityState.TRANSIENT_FAILURE&&(o.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(e,r){if(!(r instanceof Xm))return;r.getShuffleAddressList()&&(e=PCe(e));let o=[].concat(...e.map(a=>a.addresses));if(o.length===0)throw new Error("No addresses in endpoint list passed to pick_first");let s=dSt(o);this.latestAddressList=s,this.connectToAddressList(s)}exitIdle(){this.currentState===Ir.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return vE}};Oo.PickFirstLoadBalancer=TE;var fSt=new Xm(!1),p9=class{constructor(e,r,o){this.endpoint=e,this.latestState=Ir.ConnectivityState.IDLE;let s=(0,d9.createChildChannelControlHelper)(r,{updateState:(a,i)=>{this.latestState=a,this.latestPicker=i,r.updateState(a,i)}});this.pickFirstBalancer=new TE(s,Object.assign(Object.assign({},o),{[MCe]:!0})),this.latestPicker=new Km.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList([this.endpoint],fSt)}updateEndpoint(e){this.endpoint=e,this.latestState!==Ir.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}};Oo.LeafLoadBalancer=p9;function pSt(){(0,d9.registerLoadBalancerType)(vE,TE,Xm),(0,d9.registerDefaultLoadBalancerType)(vE)}Oo.setup=pSt});var g9=h(De=>{"use strict";l();Object.defineProperty(De,"__esModule",{value:!0});De.BaseSubchannelWrapper=De.registerAdminService=De.FilterStackFactory=De.BaseFilter=De.PickResultType=De.QueuePicker=De.UnavailablePicker=De.ChildLoadBalancerHandler=De.EndpointMap=De.endpointHasAddress=De.endpointToString=De.subchannelAddressToString=De.LeafLoadBalancer=De.isLoadBalancerNameRegistered=De.parseLoadBalancingConfig=De.selectLbConfigFromList=De.registerLoadBalancerType=De.createChildChannelControlHelper=De.BackoffTimeout=De.durationToMs=De.uriToString=De.createResolver=De.registerResolver=De.log=De.trace=void 0;var xCe=tr();Object.defineProperty(De,"trace",{enumerable:!0,get:function(){return xCe.trace}});Object.defineProperty(De,"log",{enumerable:!0,get:function(){return xCe.log}});var BCe=$s();Object.defineProperty(De,"registerResolver",{enumerable:!0,get:function(){return BCe.registerResolver}});Object.defineProperty(De,"createResolver",{enumerable:!0,get:function(){return BCe.createResolver}});var hSt=Bi();Object.defineProperty(De,"uriToString",{enumerable:!0,get:function(){return hSt.uriToString}});var gSt=c9();Object.defineProperty(De,"durationToMs",{enumerable:!0,get:function(){return gSt.durationToMs}});var mSt=Kb();Object.defineProperty(De,"BackoffTimeout",{enumerable:!0,get:function(){return mSt.BackoffTimeout}});var AE=xf();Object.defineProperty(De,"createChildChannelControlHelper",{enumerable:!0,get:function(){return AE.createChildChannelControlHelper}});Object.defineProperty(De,"registerLoadBalancerType",{enumerable:!0,get:function(){return AE.registerLoadBalancerType}});Object.defineProperty(De,"selectLbConfigFromList",{enumerable:!0,get:function(){return AE.selectLbConfigFromList}});Object.defineProperty(De,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return AE.parseLoadBalancingConfig}});Object.defineProperty(De,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return AE.isLoadBalancerNameRegistered}});var ySt=m1();Object.defineProperty(De,"LeafLoadBalancer",{enumerable:!0,get:function(){return ySt.LeafLoadBalancer}});var y1=ts();Object.defineProperty(De,"subchannelAddressToString",{enumerable:!0,get:function(){return y1.subchannelAddressToString}});Object.defineProperty(De,"endpointToString",{enumerable:!0,get:function(){return y1.endpointToString}});Object.defineProperty(De,"endpointHasAddress",{enumerable:!0,get:function(){return y1.endpointHasAddress}});Object.defineProperty(De,"EndpointMap",{enumerable:!0,get:function(){return y1.EndpointMap}});var _St=rP();Object.defineProperty(De,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return _St.ChildLoadBalancerHandler}});var h9=Yc();Object.defineProperty(De,"UnavailablePicker",{enumerable:!0,get:function(){return h9.UnavailablePicker}});Object.defineProperty(De,"QueuePicker",{enumerable:!0,get:function(){return h9.QueuePicker}});Object.defineProperty(De,"PickResultType",{enumerable:!0,get:function(){return h9.PickResultType}});var SSt=YP();Object.defineProperty(De,"BaseFilter",{enumerable:!0,get:function(){return SSt.BaseFilter}});var bSt=EY();Object.defineProperty(De,"FilterStackFactory",{enumerable:!0,get:function(){return bSt.FilterStackFactory}});var ESt=oP();Object.defineProperty(De,"registerAdminService",{enumerable:!0,get:function(){return ESt.registerAdminService}});var vSt=a1();Object.defineProperty(De,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return vSt.BaseSubchannelWrapper}})});var DCe=h(_1=>{"use strict";l();Object.defineProperty(_1,"__esModule",{value:!0});_1.setup=void 0;var TSt=$s(),m9=class{constructor(e,r,o){this.listener=r,this.hasReturnedResult=!1,this.endpoints=[];let s;e.authority===""?s="/"+e.path:s=e.path,this.endpoints=[{addresses:[{path:s}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.endpoints,null,null,null,{}))}destroy(){}static getDefaultAuthority(e){return"localhost"}};function ASt(){(0,TSt.registerResolver)("unix",m9)}_1.setup=ASt});var FCe=h(E1=>{"use strict";l();Object.defineProperty(E1,"__esModule",{value:!0});E1.setup=void 0;var LCe=require("net"),S1=pt(),y9=Tn(),UCe=$s(),GCe=Bi(),ISt=tr(),CSt="ip_resolver";function VCe(t){ISt.trace(S1.LogVerbosity.DEBUG,CSt,t)}var _9="ipv4",S9="ipv6",RSt=443,b1=class{constructor(e,r,o){var s;this.listener=r,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,VCe("Resolver constructed for target "+(0,GCe.uriToString)(e));let a=[];if(!(e.scheme===_9||e.scheme===S9)){this.error={code:S1.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new y9.Metadata};return}let i=e.path.split(",");for(let n of i){let u=(0,GCe.splitHostPort)(n);if(u===null){this.error={code:S1.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new y9.Metadata};return}if(e.scheme===_9&&!(0,LCe.isIPv4)(u.host)||e.scheme===S9&&!(0,LCe.isIPv6)(u.host)){this.error={code:S1.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${n}`,metadata:new y9.Metadata};return}a.push({host:u.host,port:(s=u.port)!==null&&s!==void 0?s:RSt})}this.endpoints=a.map(n=>({addresses:[n]})),VCe("Parsed "+e.scheme+" address list "+a)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.endpoints,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(e){return e.path.split(",")[0]}};function OSt(){(0,UCe.registerResolver)(_9,b1),(0,UCe.registerResolver)(S9,b1)}E1.setup=OSt});var ZCe=h(zm=>{"use strict";l();Object.defineProperty(zm,"__esModule",{value:!0});zm.setup=zm.RoundRobinLoadBalancer=void 0;var WCe=xf(),Vi=_o(),b9=Yc(),NSt=tr(),wSt=pt(),HCe=ts(),PSt=m1(),MSt="round_robin";function kCe(t){NSt.trace(wSt.LogVerbosity.DEBUG,MSt,t)}var v1="round_robin",E9=class t{getLoadBalancerName(){return v1}constructor(){}toJsonObject(){return{[v1]:{}}}static createFromJson(e){return new t}},v9=class{constructor(e,r=0){this.children=e,this.nextIndex=r}pick(e){let r=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,r.pick(e)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}},T1=class{constructor(e,r){this.channelControlHelper=e,this.options=r,this.children=[],this.currentState=Vi.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,WCe.createChildChannelControlHelper)(e,{updateState:(o,s)=>{this.calculateAndUpdateState()}})}countChildrenWithState(e){return this.children.filter(r=>r.getConnectivityState()===e).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(Vi.ConnectivityState.READY)>0){let e=this.children.filter(o=>o.getConnectivityState()===Vi.ConnectivityState.READY),r=0;if(this.currentReadyPicker!==null){let o=this.currentReadyPicker.peekNextEndpoint();r=e.findIndex(s=>(0,HCe.endpointEqual)(s.getEndpoint(),o)),r<0&&(r=0)}this.updateState(Vi.ConnectivityState.READY,new v9(e.map(o=>({endpoint:o.getEndpoint(),picker:o.getPicker()})),r))}else this.countChildrenWithState(Vi.ConnectivityState.CONNECTING)>0?this.updateState(Vi.ConnectivityState.CONNECTING,new b9.QueuePicker(this)):this.countChildrenWithState(Vi.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(Vi.ConnectivityState.TRANSIENT_FAILURE,new b9.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(Vi.ConnectivityState.IDLE,new b9.QueuePicker(this));for(let e of this.children)e.getConnectivityState()===Vi.ConnectivityState.IDLE&&e.exitIdle()}}updateState(e,r){kCe(Vi.ConnectivityState[this.currentState]+" -> "+Vi.ConnectivityState[e]),e===Vi.ConnectivityState.READY?this.currentReadyPicker=r:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,r)}resetSubchannelList(){for(let e of this.children)e.destroy()}updateAddressList(e,r){this.resetSubchannelList(),kCe("Connect to endpoint list "+e.map(HCe.endpointToString)),this.updatesPaused=!0,this.children=e.map(o=>new PSt.LeafLoadBalancer(o,this.childChannelControlHelper,this.options));for(let o of this.children)o.startConnecting();this.updatesPaused=!1,this.calculateAndUpdateState()}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return v1}};zm.RoundRobinLoadBalancer=T1;function xSt(){(0,WCe.registerLoadBalancerType)(v1,T1,E9)}zm.setup=xSt});var jCe=h(dl=>{"use strict";l();var T9;Object.defineProperty(dl,"__esModule",{value:!0});dl.setup=dl.OutlierDetectionLoadBalancer=dl.OutlierDetectionLoadBalancingConfig=void 0;var BSt=_o(),qCe=pt(),Ff=c9(),YCe=g9(),DSt=xf(),LSt=rP(),USt=Yc(),A9=ts(),GSt=a1(),VSt=tr(),FSt="outlier_detection";function $r(t){VSt.trace(qCe.LogVerbosity.DEBUG,FSt,t)}var w9="outlier_detection",HSt=((T9=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&T9!==void 0?T9:"true")==="true",kSt={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},WSt={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function Jm(t,e,r,o){if(e in t&&t[e]!==void 0&&typeof t[e]!==r){let s=o?`${o}.${e}`:e;throw new Error(`outlier detection config ${s} parse error: expected ${r}, got ${typeof t[e]}`)}}function I9(t,e,r){let o=r?`${r}.${e}`:e;if(e in t&&t[e]!==void 0){if(!(0,Ff.isDuration)(t[e]))throw new Error(`outlier detection config ${o} parse error: expected Duration, got ${typeof t[e]}`);if(!(t[e].seconds>=0&&t[e].seconds<=315576e6&&t[e].nanos>=0&&t[e].nanos<=999999999))throw new Error(`outlier detection config ${o} parse error: values out of range for non-negative Duaration`)}}function A1(t,e,r){let o=r?`${r}.${e}`:e;if(Jm(t,e,"number",r),e in t&&t[e]!==void 0&&!(t[e]>=0&&t[e]<=100))throw new Error(`outlier detection config ${o} parse error: value out of range for percentage (0-100)`)}var IE=class t{constructor(e,r,o,s,a,i,n){if(this.childPolicy=n,n.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=e??1e4,this.baseEjectionTimeMs=r??3e4,this.maxEjectionTimeMs=o??3e5,this.maxEjectionPercent=s??10,this.successRateEjection=a?Object.assign(Object.assign({},kSt),a):null,this.failurePercentageEjection=i?Object.assign(Object.assign({},WSt),i):null}getLoadBalancerName(){return w9}toJsonObject(){var e,r;return{outlier_detection:{interval:(0,Ff.msToDuration)(this.intervalMs),base_ejection_time:(0,Ff.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,Ff.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(e=this.successRateEjection)!==null&&e!==void 0?e:void 0,failure_percentage_ejection:(r=this.failurePercentageEjection)!==null&&r!==void 0?r:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(e){var r;if(I9(e,"interval"),I9(e,"base_ejection_time"),I9(e,"max_ejection_time"),A1(e,"max_ejection_percent"),"success_rate_ejection"in e&&e.success_rate_ejection!==void 0){if(typeof e.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");Jm(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),A1(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),Jm(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),Jm(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e&&e.failure_percentage_ejection!==void 0){if(typeof e.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");A1(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),A1(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),Jm(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),Jm(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in e)||!Array.isArray(e.child_policy))throw new Error("outlier detection config child_policy must be an array");let o=(0,DSt.selectLbConfigFromList)(e.child_policy);if(!o)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new t(e.interval?(0,Ff.durationToMs)(e.interval):null,e.base_ejection_time?(0,Ff.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,Ff.durationToMs)(e.max_ejection_time):null,(r=e.max_ejection_percent)!==null&&r!==void 0?r:null,e.success_rate_ejection,e.failure_percentage_ejection,o)}};dl.OutlierDetectionLoadBalancingConfig=IE;var R9=class extends GSt.BaseSubchannelWrapper{constructor(e,r){super(e),this.mapEntry=r,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}};function C9(){return{success:0,failure:0}}var O9=class{constructor(){this.activeBucket=C9(),this.inactiveBucket=C9()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=C9()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}},N9=class{constructor(e,r){this.wrappedPicker=e,this.countCalls=r}pick(e){let r=this.wrappedPicker.pick(e);if(r.pickResultType===USt.PickResultType.COMPLETE){let o=r.subchannel,s=o.getMapEntry();if(s){let a=r.onCallEnded;return this.countCalls&&(a=i=>{var n;i===qCe.Status.OK?s.counter.addSuccess():s.counter.addFailure(),(n=r.onCallEnded)===null||n===void 0||n.call(r,i)}),Object.assign(Object.assign({},r),{subchannel:o.getWrappedSubchannel(),onCallEnded:a})}else return Object.assign(Object.assign({},r),{subchannel:o.getWrappedSubchannel()})}else return r}},I1=class{constructor(e,r){this.entryMap=new A9.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new LSt.ChildLoadBalancerHandler((0,YCe.createChildChannelControlHelper)(e,{createSubchannel:(o,s)=>{let a=e.createSubchannel(o,s),i=this.entryMap.getForSubchannelAddress(o),n=new R9(a,i);return i?.currentEjectionTimestamp!==null&&n.eject(),i?.subchannelWrappers.push(n),n},updateState:(o,s)=>{o===BSt.ConnectivityState.READY?e.updateState(o,new N9(s,this.isCountingEnabled())):e.updateState(o,s)}}),r),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let e=0;for(let r of this.entryMap.values())r.currentEjectionTimestamp!==null&&(e+=1);return e*100/this.entryMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getSuccessRateEjectionConfig();if(!r)return;$r("Running success rate check");let o=r.request_volume,s=0,a=[];for(let[f,g]of this.entryMap.entries()){let y=g.counter.getLastSuccesses(),S=g.counter.getLastFailures();$r("Stats for "+(0,A9.endpointToString)(f)+": successes="+y+" failures="+S+" targetRequestVolume="+o),y+S>=o&&(s+=1,a.push(y/(y+S)))}if($r("Found "+s+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+a+"]"),s<r.minimum_hosts)return;let i=a.reduce((f,g)=>f+g)/a.length,n=0;for(let f of a){let g=f-i;n+=g*g}let u=n/a.length,c=Math.sqrt(u),d=i-c*(r.stdev_factor/1e3);$r("stdev="+c+" ejectionThreshold="+d);for(let[f,g]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let y=g.counter.getLastSuccesses(),S=g.counter.getLastFailures();if(y+S<o)continue;let T=y/(y+S);if($r("Checking candidate "+f+" successRate="+T),T<d){let C=Math.random()*100;$r("Candidate "+f+" randomNumber="+C+" enforcement_percentage="+r.enforcement_percentage),C<r.enforcement_percentage&&($r("Ejecting candidate "+f),this.eject(g,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;let r=this.latestConfig.getFailurePercentageEjectionConfig();if(!r)return;$r("Running failure percentage check. threshold="+r.threshold+" request volume threshold="+r.request_volume);let o=0;for(let s of this.entryMap.values()){let a=s.counter.getLastSuccesses(),i=s.counter.getLastFailures();a+i>=r.request_volume&&(o+=1)}if(!(o<r.minimum_hosts))for(let[s,a]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let i=a.counter.getLastSuccesses(),n=a.counter.getLastFailures();if($r("Candidate successes="+i+" failures="+n),i+n<r.request_volume)continue;if(n*100/(n+i)>r.threshold){let c=Math.random()*100;$r("Candidate "+s+" randomNumber="+c+" enforcement_percentage="+r.enforcement_percentage),c<r.enforcement_percentage&&($r("Ejecting candidate "+s),this.eject(a,e))}}}eject(e,r){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(let o of e.subchannelWrappers)o.eject()}uneject(e){e.currentEjectionTimestamp=null;for(let r of e.subchannelWrappers)r.uneject()}switchAllBuckets(){for(let e of this.entryMap.values())e.counter.switchBuckets()}startTimer(e){var r,o;this.ejectionTimer=setTimeout(()=>this.runChecks(),e),(o=(r=this.ejectionTimer).unref)===null||o===void 0||o.call(r)}runChecks(){let e=new Date;if($r("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(let[r,o]of this.entryMap.entries())if(o.currentEjectionTimestamp===null)o.ejectionTimeMultiplier>0&&(o.ejectionTimeMultiplier-=1);else{let s=this.latestConfig.getBaseEjectionTimeMs(),a=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(o.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(s*o.ejectionTimeMultiplier,Math.max(s,a))),i<new Date&&($r("Unejecting "+r),this.uneject(o))}}}updateAddressList(e,r,o){if(!(r instanceof IE))return;for(let a of e)this.entryMap.has(a)||($r("Adding map entry for "+(0,A9.endpointToString)(a)),this.entryMap.set(a,{counter:new O9,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(e);let s=r.getChildPolicy();if(this.childBalancer.updateAddressList(e,s,o),r.getSuccessRateEjectionConfig()||r.getFailurePercentageEjectionConfig())if(this.timerStartTime){$r("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=r.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else $r("Starting new timer"),this.timerStartTime=new Date,this.startTimer(r.getIntervalMs()),this.switchAllBuckets();else{$r("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(let a of this.entryMap.values())this.uneject(a),a.ejectionTimeMultiplier=0}this.latestConfig=r}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return w9}};dl.OutlierDetectionLoadBalancer=I1;function ZSt(){HSt&&(0,YCe.registerLoadBalancerType)(w9,I1,IE)}dl.setup=ZSt});var Hf=h(de=>{"use strict";l();Object.defineProperty(de,"__esModule",{value:!0});de.experimental=de.ServerInterceptingCall=de.ResponderBuilder=de.ServerListenerBuilder=de.addAdminServicesToServer=de.getChannelzHandlers=de.getChannelzServiceDefinition=de.InterceptorConfigurationError=de.InterceptingCall=de.RequesterBuilder=de.ListenerBuilder=de.StatusBuilder=de.getClientChannel=de.ServerCredentials=de.Server=de.setLogVerbosity=de.setLogger=de.load=de.loadObject=de.CallCredentials=de.ChannelCredentials=de.waitForClientReady=de.closeClient=de.Channel=de.makeGenericClientConstructor=de.makeClientConstructor=de.loadPackageDefinition=de.Client=de.compressionAlgorithms=de.propagate=de.connectivityState=de.status=de.logVerbosity=de.Metadata=de.credentials=void 0;var C1=N5();Object.defineProperty(de,"CallCredentials",{enumerable:!0,get:function(){return C1.CallCredentials}});var qSt=aq();Object.defineProperty(de,"Channel",{enumerable:!0,get:function(){return qSt.ChannelImplementation}});var YSt=vY();Object.defineProperty(de,"compressionAlgorithms",{enumerable:!0,get:function(){return YSt.CompressionAlgorithms}});var jSt=_o();Object.defineProperty(de,"connectivityState",{enumerable:!0,get:function(){return jSt.ConnectivityState}});var R1=Xw();Object.defineProperty(de,"ChannelCredentials",{enumerable:!0,get:function(){return R1.ChannelCredentials}});var KCe=sq();Object.defineProperty(de,"Client",{enumerable:!0,get:function(){return KCe.Client}});var P9=pt();Object.defineProperty(de,"logVerbosity",{enumerable:!0,get:function(){return P9.LogVerbosity}});Object.defineProperty(de,"status",{enumerable:!0,get:function(){return P9.Status}});Object.defineProperty(de,"propagate",{enumerable:!0,get:function(){return P9.Propagate}});var XCe=tr(),M9=cq();Object.defineProperty(de,"loadPackageDefinition",{enumerable:!0,get:function(){return M9.loadPackageDefinition}});Object.defineProperty(de,"makeClientConstructor",{enumerable:!0,get:function(){return M9.makeClientConstructor}});Object.defineProperty(de,"makeGenericClientConstructor",{enumerable:!0,get:function(){return M9.makeClientConstructor}});var KSt=Tn();Object.defineProperty(de,"Metadata",{enumerable:!0,get:function(){return KSt.Metadata}});var XSt=RCe();Object.defineProperty(de,"Server",{enumerable:!0,get:function(){return XSt.Server}});var zSt=$Y();Object.defineProperty(de,"ServerCredentials",{enumerable:!0,get:function(){return zSt.ServerCredentials}});var JSt=OCe();Object.defineProperty(de,"StatusBuilder",{enumerable:!0,get:function(){return JSt.StatusBuilder}});de.credentials={combineChannelCredentials:(t,...e)=>e.reduce((r,o)=>r.compose(o),t),combineCallCredentials:(t,...e)=>e.reduce((r,o)=>r.compose(o),t),createInsecure:R1.ChannelCredentials.createInsecure,createSsl:R1.ChannelCredentials.createSsl,createFromSecureContext:R1.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:C1.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:C1.CallCredentials.createFromGoogleCredential,createEmpty:C1.CallCredentials.createEmpty};var $St=t=>t.close();de.closeClient=$St;var QSt=(t,e,r)=>t.waitForReady(e,r);de.waitForClientReady=QSt;var ebt=(t,e)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};de.loadObject=ebt;var tbt=(t,e,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};de.load=tbt;var rbt=t=>{XCe.setLogger(t)};de.setLogger=rbt;var nbt=t=>{XCe.setLoggerVerbosity(t)};de.setLogVerbosity=nbt;var ibt=t=>KCe.Client.prototype.getChannel.call(t);de.getClientChannel=ibt;var O1=nq();Object.defineProperty(de,"ListenerBuilder",{enumerable:!0,get:function(){return O1.ListenerBuilder}});Object.defineProperty(de,"RequesterBuilder",{enumerable:!0,get:function(){return O1.RequesterBuilder}});Object.defineProperty(de,"InterceptingCall",{enumerable:!0,get:function(){return O1.InterceptingCall}});Object.defineProperty(de,"InterceptorConfigurationError",{enumerable:!0,get:function(){return O1.InterceptorConfigurationError}});var zCe=Uf();Object.defineProperty(de,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return zCe.getChannelzServiceDefinition}});Object.defineProperty(de,"getChannelzHandlers",{enumerable:!0,get:function(){return zCe.getChannelzHandlers}});var obt=oP();Object.defineProperty(de,"addAdminServicesToServer",{enumerable:!0,get:function(){return obt.addAdminServicesToServer}});var x9=o9();Object.defineProperty(de,"ServerListenerBuilder",{enumerable:!0,get:function(){return x9.ServerListenerBuilder}});Object.defineProperty(de,"ResponderBuilder",{enumerable:!0,get:function(){return x9.ResponderBuilder}});Object.defineProperty(de,"ServerInterceptingCall",{enumerable:!0,get:function(){return x9.ServerInterceptingCall}});var sbt=g9();de.experimental=sbt;var abt=cY(),ubt=DCe(),cbt=FCe(),lbt=m1(),dbt=ZCe(),fbt=jCe(),pbt=Uf();abt.setup(),ubt.setup(),cbt.setup(),lbt.setup(),dbt.setup(),fbt.setup(),pbt.setup()});var B9=h(CE=>{"use strict";l();Object.defineProperty(CE,"__esModule",{value:!0});CE.ServiceClientType=void 0;var hbt;(function(t){t[t.SPANS=0]="SPANS",t[t.METRICS=1]="METRICS",t[t.LOGS=2]="LOGS"})(hbt=CE.ServiceClientType||(CE.ServiceClientType={}))});var N1=h((vir,JCe)=>{"use strict";l();var Pe=i5(),V=Pe.Reader,Xe=Pe.Writer,I=Pe.util,v=Pe.roots.default||(Pe.roots.default={});v.opentelemetry=function(){var t={};return t.proto=function(){var e={};return e.common=function(){var r={};return r.v1=function(){var o={};return o.AnyValue=function(){function s(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.stringValue=null,s.prototype.boolValue=null,s.prototype.intValue=null,s.prototype.doubleValue=null,s.prototype.arrayValue=null,s.prototype.kvlistValue=null,s.prototype.bytesValue=null;var a;return Object.defineProperty(s.prototype,"value",{get:I.oneOfGetter(a=["stringValue","boolValue","intValue","doubleValue","arrayValue","kvlistValue","bytesValue"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){return u||(u=Xe.create()),n.stringValue!=null&&Object.hasOwnProperty.call(n,"stringValue")&&u.uint32(10).string(n.stringValue),n.boolValue!=null&&Object.hasOwnProperty.call(n,"boolValue")&&u.uint32(16).bool(n.boolValue),n.intValue!=null&&Object.hasOwnProperty.call(n,"intValue")&&u.uint32(24).int64(n.intValue),n.doubleValue!=null&&Object.hasOwnProperty.call(n,"doubleValue")&&u.uint32(33).double(n.doubleValue),n.arrayValue!=null&&Object.hasOwnProperty.call(n,"arrayValue")&&v.opentelemetry.proto.common.v1.ArrayValue.encode(n.arrayValue,u.uint32(42).fork()).ldelim(),n.kvlistValue!=null&&Object.hasOwnProperty.call(n,"kvlistValue")&&v.opentelemetry.proto.common.v1.KeyValueList.encode(n.kvlistValue,u.uint32(50).fork()).ldelim(),n.bytesValue!=null&&Object.hasOwnProperty.call(n,"bytesValue")&&u.uint32(58).bytes(n.bytesValue),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.common.v1.AnyValue;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.stringValue=n.string();break}case 2:{d.boolValue=n.bool();break}case 3:{d.intValue=n.int64();break}case 4:{d.doubleValue=n.double();break}case 5:{d.arrayValue=v.opentelemetry.proto.common.v1.ArrayValue.decode(n,n.uint32());break}case 6:{d.kvlistValue=v.opentelemetry.proto.common.v1.KeyValueList.decode(n,n.uint32());break}case 7:{d.bytesValue=n.bytes();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(u.value=1,!I.isString(n.stringValue)))return"stringValue: string expected";if(n.boolValue!=null&&n.hasOwnProperty("boolValue")){if(u.value===1)return"value: multiple values";if(u.value=1,typeof n.boolValue!="boolean")return"boolValue: boolean expected"}if(n.intValue!=null&&n.hasOwnProperty("intValue")){if(u.value===1)return"value: multiple values";if(u.value=1,!I.isInteger(n.intValue)&&!(n.intValue&&I.isInteger(n.intValue.low)&&I.isInteger(n.intValue.high)))return"intValue: integer|Long expected"}if(n.doubleValue!=null&&n.hasOwnProperty("doubleValue")){if(u.value===1)return"value: multiple values";if(u.value=1,typeof n.doubleValue!="number")return"doubleValue: number expected"}if(n.arrayValue!=null&&n.hasOwnProperty("arrayValue")){if(u.value===1)return"value: multiple values";u.value=1;{var c=v.opentelemetry.proto.common.v1.ArrayValue.verify(n.arrayValue);if(c)return"arrayValue."+c}}if(n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")){if(u.value===1)return"value: multiple values";u.value=1;{var c=v.opentelemetry.proto.common.v1.KeyValueList.verify(n.kvlistValue);if(c)return"kvlistValue."+c}}if(n.bytesValue!=null&&n.hasOwnProperty("bytesValue")){if(u.value===1)return"value: multiple values";if(u.value=1,!(n.bytesValue&&typeof n.bytesValue.length=="number"||I.isString(n.bytesValue)))return"bytesValue: buffer expected"}return null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.common.v1.AnyValue)return n;var u=new v.opentelemetry.proto.common.v1.AnyValue;if(n.stringValue!=null&&(u.stringValue=String(n.stringValue)),n.boolValue!=null&&(u.boolValue=!!n.boolValue),n.intValue!=null&&(I.Long?(u.intValue=I.Long.fromValue(n.intValue)).unsigned=!1:typeof n.intValue=="string"?u.intValue=parseInt(n.intValue,10):typeof n.intValue=="number"?u.intValue=n.intValue:typeof n.intValue=="object"&&(u.intValue=new I.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber())),n.doubleValue!=null&&(u.doubleValue=Number(n.doubleValue)),n.arrayValue!=null){if(typeof n.arrayValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.arrayValue: object expected");u.arrayValue=v.opentelemetry.proto.common.v1.ArrayValue.fromObject(n.arrayValue)}if(n.kvlistValue!=null){if(typeof n.kvlistValue!="object")throw TypeError(".opentelemetry.proto.common.v1.AnyValue.kvlistValue: object expected");u.kvlistValue=v.opentelemetry.proto.common.v1.KeyValueList.fromObject(n.kvlistValue)}return n.bytesValue!=null&&(typeof n.bytesValue=="string"?I.base64.decode(n.bytesValue,u.bytesValue=I.newBuffer(I.base64.length(n.bytesValue)),0):n.bytesValue.length>=0&&(u.bytesValue=n.bytesValue)),u},s.toObject=function(n,u){u||(u={});var c={};return n.stringValue!=null&&n.hasOwnProperty("stringValue")&&(c.stringValue=n.stringValue,u.oneofs&&(c.value="stringValue")),n.boolValue!=null&&n.hasOwnProperty("boolValue")&&(c.boolValue=n.boolValue,u.oneofs&&(c.value="boolValue")),n.intValue!=null&&n.hasOwnProperty("intValue")&&(typeof n.intValue=="number"?c.intValue=u.longs===String?String(n.intValue):n.intValue:c.intValue=u.longs===String?I.Long.prototype.toString.call(n.intValue):u.longs===Number?new I.LongBits(n.intValue.low>>>0,n.intValue.high>>>0).toNumber():n.intValue,u.oneofs&&(c.value="intValue")),n.doubleValue!=null&&n.hasOwnProperty("doubleValue")&&(c.doubleValue=u.json&&!isFinite(n.doubleValue)?String(n.doubleValue):n.doubleValue,u.oneofs&&(c.value="doubleValue")),n.arrayValue!=null&&n.hasOwnProperty("arrayValue")&&(c.arrayValue=v.opentelemetry.proto.common.v1.ArrayValue.toObject(n.arrayValue,u),u.oneofs&&(c.value="arrayValue")),n.kvlistValue!=null&&n.hasOwnProperty("kvlistValue")&&(c.kvlistValue=v.opentelemetry.proto.common.v1.KeyValueList.toObject(n.kvlistValue,u),u.oneofs&&(c.value="kvlistValue")),n.bytesValue!=null&&n.hasOwnProperty("bytesValue")&&(c.bytesValue=u.bytes===String?I.base64.encode(n.bytesValue,0,n.bytesValue.length):u.bytes===Array?Array.prototype.slice.call(n.bytesValue):n.bytesValue,u.oneofs&&(c.value="bytesValue")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.common.v1.AnyValue"},s}(),o.ArrayValue=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.values!=null&&i.values.length)for(var u=0;u<i.values.length;++u)v.opentelemetry.proto.common.v1.AnyValue.encode(i.values[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.common.v1.ArrayValue;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(v.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var u=v.opentelemetry.proto.common.v1.AnyValue.verify(i.values[n]);if(u)return"values."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.common.v1.ArrayValue)return i;var n=new v.opentelemetry.proto.common.v1.ArrayValue;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: array expected");n.values=[];for(var u=0;u<i.values.length;++u){if(typeof i.values[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.ArrayValue.values: object expected");n.values[u]=v.opentelemetry.proto.common.v1.AnyValue.fromObject(i.values[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.values=[]),i.values&&i.values.length){u.values=[];for(var c=0;c<i.values.length;++c)u.values[c]=v.opentelemetry.proto.common.v1.AnyValue.toObject(i.values[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.ArrayValue"},s}(),o.KeyValueList=function(){function s(a){if(this.values=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.values=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.values!=null&&i.values.length)for(var u=0;u<i.values.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.values[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.common.v1.KeyValueList;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.values&&c.values.length||(c.values=[]),c.values.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.values!=null&&i.hasOwnProperty("values")){if(!Array.isArray(i.values))return"values: array expected";for(var n=0;n<i.values.length;++n){var u=v.opentelemetry.proto.common.v1.KeyValue.verify(i.values[n]);if(u)return"values."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.common.v1.KeyValueList)return i;var n=new v.opentelemetry.proto.common.v1.KeyValueList;if(i.values){if(!Array.isArray(i.values))throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: array expected");n.values=[];for(var u=0;u<i.values.length;++u){if(typeof i.values[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValueList.values: object expected");n.values[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.values[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.values=[]),i.values&&i.values.length){u.values=[];for(var c=0;c<i.values.length;++c)u.values[c]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.values[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValueList"},s}(),o.KeyValue=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.key=null,s.prototype.value=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=Xe.create()),i.key!=null&&Object.hasOwnProperty.call(i,"key")&&n.uint32(10).string(i.key),i.value!=null&&Object.hasOwnProperty.call(i,"value")&&v.opentelemetry.proto.common.v1.AnyValue.encode(i.value,n.uint32(18).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.common.v1.KeyValue;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.key=i.string();break}case 2:{c.value=v.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.key!=null&&i.hasOwnProperty("key")&&!I.isString(i.key))return"key: string expected";if(i.value!=null&&i.hasOwnProperty("value")){var n=v.opentelemetry.proto.common.v1.AnyValue.verify(i.value);if(n)return"value."+n}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.common.v1.KeyValue)return i;var n=new v.opentelemetry.proto.common.v1.KeyValue;if(i.key!=null&&(n.key=String(i.key)),i.value!=null){if(typeof i.value!="object")throw TypeError(".opentelemetry.proto.common.v1.KeyValue.value: object expected");n.value=v.opentelemetry.proto.common.v1.AnyValue.fromObject(i.value)}return n},s.toObject=function(i,n){n||(n={});var u={};return n.defaults&&(u.key="",u.value=null),i.key!=null&&i.hasOwnProperty("key")&&(u.key=i.key),i.value!=null&&i.hasOwnProperty("value")&&(u.value=v.opentelemetry.proto.common.v1.AnyValue.toObject(i.value,n)),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.KeyValue"},s}(),o.InstrumentationScope=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.name=null,s.prototype.version=null,s.prototype.attributes=I.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(10).string(i.name),i.version!=null&&Object.hasOwnProperty.call(i,"version")&&n.uint32(18).string(i.version),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(26).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(32).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.common.v1.InstrumentationScope;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.name=i.string();break}case 2:{c.version=i.string();break}case 3:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 4:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.name!=null&&i.hasOwnProperty("name")&&!I.isString(i.name))return"name: string expected";if(i.version!=null&&i.hasOwnProperty("version")&&!I.isString(i.version))return"version: string expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=v.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.common.v1.InstrumentationScope)return i;var n=new v.opentelemetry.proto.common.v1.InstrumentationScope;if(i.name!=null&&(n.name=String(i.name)),i.version!=null&&(n.version=String(i.version)),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.common.v1.InstrumentationScope.attributes: object expected");n.attributes[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults&&(u.name="",u.version="",u.droppedAttributesCount=0),i.name!=null&&i.hasOwnProperty("name")&&(u.name=i.name),i.version!=null&&i.hasOwnProperty("version")&&(u.version=i.version),i.attributes&&i.attributes.length){u.attributes=[];for(var c=0;c<i.attributes.length;++c)u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.common.v1.InstrumentationScope"},s}(),o}(),r}(),e.resource=function(){var r={};return r.v1=function(){var o={};return o.Resource=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=I.emptyArray,s.prototype.droppedAttributesCount=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(10).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(16).uint32(i.droppedAttributesCount),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.resource.v1.Resource;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.droppedAttributesCount=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=v.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.resource.v1.Resource)return i;var n=new v.opentelemetry.proto.resource.v1.Resource;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.resource.v1.Resource.attributes: object expected");n.attributes[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults&&(u.droppedAttributesCount=0),i.attributes&&i.attributes.length){u.attributes=[];for(var c=0;c<i.attributes.length;++c)u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[c],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.resource.v1.Resource"},s}(),o}(),r}(),e.trace=function(){var r={};return r.v1=function(){var o={};return o.TracesData=function(){function s(a){if(this.resourceSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceSpans=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resourceSpans!=null&&i.resourceSpans.length)for(var u=0;u<i.resourceSpans.length;++u)v.opentelemetry.proto.trace.v1.ResourceSpans.encode(i.resourceSpans[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.trace.v1.TracesData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceSpans&&c.resourceSpans.length||(c.resourceSpans=[]),c.resourceSpans.push(v.opentelemetry.proto.trace.v1.ResourceSpans.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceSpans!=null&&i.hasOwnProperty("resourceSpans")){if(!Array.isArray(i.resourceSpans))return"resourceSpans: array expected";for(var n=0;n<i.resourceSpans.length;++n){var u=v.opentelemetry.proto.trace.v1.ResourceSpans.verify(i.resourceSpans[n]);if(u)return"resourceSpans."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.trace.v1.TracesData)return i;var n=new v.opentelemetry.proto.trace.v1.TracesData;if(i.resourceSpans){if(!Array.isArray(i.resourceSpans))throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: array expected");n.resourceSpans=[];for(var u=0;u<i.resourceSpans.length;++u){if(typeof i.resourceSpans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.TracesData.resourceSpans: object expected");n.resourceSpans[u]=v.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(i.resourceSpans[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceSpans=[]),i.resourceSpans&&i.resourceSpans.length){u.resourceSpans=[];for(var c=0;c<i.resourceSpans.length;++c)u.resourceSpans[c]=v.opentelemetry.proto.trace.v1.ResourceSpans.toObject(i.resourceSpans[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.TracesData"},s}(),o.ResourceSpans=function(){function s(a){if(this.scopeSpans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeSpans=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&v.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeSpans!=null&&i.scopeSpans.length)for(var u=0;u<i.scopeSpans.length;++u)v.opentelemetry.proto.trace.v1.ScopeSpans.encode(i.scopeSpans[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.trace.v1.ResourceSpans;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=v.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeSpans&&c.scopeSpans.length||(c.scopeSpans=[]),c.scopeSpans.push(v.opentelemetry.proto.trace.v1.ScopeSpans.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=v.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeSpans!=null&&i.hasOwnProperty("scopeSpans")){if(!Array.isArray(i.scopeSpans))return"scopeSpans: array expected";for(var u=0;u<i.scopeSpans.length;++u){var n=v.opentelemetry.proto.trace.v1.ScopeSpans.verify(i.scopeSpans[u]);if(n)return"scopeSpans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.trace.v1.ResourceSpans)return i;var n=new v.opentelemetry.proto.trace.v1.ResourceSpans;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.resource: object expected");n.resource=v.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeSpans){if(!Array.isArray(i.scopeSpans))throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: array expected");n.scopeSpans=[];for(var u=0;u<i.scopeSpans.length;++u){if(typeof i.scopeSpans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ResourceSpans.scopeSpans: object expected");n.scopeSpans[u]=v.opentelemetry.proto.trace.v1.ScopeSpans.fromObject(i.scopeSpans[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeSpans=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=v.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeSpans&&i.scopeSpans.length){u.scopeSpans=[];for(var c=0;c<i.scopeSpans.length;++c)u.scopeSpans[c]=v.opentelemetry.proto.trace.v1.ScopeSpans.toObject(i.scopeSpans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ResourceSpans"},s}(),o.ScopeSpans=function(){function s(a){if(this.spans=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.spans=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&v.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.spans!=null&&i.spans.length)for(var u=0;u<i.spans.length;++u)v.opentelemetry.proto.trace.v1.Span.encode(i.spans[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.trace.v1.ScopeSpans;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.spans&&c.spans.length||(c.spans=[]),c.spans.push(v.opentelemetry.proto.trace.v1.Span.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=v.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.spans!=null&&i.hasOwnProperty("spans")){if(!Array.isArray(i.spans))return"spans: array expected";for(var u=0;u<i.spans.length;++u){var n=v.opentelemetry.proto.trace.v1.Span.verify(i.spans[u]);if(n)return"spans."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.trace.v1.ScopeSpans)return i;var n=new v.opentelemetry.proto.trace.v1.ScopeSpans;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.scope: object expected");n.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.spans){if(!Array.isArray(i.spans))throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: array expected");n.spans=[];for(var u=0;u<i.spans.length;++u){if(typeof i.spans[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.ScopeSpans.spans: object expected");n.spans[u]=v.opentelemetry.proto.trace.v1.Span.fromObject(i.spans[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.spans=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.spans&&i.spans.length){u.spans=[];for(var c=0;c<i.spans.length;++c)u.spans[c]=v.opentelemetry.proto.trace.v1.Span.toObject(i.spans[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.ScopeSpans"},s}(),o.Span=function(){function s(a){if(this.attributes=[],this.events=[],this.links=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.traceId=null,s.prototype.spanId=null,s.prototype.traceState=null,s.prototype.parentSpanId=null,s.prototype.name=null,s.prototype.kind=null,s.prototype.startTimeUnixNano=null,s.prototype.endTimeUnixNano=null,s.prototype.attributes=I.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.events=I.emptyArray,s.prototype.droppedEventsCount=null,s.prototype.links=I.emptyArray,s.prototype.droppedLinksCount=null,s.prototype.status=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(10).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(18).bytes(i.spanId),i.traceState!=null&&Object.hasOwnProperty.call(i,"traceState")&&n.uint32(26).string(i.traceState),i.parentSpanId!=null&&Object.hasOwnProperty.call(i,"parentSpanId")&&n.uint32(34).bytes(i.parentSpanId),i.name!=null&&Object.hasOwnProperty.call(i,"name")&&n.uint32(42).string(i.name),i.kind!=null&&Object.hasOwnProperty.call(i,"kind")&&n.uint32(48).int32(i.kind),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(57).fixed64(i.startTimeUnixNano),i.endTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"endTimeUnixNano")&&n.uint32(65).fixed64(i.endTimeUnixNano),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(74).fork()).ldelim();if(i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(80).uint32(i.droppedAttributesCount),i.events!=null&&i.events.length)for(var u=0;u<i.events.length;++u)v.opentelemetry.proto.trace.v1.Span.Event.encode(i.events[u],n.uint32(90).fork()).ldelim();if(i.droppedEventsCount!=null&&Object.hasOwnProperty.call(i,"droppedEventsCount")&&n.uint32(96).uint32(i.droppedEventsCount),i.links!=null&&i.links.length)for(var u=0;u<i.links.length;++u)v.opentelemetry.proto.trace.v1.Span.Link.encode(i.links[u],n.uint32(106).fork()).ldelim();return i.droppedLinksCount!=null&&Object.hasOwnProperty.call(i,"droppedLinksCount")&&n.uint32(112).uint32(i.droppedLinksCount),i.status!=null&&Object.hasOwnProperty.call(i,"status")&&v.opentelemetry.proto.trace.v1.Status.encode(i.status,n.uint32(122).fork()).ldelim(),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.trace.v1.Span;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.traceId=i.bytes();break}case 2:{c.spanId=i.bytes();break}case 3:{c.traceState=i.string();break}case 4:{c.parentSpanId=i.bytes();break}case 5:{c.name=i.string();break}case 6:{c.kind=i.int32();break}case 7:{c.startTimeUnixNano=i.fixed64();break}case 8:{c.endTimeUnixNano=i.fixed64();break}case 9:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 10:{c.droppedAttributesCount=i.uint32();break}case 11:{c.events&&c.events.length||(c.events=[]),c.events.push(v.opentelemetry.proto.trace.v1.Span.Event.decode(i,i.uint32()));break}case 12:{c.droppedEventsCount=i.uint32();break}case 13:{c.links&&c.links.length||(c.links=[]),c.links.push(v.opentelemetry.proto.trace.v1.Span.Link.decode(i,i.uint32()));break}case 14:{c.droppedLinksCount=i.uint32();break}case 15:{c.status=v.opentelemetry.proto.trace.v1.Status.decode(i,i.uint32());break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||I.isString(i.traceId)))return"traceId: buffer expected";if(i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||I.isString(i.spanId)))return"spanId: buffer expected";if(i.traceState!=null&&i.hasOwnProperty("traceState")&&!I.isString(i.traceState))return"traceState: string expected";if(i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&!(i.parentSpanId&&typeof i.parentSpanId.length=="number"||I.isString(i.parentSpanId)))return"parentSpanId: buffer expected";if(i.name!=null&&i.hasOwnProperty("name")&&!I.isString(i.name))return"name: string expected";if(i.kind!=null&&i.hasOwnProperty("kind"))switch(i.kind){default:return"kind: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:break}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!I.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&I.isInteger(i.startTimeUnixNano.low)&&I.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&!I.isInteger(i.endTimeUnixNano)&&!(i.endTimeUnixNano&&I.isInteger(i.endTimeUnixNano.low)&&I.isInteger(i.endTimeUnixNano.high)))return"endTimeUnixNano: integer|Long expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=v.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(i.droppedAttributesCount))return"droppedAttributesCount: integer expected";if(i.events!=null&&i.hasOwnProperty("events")){if(!Array.isArray(i.events))return"events: array expected";for(var n=0;n<i.events.length;++n){var u=v.opentelemetry.proto.trace.v1.Span.Event.verify(i.events[n]);if(u)return"events."+u}}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&!I.isInteger(i.droppedEventsCount))return"droppedEventsCount: integer expected";if(i.links!=null&&i.hasOwnProperty("links")){if(!Array.isArray(i.links))return"links: array expected";for(var n=0;n<i.links.length;++n){var u=v.opentelemetry.proto.trace.v1.Span.Link.verify(i.links[n]);if(u)return"links."+u}}if(i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&!I.isInteger(i.droppedLinksCount))return"droppedLinksCount: integer expected";if(i.status!=null&&i.hasOwnProperty("status")){var u=v.opentelemetry.proto.trace.v1.Status.verify(i.status);if(u)return"status."+u}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.trace.v1.Span)return i;var n=new v.opentelemetry.proto.trace.v1.Span;switch(i.traceId!=null&&(typeof i.traceId=="string"?I.base64.decode(i.traceId,n.traceId=I.newBuffer(I.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?I.base64.decode(i.spanId,n.spanId=I.newBuffer(I.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),i.traceState!=null&&(n.traceState=String(i.traceState)),i.parentSpanId!=null&&(typeof i.parentSpanId=="string"?I.base64.decode(i.parentSpanId,n.parentSpanId=I.newBuffer(I.base64.length(i.parentSpanId)),0):i.parentSpanId.length>=0&&(n.parentSpanId=i.parentSpanId)),i.name!=null&&(n.name=String(i.name)),i.kind){default:if(typeof i.kind=="number"){n.kind=i.kind;break}break;case"SPAN_KIND_UNSPECIFIED":case 0:n.kind=0;break;case"SPAN_KIND_INTERNAL":case 1:n.kind=1;break;case"SPAN_KIND_SERVER":case 2:n.kind=2;break;case"SPAN_KIND_CLIENT":case 3:n.kind=3;break;case"SPAN_KIND_PRODUCER":case 4:n.kind=4;break;case"SPAN_KIND_CONSUMER":case 5:n.kind=5;break}if(i.startTimeUnixNano!=null&&(I.Long?(n.startTimeUnixNano=I.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new I.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.endTimeUnixNano!=null&&(I.Long?(n.endTimeUnixNano=I.Long.fromValue(i.endTimeUnixNano)).unsigned=!1:typeof i.endTimeUnixNano=="string"?n.endTimeUnixNano=parseInt(i.endTimeUnixNano,10):typeof i.endTimeUnixNano=="number"?n.endTimeUnixNano=i.endTimeUnixNano:typeof i.endTimeUnixNano=="object"&&(n.endTimeUnixNano=new I.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber())),i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.attributes: object expected");n.attributes[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}if(i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.events){if(!Array.isArray(i.events))throw TypeError(".opentelemetry.proto.trace.v1.Span.events: array expected");n.events=[];for(var u=0;u<i.events.length;++u){if(typeof i.events[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.events: object expected");n.events[u]=v.opentelemetry.proto.trace.v1.Span.Event.fromObject(i.events[u])}}if(i.droppedEventsCount!=null&&(n.droppedEventsCount=i.droppedEventsCount>>>0),i.links){if(!Array.isArray(i.links))throw TypeError(".opentelemetry.proto.trace.v1.Span.links: array expected");n.links=[];for(var u=0;u<i.links.length;++u){if(typeof i.links[u]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.links: object expected");n.links[u]=v.opentelemetry.proto.trace.v1.Span.Link.fromObject(i.links[u])}}if(i.droppedLinksCount!=null&&(n.droppedLinksCount=i.droppedLinksCount>>>0),i.status!=null){if(typeof i.status!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.status: object expected");n.status=v.opentelemetry.proto.trace.v1.Status.fromObject(i.status)}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[],u.events=[],u.links=[]),n.defaults){if(n.bytes===String?u.traceId="":(u.traceId=[],n.bytes!==Array&&(u.traceId=I.newBuffer(u.traceId))),n.bytes===String?u.spanId="":(u.spanId=[],n.bytes!==Array&&(u.spanId=I.newBuffer(u.spanId))),u.traceState="",n.bytes===String?u.parentSpanId="":(u.parentSpanId=[],n.bytes!==Array&&(u.parentSpanId=I.newBuffer(u.parentSpanId))),u.name="",u.kind=n.enums===String?"SPAN_KIND_UNSPECIFIED":0,I.Long){var c=new I.Long(0,0,!1);u.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.startTimeUnixNano=n.longs===String?"0":0;if(I.Long){var c=new I.Long(0,0,!1);u.endTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.endTimeUnixNano=n.longs===String?"0":0;u.droppedAttributesCount=0,u.droppedEventsCount=0,u.droppedLinksCount=0,u.status=null}if(i.traceId!=null&&i.hasOwnProperty("traceId")&&(u.traceId=n.bytes===String?I.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(u.spanId=n.bytes===String?I.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.traceState!=null&&i.hasOwnProperty("traceState")&&(u.traceState=i.traceState),i.parentSpanId!=null&&i.hasOwnProperty("parentSpanId")&&(u.parentSpanId=n.bytes===String?I.base64.encode(i.parentSpanId,0,i.parentSpanId.length):n.bytes===Array?Array.prototype.slice.call(i.parentSpanId):i.parentSpanId),i.name!=null&&i.hasOwnProperty("name")&&(u.name=i.name),i.kind!=null&&i.hasOwnProperty("kind")&&(u.kind=n.enums===String?v.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]===void 0?i.kind:v.opentelemetry.proto.trace.v1.Span.SpanKind[i.kind]:i.kind),i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?u.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:u.startTimeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new I.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.endTimeUnixNano!=null&&i.hasOwnProperty("endTimeUnixNano")&&(typeof i.endTimeUnixNano=="number"?u.endTimeUnixNano=n.longs===String?String(i.endTimeUnixNano):i.endTimeUnixNano:u.endTimeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.endTimeUnixNano):n.longs===Number?new I.LongBits(i.endTimeUnixNano.low>>>0,i.endTimeUnixNano.high>>>0).toNumber():i.endTimeUnixNano),i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}if(i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),i.events&&i.events.length){u.events=[];for(var d=0;d<i.events.length;++d)u.events[d]=v.opentelemetry.proto.trace.v1.Span.Event.toObject(i.events[d],n)}if(i.droppedEventsCount!=null&&i.hasOwnProperty("droppedEventsCount")&&(u.droppedEventsCount=i.droppedEventsCount),i.links&&i.links.length){u.links=[];for(var d=0;d<i.links.length;++d)u.links[d]=v.opentelemetry.proto.trace.v1.Span.Link.toObject(i.links[d],n)}return i.droppedLinksCount!=null&&i.hasOwnProperty("droppedLinksCount")&&(u.droppedLinksCount=i.droppedLinksCount),i.status!=null&&i.hasOwnProperty("status")&&(u.status=v.opentelemetry.proto.trace.v1.Status.toObject(i.status,n)),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Span"},s.SpanKind=function(){var a={},i=Object.create(a);return i[a[0]="SPAN_KIND_UNSPECIFIED"]=0,i[a[1]="SPAN_KIND_INTERNAL"]=1,i[a[2]="SPAN_KIND_SERVER"]=2,i[a[3]="SPAN_KIND_CLIENT"]=3,i[a[4]="SPAN_KIND_PRODUCER"]=4,i[a[5]="SPAN_KIND_CONSUMER"]=5,i}(),s.Event=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.timeUnixNano=null,a.prototype.name=null,a.prototype.attributes=I.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Xe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(9).fixed64(n.timeUnixNano),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&u.uint32(18).string(n.name),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(26).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&u.uint32(32).uint32(n.droppedAttributesCount),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.trace.v1.Span.Event;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.timeUnixNano=n.fixed64();break}case 2:{d.name=n.string();break}case 3:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 4:{d.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!I.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&I.isInteger(n.timeUnixNano.low)&&I.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.name!=null&&n.hasOwnProperty("name")&&!I.isString(n.name))return"name: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var u=0;u<n.attributes.length;++u){var c=v.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[u]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.trace.v1.Span.Event)return n;var u=new v.opentelemetry.proto.trace.v1.Span.Event;if(n.timeUnixNano!=null&&(I.Long?(u.timeUnixNano=I.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.name!=null&&(u.name=String(n.name)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Event.attributes: object expected");u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(u.droppedAttributesCount=n.droppedAttributesCount>>>0),u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[]),u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;c.name="",c.droppedAttributesCount=0}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Event"},a}(),s.Link=function(){function a(i){if(this.attributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.traceId=null,a.prototype.spanId=null,a.prototype.traceState=null,a.prototype.attributes=I.emptyArray,a.prototype.droppedAttributesCount=null,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Xe.create()),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&u.uint32(10).bytes(n.traceId),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&u.uint32(18).bytes(n.spanId),n.traceState!=null&&Object.hasOwnProperty.call(n,"traceState")&&u.uint32(26).string(n.traceState),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(34).fork()).ldelim();return n.droppedAttributesCount!=null&&Object.hasOwnProperty.call(n,"droppedAttributesCount")&&u.uint32(40).uint32(n.droppedAttributesCount),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.trace.v1.Span.Link;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.traceId=n.bytes();break}case 2:{d.spanId=n.bytes();break}case 3:{d.traceState=n.string();break}case 4:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 5:{d.droppedAttributesCount=n.uint32();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||I.isString(n.traceId)))return"traceId: buffer expected";if(n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||I.isString(n.spanId)))return"spanId: buffer expected";if(n.traceState!=null&&n.hasOwnProperty("traceState")&&!I.isString(n.traceState))return"traceState: string expected";if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var u=0;u<n.attributes.length;++u){var c=v.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[u]);if(c)return"attributes."+c}}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(n.droppedAttributesCount)?"droppedAttributesCount: integer expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.trace.v1.Span.Link)return n;var u=new v.opentelemetry.proto.trace.v1.Span.Link;if(n.traceId!=null&&(typeof n.traceId=="string"?I.base64.decode(n.traceId,u.traceId=I.newBuffer(I.base64.length(n.traceId)),0):n.traceId.length>=0&&(u.traceId=n.traceId)),n.spanId!=null&&(typeof n.spanId=="string"?I.base64.decode(n.spanId,u.spanId=I.newBuffer(I.base64.length(n.spanId)),0):n.spanId.length>=0&&(u.spanId=n.spanId)),n.traceState!=null&&(u.traceState=String(n.traceState)),n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.trace.v1.Span.Link.attributes: object expected");u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}return n.droppedAttributesCount!=null&&(u.droppedAttributesCount=n.droppedAttributesCount>>>0),u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[]),u.defaults&&(u.bytes===String?c.traceId="":(c.traceId=[],u.bytes!==Array&&(c.traceId=I.newBuffer(c.traceId))),u.bytes===String?c.spanId="":(c.spanId=[],u.bytes!==Array&&(c.spanId=I.newBuffer(c.spanId))),c.traceState="",c.droppedAttributesCount=0),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=u.bytes===String?I.base64.encode(n.traceId,0,n.traceId.length):u.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=u.bytes===String?I.base64.encode(n.spanId,0,n.spanId.length):u.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceState!=null&&n.hasOwnProperty("traceState")&&(c.traceState=n.traceState),n.attributes&&n.attributes.length){c.attributes=[];for(var d=0;d<n.attributes.length;++d)c.attributes[d]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[d],u)}return n.droppedAttributesCount!=null&&n.hasOwnProperty("droppedAttributesCount")&&(c.droppedAttributesCount=n.droppedAttributesCount),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.trace.v1.Span.Link"},a}(),s}(),o.Status=function(){function s(a){if(a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.message=null,s.prototype.code=null,s.create=function(i){return new s(i)},s.encode=function(i,n){return n||(n=Xe.create()),i.message!=null&&Object.hasOwnProperty.call(i,"message")&&n.uint32(18).string(i.message),i.code!=null&&Object.hasOwnProperty.call(i,"code")&&n.uint32(24).int32(i.code),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.trace.v1.Status;i.pos<u;){var d=i.uint32();switch(d>>>3){case 2:{c.message=i.string();break}case 3:{c.code=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.message!=null&&i.hasOwnProperty("message")&&!I.isString(i.message))return"message: string expected";if(i.code!=null&&i.hasOwnProperty("code"))switch(i.code){default:return"code: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.trace.v1.Status)return i;var n=new v.opentelemetry.proto.trace.v1.Status;switch(i.message!=null&&(n.message=String(i.message)),i.code){default:if(typeof i.code=="number"){n.code=i.code;break}break;case"STATUS_CODE_UNSET":case 0:n.code=0;break;case"STATUS_CODE_OK":case 1:n.code=1;break;case"STATUS_CODE_ERROR":case 2:n.code=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};return n.defaults&&(u.message="",u.code=n.enums===String?"STATUS_CODE_UNSET":0),i.message!=null&&i.hasOwnProperty("message")&&(u.message=i.message),i.code!=null&&i.hasOwnProperty("code")&&(u.code=n.enums===String?v.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]===void 0?i.code:v.opentelemetry.proto.trace.v1.Status.StatusCode[i.code]:i.code),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.trace.v1.Status"},s.StatusCode=function(){var a={},i=Object.create(a);return i[a[0]="STATUS_CODE_UNSET"]=0,i[a[1]="STATUS_CODE_OK"]=1,i[a[2]="STATUS_CODE_ERROR"]=2,i}(),s}(),o}(),r}(),e.collector=function(){var r={};return r.trace=function(){var o={};return o.v1=function(){var s={};return s.TraceService=function(){function a(i,n,u){Pe.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(Pe.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportTraceServiceRequest=function(){function a(i){if(this.resourceSpans=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceSpans=I.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Xe.create()),n.resourceSpans!=null&&n.resourceSpans.length)for(var c=0;c<n.resourceSpans.length;++c)v.opentelemetry.proto.trace.v1.ResourceSpans.encode(n.resourceSpans[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceSpans&&d.resourceSpans.length||(d.resourceSpans=[]),d.resourceSpans.push(v.opentelemetry.proto.trace.v1.ResourceSpans.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceSpans!=null&&n.hasOwnProperty("resourceSpans")){if(!Array.isArray(n.resourceSpans))return"resourceSpans: array expected";for(var u=0;u<n.resourceSpans.length;++u){var c=v.opentelemetry.proto.trace.v1.ResourceSpans.verify(n.resourceSpans[u]);if(c)return"resourceSpans."+c}}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest)return n;var u=new v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest;if(n.resourceSpans){if(!Array.isArray(n.resourceSpans))throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: array expected");u.resourceSpans=[];for(var c=0;c<n.resourceSpans.length;++c){if(typeof n.resourceSpans[c]!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest.resourceSpans: object expected");u.resourceSpans[c]=v.opentelemetry.proto.trace.v1.ResourceSpans.fromObject(n.resourceSpans[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceSpans=[]),n.resourceSpans&&n.resourceSpans.length){c.resourceSpans=[];for(var d=0;d<n.resourceSpans.length;++d)c.resourceSpans[d]=v.opentelemetry.proto.trace.v1.ResourceSpans.toObject(n.resourceSpans[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest"},a}(),s.ExportTraceServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse)return n;var u=new v.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse.partialSuccess: object expected");u.partialSuccess=v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse"},a}(),s.ExportTracePartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedSpans=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.rejectedSpans!=null&&Object.hasOwnProperty.call(n,"rejectedSpans")&&u.uint32(8).int64(n.rejectedSpans),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedSpans=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&!I.isInteger(n.rejectedSpans)&&!(n.rejectedSpans&&I.isInteger(n.rejectedSpans.low)&&I.isInteger(n.rejectedSpans.high))?"rejectedSpans: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!I.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess)return n;var u=new v.opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess;return n.rejectedSpans!=null&&(I.Long?(u.rejectedSpans=I.Long.fromValue(n.rejectedSpans)).unsigned=!1:typeof n.rejectedSpans=="string"?u.rejectedSpans=parseInt(n.rejectedSpans,10):typeof n.rejectedSpans=="number"?u.rejectedSpans=n.rejectedSpans:typeof n.rejectedSpans=="object"&&(u.rejectedSpans=new I.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.rejectedSpans=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedSpans=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedSpans!=null&&n.hasOwnProperty("rejectedSpans")&&(typeof n.rejectedSpans=="number"?c.rejectedSpans=u.longs===String?String(n.rejectedSpans):n.rejectedSpans:c.rejectedSpans=u.longs===String?I.Long.prototype.toString.call(n.rejectedSpans):u.longs===Number?new I.LongBits(n.rejectedSpans.low>>>0,n.rejectedSpans.high>>>0).toNumber():n.rejectedSpans),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.trace.v1.ExportTracePartialSuccess"},a}(),s}(),o}(),r.metrics=function(){var o={};return o.v1=function(){var s={};return s.MetricsService=function(){function a(i,n,u){Pe.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(Pe.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportMetricsServiceRequest=function(){function a(i){if(this.resourceMetrics=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceMetrics=I.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Xe.create()),n.resourceMetrics!=null&&n.resourceMetrics.length)for(var c=0;c<n.resourceMetrics.length;++c)v.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(n.resourceMetrics[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceMetrics&&d.resourceMetrics.length||(d.resourceMetrics=[]),d.resourceMetrics.push(v.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceMetrics!=null&&n.hasOwnProperty("resourceMetrics")){if(!Array.isArray(n.resourceMetrics))return"resourceMetrics: array expected";for(var u=0;u<n.resourceMetrics.length;++u){var c=v.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(n.resourceMetrics[u]);if(c)return"resourceMetrics."+c}}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest)return n;var u=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest;if(n.resourceMetrics){if(!Array.isArray(n.resourceMetrics))throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: array expected");u.resourceMetrics=[];for(var c=0;c<n.resourceMetrics.length;++c){if(typeof n.resourceMetrics[c]!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest.resourceMetrics: object expected");u.resourceMetrics[c]=v.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(n.resourceMetrics[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceMetrics=[]),n.resourceMetrics&&n.resourceMetrics.length){c.resourceMetrics=[];for(var d=0;d<n.resourceMetrics.length;++d)c.resourceMetrics[d]=v.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(n.resourceMetrics[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest"},a}(),s.ExportMetricsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse)return n;var u=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse.partialSuccess: object expected");u.partialSuccess=v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse"},a}(),s.ExportMetricsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedDataPoints=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.rejectedDataPoints!=null&&Object.hasOwnProperty.call(n,"rejectedDataPoints")&&u.uint32(8).int64(n.rejectedDataPoints),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedDataPoints=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&!I.isInteger(n.rejectedDataPoints)&&!(n.rejectedDataPoints&&I.isInteger(n.rejectedDataPoints.low)&&I.isInteger(n.rejectedDataPoints.high))?"rejectedDataPoints: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!I.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess)return n;var u=new v.opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess;return n.rejectedDataPoints!=null&&(I.Long?(u.rejectedDataPoints=I.Long.fromValue(n.rejectedDataPoints)).unsigned=!1:typeof n.rejectedDataPoints=="string"?u.rejectedDataPoints=parseInt(n.rejectedDataPoints,10):typeof n.rejectedDataPoints=="number"?u.rejectedDataPoints=n.rejectedDataPoints:typeof n.rejectedDataPoints=="object"&&(u.rejectedDataPoints=new I.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.rejectedDataPoints=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedDataPoints=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedDataPoints!=null&&n.hasOwnProperty("rejectedDataPoints")&&(typeof n.rejectedDataPoints=="number"?c.rejectedDataPoints=u.longs===String?String(n.rejectedDataPoints):n.rejectedDataPoints:c.rejectedDataPoints=u.longs===String?I.Long.prototype.toString.call(n.rejectedDataPoints):u.longs===Number?new I.LongBits(n.rejectedDataPoints.low>>>0,n.rejectedDataPoints.high>>>0).toNumber():n.rejectedDataPoints),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.metrics.v1.ExportMetricsPartialSuccess"},a}(),s}(),o}(),r.logs=function(){var o={};return o.v1=function(){var s={};return s.LogsService=function(){function a(i,n,u){Pe.rpc.Service.call(this,i,n,u)}return(a.prototype=Object.create(Pe.rpc.Service.prototype)).constructor=a,a.create=function(n,u,c){return new this(n,u,c)},Object.defineProperty(a.prototype.export=function i(n,u){return this.rpcCall(i,v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,n,u)},"name",{value:"Export"}),a}(),s.ExportLogsServiceRequest=function(){function a(i){if(this.resourceLogs=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.resourceLogs=I.emptyArray,a.create=function(n){return new a(n)},a.encode=function(n,u){if(u||(u=Xe.create()),n.resourceLogs!=null&&n.resourceLogs.length)for(var c=0;c<n.resourceLogs.length;++c)v.opentelemetry.proto.logs.v1.ResourceLogs.encode(n.resourceLogs[c],u.uint32(10).fork()).ldelim();return u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.resourceLogs&&d.resourceLogs.length||(d.resourceLogs=[]),d.resourceLogs.push(v.opentelemetry.proto.logs.v1.ResourceLogs.decode(n,n.uint32()));break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.resourceLogs!=null&&n.hasOwnProperty("resourceLogs")){if(!Array.isArray(n.resourceLogs))return"resourceLogs: array expected";for(var u=0;u<n.resourceLogs.length;++u){var c=v.opentelemetry.proto.logs.v1.ResourceLogs.verify(n.resourceLogs[u]);if(c)return"resourceLogs."+c}}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest)return n;var u=new v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest;if(n.resourceLogs){if(!Array.isArray(n.resourceLogs))throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: array expected");u.resourceLogs=[];for(var c=0;c<n.resourceLogs.length;++c){if(typeof n.resourceLogs[c]!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest.resourceLogs: object expected");u.resourceLogs[c]=v.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(n.resourceLogs[c])}}return u},a.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.resourceLogs=[]),n.resourceLogs&&n.resourceLogs.length){c.resourceLogs=[];for(var d=0;d<n.resourceLogs.length;++d)c.resourceLogs[d]=v.opentelemetry.proto.logs.v1.ResourceLogs.toObject(n.resourceLogs[d],u)}return c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest"},a}(),s.ExportLogsServiceResponse=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.partialSuccess=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.partialSuccess!=null&&Object.hasOwnProperty.call(n,"partialSuccess")&&v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.encode(n.partialSuccess,u.uint32(10).fork()).ldelim(),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.partialSuccess=v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")){var u=v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.verify(n.partialSuccess);if(u)return"partialSuccess."+u}return null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse)return n;var u=new v.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse;if(n.partialSuccess!=null){if(typeof n.partialSuccess!="object")throw TypeError(".opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse.partialSuccess: object expected");u.partialSuccess=v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.fromObject(n.partialSuccess)}return u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.partialSuccess=null),n.partialSuccess!=null&&n.hasOwnProperty("partialSuccess")&&(c.partialSuccess=v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess.toObject(n.partialSuccess,u)),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse"},a}(),s.ExportLogsPartialSuccess=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.rejectedLogRecords=null,a.prototype.errorMessage=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.rejectedLogRecords!=null&&Object.hasOwnProperty.call(n,"rejectedLogRecords")&&u.uint32(8).int64(n.rejectedLogRecords),n.errorMessage!=null&&Object.hasOwnProperty.call(n,"errorMessage")&&u.uint32(18).string(n.errorMessage),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.rejectedLogRecords=n.int64();break}case 2:{d.errorMessage=n.string();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&!I.isInteger(n.rejectedLogRecords)&&!(n.rejectedLogRecords&&I.isInteger(n.rejectedLogRecords.low)&&I.isInteger(n.rejectedLogRecords.high))?"rejectedLogRecords: integer|Long expected":n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&!I.isString(n.errorMessage)?"errorMessage: string expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess)return n;var u=new v.opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess;return n.rejectedLogRecords!=null&&(I.Long?(u.rejectedLogRecords=I.Long.fromValue(n.rejectedLogRecords)).unsigned=!1:typeof n.rejectedLogRecords=="string"?u.rejectedLogRecords=parseInt(n.rejectedLogRecords,10):typeof n.rejectedLogRecords=="number"?u.rejectedLogRecords=n.rejectedLogRecords:typeof n.rejectedLogRecords=="object"&&(u.rejectedLogRecords=new I.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber())),n.errorMessage!=null&&(u.errorMessage=String(n.errorMessage)),u},a.toObject=function(n,u){u||(u={});var c={};if(u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.rejectedLogRecords=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.rejectedLogRecords=u.longs===String?"0":0;c.errorMessage=""}return n.rejectedLogRecords!=null&&n.hasOwnProperty("rejectedLogRecords")&&(typeof n.rejectedLogRecords=="number"?c.rejectedLogRecords=u.longs===String?String(n.rejectedLogRecords):n.rejectedLogRecords:c.rejectedLogRecords=u.longs===String?I.Long.prototype.toString.call(n.rejectedLogRecords):u.longs===Number?new I.LongBits(n.rejectedLogRecords.low>>>0,n.rejectedLogRecords.high>>>0).toNumber():n.rejectedLogRecords),n.errorMessage!=null&&n.hasOwnProperty("errorMessage")&&(c.errorMessage=n.errorMessage),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.collector.logs.v1.ExportLogsPartialSuccess"},a}(),s}(),o}(),r}(),e.metrics=function(){var r={};return r.v1=function(){var o={};return o.MetricsData=function(){function s(a){if(this.resourceMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceMetrics=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resourceMetrics!=null&&i.resourceMetrics.length)for(var u=0;u<i.resourceMetrics.length;++u)v.opentelemetry.proto.metrics.v1.ResourceMetrics.encode(i.resourceMetrics[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.MetricsData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceMetrics&&c.resourceMetrics.length||(c.resourceMetrics=[]),c.resourceMetrics.push(v.opentelemetry.proto.metrics.v1.ResourceMetrics.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceMetrics!=null&&i.hasOwnProperty("resourceMetrics")){if(!Array.isArray(i.resourceMetrics))return"resourceMetrics: array expected";for(var n=0;n<i.resourceMetrics.length;++n){var u=v.opentelemetry.proto.metrics.v1.ResourceMetrics.verify(i.resourceMetrics[n]);if(u)return"resourceMetrics."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.MetricsData)return i;var n=new v.opentelemetry.proto.metrics.v1.MetricsData;if(i.resourceMetrics){if(!Array.isArray(i.resourceMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: array expected");n.resourceMetrics=[];for(var u=0;u<i.resourceMetrics.length;++u){if(typeof i.resourceMetrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.MetricsData.resourceMetrics: object expected");n.resourceMetrics[u]=v.opentelemetry.proto.metrics.v1.ResourceMetrics.fromObject(i.resourceMetrics[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceMetrics=[]),i.resourceMetrics&&i.resourceMetrics.length){u.resourceMetrics=[];for(var c=0;c<i.resourceMetrics.length;++c)u.resourceMetrics[c]=v.opentelemetry.proto.metrics.v1.ResourceMetrics.toObject(i.resourceMetrics[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.MetricsData"},s}(),o.ResourceMetrics=function(){function s(a){if(this.scopeMetrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeMetrics=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&v.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeMetrics!=null&&i.scopeMetrics.length)for(var u=0;u<i.scopeMetrics.length;++u)v.opentelemetry.proto.metrics.v1.ScopeMetrics.encode(i.scopeMetrics[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.ResourceMetrics;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=v.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeMetrics&&c.scopeMetrics.length||(c.scopeMetrics=[]),c.scopeMetrics.push(v.opentelemetry.proto.metrics.v1.ScopeMetrics.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=v.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeMetrics!=null&&i.hasOwnProperty("scopeMetrics")){if(!Array.isArray(i.scopeMetrics))return"scopeMetrics: array expected";for(var u=0;u<i.scopeMetrics.length;++u){var n=v.opentelemetry.proto.metrics.v1.ScopeMetrics.verify(i.scopeMetrics[u]);if(n)return"scopeMetrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.ResourceMetrics)return i;var n=new v.opentelemetry.proto.metrics.v1.ResourceMetrics;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.resource: object expected");n.resource=v.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeMetrics){if(!Array.isArray(i.scopeMetrics))throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: array expected");n.scopeMetrics=[];for(var u=0;u<i.scopeMetrics.length;++u){if(typeof i.scopeMetrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ResourceMetrics.scopeMetrics: object expected");n.scopeMetrics[u]=v.opentelemetry.proto.metrics.v1.ScopeMetrics.fromObject(i.scopeMetrics[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeMetrics=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=v.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeMetrics&&i.scopeMetrics.length){u.scopeMetrics=[];for(var c=0;c<i.scopeMetrics.length;++c)u.scopeMetrics[c]=v.opentelemetry.proto.metrics.v1.ScopeMetrics.toObject(i.scopeMetrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ResourceMetrics"},s}(),o.ScopeMetrics=function(){function s(a){if(this.metrics=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.metrics=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&v.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.metrics!=null&&i.metrics.length)for(var u=0;u<i.metrics.length;++u)v.opentelemetry.proto.metrics.v1.Metric.encode(i.metrics[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.ScopeMetrics;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.metrics&&c.metrics.length||(c.metrics=[]),c.metrics.push(v.opentelemetry.proto.metrics.v1.Metric.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=v.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.metrics!=null&&i.hasOwnProperty("metrics")){if(!Array.isArray(i.metrics))return"metrics: array expected";for(var u=0;u<i.metrics.length;++u){var n=v.opentelemetry.proto.metrics.v1.Metric.verify(i.metrics[u]);if(n)return"metrics."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.ScopeMetrics)return i;var n=new v.opentelemetry.proto.metrics.v1.ScopeMetrics;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.scope: object expected");n.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.metrics){if(!Array.isArray(i.metrics))throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: array expected");n.metrics=[];for(var u=0;u<i.metrics.length;++u){if(typeof i.metrics[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ScopeMetrics.metrics: object expected");n.metrics[u]=v.opentelemetry.proto.metrics.v1.Metric.fromObject(i.metrics[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.metrics=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.metrics&&i.metrics.length){u.metrics=[];for(var c=0;c<i.metrics.length;++c)u.metrics[c]=v.opentelemetry.proto.metrics.v1.Metric.toObject(i.metrics[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ScopeMetrics"},s}(),o.Metric=function(){function s(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.name=null,s.prototype.description=null,s.prototype.unit=null,s.prototype.gauge=null,s.prototype.sum=null,s.prototype.histogram=null,s.prototype.exponentialHistogram=null,s.prototype.summary=null;var a;return Object.defineProperty(s.prototype,"data",{get:I.oneOfGetter(a=["gauge","sum","histogram","exponentialHistogram","summary"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){return u||(u=Xe.create()),n.name!=null&&Object.hasOwnProperty.call(n,"name")&&u.uint32(10).string(n.name),n.description!=null&&Object.hasOwnProperty.call(n,"description")&&u.uint32(18).string(n.description),n.unit!=null&&Object.hasOwnProperty.call(n,"unit")&&u.uint32(26).string(n.unit),n.gauge!=null&&Object.hasOwnProperty.call(n,"gauge")&&v.opentelemetry.proto.metrics.v1.Gauge.encode(n.gauge,u.uint32(42).fork()).ldelim(),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&v.opentelemetry.proto.metrics.v1.Sum.encode(n.sum,u.uint32(58).fork()).ldelim(),n.histogram!=null&&Object.hasOwnProperty.call(n,"histogram")&&v.opentelemetry.proto.metrics.v1.Histogram.encode(n.histogram,u.uint32(74).fork()).ldelim(),n.exponentialHistogram!=null&&Object.hasOwnProperty.call(n,"exponentialHistogram")&&v.opentelemetry.proto.metrics.v1.ExponentialHistogram.encode(n.exponentialHistogram,u.uint32(82).fork()).ldelim(),n.summary!=null&&Object.hasOwnProperty.call(n,"summary")&&v.opentelemetry.proto.metrics.v1.Summary.encode(n.summary,u.uint32(90).fork()).ldelim(),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.Metric;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.name=n.string();break}case 2:{d.description=n.string();break}case 3:{d.unit=n.string();break}case 5:{d.gauge=v.opentelemetry.proto.metrics.v1.Gauge.decode(n,n.uint32());break}case 7:{d.sum=v.opentelemetry.proto.metrics.v1.Sum.decode(n,n.uint32());break}case 9:{d.histogram=v.opentelemetry.proto.metrics.v1.Histogram.decode(n,n.uint32());break}case 10:{d.exponentialHistogram=v.opentelemetry.proto.metrics.v1.ExponentialHistogram.decode(n,n.uint32());break}case 11:{d.summary=v.opentelemetry.proto.metrics.v1.Summary.decode(n,n.uint32());break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.name!=null&&n.hasOwnProperty("name")&&!I.isString(n.name))return"name: string expected";if(n.description!=null&&n.hasOwnProperty("description")&&!I.isString(n.description))return"description: string expected";if(n.unit!=null&&n.hasOwnProperty("unit")&&!I.isString(n.unit))return"unit: string expected";if(n.gauge!=null&&n.hasOwnProperty("gauge")){u.data=1;{var c=v.opentelemetry.proto.metrics.v1.Gauge.verify(n.gauge);if(c)return"gauge."+c}}if(n.sum!=null&&n.hasOwnProperty("sum")){if(u.data===1)return"data: multiple values";u.data=1;{var c=v.opentelemetry.proto.metrics.v1.Sum.verify(n.sum);if(c)return"sum."+c}}if(n.histogram!=null&&n.hasOwnProperty("histogram")){if(u.data===1)return"data: multiple values";u.data=1;{var c=v.opentelemetry.proto.metrics.v1.Histogram.verify(n.histogram);if(c)return"histogram."+c}}if(n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")){if(u.data===1)return"data: multiple values";u.data=1;{var c=v.opentelemetry.proto.metrics.v1.ExponentialHistogram.verify(n.exponentialHistogram);if(c)return"exponentialHistogram."+c}}if(n.summary!=null&&n.hasOwnProperty("summary")){if(u.data===1)return"data: multiple values";u.data=1;{var c=v.opentelemetry.proto.metrics.v1.Summary.verify(n.summary);if(c)return"summary."+c}}return null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.Metric)return n;var u=new v.opentelemetry.proto.metrics.v1.Metric;if(n.name!=null&&(u.name=String(n.name)),n.description!=null&&(u.description=String(n.description)),n.unit!=null&&(u.unit=String(n.unit)),n.gauge!=null){if(typeof n.gauge!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.gauge: object expected");u.gauge=v.opentelemetry.proto.metrics.v1.Gauge.fromObject(n.gauge)}if(n.sum!=null){if(typeof n.sum!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.sum: object expected");u.sum=v.opentelemetry.proto.metrics.v1.Sum.fromObject(n.sum)}if(n.histogram!=null){if(typeof n.histogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.histogram: object expected");u.histogram=v.opentelemetry.proto.metrics.v1.Histogram.fromObject(n.histogram)}if(n.exponentialHistogram!=null){if(typeof n.exponentialHistogram!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.exponentialHistogram: object expected");u.exponentialHistogram=v.opentelemetry.proto.metrics.v1.ExponentialHistogram.fromObject(n.exponentialHistogram)}if(n.summary!=null){if(typeof n.summary!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Metric.summary: object expected");u.summary=v.opentelemetry.proto.metrics.v1.Summary.fromObject(n.summary)}return u},s.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.name="",c.description="",c.unit=""),n.name!=null&&n.hasOwnProperty("name")&&(c.name=n.name),n.description!=null&&n.hasOwnProperty("description")&&(c.description=n.description),n.unit!=null&&n.hasOwnProperty("unit")&&(c.unit=n.unit),n.gauge!=null&&n.hasOwnProperty("gauge")&&(c.gauge=v.opentelemetry.proto.metrics.v1.Gauge.toObject(n.gauge,u),u.oneofs&&(c.data="gauge")),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=v.opentelemetry.proto.metrics.v1.Sum.toObject(n.sum,u),u.oneofs&&(c.data="sum")),n.histogram!=null&&n.hasOwnProperty("histogram")&&(c.histogram=v.opentelemetry.proto.metrics.v1.Histogram.toObject(n.histogram,u),u.oneofs&&(c.data="histogram")),n.exponentialHistogram!=null&&n.hasOwnProperty("exponentialHistogram")&&(c.exponentialHistogram=v.opentelemetry.proto.metrics.v1.ExponentialHistogram.toObject(n.exponentialHistogram,u),u.oneofs&&(c.data="exponentialHistogram")),n.summary!=null&&n.hasOwnProperty("summary")&&(c.summary=v.opentelemetry.proto.metrics.v1.Summary.toObject(n.summary,u),u.oneofs&&(c.data="summary")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Metric"},s}(),o.Gauge=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)v.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.Gauge;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(v.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=v.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.Gauge)return i;var n=new v.opentelemetry.proto.metrics.v1.Gauge;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Gauge.dataPoints: object expected");n.dataPoints[u]=v.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=v.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Gauge"},s}(),o.Sum=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=I.emptyArray,s.prototype.aggregationTemporality=null,s.prototype.isMonotonic=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)v.opentelemetry.proto.metrics.v1.NumberDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),i.isMonotonic!=null&&Object.hasOwnProperty.call(i,"isMonotonic")&&n.uint32(24).bool(i.isMonotonic),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.Sum;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(v.opentelemetry.proto.metrics.v1.NumberDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}case 3:{c.isMonotonic=i.bool();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=v.opentelemetry.proto.metrics.v1.NumberDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&typeof i.isMonotonic!="boolean"?"isMonotonic: boolean expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.Sum)return i;var n=new v.opentelemetry.proto.metrics.v1.Sum;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Sum.dataPoints: object expected");n.dataPoints[u]=v.opentelemetry.proto.metrics.v1.NumberDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return i.isMonotonic!=null&&(n.isMonotonic=!!i.isMonotonic),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0,u.isMonotonic=!1),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=v.opentelemetry.proto.metrics.v1.NumberDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),i.isMonotonic!=null&&i.hasOwnProperty("isMonotonic")&&(u.isMonotonic=i.isMonotonic),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Sum"},s}(),o.Histogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=I.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)v.opentelemetry.proto.metrics.v1.HistogramDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.Histogram;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(v.opentelemetry.proto.metrics.v1.HistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=v.opentelemetry.proto.metrics.v1.HistogramDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.Histogram)return i;var n=new v.opentelemetry.proto.metrics.v1.Histogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Histogram.dataPoints: object expected");n.dataPoints[u]=v.opentelemetry.proto.metrics.v1.HistogramDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=v.opentelemetry.proto.metrics.v1.HistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Histogram"},s}(),o.ExponentialHistogram=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=I.emptyArray,s.prototype.aggregationTemporality=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return i.aggregationTemporality!=null&&Object.hasOwnProperty.call(i,"aggregationTemporality")&&n.uint32(16).int32(i.aggregationTemporality),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.ExponentialHistogram;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.decode(i,i.uint32()));break}case 2:{c.aggregationTemporality=i.int32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}if(i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality"))switch(i.aggregationTemporality){default:return"aggregationTemporality: enum value expected";case 0:case 1:case 2:break}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.ExponentialHistogram)return i;var n=new v.opentelemetry.proto.metrics.v1.ExponentialHistogram;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogram.dataPoints: object expected");n.dataPoints[u]=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.fromObject(i.dataPoints[u])}}switch(i.aggregationTemporality){default:if(typeof i.aggregationTemporality=="number"){n.aggregationTemporality=i.aggregationTemporality;break}break;case"AGGREGATION_TEMPORALITY_UNSPECIFIED":case 0:n.aggregationTemporality=0;break;case"AGGREGATION_TEMPORALITY_DELTA":case 1:n.aggregationTemporality=1;break;case"AGGREGATION_TEMPORALITY_CUMULATIVE":case 2:n.aggregationTemporality=2;break}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),n.defaults&&(u.aggregationTemporality=n.enums===String?"AGGREGATION_TEMPORALITY_UNSPECIFIED":0),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.toObject(i.dataPoints[c],n)}return i.aggregationTemporality!=null&&i.hasOwnProperty("aggregationTemporality")&&(u.aggregationTemporality=n.enums===String?v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]===void 0?i.aggregationTemporality:v.opentelemetry.proto.metrics.v1.AggregationTemporality[i.aggregationTemporality]:i.aggregationTemporality),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.ExponentialHistogram"},s}(),o.Summary=function(){function s(a){if(this.dataPoints=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.dataPoints=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.dataPoints!=null&&i.dataPoints.length)for(var u=0;u<i.dataPoints.length;++u)v.opentelemetry.proto.metrics.v1.SummaryDataPoint.encode(i.dataPoints[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.Summary;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.dataPoints&&c.dataPoints.length||(c.dataPoints=[]),c.dataPoints.push(v.opentelemetry.proto.metrics.v1.SummaryDataPoint.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.dataPoints!=null&&i.hasOwnProperty("dataPoints")){if(!Array.isArray(i.dataPoints))return"dataPoints: array expected";for(var n=0;n<i.dataPoints.length;++n){var u=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.verify(i.dataPoints[n]);if(u)return"dataPoints."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.Summary)return i;var n=new v.opentelemetry.proto.metrics.v1.Summary;if(i.dataPoints){if(!Array.isArray(i.dataPoints))throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: array expected");n.dataPoints=[];for(var u=0;u<i.dataPoints.length;++u){if(typeof i.dataPoints[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Summary.dataPoints: object expected");n.dataPoints[u]=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.fromObject(i.dataPoints[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.dataPoints=[]),i.dataPoints&&i.dataPoints.length){u.dataPoints=[];for(var c=0;c<i.dataPoints.length;++c)u.dataPoints[c]=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.toObject(i.dataPoints[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.Summary"},s}(),o.AggregationTemporality=function(){var s={},a=Object.create(s);return a[s[0]="AGGREGATION_TEMPORALITY_UNSPECIFIED"]=0,a[s[1]="AGGREGATION_TEMPORALITY_DELTA"]=1,a[s[2]="AGGREGATION_TEMPORALITY_CUMULATIVE"]=2,a}(),o.DataPointFlags=function(){var s={},a=Object.create(s);return a[s[0]="DATA_POINT_FLAGS_DO_NOT_USE"]=0,a[s[1]="DATA_POINT_FLAGS_NO_RECORDED_VALUE_MASK"]=1,a}(),o.NumberDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=I.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.exemplars=I.emptyArray,s.prototype.flags=null;var a;return Object.defineProperty(s.prototype,"value",{get:I.oneOfGetter(a=["asDouble","asInt"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Xe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&u.uint32(33).double(n.asDouble),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)v.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(42).fork()).ldelim();if(n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&u.uint32(49).sfixed64(n.asInt),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(58).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(64).uint32(n.flags),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.NumberDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.asDouble=n.double();break}case 6:{d.asInt=n.sfixed64();break}case 5:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(v.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 8:{d.flags=n.uint32();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=v.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!I.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&I.isInteger(n.startTimeUnixNano.low)&&I.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!I.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&I.isInteger(n.timeUnixNano.low)&&I.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(u.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(u.value===1)return"value: multiple values";if(u.value=1,!I.isInteger(n.asInt)&&!(n.asInt&&I.isInteger(n.asInt.low)&&I.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=v.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.flags!=null&&n.hasOwnProperty("flags")&&!I.isInteger(n.flags)?"flags: integer expected":null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.NumberDataPoint)return n;var u=new v.opentelemetry.proto.metrics.v1.NumberDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.attributes: object expected");u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(I.Long?(u.startTimeUnixNano=I.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(I.Long?(u.timeUnixNano=I.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(u.asDouble=Number(n.asDouble)),n.asInt!=null&&(I.Long?(u.asInt=I.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?u.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?u.asInt=n.asInt:typeof n.asInt=="object"&&(u.asInt=new I.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.NumberDataPoint.exemplars: object expected");u.exemplars[c]=v.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(u.flags=n.flags>>>0),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.exemplars=[],c.attributes=[]),u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(I.Long){var d=new I.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=u.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,u.oneofs&&(c.value="asDouble")),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=v.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}if(n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=u.longs===String?String(n.asInt):n.asInt:c.asInt=u.longs===String?I.Long.prototype.toString.call(n.asInt):u.longs===Number?new I.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,u.oneofs&&(c.value="asInt")),n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.NumberDataPoint"},s}(),o.HistogramDataPoint=function(){function s(i){if(this.attributes=[],this.bucketCounts=[],this.explicitBounds=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=I.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.bucketCounts=I.emptyArray,s.prototype.explicitBounds=I.emptyArray,s.prototype.exemplars=I.emptyArray,s.prototype.flags=null,s.prototype.min=null,s.prototype.max=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:I.oneOfGetter(a=["sum"]),set:I.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:I.oneOfGetter(a=["min"]),set:I.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:I.oneOfGetter(a=["max"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Xe.create()),n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&u.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&u.uint32(41).double(n.sum),n.bucketCounts!=null&&n.bucketCounts.length){u.uint32(50).fork();for(var c=0;c<n.bucketCounts.length;++c)u.fixed64(n.bucketCounts[c]);u.ldelim()}if(n.explicitBounds!=null&&n.explicitBounds.length){u.uint32(58).fork();for(var c=0;c<n.explicitBounds.length;++c)u.double(n.explicitBounds[c]);u.ldelim()}if(n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)v.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(66).fork()).ldelim();if(n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(74).fork()).ldelim();return n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(80).uint32(n.flags),n.min!=null&&Object.hasOwnProperty.call(n,"min")&&u.uint32(89).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&u.uint32(97).double(n.max),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.HistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 9:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.count=n.fixed64();break}case 5:{d.sum=n.double();break}case 6:{if(d.bucketCounts&&d.bucketCounts.length||(d.bucketCounts=[]),(f&7)===2)for(var g=n.uint32()+n.pos;n.pos<g;)d.bucketCounts.push(n.fixed64());else d.bucketCounts.push(n.fixed64());break}case 7:{if(d.explicitBounds&&d.explicitBounds.length||(d.explicitBounds=[]),(f&7)===2)for(var g=n.uint32()+n.pos;n.pos<g;)d.explicitBounds.push(n.double());else d.explicitBounds.push(n.double());break}case 8:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(v.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 10:{d.flags=n.uint32();break}case 11:{d.min=n.double();break}case 12:{d.max=n.double();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=v.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!I.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&I.isInteger(n.startTimeUnixNano.low)&&I.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!I.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&I.isInteger(n.timeUnixNano.low)&&I.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!I.isInteger(n.count)&&!(n.count&&I.isInteger(n.count.low)&&I.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(u._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.bucketCounts!=null&&n.hasOwnProperty("bucketCounts")){if(!Array.isArray(n.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<n.bucketCounts.length;++c)if(!I.isInteger(n.bucketCounts[c])&&!(n.bucketCounts[c]&&I.isInteger(n.bucketCounts[c].low)&&I.isInteger(n.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}if(n.explicitBounds!=null&&n.hasOwnProperty("explicitBounds")){if(!Array.isArray(n.explicitBounds))return"explicitBounds: array expected";for(var c=0;c<n.explicitBounds.length;++c)if(typeof n.explicitBounds[c]!="number")return"explicitBounds: number[] expected"}if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=v.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.flags!=null&&n.hasOwnProperty("flags")&&!I.isInteger(n.flags)?"flags: integer expected":n.min!=null&&n.hasOwnProperty("min")&&(u._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(u._max=1,typeof n.max!="number")?"max: number expected":null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.HistogramDataPoint)return n;var u=new v.opentelemetry.proto.metrics.v1.HistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.attributes: object expected");u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(I.Long?(u.startTimeUnixNano=I.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(I.Long?(u.timeUnixNano=I.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(I.Long?(u.count=I.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?u.count=parseInt(n.count,10):typeof n.count=="number"?u.count=n.count:typeof n.count=="object"&&(u.count=new I.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(u.sum=Number(n.sum)),n.bucketCounts){if(!Array.isArray(n.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.bucketCounts: array expected");u.bucketCounts=[];for(var c=0;c<n.bucketCounts.length;++c)I.Long?(u.bucketCounts[c]=I.Long.fromValue(n.bucketCounts[c])).unsigned=!1:typeof n.bucketCounts[c]=="string"?u.bucketCounts[c]=parseInt(n.bucketCounts[c],10):typeof n.bucketCounts[c]=="number"?u.bucketCounts[c]=n.bucketCounts[c]:typeof n.bucketCounts[c]=="object"&&(u.bucketCounts[c]=new I.LongBits(n.bucketCounts[c].low>>>0,n.bucketCounts[c].high>>>0).toNumber())}if(n.explicitBounds){if(!Array.isArray(n.explicitBounds))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.explicitBounds: array expected");u.explicitBounds=[];for(var c=0;c<n.explicitBounds.length;++c)u.explicitBounds[c]=Number(n.explicitBounds[c])}if(n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.HistogramDataPoint.exemplars: object expected");u.exemplars[c]=v.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.flags!=null&&(u.flags=n.flags>>>0),n.min!=null&&(u.min=Number(n.min)),n.max!=null&&(u.max=Number(n.max)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.bucketCounts=[],c.explicitBounds=[],c.exemplars=[],c.attributes=[]),u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(I.Long){var d=new I.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;if(I.Long){var d=new I.Long(0,0,!1);c.count=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.count=u.longs===String?"0":0;c.flags=0}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=u.longs===String?String(n.count):n.count:c.count=u.longs===String?I.Long.prototype.toString.call(n.count):u.longs===Number?new I.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=u.json&&!isFinite(n.sum)?String(n.sum):n.sum,u.oneofs&&(c._sum="sum")),n.bucketCounts&&n.bucketCounts.length){c.bucketCounts=[];for(var f=0;f<n.bucketCounts.length;++f)typeof n.bucketCounts[f]=="number"?c.bucketCounts[f]=u.longs===String?String(n.bucketCounts[f]):n.bucketCounts[f]:c.bucketCounts[f]=u.longs===String?I.Long.prototype.toString.call(n.bucketCounts[f]):u.longs===Number?new I.LongBits(n.bucketCounts[f].low>>>0,n.bucketCounts[f].high>>>0).toNumber():n.bucketCounts[f]}if(n.explicitBounds&&n.explicitBounds.length){c.explicitBounds=[];for(var f=0;f<n.explicitBounds.length;++f)c.explicitBounds[f]=u.json&&!isFinite(n.explicitBounds[f])?String(n.explicitBounds[f]):n.explicitBounds[f]}if(n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=v.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}return n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.min!=null&&n.hasOwnProperty("min")&&(c.min=u.json&&!isFinite(n.min)?String(n.min):n.min,u.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=u.json&&!isFinite(n.max)?String(n.max):n.max,u.oneofs&&(c._max="max")),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.HistogramDataPoint"},s}(),o.ExponentialHistogramDataPoint=function(){function s(i){if(this.attributes=[],this.exemplars=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.attributes=I.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.scale=null,s.prototype.zeroCount=null,s.prototype.positive=null,s.prototype.negative=null,s.prototype.flags=null,s.prototype.exemplars=I.emptyArray,s.prototype.min=null,s.prototype.max=null,s.prototype.zeroThreshold=null;var a;return Object.defineProperty(s.prototype,"_sum",{get:I.oneOfGetter(a=["sum"]),set:I.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_min",{get:I.oneOfGetter(a=["min"]),set:I.oneOfSetter(a)}),Object.defineProperty(s.prototype,"_max",{get:I.oneOfGetter(a=["max"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Xe.create()),n.attributes!=null&&n.attributes.length)for(var c=0;c<n.attributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.attributes[c],u.uint32(10).fork()).ldelim();if(n.startTimeUnixNano!=null&&Object.hasOwnProperty.call(n,"startTimeUnixNano")&&u.uint32(17).fixed64(n.startTimeUnixNano),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(25).fixed64(n.timeUnixNano),n.count!=null&&Object.hasOwnProperty.call(n,"count")&&u.uint32(33).fixed64(n.count),n.sum!=null&&Object.hasOwnProperty.call(n,"sum")&&u.uint32(41).double(n.sum),n.scale!=null&&Object.hasOwnProperty.call(n,"scale")&&u.uint32(48).sint32(n.scale),n.zeroCount!=null&&Object.hasOwnProperty.call(n,"zeroCount")&&u.uint32(57).fixed64(n.zeroCount),n.positive!=null&&Object.hasOwnProperty.call(n,"positive")&&v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.positive,u.uint32(66).fork()).ldelim(),n.negative!=null&&Object.hasOwnProperty.call(n,"negative")&&v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.encode(n.negative,u.uint32(74).fork()).ldelim(),n.flags!=null&&Object.hasOwnProperty.call(n,"flags")&&u.uint32(80).uint32(n.flags),n.exemplars!=null&&n.exemplars.length)for(var c=0;c<n.exemplars.length;++c)v.opentelemetry.proto.metrics.v1.Exemplar.encode(n.exemplars[c],u.uint32(90).fork()).ldelim();return n.min!=null&&Object.hasOwnProperty.call(n,"min")&&u.uint32(97).double(n.min),n.max!=null&&Object.hasOwnProperty.call(n,"max")&&u.uint32(105).double(n.max),n.zeroThreshold!=null&&Object.hasOwnProperty.call(n,"zeroThreshold")&&u.uint32(113).double(n.zeroThreshold),u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.attributes&&d.attributes.length||(d.attributes=[]),d.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.startTimeUnixNano=n.fixed64();break}case 3:{d.timeUnixNano=n.fixed64();break}case 4:{d.count=n.fixed64();break}case 5:{d.sum=n.double();break}case 6:{d.scale=n.sint32();break}case 7:{d.zeroCount=n.fixed64();break}case 8:{d.positive=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 9:{d.negative=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.decode(n,n.uint32());break}case 10:{d.flags=n.uint32();break}case 11:{d.exemplars&&d.exemplars.length||(d.exemplars=[]),d.exemplars.push(v.opentelemetry.proto.metrics.v1.Exemplar.decode(n,n.uint32()));break}case 12:{d.min=n.double();break}case 13:{d.max=n.double();break}case 14:{d.zeroThreshold=n.double();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.attributes!=null&&n.hasOwnProperty("attributes")){if(!Array.isArray(n.attributes))return"attributes: array expected";for(var c=0;c<n.attributes.length;++c){var d=v.opentelemetry.proto.common.v1.KeyValue.verify(n.attributes[c]);if(d)return"attributes."+d}}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&!I.isInteger(n.startTimeUnixNano)&&!(n.startTimeUnixNano&&I.isInteger(n.startTimeUnixNano.low)&&I.isInteger(n.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!I.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&I.isInteger(n.timeUnixNano.low)&&I.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.count!=null&&n.hasOwnProperty("count")&&!I.isInteger(n.count)&&!(n.count&&I.isInteger(n.count.low)&&I.isInteger(n.count.high)))return"count: integer|Long expected";if(n.sum!=null&&n.hasOwnProperty("sum")&&(u._sum=1,typeof n.sum!="number"))return"sum: number expected";if(n.scale!=null&&n.hasOwnProperty("scale")&&!I.isInteger(n.scale))return"scale: integer expected";if(n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&!I.isInteger(n.zeroCount)&&!(n.zeroCount&&I.isInteger(n.zeroCount.low)&&I.isInteger(n.zeroCount.high)))return"zeroCount: integer|Long expected";if(n.positive!=null&&n.hasOwnProperty("positive")){var d=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.positive);if(d)return"positive."+d}if(n.negative!=null&&n.hasOwnProperty("negative")){var d=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.verify(n.negative);if(d)return"negative."+d}if(n.flags!=null&&n.hasOwnProperty("flags")&&!I.isInteger(n.flags))return"flags: integer expected";if(n.exemplars!=null&&n.hasOwnProperty("exemplars")){if(!Array.isArray(n.exemplars))return"exemplars: array expected";for(var c=0;c<n.exemplars.length;++c){var d=v.opentelemetry.proto.metrics.v1.Exemplar.verify(n.exemplars[c]);if(d)return"exemplars."+d}}return n.min!=null&&n.hasOwnProperty("min")&&(u._min=1,typeof n.min!="number")?"min: number expected":n.max!=null&&n.hasOwnProperty("max")&&(u._max=1,typeof n.max!="number")?"max: number expected":n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&typeof n.zeroThreshold!="number"?"zeroThreshold: number expected":null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint)return n;var u=new v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint;if(n.attributes){if(!Array.isArray(n.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: array expected");u.attributes=[];for(var c=0;c<n.attributes.length;++c){if(typeof n.attributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.attributes: object expected");u.attributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.attributes[c])}}if(n.startTimeUnixNano!=null&&(I.Long?(u.startTimeUnixNano=I.Long.fromValue(n.startTimeUnixNano)).unsigned=!1:typeof n.startTimeUnixNano=="string"?u.startTimeUnixNano=parseInt(n.startTimeUnixNano,10):typeof n.startTimeUnixNano=="number"?u.startTimeUnixNano=n.startTimeUnixNano:typeof n.startTimeUnixNano=="object"&&(u.startTimeUnixNano=new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber())),n.timeUnixNano!=null&&(I.Long?(u.timeUnixNano=I.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.count!=null&&(I.Long?(u.count=I.Long.fromValue(n.count)).unsigned=!1:typeof n.count=="string"?u.count=parseInt(n.count,10):typeof n.count=="number"?u.count=n.count:typeof n.count=="object"&&(u.count=new I.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber())),n.sum!=null&&(u.sum=Number(n.sum)),n.scale!=null&&(u.scale=n.scale|0),n.zeroCount!=null&&(I.Long?(u.zeroCount=I.Long.fromValue(n.zeroCount)).unsigned=!1:typeof n.zeroCount=="string"?u.zeroCount=parseInt(n.zeroCount,10):typeof n.zeroCount=="number"?u.zeroCount=n.zeroCount:typeof n.zeroCount=="object"&&(u.zeroCount=new I.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber())),n.positive!=null){if(typeof n.positive!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.positive: object expected");u.positive=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.positive)}if(n.negative!=null){if(typeof n.negative!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.negative: object expected");u.negative=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.fromObject(n.negative)}if(n.flags!=null&&(u.flags=n.flags>>>0),n.exemplars){if(!Array.isArray(n.exemplars))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: array expected");u.exemplars=[];for(var c=0;c<n.exemplars.length;++c){if(typeof n.exemplars[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.exemplars: object expected");u.exemplars[c]=v.opentelemetry.proto.metrics.v1.Exemplar.fromObject(n.exemplars[c])}}return n.min!=null&&(u.min=Number(n.min)),n.max!=null&&(u.max=Number(n.max)),n.zeroThreshold!=null&&(u.zeroThreshold=Number(n.zeroThreshold)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.attributes=[],c.exemplars=[]),u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.startTimeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.startTimeUnixNano=u.longs===String?"0":0;if(I.Long){var d=new I.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;if(I.Long){var d=new I.Long(0,0,!1);c.count=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.count=u.longs===String?"0":0;if(c.scale=0,I.Long){var d=new I.Long(0,0,!1);c.zeroCount=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.zeroCount=u.longs===String?"0":0;c.positive=null,c.negative=null,c.flags=0,c.zeroThreshold=0}if(n.attributes&&n.attributes.length){c.attributes=[];for(var f=0;f<n.attributes.length;++f)c.attributes[f]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.attributes[f],u)}if(n.startTimeUnixNano!=null&&n.hasOwnProperty("startTimeUnixNano")&&(typeof n.startTimeUnixNano=="number"?c.startTimeUnixNano=u.longs===String?String(n.startTimeUnixNano):n.startTimeUnixNano:c.startTimeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.startTimeUnixNano):u.longs===Number?new I.LongBits(n.startTimeUnixNano.low>>>0,n.startTimeUnixNano.high>>>0).toNumber():n.startTimeUnixNano),n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.count!=null&&n.hasOwnProperty("count")&&(typeof n.count=="number"?c.count=u.longs===String?String(n.count):n.count:c.count=u.longs===String?I.Long.prototype.toString.call(n.count):u.longs===Number?new I.LongBits(n.count.low>>>0,n.count.high>>>0).toNumber():n.count),n.sum!=null&&n.hasOwnProperty("sum")&&(c.sum=u.json&&!isFinite(n.sum)?String(n.sum):n.sum,u.oneofs&&(c._sum="sum")),n.scale!=null&&n.hasOwnProperty("scale")&&(c.scale=n.scale),n.zeroCount!=null&&n.hasOwnProperty("zeroCount")&&(typeof n.zeroCount=="number"?c.zeroCount=u.longs===String?String(n.zeroCount):n.zeroCount:c.zeroCount=u.longs===String?I.Long.prototype.toString.call(n.zeroCount):u.longs===Number?new I.LongBits(n.zeroCount.low>>>0,n.zeroCount.high>>>0).toNumber():n.zeroCount),n.positive!=null&&n.hasOwnProperty("positive")&&(c.positive=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.positive,u)),n.negative!=null&&n.hasOwnProperty("negative")&&(c.negative=v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.toObject(n.negative,u)),n.flags!=null&&n.hasOwnProperty("flags")&&(c.flags=n.flags),n.exemplars&&n.exemplars.length){c.exemplars=[];for(var f=0;f<n.exemplars.length;++f)c.exemplars[f]=v.opentelemetry.proto.metrics.v1.Exemplar.toObject(n.exemplars[f],u)}return n.min!=null&&n.hasOwnProperty("min")&&(c.min=u.json&&!isFinite(n.min)?String(n.min):n.min,u.oneofs&&(c._min="min")),n.max!=null&&n.hasOwnProperty("max")&&(c.max=u.json&&!isFinite(n.max)?String(n.max):n.max,u.oneofs&&(c._max="max")),n.zeroThreshold!=null&&n.hasOwnProperty("zeroThreshold")&&(c.zeroThreshold=u.json&&!isFinite(n.zeroThreshold)?String(n.zeroThreshold):n.zeroThreshold),c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint"},s.Buckets=function(){function i(n){if(this.bucketCounts=[],n)for(var u=Object.keys(n),c=0;c<u.length;++c)n[u[c]]!=null&&(this[u[c]]=n[u[c]])}return i.prototype.offset=null,i.prototype.bucketCounts=I.emptyArray,i.create=function(u){return new i(u)},i.encode=function(u,c){if(c||(c=Xe.create()),u.offset!=null&&Object.hasOwnProperty.call(u,"offset")&&c.uint32(8).sint32(u.offset),u.bucketCounts!=null&&u.bucketCounts.length){c.uint32(18).fork();for(var d=0;d<u.bucketCounts.length;++d)c.uint64(u.bucketCounts[d]);c.ldelim()}return c},i.encodeDelimited=function(u,c){return this.encode(u,c).ldelim()},i.decode=function(u,c){u instanceof V||(u=V.create(u));for(var d=c===void 0?u.len:u.pos+c,f=new v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;u.pos<d;){var g=u.uint32();switch(g>>>3){case 1:{f.offset=u.sint32();break}case 2:{if(f.bucketCounts&&f.bucketCounts.length||(f.bucketCounts=[]),(g&7)===2)for(var y=u.uint32()+u.pos;u.pos<y;)f.bucketCounts.push(u.uint64());else f.bucketCounts.push(u.uint64());break}default:u.skipType(g&7);break}}return f},i.decodeDelimited=function(u){return u instanceof V||(u=new V(u)),this.decode(u,u.uint32())},i.verify=function(u){if(typeof u!="object"||u===null)return"object expected";if(u.offset!=null&&u.hasOwnProperty("offset")&&!I.isInteger(u.offset))return"offset: integer expected";if(u.bucketCounts!=null&&u.hasOwnProperty("bucketCounts")){if(!Array.isArray(u.bucketCounts))return"bucketCounts: array expected";for(var c=0;c<u.bucketCounts.length;++c)if(!I.isInteger(u.bucketCounts[c])&&!(u.bucketCounts[c]&&I.isInteger(u.bucketCounts[c].low)&&I.isInteger(u.bucketCounts[c].high)))return"bucketCounts: integer|Long[] expected"}return null},i.fromObject=function(u){if(u instanceof v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets)return u;var c=new v.opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets;if(u.offset!=null&&(c.offset=u.offset|0),u.bucketCounts){if(!Array.isArray(u.bucketCounts))throw TypeError(".opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets.bucketCounts: array expected");c.bucketCounts=[];for(var d=0;d<u.bucketCounts.length;++d)I.Long?(c.bucketCounts[d]=I.Long.fromValue(u.bucketCounts[d])).unsigned=!0:typeof u.bucketCounts[d]=="string"?c.bucketCounts[d]=parseInt(u.bucketCounts[d],10):typeof u.bucketCounts[d]=="number"?c.bucketCounts[d]=u.bucketCounts[d]:typeof u.bucketCounts[d]=="object"&&(c.bucketCounts[d]=new I.LongBits(u.bucketCounts[d].low>>>0,u.bucketCounts[d].high>>>0).toNumber(!0))}return c},i.toObject=function(u,c){c||(c={});var d={};if((c.arrays||c.defaults)&&(d.bucketCounts=[]),c.defaults&&(d.offset=0),u.offset!=null&&u.hasOwnProperty("offset")&&(d.offset=u.offset),u.bucketCounts&&u.bucketCounts.length){d.bucketCounts=[];for(var f=0;f<u.bucketCounts.length;++f)typeof u.bucketCounts[f]=="number"?d.bucketCounts[f]=c.longs===String?String(u.bucketCounts[f]):u.bucketCounts[f]:d.bucketCounts[f]=c.longs===String?I.Long.prototype.toString.call(u.bucketCounts[f]):c.longs===Number?new I.LongBits(u.bucketCounts[f].low>>>0,u.bucketCounts[f].high>>>0).toNumber(!0):u.bucketCounts[f]}return d},i.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},i.getTypeUrl=function(u){return u===void 0&&(u="type.googleapis.com"),u+"/opentelemetry.proto.metrics.v1.ExponentialHistogramDataPoint.Buckets"},i}(),s}(),o.SummaryDataPoint=function(){function s(a){if(this.attributes=[],this.quantileValues=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.attributes=I.emptyArray,s.prototype.startTimeUnixNano=null,s.prototype.timeUnixNano=null,s.prototype.count=null,s.prototype.sum=null,s.prototype.quantileValues=I.emptyArray,s.prototype.flags=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.startTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"startTimeUnixNano")&&n.uint32(17).fixed64(i.startTimeUnixNano),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(25).fixed64(i.timeUnixNano),i.count!=null&&Object.hasOwnProperty.call(i,"count")&&n.uint32(33).fixed64(i.count),i.sum!=null&&Object.hasOwnProperty.call(i,"sum")&&n.uint32(41).double(i.sum),i.quantileValues!=null&&i.quantileValues.length)for(var u=0;u<i.quantileValues.length;++u)v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.encode(i.quantileValues[u],n.uint32(50).fork()).ldelim();if(i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(58).fork()).ldelim();return i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(64).uint32(i.flags),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.metrics.v1.SummaryDataPoint;i.pos<u;){var d=i.uint32();switch(d>>>3){case 7:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 2:{c.startTimeUnixNano=i.fixed64();break}case 3:{c.timeUnixNano=i.fixed64();break}case 4:{c.count=i.fixed64();break}case 5:{c.sum=i.double();break}case 6:{c.quantileValues&&c.quantileValues.length||(c.quantileValues=[]),c.quantileValues.push(v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.decode(i,i.uint32()));break}case 8:{c.flags=i.uint32();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var n=0;n<i.attributes.length;++n){var u=v.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[n]);if(u)return"attributes."+u}}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&!I.isInteger(i.startTimeUnixNano)&&!(i.startTimeUnixNano&&I.isInteger(i.startTimeUnixNano.low)&&I.isInteger(i.startTimeUnixNano.high)))return"startTimeUnixNano: integer|Long expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!I.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&I.isInteger(i.timeUnixNano.low)&&I.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.count!=null&&i.hasOwnProperty("count")&&!I.isInteger(i.count)&&!(i.count&&I.isInteger(i.count.low)&&I.isInteger(i.count.high)))return"count: integer|Long expected";if(i.sum!=null&&i.hasOwnProperty("sum")&&typeof i.sum!="number")return"sum: number expected";if(i.quantileValues!=null&&i.hasOwnProperty("quantileValues")){if(!Array.isArray(i.quantileValues))return"quantileValues: array expected";for(var n=0;n<i.quantileValues.length;++n){var u=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.verify(i.quantileValues[n]);if(u)return"quantileValues."+u}}return i.flags!=null&&i.hasOwnProperty("flags")&&!I.isInteger(i.flags)?"flags: integer expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.metrics.v1.SummaryDataPoint)return i;var n=new v.opentelemetry.proto.metrics.v1.SummaryDataPoint;if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.attributes: object expected");n.attributes[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}if(i.startTimeUnixNano!=null&&(I.Long?(n.startTimeUnixNano=I.Long.fromValue(i.startTimeUnixNano)).unsigned=!1:typeof i.startTimeUnixNano=="string"?n.startTimeUnixNano=parseInt(i.startTimeUnixNano,10):typeof i.startTimeUnixNano=="number"?n.startTimeUnixNano=i.startTimeUnixNano:typeof i.startTimeUnixNano=="object"&&(n.startTimeUnixNano=new I.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber())),i.timeUnixNano!=null&&(I.Long?(n.timeUnixNano=I.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new I.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.count!=null&&(I.Long?(n.count=I.Long.fromValue(i.count)).unsigned=!1:typeof i.count=="string"?n.count=parseInt(i.count,10):typeof i.count=="number"?n.count=i.count:typeof i.count=="object"&&(n.count=new I.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber())),i.sum!=null&&(n.sum=Number(i.sum)),i.quantileValues){if(!Array.isArray(i.quantileValues))throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: array expected");n.quantileValues=[];for(var u=0;u<i.quantileValues.length;++u){if(typeof i.quantileValues[u]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.SummaryDataPoint.quantileValues: object expected");n.quantileValues[u]=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.fromObject(i.quantileValues[u])}}return i.flags!=null&&(n.flags=i.flags>>>0),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.quantileValues=[],u.attributes=[]),n.defaults){if(I.Long){var c=new I.Long(0,0,!1);u.startTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.startTimeUnixNano=n.longs===String?"0":0;if(I.Long){var c=new I.Long(0,0,!1);u.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.timeUnixNano=n.longs===String?"0":0;if(I.Long){var c=new I.Long(0,0,!1);u.count=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.count=n.longs===String?"0":0;u.sum=0,u.flags=0}if(i.startTimeUnixNano!=null&&i.hasOwnProperty("startTimeUnixNano")&&(typeof i.startTimeUnixNano=="number"?u.startTimeUnixNano=n.longs===String?String(i.startTimeUnixNano):i.startTimeUnixNano:u.startTimeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.startTimeUnixNano):n.longs===Number?new I.LongBits(i.startTimeUnixNano.low>>>0,i.startTimeUnixNano.high>>>0).toNumber():i.startTimeUnixNano),i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?u.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:u.timeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new I.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.count!=null&&i.hasOwnProperty("count")&&(typeof i.count=="number"?u.count=n.longs===String?String(i.count):i.count:u.count=n.longs===String?I.Long.prototype.toString.call(i.count):n.longs===Number?new I.LongBits(i.count.low>>>0,i.count.high>>>0).toNumber():i.count),i.sum!=null&&i.hasOwnProperty("sum")&&(u.sum=n.json&&!isFinite(i.sum)?String(i.sum):i.sum),i.quantileValues&&i.quantileValues.length){u.quantileValues=[];for(var d=0;d<i.quantileValues.length;++d)u.quantileValues[d]=v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile.toObject(i.quantileValues[d],n)}if(i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}return i.flags!=null&&i.hasOwnProperty("flags")&&(u.flags=i.flags),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.metrics.v1.SummaryDataPoint"},s.ValueAtQuantile=function(){function a(i){if(i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}return a.prototype.quantile=null,a.prototype.value=null,a.create=function(n){return new a(n)},a.encode=function(n,u){return u||(u=Xe.create()),n.quantile!=null&&Object.hasOwnProperty.call(n,"quantile")&&u.uint32(9).double(n.quantile),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&u.uint32(17).double(n.value),u},a.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},a.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;n.pos<c;){var f=n.uint32();switch(f>>>3){case 1:{d.quantile=n.double();break}case 2:{d.value=n.double();break}default:n.skipType(f&7);break}}return d},a.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},a.verify=function(n){return typeof n!="object"||n===null?"object expected":n.quantile!=null&&n.hasOwnProperty("quantile")&&typeof n.quantile!="number"?"quantile: number expected":n.value!=null&&n.hasOwnProperty("value")&&typeof n.value!="number"?"value: number expected":null},a.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile)return n;var u=new v.opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile;return n.quantile!=null&&(u.quantile=Number(n.quantile)),n.value!=null&&(u.value=Number(n.value)),u},a.toObject=function(n,u){u||(u={});var c={};return u.defaults&&(c.quantile=0,c.value=0),n.quantile!=null&&n.hasOwnProperty("quantile")&&(c.quantile=u.json&&!isFinite(n.quantile)?String(n.quantile):n.quantile),n.value!=null&&n.hasOwnProperty("value")&&(c.value=u.json&&!isFinite(n.value)?String(n.value):n.value),c},a.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},a.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.SummaryDataPoint.ValueAtQuantile"},a}(),s}(),o.Exemplar=function(){function s(i){if(this.filteredAttributes=[],i)for(var n=Object.keys(i),u=0;u<n.length;++u)i[n[u]]!=null&&(this[n[u]]=i[n[u]])}s.prototype.filteredAttributes=I.emptyArray,s.prototype.timeUnixNano=null,s.prototype.asDouble=null,s.prototype.asInt=null,s.prototype.spanId=null,s.prototype.traceId=null;var a;return Object.defineProperty(s.prototype,"value",{get:I.oneOfGetter(a=["asDouble","asInt"]),set:I.oneOfSetter(a)}),s.create=function(n){return new s(n)},s.encode=function(n,u){if(u||(u=Xe.create()),n.timeUnixNano!=null&&Object.hasOwnProperty.call(n,"timeUnixNano")&&u.uint32(17).fixed64(n.timeUnixNano),n.asDouble!=null&&Object.hasOwnProperty.call(n,"asDouble")&&u.uint32(25).double(n.asDouble),n.spanId!=null&&Object.hasOwnProperty.call(n,"spanId")&&u.uint32(34).bytes(n.spanId),n.traceId!=null&&Object.hasOwnProperty.call(n,"traceId")&&u.uint32(42).bytes(n.traceId),n.asInt!=null&&Object.hasOwnProperty.call(n,"asInt")&&u.uint32(49).sfixed64(n.asInt),n.filteredAttributes!=null&&n.filteredAttributes.length)for(var c=0;c<n.filteredAttributes.length;++c)v.opentelemetry.proto.common.v1.KeyValue.encode(n.filteredAttributes[c],u.uint32(58).fork()).ldelim();return u},s.encodeDelimited=function(n,u){return this.encode(n,u).ldelim()},s.decode=function(n,u){n instanceof V||(n=V.create(n));for(var c=u===void 0?n.len:n.pos+u,d=new v.opentelemetry.proto.metrics.v1.Exemplar;n.pos<c;){var f=n.uint32();switch(f>>>3){case 7:{d.filteredAttributes&&d.filteredAttributes.length||(d.filteredAttributes=[]),d.filteredAttributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(n,n.uint32()));break}case 2:{d.timeUnixNano=n.fixed64();break}case 3:{d.asDouble=n.double();break}case 6:{d.asInt=n.sfixed64();break}case 4:{d.spanId=n.bytes();break}case 5:{d.traceId=n.bytes();break}default:n.skipType(f&7);break}}return d},s.decodeDelimited=function(n){return n instanceof V||(n=new V(n)),this.decode(n,n.uint32())},s.verify=function(n){if(typeof n!="object"||n===null)return"object expected";var u={};if(n.filteredAttributes!=null&&n.hasOwnProperty("filteredAttributes")){if(!Array.isArray(n.filteredAttributes))return"filteredAttributes: array expected";for(var c=0;c<n.filteredAttributes.length;++c){var d=v.opentelemetry.proto.common.v1.KeyValue.verify(n.filteredAttributes[c]);if(d)return"filteredAttributes."+d}}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&!I.isInteger(n.timeUnixNano)&&!(n.timeUnixNano&&I.isInteger(n.timeUnixNano.low)&&I.isInteger(n.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(u.value=1,typeof n.asDouble!="number"))return"asDouble: number expected";if(n.asInt!=null&&n.hasOwnProperty("asInt")){if(u.value===1)return"value: multiple values";if(u.value=1,!I.isInteger(n.asInt)&&!(n.asInt&&I.isInteger(n.asInt.low)&&I.isInteger(n.asInt.high)))return"asInt: integer|Long expected"}return n.spanId!=null&&n.hasOwnProperty("spanId")&&!(n.spanId&&typeof n.spanId.length=="number"||I.isString(n.spanId))?"spanId: buffer expected":n.traceId!=null&&n.hasOwnProperty("traceId")&&!(n.traceId&&typeof n.traceId.length=="number"||I.isString(n.traceId))?"traceId: buffer expected":null},s.fromObject=function(n){if(n instanceof v.opentelemetry.proto.metrics.v1.Exemplar)return n;var u=new v.opentelemetry.proto.metrics.v1.Exemplar;if(n.filteredAttributes){if(!Array.isArray(n.filteredAttributes))throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: array expected");u.filteredAttributes=[];for(var c=0;c<n.filteredAttributes.length;++c){if(typeof n.filteredAttributes[c]!="object")throw TypeError(".opentelemetry.proto.metrics.v1.Exemplar.filteredAttributes: object expected");u.filteredAttributes[c]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(n.filteredAttributes[c])}}return n.timeUnixNano!=null&&(I.Long?(u.timeUnixNano=I.Long.fromValue(n.timeUnixNano)).unsigned=!1:typeof n.timeUnixNano=="string"?u.timeUnixNano=parseInt(n.timeUnixNano,10):typeof n.timeUnixNano=="number"?u.timeUnixNano=n.timeUnixNano:typeof n.timeUnixNano=="object"&&(u.timeUnixNano=new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber())),n.asDouble!=null&&(u.asDouble=Number(n.asDouble)),n.asInt!=null&&(I.Long?(u.asInt=I.Long.fromValue(n.asInt)).unsigned=!1:typeof n.asInt=="string"?u.asInt=parseInt(n.asInt,10):typeof n.asInt=="number"?u.asInt=n.asInt:typeof n.asInt=="object"&&(u.asInt=new I.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber())),n.spanId!=null&&(typeof n.spanId=="string"?I.base64.decode(n.spanId,u.spanId=I.newBuffer(I.base64.length(n.spanId)),0):n.spanId.length>=0&&(u.spanId=n.spanId)),n.traceId!=null&&(typeof n.traceId=="string"?I.base64.decode(n.traceId,u.traceId=I.newBuffer(I.base64.length(n.traceId)),0):n.traceId.length>=0&&(u.traceId=n.traceId)),u},s.toObject=function(n,u){u||(u={});var c={};if((u.arrays||u.defaults)&&(c.filteredAttributes=[]),u.defaults){if(I.Long){var d=new I.Long(0,0,!1);c.timeUnixNano=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else c.timeUnixNano=u.longs===String?"0":0;u.bytes===String?c.spanId="":(c.spanId=[],u.bytes!==Array&&(c.spanId=I.newBuffer(c.spanId))),u.bytes===String?c.traceId="":(c.traceId=[],u.bytes!==Array&&(c.traceId=I.newBuffer(c.traceId)))}if(n.timeUnixNano!=null&&n.hasOwnProperty("timeUnixNano")&&(typeof n.timeUnixNano=="number"?c.timeUnixNano=u.longs===String?String(n.timeUnixNano):n.timeUnixNano:c.timeUnixNano=u.longs===String?I.Long.prototype.toString.call(n.timeUnixNano):u.longs===Number?new I.LongBits(n.timeUnixNano.low>>>0,n.timeUnixNano.high>>>0).toNumber():n.timeUnixNano),n.asDouble!=null&&n.hasOwnProperty("asDouble")&&(c.asDouble=u.json&&!isFinite(n.asDouble)?String(n.asDouble):n.asDouble,u.oneofs&&(c.value="asDouble")),n.spanId!=null&&n.hasOwnProperty("spanId")&&(c.spanId=u.bytes===String?I.base64.encode(n.spanId,0,n.spanId.length):u.bytes===Array?Array.prototype.slice.call(n.spanId):n.spanId),n.traceId!=null&&n.hasOwnProperty("traceId")&&(c.traceId=u.bytes===String?I.base64.encode(n.traceId,0,n.traceId.length):u.bytes===Array?Array.prototype.slice.call(n.traceId):n.traceId),n.asInt!=null&&n.hasOwnProperty("asInt")&&(typeof n.asInt=="number"?c.asInt=u.longs===String?String(n.asInt):n.asInt:c.asInt=u.longs===String?I.Long.prototype.toString.call(n.asInt):u.longs===Number?new I.LongBits(n.asInt.low>>>0,n.asInt.high>>>0).toNumber():n.asInt,u.oneofs&&(c.value="asInt")),n.filteredAttributes&&n.filteredAttributes.length){c.filteredAttributes=[];for(var f=0;f<n.filteredAttributes.length;++f)c.filteredAttributes[f]=v.opentelemetry.proto.common.v1.KeyValue.toObject(n.filteredAttributes[f],u)}return c},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/opentelemetry.proto.metrics.v1.Exemplar"},s}(),o}(),r}(),e.logs=function(){var r={};return r.v1=function(){var o={};return o.LogsData=function(){function s(a){if(this.resourceLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resourceLogs=I.emptyArray,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resourceLogs!=null&&i.resourceLogs.length)for(var u=0;u<i.resourceLogs.length;++u)v.opentelemetry.proto.logs.v1.ResourceLogs.encode(i.resourceLogs[u],n.uint32(10).fork()).ldelim();return n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.logs.v1.LogsData;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resourceLogs&&c.resourceLogs.length||(c.resourceLogs=[]),c.resourceLogs.push(v.opentelemetry.proto.logs.v1.ResourceLogs.decode(i,i.uint32()));break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resourceLogs!=null&&i.hasOwnProperty("resourceLogs")){if(!Array.isArray(i.resourceLogs))return"resourceLogs: array expected";for(var n=0;n<i.resourceLogs.length;++n){var u=v.opentelemetry.proto.logs.v1.ResourceLogs.verify(i.resourceLogs[n]);if(u)return"resourceLogs."+u}}return null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.logs.v1.LogsData)return i;var n=new v.opentelemetry.proto.logs.v1.LogsData;if(i.resourceLogs){if(!Array.isArray(i.resourceLogs))throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: array expected");n.resourceLogs=[];for(var u=0;u<i.resourceLogs.length;++u){if(typeof i.resourceLogs[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogsData.resourceLogs: object expected");n.resourceLogs[u]=v.opentelemetry.proto.logs.v1.ResourceLogs.fromObject(i.resourceLogs[u])}}return n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.resourceLogs=[]),i.resourceLogs&&i.resourceLogs.length){u.resourceLogs=[];for(var c=0;c<i.resourceLogs.length;++c)u.resourceLogs[c]=v.opentelemetry.proto.logs.v1.ResourceLogs.toObject(i.resourceLogs[c],n)}return u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogsData"},s}(),o.ResourceLogs=function(){function s(a){if(this.scopeLogs=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.resource=null,s.prototype.scopeLogs=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.resource!=null&&Object.hasOwnProperty.call(i,"resource")&&v.opentelemetry.proto.resource.v1.Resource.encode(i.resource,n.uint32(10).fork()).ldelim(),i.scopeLogs!=null&&i.scopeLogs.length)for(var u=0;u<i.scopeLogs.length;++u)v.opentelemetry.proto.logs.v1.ScopeLogs.encode(i.scopeLogs[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.logs.v1.ResourceLogs;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.resource=v.opentelemetry.proto.resource.v1.Resource.decode(i,i.uint32());break}case 2:{c.scopeLogs&&c.scopeLogs.length||(c.scopeLogs=[]),c.scopeLogs.push(v.opentelemetry.proto.logs.v1.ScopeLogs.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.resource!=null&&i.hasOwnProperty("resource")){var n=v.opentelemetry.proto.resource.v1.Resource.verify(i.resource);if(n)return"resource."+n}if(i.scopeLogs!=null&&i.hasOwnProperty("scopeLogs")){if(!Array.isArray(i.scopeLogs))return"scopeLogs: array expected";for(var u=0;u<i.scopeLogs.length;++u){var n=v.opentelemetry.proto.logs.v1.ScopeLogs.verify(i.scopeLogs[u]);if(n)return"scopeLogs."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.logs.v1.ResourceLogs)return i;var n=new v.opentelemetry.proto.logs.v1.ResourceLogs;if(i.resource!=null){if(typeof i.resource!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.resource: object expected");n.resource=v.opentelemetry.proto.resource.v1.Resource.fromObject(i.resource)}if(i.scopeLogs){if(!Array.isArray(i.scopeLogs))throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: array expected");n.scopeLogs=[];for(var u=0;u<i.scopeLogs.length;++u){if(typeof i.scopeLogs[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ResourceLogs.scopeLogs: object expected");n.scopeLogs[u]=v.opentelemetry.proto.logs.v1.ScopeLogs.fromObject(i.scopeLogs[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.scopeLogs=[]),n.defaults&&(u.resource=null,u.schemaUrl=""),i.resource!=null&&i.hasOwnProperty("resource")&&(u.resource=v.opentelemetry.proto.resource.v1.Resource.toObject(i.resource,n)),i.scopeLogs&&i.scopeLogs.length){u.scopeLogs=[];for(var c=0;c<i.scopeLogs.length;++c)u.scopeLogs[c]=v.opentelemetry.proto.logs.v1.ScopeLogs.toObject(i.scopeLogs[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ResourceLogs"},s}(),o.ScopeLogs=function(){function s(a){if(this.logRecords=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.scope=null,s.prototype.logRecords=I.emptyArray,s.prototype.schemaUrl=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.scope!=null&&Object.hasOwnProperty.call(i,"scope")&&v.opentelemetry.proto.common.v1.InstrumentationScope.encode(i.scope,n.uint32(10).fork()).ldelim(),i.logRecords!=null&&i.logRecords.length)for(var u=0;u<i.logRecords.length;++u)v.opentelemetry.proto.logs.v1.LogRecord.encode(i.logRecords[u],n.uint32(18).fork()).ldelim();return i.schemaUrl!=null&&Object.hasOwnProperty.call(i,"schemaUrl")&&n.uint32(26).string(i.schemaUrl),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.logs.v1.ScopeLogs;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.decode(i,i.uint32());break}case 2:{c.logRecords&&c.logRecords.length||(c.logRecords=[]),c.logRecords.push(v.opentelemetry.proto.logs.v1.LogRecord.decode(i,i.uint32()));break}case 3:{c.schemaUrl=i.string();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.scope!=null&&i.hasOwnProperty("scope")){var n=v.opentelemetry.proto.common.v1.InstrumentationScope.verify(i.scope);if(n)return"scope."+n}if(i.logRecords!=null&&i.hasOwnProperty("logRecords")){if(!Array.isArray(i.logRecords))return"logRecords: array expected";for(var u=0;u<i.logRecords.length;++u){var n=v.opentelemetry.proto.logs.v1.LogRecord.verify(i.logRecords[u]);if(n)return"logRecords."+n}}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&!I.isString(i.schemaUrl)?"schemaUrl: string expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.logs.v1.ScopeLogs)return i;var n=new v.opentelemetry.proto.logs.v1.ScopeLogs;if(i.scope!=null){if(typeof i.scope!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.scope: object expected");n.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.fromObject(i.scope)}if(i.logRecords){if(!Array.isArray(i.logRecords))throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: array expected");n.logRecords=[];for(var u=0;u<i.logRecords.length;++u){if(typeof i.logRecords[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.ScopeLogs.logRecords: object expected");n.logRecords[u]=v.opentelemetry.proto.logs.v1.LogRecord.fromObject(i.logRecords[u])}}return i.schemaUrl!=null&&(n.schemaUrl=String(i.schemaUrl)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.logRecords=[]),n.defaults&&(u.scope=null,u.schemaUrl=""),i.scope!=null&&i.hasOwnProperty("scope")&&(u.scope=v.opentelemetry.proto.common.v1.InstrumentationScope.toObject(i.scope,n)),i.logRecords&&i.logRecords.length){u.logRecords=[];for(var c=0;c<i.logRecords.length;++c)u.logRecords[c]=v.opentelemetry.proto.logs.v1.LogRecord.toObject(i.logRecords[c],n)}return i.schemaUrl!=null&&i.hasOwnProperty("schemaUrl")&&(u.schemaUrl=i.schemaUrl),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.ScopeLogs"},s}(),o.SeverityNumber=function(){var s={},a=Object.create(s);return a[s[0]="SEVERITY_NUMBER_UNSPECIFIED"]=0,a[s[1]="SEVERITY_NUMBER_TRACE"]=1,a[s[2]="SEVERITY_NUMBER_TRACE2"]=2,a[s[3]="SEVERITY_NUMBER_TRACE3"]=3,a[s[4]="SEVERITY_NUMBER_TRACE4"]=4,a[s[5]="SEVERITY_NUMBER_DEBUG"]=5,a[s[6]="SEVERITY_NUMBER_DEBUG2"]=6,a[s[7]="SEVERITY_NUMBER_DEBUG3"]=7,a[s[8]="SEVERITY_NUMBER_DEBUG4"]=8,a[s[9]="SEVERITY_NUMBER_INFO"]=9,a[s[10]="SEVERITY_NUMBER_INFO2"]=10,a[s[11]="SEVERITY_NUMBER_INFO3"]=11,a[s[12]="SEVERITY_NUMBER_INFO4"]=12,a[s[13]="SEVERITY_NUMBER_WARN"]=13,a[s[14]="SEVERITY_NUMBER_WARN2"]=14,a[s[15]="SEVERITY_NUMBER_WARN3"]=15,a[s[16]="SEVERITY_NUMBER_WARN4"]=16,a[s[17]="SEVERITY_NUMBER_ERROR"]=17,a[s[18]="SEVERITY_NUMBER_ERROR2"]=18,a[s[19]="SEVERITY_NUMBER_ERROR3"]=19,a[s[20]="SEVERITY_NUMBER_ERROR4"]=20,a[s[21]="SEVERITY_NUMBER_FATAL"]=21,a[s[22]="SEVERITY_NUMBER_FATAL2"]=22,a[s[23]="SEVERITY_NUMBER_FATAL3"]=23,a[s[24]="SEVERITY_NUMBER_FATAL4"]=24,a}(),o.LogRecordFlags=function(){var s={},a=Object.create(s);return a[s[0]="LOG_RECORD_FLAGS_DO_NOT_USE"]=0,a[s[255]="LOG_RECORD_FLAGS_TRACE_FLAGS_MASK"]=255,a}(),o.LogRecord=function(){function s(a){if(this.attributes=[],a)for(var i=Object.keys(a),n=0;n<i.length;++n)a[i[n]]!=null&&(this[i[n]]=a[i[n]])}return s.prototype.timeUnixNano=null,s.prototype.observedTimeUnixNano=null,s.prototype.severityNumber=null,s.prototype.severityText=null,s.prototype.body=null,s.prototype.attributes=I.emptyArray,s.prototype.droppedAttributesCount=null,s.prototype.flags=null,s.prototype.traceId=null,s.prototype.spanId=null,s.create=function(i){return new s(i)},s.encode=function(i,n){if(n||(n=Xe.create()),i.timeUnixNano!=null&&Object.hasOwnProperty.call(i,"timeUnixNano")&&n.uint32(9).fixed64(i.timeUnixNano),i.severityNumber!=null&&Object.hasOwnProperty.call(i,"severityNumber")&&n.uint32(16).int32(i.severityNumber),i.severityText!=null&&Object.hasOwnProperty.call(i,"severityText")&&n.uint32(26).string(i.severityText),i.body!=null&&Object.hasOwnProperty.call(i,"body")&&v.opentelemetry.proto.common.v1.AnyValue.encode(i.body,n.uint32(42).fork()).ldelim(),i.attributes!=null&&i.attributes.length)for(var u=0;u<i.attributes.length;++u)v.opentelemetry.proto.common.v1.KeyValue.encode(i.attributes[u],n.uint32(50).fork()).ldelim();return i.droppedAttributesCount!=null&&Object.hasOwnProperty.call(i,"droppedAttributesCount")&&n.uint32(56).uint32(i.droppedAttributesCount),i.flags!=null&&Object.hasOwnProperty.call(i,"flags")&&n.uint32(69).fixed32(i.flags),i.traceId!=null&&Object.hasOwnProperty.call(i,"traceId")&&n.uint32(74).bytes(i.traceId),i.spanId!=null&&Object.hasOwnProperty.call(i,"spanId")&&n.uint32(82).bytes(i.spanId),i.observedTimeUnixNano!=null&&Object.hasOwnProperty.call(i,"observedTimeUnixNano")&&n.uint32(89).fixed64(i.observedTimeUnixNano),n},s.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},s.decode=function(i,n){i instanceof V||(i=V.create(i));for(var u=n===void 0?i.len:i.pos+n,c=new v.opentelemetry.proto.logs.v1.LogRecord;i.pos<u;){var d=i.uint32();switch(d>>>3){case 1:{c.timeUnixNano=i.fixed64();break}case 11:{c.observedTimeUnixNano=i.fixed64();break}case 2:{c.severityNumber=i.int32();break}case 3:{c.severityText=i.string();break}case 5:{c.body=v.opentelemetry.proto.common.v1.AnyValue.decode(i,i.uint32());break}case 6:{c.attributes&&c.attributes.length||(c.attributes=[]),c.attributes.push(v.opentelemetry.proto.common.v1.KeyValue.decode(i,i.uint32()));break}case 7:{c.droppedAttributesCount=i.uint32();break}case 8:{c.flags=i.fixed32();break}case 9:{c.traceId=i.bytes();break}case 10:{c.spanId=i.bytes();break}default:i.skipType(d&7);break}}return c},s.decodeDelimited=function(i){return i instanceof V||(i=new V(i)),this.decode(i,i.uint32())},s.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&!I.isInteger(i.timeUnixNano)&&!(i.timeUnixNano&&I.isInteger(i.timeUnixNano.low)&&I.isInteger(i.timeUnixNano.high)))return"timeUnixNano: integer|Long expected";if(i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&!I.isInteger(i.observedTimeUnixNano)&&!(i.observedTimeUnixNano&&I.isInteger(i.observedTimeUnixNano.low)&&I.isInteger(i.observedTimeUnixNano.high)))return"observedTimeUnixNano: integer|Long expected";if(i.severityNumber!=null&&i.hasOwnProperty("severityNumber"))switch(i.severityNumber){default:return"severityNumber: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:break}if(i.severityText!=null&&i.hasOwnProperty("severityText")&&!I.isString(i.severityText))return"severityText: string expected";if(i.body!=null&&i.hasOwnProperty("body")){var n=v.opentelemetry.proto.common.v1.AnyValue.verify(i.body);if(n)return"body."+n}if(i.attributes!=null&&i.hasOwnProperty("attributes")){if(!Array.isArray(i.attributes))return"attributes: array expected";for(var u=0;u<i.attributes.length;++u){var n=v.opentelemetry.proto.common.v1.KeyValue.verify(i.attributes[u]);if(n)return"attributes."+n}}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&!I.isInteger(i.droppedAttributesCount)?"droppedAttributesCount: integer expected":i.flags!=null&&i.hasOwnProperty("flags")&&!I.isInteger(i.flags)?"flags: integer expected":i.traceId!=null&&i.hasOwnProperty("traceId")&&!(i.traceId&&typeof i.traceId.length=="number"||I.isString(i.traceId))?"traceId: buffer expected":i.spanId!=null&&i.hasOwnProperty("spanId")&&!(i.spanId&&typeof i.spanId.length=="number"||I.isString(i.spanId))?"spanId: buffer expected":null},s.fromObject=function(i){if(i instanceof v.opentelemetry.proto.logs.v1.LogRecord)return i;var n=new v.opentelemetry.proto.logs.v1.LogRecord;switch(i.timeUnixNano!=null&&(I.Long?(n.timeUnixNano=I.Long.fromValue(i.timeUnixNano)).unsigned=!1:typeof i.timeUnixNano=="string"?n.timeUnixNano=parseInt(i.timeUnixNano,10):typeof i.timeUnixNano=="number"?n.timeUnixNano=i.timeUnixNano:typeof i.timeUnixNano=="object"&&(n.timeUnixNano=new I.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber())),i.observedTimeUnixNano!=null&&(I.Long?(n.observedTimeUnixNano=I.Long.fromValue(i.observedTimeUnixNano)).unsigned=!1:typeof i.observedTimeUnixNano=="string"?n.observedTimeUnixNano=parseInt(i.observedTimeUnixNano,10):typeof i.observedTimeUnixNano=="number"?n.observedTimeUnixNano=i.observedTimeUnixNano:typeof i.observedTimeUnixNano=="object"&&(n.observedTimeUnixNano=new I.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber())),i.severityNumber){default:if(typeof i.severityNumber=="number"){n.severityNumber=i.severityNumber;break}break;case"SEVERITY_NUMBER_UNSPECIFIED":case 0:n.severityNumber=0;break;case"SEVERITY_NUMBER_TRACE":case 1:n.severityNumber=1;break;case"SEVERITY_NUMBER_TRACE2":case 2:n.severityNumber=2;break;case"SEVERITY_NUMBER_TRACE3":case 3:n.severityNumber=3;break;case"SEVERITY_NUMBER_TRACE4":case 4:n.severityNumber=4;break;case"SEVERITY_NUMBER_DEBUG":case 5:n.severityNumber=5;break;case"SEVERITY_NUMBER_DEBUG2":case 6:n.severityNumber=6;break;case"SEVERITY_NUMBER_DEBUG3":case 7:n.severityNumber=7;break;case"SEVERITY_NUMBER_DEBUG4":case 8:n.severityNumber=8;break;case"SEVERITY_NUMBER_INFO":case 9:n.severityNumber=9;break;case"SEVERITY_NUMBER_INFO2":case 10:n.severityNumber=10;break;case"SEVERITY_NUMBER_INFO3":case 11:n.severityNumber=11;break;case"SEVERITY_NUMBER_INFO4":case 12:n.severityNumber=12;break;case"SEVERITY_NUMBER_WARN":case 13:n.severityNumber=13;break;case"SEVERITY_NUMBER_WARN2":case 14:n.severityNumber=14;break;case"SEVERITY_NUMBER_WARN3":case 15:n.severityNumber=15;break;case"SEVERITY_NUMBER_WARN4":case 16:n.severityNumber=16;break;case"SEVERITY_NUMBER_ERROR":case 17:n.severityNumber=17;break;case"SEVERITY_NUMBER_ERROR2":case 18:n.severityNumber=18;break;case"SEVERITY_NUMBER_ERROR3":case 19:n.severityNumber=19;break;case"SEVERITY_NUMBER_ERROR4":case 20:n.severityNumber=20;break;case"SEVERITY_NUMBER_FATAL":case 21:n.severityNumber=21;break;case"SEVERITY_NUMBER_FATAL2":case 22:n.severityNumber=22;break;case"SEVERITY_NUMBER_FATAL3":case 23:n.severityNumber=23;break;case"SEVERITY_NUMBER_FATAL4":case 24:n.severityNumber=24;break}if(i.severityText!=null&&(n.severityText=String(i.severityText)),i.body!=null){if(typeof i.body!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.body: object expected");n.body=v.opentelemetry.proto.common.v1.AnyValue.fromObject(i.body)}if(i.attributes){if(!Array.isArray(i.attributes))throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: array expected");n.attributes=[];for(var u=0;u<i.attributes.length;++u){if(typeof i.attributes[u]!="object")throw TypeError(".opentelemetry.proto.logs.v1.LogRecord.attributes: object expected");n.attributes[u]=v.opentelemetry.proto.common.v1.KeyValue.fromObject(i.attributes[u])}}return i.droppedAttributesCount!=null&&(n.droppedAttributesCount=i.droppedAttributesCount>>>0),i.flags!=null&&(n.flags=i.flags>>>0),i.traceId!=null&&(typeof i.traceId=="string"?I.base64.decode(i.traceId,n.traceId=I.newBuffer(I.base64.length(i.traceId)),0):i.traceId.length>=0&&(n.traceId=i.traceId)),i.spanId!=null&&(typeof i.spanId=="string"?I.base64.decode(i.spanId,n.spanId=I.newBuffer(I.base64.length(i.spanId)),0):i.spanId.length>=0&&(n.spanId=i.spanId)),n},s.toObject=function(i,n){n||(n={});var u={};if((n.arrays||n.defaults)&&(u.attributes=[]),n.defaults){if(I.Long){var c=new I.Long(0,0,!1);u.timeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.timeUnixNano=n.longs===String?"0":0;if(u.severityNumber=n.enums===String?"SEVERITY_NUMBER_UNSPECIFIED":0,u.severityText="",u.body=null,u.droppedAttributesCount=0,u.flags=0,n.bytes===String?u.traceId="":(u.traceId=[],n.bytes!==Array&&(u.traceId=I.newBuffer(u.traceId))),n.bytes===String?u.spanId="":(u.spanId=[],n.bytes!==Array&&(u.spanId=I.newBuffer(u.spanId))),I.Long){var c=new I.Long(0,0,!1);u.observedTimeUnixNano=n.longs===String?c.toString():n.longs===Number?c.toNumber():c}else u.observedTimeUnixNano=n.longs===String?"0":0}if(i.timeUnixNano!=null&&i.hasOwnProperty("timeUnixNano")&&(typeof i.timeUnixNano=="number"?u.timeUnixNano=n.longs===String?String(i.timeUnixNano):i.timeUnixNano:u.timeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.timeUnixNano):n.longs===Number?new I.LongBits(i.timeUnixNano.low>>>0,i.timeUnixNano.high>>>0).toNumber():i.timeUnixNano),i.severityNumber!=null&&i.hasOwnProperty("severityNumber")&&(u.severityNumber=n.enums===String?v.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]===void 0?i.severityNumber:v.opentelemetry.proto.logs.v1.SeverityNumber[i.severityNumber]:i.severityNumber),i.severityText!=null&&i.hasOwnProperty("severityText")&&(u.severityText=i.severityText),i.body!=null&&i.hasOwnProperty("body")&&(u.body=v.opentelemetry.proto.common.v1.AnyValue.toObject(i.body,n)),i.attributes&&i.attributes.length){u.attributes=[];for(var d=0;d<i.attributes.length;++d)u.attributes[d]=v.opentelemetry.proto.common.v1.KeyValue.toObject(i.attributes[d],n)}return i.droppedAttributesCount!=null&&i.hasOwnProperty("droppedAttributesCount")&&(u.droppedAttributesCount=i.droppedAttributesCount),i.flags!=null&&i.hasOwnProperty("flags")&&(u.flags=i.flags),i.traceId!=null&&i.hasOwnProperty("traceId")&&(u.traceId=n.bytes===String?I.base64.encode(i.traceId,0,i.traceId.length):n.bytes===Array?Array.prototype.slice.call(i.traceId):i.traceId),i.spanId!=null&&i.hasOwnProperty("spanId")&&(u.spanId=n.bytes===String?I.base64.encode(i.spanId,0,i.spanId.length):n.bytes===Array?Array.prototype.slice.call(i.spanId):i.spanId),i.observedTimeUnixNano!=null&&i.hasOwnProperty("observedTimeUnixNano")&&(typeof i.observedTimeUnixNano=="number"?u.observedTimeUnixNano=n.longs===String?String(i.observedTimeUnixNano):i.observedTimeUnixNano:u.observedTimeUnixNano=n.longs===String?I.Long.prototype.toString.call(i.observedTimeUnixNano):n.longs===Number?new I.LongBits(i.observedTimeUnixNano.low>>>0,i.observedTimeUnixNano.high>>>0).toNumber():i.observedTimeUnixNano),u},s.prototype.toJSON=function(){return this.constructor.toObject(this,Pe.util.toJSONOptions)},s.getTypeUrl=function(i){return i===void 0&&(i="type.googleapis.com"),i+"/opentelemetry.proto.logs.v1.LogRecord"},s}(),o}(),r}(),e}(),t}();JCe.exports=v});var t0e=h(w1=>{"use strict";l();Object.defineProperty(w1,"__esModule",{value:!0});w1.MetricExportServiceClient=void 0;var e0e=N1(),gbt=Hf(),$Ce=e0e.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceResponse,QCe=e0e.opentelemetry.proto.collector.metrics.v1.ExportMetricsServiceRequest,mbt={export:{path:"/opentelemetry.proto.collector.metrics.v1.MetricsService/Export",requestStream:!1,responseStream:!1,requestSerialize:t=>Buffer.from(QCe.encode(t).finish()),requestDeserialize:t=>QCe.decode(t),responseSerialize:t=>Buffer.from($Ce.encode(t).finish()),responseDeserialize:t=>$Ce.decode(t)}};w1.MetricExportServiceClient=gbt.makeGenericClientConstructor(mbt,"MetricsExportService")});var o0e=h(P1=>{"use strict";l();Object.defineProperty(P1,"__esModule",{value:!0});P1.TraceExportServiceClient=void 0;var i0e=N1(),ybt=Hf(),r0e=i0e.opentelemetry.proto.collector.trace.v1.ExportTraceServiceResponse,n0e=i0e.opentelemetry.proto.collector.trace.v1.ExportTraceServiceRequest,_bt={export:{path:"/opentelemetry.proto.collector.trace.v1.TraceService/Export",requestStream:!1,responseStream:!1,requestSerialize:t=>Buffer.from(n0e.encode(t).finish()),requestDeserialize:t=>n0e.decode(t),responseSerialize:t=>Buffer.from(r0e.encode(t).finish()),responseDeserialize:t=>r0e.decode(t)}};P1.TraceExportServiceClient=ybt.makeGenericClientConstructor(_bt,"TraceExportService")});var c0e=h(M1=>{"use strict";l();Object.defineProperty(M1,"__esModule",{value:!0});M1.LogsExportServiceClient=void 0;var u0e=N1(),Sbt=Hf(),s0e=u0e.opentelemetry.proto.collector.logs.v1.ExportLogsServiceResponse,a0e=u0e.opentelemetry.proto.collector.logs.v1.ExportLogsServiceRequest,bbt={export:{path:"/opentelemetry.proto.collector.logs.v1.LogsService/Export",requestStream:!1,responseStream:!1,requestSerialize:t=>Buffer.from(a0e.encode(t).finish()),requestDeserialize:t=>a0e.decode(t),responseSerialize:t=>Buffer.from(s0e.encode(t).finish()),responseDeserialize:t=>s0e.decode(t)}};M1.LogsExportServiceClient=Sbt.makeGenericClientConstructor(bbt,"LogsExportService")});var RE=h(vr=>{"use strict";l();Object.defineProperty(vr,"__esModule",{value:!0});vr.configureCompression=vr.GrpcCompressionAlgorithm=vr.useSecureConnection=vr.configureSecurity=vr.validateAndNormalizeUrl=vr.send=vr.onInit=vr.DEFAULT_COLLECTOR_URL=void 0;var L9=Hf(),kf=(j(),Y(K)),as=Ne(),U9=require("path"),Ebt=require("url"),G9=require("fs"),D9=B9(),l0e=hu(),vbt=t0e(),Tbt=o0e(),Abt=c0e();vr.DEFAULT_COLLECTOR_URL="http://localhost:4317";function Ibt(t,e){t.grpcQueue=[];let r=d0e(e.credentials,t.getUrlFromConfig(e));try{if(t.getServiceClientType()===D9.ServiceClientType.SPANS){let o=new Tbt.TraceExportServiceClient(t.url,r,{"grpc.default_compression_algorithm":t.compression.valueOf()});t.serviceClient=o}else if(t.getServiceClientType()===D9.ServiceClientType.METRICS){let o=new vbt.MetricExportServiceClient(t.url,r,{"grpc.default_compression_algorithm":t.compression.valueOf()});t.serviceClient=o}else if(t.getServiceClientType()===D9.ServiceClientType.LOGS){let o=new Abt.LogsExportServiceClient(t.url,r,{"grpc.default_compression_algorithm":t.compression.valueOf()});t.serviceClient=o}}catch(o){(0,as.globalErrorHandler)(o)}t.grpcQueue.length>0&&t.grpcQueue.splice(0).forEach(s=>{t.send(s.objects,s.onSuccess,s.onError)})}vr.onInit=Ibt;function Cbt(t,e,r,o){if(t.serviceClient){let s=t.convert(e),a=Date.now()+t.timeoutMillis;t.serviceClient.export(s,t.metadata||new L9.Metadata,{deadline:a},i=>{i?(kf.diag.error("Service request",s),o(i)):(kf.diag.debug("Objects sent"),r())})}else t.grpcQueue.push({objects:e,onSuccess:r,onError:o})}vr.send=Cbt;function Rbt(t){var e;t.match(/^([\w]{1,8}):\/\//)||(t=`https://${t}`);let o=new Ebt.URL(t);return o.protocol==="unix:"?t:(o.pathname&&o.pathname!=="/"&&kf.diag.warn("URL path should not be set when using grpc, the path part of the URL will be ignored."),o.protocol!==""&&!(!((e=o.protocol)===null||e===void 0)&&e.match(/^(http)s?:$/))&&kf.diag.warn("URL protocol should be http(s)://. Using http://."),o.host)}vr.validateAndNormalizeUrl=Rbt;function d0e(t,e){let r;return t||(e.startsWith("https://")?r=!1:e.startsWith("http://")||e===vr.DEFAULT_COLLECTOR_URL?r=!0:r=Obt(),r?L9.credentials.createInsecure():f0e())}vr.configureSecurity=d0e;function Obt(){let t=(0,as.getEnv)().OTEL_EXPORTER_OTLP_TRACES_INSECURE||(0,as.getEnv)().OTEL_EXPORTER_OTLP_INSECURE;return t?t.toLowerCase()==="true":!1}function f0e(){let t=Nbt(),e=wbt(),r=Pbt();return L9.credentials.createSsl(t,e,r)}vr.useSecureConnection=f0e;function Nbt(){let t=(0,as.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE||(0,as.getEnv)().OTEL_EXPORTER_OTLP_CERTIFICATE;if(t)try{return G9.readFileSync(U9.resolve(process.cwd(),t))}catch{kf.diag.warn("Failed to read root certificate file");return}else return}function wbt(){let t=(0,as.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY||(0,as.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_KEY;if(t)try{return G9.readFileSync(U9.resolve(process.cwd(),t))}catch{kf.diag.warn("Failed to read client certificate private key file");return}else return}function Pbt(){let t=(0,as.getEnv)().OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE||(0,as.getEnv)().OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE;if(t)try{return G9.readFileSync(U9.resolve(process.cwd(),t))}catch{kf.diag.warn("Failed to read client certificate chain file");return}else return}function Mbt(t){return t===l0e.CompressionAlgorithm.NONE?$m.NONE:t===l0e.CompressionAlgorithm.GZIP?$m.GZIP:$m.NONE}var $m;(function(t){t[t.NONE=0]="NONE",t[t.GZIP=2]="GZIP"})($m=vr.GrpcCompressionAlgorithm||(vr.GrpcCompressionAlgorithm={}));function xbt(t){return t?Mbt(t):((0,as.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,as.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)==="gzip"?$m.GZIP:$m.NONE}vr.configureCompression=xbt});var g0e=h(x1=>{"use strict";l();Object.defineProperty(x1,"__esModule",{value:!0});x1.OTLPGRPCExporterNodeBase=void 0;var p0e=(j(),Y(K)),Bbt=Hf(),h0e=Ne(),Dbt=RE(),Lbt=hu(),V9=class extends Lbt.OTLPExporterBase{constructor(e={}){super(e),this.grpcQueue=[],this.serviceClient=void 0,e.headers&&p0e.diag.warn("Headers cannot be set when using grpc");let r=h0e.baggageUtils.parseKeyPairsIntoRecord((0,h0e.getEnv)().OTEL_EXPORTER_OTLP_HEADERS);this.metadata=e.metadata||new Bbt.Metadata;for(let[o,s]of Object.entries(r))this.metadata.set(o,s);this.compression=(0,Dbt.configureCompression)(e.compression)}_sendPromise(e,r,o){let s=new Promise((i,n)=>{this._send(this,e,i,n)}).then(r,o);this._sendingPromises.push(s);let a=()=>{let i=this._sendingPromises.indexOf(s);this._sendingPromises.splice(i,1)};s.then(a,a)}onInit(e){setImmediate(()=>{let{onInit:r}=RE();r(this,e)})}send(e,r,o){if(this._shutdownOnce.isCalled){p0e.diag.debug("Shutdown already started. Cannot send objects");return}this._send?this._sendPromise(e,r,o):setImmediate(()=>{let{send:s}=RE();this._send=s,this._sendPromise(e,r,o)})}onShutdown(){this.serviceClient&&this.serviceClient.close()}};x1.OTLPGRPCExporterNodeBase=V9});var m0e=h(Fn=>{"use strict";l();var Ubt=Fn&&Fn.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Gbt=Fn&&Fn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ubt(e,t,r)};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.GrpcCompressionAlgorithm=Fn.validateAndNormalizeUrl=Fn.DEFAULT_COLLECTOR_URL=Fn.ServiceClientType=void 0;Gbt(g0e(),Fn);var Vbt=B9();Object.defineProperty(Fn,"ServiceClientType",{enumerable:!0,get:function(){return Vbt.ServiceClientType}});var F9=RE();Object.defineProperty(Fn,"DEFAULT_COLLECTOR_URL",{enumerable:!0,get:function(){return F9.DEFAULT_COLLECTOR_URL}});Object.defineProperty(Fn,"validateAndNormalizeUrl",{enumerable:!0,get:function(){return F9.validateAndNormalizeUrl}});Object.defineProperty(Fn,"GrpcCompressionAlgorithm",{enumerable:!0,get:function(){return F9.GrpcCompressionAlgorithm}})});var y0e=h(B1=>{"use strict";l();Object.defineProperty(B1,"__esModule",{value:!0});B1.VERSION=void 0;B1.VERSION="0.48.0"});var _0e=h(U1=>{"use strict";l();Object.defineProperty(U1,"__esModule",{value:!0});U1.OTLPTraceExporter=void 0;var D1=Ne(),Fbt=Hf(),L1=m0e(),Hbt=Dw(),kbt=y0e(),Wbt={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${kbt.VERSION}`},H9=class extends L1.OTLPGRPCExporterNodeBase{constructor(e={}){super(e);let r=Object.assign(Object.assign({},Wbt),D1.baggageUtils.parseKeyPairsIntoRecord((0,D1.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS));this.metadata||(this.metadata=new Fbt.Metadata);for(let[o,s]of Object.entries(r))this.metadata.set(o,s)}convert(e){return(0,Hbt.createExportTraceServiceRequest)(e)}getDefaultUrl(e){return(0,L1.validateAndNormalizeUrl)(this.getUrlFromConfig(e))}getServiceClientType(){return L1.ServiceClientType.SPANS}getServiceProtoPath(){return"opentelemetry/proto/collector/trace/v1/trace_service.proto"}getUrlFromConfig(e){return typeof e.url=="string"?e.url:(0,D1.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||(0,D1.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT||L1.DEFAULT_COLLECTOR_URL}};U1.OTLPTraceExporter=H9});var k9=h(Wf=>{"use strict";l();var Zbt=Wf&&Wf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),qbt=Wf&&Wf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zbt(e,t,r)};Object.defineProperty(Wf,"__esModule",{value:!0});qbt(_0e(),Wf)});var S0e=h(V1=>{"use strict";l();Object.defineProperty(V1,"__esModule",{value:!0});V1.prepareSend=void 0;var W9=(j(),Y(K)),G1=Ne(),Ybt=require("http"),jbt=require("https"),Kbt=require("url");function Xbt(t,e){let r=Kbt.parse(t),o=Object.assign({method:"POST",headers:Object.assign({"Content-Type":"application/json"},e)},r);return function(a,i){if(a.length===0)return W9.diag.debug("Zipkin send with empty spans"),i({code:G1.ExportResultCode.SUCCESS});let{request:n}=o.protocol==="http:"?Ybt:jbt,u=n(o,d=>{let f="";d.on("data",g=>{f+=g}),d.on("end",()=>{let g=d.statusCode||0;return W9.diag.debug(`Zipkin response status code: ${g}, body: ${f}`),g<400?i({code:G1.ExportResultCode.SUCCESS}):i({code:G1.ExportResultCode.FAILED,error:new Error(`Got unexpected status code from zipkin: ${g}`)})})});u.on("error",d=>i({code:G1.ExportResultCode.FAILED,error:d}));let c=JSON.stringify(a);W9.diag.debug(`Zipkin request payload: ${c}`),u.write(c,"utf8"),u.end()}}V1.prepareSend=Xbt});var b0e=h(Zf=>{"use strict";l();var zbt=Zf&&Zf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Jbt=Zf&&Zf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zbt(e,t,r)};Object.defineProperty(Zf,"__esModule",{value:!0});Jbt(S0e(),Zf)});var Z9=h(qf=>{"use strict";l();var $bt=qf&&qf.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),Qbt=qf&&qf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$bt(e,t,r)};Object.defineProperty(qf,"__esModule",{value:!0});Qbt(b0e(),qf)});var E0e=h(OE=>{"use strict";l();Object.defineProperty(OE,"__esModule",{value:!0});OE.SpanKind=void 0;var eEt;(function(t){t.CLIENT="CLIENT",t.SERVER="SERVER",t.CONSUMER="CONSUMER",t.PRODUCER="PRODUCER"})(eEt=OE.SpanKind||(OE.SpanKind={}))});var A0e=h(No=>{"use strict";l();Object.defineProperty(No,"__esModule",{value:!0});No._toZipkinAnnotations=No._toZipkinTags=No.toZipkinSpan=No.defaultStatusErrorTagName=No.defaultStatusCodeTagName=void 0;var fl=(j(),Y(K)),q9=Ne(),F1=E0e(),tEt={[fl.SpanKind.CLIENT]:F1.SpanKind.CLIENT,[fl.SpanKind.SERVER]:F1.SpanKind.SERVER,[fl.SpanKind.CONSUMER]:F1.SpanKind.CONSUMER,[fl.SpanKind.PRODUCER]:F1.SpanKind.PRODUCER,[fl.SpanKind.INTERNAL]:void 0};No.defaultStatusCodeTagName="otel.status_code";No.defaultStatusErrorTagName="error";function rEt(t,e,r,o){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:tEt[t.kind],timestamp:(0,q9.hrTimeToMicroseconds)(t.startTime),duration:Math.round((0,q9.hrTimeToMicroseconds)(t.duration)),localEndpoint:{serviceName:e},tags:v0e(t,r,o),annotations:t.events.length?T0e(t.events):void 0}}No.toZipkinSpan=rEt;function v0e({attributes:t,resource:e,status:r,droppedAttributesCount:o,droppedEventsCount:s,droppedLinksCount:a},i,n){let u={};for(let c of Object.keys(t))u[c]=String(t[c]);return r.code!==fl.SpanStatusCode.UNSET&&(u[i]=String(fl.SpanStatusCode[r.code])),r.code===fl.SpanStatusCode.ERROR&&r.message&&(u[n]=r.message),o&&(u["otel.dropped_attributes_count"]=String(o)),s&&(u["otel.dropped_events_count"]=String(s)),a&&(u["otel.dropped_links_count"]=String(a)),Object.keys(e.attributes).forEach(c=>u[c]=String(e.attributes[c])),u}No._toZipkinTags=v0e;function T0e(t){return t.map(e=>({timestamp:Math.round((0,q9.hrTimeToMicroseconds)(e.time)),value:e.name}))}No._toZipkinAnnotations=T0e});var I0e=h(H1=>{"use strict";l();Object.defineProperty(H1,"__esModule",{value:!0});H1.prepareGetHeaders=void 0;function nEt(t){return function(){return t()}}H1.prepareGetHeaders=nEt});var N0e=h(k1=>{"use strict";l();Object.defineProperty(k1,"__esModule",{value:!0});k1.ZipkinExporter=void 0;var C0e=(j(),Y(K)),R0e=Ne(),O0e=Z9(),Y9=A0e(),j9=Ri(),iEt=I0e(),K9=class{constructor(e={}){this.DEFAULT_SERVICE_NAME="OpenTelemetry Service",this._sendingPromises=[],this._urlStr=e.url||(0,R0e.getEnv)().OTEL_EXPORTER_ZIPKIN_ENDPOINT,this._send=(0,O0e.prepareSend)(this._urlStr,e.headers),this._serviceName=e.serviceName,this._statusCodeTagName=e.statusCodeTagName||Y9.defaultStatusCodeTagName,this._statusDescriptionTagName=e.statusDescriptionTagName||Y9.defaultStatusErrorTagName,this._isShutdown=!1,typeof e.getExportRequestHeaders=="function"?this._getHeaders=(0,iEt.prepareGetHeaders)(e.getExportRequestHeaders):this._beforeSend=function(){}}export(e,r){let o=String(this._serviceName||e[0].resource.attributes[j9.SemanticResourceAttributes.SERVICE_NAME]||this.DEFAULT_SERVICE_NAME);if(C0e.diag.debug("Zipkin exporter export"),this._isShutdown){setTimeout(()=>r({code:R0e.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")}));return}let s=new Promise(i=>{this._sendSpans(e,o,n=>{i(),r(n)})});this._sendingPromises.push(s);let a=()=>{let i=this._sendingPromises.indexOf(s);this._sendingPromises.splice(i,1)};s.then(a,a)}shutdown(){return C0e.diag.debug("Zipkin exporter shutdown"),this._isShutdown=!0,this.forceFlush()}forceFlush(){return new Promise((e,r)=>{Promise.all(this._sendingPromises).then(()=>{e()},r)})}_beforeSend(){this._getHeaders&&(this._send=(0,O0e.prepareSend)(this._urlStr,this._getHeaders()))}_sendSpans(e,r,o){let s=e.map(a=>(0,Y9.toZipkinSpan)(a,String(a.attributes[j9.SemanticResourceAttributes.SERVICE_NAME]||a.resource.attributes[j9.SemanticResourceAttributes.SERVICE_NAME]||r),this._statusCodeTagName,this._statusDescriptionTagName));return this._beforeSend(),this._send(s,a=>{if(o)return o(a)})}};k1.ZipkinExporter=K9});var P0e=h(pl=>{"use strict";l();var oEt=pl&&pl.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),w0e=pl&&pl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oEt(e,t,r)};Object.defineProperty(pl,"__esModule",{value:!0});w0e(Z9(),pl);w0e(N0e(),pl)});var x0e=h(q1=>{"use strict";l();var X9;Object.defineProperty(q1,"__esModule",{value:!0});q1.TracerProviderWithEnvExporters=void 0;var Qm=(j(),Y(K)),W1=Ne(),Z1=hf(),sEt=qN(),M0e=$ve(),aEt=oTe(),uEt=k9(),cEt=P0e(),NE=class extends sEt.NodeTracerProvider{constructor(e={}){super(e),this._configuredExporters=[],this._hasSpanProcessors=!1;let r=this.filterBlanksAndNulls(Array.from(new Set((0,W1.getEnv)().OTEL_TRACES_EXPORTER.split(","))));r[0]==="none"?Qm.diag.warn('OTEL_TRACES_EXPORTER contains "none". SDK will not be initialized.'):r.length===0?(Qm.diag.warn("OTEL_TRACES_EXPORTER is empty. Using default otlp exporter."),r=["otlp"],this.createExportersFromList(r),this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(o=>{this.addSpanProcessor(o)})):(r.length>1&&r.includes("none")&&(Qm.diag.warn('OTEL_TRACES_EXPORTER contains "none" along with other exporters. Using default otlp exporter.'),r=["otlp"]),this.createExportersFromList(r),this._configuredExporters.length>0?(this._spanProcessors=this.configureSpanProcessors(this._configuredExporters),this._spanProcessors.forEach(o=>{this.addSpanProcessor(o)})):Qm.diag.warn("Unable to set up trace exporter(s) due to invalid exporter and/or protocol values."))}static configureOtlp(){let e=this.getOtlpProtocol();switch(e){case"grpc":return new uEt.OTLPTraceExporter;case"http/json":return new aEt.OTLPTraceExporter;case"http/protobuf":return new M0e.OTLPTraceExporter;default:return Qm.diag.warn(`Unsupported OTLP traces protocol: ${e}. Using http/protobuf.`),new M0e.OTLPTraceExporter}}static getOtlpProtocol(){var e,r,o;let s=(0,W1.getEnvWithoutDefaults)();return(o=(r=(e=s.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&e!==void 0?e:s.OTEL_EXPORTER_OTLP_PROTOCOL)!==null&&r!==void 0?r:(0,W1.getEnv)().OTEL_EXPORTER_OTLP_TRACES_PROTOCOL)!==null&&o!==void 0?o:(0,W1.getEnv)().OTEL_EXPORTER_OTLP_PROTOCOL}static configureJaeger(){try{let{JaegerExporter:e}=require("@opentelemetry/exporter-jaeger");return new e}catch(e){throw new Error(`Could not instantiate JaegerExporter. This could be due to the JaegerExporter's lack of support for bundling. If possible, use @opentelemetry/exporter-trace-otlp-proto instead. Original Error: ${e}`)}}addSpanProcessor(e){super.addSpanProcessor(e),this._hasSpanProcessors=!0}register(e){this._hasSpanProcessors&&super.register(e)}createExportersFromList(e){e.forEach(r=>{let o=this._getSpanExporter(r);o?this._configuredExporters.push(o):Qm.diag.warn(`Unrecognized OTEL_TRACES_EXPORTER value: ${r}.`)})}configureSpanProcessors(e){return e.map(r=>r instanceof Z1.ConsoleSpanExporter?new Z1.SimpleSpanProcessor(r):new Z1.BatchSpanProcessor(r))}filterBlanksAndNulls(e){return e.map(r=>r.trim()).filter(r=>r!=="null"&&r!=="")}};q1.TracerProviderWithEnvExporters=NE;X9=NE;NE._registeredExporters=new Map([["otlp",()=>X9.configureOtlp()],["zipkin",()=>new cEt.ZipkinExporter],["jaeger",()=>X9.configureJaeger()],["console",()=>new Z1.ConsoleSpanExporter]])});var D0e=h(Y1=>{"use strict";l();Object.defineProperty(Y1,"__esModule",{value:!0});Y1.parseInstrumentationOptions=void 0;function B0e(t=[]){let e=[];for(let r=0,o=t.length;r<o;r++){let s=t[r];if(Array.isArray(s)){let a=B0e(s);e=e.concat(a)}else typeof s=="function"?e.push(new s):s.instrumentationName&&e.push(s)}return e}Y1.parseInstrumentationOptions=B0e});var U0e=h(K1=>{"use strict";l();Object.defineProperty(K1,"__esModule",{value:!0});K1.NodeSDK=void 0;var j1=(j(),Y(K)),lEt=pk(),dEt=NZ(),wE=Cc(),fEt=Yk(),pEt=eN(),hEt=hf(),gEt=qN(),mEt=Ri(),yEt=x0e(),L0e=Ne(),_Et=D0e(),z9=class{constructor(e={}){var r,o,s,a;let i=(0,L0e.getEnv)(),n=(0,L0e.getEnvWithoutDefaults)();if(i.OTEL_SDK_DISABLED&&(this._disabled=!0),n.OTEL_LOG_LEVEL&&j1.diag.setLogger(new j1.DiagConsoleLogger,{logLevel:n.OTEL_LOG_LEVEL}),this._resource=(r=e.resource)!==null&&r!==void 0?r:new wE.Resource({}),this._resourceDetectors=(o=e.resourceDetectors)!==null&&o!==void 0?o:[wE.envDetector,wE.processDetector],this._serviceName=e.serviceName,this._autoDetectResources=(s=e.autoDetectResources)!==null&&s!==void 0?s:!0,e.spanProcessor||e.traceExporter){let c={};e.sampler&&(c.sampler=e.sampler),e.spanLimits&&(c.spanLimits=e.spanLimits),e.idGenerator&&(c.idGenerator=e.idGenerator);let d=(a=e.spanProcessor)!==null&&a!==void 0?a:new hEt.BatchSpanProcessor(e.traceExporter);this.configureTracerProvider(c,d,e.contextManager,e.textMapPropagator)}if(e.logRecordProcessor){let c={logRecordProcessor:e.logRecordProcessor};this.configureLoggerProvider(c)}if(e.metricReader||e.views){let c={};e.metricReader&&(c.reader=e.metricReader),e.views&&(c.views=e.views),this.configureMeterProvider(c)}let u=[];e.instrumentations&&(u=e.instrumentations),this._instrumentations=u}configureTracerProvider(e,r,o,s){this._tracerProviderConfig={tracerConfig:e,spanProcessor:r,contextManager:o,textMapPropagator:s}}configureLoggerProvider(e){if(this._loggerProviderConfig==null){this._loggerProviderConfig=e;return}if(this._loggerProviderConfig.logRecordProcessor!=null&&e.logRecordProcessor!=null)throw new Error("LogRecordProcessor passed but LogRecordProcessor has already been configured.");e.logRecordProcessor!=null&&(this._loggerProviderConfig.logRecordProcessor=e.logRecordProcessor)}configureMeterProvider(e){if(this._meterProviderConfig==null){this._meterProviderConfig=e;return}if(this._meterProviderConfig.views!=null&&e.views!=null)throw new Error("Views passed but Views have already been configured.");if(e.views!=null&&(this._meterProviderConfig.views=e.views),this._meterProviderConfig.reader!=null&&e.reader!=null)throw new Error("MetricReader passed but MetricReader has already been configured.");e.reader!=null&&(this._meterProviderConfig.reader=e.reader)}detectResources(){if(this._disabled)return;let e={detectors:this._resourceDetectors};this.addResource((0,wE.detectResourcesSync)(e))}addResource(e){this._resource=this._resource.merge(e)}start(){var e,r,o,s,a;if(this._disabled)return;(0,dEt.registerInstrumentations)({instrumentations:this._instrumentations}),this._autoDetectResources&&this.detectResources(),this._resource=this._serviceName===void 0?this._resource:this._resource.merge(new wE.Resource({[mEt.SemanticResourceAttributes.SERVICE_NAME]:this._serviceName}));let i=this._tracerProviderConfig?gEt.NodeTracerProvider:yEt.TracerProviderWithEnvExporters,n=new i(Object.assign(Object.assign({},(e=this._tracerProviderConfig)===null||e===void 0?void 0:e.tracerConfig),{resource:this._resource}));if(this._tracerProvider=n,this._tracerProviderConfig&&n.addSpanProcessor(this._tracerProviderConfig.spanProcessor),n.register({contextManager:(r=this._tracerProviderConfig)===null||r===void 0?void 0:r.contextManager,propagator:(o=this._tracerProviderConfig)===null||o===void 0?void 0:o.textMapPropagator}),this._loggerProviderConfig){let u=new fEt.LoggerProvider({resource:this._resource});u.addLogRecordProcessor(this._loggerProviderConfig.logRecordProcessor),this._loggerProvider=u,lEt.logs.setGlobalLoggerProvider(u)}if(this._meterProviderConfig){let u=[];this._meterProviderConfig.reader&&u.push(this._meterProviderConfig.reader);let c=new pEt.MeterProvider({resource:this._resource,views:(a=(s=this._meterProviderConfig)===null||s===void 0?void 0:s.views)!==null&&a!==void 0?a:[],readers:u});this._meterProvider=c,j1.metrics.setGlobalMeterProvider(c);for(let d of(0,_Et.parseInstrumentationOptions)(this._instrumentations))d.setMeterProvider(j1.metrics.getMeterProvider())}}shutdown(){let e=[];return this._tracerProvider&&e.push(this._tracerProvider.shutdown()),this._loggerProvider&&e.push(this._loggerProvider.shutdown()),this._meterProvider&&e.push(this._meterProvider.shutdown()),Promise.all(e).then(()=>{})}};K1.NodeSDK=z9});var V0e=h(G0e=>{"use strict";l();Object.defineProperty(G0e,"__esModule",{value:!0})});var H0e=h($t=>{"use strict";l();var SEt=$t&&$t.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),F0e=$t&&$t.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SEt(e,t,r)};Object.defineProperty($t,"__esModule",{value:!0});$t.tracing=$t.resources=$t.node=$t.metrics=$t.logs=$t.core=$t.contextBase=$t.api=void 0;$t.api=(j(),Y(K));$t.contextBase=(j(),Y(K));$t.core=Ne();$t.logs=Yk();$t.metrics=eN();$t.node=qN();$t.resources=Cc();$t.tracing=hf();F0e(U0e(),$t);F0e(V0e(),$t)});var k0e=h(PE=>{"use strict";l();Object.defineProperty(PE,"__esModule",{value:!0});PE.AttributeNames=void 0;var bEt;(function(t){t.HTTP_ERROR_NAME="http.error_name",t.HTTP_ERROR_MESSAGE="http.error_message",t.HTTP_STATUS_TEXT="http.status_text"})(bEt=PE.AttributeNames||(PE.AttributeNames={}))});var J9=h(Me=>{"use strict";l();Object.defineProperty(Me,"__esModule",{value:!0});Me.headerCapture=Me.getIncomingRequestMetricAttributesOnResponse=Me.getIncomingRequestAttributesOnResponse=Me.getIncomingRequestMetricAttributes=Me.getIncomingRequestAttributes=Me.getOutgoingRequestMetricAttributesOnResponse=Me.getOutgoingRequestAttributesOnResponse=Me.getAttributesFromHttpKind=Me.getOutgoingRequestMetricAttributes=Me.getOutgoingRequestAttributes=Me.extractHostnameAndPort=Me.isValidOptionsType=Me.getRequestInfo=Me.isCompressed=Me.setResponseContentLengthAttribute=Me.setRequestContentLengthAttribute=Me.setSpanWithError=Me.isIgnored=Me.satisfiesPattern=Me.parseResponseStatus=Me.getAbsoluteUrl=void 0;var ME=(j(),Y(K)),Te=Ri(),W0e=Ne(),X1=require("url"),z1=k0e(),EEt=(t,e,r="http:")=>{let o=t||{},s=o.protocol||r,a=(o.port||"").toString(),i=o.path||"/",n=o.host||o.hostname||e.host||"localhost";return n.indexOf(":")===-1&&a&&a!=="80"&&a!=="443"&&(n+=`:${a}`),`${s}//${n}${i}`};Me.getAbsoluteUrl=EEt;var vEt=(t,e)=>{let r=t===ME.SpanKind.CLIENT?400:500;return e&&e>=100&&e<r?ME.SpanStatusCode.UNSET:ME.SpanStatusCode.ERROR};Me.parseResponseStatus=vEt;var TEt=(t,e)=>{if(typeof e=="string")return e===t;if(e instanceof RegExp)return e.test(t);if(typeof e=="function")return e(t);throw new TypeError("Pattern is in unsupported datatype")};Me.satisfiesPattern=TEt;var AEt=(t,e,r)=>{if(!e)return!1;try{for(let o of e)if((0,Me.satisfiesPattern)(t,o))return!0}catch(o){r&&r(o)}return!1};Me.isIgnored=AEt;var IEt=(t,e)=>{let r=e.message;t.setAttributes({[z1.AttributeNames.HTTP_ERROR_NAME]:e.name,[z1.AttributeNames.HTTP_ERROR_MESSAGE]:r}),t.setStatus({code:ME.SpanStatusCode.ERROR,message:r}),t.recordException(e)};Me.setSpanWithError=IEt;var CEt=(t,e)=>{let r=Z0e(t.headers);r!==null&&((0,Me.isCompressed)(t.headers)?e[Te.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH]=r:e[Te.SemanticAttributes.HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED]=r)};Me.setRequestContentLengthAttribute=CEt;var REt=(t,e)=>{let r=Z0e(t.headers);r!==null&&((0,Me.isCompressed)(t.headers)?e[Te.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH]=r:e[Te.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED]=r)};Me.setResponseContentLengthAttribute=REt;function Z0e(t){let e=t["content-length"];if(e===void 0)return null;let r=parseInt(e,10);return isNaN(r)?null:r}var OEt=t=>{let e=t["content-encoding"];return!!e&&e!=="identity"};Me.isCompressed=OEt;var NEt=(t,e)=>{let r="/",o="",s;if(typeof t=="string")s=X1.parse(t),r=s.pathname||"/",o=`${s.protocol||"http:"}//${s.host}`,e!==void 0&&Object.assign(s,e);else if(t instanceof X1.URL)s={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,path:`${t.pathname||""}${t.search||""}`},t.port!==""&&(s.port=Number(t.port)),(t.username||t.password)&&(s.auth=`${t.username}:${t.password}`),r=t.pathname,o=t.origin,e!==void 0&&Object.assign(s,e);else{s=Object.assign({protocol:t.host?"http:":void 0},t),r=t.pathname,!r&&s.path&&(r=X1.parse(s.path).pathname||"/");let i=s.host||(s.port!=null?`${s.hostname}${s.port}`:s.hostname);o=`${s.protocol||"http:"}//${i}`}let a=s.method?s.method.toUpperCase():"GET";return{origin:o,pathname:r,method:a,optionsParsed:s}};Me.getRequestInfo=NEt;var wEt=t=>{if(!t)return!1;let e=typeof t;return e==="string"||e==="object"&&!Array.isArray(t)};Me.isValidOptionsType=wEt;var PEt=t=>{var e;if(t.hostname&&t.port)return{hostname:t.hostname,port:t.port};let r=((e=t.host)===null||e===void 0?void 0:e.match(/^([^:/ ]+)(:\d{1,5})?/))||null,o=t.hostname||(r===null?"localhost":r[1]),s=t.port;return s||(r&&r[2]?s=r[2].substring(1):s=t.protocol==="https:"?"443":"80"),{hostname:o,port:s}};Me.extractHostnameAndPort=PEt;var MEt=(t,e)=>{var r,o;let s=e.hostname,a=e.port,i=t.method,n=i?i.toUpperCase():"GET",u=t.headers||{},c=u["user-agent"],d={[Te.SemanticAttributes.HTTP_URL]:(0,Me.getAbsoluteUrl)(t,u,`${e.component}:`),[Te.SemanticAttributes.HTTP_METHOD]:n,[Te.SemanticAttributes.HTTP_TARGET]:t.path||"/",[Te.SemanticAttributes.NET_PEER_NAME]:s,[Te.SemanticAttributes.HTTP_HOST]:(o=(r=t.headers)===null||r===void 0?void 0:r.host)!==null&&o!==void 0?o:`${s}:${a}`};return c!==void 0&&(d[Te.SemanticAttributes.HTTP_USER_AGENT]=c),Object.assign(d,e.hookAttributes)};Me.getOutgoingRequestAttributes=MEt;var xEt=t=>{let e={};return e[Te.SemanticAttributes.HTTP_METHOD]=t[Te.SemanticAttributes.HTTP_METHOD],e[Te.SemanticAttributes.NET_PEER_NAME]=t[Te.SemanticAttributes.NET_PEER_NAME],e};Me.getOutgoingRequestMetricAttributes=xEt;var BEt=t=>{let e={};return t&&(e[Te.SemanticAttributes.HTTP_FLAVOR]=t,t.toUpperCase()!=="QUIC"?e[Te.SemanticAttributes.NET_TRANSPORT]=Te.NetTransportValues.IP_TCP:e[Te.SemanticAttributes.NET_TRANSPORT]=Te.NetTransportValues.IP_UDP),e};Me.getAttributesFromHttpKind=BEt;var DEt=t=>{let{statusCode:e,statusMessage:r,httpVersion:o,socket:s}=t,a={};if(s){let{remoteAddress:n,remotePort:u}=s;a[Te.SemanticAttributes.NET_PEER_IP]=n,a[Te.SemanticAttributes.NET_PEER_PORT]=u}(0,Me.setResponseContentLengthAttribute)(t,a),e&&(a[Te.SemanticAttributes.HTTP_STATUS_CODE]=e,a[z1.AttributeNames.HTTP_STATUS_TEXT]=(r||"").toUpperCase());let i=(0,Me.getAttributesFromHttpKind)(o);return Object.assign(a,i)};Me.getOutgoingRequestAttributesOnResponse=DEt;var LEt=t=>{let e={};return e[Te.SemanticAttributes.NET_PEER_PORT]=t[Te.SemanticAttributes.NET_PEER_PORT],e[Te.SemanticAttributes.HTTP_STATUS_CODE]=t[Te.SemanticAttributes.HTTP_STATUS_CODE],e[Te.SemanticAttributes.HTTP_FLAVOR]=t[Te.SemanticAttributes.HTTP_FLAVOR],e};Me.getOutgoingRequestMetricAttributesOnResponse=LEt;var UEt=(t,e)=>{let r=t.headers,o=r["user-agent"],s=r["x-forwarded-for"],a=t.method||"GET",i=t.httpVersion,n=t.url?X1.parse(t.url):null,u=n?.host||r.host,c=n?.hostname||u?.replace(/^(.*)(:[0-9]{1,5})/,"$1")||"localhost",d=e.serverName,f={[Te.SemanticAttributes.HTTP_URL]:(0,Me.getAbsoluteUrl)(n,r,`${e.component}:`),[Te.SemanticAttributes.HTTP_HOST]:u,[Te.SemanticAttributes.NET_HOST_NAME]:c,[Te.SemanticAttributes.HTTP_METHOD]:a,[Te.SemanticAttributes.HTTP_SCHEME]:e.component};typeof s=="string"&&(f[Te.SemanticAttributes.HTTP_CLIENT_IP]=s.split(",")[0]),typeof d=="string"&&(f[Te.SemanticAttributes.HTTP_SERVER_NAME]=d),n&&(f[Te.SemanticAttributes.HTTP_TARGET]=n.path||"/"),o!==void 0&&(f[Te.SemanticAttributes.HTTP_USER_AGENT]=o),(0,Me.setRequestContentLengthAttribute)(t,f);let g=(0,Me.getAttributesFromHttpKind)(i);return Object.assign(f,g,e.hookAttributes)};Me.getIncomingRequestAttributes=UEt;var GEt=t=>{let e={};return e[Te.SemanticAttributes.HTTP_SCHEME]=t[Te.SemanticAttributes.HTTP_SCHEME],e[Te.SemanticAttributes.HTTP_METHOD]=t[Te.SemanticAttributes.HTTP_METHOD],e[Te.SemanticAttributes.NET_HOST_NAME]=t[Te.SemanticAttributes.NET_HOST_NAME],e[Te.SemanticAttributes.HTTP_FLAVOR]=t[Te.SemanticAttributes.HTTP_FLAVOR],e};Me.getIncomingRequestMetricAttributes=GEt;var VEt=(t,e)=>{let{socket:r}=t,{statusCode:o,statusMessage:s}=e,a=(0,W0e.getRPCMetadata)(ME.context.active()),i={};if(r){let{localAddress:n,localPort:u,remoteAddress:c,remotePort:d}=r;i[Te.SemanticAttributes.NET_HOST_IP]=n,i[Te.SemanticAttributes.NET_HOST_PORT]=u,i[Te.SemanticAttributes.NET_PEER_IP]=c,i[Te.SemanticAttributes.NET_PEER_PORT]=d}return i[Te.SemanticAttributes.HTTP_STATUS_CODE]=o,i[z1.AttributeNames.HTTP_STATUS_TEXT]=(s||"").toUpperCase(),a?.type===W0e.RPCType.HTTP&&a.route!==void 0&&(i[Te.SemanticAttributes.HTTP_ROUTE]=a.route),i};Me.getIncomingRequestAttributesOnResponse=VEt;var FEt=t=>{let e={};return e[Te.SemanticAttributes.HTTP_STATUS_CODE]=t[Te.SemanticAttributes.HTTP_STATUS_CODE],e[Te.SemanticAttributes.NET_HOST_PORT]=t[Te.SemanticAttributes.NET_HOST_PORT],t[Te.SemanticAttributes.HTTP_ROUTE]!==void 0&&(e[Te.SemanticAttributes.HTTP_ROUTE]=t[Te.SemanticAttributes.HTTP_ROUTE]),e};Me.getIncomingRequestMetricAttributesOnResponse=FEt;function HEt(t,e){let r=new Map(e.map(o=>[o.toLowerCase(),o.toLowerCase().replace(/-/g,"_")]));return(o,s)=>{for(let[a,i]of r){let n=s(a);if(n===void 0)continue;let u=`http.${t}.header.${i}`;typeof n=="string"?o.setAttribute(u,[n]):Array.isArray(n)?o.setAttribute(u,n):o.setAttribute(u,[n])}}}Me.headerCapture=HEt});var q0e=h(J1=>{"use strict";l();Object.defineProperty(J1,"__esModule",{value:!0});J1.VERSION=void 0;J1.VERSION="0.48.0"});var X0e=h($1=>{"use strict";l();Object.defineProperty($1,"__esModule",{value:!0});$1.HttpInstrumentation=void 0;var ke=(j(),Y(K)),ey=Ne(),Y0e=Sf(),j0e=require("url"),Qt=J9(),kEt=q0e(),Fr=NZ(),K0e=Ne(),$9=require("events"),WEt=Ri(),Q9=class extends Fr.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-http",kEt.VERSION,e),this._spanNotEnded=new WeakSet,this._headerCapture=this._createHeaderCapture()}_updateMetricInstruments(){this._httpServerDurationHistogram=this.meter.createHistogram("http.server.duration",{description:"Measures the duration of inbound HTTP requests.",unit:"ms",valueType:ke.ValueType.DOUBLE}),this._httpClientDurationHistogram=this.meter.createHistogram("http.client.duration",{description:"Measures the duration of outbound HTTP requests.",unit:"ms",valueType:ke.ValueType.DOUBLE})}_getConfig(){return this._config}setConfig(e){super.setConfig(e),this._headerCapture=this._createHeaderCapture()}init(){return[this._getHttpsInstrumentation(),this._getHttpInstrumentation()]}_getHttpInstrumentation(){let e=process.versions.node;return new Fr.InstrumentationNodeModuleDefinition("http",["*"],r=>(this._diag.debug(`Applying patch for http@${e}`),(0,Fr.isWrapped)(r.request)&&this._unwrap(r,"request"),this._wrap(r,"request",this._getPatchOutgoingRequestFunction("http")),(0,Fr.isWrapped)(r.get)&&this._unwrap(r,"get"),this._wrap(r,"get",this._getPatchOutgoingGetFunction(r.request)),(0,Fr.isWrapped)(r.Server.prototype.emit)&&this._unwrap(r.Server.prototype,"emit"),this._wrap(r.Server.prototype,"emit",this._getPatchIncomingRequestFunction("http")),r),r=>{r!==void 0&&(this._diag.debug(`Removing patch for http@${e}`),this._unwrap(r,"request"),this._unwrap(r,"get"),this._unwrap(r.Server.prototype,"emit"))})}_getHttpsInstrumentation(){let e=process.versions.node;return new Fr.InstrumentationNodeModuleDefinition("https",["*"],r=>(this._diag.debug(`Applying patch for https@${e}`),(0,Fr.isWrapped)(r.request)&&this._unwrap(r,"request"),this._wrap(r,"request",this._getPatchHttpsOutgoingRequestFunction("https")),(0,Fr.isWrapped)(r.get)&&this._unwrap(r,"get"),this._wrap(r,"get",this._getPatchHttpsOutgoingGetFunction(r.request)),(0,Fr.isWrapped)(r.Server.prototype.emit)&&this._unwrap(r.Server.prototype,"emit"),this._wrap(r.Server.prototype,"emit",this._getPatchIncomingRequestFunction("https")),r),r=>{r!==void 0&&(this._diag.debug(`Removing patch for https@${e}`),this._unwrap(r,"request"),this._unwrap(r,"get"),this._unwrap(r.Server.prototype,"emit"))})}_getPatchIncomingRequestFunction(e){return r=>this._incomingRequestFunction(e,r)}_getPatchOutgoingRequestFunction(e){return r=>this._outgoingRequestFunction(e,r)}_getPatchOutgoingGetFunction(e){return r=>function(s,...a){let i=e(s,...a);return i.end(),i}}_getPatchHttpsOutgoingRequestFunction(e){return r=>{let o=this;return function(a,...i){var n;return e==="https"&&typeof a=="object"&&((n=a?.constructor)===null||n===void 0?void 0:n.name)!=="URL"&&(a=Object.assign({},a),o._setDefaultOptions(a)),o._getPatchOutgoingRequestFunction(e)(r)(a,...i)}}}_setDefaultOptions(e){e.protocol=e.protocol||"https:",e.port=e.port||443}_getPatchHttpsOutgoingGetFunction(e){return r=>{let o=this;return function(a,...i){return o._getPatchOutgoingGetFunction(e)(r)(a,...i)}}}_traceClientRequest(e,r,o,s){this._getConfig().requestHook&&this._callRequestHook(r,e);let a=!1;return e.prependListener("response",i=>{this._diag.debug("outgoingRequest on response()"),e.listenerCount("response")<=1&&i.resume();let n=Qt.getOutgoingRequestAttributesOnResponse(i);r.setAttributes(n),s=Object.assign(s,Qt.getOutgoingRequestMetricAttributesOnResponse(n)),this._getConfig().responseHook&&this._callResponseHook(r,i),this._headerCapture.client.captureRequestHeaders(r,c=>e.getHeader(c)),this._headerCapture.client.captureResponseHeaders(r,c=>i.headers[c]),ke.context.bind(ke.context.active(),i);let u=()=>{if(this._diag.debug("outgoingRequest on end()"),a)return;a=!0;let c;i.aborted&&!i.complete?c={code:ke.SpanStatusCode.ERROR}:c={code:Qt.parseResponseStatus(ke.SpanKind.CLIENT,i.statusCode)},r.setStatus(c),this._getConfig().applyCustomAttributesOnSpan&&(0,Fr.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(r,e,i),()=>{},!0),this._closeHttpSpan(r,ke.SpanKind.CLIENT,o,s)};i.on("end",u),Y0e.lt(process.version,"16.0.0")&&i.on("close",u),i.on($9.errorMonitor,c=>{this._diag.debug("outgoingRequest on error()",c),!a&&(a=!0,Qt.setSpanWithError(r,c),r.setStatus({code:ke.SpanStatusCode.ERROR,message:c.message}),this._closeHttpSpan(r,ke.SpanKind.CLIENT,o,s))})}),e.on("close",()=>{this._diag.debug("outgoingRequest on request close()"),!(e.aborted||a)&&(a=!0,this._closeHttpSpan(r,ke.SpanKind.CLIENT,o,s))}),e.on($9.errorMonitor,i=>{this._diag.debug("outgoingRequest on request error()",i),!a&&(a=!0,Qt.setSpanWithError(r,i),this._closeHttpSpan(r,ke.SpanKind.CLIENT,o,s))}),this._diag.debug("http.ClientRequest return request"),e}_incomingRequestFunction(e,r){let o=this;return function(a,...i){if(a!=="request")return r.apply(this,[a,...i]);let n=i[0],u=i[1],c=n.url&&j0e.parse(n.url).pathname||"/",d=n.method||"GET";if(o._diag.debug(`${e} instrumentation incomingRequest`),Qt.isIgnored(c,o._getConfig().ignoreIncomingPaths,M=>o._diag.error("caught ignoreIncomingPaths error: ",M))||(0,Fr.safeExecuteInTheMiddle)(()=>{var M,x;return(x=(M=o._getConfig()).ignoreIncomingRequestHook)===null||x===void 0?void 0:x.call(M,n)},M=>{M!=null&&o._diag.error("caught ignoreIncomingRequestHook error: ",M)},!0))return ke.context.with((0,ey.suppressTracing)(ke.context.active()),()=>(ke.context.bind(ke.context.active(),n),ke.context.bind(ke.context.active(),u),r.apply(this,[a,...i])));let f=n.headers,g=Qt.getIncomingRequestAttributes(n,{component:e,serverName:o._getConfig().serverName,hookAttributes:o._callStartSpanHook(n,o._getConfig().startIncomingSpanHook)}),y={kind:ke.SpanKind.SERVER,attributes:g},S=(0,ey.hrTime)(),T=Qt.getIncomingRequestMetricAttributes(g),C=ke.propagation.extract(ke.ROOT_CONTEXT,f),R=o._startHttpSpan(d,y,C),P={type:K0e.RPCType.HTTP,span:R};return ke.context.with((0,K0e.setRPCMetadata)(ke.trace.setSpan(C,R),P),()=>{ke.context.bind(ke.context.active(),n),ke.context.bind(ke.context.active(),u),o._getConfig().requestHook&&o._callRequestHook(R,n),o._getConfig().responseHook&&o._callResponseHook(R,u),o._headerCapture.server.captureRequestHeaders(R,x=>n.headers[x]);let M=!1;return u.on("close",()=>{M||o._onServerResponseFinish(n,u,R,T,S)}),u.on($9.errorMonitor,x=>{M=!0,o._onServerResponseError(R,T,S,x)}),(0,Fr.safeExecuteInTheMiddle)(()=>r.apply(this,[a,...i]),x=>{if(x)throw Qt.setSpanWithError(R,x),o._closeHttpSpan(R,ke.SpanKind.SERVER,S,T),x})})}}_outgoingRequestFunction(e,r){let o=this;return function(a,...i){if(!Qt.isValidOptionsType(a))return r.apply(this,[a,...i]);let n=typeof i[0]=="object"&&(typeof a=="string"||a instanceof j0e.URL)?i.shift():void 0,{origin:u,pathname:c,method:d,optionsParsed:f}=Qt.getRequestInfo(a,n);if(e==="http"&&Y0e.lt(process.version,"9.0.0")&&f.protocol==="https:")return r.apply(this,[f,...i]);if(Qt.isIgnored(u+c,o._getConfig().ignoreOutgoingUrls,U=>o._diag.error("caught ignoreOutgoingUrls error: ",U))||(0,Fr.safeExecuteInTheMiddle)(()=>{var U,D;return(D=(U=o._getConfig()).ignoreOutgoingRequestHook)===null||D===void 0?void 0:D.call(U,f)},U=>{U!=null&&o._diag.error("caught ignoreOutgoingRequestHook error: ",U)},!0))return r.apply(this,[f,...i]);let{hostname:g,port:y}=Qt.extractHostnameAndPort(f),S=Qt.getOutgoingRequestAttributes(f,{component:e,port:y,hostname:g,hookAttributes:o._callStartSpanHook(f,o._getConfig().startOutgoingSpanHook)}),T=(0,ey.hrTime)(),C=Qt.getOutgoingRequestMetricAttributes(S),R={kind:ke.SpanKind.CLIENT,attributes:S},P=o._startHttpSpan(d,R),M=ke.context.active(),x=ke.trace.setSpan(M,P);return f.headers?f.headers=Object.assign({},f.headers):f.headers={},ke.propagation.inject(x,f.headers),ke.context.with(x,()=>{let U=i[i.length-1];typeof U=="function"&&(i[i.length-1]=ke.context.bind(M,U));let D=(0,Fr.safeExecuteInTheMiddle)(()=>r.apply(this,[f,...i]),W=>{if(W)throw Qt.setSpanWithError(P,W),o._closeHttpSpan(P,ke.SpanKind.CLIENT,T,C),W});return o._diag.debug(`${e} instrumentation outgoingRequest`),ke.context.bind(M,D),o._traceClientRequest(D,P,T,C)})}}_onServerResponseFinish(e,r,o,s,a){let i=Qt.getIncomingRequestAttributesOnResponse(e,r);s=Object.assign(s,Qt.getIncomingRequestMetricAttributesOnResponse(i)),this._headerCapture.server.captureResponseHeaders(o,u=>r.getHeader(u)),o.setAttributes(i).setStatus({code:Qt.parseResponseStatus(ke.SpanKind.SERVER,r.statusCode)});let n=i[WEt.SemanticAttributes.HTTP_ROUTE];n&&o.updateName(`${e.method||"GET"} ${n}`),this._getConfig().applyCustomAttributesOnSpan&&(0,Fr.safeExecuteInTheMiddle)(()=>this._getConfig().applyCustomAttributesOnSpan(o,e,r),()=>{},!0),this._closeHttpSpan(o,ke.SpanKind.SERVER,a,s)}_onServerResponseError(e,r,o,s){Qt.setSpanWithError(e,s),this._closeHttpSpan(e,ke.SpanKind.SERVER,o,r)}_startHttpSpan(e,r,o=ke.context.active()){let s=r.kind===ke.SpanKind.CLIENT?this._getConfig().requireParentforOutgoingSpans:this._getConfig().requireParentforIncomingSpans,a,i=ke.trace.getSpan(o);return s===!0&&i===void 0?a=ke.trace.wrapSpanContext(ke.INVALID_SPAN_CONTEXT):s===!0&&i?.spanContext().isRemote?a=i:a=this.tracer.startSpan(e,r,o),this._spanNotEnded.add(a),a}_closeHttpSpan(e,r,o,s){if(!this._spanNotEnded.has(e))return;e.end(),this._spanNotEnded.delete(e);let a=(0,ey.hrTimeToMilliseconds)((0,ey.hrTimeDuration)(o,(0,ey.hrTime)()));r===ke.SpanKind.SERVER?this._httpServerDurationHistogram.record(a,s):r===ke.SpanKind.CLIENT&&this._httpClientDurationHistogram.record(a,s)}_callResponseHook(e,r){(0,Fr.safeExecuteInTheMiddle)(()=>this._getConfig().responseHook(e,r),()=>{},!0)}_callRequestHook(e,r){(0,Fr.safeExecuteInTheMiddle)(()=>this._getConfig().requestHook(e,r),()=>{},!0)}_callStartSpanHook(e,r){if(typeof r=="function")return(0,Fr.safeExecuteInTheMiddle)(()=>r(e),()=>{},!0)}_createHeaderCapture(){var e,r,o,s,a,i,n,u,c,d,f,g;let y=this._getConfig();return{client:{captureRequestHeaders:Qt.headerCapture("request",(o=(r=(e=y.headersToSpanAttributes)===null||e===void 0?void 0:e.client)===null||r===void 0?void 0:r.requestHeaders)!==null&&o!==void 0?o:[]),captureResponseHeaders:Qt.headerCapture("response",(i=(a=(s=y.headersToSpanAttributes)===null||s===void 0?void 0:s.client)===null||a===void 0?void 0:a.responseHeaders)!==null&&i!==void 0?i:[])},server:{captureRequestHeaders:Qt.headerCapture("request",(c=(u=(n=y.headersToSpanAttributes)===null||n===void 0?void 0:n.server)===null||u===void 0?void 0:u.requestHeaders)!==null&&c!==void 0?c:[]),captureResponseHeaders:Qt.headerCapture("response",(g=(f=(d=y.headersToSpanAttributes)===null||d===void 0?void 0:d.server)===null||f===void 0?void 0:f.responseHeaders)!==null&&g!==void 0?g:[])}}}};$1.HttpInstrumentation=Q9});var J0e=h(z0e=>{"use strict";l();Object.defineProperty(z0e,"__esModule",{value:!0})});var $0e=h(vu=>{"use strict";l();var ZEt=vu&&vu.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),ej=vu&&vu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZEt(e,t,r)};Object.defineProperty(vu,"__esModule",{value:!0});ej(X0e(),vu);ej(J0e(),vu);ej(J9(),vu)});var rj=h(Q1=>{"use strict";l();Object.defineProperty(Q1,"__esModule",{value:!0});Q1.AbstractAsyncHooksContextManager=void 0;var qEt=require("events"),YEt=["addListener","on","once","prependListener","prependOnceListener"],tj=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(e,r){return r instanceof qEt.EventEmitter?this._bindEventEmitter(e,r):typeof r=="function"?this._bindFunction(e,r):r}_bindFunction(e,r){let o=this,s=function(...a){return o.with(e,()=>r.apply(this,a))};return Object.defineProperty(s,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),s}_bindEventEmitter(e,r){return this._getPatchMap(r)!==void 0||(this._createPatchMap(r),YEt.forEach(s=>{r[s]!==void 0&&(r[s]=this._patchAddListener(r,r[s],e))}),typeof r.removeListener=="function"&&(r.removeListener=this._patchRemoveListener(r,r.removeListener)),typeof r.off=="function"&&(r.off=this._patchRemoveListener(r,r.off)),typeof r.removeAllListeners=="function"&&(r.removeAllListeners=this._patchRemoveAllListeners(r,r.removeAllListeners))),r}_patchRemoveListener(e,r){let o=this;return function(s,a){var i;let n=(i=o._getPatchMap(e))===null||i===void 0?void 0:i[s];if(n===void 0)return r.call(this,s,a);let u=n.get(a);return r.call(this,s,u||a)}}_patchRemoveAllListeners(e,r){let o=this;return function(s){let a=o._getPatchMap(e);return a!==void 0&&(arguments.length===0?o._createPatchMap(e):a[s]!==void 0&&delete a[s]),r.apply(this,arguments)}}_patchAddListener(e,r,o){let s=this;return function(a,i){if(s._wrapped)return r.call(this,a,i);let n=s._getPatchMap(e);n===void 0&&(n=s._createPatchMap(e));let u=n[a];u===void 0&&(u=new WeakMap,n[a]=u);let c=s.bind(o,i);u.set(i,c),s._wrapped=!0;try{return r.call(this,a,c)}finally{s._wrapped=!1}}}_createPatchMap(e){let r=Object.create(null);return e[this._kOtListeners]=r,r}_getPatchMap(e){return e[this._kOtListeners]}};Q1.AbstractAsyncHooksContextManager=tj});var Q0e=h(eM=>{"use strict";l();Object.defineProperty(eM,"__esModule",{value:!0});eM.AsyncHooksContextManager=void 0;var jEt=(j(),Y(K)),KEt=require("async_hooks"),XEt=rj(),nj=class extends XEt.AbstractAsyncHooksContextManager{constructor(){super(),this._contexts=new Map,this._stack=[],this._asyncHook=KEt.createHook({init:this._init.bind(this),before:this._before.bind(this),after:this._after.bind(this),destroy:this._destroy.bind(this),promiseResolve:this._destroy.bind(this)})}active(){var e;return(e=this._stack[this._stack.length-1])!==null&&e!==void 0?e:jEt.ROOT_CONTEXT}with(e,r,o,...s){this._enterContext(e);try{return r.call(o,...s)}finally{this._exitContext()}}enable(){return this._asyncHook.enable(),this}disable(){return this._asyncHook.disable(),this._contexts.clear(),this._stack=[],this}_init(e,r){if(r==="TIMERWRAP")return;let o=this._stack[this._stack.length-1];o!==void 0&&this._contexts.set(e,o)}_destroy(e){this._contexts.delete(e)}_before(e){let r=this._contexts.get(e);r!==void 0&&this._enterContext(r)}_after(){this._exitContext()}_enterContext(e){this._stack.push(e)}_exitContext(){this._stack.pop()}};eM.AsyncHooksContextManager=nj});var eRe=h(tM=>{"use strict";l();Object.defineProperty(tM,"__esModule",{value:!0});tM.AsyncLocalStorageContextManager=void 0;var zEt=(j(),Y(K)),JEt=require("async_hooks"),$Et=rj(),ij=class extends $Et.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new JEt.AsyncLocalStorage}active(){var e;return(e=this._asyncLocalStorage.getStore())!==null&&e!==void 0?e:zEt.ROOT_CONTEXT}with(e,r,o,...s){let a=o==null?r:r.bind(o);return this._asyncLocalStorage.run(e,a,...s)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}};tM.AsyncLocalStorageContextManager=ij});var rRe=h(hl=>{"use strict";l();var QEt=hl&&hl.__createBinding||(Object.create?function(t,e,r,o){o===void 0&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]}),tRe=hl&&hl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&QEt(e,t,r)};Object.defineProperty(hl,"__esModule",{value:!0});tRe(Q0e(),hl);tRe(eRe(),hl)});var di=h((Dor,nRe)=>{"use strict";l();var oj=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};nRe.exports=t=>{if(t.length>2)throw new oj(t);function e(o={}){this.options=o}e.prototype.transform=t;function r(o){return new e(o)}return r.Format=e,r}});var aRe=h((Uor,sRe)=>{l();var oRe={};sRe.exports=oRe;var iRe={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(iRe).forEach(function(t){var e=iRe[t],r=oRe[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var cRe=h((Vor,uRe)=>{"use strict";l();uRe.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),o=/^-{1,2}/.test(t)?"":"--",s=e.indexOf(o+t);return s!==-1&&(r===-1?!0:s<r)}});var dRe=h((Hor,lRe)=>{"use strict";l();var evt=require("os"),us=cRe(),Hn=process.env,ty=void 0;us("no-color")||us("no-colors")||us("color=false")?ty=!1:(us("color")||us("colors")||us("color=true")||us("color=always"))&&(ty=!0);"FORCE_COLOR"in Hn&&(ty=Hn.FORCE_COLOR.length===0||parseInt(Hn.FORCE_COLOR,10)!==0);function tvt(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function rvt(t){if(ty===!1)return 0;if(us("color=16m")||us("color=full")||us("color=truecolor"))return 3;if(us("color=256"))return 2;if(t&&!t.isTTY&&ty!==!0)return 0;var e=ty?1:0;if(process.platform==="win32"){var r=evt.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Hn)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(s){return s in Hn})||Hn.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Hn)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Hn.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Hn){var o=parseInt((Hn.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Hn.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Hn.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Hn.TERM)||"COLORTERM"in Hn?1:(Hn.TERM==="dumb",e)}function sj(t){var e=rvt(t);return tvt(e)}lRe.exports={supportsColor:sj,stdout:sj(process.stdout),stderr:sj(process.stderr)}});var pRe=h((Wor,fRe)=>{l();fRe.exports=function(e,r){var o="";e=e||"Run the trap, drop the bass",e=e.split("");var s={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(a){a=a.toLowerCase();var i=s[a]||[" "],n=Math.floor(Math.random()*i.length);typeof s[a]<"u"?o+=s[a][n]:o+=a}),o}});var gRe=h((qor,hRe)=>{l();hRe.exports=function(e,r){e=e||"   he is here   ";var o={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},s=[].concat(o.up,o.down,o.mid);function a(u){var c=Math.floor(Math.random()*u);return c}function i(u){var c=!1;return s.filter(function(d){c=d===u}),c}function n(u,c){var d="",f,g;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",u=u.split("");for(g in u)if(!i(g)){switch(d=d+u[g],f={up:0,down:0,mid:0},c.size){case"mini":f.up=a(8),f.mid=a(2),f.down=a(8);break;case"maxi":f.up=a(16)+3,f.mid=a(4)+1,f.down=a(64)+3;break;default:f.up=a(8)+1,f.mid=a(6)/2,f.down=a(8)+1;break}var y=["up","mid","down"];for(var S in y)for(var T=y[S],C=0;C<=f[T];C++)c[T]&&(d=d+o[T][a(o[T].length)])}return d}return n(e,r)}});var yRe=h((jor,mRe)=>{l();mRe.exports=function(t){return function(e,r,o){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var SRe=h((Xor,_Re)=>{l();_Re.exports=function(t){return function(e,r,o){return r%2===0?e:t.inverse(e)}}});var ERe=h((Jor,bRe)=>{l();bRe.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,o,s){return r===" "?r:t[e[o++%e.length]](r)}}});var TRe=h((Qor,vRe)=>{l();vRe.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,o,s){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var NRe=h((rsr,ORe)=>{l();var ct={};ORe.exports=ct;ct.themes={};var nvt=require("util"),Yf=ct.styles=aRe(),IRe=Object.defineProperties,ivt=new RegExp(/[\r\n]+/g);ct.supportsColor=dRe().supportsColor;typeof ct.enabled>"u"&&(ct.enabled=ct.supportsColor()!==!1);ct.enable=function(){ct.enabled=!0};ct.disable=function(){ct.enabled=!1};ct.stripColors=ct.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var tsr=ct.stylize=function(e,r){if(!ct.enabled)return e+"";var o=Yf[r];return!o&&r in ct?ct[r](e):o.open+e+o.close},ovt=/[|\\{}()[\]^$+*?.]/g,svt=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(ovt,"\\$&")};function CRe(t){var e=function r(){return uvt.apply(r,arguments)};return e._styles=t,e.__proto__=avt,e}var RRe=function(){var t={};return Yf.grey=Yf.gray,Object.keys(Yf).forEach(function(e){Yf[e].closeRe=new RegExp(svt(Yf[e].close),"g"),t[e]={get:function(){return CRe(this._styles.concat(e))}}}),t}(),avt=IRe(function(){},RRe);function uvt(){var t=Array.prototype.slice.call(arguments),e=t.map(function(i){return i!=null&&i.constructor===String?i:nvt.inspect(i)}).join(" ");if(!ct.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,o=this._styles,s=o.length;s--;){var a=Yf[o[s]];e=a.open+e.replace(a.closeRe,a.open)+a.close,r&&(e=e.replace(ivt,function(i){return a.close+i+a.open}))}return e}ct.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){ct[r]=function(o){if(typeof t[r]=="object"){var s=o;for(var a in t[r])s=ct[t[r][a]](s);return s}return ct[t[r]](o)}})(e)};function cvt(){var t={};return Object.keys(RRe).forEach(function(e){t[e]={get:function(){return CRe([e])}}}),t}var lvt=function(e,r){var o=r.split("");return o=o.map(e),o.join("")};ct.trap=pRe();ct.zalgo=gRe();ct.maps={};ct.maps.america=yRe()(ct);ct.maps.zebra=SRe()(ct);ct.maps.rainbow=ERe()(ct);ct.maps.random=TRe()(ct);for(ARe in ct.maps)(function(t){ct[t]=function(e){return lvt(ct.maps[t],e)}})(ARe);var ARe;IRe(ct,cvt())});var aj=h((isr,wRe)=>{l();var dvt=NRe();wRe.exports=dvt});var PRe=h(uj=>{"use strict";l();uj.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};uj.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var MRe=h(cj=>{"use strict";l();cj.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};cj.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var xRe=h(lj=>{"use strict";l();lj.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};lj.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var BRe=h(rM=>{"use strict";l();Object.defineProperty(rM,"cli",{value:PRe()});Object.defineProperty(rM,"npm",{value:MRe()});Object.defineProperty(rM,"syslog",{value:xRe()})});var gr=h(xE=>{"use strict";l();Object.defineProperty(xE,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(xE,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(xE,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(xE,"configs",{value:BRe()})});var oM=h((msr,iM)=>{"use strict";l();var pj=aj(),{LEVEL:dj,MESSAGE:fj}=gr();pj.enabled=!0;var DRe=/\s+/,nM=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((o,s)=>(o[s]=DRe.test(e[s])?e[s].split(DRe):e[s],o),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,o){if(typeof o>"u"&&(o=r),!Array.isArray(t.allColors[e]))return pj[t.allColors[e]](o);for(let s=0,a=t.allColors[e].length;s<a;s++)o=pj[t.allColors[e][s]](o);return o}transform(e,r){return r.all&&typeof e[fj]=="string"&&(e[fj]=this.colorize(e[dj],e.level,e[fj])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[dj],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[dj],e.level,e.message)),e}};iM.exports=t=>new nM(t);iM.exports.Colorizer=iM.exports.Format=nM});var URe=h((_sr,LRe)=>{"use strict";l();var{Colorizer:fvt}=oM();LRe.exports=t=>(fvt.addColors(t.colors||t),t)});var VRe=h((bsr,GRe)=>{"use strict";l();var pvt=di();GRe.exports=pvt(t=>(t.message=`	${t.message}`,t))});var kRe=h((vsr,HRe)=>{"use strict";l();var hvt=di(),{LEVEL:FRe,MESSAGE:hj}=gr();HRe.exports=hvt((t,{stack:e,cause:r})=>{if(t instanceof Error){let s=Object.assign({},t,{level:t.level,[FRe]:t[FRe]||t.level,message:t.message,[hj]:t[hj]||t.message});return e&&(s.stack=t.stack),r&&(s.cause=t.cause),s}if(!(t.message instanceof Error))return t;let o=t.message;return Object.assign(t,o),t.message=o.message,t[hj]=o.message,e&&(t.stack=o.stack),r&&(t.cause=o.cause),t})});var mj=h((Asr,aM)=>{"use strict";l();var{configs:gvt,LEVEL:WRe,MESSAGE:gj}=gr(),sM=class t{constructor(e={levels:gvt.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(o=>o.length);return Math.max(...r)}static paddingForLevel(e,r,o){let s=o+1-e.length,a=Math.floor(s/r.length);return`${r}${r.repeat(a)}`.slice(0,s)}static paddingForLevels(e,r=" "){let o=t.getLongestLevel(e);return Object.keys(e).reduce((s,a)=>(s[a]=t.paddingForLevel(a,r,o),s),{})}transform(e,r){return e.message=`${this.paddings[e[WRe]]}${e.message}`,e[gj]&&(e[gj]=`${this.paddings[e[WRe]]}${e[gj]}`),e}};aM.exports=t=>new sM(t);aM.exports.Padder=aM.exports.Format=sM});var ZRe=h((Csr,yj)=>{"use strict";l();var{Colorizer:mvt}=oM(),{Padder:yvt}=mj(),{configs:_vt,MESSAGE:Svt}=gr(),uM=class{constructor(e={}){e.levels||(e.levels=_vt.cli.levels),this.colorizer=new mvt(e),this.padder=new yvt(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[Svt]=`${e.level}:${e.message}`,e}};yj.exports=t=>new uM(t);yj.exports.Format=uM});var YRe=h((Osr,_j)=>{"use strict";l();var bvt=di();function qRe(t){if(t.every(Evt))return e=>{let r=e;for(let o=0;o<t.length;o++)if(r=t[o].transform(r,t[o].options),!r)return!1;return r}}function Evt(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}_j.exports=(...t)=>{let e=bvt(qRe(t)),r=e();return r.Format=e.Format,r};_j.exports.cascade=qRe});var BE=h((vj,zRe)=>{"use strict";l();var{hasOwnProperty:cM}=Object.prototype,Kf=Ej();Kf.configure=Ej;Kf.stringify=Kf;Kf.default=Kf;vj.stringify=Kf;vj.configure=Ej;zRe.exports=Kf;var vvt=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;function gl(t){return t.length<5e3&&!vvt.test(t)?`"${t}"`:JSON.stringify(t)}function Sj(t){if(t.length>200)return t.sort();for(let e=1;e<t.length;e++){let r=t[e],o=e;for(;o!==0&&t[o-1]>r;)t[o]=t[o-1],o--;t[o]=r}return t}var Tvt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function bj(t){return Tvt.call(t)!==void 0&&t.length!==0}function jRe(t,e,r){t.length<r&&(r=t.length);let o=e===","?"":" ",s=`"0":${o}${t[0]}`;for(let a=1;a<r;a++)s+=`${e}"${a}":${o}${t[a]}`;return s}function Avt(t){if(cM.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function KRe(t,e){let r;if(cM.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function XRe(t,e){let r;if(cM.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function jf(t){return t===1?"1 item":`${t} items`}function Ivt(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function Cvt(t){if(cM.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let o=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(o+=` (${r.toString()})`),new Error(o)}}}function Ej(t){t={...t};let e=Cvt(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=Avt(t),o=KRe(t,"bigint"),s=KRe(t,"deterministic"),a=XRe(t,"maximumDepth"),i=XRe(t,"maximumBreadth");function n(g,y,S,T,C,R){let P=y[g];switch(typeof P=="object"&&P!==null&&typeof P.toJSON=="function"&&(P=P.toJSON(g)),P=T.call(y,g,P),typeof P){case"string":return gl(P);case"object":{if(P===null)return"null";if(S.indexOf(P)!==-1)return r;let M="",x=",",U=R;if(Array.isArray(P)){if(P.length===0)return"[]";if(a<S.length+1)return'"[Array]"';S.push(P),C!==""&&(R+=C,M+=`
${R}`,x=`,
${R}`);let L=Math.min(P.length,i),le=0;for(;le<L-1;le++){let O=n(String(le),P,S,T,C,R);M+=O!==void 0?O:"null",M+=x}let k=n(String(le),P,S,T,C,R);if(M+=k!==void 0?k:"null",P.length-1>i){let O=P.length-i-1;M+=`${x}"... ${jf(O)} not stringified"`}return C!==""&&(M+=`
${U}`),S.pop(),`[${M}]`}let D=Object.keys(P),W=D.length;if(W===0)return"{}";if(a<S.length+1)return'"[Object]"';let re="",ie="";C!==""&&(R+=C,x=`,
${R}`,re=" ");let _e=Math.min(W,i);s&&!bj(P)&&(D=Sj(D)),S.push(P);for(let L=0;L<_e;L++){let le=D[L],k=n(le,P,S,T,C,R);k!==void 0&&(M+=`${ie}${gl(le)}:${re}${k}`,ie=x)}if(W>i){let L=W-i;M+=`${ie}"...":${re}"${jf(L)} not stringified"`,ie=x}return C!==""&&ie.length>1&&(M=`
${R}${M}
${U}`),S.pop(),`{${M}}`}case"number":return isFinite(P)?String(P):e?e(P):"null";case"boolean":return P===!0?"true":"false";case"undefined":return;case"bigint":if(o)return String(P);default:return e?e(P):void 0}}function u(g,y,S,T,C,R){switch(typeof y=="object"&&y!==null&&typeof y.toJSON=="function"&&(y=y.toJSON(g)),typeof y){case"string":return gl(y);case"object":{if(y===null)return"null";if(S.indexOf(y)!==-1)return r;let P=R,M="",x=",";if(Array.isArray(y)){if(y.length===0)return"[]";if(a<S.length+1)return'"[Array]"';S.push(y),C!==""&&(R+=C,M+=`
${R}`,x=`,
${R}`);let W=Math.min(y.length,i),re=0;for(;re<W-1;re++){let _e=u(String(re),y[re],S,T,C,R);M+=_e!==void 0?_e:"null",M+=x}let ie=u(String(re),y[re],S,T,C,R);if(M+=ie!==void 0?ie:"null",y.length-1>i){let _e=y.length-i-1;M+=`${x}"... ${jf(_e)} not stringified"`}return C!==""&&(M+=`
${P}`),S.pop(),`[${M}]`}S.push(y);let U="";C!==""&&(R+=C,x=`,
${R}`,U=" ");let D="";for(let W of T){let re=u(W,y[W],S,T,C,R);re!==void 0&&(M+=`${D}${gl(W)}:${U}${re}`,D=x)}return C!==""&&D.length>1&&(M=`
${R}${M}
${P}`),S.pop(),`{${M}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(o)return String(y);default:return e?e(y):void 0}}function c(g,y,S,T,C){switch(typeof y){case"string":return gl(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(g),typeof y!="object")return c(g,y,S,T,C);if(y===null)return"null"}if(S.indexOf(y)!==-1)return r;let R=C;if(Array.isArray(y)){if(y.length===0)return"[]";if(a<S.length+1)return'"[Array]"';S.push(y),C+=T;let re=`
${C}`,ie=`,
${C}`,_e=Math.min(y.length,i),L=0;for(;L<_e-1;L++){let k=c(String(L),y[L],S,T,C);re+=k!==void 0?k:"null",re+=ie}let le=c(String(L),y[L],S,T,C);if(re+=le!==void 0?le:"null",y.length-1>i){let k=y.length-i-1;re+=`${ie}"... ${jf(k)} not stringified"`}return re+=`
${R}`,S.pop(),`[${re}]`}let P=Object.keys(y),M=P.length;if(M===0)return"{}";if(a<S.length+1)return'"[Object]"';C+=T;let x=`,
${C}`,U="",D="",W=Math.min(M,i);bj(y)&&(U+=jRe(y,x,i),P=P.slice(y.length),W-=y.length,D=x),s&&(P=Sj(P)),S.push(y);for(let re=0;re<W;re++){let ie=P[re],_e=c(ie,y[ie],S,T,C);_e!==void 0&&(U+=`${D}${gl(ie)}: ${_e}`,D=x)}if(M>i){let re=M-i;U+=`${D}"...": "${jf(re)} not stringified"`,D=x}return D!==""&&(U=`
${C}${U}
${R}`),S.pop(),`{${U}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(o)return String(y);default:return e?e(y):void 0}}function d(g,y,S){switch(typeof y){case"string":return gl(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(g),typeof y!="object")return d(g,y,S);if(y===null)return"null"}if(S.indexOf(y)!==-1)return r;let T="";if(Array.isArray(y)){if(y.length===0)return"[]";if(a<S.length+1)return'"[Array]"';S.push(y);let x=Math.min(y.length,i),U=0;for(;U<x-1;U++){let W=d(String(U),y[U],S);T+=W!==void 0?W:"null",T+=","}let D=d(String(U),y[U],S);if(T+=D!==void 0?D:"null",y.length-1>i){let W=y.length-i-1;T+=`,"... ${jf(W)} not stringified"`}return S.pop(),`[${T}]`}let C=Object.keys(y),R=C.length;if(R===0)return"{}";if(a<S.length+1)return'"[Object]"';let P="",M=Math.min(R,i);bj(y)&&(T+=jRe(y,",",i),C=C.slice(y.length),M-=y.length,P=","),s&&(C=Sj(C)),S.push(y);for(let x=0;x<M;x++){let U=C[x],D=d(U,y[U],S);D!==void 0&&(T+=`${P}${gl(U)}:${D}`,P=",")}if(R>i){let x=R-i;T+=`${P}"...":"${jf(x)} not stringified"`}return S.pop(),`{${T}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(o)return String(y);default:return e?e(y):void 0}}function f(g,y,S){if(arguments.length>1){let T="";if(typeof S=="number"?T=" ".repeat(Math.min(S,10)):typeof S=="string"&&(T=S.slice(0,10)),y!=null){if(typeof y=="function")return n("",{"":g},[],y,T,"");if(Array.isArray(y))return u("",g,[],Ivt(y),T,"")}if(T.length!==0)return c("",g,[],T,"")}return d("",g,[])}return f}});var Tj=h((Psr,JRe)=>{"use strict";l();var Rvt=di(),{MESSAGE:Ovt}=gr(),Nvt=BE();function wvt(t,e){return typeof e=="bigint"?e.toString():e}JRe.exports=Rvt((t,e)=>{let r=Nvt.configure(e);return t[Ovt]=r(t,e.replacer||wvt,e.space),t})});var QRe=h((xsr,$Re)=>{"use strict";l();var Pvt=di();$Re.exports=Pvt((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var tOe=h((Dsr,eOe)=>{"use strict";l();var Mvt=di(),{MESSAGE:xvt}=gr(),Bvt=BE();eOe.exports=Mvt(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[xvt]=Bvt(e),t})});var nOe=h((Usr,rOe)=>{"use strict";l();var Dvt=di();function Lvt(t,e,r){let o=e.reduce((a,i)=>(a[i]=t[i],delete t[i],a),{}),s=Object.keys(t).reduce((a,i)=>(a[i]=t[i],delete t[i],a),{});return Object.assign(t,o,{[r]:s}),t}function Uvt(t,e,r){return t[r]=e.reduce((o,s)=>(o[s]=t[s],delete t[s],o),{}),t}rOe.exports=Dvt((t,e={})=>{let r="metadata";e.key&&(r=e.key);let o=[];return!e.fillExcept&&!e.fillWith&&(o.push("level"),o.push("message")),e.fillExcept&&(o=e.fillExcept),o.length>0?Lvt(t,o,r):e.fillWith?Uvt(t,e.fillWith,r):t})});var Aj=h((Vsr,iOe)=>{l();var ry=1e3,ny=ry*60,iy=ny*60,Xf=iy*24,Gvt=Xf*7,Vvt=Xf*365.25;iOe.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Fvt(t);if(r==="number"&&isFinite(t))return e.long?kvt(t):Hvt(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Fvt(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*Vvt;case"weeks":case"week":case"w":return r*Gvt;case"days":case"day":case"d":return r*Xf;case"hours":case"hour":case"hrs":case"hr":case"h":return r*iy;case"minutes":case"minute":case"mins":case"min":case"m":return r*ny;case"seconds":case"second":case"secs":case"sec":case"s":return r*ry;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Hvt(t){var e=Math.abs(t);return e>=Xf?Math.round(t/Xf)+"d":e>=iy?Math.round(t/iy)+"h":e>=ny?Math.round(t/ny)+"m":e>=ry?Math.round(t/ry)+"s":t+"ms"}function kvt(t){var e=Math.abs(t);return e>=Xf?lM(t,e,Xf,"day"):e>=iy?lM(t,e,iy,"hour"):e>=ny?lM(t,e,ny,"minute"):e>=ry?lM(t,e,ry,"second"):t+" ms"}function lM(t,e,r,o){var s=e>=r*1.5;return Math.round(t/r)+" "+o+(s?"s":"")}});var sOe=h((DE,oOe)=>{"use strict";l();var Wvt=di(),Zvt=Aj();oOe.exports=Wvt(t=>{let e=+new Date;return DE.diff=e-(DE.prevTime||e),DE.prevTime=e,t.ms=`+${Zvt(DE.diff)}`,t})});var cOe=h((ksr,uOe)=>{"use strict";l();var qvt=require("util").inspect,Yvt=di(),{LEVEL:jvt,MESSAGE:aOe,SPLAT:Kvt}=gr();uOe.exports=Yvt((t,e={})=>{let r=Object.assign({},t);return delete r[jvt],delete r[aOe],delete r[Kvt],t[aOe]=qvt(r,!1,e.depth||null,e.colorize),t})});var lOe=h((Zsr,fM)=>{"use strict";l();var{MESSAGE:Xvt}=gr(),dM=class{constructor(e){this.template=e}transform(e){return e[Xvt]=this.template(e),e}};fM.exports=t=>new dM(t);fM.exports.Printf=fM.exports.Format=dM});var pOe=h((Ysr,fOe)=>{"use strict";l();var zvt=di(),{MESSAGE:dOe}=gr(),Jvt=BE();fOe.exports=zvt(t=>{let e=Jvt(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[dOe]=`${t.level}:${r} ${t.message} ${e}`:t[dOe]=`${t.level}:${r} ${t.message}`,t})});var mOe=h((Ksr,gOe)=>{"use strict";l();var $vt=require("util"),{SPLAT:hOe}=gr(),Qvt=/%[scdjifoO%]/g,eTt=/%%/g,Ij=class{constructor(e){this.options=e}_splat(e,r){let o=e.message,s=e[hOe]||e.splat||[],a=o.match(eTt),i=a&&a.length||0,u=r.length-i-s.length,c=u<0?s.splice(u,-1*u):[],d=c.length;if(d)for(let f=0;f<d;f++)Object.assign(e,c[f]);return e.message=$vt.format(o,...s),e}transform(e){let r=e.message,o=e[hOe]||e.splat;if(!o||!o.length)return e;let s=r&&r.match&&r.match(Qvt);if(!s&&(o||o.length)){let a=o.length>1?o.splice(0):o,i=a.length;if(i)for(let n=0;n<i;n++)Object.assign(e,a[n]);return e}return s?this._splat(e,s):e}};gOe.exports=t=>new Ij(t)});var _Oe=h((pM,yOe)=>{l();(function(t,e){typeof pM=="object"&&typeof yOe<"u"?e(pM):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(pM,function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",o="\\d\\d",s="\\d{3}",a="\\d{4}",i="[^\\s]+",n=/\[([^]*?)\]/gm;function u(H,J){for(var ce=[],Oe=0,ue=H.length;Oe<ue;Oe++)ce.push(H[Oe].substr(0,J));return ce}var c=function(H){return function(J,ce){var Oe=ce[H].map(function(st){return st.toLowerCase()}),ue=Oe.indexOf(J.toLowerCase());return ue>-1?ue:null}};function d(H){for(var J=[],ce=1;ce<arguments.length;ce++)J[ce-1]=arguments[ce];for(var Oe=0,ue=J;Oe<ue.length;Oe++){var st=ue[Oe];for(var $e in st)H[$e]=st[$e]}return H}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],y=u(g,3),S=u(f,3),T={dayNamesShort:S,dayNames:f,monthNamesShort:y,monthNames:g,amPm:["am","pm"],DoFn:function(H){return H+["th","st","nd","rd"][H%10>3?0:(H-H%10!==10?1:0)*H%10]}},C=d({},T),R=function(H){return C=d(C,H)},P=function(H){return H.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},M=function(H,J){for(J===void 0&&(J=2),H=String(H);H.length<J;)H="0"+H;return H},x={D:function(H){return String(H.getDate())},DD:function(H){return M(H.getDate())},Do:function(H,J){return J.DoFn(H.getDate())},d:function(H){return String(H.getDay())},dd:function(H){return M(H.getDay())},ddd:function(H,J){return J.dayNamesShort[H.getDay()]},dddd:function(H,J){return J.dayNames[H.getDay()]},M:function(H){return String(H.getMonth()+1)},MM:function(H){return M(H.getMonth()+1)},MMM:function(H,J){return J.monthNamesShort[H.getMonth()]},MMMM:function(H,J){return J.monthNames[H.getMonth()]},YY:function(H){return M(String(H.getFullYear()),4).substr(2)},YYYY:function(H){return M(H.getFullYear(),4)},h:function(H){return String(H.getHours()%12||12)},hh:function(H){return M(H.getHours()%12||12)},H:function(H){return String(H.getHours())},HH:function(H){return M(H.getHours())},m:function(H){return String(H.getMinutes())},mm:function(H){return M(H.getMinutes())},s:function(H){return String(H.getSeconds())},ss:function(H){return M(H.getSeconds())},S:function(H){return String(Math.round(H.getMilliseconds()/100))},SS:function(H){return M(Math.round(H.getMilliseconds()/10),2)},SSS:function(H){return M(H.getMilliseconds(),3)},a:function(H,J){return H.getHours()<12?J.amPm[0]:J.amPm[1]},A:function(H,J){return H.getHours()<12?J.amPm[0].toUpperCase():J.amPm[1].toUpperCase()},ZZ:function(H){var J=H.getTimezoneOffset();return(J>0?"-":"+")+M(Math.floor(Math.abs(J)/60)*100+Math.abs(J)%60,4)},Z:function(H){var J=H.getTimezoneOffset();return(J>0?"-":"+")+M(Math.floor(Math.abs(J)/60),2)+":"+M(Math.abs(J)%60,2)}},U=function(H){return+H-1},D=[null,r],W=[null,i],re=["isPm",i,function(H,J){var ce=H.toLowerCase();return ce===J.amPm[0]?0:ce===J.amPm[1]?1:null}],ie=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(H){var J=(H+"").match(/([+-]|\d\d)/gi);if(J){var ce=+J[1]*60+parseInt(J[2],10);return J[0]==="+"?ce:-ce}return 0}],_e={D:["day",r],DD:["day",o],Do:["day",r+i,function(H){return parseInt(H,10)}],M:["month",r,U],MM:["month",o,U],YY:["year",o,function(H){var J=new Date,ce=+(""+J.getFullYear()).substr(0,2);return+(""+(+H>68?ce-1:ce)+H)}],h:["hour",r,void 0,"isPm"],hh:["hour",o,void 0,"isPm"],H:["hour",r],HH:["hour",o],m:["minute",r],mm:["minute",o],s:["second",r],ss:["second",o],YYYY:["year",a],S:["millisecond","\\d",function(H){return+H*100}],SS:["millisecond",o,function(H){return+H*10}],SSS:["millisecond",s],d:D,dd:D,ddd:W,dddd:W,MMM:["month",i,c("monthNamesShort")],MMMM:["month",i,c("monthNames")],a:re,A:re,ZZ:ie,Z:ie},L={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},le=function(H){return d(L,H)},k=function(H,J,ce){if(J===void 0&&(J=L.default),ce===void 0&&(ce={}),typeof H=="number"&&(H=new Date(H)),Object.prototype.toString.call(H)!=="[object Date]"||isNaN(H.getTime()))throw new Error("Invalid Date pass to format");J=L[J]||J;var Oe=[];J=J.replace(n,function(st,$e){return Oe.push($e),"@@@"});var ue=d(d({},C),ce);return J=J.replace(e,function(st){return x[st](H,ue)}),J.replace(/@@@/g,function(){return Oe.shift()})};function O(H,J,ce){if(ce===void 0&&(ce={}),typeof J!="string")throw new Error("Invalid format in fecha parse");if(J=L[J]||J,H.length>1e3)return null;var Oe=new Date,ue={year:Oe.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},st=[],$e=[],Ge=J.replace(n,function(Wr,jt){return $e.push(P(jt)),"@@@"}),at={},He={};Ge=P(Ge).replace(e,function(Wr){var jt=_e[Wr],mi=jt[0],xy=jt[1],wn=jt[3];if(at[mi])throw new Error("Invalid format. "+mi+" specified twice in format");return at[mi]=!0,wn&&(He[wn]=!0),st.push(jt),"("+xy+")"}),Object.keys(He).forEach(function(Wr){if(!at[Wr])throw new Error("Invalid format. "+Wr+" is required in specified format")}),Ge=Ge.replace(/@@@/g,function(){return $e.shift()});var vt=H.match(new RegExp(Ge,"i"));if(!vt)return null;for(var ar=d(d({},C),ce),Ze=1;Ze<vt.length;Ze++){var Q=st[Ze-1],ee=Q[0],oe=Q[2],Ee=oe?oe(vt[Ze],ar):+vt[Ze];if(Ee==null)return null;ue[ee]=Ee}ue.isPm===1&&ue.hour!=null&&+ue.hour!=12?ue.hour=+ue.hour+12:ue.isPm===0&&+ue.hour==12&&(ue.hour=0);var ye;if(ue.timezoneOffset==null){ye=new Date(ue.year,ue.month,ue.day,ue.hour,ue.minute,ue.second,ue.millisecond);for(var Fe=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Ze=0,Ot=Fe.length;Ze<Ot;Ze++)if(at[Fe[Ze][0]]&&ue[Fe[Ze][0]]!==ye[Fe[Ze][1]]())return null}else if(ye=new Date(Date.UTC(ue.year,ue.month,ue.day,ue.hour,ue.minute-ue.timezoneOffset,ue.second,ue.millisecond)),ue.month>11||ue.month<0||ue.day>31||ue.day<1||ue.hour>23||ue.hour<0||ue.minute>59||ue.minute<0||ue.second>59||ue.second<0)return null;return ye}var te={format:k,parse:O,defaultI18n:T,setGlobalDateI18n:R,setGlobalDateMasks:le};t.assign=d,t.default=te,t.format=k,t.parse=O,t.defaultI18n=T,t.setGlobalDateI18n=R,t.setGlobalDateMasks=le,Object.defineProperty(t,"__esModule",{value:!0})})});var bOe=h((Jsr,SOe)=>{"use strict";l();var tTt=_Oe(),rTt=di();SOe.exports=rTt((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():tTt.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var vOe=h((Qsr,EOe)=>{"use strict";l();var Cj=aj(),nTt=di(),{MESSAGE:Rj}=gr();EOe.exports=nTt((t,e)=>(e.level!==!1&&(t.level=Cj.strip(t.level)),e.message!==!1&&(t.message=Cj.strip(String(t.message))),e.raw!==!1&&t[Rj]&&(t[Rj]=Cj.strip(String(t[Rj]))),t))});var Nj=h(Oj=>{"use strict";l();var iTt=Oj.format=di();Oj.levels=URe();function Qr(t,e){Object.defineProperty(iTt,t,{get(){return e()},configurable:!0})}Qr("align",function(){return VRe()});Qr("errors",function(){return kRe()});Qr("cli",function(){return ZRe()});Qr("combine",function(){return YRe()});Qr("colorize",function(){return oM()});Qr("json",function(){return Tj()});Qr("label",function(){return QRe()});Qr("logstash",function(){return tOe()});Qr("metadata",function(){return nOe()});Qr("ms",function(){return sOe()});Qr("padLevels",function(){return mj()});Qr("prettyPrint",function(){return cOe()});Qr("printf",function(){return lOe()});Qr("simple",function(){return pOe()});Qr("splat",function(){return mOe()});Qr("timestamp",function(){return bOe()});Qr("uncolorize",function(){return vOe()})});var wj=h(hM=>{"use strict";l();var{format:TOe}=require("util");hM.warn={deprecated(t){return()=>{throw new Error(TOe("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([TOe("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(o=>{t[o]=hM.warn[e](o)})},forProperties(t,e,r){r.forEach(o=>{let s=hM.warn[e](o);Object.defineProperty(t,o,{get:s,set:s})})}}});var AOe=h((oar,oTt)=>{oTt.exports={name:"winston",description:"A logger for just about everything.",version:"3.11.0",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.2","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.4.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.5.0"},devDependencies:{"@babel/cli":"^7.17.0","@babel/core":"^7.17.2","@babel/preset-env":"^7.16.7","@dabh/eslint-config-populist":"^5.0.0","@types/node":"^20.3.1","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.9.0",hock:"^1.4.1",mocha:"8.1.3",nyc:"^15.1.0",rimraf:"^5.0.5",split2:"^4.1.0","std-mocks":"^1.0.1",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var COe=h((sar,IOe)=>{l();IOe.exports=require("util").deprecate});var Pj=h((uar,ROe)=>{l();ROe.exports=require("stream")});var xj=h((lar,NOe)=>{"use strict";l();function sTt(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Mj,this,t)):process.nextTick(Mj,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(a){!e&&a?r._writableState?r._writableState.errorEmitted?process.nextTick(gM,r):(r._writableState.errorEmitted=!0,process.nextTick(OOe,r,a)):process.nextTick(OOe,r,a):e?(process.nextTick(gM,r),e(a)):process.nextTick(gM,r)}),this)}function OOe(t,e){Mj(t,e),gM(t)}function gM(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function aTt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Mj(t,e){t.emit("error",e)}function uTt(t,e){var r=t._readableState,o=t._writableState;r&&r.autoDestroy||o&&o.autoDestroy?t.destroy(e):t.emit("error",e)}NOe.exports={destroy:sTt,undestroy:aTt,errorOrDestroy:uTt}});var ml=h((far,MOe)=>{"use strict";l();var POe={};function wo(t,e,r){r||(r=Error);function o(a,i,n){return typeof e=="string"?e:e(a,i,n)}class s extends r{constructor(i,n,u){super(o(i,n,u))}}s.prototype.name=r.name,s.prototype.code=t,POe[t]=s}function wOe(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(o=>String(o)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function cTt(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function lTt(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function dTt(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}wo("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);wo("ERR_INVALID_ARG_TYPE",function(t,e,r){let o;typeof e=="string"&&cTt(e,"not ")?(o="must not be",e=e.replace(/^not /,"")):o="must be";let s;if(lTt(t," argument"))s=`The ${t} ${o} ${wOe(e,"type")}`;else{let a=dTt(t,".")?"property":"argument";s=`The "${t}" ${a} ${o} ${wOe(e,"type")}`}return s+=`. Received type ${typeof r}`,s},TypeError);wo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wo("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});wo("ERR_STREAM_PREMATURE_CLOSE","Premature close");wo("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});wo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wo("ERR_STREAM_WRITE_AFTER_END","write after end");wo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wo("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);wo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");MOe.exports.codes=POe});var Bj=h((har,xOe)=>{"use strict";l();var fTt=ml().codes.ERR_INVALID_OPT_VALUE;function pTt(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function hTt(t,e,r,o){var s=pTt(e,o,r);if(s!=null){if(!(isFinite(s)&&Math.floor(s)===s)||s<0){var a=o?r:"highWaterMark";throw new fTt(a,s)}return Math.floor(s)}return t.objectMode?16:16*1024}xOe.exports={getHighWaterMark:hTt}});var BOe=h((mar,Dj)=>{l();typeof Object.create=="function"?Dj.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Dj.exports=function(e,r){if(r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e}}});var oy=h((_ar,Uj)=>{l();try{if(Lj=require("util"),typeof Lj.inherits!="function")throw"";Uj.exports=Lj.inherits}catch{Uj.exports=BOe()}var Lj});var FOe=h((bar,VOe)=>{"use strict";l();function DOe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,o)}return r}function LOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DOe(Object(r),!0).forEach(function(o){gTt(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DOe(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function gTt(t,e,r){return e=GOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mTt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UOe(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,GOe(o.key),o)}}function yTt(t,e,r){return e&&UOe(t.prototype,e),r&&UOe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GOe(t){var e=_Tt(t,"string");return typeof e=="symbol"?e:String(e)}function _Tt(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var STt=require("buffer"),mM=STt.Buffer,bTt=require("util"),Gj=bTt.inspect,ETt=Gj&&Gj.custom||"inspect";function vTt(t,e,r){mM.prototype.copy.call(t,e,r)}VOe.exports=function(){function t(){mTt(this,t),this.head=null,this.tail=null,this.length=0}return yTt(t,[{key:"push",value:function(r){var o={data:r,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(r){var o={data:r,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var o=this.head,s=""+o.data;o=o.next;)s+=r+o.data;return s}},{key:"concat",value:function(r){if(this.length===0)return mM.alloc(0);for(var o=mM.allocUnsafe(r>>>0),s=this.head,a=0;s;)vTt(s.data,o,a),a+=s.data.length,s=s.next;return o}},{key:"consume",value:function(r,o){var s;return r<this.head.data.length?(s=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?s=this.shift():s=o?this._getString(r):this._getBuffer(r),s}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var o=this.head,s=1,a=o.data;for(r-=a.length;o=o.next;){var i=o.data,n=r>i.length?i.length:r;if(n===i.length?a+=i:a+=i.slice(0,r),r-=n,r===0){n===i.length?(++s,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=i.slice(n));break}++s}return this.length-=s,a}},{key:"_getBuffer",value:function(r){var o=mM.allocUnsafe(r),s=this.head,a=1;for(s.data.copy(o),r-=s.data.length;s=s.next;){var i=s.data,n=r>i.length?i.length:r;if(i.copy(o,o.length-r,0,n),r-=n,r===0){n===i.length?(++a,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=i.slice(n));break}++a}return this.length-=a,o}},{key:ETt,value:function(r,o){return Gj(this,LOe(LOe({},o),{},{depth:0,customInspect:!1}))}}]),t}()});var Jf=h((Vj,kOe)=>{l();var yM=require("buffer"),la=yM.Buffer;function HOe(t,e){for(var r in t)e[r]=t[r]}la.from&&la.alloc&&la.allocUnsafe&&la.allocUnsafeSlow?kOe.exports=yM:(HOe(yM,Vj),Vj.Buffer=zf);function zf(t,e,r){return la(t,e,r)}zf.prototype=Object.create(la.prototype);HOe(la,zf);zf.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return la(t,e,r)};zf.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var o=la(t);return e!==void 0?typeof r=="string"?o.fill(e,r):o.fill(e):o.fill(0),o};zf.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return la(t)};zf.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yM.SlowBuffer(t)}});var kj=h(ZOe=>{"use strict";l();var Hj=Jf().Buffer,WOe=Hj.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function TTt(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ATt(t){var e=TTt(t);if(typeof e!="string"&&(Hj.isEncoding===WOe||!WOe(t)))throw new Error("Unknown encoding: "+t);return e||t}ZOe.StringDecoder=LE;function LE(t){this.encoding=ATt(t);var e;switch(this.encoding){case"utf16le":this.text=wTt,this.end=PTt,e=4;break;case"utf8":this.fillLast=RTt,e=4;break;case"base64":this.text=MTt,this.end=xTt,e=3;break;default:this.write=BTt,this.end=DTt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Hj.allocUnsafe(e)}LE.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};LE.prototype.end=NTt;LE.prototype.text=OTt;LE.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Fj(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function ITt(t,e,r){var o=e.length-1;if(o<r)return 0;var s=Fj(e[o]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--o<r||s===-2?0:(s=Fj(e[o]),s>=0?(s>0&&(t.lastNeed=s-2),s):--o<r||s===-2?0:(s=Fj(e[o]),s>=0?(s>0&&(s===2?s=0:t.lastNeed=s-3),s):0))}function CTt(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function RTt(t){var e=this.lastTotal-this.lastNeed,r=CTt(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function OTt(t,e){var r=ITt(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var o=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,o),t.toString("utf8",e,o)}function NTt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function wTt(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var o=r.charCodeAt(r.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function PTt(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function MTt(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function xTt(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function BTt(t){return t.toString(this.encoding)}function DTt(t){return t&&t.length?this.write(t):""}});var _M=h((Car,jOe)=>{"use strict";l();var qOe=ml().codes.ERR_STREAM_PREMATURE_CLOSE;function LTt(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t.apply(this,o)}}}function UTt(){}function GTt(t){return t.setHeader&&typeof t.abort=="function"}function YOe(t,e,r){if(typeof e=="function")return YOe(t,null,e);e||(e={}),r=LTt(r||UTt);var o=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,a=function(){t.writable||n()},i=t._writableState&&t._writableState.finished,n=function(){s=!1,i=!0,o||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){o=!1,u=!0,s||r.call(t)},d=function(S){r.call(t,S)},f=function(){var S;if(o&&!u)return(!t._readableState||!t._readableState.ended)&&(S=new qOe),r.call(t,S);if(s&&!i)return(!t._writableState||!t._writableState.ended)&&(S=new qOe),r.call(t,S)},g=function(){t.req.on("finish",n)};return GTt(t)?(t.on("complete",n),t.on("abort",f),t.req?g():t.on("request",g)):s&&!t._writableState&&(t.on("end",a),t.on("close",a)),t.on("end",c),t.on("finish",n),e.error!==!1&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",n),t.removeListener("abort",f),t.removeListener("request",g),t.req&&t.req.removeListener("finish",n),t.removeListener("end",a),t.removeListener("close",a),t.removeListener("finish",n),t.removeListener("end",c),t.removeListener("error",d),t.removeListener("close",f)}}jOe.exports=YOe});var XOe=h((Oar,KOe)=>{"use strict";l();var SM;function yl(t,e,r){return e=VTt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VTt(t){var e=FTt(t,"string");return typeof e=="symbol"?e:String(e)}function FTt(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HTt=_M(),_l=Symbol("lastResolve"),$f=Symbol("lastReject"),UE=Symbol("error"),bM=Symbol("ended"),Qf=Symbol("lastPromise"),Wj=Symbol("handlePromise"),ep=Symbol("stream");function Sl(t,e){return{value:t,done:e}}function kTt(t){var e=t[_l];if(e!==null){var r=t[ep].read();r!==null&&(t[Qf]=null,t[_l]=null,t[$f]=null,e(Sl(r,!1)))}}function WTt(t){process.nextTick(kTt,t)}function ZTt(t,e){return function(r,o){t.then(function(){if(e[bM]){r(Sl(void 0,!0));return}e[Wj](r,o)},o)}}var qTt=Object.getPrototypeOf(function(){}),YTt=Object.setPrototypeOf((SM={get stream(){return this[ep]},next:function(){var e=this,r=this[UE];if(r!==null)return Promise.reject(r);if(this[bM])return Promise.resolve(Sl(void 0,!0));if(this[ep].destroyed)return new Promise(function(i,n){process.nextTick(function(){e[UE]?n(e[UE]):i(Sl(void 0,!0))})});var o=this[Qf],s;if(o)s=new Promise(ZTt(o,this));else{var a=this[ep].read();if(a!==null)return Promise.resolve(Sl(a,!1));s=new Promise(this[Wj])}return this[Qf]=s,s}},yl(SM,Symbol.asyncIterator,function(){return this}),yl(SM,"return",function(){var e=this;return new Promise(function(r,o){e[ep].destroy(null,function(s){if(s){o(s);return}r(Sl(void 0,!0))})})}),SM),qTt),jTt=function(e){var r,o=Object.create(YTt,(r={},yl(r,ep,{value:e,writable:!0}),yl(r,_l,{value:null,writable:!0}),yl(r,$f,{value:null,writable:!0}),yl(r,UE,{value:null,writable:!0}),yl(r,bM,{value:e._readableState.endEmitted,writable:!0}),yl(r,Wj,{value:function(a,i){var n=o[ep].read();n?(o[Qf]=null,o[_l]=null,o[$f]=null,a(Sl(n,!1))):(o[_l]=a,o[$f]=i)},writable:!0}),r));return o[Qf]=null,HTt(e,function(s){if(s&&s.code!=="ERR_STREAM_PREMATURE_CLOSE"){var a=o[$f];a!==null&&(o[Qf]=null,o[_l]=null,o[$f]=null,a(s)),o[UE]=s;return}var i=o[_l];i!==null&&(o[Qf]=null,o[_l]=null,o[$f]=null,i(Sl(void 0,!0))),o[bM]=!0}),e.on("readable",WTt.bind(null,o)),o};KOe.exports=jTt});var QOe=h((war,$Oe)=>{"use strict";l();function zOe(t,e,r,o,s,a,i){try{var n=t[a](i),u=n.value}catch(c){r(c);return}n.done?e(u):Promise.resolve(u).then(o,s)}function KTt(t){return function(){var e=this,r=arguments;return new Promise(function(o,s){var a=t.apply(e,r);function i(u){zOe(a,o,s,i,n,"next",u)}function n(u){zOe(a,o,s,i,n,"throw",u)}i(void 0)})}}function JOe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,o)}return r}function XTt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JOe(Object(r),!0).forEach(function(o){zTt(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JOe(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function zTt(t,e,r){return e=JTt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JTt(t){var e=$Tt(t,"string");return typeof e=="symbol"?e:String(e)}function $Tt(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QTt=ml().codes.ERR_INVALID_ARG_TYPE;function eAt(t,e,r){var o;if(e&&typeof e.next=="function")o=e;else if(e&&e[Symbol.asyncIterator])o=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])o=e[Symbol.iterator]();else throw new QTt("iterable",["Iterable"],e);var s=new t(XTt({objectMode:!0},r)),a=!1;s._read=function(){a||(a=!0,i())};function i(){return n.apply(this,arguments)}function n(){return n=KTt(function*(){try{var u=yield o.next(),c=u.value,d=u.done;d?s.push(null):s.push(yield c)?i():a=!1}catch(f){s.destroy(f)}}),n.apply(this,arguments)}return s}$Oe.exports=eAt});var Qj=h((xar,cNe)=>{"use strict";l();cNe.exports=mt;var sy;mt.ReadableState=nNe;var Mar=require("events").EventEmitter,rNe=function(e,r){return e.listeners(r).length},VE=Pj(),EM=require("buffer").Buffer,tAt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function rAt(t){return EM.from(t)}function nAt(t){return EM.isBuffer(t)||t instanceof tAt}var Zj=require("util"),ot;Zj&&Zj.debuglog?ot=Zj.debuglog("stream"):ot=function(){};var iAt=FOe(),Jj=xj(),oAt=Bj(),sAt=oAt.getHighWaterMark,vM=ml().codes,aAt=vM.ERR_INVALID_ARG_TYPE,uAt=vM.ERR_STREAM_PUSH_AFTER_EOF,cAt=vM.ERR_METHOD_NOT_IMPLEMENTED,lAt=vM.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ay,qj,Yj;oy()(mt,VE);var GE=Jj.errorOrDestroy,jj=["error","close","destroy","pause","resume"];function dAt(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function nNe(t,e,r){sy=sy||tp(),t=t||{},typeof r!="boolean"&&(r=e instanceof sy),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=sAt(this,t,"readableHighWaterMark",r),this.buffer=new iAt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ay||(ay=kj().StringDecoder),this.decoder=new ay(t.encoding),this.encoding=t.encoding)}function mt(t){if(sy=sy||tp(),!(this instanceof mt))return new mt(t);var e=this instanceof sy;this._readableState=new nNe(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),VE.call(this)}Object.defineProperty(mt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});mt.prototype.destroy=Jj.destroy;mt.prototype._undestroy=Jj.undestroy;mt.prototype._destroy=function(t,e){e(t)};mt.prototype.push=function(t,e){var r=this._readableState,o;return r.objectMode?o=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=EM.from(t,e),e=""),o=!0),iNe(this,t,e,!1,o)};mt.prototype.unshift=function(t){return iNe(this,t,null,!0,!1)};function iNe(t,e,r,o,s){ot("readableAddChunk",e);var a=t._readableState;if(e===null)a.reading=!1,hAt(t,a);else{var i;if(s||(i=fAt(a,e)),i)GE(t,i);else if(a.objectMode||e&&e.length>0)if(typeof e!="string"&&!a.objectMode&&Object.getPrototypeOf(e)!==EM.prototype&&(e=rAt(e)),o)a.endEmitted?GE(t,new lAt):Kj(t,a,e,!0);else if(a.ended)GE(t,new uAt);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||e.length!==0?Kj(t,a,e,!1):zj(t,a)):Kj(t,a,e,!1)}else o||(a.reading=!1,zj(t,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function Kj(t,e,r,o){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,o?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&TM(t)),zj(t,e)}function fAt(t,e){var r;return!nAt(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new aAt("chunk",["string","Buffer","Uint8Array"],e)),r}mt.prototype.isPaused=function(){return this._readableState.flowing===!1};mt.prototype.setEncoding=function(t){ay||(ay=kj().StringDecoder);var e=new ay(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,o="";r!==null;)o+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),o!==""&&this._readableState.buffer.push(o),this._readableState.length=o.length,this};var eNe=1073741824;function pAt(t){return t>=eNe?t=eNe:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function tNe(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=pAt(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}mt.prototype.read=function(t){ot("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ot("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Xj(this):TM(this),null;if(t=tNe(t,e),t===0&&e.ended)return e.length===0&&Xj(this),null;var o=e.needReadable;ot("need readable",o),(e.length===0||e.length-t<e.highWaterMark)&&(o=!0,ot("length less than watermark",o)),e.ended||e.reading?(o=!1,ot("reading or ended",o)):o&&(ot("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=tNe(r,e)));var s;return t>0?s=aNe(t,e):s=null,s===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Xj(this)),s!==null&&this.emit("data",s),s};function hAt(t,e){if(ot("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?TM(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,oNe(t)))}}function TM(t){var e=t._readableState;ot("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ot("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(oNe,t))}function oNe(t){var e=t._readableState;ot("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,$j(t)}function zj(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(gAt,t,e))}function gAt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ot("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}mt.prototype._read=function(t){GE(this,new cAt("_read()"))};mt.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t);break}o.pipesCount+=1,ot("pipe count=%d opts=%j",o.pipesCount,e);var s=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,a=s?n:T;o.endEmitted?process.nextTick(a):r.once("end",a),t.on("unpipe",i);function i(C,R){ot("onunpipe"),C===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,d())}function n(){ot("onend"),t.end()}var u=mAt(r);t.on("drain",u);var c=!1;function d(){ot("cleanup"),t.removeListener("close",y),t.removeListener("finish",S),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",i),r.removeListener("end",n),r.removeListener("end",T),r.removeListener("data",f),c=!0,o.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",f);function f(C){ot("ondata");var R=t.write(C);ot("dest.write",R),R===!1&&((o.pipesCount===1&&o.pipes===t||o.pipesCount>1&&uNe(o.pipes,t)!==-1)&&!c&&(ot("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function g(C){ot("onerror",C),T(),t.removeListener("error",g),rNe(t,"error")===0&&GE(t,C)}dAt(t,"error",g);function y(){t.removeListener("finish",S),T()}t.once("close",y);function S(){ot("onfinish"),t.removeListener("close",y),T()}t.once("finish",S);function T(){ot("unpipe"),r.unpipe(t)}return t.emit("pipe",r),o.flowing||(ot("pipe resume"),r.resume()),t};function mAt(t){return function(){var r=t._readableState;ot("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&rNe(t,"data")&&(r.flowing=!0,$j(t))}}mt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var o=e.pipes,s=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<s;a++)o[a].emit("unpipe",this,{hasUnpiped:!1});return this}var i=uNe(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};mt.prototype.on=function(t,e){var r=VE.prototype.on.call(this,t,e),o=this._readableState;return t==="data"?(o.readableListening=this.listenerCount("readable")>0,o.flowing!==!1&&this.resume()):t==="readable"&&!o.endEmitted&&!o.readableListening&&(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,ot("on readable",o.length,o.reading),o.length?TM(this):o.reading||process.nextTick(yAt,this)),r};mt.prototype.addListener=mt.prototype.on;mt.prototype.removeListener=function(t,e){var r=VE.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(sNe,this),r};mt.prototype.removeAllListeners=function(t){var e=VE.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(sNe,this),e};function sNe(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function yAt(t){ot("readable nexttick read 0"),t.read(0)}mt.prototype.resume=function(){var t=this._readableState;return t.flowing||(ot("resume"),t.flowing=!t.readableListening,_At(this,t)),t.paused=!1,this};function _At(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(SAt,t,e))}function SAt(t,e){ot("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),$j(t),e.flowing&&!e.reading&&t.read(0)}mt.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $j(t){var e=t._readableState;for(ot("flow",e.flowing);e.flowing&&t.read()!==null;);}mt.prototype.wrap=function(t){var e=this,r=this._readableState,o=!1;t.on("end",function(){if(ot("wrapped end"),r.decoder&&!r.ended){var i=r.decoder.end();i&&i.length&&e.push(i)}e.push(null)}),t.on("data",function(i){if(ot("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!(r.objectMode&&i==null)&&!(!r.objectMode&&(!i||!i.length))){var n=e.push(i);n||(o=!0,t.pause())}});for(var s in t)this[s]===void 0&&typeof t[s]=="function"&&(this[s]=function(n){return function(){return t[n].apply(t,arguments)}}(s));for(var a=0;a<jj.length;a++)t.on(jj[a],this.emit.bind(this,jj[a]));return this._read=function(i){ot("wrapped _read",i),o&&(o=!1,t.resume())},this};typeof Symbol=="function"&&(mt.prototype[Symbol.asyncIterator]=function(){return qj===void 0&&(qj=XOe()),qj(this)});Object.defineProperty(mt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(mt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(mt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});mt._fromList=aNe;Object.defineProperty(mt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function aNe(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Xj(t){var e=t._readableState;ot("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(bAt,e,t))}function bAt(t,e){if(ot("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(mt.from=function(t,e){return Yj===void 0&&(Yj=QOe()),Yj(mt,t,e)});function uNe(t,e){for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}});var tp=h((Dar,dNe)=>{"use strict";l();var EAt=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};dNe.exports=da;var lNe=Qj(),t4=CM();oy()(da,lNe);for(e4=EAt(t4.prototype),AM=0;AM<e4.length;AM++)IM=e4[AM],da.prototype[IM]||(da.prototype[IM]=t4.prototype[IM]);var e4,IM,AM;function da(t){if(!(this instanceof da))return new da(t);lNe.call(this,t),t4.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",vAt)))}Object.defineProperty(da.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(da.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(da.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function vAt(){this._writableState.ended||process.nextTick(TAt,this)}function TAt(t){t.end()}Object.defineProperty(da.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var CM=h((Uar,yNe)=>{"use strict";l();yNe.exports=ir;function pNe(t){var e=this;this.next=null,this.entry=null,this.finish=function(){zAt(e,t)}}var uy;ir.WritableState=HE;var AAt={deprecate:COe()},hNe=Pj(),OM=require("buffer").Buffer,IAt=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function CAt(t){return OM.from(t)}function RAt(t){return OM.isBuffer(t)||t instanceof IAt}var n4=xj(),OAt=Bj(),NAt=OAt.getHighWaterMark,bl=ml().codes,wAt=bl.ERR_INVALID_ARG_TYPE,PAt=bl.ERR_METHOD_NOT_IMPLEMENTED,MAt=bl.ERR_MULTIPLE_CALLBACK,xAt=bl.ERR_STREAM_CANNOT_PIPE,BAt=bl.ERR_STREAM_DESTROYED,DAt=bl.ERR_STREAM_NULL_VALUES,LAt=bl.ERR_STREAM_WRITE_AFTER_END,UAt=bl.ERR_UNKNOWN_ENCODING,cy=n4.errorOrDestroy;oy()(ir,hNe);function GAt(){}function HE(t,e,r){uy=uy||tp(),t=t||{},typeof r!="boolean"&&(r=e instanceof uy),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=NAt(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(s){qAt(e,s)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new pNe(this)}HE.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(HE.prototype,"buffer",{get:AAt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var RM;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(RM=Function.prototype[Symbol.hasInstance],Object.defineProperty(ir,Symbol.hasInstance,{value:function(e){return RM.call(this,e)?!0:this!==ir?!1:e&&e._writableState instanceof HE}})):RM=function(e){return e instanceof this};function ir(t){uy=uy||tp();var e=this instanceof uy;if(!e&&!RM.call(ir,this))return new ir(t);this._writableState=new HE(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),hNe.call(this)}ir.prototype.pipe=function(){cy(this,new xAt)};function VAt(t,e){var r=new LAt;cy(t,r),process.nextTick(e,r)}function FAt(t,e,r,o){var s;return r===null?s=new DAt:typeof r!="string"&&!e.objectMode&&(s=new wAt("chunk",["string","Buffer"],r)),s?(cy(t,s),process.nextTick(o,s),!1):!0}ir.prototype.write=function(t,e,r){var o=this._writableState,s=!1,a=!o.objectMode&&RAt(t);return a&&!OM.isBuffer(t)&&(t=CAt(t)),typeof e=="function"&&(r=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),typeof r!="function"&&(r=GAt),o.ending?VAt(this,r):(a||FAt(this,o,t,r))&&(o.pendingcb++,s=kAt(this,o,a,t,e,r)),s};ir.prototype.cork=function(){this._writableState.corked++};ir.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&gNe(this,t))};ir.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new UAt(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ir.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function HAt(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=OM.from(e,r)),e}Object.defineProperty(ir.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function kAt(t,e,r,o,s,a){if(!r){var i=HAt(e,o,s);o!==i&&(r=!0,s="buffer",o=i)}var n=e.objectMode?1:o.length;e.length+=n;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:o,encoding:s,isBuf:r,callback:a,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else r4(t,e,!1,n,o,s,a);return u}function r4(t,e,r,o,s,a,i){e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new BAt("write")):r?t._writev(s,e.onwrite):t._write(s,a,e.onwrite),e.sync=!1}function WAt(t,e,r,o,s){--e.pendingcb,r?(process.nextTick(s,o),process.nextTick(FE,t,e),t._writableState.errorEmitted=!0,cy(t,o)):(s(o),t._writableState.errorEmitted=!0,cy(t,o),FE(t,e))}function ZAt(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function qAt(t,e){var r=t._writableState,o=r.sync,s=r.writecb;if(typeof s!="function")throw new MAt;if(ZAt(r),e)WAt(t,r,o,e,s);else{var a=mNe(r)||t.destroyed;!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&gNe(t,r),o?process.nextTick(fNe,t,r,a,s):fNe(t,r,a,s)}}function fNe(t,e,r,o){r||YAt(t,e),e.pendingcb--,o(),FE(t,e)}function YAt(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function gNe(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var o=e.bufferedRequestCount,s=new Array(o),a=e.corkedRequestsFree;a.entry=r;for(var i=0,n=!0;r;)s[i]=r,r.isBuf||(n=!1),r=r.next,i+=1;s.allBuffers=n,r4(t,e,!0,e.length,s,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new pNe(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,d=r.callback,f=e.objectMode?1:u.length;if(r4(t,e,!1,f,u,c,d),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ir.prototype._write=function(t,e,r){r(new PAt("_write()"))};ir.prototype._writev=null;ir.prototype.end=function(t,e,r){var o=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),o.corked&&(o.corked=1,this.uncork()),o.ending||XAt(this,o,r),this};Object.defineProperty(ir.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function mNe(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function jAt(t,e){t._final(function(r){e.pendingcb--,r&&cy(t,r),e.prefinished=!0,t.emit("prefinish"),FE(t,e)})}function KAt(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(jAt,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function FE(t,e){var r=mNe(e);if(r&&(KAt(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var o=t._readableState;(!o||o.autoDestroy&&o.endEmitted)&&t.destroy()}return r}function XAt(t,e,r){e.ending=!0,FE(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function zAt(t,e,r){var o=t.entry;for(t.entry=null;o;){var s=o.callback;e.pendingcb--,s(r),o=o.next}e.corkedRequestsFree.next=t}Object.defineProperty(ir.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ir.prototype.destroy=n4.destroy;ir.prototype._undestroy=n4.undestroy;ir.prototype._destroy=function(t,e){e(t)}});var i4=h((Var,bNe)=>{"use strict";l();var JAt=require("util"),_Ne=CM(),{LEVEL:SNe}=gr(),kE=bNe.exports=function(e={}){_Ne.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};JAt.inherits(kE,_Ne);kE.prototype._write=function(e,r,o){if(this.silent||e.exception===!0&&!this.handleExceptions)return o(null);let s=this.level||this.parent&&this.parent.level;if(!s||this.levels[s]>=this.levels[e[SNe]]){if(e&&!this.format)return this.log(e,o);let a,i;try{i=this.format.transform(Object.assign({},e),this.format.options)}catch(n){a=n}if(a||!i){if(o(),a)throw a;return}return this.log(i,o)}return this._writableState.sync=!1,o(null)};kE.prototype._writev=function(e,r){if(this.logv){let o=e.filter(this._accept,this);return o.length?this.logv(o,r):r(null)}for(let o=0;o<e.length;o++){if(!this._accept(e[o]))continue;if(e[o].chunk&&!this.format){this.log(e[o].chunk,e[o].callback);continue}let s,a;try{a=this.format.transform(Object.assign({},e[o].chunk),this.format.options)}catch(i){s=i}if(s||!a){if(e[o].callback(),s)throw r(null),s}else this.log(a,e[o].callback)}return r(null)};kE.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let o=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!o||this.levels[o]>=this.levels[r[SNe]])&&(this.handleExceptions||r.exception!==!0))};kE.prototype._nop=function(){}});var s4=h((Har,vNe)=>{"use strict";l();var $At=require("util"),{LEVEL:o4}=gr(),ENe=i4(),WE=vNe.exports=function(e={}){if(ENe.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(o){this.emit("error",o,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};$At.inherits(WE,ENe);WE.prototype._write=function(e,r,o){if(this.silent||e.exception===!0&&!this.handleExceptions)return o(null);(!this.level||this.levels[this.level]>=this.levels[e[o4]])&&this.transport.log(e[o4],e.message,e,this._nop),o(null)};WE.prototype._writev=function(e,r){for(let o=0;o<e.length;o++)this._accept(e[o])&&(this.transport.log(e[o].chunk[o4],e[o].chunk.message,e[o].chunk,this._nop),e[o].callback());return r(null)};WE.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};WE.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var rp=h((War,a4)=>{"use strict";l();a4.exports=i4();a4.exports.LegacyTransportStream=s4()});var INe=h((Yar,ANe)=>{"use strict";l();var QAt=require("os"),{LEVEL:TNe,MESSAGE:ly}=gr(),eIt=rp();ANe.exports=class extends eIt{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:QAt.EOL,this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[TNe]]){console._stderr?console._stderr.write(`${e[ly]}${this.eol}`):console.error(e[ly]),r&&r();return}else if(this.consoleWarnLevels[e[TNe]]){console._stderr?console._stderr.write(`${e[ly]}${this.eol}`):console.warn(e[ly]),r&&r();return}console._stdout?console._stdout.write(`${e[ly]}${this.eol}`):console.log(e[ly]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((o,s)=>{if(typeof s!="string")throw new Error(r);return o[s]=!0,o},{})}}});var wM=h((NM,CNe)=>{"use strict";l();Object.defineProperty(NM,"__esModule",{value:!0});NM.default=tIt;function tIt(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}CNe.exports=NM.default});var ONe=h((PM,RNe)=>{"use strict";l();Object.defineProperty(PM,"__esModule",{value:!0});PM.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};RNe.exports=PM.default});var PNe=h(El=>{"use strict";l();Object.defineProperty(El,"__esModule",{value:!0});El.fallback=NNe;El.wrap=wNe;var rIt=El.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,nIt=El.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,iIt=El.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function NNe(t){setTimeout(t,0)}function wNe(t){return(e,...r)=>t(()=>e(...r))}var ZE;rIt?ZE=queueMicrotask:nIt?ZE=setImmediate:iIt?ZE=process.nextTick:ZE=NNe;El.default=wNe(ZE)});var LNe=h((MM,DNe)=>{"use strict";l();Object.defineProperty(MM,"__esModule",{value:!0});MM.default=lIt;var oIt=ONe(),sIt=BNe(oIt),aIt=PNe(),uIt=BNe(aIt),cIt=np();function BNe(t){return t&&t.__esModule?t:{default:t}}function lIt(t){return(0,cIt.isAsync)(t)?function(...e){let r=e.pop(),o=t.apply(this,e);return MNe(o,r)}:(0,sIt.default)(function(e,r){var o;try{o=t.apply(this,e)}catch(s){return r(s)}if(o&&typeof o.then=="function")return MNe(o,r);r(null,o)})}function MNe(t,e){return t.then(r=>{xNe(e,null,r)},r=>{xNe(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function xNe(t,e,r){try{t(e,r)}catch(o){(0,uIt.default)(s=>{throw s},o)}}DNe.exports=MM.default});var np=h(Tu=>{"use strict";l();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.isAsyncIterable=Tu.isAsyncGenerator=Tu.isAsync=void 0;var dIt=LNe(),fIt=pIt(dIt);function pIt(t){return t&&t.__esModule?t:{default:t}}function UNe(t){return t[Symbol.toStringTag]==="AsyncFunction"}function hIt(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function gIt(t){return typeof t[Symbol.asyncIterator]=="function"}function mIt(t){if(typeof t!="function")throw new Error("expected a function");return UNe(t)?(0,fIt.default)(t):t}Tu.default=mIt;Tu.isAsync=UNe;Tu.isAsyncGenerator=hIt;Tu.isAsyncIterable=gIt});var dy=h((xM,GNe)=>{"use strict";l();Object.defineProperty(xM,"__esModule",{value:!0});xM.default=yIt;function yIt(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...o){return typeof o[e-1]=="function"?t.apply(this,o):new Promise((s,a)=>{o[e-1]=(i,...n)=>{if(i)return a(i);s(n.length>1?n:n[0])},t.apply(this,o)})}return r}GNe.exports=xM.default});var FNe=h((BM,VNe)=>{"use strict";l();Object.defineProperty(BM,"__esModule",{value:!0});var _It=wM(),SIt=u4(_It),bIt=np(),EIt=u4(bIt),vIt=dy(),TIt=u4(vIt);function u4(t){return t&&t.__esModule?t:{default:t}}BM.default=(0,TIt.default)((t,e,r)=>{var o=(0,SIt.default)(e)?[]:{};t(e,(s,a,i)=>{(0,EIt.default)(s)((n,...u)=>{u.length<2&&([u]=u),o[a]=u,i(n)})},s=>r(s,o))},3);VNe.exports=BM.default});var c4=h((DM,HNe)=>{"use strict";l();Object.defineProperty(DM,"__esModule",{value:!0});DM.default=AIt;function AIt(t){function e(...r){if(t!==null){var o=t;t=null,o.apply(this,r)}}return Object.assign(e,t),e}HNe.exports=DM.default});var WNe=h((LM,kNe)=>{"use strict";l();Object.defineProperty(LM,"__esModule",{value:!0});LM.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};kNe.exports=LM.default});var YNe=h((UM,qNe)=>{"use strict";l();Object.defineProperty(UM,"__esModule",{value:!0});UM.default=MIt;var IIt=wM(),CIt=ZNe(IIt),RIt=WNe(),OIt=ZNe(RIt);function ZNe(t){return t&&t.__esModule?t:{default:t}}function NIt(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function wIt(t){var e=-1;return function(){var o=t.next();return o.done?null:(e++,{value:o.value,key:e})}}function PIt(t){var e=t?Object.keys(t):[],r=-1,o=e.length;return function s(){var a=e[++r];return a==="__proto__"?s():r<o?{value:t[a],key:a}:null}}function MIt(t){if((0,CIt.default)(t))return NIt(t);var e=(0,OIt.default)(t);return e?wIt(e):PIt(t)}qNe.exports=UM.default});var l4=h((GM,jNe)=>{"use strict";l();Object.defineProperty(GM,"__esModule",{value:!0});GM.default=xIt;function xIt(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}jNe.exports=GM.default});var FM=h((VM,KNe)=>{"use strict";l();Object.defineProperty(VM,"__esModule",{value:!0});var BIt={};VM.default=BIt;KNe.exports=VM.default});var zNe=h((HM,XNe)=>{"use strict";l();Object.defineProperty(HM,"__esModule",{value:!0});HM.default=GIt;var DIt=FM(),LIt=UIt(DIt);function UIt(t){return t&&t.__esModule?t:{default:t}}function GIt(t,e,r,o){let s=!1,a=!1,i=!1,n=0,u=0;function c(){n>=e||i||s||(i=!0,t.next().then(({value:g,done:y})=>{if(!(a||s)){if(i=!1,y){s=!0,n<=0&&o(null);return}n++,r(g,u,d),u++,c()}}).catch(f))}function d(g,y){if(n-=1,!a){if(g)return f(g);if(g===!1){s=!0,a=!0;return}if(y===LIt.default||s&&n<=0)return s=!0,o(null);c()}}function f(g){a||(i=!1,s=!0,o(g))}c()}XNe.exports=HM.default});var ewe=h((kM,QNe)=>{"use strict";l();Object.defineProperty(kM,"__esModule",{value:!0});var VIt=c4(),FIt=qE(VIt),HIt=YNe(),kIt=qE(HIt),WIt=l4(),ZIt=qE(WIt),JNe=np(),qIt=zNe(),$Ne=qE(qIt),YIt=FM(),jIt=qE(YIt);function qE(t){return t&&t.__esModule?t:{default:t}}kM.default=t=>(e,r,o)=>{if(o=(0,FIt.default)(o),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return o(null);if((0,JNe.isAsyncGenerator)(e))return(0,$Ne.default)(e,t,r,o);if((0,JNe.isAsyncIterable)(e))return(0,$Ne.default)(e[Symbol.asyncIterator](),t,r,o);var s=(0,kIt.default)(e),a=!1,i=!1,n=0,u=!1;function c(f,g){if(!i)if(n-=1,f)a=!0,o(f);else if(f===!1)a=!0,i=!0;else{if(g===jIt.default||a&&n<=0)return a=!0,o(null);u||d()}}function d(){for(u=!0;n<t&&!a;){var f=s();if(f===null){a=!0,n<=0&&o(null);return}n+=1,r(f.value,f.key,(0,ZIt.default)(c))}u=!1}d()};QNe.exports=kM.default});var f4=h((WM,twe)=>{"use strict";l();Object.defineProperty(WM,"__esModule",{value:!0});var KIt=ewe(),XIt=d4(KIt),zIt=np(),JIt=d4(zIt),$It=dy(),QIt=d4($It);function d4(t){return t&&t.__esModule?t:{default:t}}function eCt(t,e,r,o){return(0,XIt.default)(e)(t,(0,JIt.default)(r),o)}WM.default=(0,QIt.default)(eCt,4);twe.exports=WM.default});var iwe=h((ZM,nwe)=>{"use strict";l();Object.defineProperty(ZM,"__esModule",{value:!0});var tCt=f4(),rCt=rwe(tCt),nCt=dy(),iCt=rwe(nCt);function rwe(t){return t&&t.__esModule?t:{default:t}}function oCt(t,e,r){return(0,rCt.default)(t,1,e,r)}ZM.default=(0,iCt.default)(oCt,3);nwe.exports=ZM.default});var awe=h((qM,swe)=>{"use strict";l();Object.defineProperty(qM,"__esModule",{value:!0});qM.default=lCt;var sCt=FNe(),aCt=owe(sCt),uCt=iwe(),cCt=owe(uCt);function owe(t){return t&&t.__esModule?t:{default:t}}function lCt(t,e){return(0,aCt.default)(cCt.default,t,e)}swe.exports=qM.default});var p4=h((pur,cwe)=>{"use strict";l();cwe.exports=Au;var YM=ml().codes,dCt=YM.ERR_METHOD_NOT_IMPLEMENTED,fCt=YM.ERR_MULTIPLE_CALLBACK,pCt=YM.ERR_TRANSFORM_ALREADY_TRANSFORMING,hCt=YM.ERR_TRANSFORM_WITH_LENGTH_0,jM=tp();oy()(Au,jM);function gCt(t,e){var r=this._transformState;r.transforming=!1;var o=r.writecb;if(o===null)return this.emit("error",new fCt);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),o(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function Au(t){if(!(this instanceof Au))return new Au(t);jM.call(this,t),this._transformState={afterTransform:gCt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",mCt)}function mCt(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){uwe(t,e,r)}):uwe(this,null,null)}Au.prototype.push=function(t,e){return this._transformState.needTransform=!1,jM.prototype.push.call(this,t,e)};Au.prototype._transform=function(t,e,r){r(new dCt("_transform()"))};Au.prototype._write=function(t,e,r){var o=this._transformState;if(o.writecb=r,o.writechunk=t,o.writeencoding=e,!o.transforming){var s=this._readableState;(o.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Au.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Au.prototype._destroy=function(t,e){jM.prototype._destroy.call(this,t,function(r){e(r)})};function uwe(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new hCt;if(t._transformState.transforming)throw new pCt;return t.push(null)}});var fwe=h((gur,dwe)=>{"use strict";l();dwe.exports=YE;var lwe=p4();oy()(YE,lwe);function YE(t){if(!(this instanceof YE))return new YE(t);lwe.call(this,t)}YE.prototype._transform=function(t,e,r){r(null,t)}});var ywe=h((yur,mwe)=>{"use strict";l();var h4;function yCt(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var gwe=ml().codes,_Ct=gwe.ERR_MISSING_ARGS,SCt=gwe.ERR_STREAM_DESTROYED;function pwe(t){if(t)throw t}function bCt(t){return t.setHeader&&typeof t.abort=="function"}function ECt(t,e,r,o){o=yCt(o);var s=!1;t.on("close",function(){s=!0}),h4===void 0&&(h4=_M()),h4(t,{readable:e,writable:r},function(i){if(i)return o(i);s=!0,o()});var a=!1;return function(i){if(!s&&!a){if(a=!0,bCt(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();o(i||new SCt("pipe"))}}}function hwe(t){t()}function vCt(t,e){return t.pipe(e)}function TCt(t){return!t.length||typeof t[t.length-1]!="function"?pwe:t.pop()}function ACt(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=TCt(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new _Ct("streams");var s,a=e.map(function(i,n){var u=n<e.length-1,c=n>0;return ECt(i,u,c,function(d){s||(s=d),d&&a.forEach(hwe),!u&&(a.forEach(hwe),o(s))})});return e.reduce(vCt)}mwe.exports=ACt});var fy=h((Po,KE)=>{l();var jE=require("stream");process.env.READABLE_STREAM==="disable"&&jE?(KE.exports=jE.Readable,Object.assign(KE.exports,jE),KE.exports.Stream=jE):(Po=KE.exports=Qj(),Po.Stream=jE||Po,Po.Readable=Po,Po.Writable=CM(),Po.Duplex=tp(),Po.Transform=p4(),Po.PassThrough=fwe(),Po.finished=_M(),Po.pipeline=ywe())});var E4=h((bur,Swe)=>{l();var py=[],XE=[],g4=function(){};function y4(t){return~py.indexOf(t)?!1:(py.push(t),!0)}function _4(t){g4=t}function ICt(t){for(var e=[],r=0;r<py.length;r++){if(py[r].async){e.push(py[r]);continue}if(py[r](t))return!0}return e.length?new Promise(function(s){Promise.all(e.map(function(i){return i(t)})).then(function(i){s(i.some(Boolean))})}):!1}function S4(t){return~XE.indexOf(t)?!1:(XE.push(t),!0)}function m4(){g4.apply(g4,arguments)}function _we(t){for(var e=0;e<XE.length;e++)t=XE[e].apply(XE[e],arguments);return t}function b4(t,e){var r=Object.prototype.hasOwnProperty;for(var o in e)r.call(e,o)&&(t[o]=e[o]);return t}function CCt(t){return t.enabled=!1,t.modify=S4,t.set=_4,t.use=y4,b4(function(){return!1},t)}function RCt(t){function e(){var r=Array.prototype.slice.call(arguments,0);return m4.call(m4,t,_we(r,t)),!0}return t.enabled=!0,t.modify=S4,t.set=_4,t.use=y4,b4(e,t)}Swe.exports=function(e){return e.introduce=b4,e.enabled=ICt,e.process=_we,e.modify=S4,e.write=m4,e.nope=CCt,e.yep=RCt,e.set=_4,e.use=y4,e}});var Ewe=h((vur,bwe)=>{l();var OCt=E4(),NCt=OCt(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});bwe.exports=NCt});var Twe=h((Aur,vwe)=>{"use strict";l();vwe.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Iwe=h((Cur,Awe)=>{l();Awe.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var Owe=h((Our,Rwe)=>{"use strict";l();var wCt=Iwe(),PCt=Array.prototype.concat,MCt=Array.prototype.slice,Cwe=Rwe.exports=function(e){for(var r=[],o=0,s=e.length;o<s;o++){var a=e[o];wCt(a)?r=PCt.call(r,MCt.call(a)):r.push(a)}return r};Cwe.wrap=function(t){return function(){return t(Cwe(arguments))}}});var Mwe=h((wur,Pwe)=>{l();var zE=Twe(),JE=Owe(),Nwe=Object.hasOwnProperty,wwe=Object.create(null);for(KM in zE)Nwe.call(zE,KM)&&(wwe[zE[KM]]=KM);var KM,Fi=Pwe.exports={to:{},get:{}};Fi.get=function(t){var e=t.substring(0,3).toLowerCase(),r,o;switch(e){case"hsl":r=Fi.get.hsl(t),o="hsl";break;case"hwb":r=Fi.get.hwb(t),o="hwb";break;default:r=Fi.get.rgb(t),o="rgb";break}return r?{model:o,value:r}:null};Fi.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,o=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,i=[0,0,0,1],n,u,c;if(n=t.match(r)){for(c=n[2],n=n[1],u=0;u<3;u++){var d=u*2;i[u]=parseInt(n.slice(d,d+2),16)}c&&(i[3]=parseInt(c,16)/255)}else if(n=t.match(e)){for(n=n[1],c=n[3],u=0;u<3;u++)i[u]=parseInt(n[u]+n[u],16);c&&(i[3]=parseInt(c+c,16)/255)}else if(n=t.match(o)){for(u=0;u<3;u++)i[u]=parseInt(n[u+1],0);n[4]&&(n[5]?i[3]=parseFloat(n[4])*.01:i[3]=parseFloat(n[4]))}else if(n=t.match(s)){for(u=0;u<3;u++)i[u]=Math.round(parseFloat(n[u+1])*2.55);n[4]&&(n[5]?i[3]=parseFloat(n[4])*.01:i[3]=parseFloat(n[4]))}else return(n=t.match(a))?n[1]==="transparent"?[0,0,0,0]:Nwe.call(zE,n[1])?(i=zE[n[1]],i[3]=1,i):null:null;for(u=0;u<3;u++)i[u]=vl(i[u],0,255);return i[3]=vl(i[3],0,1),i};Fi.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var o=parseFloat(r[4]),s=(parseFloat(r[1])%360+360)%360,a=vl(parseFloat(r[2]),0,100),i=vl(parseFloat(r[3]),0,100),n=vl(isNaN(o)?1:o,0,1);return[s,a,i,n]}return null};Fi.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var o=parseFloat(r[4]),s=(parseFloat(r[1])%360+360)%360,a=vl(parseFloat(r[2]),0,100),i=vl(parseFloat(r[3]),0,100),n=vl(isNaN(o)?1:o,0,1);return[s,a,i,n]}return null};Fi.to.hex=function(){var t=JE(arguments);return"#"+XM(t[0])+XM(t[1])+XM(t[2])+(t[3]<1?XM(Math.round(t[3]*255)):"")};Fi.to.rgb=function(){var t=JE(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Fi.to.rgb.percent=function(){var t=JE(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+o+"%)":"rgba("+e+"%, "+r+"%, "+o+"%, "+t[3]+")"};Fi.to.hsl=function(){var t=JE(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Fi.to.hwb=function(){var t=JE(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Fi.to.keyword=function(t){return wwe[t.slice(0,3)]};function vl(t,e,r){return Math.min(Math.max(e,t),r)}function XM(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var Bwe=h((Mur,xwe)=>{"use strict";l();xwe.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var v4=h((Bur,Gwe)=>{l();var ip=Bwe(),Uwe={};for(zM in ip)ip.hasOwnProperty(zM)&&(Uwe[ip[zM]]=zM);var zM,be=Gwe.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(kn in be)if(be.hasOwnProperty(kn)){if(!("channels"in be[kn]))throw new Error("missing channels property: "+kn);if(!("labels"in be[kn]))throw new Error("missing channel labels property: "+kn);if(be[kn].labels.length!==be[kn].channels)throw new Error("channel and label counts mismatch: "+kn);Dwe=be[kn].channels,Lwe=be[kn].labels,delete be[kn].channels,delete be[kn].labels,Object.defineProperty(be[kn],"channels",{value:Dwe}),Object.defineProperty(be[kn],"labels",{value:Lwe})}var Dwe,Lwe,kn;be.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(e,r,o),a=Math.max(e,r,o),i=a-s,n,u,c;return a===s?n=0:e===a?n=(r-o)/i:r===a?n=2+(o-e)/i:o===a&&(n=4+(e-r)/i),n=Math.min(n*60,360),n<0&&(n+=360),c=(s+a)/2,a===s?u=0:c<=.5?u=i/(a+s):u=i/(2-a-s),[n,u*100,c*100]};be.rgb.hsv=function(t){var e,r,o,s,a,i=t[0]/255,n=t[1]/255,u=t[2]/255,c=Math.max(i,n,u),d=c-Math.min(i,n,u),f=function(g){return(c-g)/6/d+1/2};return d===0?s=a=0:(a=d/c,e=f(i),r=f(n),o=f(u),i===c?s=o-r:n===c?s=1/3+e-o:u===c&&(s=2/3+r-e),s<0?s+=1:s>1&&(s-=1)),[s*360,a*100,c*100]};be.rgb.hwb=function(t){var e=t[0],r=t[1],o=t[2],s=be.rgb.hsl(t)[0],a=1/255*Math.min(e,Math.min(r,o));return o=1-1/255*Math.max(e,Math.max(r,o)),[s,a*100,o*100]};be.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,o=t[2]/255,s,a,i,n;return n=Math.min(1-e,1-r,1-o),s=(1-e-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,i=(1-o-n)/(1-n)||0,[s*100,a*100,i*100,n*100]};function xCt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}be.rgb.keyword=function(t){var e=Uwe[t];if(e)return e;var r=1/0,o;for(var s in ip)if(ip.hasOwnProperty(s)){var a=ip[s],i=xCt(t,a);i<r&&(r=i,o=s)}return o};be.keyword.rgb=function(t){return ip[t]};be.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,o=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92;var s=e*.4124+r*.3576+o*.1805,a=e*.2126+r*.7152+o*.0722,i=e*.0193+r*.1192+o*.9505;return[s*100,a*100,i*100]};be.rgb.lab=function(t){var e=be.rgb.xyz(t),r=e[0],o=e[1],s=e[2],a,i,n;return r/=95.047,o/=100,s/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,a=116*o-16,i=500*(r-o),n=200*(o-s),[a,i,n]};be.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,o=t[2]/100,s,a,i,n,u;if(r===0)return u=o*255,[u,u,u];o<.5?a=o*(1+r):a=o+r-o*r,s=2*o-a,n=[0,0,0];for(var c=0;c<3;c++)i=e+1/3*-(c-1),i<0&&i++,i>1&&i--,6*i<1?u=s+(a-s)*6*i:2*i<1?u=a:3*i<2?u=s+(a-s)*(2/3-i)*6:u=s,n[c]=u*255;return n};be.hsl.hsv=function(t){var e=t[0],r=t[1]/100,o=t[2]/100,s=r,a=Math.max(o,.01),i,n;return o*=2,r*=o<=1?o:2-o,s*=a<=1?a:2-a,n=(o+r)/2,i=o===0?2*s/(a+s):2*r/(o+r),[e,i*100,n*100]};be.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,o=t[2]/100,s=Math.floor(e)%6,a=e-Math.floor(e),i=255*o*(1-r),n=255*o*(1-r*a),u=255*o*(1-r*(1-a));switch(o*=255,s){case 0:return[o,u,i];case 1:return[n,o,i];case 2:return[i,o,u];case 3:return[i,n,o];case 4:return[u,i,o];case 5:return[o,i,n]}};be.hsv.hsl=function(t){var e=t[0],r=t[1]/100,o=t[2]/100,s=Math.max(o,.01),a,i,n;return n=(2-r)*o,a=(2-r)*s,i=r*s,i/=a<=1?a:2-a,i=i||0,n/=2,[e,i*100,n*100]};be.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,o=t[2]/100,s=r+o,a,i,n,u;s>1&&(r/=s,o/=s),a=Math.floor(6*e),i=1-o,n=6*e-a,a&1&&(n=1-n),u=r+n*(i-r);var c,d,f;switch(a){default:case 6:case 0:c=i,d=u,f=r;break;case 1:c=u,d=i,f=r;break;case 2:c=r,d=i,f=u;break;case 3:c=r,d=u,f=i;break;case 4:c=u,d=r,f=i;break;case 5:c=i,d=r,f=u;break}return[c*255,d*255,f*255]};be.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,o=t[2]/100,s=t[3]/100,a,i,n;return a=1-Math.min(1,e*(1-s)+s),i=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),[a*255,i*255,n*255]};be.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,o=t[2]/100,s,a,i;return s=e*3.2406+r*-1.5372+o*-.4986,a=e*-.9689+r*1.8758+o*.0415,i=e*.0557+r*-.204+o*1.057,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[s*255,a*255,i*255]};be.xyz.lab=function(t){var e=t[0],r=t[1],o=t[2],s,a,i;return e/=95.047,r/=100,o/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=116*r-16,a=500*(e-r),i=200*(r-o),[s,a,i]};be.lab.xyz=function(t){var e=t[0],r=t[1],o=t[2],s,a,i;a=(e+16)/116,s=r/500+a,i=a-o/200;var n=Math.pow(a,3),u=Math.pow(s,3),c=Math.pow(i,3);return a=n>.008856?n:(a-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s*=95.047,a*=100,i*=108.883,[s,a,i]};be.lab.lch=function(t){var e=t[0],r=t[1],o=t[2],s,a,i;return s=Math.atan2(o,r),a=s*360/2/Math.PI,a<0&&(a+=360),i=Math.sqrt(r*r+o*o),[e,i,a]};be.lch.lab=function(t){var e=t[0],r=t[1],o=t[2],s,a,i;return i=o/360*2*Math.PI,s=r*Math.cos(i),a=r*Math.sin(i),[e,s,a]};be.rgb.ansi16=function(t){var e=t[0],r=t[1],o=t[2],s=1 in arguments?arguments[1]:be.rgb.hsv(t)[2];if(s=Math.round(s/50),s===0)return 30;var a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return s===2&&(a+=60),a};be.hsv.ansi16=function(t){return be.rgb.ansi16(be.hsv.rgb(t),t[2])};be.rgb.ansi256=function(t){var e=t[0],r=t[1],o=t[2];if(e===r&&r===o)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var s=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5);return s};be.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,o=(e&1)*r*255,s=(e>>1&1)*r*255,a=(e>>2&1)*r*255;return[o,s,a]};be.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,o=Math.floor(t/36)/5*255,s=Math.floor((r=t%36)/6)/5*255,a=r%6/5*255;return[o,s,a]};be.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};be.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(n){return n+n}).join(""));var o=parseInt(r,16),s=o>>16&255,a=o>>8&255,i=o&255;return[s,a,i]};be.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.max(Math.max(e,r),o),a=Math.min(Math.min(e,r),o),i=s-a,n,u;return i<1?n=a/(1-i):n=0,i<=0?u=0:s===e?u=(r-o)/i%6:s===r?u=2+(o-e)/i:u=4+(e-r)/i+4,u/=6,u%=1,[u*360,i*100,n*100]};be.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,o=1,s=0;return r<.5?o=2*e*r:o=2*e*(1-r),o<1&&(s=(r-.5*o)/(1-o)),[t[0],o*100,s*100]};be.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,o=e*r,s=0;return o<1&&(s=(r-o)/(1-o)),[t[0],o*100,s*100]};be.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,o=t[2]/100;if(r===0)return[o*255,o*255,o*255];var s=[0,0,0],a=e%1*6,i=a%1,n=1-i,u=0;switch(Math.floor(a)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=n,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=n,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=n}return u=(1-r)*o,[(r*s[0]+u)*255,(r*s[1]+u)*255,(r*s[2]+u)*255]};be.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,o=e+r*(1-e),s=0;return o>0&&(s=e/o),[t[0],s*100,o*100]};be.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,o=r*(1-e)+.5*e,s=0;return o>0&&o<.5?s=e/(2*o):o>=.5&&o<1&&(s=e/(2*(1-o))),[t[0],s*100,o*100]};be.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,o=e+r*(1-e);return[t[0],(o-e)*100,(1-o)*100]};be.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,o=1-r,s=o-e,a=0;return s<1&&(a=(o-s)/(1-s)),[t[0],s*100,a*100]};be.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};be.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};be.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};be.gray.hsl=be.gray.hsv=function(t){return[0,0,t[0]]};be.gray.hwb=function(t){return[0,100,t[0]]};be.gray.cmyk=function(t){return[0,0,0,t[0]]};be.gray.lab=function(t){return[t[0],0,0]};be.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,o=r.toString(16).toUpperCase();return"000000".substring(o.length)+o};be.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var Fwe=h((Lur,Vwe)=>{l();var JM=v4();function BCt(){for(var t={},e=Object.keys(JM),r=e.length,o=0;o<r;o++)t[e[o]]={distance:-1,parent:null};return t}function DCt(t){var e=BCt(),r=[t];for(e[t].distance=0;r.length;)for(var o=r.pop(),s=Object.keys(JM[o]),a=s.length,i=0;i<a;i++){var n=s[i],u=e[n];u.distance===-1&&(u.distance=e[o].distance+1,u.parent=o,r.unshift(n))}return e}function LCt(t,e){return function(r){return e(t(r))}}function UCt(t,e){for(var r=[e[t].parent,t],o=JM[e[t].parent][t],s=e[t].parent;e[s].parent;)r.unshift(e[s].parent),o=LCt(JM[e[s].parent][s],o),s=e[s].parent;return o.conversion=r,o}Vwe.exports=function(t){for(var e=DCt(t),r={},o=Object.keys(e),s=o.length,a=0;a<s;a++){var i=o[a],n=e[i];n.parent!==null&&(r[i]=UCt(i,e))}return r}});var kwe=h((Gur,Hwe)=>{l();var T4=v4(),GCt=Fwe(),hy={},VCt=Object.keys(T4);function FCt(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function HCt(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var o=t(r);if(typeof o=="object")for(var s=o.length,a=0;a<s;a++)o[a]=Math.round(o[a]);return o};return"conversion"in t&&(e.conversion=t.conversion),e}VCt.forEach(function(t){hy[t]={},Object.defineProperty(hy[t],"channels",{value:T4[t].channels}),Object.defineProperty(hy[t],"labels",{value:T4[t].labels});var e=GCt(t),r=Object.keys(e);r.forEach(function(o){var s=e[o];hy[t][o]=HCt(s),hy[t][o].raw=FCt(s)})});Hwe.exports=hy});var qwe=h((Fur,Zwe)=>{"use strict";l();var $E=Mwe(),Hi=kwe(),C4=[].slice,Wwe=["keyword","gray","hex"],A4={};Object.keys(Hi).forEach(function(t){A4[C4.call(Hi[t].labels).sort().join("")]=t});var $M={};function en(t,e){if(!(this instanceof en))return new en(t,e);if(e&&e in Wwe&&(e=null),e&&!(e in Hi))throw new Error("Unknown model: "+e);var r,o;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof en)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if(typeof t=="string"){var s=$E.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,o=Hi[this.model].channels,this.color=s.value.slice(0,o),this.valpha=typeof s.value[o]=="number"?s.value[o]:1}else if(t.length){this.model=e||"rgb",o=Hi[this.model].channels;var a=C4.call(t,0,o);this.color=I4(a,o),this.valpha=typeof t[o]=="number"?t[o]:1}else if(typeof t=="number")t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;var i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);var n=i.sort().join("");if(!(n in A4))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=A4[n];var u=Hi[this.model].labels,c=[];for(r=0;r<u.length;r++)c.push(t[u[r]]);this.color=I4(c)}if($M[this.model])for(o=Hi[this.model].channels,r=0;r<o;r++){var d=$M[this.model][r];d&&(this.color[r]=d(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}en.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in $E.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);var r=e.valpha===1?e.color:e.color.concat(this.valpha);return $E.to[e.model](r)},percentString:function(t){var e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:e.color.concat(this.valpha);return $E.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=Hi[this.model].channels,r=Hi[this.model].labels,o=0;o<e;o++)t[r[o]]=this.color[o];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new en(this.color.map(WCt(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new en(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:or("rgb",0,Cr(255)),green:or("rgb",1,Cr(255)),blue:or("rgb",2,Cr(255)),hue:or(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:or("hsl",1,Cr(100)),lightness:or("hsl",2,Cr(100)),saturationv:or("hsv",1,Cr(100)),value:or("hsv",2,Cr(100)),chroma:or("hcg",1,Cr(100)),gray:or("hcg",2,Cr(100)),white:or("hwb",1,Cr(100)),wblack:or("hwb",2,Cr(100)),cyan:or("cmyk",0,Cr(100)),magenta:or("cmyk",1,Cr(100)),yellow:or("cmyk",2,Cr(100)),black:or("cmyk",3,Cr(100)),x:or("xyz",0,Cr(100)),y:or("xyz",1,Cr(100)),z:or("xyz",2,Cr(100)),l:or("lab",0,Cr(100)),a:or("lab",1),b:or("lab",2),keyword:function(t){return arguments.length?new en(t):Hi[this.model].keyword(this.color)},hex:function(t){return arguments.length?new en(t):$E.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity:function(){for(var t=this.rgb().color,e=[],r=0;r<t.length;r++){var o=t[r]/255;e[r]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color,e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return en.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix:function(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);var r=t.rgb(),o=this.rgb(),s=e===void 0?.5:e,a=2*s-1,i=r.alpha()-o.alpha(),n=((a*i===-1?a:(a+i)/(1+a*i))+1)/2,u=1-n;return en.rgb(n*r.red()+u*o.red(),n*r.green()+u*o.green(),n*r.blue()+u*o.blue(),r.alpha()*s+o.alpha()*(1-s))}};Object.keys(Hi).forEach(function(t){if(Wwe.indexOf(t)===-1){var e=Hi[t].channels;en.prototype[t]=function(){if(this.model===t)return new en(this);if(arguments.length)return new en(arguments,t);var r=typeof arguments[e]=="number"?e:this.valpha;return new en(ZCt(Hi[this.model][t].raw(this.color)).concat(r),t)},en[t]=function(r){return typeof r=="number"&&(r=I4(C4.call(arguments),e)),new en(r,t)}}});function kCt(t,e){return Number(t.toFixed(e))}function WCt(t){return function(e){return kCt(e,t)}}function or(t,e,r){return t=Array.isArray(t)?t:[t],t.forEach(function(o){($M[o]||($M[o]=[]))[e]=r}),t=t[0],function(o){var s;return arguments.length?(r&&(o=r(o)),s=this[t](),s.color[e]=o,s):(s=this[t]().color[e],r&&(s=r(s)),s)}}function Cr(t){return function(e){return Math.max(0,Math.min(t,e))}}function ZCt(t){return Array.isArray(t)?t:[t]}function I4(t,e){for(var r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}Zwe.exports=en});var jwe=h((kur,Ywe)=>{"use strict";l();Ywe.exports=function(e){for(var r=0,o=0;r<e.length;o=e.charCodeAt(r++)+((o<<5)-o));var s=Math.floor(Math.abs(Math.sin(o)*1e4%1*16777216)).toString(16);return"#"+Array(6-s.length+1).join("0")+s}});var Jwe=h((Zur,zwe)=>{"use strict";l();var Kwe=qwe(),Xwe=jwe();zwe.exports=function(e,r){var o=e.split(r||":"),s=Xwe(o[0]);if(!o.length)return s;for(var a=0,i=o.length-1;a<i;a++)s=Kwe(s).mix(Kwe(Xwe(o[a+1]))).saturate(1).hex();return s}});var Qwe=h((Yur,$we)=>{"use strict";l();function cs(t,e){if(e)return new cs(t).style(e);if(!(this instanceof cs))return new cs(t);this.text=t}cs.prototype.prefix="\x1B[";cs.prototype.suffix="m";cs.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),o=e.substring(2,4),s=e.substring(4,6);return[parseInt(r,16),parseInt(o,16),parseInt(s,16)]};cs.prototype.rgb=function(e,r,o){var s=e/255*5,a=r/255*5,i=o/255*5;return this.ansi(s,a,i)};cs.prototype.ansi=function(e,r,o){var s=Math.round(e),a=Math.round(r),i=Math.round(o);return 16+s*36+a*6+i};cs.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};cs.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};$we.exports=cs});var tPe=h((Kur,ePe)=>{l();var qCt=Jwe(),YCt=Qwe();ePe.exports=function(e,r){var o=r.namespace,s=r.colors!==!1?YCt(o+":",qCt(o)):o+":";return e[0]=s+" "+e[0],e}});var nPe=h((zur,rPe)=>{"use strict";l();rPe.exports=function(e,r){if(!r)return!1;for(var o=r.split(/[\s,]+/),s=0;s<o.length;s++){if(r=o[s].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var oPe=h(($ur,iPe)=>{l();var jCt=nPe();iPe.exports=function(e){return function(o){try{return jCt(o,e())}catch{}return!1}}});var aPe=h((ecr,sPe)=>{l();var KCt=oPe();sPe.exports=KCt(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var cPe=h((rcr,uPe)=>{l();uPe.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var dPe=h((icr,lPe)=>{l();var XCt=E4(),zCt=require("tty").isatty(1),QM=XCt(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:zCt,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});QM.modify(tPe());QM.use(aPe());QM.set(cPe());lPe.exports=QM});var QE=h((scr,R4)=>{l();process.env.NODE_ENV==="production"?R4.exports=Ewe():R4.exports=dPe()});var pPe=h((ucr,fPe)=>{"use strict";l();var O4=require("fs"),{StringDecoder:JCt}=require("string_decoder"),{Stream:$Ct}=fy();function QCt(){}fPe.exports=(t,e)=>{let r=Buffer.alloc(65536),o=new JCt("utf8"),s=new $Ct,a="",i=0,n=0;return t.start===-1&&delete t.start,s.readable=!0,s.destroy=()=>{s.destroyed=!0,s.emit("end"),s.emit("close")},O4.open(t.file,"a+","0644",(u,c)=>{if(u){e?e(u):s.emit("error",u),s.destroy();return}(function d(){if(s.destroyed){O4.close(c,QCt);return}return O4.read(c,r,0,r.length,i,(f,g)=>{if(f){e?e(f):s.emit("error",f),s.destroy();return}if(!g)return a&&((t.start==null||n>t.start)&&(e?e(null,a):s.emit("line",a)),n++,a=""),setTimeout(d,1e3);let y=o.write(r.slice(0,g));e||s.emit("data",y),y=(a+y).split(/\n+/);let S=y.length-1,T=0;for(;T<S;T++)(t.start==null||n>t.start)&&(e?e(null,y[T]):s.emit("line",y[T])),n++;return a=y[S],i+=g,d()})})()}),e?s.destroy:s}});var mPe=h((dcr,gPe)=>{"use strict";l();var Iu=require("fs"),Cn=require("path"),e0t=awe(),t0t=require("zlib"),{MESSAGE:r0t}=gr(),{Stream:n0t,PassThrough:hPe}=fy(),i0t=rp(),ls=QE()("winston:file"),o0t=require("os"),s0t=pPe();gPe.exports=class extends i0t{constructor(e={}){super(e),this.name=e.name||"file";function r(o,...s){s.slice(1).forEach(a=>{if(e[a])throw new Error(`Cannot set ${a} and ${o} together`)})}if(this._stream=new hPe,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?Cn.basename(e.filename):"winston.log",this.dirname=e.dirname||Cn.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=Cn.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:o0t.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let o=`${e[r0t]}${this.eol}`,s=Buffer.byteLength(o);function a(){if(this._size+=s,this._pendingSize-=s,ls("logged %s %s",this._size,o),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=s,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let i=this._stream.write(o,a.bind(this));return i?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),ls("written",i,this._drain),this.finishIfEnding(),i}query(e,r){typeof e=="function"&&(r=e,e={}),e=f(e);let o=Cn.join(this.dirname,this.filename),s="",a=[],i=0,n=Iu.createReadStream(o,{encoding:"utf8"});n.on("error",g=>{if(n.readable&&n.destroy(),!!r)return g.code!=="ENOENT"?r(g):r(null,a)}),n.on("data",g=>{g=(s+g).split(/\n+/);let y=g.length-1,S=0;for(;S<y;S++)(!e.start||i>=e.start)&&u(g[S]),i++;s=g[y]}),n.on("close",()=>{s&&u(s,!0),e.order==="desc"&&(a=a.reverse()),r&&r(null,a)});function u(g,y){try{let S=JSON.parse(g);d(S)&&c(S)}catch(S){y||n.emit("error",S)}}function c(g){if(e.rows&&a.length>=e.rows&&e.order!=="desc"){n.readable&&n.destroy();return}e.fields&&(g=e.fields.reduce((y,S)=>(y[S]=g[S],y),{})),e.order==="desc"&&a.length>=e.rows&&a.shift(),a.push(g)}function d(g){if(!g||typeof g!="object")return;let y=new Date(g.timestamp);if(!(e.from&&y<e.from||e.until&&y>e.until||e.level&&e.level!==g.level))return!0}function f(g){return g=g||{},g.rows=g.rows||g.limit||10,g.start=g.start||0,g.until=g.until||new Date,typeof g.until!="object"&&(g.until=new Date(g.until)),g.from=g.from||g.until-24*60*60*1e3,typeof g.from!="object"&&(g.from=new Date(g.from)),g.order=g.order||"desc",g}}stream(e={}){let r=Cn.join(this.dirname,this.filename),o=new n0t,s={file:r,start:e.start};return o.destroy=s0t(s,(a,i)=>{if(a)return o.emit("error",a);try{o.emit("data",i),i=JSON.parse(i),o.emit("log",i)}catch(n){o.emit("error",n)}}),o}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);ls("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.eventNames().includes("rotate")?this._stream.emit("rotate"):this._rotate=!1})})))}stat(e){let r=this._getFile(),o=Cn.join(this.dirname,r);Iu.stat(o,(s,a)=>{if(s&&s.code==="ENOENT")return ls("ENOENT\xA0ok",o),this.filename=r,e(null,0);if(s)return ls(`err ${s.code} ${o}`),e(s);if(!a||this._needsNewFile(a.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,a.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=Cn.join(this.dirname,this.filename);ls("create stream start",r,this.options);let o=Iu.createWriteStream(r,this.options).on("error",s=>ls(s)).on("close",()=>ls("close",o.path,o.bytesWritten)).on("open",()=>{ls("file open ok",r),this.emit("open",r),e.pipe(o),this.rotatedWhileOpening&&(this._stream=new hPe,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(o),e.end())});if(ls("create stream ok",r),this.zippedArchive){let s=t0t.createGzip();return s.pipe(o),s}return o}_incFile(e){ls("_incFile",this.filename);let r=Cn.extname(this._basename),o=Cn.basename(this._basename,r);this.tailable?this._checkMaxFilesTailable(r,o,e):(this._created+=1,this._checkMaxFilesIncrementing(r,o,e))}_getFile(){let e=Cn.extname(this._basename),r=Cn.basename(this._basename,e),o=this.rotationFormat?this.rotationFormat():this._created,s=!this.tailable&&this._created?`${r}${o}${e}`:`${r}${e}`;return this.zippedArchive&&!this.tailable?`${s}.gz`:s}_checkMaxFilesIncrementing(e,r,o){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(o);let s=this._created-this.maxFiles,a=s!==0?s:"",i=this.zippedArchive?".gz":"",n=`${r}${a}${e}${i}`,u=Cn.join(this.dirname,n);Iu.unlink(u,o)}_checkMaxFilesTailable(e,r,o){let s=[];if(!this.maxFiles)return;let a=this.zippedArchive?".gz":"";for(let i=this.maxFiles-1;i>1;i--)s.push(function(n,u){let c=`${r}${n-1}${e}${a}`,d=Cn.join(this.dirname,c);Iu.exists(d,f=>{if(!f)return u(null);c=`${r}${n}${e}${a}`,Iu.rename(d,Cn.join(this.dirname,c),u)})}.bind(this,i));e0t(s,()=>{Iu.rename(Cn.join(this.dirname,`${r}${e}`),Cn.join(this.dirname,`${r}1${e}${a}`),o)})}_createLogDirIfNotExist(e){Iu.existsSync(e)||Iu.mkdirSync(e,{recursive:!0})}}});var _Pe=h((hcr,yPe)=>{"use strict";l();var a0t=require("http"),u0t=require("https"),{Stream:c0t}=fy(),l0t=rp(),d0t=BE();yPe.exports=class extends l0t{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(o,s)=>{s&&s.statusCode!==200&&(o=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),o?this.emit("warn",o):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let o=e.params.auth||null;delete e.params.auth;let s=e.params.path||null;delete e.params.path,this._request(e,o,s,(a,i,n)=>{if(i&&i.statusCode!==200&&(a=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),a)return r(a);if(typeof n=="string")try{n=JSON.parse(n)}catch(u){return r(u)}r(null,n)})}stream(e={}){let r=new c0t;e={method:"stream",params:e};let o=e.params.path||null;delete e.params.path;let s=e.params.auth||null;delete e.params.auth;let a="",i=this._request(e,s,o);return r.destroy=()=>i.destroy(),i.on("data",n=>{n=(a+n).split(/\n+/);let u=n.length-1,c=0;for(;c<u;c++)try{r.emit("log",JSON.parse(n[c]))}catch(d){r.emit("error",d)}a=n[u]}),i.on("error",n=>r.emit("error",n)),r}_request(e,r,o,s){e=e||{},r=r||this.auth,o=o||this.path||"",this.batch?this._doBatch(e,s,r,o):this._doRequest(e,s,r,o)}_doBatch(e,r,o,s){if(this.batchOptions.push(e),this.batchOptions.length===1){let a=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){a.batchTimeoutID=-1,a._doBatchRequest(a.batchCallback,o,s)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,o,s)}_doBatchRequest(e,r,o){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let s=this.batchOptions.slice();this.batchOptions=[],this._doRequest(s,e,r,o)}_doRequest(e,r,o,s){let a=Object.assign({},this.headers);o&&o.bearer&&(a.Authorization=`Bearer ${o.bearer}`);let i=(this.ssl?u0t:a0t).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${s.replace(/^\//,"")}`,headers:a,auth:o&&o.username&&o.password?`${o.username}:${o.password}`:"",agent:this.agent});i.on("error",r),i.on("response",n=>n.on("end",()=>r(null,n)).resume()),i.end(Buffer.from(d0t(e,this.options.replacer),"utf8"))}}});var N4=h((mcr,SPe)=>{"use strict";l();var fa=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";fa.writable=t=>fa(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";fa.readable=t=>fa(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";fa.duplex=t=>fa.writable(t)&&fa.readable(t);fa.transform=t=>fa.duplex(t)&&typeof t._transform=="function";SPe.exports=fa});var EPe=h((Scr,bPe)=>{"use strict";l();var f0t=N4(),{MESSAGE:p0t}=gr(),h0t=require("os"),g0t=rp();bPe.exports=class extends g0t{constructor(e={}){if(super(e),!e.stream||!f0t(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:h0t.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[p0t]}${this.eol}`),r&&r()}}});var vPe=h(ev=>{"use strict";l();Object.defineProperty(ev,"Console",{configurable:!0,enumerable:!0,get(){return INe()}});Object.defineProperty(ev,"File",{configurable:!0,enumerable:!0,get(){return mPe()}});Object.defineProperty(ev,"Http",{configurable:!0,enumerable:!0,get(){return _Pe()}});Object.defineProperty(ev,"Stream",{configurable:!0,enumerable:!0,get(){return EPe()}})});var tx=h(tv=>{"use strict";l();var ex=Nj(),{configs:w4}=gr();tv.cli=ex.levels(w4.cli);tv.npm=ex.levels(w4.npm);tv.syslog=ex.levels(w4.syslog);tv.addColors=ex.levels});var APe=h((rx,TPe)=>{"use strict";l();Object.defineProperty(rx,"__esModule",{value:!0});var m0t=wM(),y0t=op(m0t),_0t=FM(),S0t=op(_0t),b0t=f4(),E0t=op(b0t),v0t=c4(),T0t=op(v0t),A0t=l4(),I0t=op(A0t),C0t=np(),R0t=op(C0t),O0t=dy(),N0t=op(O0t);function op(t){return t&&t.__esModule?t:{default:t}}function w0t(t,e,r){r=(0,T0t.default)(r);var o=0,s=0,{length:a}=t,i=!1;a===0&&r(null);function n(u,c){u===!1&&(i=!0),i!==!0&&(u?r(u):(++s===a||c===S0t.default)&&r(null))}for(;o<a;o++)e(t[o],o,(0,I0t.default)(n))}function P0t(t,e,r){return(0,E0t.default)(t,1/0,e,r)}function M0t(t,e,r){var o=(0,y0t.default)(t)?w0t:P0t;return o(t,(0,R0t.default)(e),r)}rx.default=(0,N0t.default)(M0t,3);TPe.exports=rx.default});var CPe=h((nx,IPe)=>{"use strict";l();Object.defineProperty(nx,"__esModule",{value:!0});nx.default=x0t;function x0t(t){return(e,r,o)=>t(e,o)}IPe.exports=nx.default});var sx=h((ox,RPe)=>{"use strict";l();Object.defineProperty(ox,"__esModule",{value:!0});var B0t=APe(),D0t=ix(B0t),L0t=CPe(),U0t=ix(L0t),G0t=np(),V0t=ix(G0t),F0t=dy(),H0t=ix(F0t);function ix(t){return t&&t.__esModule?t:{default:t}}function k0t(t,e,r){return(0,D0t.default)(t,(0,U0t.default)((0,V0t.default)(e)),r)}ox.default=(0,H0t.default)(k0t,3);RPe.exports=ox.default});var NPe=h((Ocr,OPe)=>{"use strict";l();var W0t=Object.prototype.toString;OPe.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),o=W0t.call(e).slice(8,-1);return o==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=o,r||"anonymous"}});var P4=h((wcr,wPe)=>{"use strict";l();var Z0t=NPe();wPe.exports=function(e){var r=0,o;function s(){return r||(r=1,o=e.apply(this,arguments),e=null),o}return s.displayName=Z0t(e),s}});var M4=h(nv=>{l();nv.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},o=Error.prepareStackTrace;Error.prepareStackTrace=function(a,i){return i},Error.captureStackTrace(r,t||nv.get);var s=r.stack;return Error.prepareStackTrace=o,Error.stackTraceLimit=e,s};nv.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(o){if(o.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:o,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var s=o.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(s){var a=null,i=null,n=null,u=null,c=null,d=s[5]==="native";if(s[1]){n=s[1];var f=n.lastIndexOf(".");if(n[f-1]=="."&&f--,f>0){a=n.substr(0,f),i=n.substr(f+1);var g=a.indexOf(".Module");g>0&&(n=n.substr(g+1),a=a.substr(0,g))}u=null}i&&(u=a,c=i),i==="<anonymous>"&&(c=null,n=null);var y={fileName:s[2]||null,lineNumber:parseInt(s[3],10)||null,functionName:n,typeName:u,methodName:c,columnNumber:parseInt(s[4],10)||null,native:d};return e._createParsedCallSite(y)}}).filter(function(o){return!!o})};function rv(t){for(var e in t)this[e]=t[e]}var q0t=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Y0t=["topLevel","eval","native","constructor"];q0t.forEach(function(t){rv.prototype[t]=null,rv.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Y0t.forEach(function(t){rv.prototype[t]=!1,rv.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});nv._createParsedCallSite=function(t){return new rv(t)}});var x4=h((Dcr,PPe)=>{"use strict";l();var{Writable:j0t}=fy();PPe.exports=class extends j0t{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,o){return e.exception?this.transport.log(e,o):(o(),!0)}}});var D4=h((Gcr,BPe)=>{"use strict";l();var MPe=require("os"),K0t=sx(),B4=QE()("winston:exception"),X0t=P4(),xPe=M4(),z0t=x4();BPe.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(o=>this._addHandler(o));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:MPe.loadavg(),uptime:MPe.uptime()}}getTrace(e){return(e?xPe.parse(e):xPe.get()).map(o=>({column:o.getColumnNumber(),file:o.getFileName(),function:o.getFunctionName(),line:o.getLineNumber(),method:o.getMethodName(),native:o.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new z0t(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),o=this._getExceptionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!o.length&&s&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),s=!1);function i(){B4("doExit",s),B4("process._exiting",process._exiting),s&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!o||o.length===0)return process.nextTick(i);K0t(o,(n,u)=>{let c=X0t(u),d=n.transport||n;function f(g){return()=>{B4(g),c()}}d._ending=!0,d.once("finish",f("finished")),d.once("error",f("error"))},()=>s&&i()),this.logger.log(r),s&&(a=setTimeout(i,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var U4=h((Hcr,UPe)=>{"use strict";l();var DPe=require("os"),J0t=sx(),L4=QE()("winston:rejection"),$0t=P4(),LPe=M4(),Q0t=x4();UPe.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(o=>this._addHandler(o));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:DPe.loadavg(),uptime:DPe.uptime()}}getTrace(e){return(e?LPe.parse(e):LPe.get()).map(o=>({column:o.getColumnNumber(),file:o.getFileName(),function:o.getFunctionName(),line:o.getLineNumber(),method:o.getMethodName(),native:o.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new Q0t(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),o=this._getRejectionHandlers(),s=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,a;!o.length&&s&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),s=!1);function i(){L4("doExit",s),L4("process._exiting",process._exiting),s&&!process._exiting&&(a&&clearTimeout(a),process.exit(1))}if(!o||o.length===0)return process.nextTick(i);J0t(o,(n,u)=>{let c=$0t(u),d=n.transport||n;function f(g){return()=>{L4(g),c()}}d._ending=!0,d.once("finish",f("finished")),d.once("error",f("error"))},()=>s&&i()),this.logger.log(r),s&&(a=setTimeout(i,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var VPe=h((Wcr,GPe)=>{"use strict";l();var G4=class{constructor(e){let r=ax();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};GPe.exports=G4});var ax=h((qcr,WPe)=>{"use strict";l();var{Stream:eRt,Transform:tRt}=fy(),FPe=sx(),{LEVEL:pa,SPLAT:HPe}=gr(),kPe=N4(),rRt=D4(),nRt=U4(),iRt=s4(),oRt=VPe(),{warn:sRt}=wj(),aRt=tx(),uRt=/%[scdjifoO%]/g,ux=class extends tRt{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(o){let s=Object.assign({},e,o);o instanceof Error&&(s.stack=o.stack,s.message=o.message),r.write(s)}}})}configure({silent:e,format:r,defaultMeta:o,levels:s,level:a="info",exitOnError:i=!0,transports:n,colors:u,emitErrs:c,formatters:d,padLevels:f,rewriters:g,stripColors:y,exceptionHandlers:S,rejectionHandlers:T}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||Tj()(),this.defaultMeta=o||null,this.levels=s||this.levels||aRt.npm.levels,this.level=a,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new rRt(this),this.rejections=new nRt(this),this.profilers={},this.exitOnError=i,n&&(n=Array.isArray(n)?n:[n],n.forEach(C=>this.add(C))),u||c||d||f||g||y)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));S&&this.exceptions.handle(S),T&&this.rejections.handle(T)}isLevelEnabled(e){let r=V4(this.levels,e);if(r===null)return!1;let o=V4(this.levels,this.level);return o===null?!1:!this.transports||this.transports.length===0?o>=r:this.transports.findIndex(a=>{let i=V4(this.levels,a.level);return i===null&&(i=o),i>=r})!==-1}log(e,r,...o){if(arguments.length===1)return e[pa]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[pa]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[pa]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[s]=o;if(typeof s=="object"&&s!==null&&!(r&&r.match&&r.match(uRt))){let i=Object.assign({},this.defaultMeta,s,{[pa]:e,[HPe]:o,level:e,message:r});return s.message&&(i.message=`${i.message} ${s.message}`),s.stack&&(i.stack=s.stack),this.write(i),this}return this.write(Object.assign({},this.defaultMeta,{[pa]:e,[HPe]:o,level:e,message:r})),this}_transform(e,r,o){if(this.silent)return o();e[pa]||(e[pa]=e.level),!this.levels[e[pa]]&&this.levels[e[pa]]!==0&&console.error("[winston] Unknown logger level: %s",e[pa]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,o()}}_final(e){let r=this.transports.slice();FPe(r,(o,s)=>{if(!o||o.finished)return setImmediate(s);o.once("finish",s),o.end()},e)}add(e){let r=!kPe(e)||e.log.length>2?new iRt({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!kPe(e)||e.log.length>2)&&(r=this.transports.filter(o=>o.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){sRt.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let o={},s=Object.assign({},e.query||{});function a(n,u){e.query&&typeof n.formatQuery=="function"&&(e.query=n.formatQuery(s)),n.query(e,(c,d)=>{if(c)return u(c);typeof n.formatResults=="function"&&(d=n.formatResults(d,e.format)),u(null,d)})}function i(n,u){a(n,(c,d)=>{u&&(d=c||d,d&&(o[n.name]=d),u()),u=null})}FPe(this.transports.filter(n=>!!n.query),i,()=>r(null,o))}stream(e={}){let r=new eRt,o=[];return r._streams=o,r.destroy=()=>{let s=o.length;for(;s--;)o[s].destroy()},this.transports.filter(s=>!!s.stream).forEach(s=>{let a=s.stream(e);a&&(o.push(a),a.on("log",i=>{i.transport=i.transport||[],i.transport.push(s.name),r.emit("log",i)}),a.on("error",i=>{i.transport=i.transport||[],i.transport.push(s.name),r.emit("error",i)}))}),r}startTimer(){return new oRt(this)}profile(e,...r){let o=Date.now();if(this.profilers[e]){let s=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let a=typeof r[r.length-1]=="object"?r.pop():{};return a.level=a.level||"info",a.durationMs=o-s,a.message=a.message||e,this.write(a)}return this.profilers[e]=o,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function o(s){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,s,r)}r["__winston"+e]||(r["__winston"+e]=o.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function V4(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(ux.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});WPe.exports=ux});var F4=h((jcr,ZPe)=>{"use strict";l();var{LEVEL:cRt}=gr(),lRt=tx(),dRt=ax(),fRt=QE()("winston:create-logger");function pRt(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}ZPe.exports=function(t={}){t.levels=t.levels||lRt.npm.levels;class e extends dRt{constructor(s){super(s)}}let r=new e(t);return Object.keys(t.levels).forEach(function(o){if(fRt('Define prototype method for "%s"',o),o==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[o]=function(...s){let a=this||r;if(s.length===1){let[i]=s,n=i&&i.message&&i||{message:i};return n.level=n[cRt]=o,a._addDefaultMeta(n),a.write(n),this||r}return s.length===0?(a.log(o,""),a):a.log(o,...s)},e.prototype[pRt(o)]=function(){return(this||r).isLevelEnabled(o)}}),r}});var YPe=h((zcr,qPe)=>{"use strict";l();var hRt=F4();qPe.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let o=r.transports||this.options.transports;o?r.transports=Array.isArray(o)?o.slice():[o]:r.transports=[];let s=hRt(r);s.on("close",()=>this._delete(e)),this.loggers.set(e,s)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,o)=>this._removeLogger(o))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var KPe=h(Ut=>{"use strict";l();var jPe=Nj(),{warn:iv}=wj();Ut.version=AOe().version;Ut.transports=vPe();Ut.config=tx();Ut.addColors=jPe.levels;Ut.format=jPe.format;Ut.createLogger=F4();Ut.Logger=ax();Ut.ExceptionHandler=D4();Ut.RejectionHandler=U4();Ut.Container=YPe();Ut.Transport=rp();Ut.loggers=new Ut.Container;var Cu=Ut.createLogger();Object.keys(Ut.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>Ut[t]=(...e)=>Cu[t](...e));Object.defineProperty(Ut,"level",{get(){return Cu.level},set(t){Cu.level=t}});Object.defineProperty(Ut,"exceptions",{get(){return Cu.exceptions}});["exitOnError"].forEach(t=>{Object.defineProperty(Ut,t,{get(){return Cu[t]},set(e){Cu[t]=e}})});Object.defineProperty(Ut,"default",{get(){return{exceptionHandlers:Cu.exceptionHandlers,rejectionHandlers:Cu.rejectionHandlers,transports:Cu.transports}}});iv.deprecated(Ut,"setLevels");iv.forFunctions(Ut,"useFormat",["cli"]);iv.forProperties(Ut,"useFormat",["padLevels","stripColors"]);iv.forFunctions(Ut,"deprecated",["addRewriter","addFilter","clone","extend"]);iv.forProperties(Ut,"deprecated",["emitErrs","levelLength"])});var y1e={};nT(y1e,{__addDisposableResource:()=>g1e,__assign:()=>cx,__asyncDelegator:()=>a1e,__asyncGenerator:()=>s1e,__asyncValues:()=>u1e,__await:()=>gy,__awaiter:()=>e1e,__classPrivateFieldGet:()=>f1e,__classPrivateFieldIn:()=>h1e,__classPrivateFieldSet:()=>p1e,__createBinding:()=>dx,__decorate:()=>JPe,__disposeResources:()=>m1e,__esDecorate:()=>gRt,__exportStar:()=>r1e,__extends:()=>XPe,__generator:()=>t1e,__importDefault:()=>d1e,__importStar:()=>l1e,__makeTemplateObject:()=>c1e,__metadata:()=>QPe,__param:()=>$Pe,__propKey:()=>yRt,__read:()=>k4,__rest:()=>zPe,__runInitializers:()=>mRt,__setFunctionName:()=>_Rt,__spread:()=>n1e,__spreadArray:()=>o1e,__spreadArrays:()=>i1e,__values:()=>lx,default:()=>ERt});function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H4(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zPe(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(t);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(t,o[s])&&(r[o[s]]=t[o[s]]);return r}function JPe(t,e,r,o){var s=arguments.length,a=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,r):o,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,o);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(a=(s<3?i(a):s>3?i(e,r,a):i(e,r))||a);return s>3&&a&&Object.defineProperty(e,r,a),a}function $Pe(t,e){return function(r,o){e(r,o,t)}}function gRt(t,e,r,o,s,a){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var n=o.kind,u=n==="getter"?"get":n==="setter"?"set":"value",c=!e&&t?o.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),f,g=!1,y=r.length-1;y>=0;y--){var S={};for(var T in o)S[T]=T==="access"?{}:o[T];for(var T in o.access)S.access[T]=o.access[T];S.addInitializer=function(R){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(R||null))};var C=(0,r[y])(n==="accessor"?{get:d.get,set:d.set}:d[u],S);if(n==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(f=i(C.get))&&(d.get=f),(f=i(C.set))&&(d.set=f),(f=i(C.init))&&s.unshift(f)}else(f=i(C))&&(n==="field"?s.unshift(f):d[u]=f)}c&&Object.defineProperty(c,o.name,d),g=!0}function mRt(t,e,r){for(var o=arguments.length>2,s=0;s<e.length;s++)r=o?e[s].call(t,r):e[s].call(t);return o?r:void 0}function yRt(t){return typeof t=="symbol"?t:"".concat(t)}function _Rt(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function QPe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function e1e(t,e,r,o){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function n(d){try{c(o.next(d))}catch(f){i(f)}}function u(d){try{c(o.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(n,u)}c((o=o.apply(t,e||[])).next())})}function t1e(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,s,a,i;return i={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function n(c){return function(d){return u([c,d])}}function u(c){if(o)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(r=0)),r;)try{if(o=1,s&&(a=c[0]&2?s.return:c[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,c[1])).done)return a;switch(s=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){r.label=c[1];break}if(c[0]===6&&r.label<a[1]){r.label=a[1],a=c;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(c);break}a[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{o=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function r1e(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dx(e,t,r)}function lx(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function k4(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var o=r.call(t),s,a=[],i;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function n1e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(k4(arguments[e]));return t}function i1e(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var o=Array(t),s=0,e=0;e<r;e++)for(var a=arguments[e],i=0,n=a.length;i<n;i++,s++)o[s]=a[i];return o}function o1e(t,e,r){if(r||arguments.length===2)for(var o=0,s=e.length,a;o<s;o++)(a||!(o in e))&&(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}function gy(t){return this instanceof gy?(this.v=t,this):new gy(t)}function s1e(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),s,a=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(g){o[g]&&(s[g]=function(y){return new Promise(function(S,T){a.push([g,y,S,T])>1||n(g,y)})})}function n(g,y){try{u(o[g](y))}catch(S){f(a[0][3],S)}}function u(g){g.value instanceof gy?Promise.resolve(g.value.v).then(c,d):f(a[0][2],g)}function c(g){n("next",g)}function d(g){n("throw",g)}function f(g,y){g(y),a.shift(),a.length&&n(a[0][0],a[0][1])}}function a1e(t){var e,r;return e={},o("next"),o("throw",function(s){throw s}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(s,a){e[s]=t[s]?function(i){return(r=!r)?{value:gy(t[s](i)),done:!1}:a?a(i):i}:a}}function u1e(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof lx=="function"?lx(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(a){r[a]=t[a]&&function(i){return new Promise(function(n,u){i=t[a](i),s(n,u,i.done,i.value)})}}function s(a,i,n,u){Promise.resolve(u).then(function(c){a({value:c,done:n})},i)}}function c1e(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function l1e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dx(e,t,r);return SRt(e,t),e}function d1e(t){return t&&t.__esModule?t:{default:t}}function f1e(t,e,r,o){if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?o:r==="a"?o.call(t):o?o.value:e.get(t)}function p1e(t,e,r,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function h1e(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function g1e(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose]}if(typeof o!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:o,async:r})}else r&&t.stack.push({async:!0});return e}function m1e(t){function e(o){t.error=t.hasError?new bRt(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}function r(){for(;t.stack.length;){var o=t.stack.pop();try{var s=o.dispose&&o.dispose.call(o.value);if(o.async)return Promise.resolve(s).then(r,function(a){return e(a),r()})}catch(a){e(a)}}if(t.hasError)throw t.error}return r()}var H4,cx,dx,SRt,bRt,ERt,_1e=Ce(()=>{l();H4=function(t,e){return H4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},H4(t,e)};cx=function(){return cx=Object.assign||function(e){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cx.apply(this,arguments)};dx=Object.create?function(t,e,r,o){o===void 0&&(o=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,o,s)}:function(t,e,r,o){o===void 0&&(o=r),t[o]=e[r]};SRt=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};bRt=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var o=new Error(r);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};ERt={__extends:XPe,__assign:cx,__rest:zPe,__decorate:JPe,__param:$Pe,__metadata:QPe,__awaiter:e1e,__generator:t1e,__createBinding:dx,__exportStar:r1e,__values:lx,__read:k4,__spread:n1e,__spreadArrays:i1e,__spreadArray:o1e,__await:gy,__asyncGenerator:s1e,__asyncDelegator:a1e,__asyncValues:u1e,__makeTemplateObject:c1e,__importStar:l1e,__importDefault:d1e,__classPrivateFieldGet:f1e,__classPrivateFieldSet:p1e,__classPrivateFieldIn:h1e,__addDisposableResource:g1e,__disposeResources:m1e}});var E1e=h(q4=>{"use strict";l();Object.defineProperty(q4,"__esModule",{value:!0});var b1e=(_1e(),Y(y1e)),my=(0,b1e.__importStar)(dS()),vRt=rp(),TRt=gr(),ha;(function(t){t.Debug="debug",t.Log="log",t.Info="info",t.Warning="warning",t.Error="error",t.Fatal="fatal"})(ha||(ha={}));var S1e={silly:ha.Debug,verbose:ha.Debug,info:ha.Info,debug:ha.Debug,warn:ha.Warning,error:ha.Error},W4=class extends Error{constructor(e){super(e.message),this.name=e.name||"Error",e.stack&&typeof e.stack=="string"&&(this.stack=e.stack)}},Z4=class t extends vRt{constructor(e){super(e),this.silent=!1,this.levelsMap={},this.setLevelsMap=r=>{if(!r)return S1e;let o=Object.keys(r).reduce((s,a)=>(s[a]=r[a],s),{});return Object.assign(Object.assign({},S1e),o)},this.levelsMap=this.setLevelsMap(e&&e.levelsMap),this.silent=e&&e.silent||!1,(!e||!e.skipSentryInit)&&my.init(t.withDefaults(e&&e.sentry||{}))}log(e,r){var o;if(setImmediate(()=>{this.emit("logged",e)}),this.silent)return r();let{message:s,tags:a,user:i}=e,n=(0,b1e.__rest)(e,["message","tags","user"]),u=e[TRt.LEVEL],c=this.levelsMap[u];if(my.configureScope(d=>{d.clear(),a!==void 0&&t.isObject(a)&&d.setTags(a),d.setExtras(n),i!==void 0&&t.isObject(i)&&d.setUser(i)}),t.shouldLogException(c)){let d=(o=Object.values(e).find(f=>f instanceof Error))!==null&&o!==void 0?o:new W4(e);return my.captureException(d,{tags:a}),r()}return my.captureMessage(s,c),r()}end(...e){return my.flush().then(()=>{super.end(...e)}),this}get sentry(){return my}static withDefaults(e){return Object.assign(Object.assign({},e),{dsn:e&&e.dsn||process.env.SENTRY_DSN||"",serverName:e&&e.serverName||"winston-transport-sentry-node",environment:e&&e.environment||process.env.SENTRY_ENVIRONMENT||process.env.NODE_ENV||"production",debug:e&&e.debug||!!process.env.SENTRY_DEBUG||!1,sampleRate:e&&e.sampleRate||1,maxBreadcrumbs:e&&e.maxBreadcrumbs||100})}static isObject(e){let r=typeof e;return r==="function"||r==="object"&&!!e}static shouldLogException(e){return e===ha.Fatal||e===ha.Error}};q4.default=Z4});var px=h(tn=>{"use strict";l();Object.defineProperty(tn,"__esModule",{value:!0});var wRt={withStackTrace:!1},V1e=(t,e,r=wRt)=>{let o=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=r.withStackTrace?new Error().stack:void 0;return{data:o,message:t,stack:s}};function X4(t,e,r,o){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function n(d){try{c(o.next(d))}catch(f){i(f)}}function u(d){try{c(o.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(n,u)}c((o=o.apply(t,e||[])).next())})}function G1e(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ap(t){return this instanceof ap?(this.v=t,this):new ap(t)}function PRt(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(t,e||[]),s,a=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(g){o[g]&&(s[g]=function(y){return new Promise(function(S,T){a.push([g,y,S,T])>1||n(g,y)})})}function n(g,y){try{u(o[g](y))}catch(S){f(a[0][3],S)}}function u(g){g.value instanceof ap?Promise.resolve(g.value.v).then(c,d):f(a[0][2],g)}function c(g){n("next",g)}function d(g){n("throw",g)}function f(g,y){g(y),a.shift(),a.length&&n(a[0][0],a[0][1])}}function MRt(t){var e,r;return e={},o("next"),o("throw",function(s){throw s}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(s,a){e[s]=t[s]?function(i){return(r=!r)?{value:ap(t[s](i)),done:s==="return"}:a?a(i):i}:a}}function xRt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof G1e=="function"?G1e(t):t[Symbol.iterator](),r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r);function o(a){r[a]=t[a]&&function(i){return new Promise(function(n,u){i=t[a](i),s(n,u,i.done,i.value)})}}function s(a,i,n,u){Promise.resolve(u).then(function(c){a({value:c,done:n})},i)}}var ma=class t{constructor(e){this._promise=e}static fromSafePromise(e){let r=e.then(o=>new ga(o));return new t(r)}static fromPromise(e,r){let o=e.then(s=>new ga(s)).catch(s=>new Ou(r(s)));return new t(o)}static combine(e){return GRt(e)}static combineWithAllErrors(e){return VRt(e)}map(e){return new t(this._promise.then(r=>X4(this,void 0,void 0,function*(){return r.isErr()?new Ou(r.error):new ga(yield e(r.value))})))}mapErr(e){return new t(this._promise.then(r=>X4(this,void 0,void 0,function*(){return r.isOk()?new ga(r.value):new Ou(yield e(r.error))})))}andThen(e){return new t(this._promise.then(r=>{if(r.isErr())return new Ou(r.error);let o=e(r.value);return o instanceof t?o._promise:o}))}orElse(e){return new t(this._promise.then(r=>X4(this,void 0,void 0,function*(){return r.isErr()?e(r.error):new ga(r.value)})))}match(e,r){return this._promise.then(o=>o.match(e,r))}unwrapOr(e){return this._promise.then(r=>r.unwrapOr(e))}safeUnwrap(){return PRt(this,arguments,function*(){return yield ap(yield ap(yield*MRt(xRt(yield ap(this._promise.then(r=>r.safeUnwrap()))))))})}then(e,r){return this._promise.then(e,r)}},BRt=t=>new ma(Promise.resolve(new ga(t))),z4=t=>new ma(Promise.resolve(new Ou(t))),DRt=ma.fromPromise,LRt=ma.fromSafePromise,URt=t=>e=>[...e,t],F1e=t=>t.reduce((e,r)=>e.isOk()?r.isErr()?Ru(r.error):e.map(URt(r.value)):e,Al([])),GRt=t=>ma.fromSafePromise(Promise.all(t)).andThen(F1e),H1e=t=>t.reduce((e,r)=>r.isErr()?e.isErr()?Ru([...e.error,r.error]):Ru([r.error]):e.isErr()?e:Al([...e.value,r.value]),Al([])),VRt=t=>ma.fromSafePromise(Promise.all(t)).andThen(H1e);tn.Result=void 0;(function(t){function e(s,a){return(...i)=>{try{let n=s(...i);return Al(n)}catch(n){return Ru(a?a(n):n)}}}t.fromThrowable=e;function r(s){return F1e(s)}t.combine=r;function o(s){return H1e(s)}t.combineWithAllErrors=o})(tn.Result||(tn.Result={}));var Al=t=>new ga(t),Ru=t=>new Ou(t);function FRt(t){let e=t().next();return e instanceof Promise?e.then(r=>r.value):e.value}var ga=class{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return Al(e(this.value))}mapErr(e){return Al(this.value)}andThen(e){return e(this.value)}orElse(e){return Al(this.value)}asyncAndThen(e){return e(this.value)}asyncMap(e){return ma.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,r){return e(this.value)}safeUnwrap(){let e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw V1e("Called `_unsafeUnwrapErr` on an Ok",this,e)}},Ou=class{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return Ru(this.error)}mapErr(e){return Ru(e(this.error))}andThen(e){return Ru(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return z4(this.error)}asyncMap(e){return z4(this.error)}unwrapOr(e){return e}match(e,r){return r(this.error)}safeUnwrap(){let e=this.error;return function*(){throw yield Ru(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw V1e("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}},HRt=tn.Result.fromThrowable;tn.Err=Ou;tn.Ok=ga;tn.ResultAsync=ma;tn.err=Ru;tn.errAsync=z4;tn.fromPromise=DRt;tn.fromSafePromise=LRt;tn.fromThrowable=HRt;tn.ok=Al;tn.okAsync=BRt;tn.safeTry=FRt});var Q4=h((Plr,W1e)=>{l();W1e.exports="abcdefghijklmnopqrstuvwxyz"});var eK=h((xlr,Z1e)=>{l();Z1e.exports="ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var tK=h((Dlr,q1e)=>{l();q1e.exports="0123456789"});var j1e=h((Ulr,Y1e)=>{l();Y1e.exports="346789ABCDEFGHJKLMNPQRTUVWXYabcdefghijkmnpqrtwxyz"});var X1e=h((Vlr,K1e)=>{l();K1e.exports="6789BCDFGHJKLMNPQRTWbcdfghjkmnpqrtwz"});var J1e=h((Hlr,z1e)=>{l();var YRt=tK(),jRt=Q4(),KRt=eK();z1e.exports=YRt+jRt+KRt});var Q1e=h((Wlr,$1e)=>{l();$1e.exports={lowercase:Q4(),uppercase:eK(),numbers:tK(),nolookalikes:j1e(),nolookalikesSafe:X1e(),alphanumeric:J1e()}});var IMe=h((ifr,Bx)=>{l();Bx.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;Bx.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;Bx.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var hK=h((sfr,CMe)=>{l();var pK=IMe();CMe.exports={isSpaceSeparator(t){return typeof t=="string"&&pK.Space_Separator.test(t)},isIdStartChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="$"||t==="_"||pK.ID_Start.test(t))},isIdContinueChar(t){return typeof t=="string"&&(t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="$"||t==="_"||t==="\u200C"||t==="\u200D"||pK.ID_Continue.test(t))},isDigit(t){return typeof t=="string"&&/[0-9]/.test(t)},isHexDigit(t){return typeof t=="string"&&/[0-9A-Fa-f]/.test(t)}}});var PMe=h((ufr,wMe)=>{l();var Hr=hK(),mK,Zn,Bu,Lx,wl,ps,kr,SK,gv;wMe.exports=function(e,r){mK=String(e),Zn="start",Bu=[],Lx=0,wl=1,ps=0,kr=void 0,SK=void 0,gv=void 0;do kr=SNt(),vNt[Zn]();while(kr.type!=="eof");return typeof r=="function"?yK({"":gv},"",r):gv};function yK(t,e,r){let o=t[e];if(o!=null&&typeof o=="object")if(Array.isArray(o))for(let s=0;s<o.length;s++){let a=String(s),i=yK(o,a,r);i===void 0?delete o[a]:Object.defineProperty(o,a,{value:i,writable:!0,enumerable:!0,configurable:!0})}else for(let s in o){let a=yK(o,s,r);a===void 0?delete o[s]:Object.defineProperty(o,s,{value:a,writable:!0,enumerable:!0,configurable:!0})}return r.call(t,e,o)}var Qe,je,hv,xu,dt;function SNt(){for(Qe="default",je="",hv=!1,xu=1;;){dt=Du();let t=OMe[Qe]();if(t)return t}}function Du(){if(mK[Lx])return String.fromCodePoint(mK.codePointAt(Lx))}function $(){let t=Du();return t===`
`?(wl++,ps=0):t?ps+=t.length:ps++,t&&(Lx+=t.length),t}var OMe={default(){switch(dt){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":$();return;case"/":$(),Qe="comment";return;case void 0:return $(),qt("eof")}if(Hr.isSpaceSeparator(dt)){$();return}return OMe[Zn]()},comment(){switch(dt){case"*":$(),Qe="multiLineComment";return;case"/":$(),Qe="singleLineComment";return}throw Yt($())},multiLineComment(){switch(dt){case"*":$(),Qe="multiLineCommentAsterisk";return;case void 0:throw Yt($())}$()},multiLineCommentAsterisk(){switch(dt){case"*":$();return;case"/":$(),Qe="default";return;case void 0:throw Yt($())}$(),Qe="multiLineComment"},singleLineComment(){switch(dt){case`
`:case"\r":case"\u2028":case"\u2029":$(),Qe="default";return;case void 0:return $(),qt("eof")}$()},value(){switch(dt){case"{":case"[":return qt("punctuator",$());case"n":return $(),Tp("ull"),qt("null",null);case"t":return $(),Tp("rue"),qt("boolean",!0);case"f":return $(),Tp("alse"),qt("boolean",!1);case"-":case"+":$()==="-"&&(xu=-1),Qe="sign";return;case".":je=$(),Qe="decimalPointLeading";return;case"0":je=$(),Qe="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":je=$(),Qe="decimalInteger";return;case"I":return $(),Tp("nfinity"),qt("numeric",1/0);case"N":return $(),Tp("aN"),qt("numeric",NaN);case'"':case"'":hv=$()==='"',je="",Qe="string";return}throw Yt($())},identifierNameStartEscape(){if(dt!=="u")throw Yt($());$();let t=_K();switch(t){case"$":case"_":break;default:if(!Hr.isIdStartChar(t))throw RMe();break}je+=t,Qe="identifierName"},identifierName(){switch(dt){case"$":case"_":case"\u200C":case"\u200D":je+=$();return;case"\\":$(),Qe="identifierNameEscape";return}if(Hr.isIdContinueChar(dt)){je+=$();return}return qt("identifier",je)},identifierNameEscape(){if(dt!=="u")throw Yt($());$();let t=_K();switch(t){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!Hr.isIdContinueChar(t))throw RMe();break}je+=t,Qe="identifierName"},sign(){switch(dt){case".":je=$(),Qe="decimalPointLeading";return;case"0":je=$(),Qe="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":je=$(),Qe="decimalInteger";return;case"I":return $(),Tp("nfinity"),qt("numeric",xu*(1/0));case"N":return $(),Tp("aN"),qt("numeric",NaN)}throw Yt($())},zero(){switch(dt){case".":je+=$(),Qe="decimalPoint";return;case"e":case"E":je+=$(),Qe="decimalExponent";return;case"x":case"X":je+=$(),Qe="hexadecimal";return}return qt("numeric",xu*0)},decimalInteger(){switch(dt){case".":je+=$(),Qe="decimalPoint";return;case"e":case"E":je+=$(),Qe="decimalExponent";return}if(Hr.isDigit(dt)){je+=$();return}return qt("numeric",xu*Number(je))},decimalPointLeading(){if(Hr.isDigit(dt)){je+=$(),Qe="decimalFraction";return}throw Yt($())},decimalPoint(){switch(dt){case"e":case"E":je+=$(),Qe="decimalExponent";return}if(Hr.isDigit(dt)){je+=$(),Qe="decimalFraction";return}return qt("numeric",xu*Number(je))},decimalFraction(){switch(dt){case"e":case"E":je+=$(),Qe="decimalExponent";return}if(Hr.isDigit(dt)){je+=$();return}return qt("numeric",xu*Number(je))},decimalExponent(){switch(dt){case"+":case"-":je+=$(),Qe="decimalExponentSign";return}if(Hr.isDigit(dt)){je+=$(),Qe="decimalExponentInteger";return}throw Yt($())},decimalExponentSign(){if(Hr.isDigit(dt)){je+=$(),Qe="decimalExponentInteger";return}throw Yt($())},decimalExponentInteger(){if(Hr.isDigit(dt)){je+=$();return}return qt("numeric",xu*Number(je))},hexadecimal(){if(Hr.isHexDigit(dt)){je+=$(),Qe="hexadecimalInteger";return}throw Yt($())},hexadecimalInteger(){if(Hr.isHexDigit(dt)){je+=$();return}return qt("numeric",xu*Number(je))},string(){switch(dt){case"\\":$(),je+=bNt();return;case'"':if(hv)return $(),qt("string",je);je+=$();return;case"'":if(!hv)return $(),qt("string",je);je+=$();return;case`
`:case"\r":throw Yt($());case"\u2028":case"\u2029":TNt(dt);break;case void 0:throw Yt($())}je+=$()},start(){switch(dt){case"{":case"[":return qt("punctuator",$())}Qe="value"},beforePropertyName(){switch(dt){case"$":case"_":je=$(),Qe="identifierName";return;case"\\":$(),Qe="identifierNameStartEscape";return;case"}":return qt("punctuator",$());case'"':case"'":hv=$()==='"',Qe="string";return}if(Hr.isIdStartChar(dt)){je+=$(),Qe="identifierName";return}throw Yt($())},afterPropertyName(){if(dt===":")return qt("punctuator",$());throw Yt($())},beforePropertyValue(){Qe="value"},afterPropertyValue(){switch(dt){case",":case"}":return qt("punctuator",$())}throw Yt($())},beforeArrayValue(){if(dt==="]")return qt("punctuator",$());Qe="value"},afterArrayValue(){switch(dt){case",":case"]":return qt("punctuator",$())}throw Yt($())},end(){throw Yt($())}};function qt(t,e){return{type:t,value:e,line:wl,column:ps}}function Tp(t){for(let e of t){if(Du()!==e)throw Yt($());$()}}function bNt(){switch(Du()){case"b":return $(),"\b";case"f":return $(),"\f";case"n":return $(),`
`;case"r":return $(),"\r";case"t":return $(),"	";case"v":return $(),"\v";case"0":if($(),Hr.isDigit(Du()))throw Yt($());return"\0";case"x":return $(),ENt();case"u":return $(),_K();case`
`:case"\u2028":case"\u2029":return $(),"";case"\r":return $(),Du()===`
`&&$(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Yt($());case void 0:throw Yt($())}return $()}function ENt(){let t="",e=Du();if(!Hr.isHexDigit(e)||(t+=$(),e=Du(),!Hr.isHexDigit(e)))throw Yt($());return t+=$(),String.fromCodePoint(parseInt(t,16))}function _K(){let t="",e=4;for(;e-- >0;){let r=Du();if(!Hr.isHexDigit(r))throw Yt($());t+=$()}return String.fromCodePoint(parseInt(t,16))}var vNt={start(){if(kr.type==="eof")throw Ap();gK()},beforePropertyName(){switch(kr.type){case"identifier":case"string":SK=kr.value,Zn="afterPropertyName";return;case"punctuator":Dx();return;case"eof":throw Ap()}},afterPropertyName(){if(kr.type==="eof")throw Ap();Zn="beforePropertyValue"},beforePropertyValue(){if(kr.type==="eof")throw Ap();gK()},beforeArrayValue(){if(kr.type==="eof")throw Ap();if(kr.type==="punctuator"&&kr.value==="]"){Dx();return}gK()},afterPropertyValue(){if(kr.type==="eof")throw Ap();switch(kr.value){case",":Zn="beforePropertyName";return;case"}":Dx()}},afterArrayValue(){if(kr.type==="eof")throw Ap();switch(kr.value){case",":Zn="beforeArrayValue";return;case"]":Dx()}},end(){}};function gK(){let t;switch(kr.type){case"punctuator":switch(kr.value){case"{":t={};break;case"[":t=[];break}break;case"null":case"boolean":case"numeric":case"string":t=kr.value;break}if(gv===void 0)gv=t;else{let e=Bu[Bu.length-1];Array.isArray(e)?e.push(t):Object.defineProperty(e,SK,{value:t,writable:!0,enumerable:!0,configurable:!0})}if(t!==null&&typeof t=="object")Bu.push(t),Array.isArray(t)?Zn="beforeArrayValue":Zn="beforePropertyName";else{let e=Bu[Bu.length-1];e==null?Zn="end":Array.isArray(e)?Zn="afterArrayValue":Zn="afterPropertyValue"}}function Dx(){Bu.pop();let t=Bu[Bu.length-1];t==null?Zn="end":Array.isArray(t)?Zn="afterArrayValue":Zn="afterPropertyValue"}function Yt(t){return Ux(t===void 0?`JSON5: invalid end of input at ${wl}:${ps}`:`JSON5: invalid character '${NMe(t)}' at ${wl}:${ps}`)}function Ap(){return Ux(`JSON5: invalid end of input at ${wl}:${ps}`)}function RMe(){return ps-=5,Ux(`JSON5: invalid identifier character at ${wl}:${ps}`)}function TNt(t){console.warn(`JSON5: '${NMe(t)}' in strings is not valid ECMAScript; consider escaping`)}function NMe(t){let e={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(e[t])return e[t];if(t<" "){let r=t.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return t}function Ux(t){let e=new SyntaxError(t);return e.lineNumber=wl,e.columnNumber=ps,e}});var xMe=h((lfr,MMe)=>{l();var bK=hK();MMe.exports=function(e,r,o){let s=[],a="",i,n,u="",c;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(o=r.space,c=r.quote,r=r.replacer),typeof r=="function")n=r;else if(Array.isArray(r)){i=[];for(let T of r){let C;typeof T=="string"?C=T:(typeof T=="number"||T instanceof String||T instanceof Number)&&(C=String(T)),C!==void 0&&i.indexOf(C)<0&&i.push(C)}}return o instanceof Number?o=Number(o):o instanceof String&&(o=String(o)),typeof o=="number"?o>0&&(o=Math.min(10,Math.floor(o)),u="          ".substr(0,o)):typeof o=="string"&&(u=o.substr(0,10)),d("",{"":e});function d(T,C){let R=C[T];switch(R!=null&&(typeof R.toJSON5=="function"?R=R.toJSON5(T):typeof R.toJSON=="function"&&(R=R.toJSON(T))),n&&(R=n.call(C,T,R)),R instanceof Number?R=Number(R):R instanceof String?R=String(R):R instanceof Boolean&&(R=R.valueOf()),R){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof R=="string")return f(R,!1);if(typeof R=="number")return String(R);if(typeof R=="object")return Array.isArray(R)?S(R):g(R)}function f(T){let C={"'":.1,'"':.2},R={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},P="";for(let x=0;x<T.length;x++){let U=T[x];switch(U){case"'":case'"':C[U]++,P+=U;continue;case"\0":if(bK.isDigit(T[x+1])){P+="\\x00";continue}}if(R[U]){P+=R[U];continue}if(U<" "){let D=U.charCodeAt(0).toString(16);P+="\\x"+("00"+D).substring(D.length);continue}P+=U}let M=c||Object.keys(C).reduce((x,U)=>C[x]<C[U]?x:U);return P=P.replace(new RegExp(M,"g"),R[M]),M+P+M}function g(T){if(s.indexOf(T)>=0)throw TypeError("Converting circular structure to JSON5");s.push(T);let C=a;a=a+u;let R=i||Object.keys(T),P=[];for(let x of R){let U=d(x,T);if(U!==void 0){let D=y(x)+":";u!==""&&(D+=" "),D+=U,P.push(D)}}let M;if(P.length===0)M="{}";else{let x;if(u==="")x=P.join(","),M="{"+x+"}";else{let U=`,
`+a;x=P.join(U),M=`{
`+a+x+`,
`+C+"}"}}return s.pop(),a=C,M}function y(T){if(T.length===0)return f(T,!0);let C=String.fromCodePoint(T.codePointAt(0));if(!bK.isIdStartChar(C))return f(T,!0);for(let R=C.length;R<T.length;R++)if(!bK.isIdContinueChar(String.fromCodePoint(T.codePointAt(R))))return f(T,!0);return T}function S(T){if(s.indexOf(T)>=0)throw TypeError("Converting circular structure to JSON5");s.push(T);let C=a;a=a+u;let R=[];for(let M=0;M<T.length;M++){let x=d(String(M),T);R.push(x!==void 0?x:"null")}let P;if(R.length===0)P="[]";else if(u==="")P="["+R.join(",")+"]";else{let M=`,
`+a,x=R.join(M);P=`[
`+a+x+`,
`+C+"]"}return s.pop(),a=C,P}}});var EK=h((ffr,BMe)=>{l();var ANt=PMe(),INt=xMe(),CNt={parse:ANt,stringify:INt};BMe.exports=CNt});var lxe=h(LK=>{"use strict";l();Object.defineProperty(LK,"__esModule",{value:!0});function mwt(t){return function(e,r){return new Promise((o,s)=>{t.call(this,e,r,(a,i)=>{a?s(a):o(i)})})}}LK.default=mwt});var pxe=h((GK,fxe)=>{"use strict";l();var dxe=GK&&GK.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ywt=require("events"),_wt=dxe(wb()),Swt=dxe(lxe()),Sv=_wt.default("agent-base");function bwt(t){return!!t&&typeof t.addRequest=="function"}function UK(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function Wx(t,e){return new Wx.Agent(t,e)}(function(t){class e extends ywt.EventEmitter{constructor(o,s){super();let a=s;typeof o=="function"?this.callback=o:o&&(a=o),this.timeout=null,a&&typeof a.timeout=="number"&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:UK()?443:80}set defaultPort(o){this.explicitDefaultPort=o}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:UK()?"https:":"http:"}set protocol(o){this.explicitProtocol=o}callback(o,s,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(o,s){let a=Object.assign({},s);typeof a.secureEndpoint!="boolean"&&(a.secureEndpoint=UK()),a.host==null&&(a.host="localhost"),a.port==null&&(a.port=a.secureEndpoint?443:80),a.protocol==null&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,o._last=!0,o.shouldKeepAlive=!1;let i=!1,n=null,u=a.timeout||this.timeout,c=y=>{o._hadError||(o.emit("error",y),o._hadError=!0)},d=()=>{n=null,i=!0;let y=new Error(`A "socket" was not created for HTTP request before ${u}ms`);y.code="ETIMEOUT",c(y)},f=y=>{i||(n!==null&&(clearTimeout(n),n=null),c(y))},g=y=>{if(i)return;if(n!=null&&(clearTimeout(n),n=null),bwt(y)){Sv("Callback returned another Agent instance %o",y.constructor.name),y.addRequest(o,a);return}if(y){y.once("free",()=>{this.freeSocket(y,a)}),o.onSocket(y);return}let S=new Error(`no Duplex stream was returned to agent-base for \`${o.method} ${o.path}\``);c(S)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Sv("Converting legacy callback function to promise"),this.promisifiedCallback=Swt.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(n=setTimeout(d,u)),"port"in a&&typeof a.port!="number"&&(a.port=Number(a.port));try{Sv("Resolving socket for %o request: %o",a.protocol,`${o.method} ${o.path}`),Promise.resolve(this.promisifiedCallback(o,a)).then(g,f)}catch(y){Promise.reject(y).catch(f)}}freeSocket(o,s){Sv("Freeing socket %o %o",o.constructor.name,s),o.destroy()}destroy(){Sv("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(Wx||(Wx={}));fxe.exports=Wx});var hxe=h(Ev=>{"use strict";l();var Ewt=Ev&&Ev.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ev,"__esModule",{value:!0});var vwt=Ewt(wb()),bv=vwt.default("https-proxy-agent:parse-proxy-response");function Twt(t){return new Promise((e,r)=>{let o=0,s=[];function a(){let f=t.read();f?d(f):t.once("readable",a)}function i(){t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",n),t.removeListener("readable",a)}function n(f){bv("onclose had error %o",f)}function u(){bv("onend")}function c(f){i(),bv("onerror %o",f),r(f)}function d(f){s.push(f),o+=f.length;let g=Buffer.concat(s,o);if(g.indexOf(`\r
\r
`)===-1){bv("have not received end of HTTP headers yet..."),a();return}let S=g.toString("ascii",0,g.indexOf(`\r
`)),T=+S.split(" ")[1];bv("got proxy server response: %o",S),e({statusCode:T,buffered:g})}t.on("error",c),t.on("close",n),t.on("end",u),a()})}Ev.default=Twt});var yxe=h(Cp=>{"use strict";l();var Awt=Cp&&Cp.__awaiter||function(t,e,r,o){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function n(d){try{c(o.next(d))}catch(f){i(f)}}function u(d){try{c(o.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(n,u)}c((o=o.apply(t,e||[])).next())})},Ry=Cp&&Cp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cp,"__esModule",{value:!0});var gxe=Ry(require("net")),mxe=Ry(require("tls")),Iwt=Ry(require("url")),Cwt=Ry(require("assert")),Rwt=Ry(wb()),Owt=pxe(),Nwt=Ry(hxe()),vv=Rwt.default("https-proxy-agent:agent"),VK=class extends Owt.Agent{constructor(e){let r;if(typeof e=="string"?r=Iwt.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");vv("creating new HttpsProxyAgent instance: %o",r),super(r);let o=Object.assign({},r);this.secureProxy=r.secureProxy||Mwt(o.protocol),o.host=o.hostname||o.host,typeof o.port=="string"&&(o.port=parseInt(o.port,10)),!o.port&&o.host&&(o.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in o)&&(o.ALPNProtocols=["http 1.1"]),o.host&&o.path&&(delete o.path,delete o.pathname),this.proxy=o}callback(e,r){return Awt(this,void 0,void 0,function*(){let{proxy:o,secureProxy:s}=this,a;s?(vv("Creating `tls.Socket`: %o",o),a=mxe.default.connect(o)):(vv("Creating `net.Socket`: %o",o),a=gxe.default.connect(o));let i=Object.assign({},o.headers),u=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;o.auth&&(i["Proxy-Authorization"]=`Basic ${Buffer.from(o.auth).toString("base64")}`);let{host:c,port:d,secureEndpoint:f}=r;Pwt(d,f)||(c+=`:${d}`),i.Host=c,i.Connection="close";for(let C of Object.keys(i))u+=`${C}: ${i[C]}\r
`;let g=Nwt.default(a);a.write(`${u}\r
`);let{statusCode:y,buffered:S}=yield g;if(y===200){if(e.once("socket",wwt),r.secureEndpoint){let C=r.servername||r.host;if(!C)throw new Error('Could not determine "servername"');return vv("Upgrading socket connection to TLS"),mxe.default.connect(Object.assign(Object.assign({},xwt(r,"host","hostname","path","port")),{socket:a,servername:C}))}return a}a.destroy();let T=new gxe.default.Socket;return T.readable=!0,e.once("socket",C=>{vv("replaying proxy buffer for failed request"),Cwt.default(C.listenerCount("data")>0),C.push(S),C.push(null)}),T})}};Cp.default=VK;function wwt(t){t.resume()}function Pwt(t,e){return!!(!e&&t===80||e&&t===443)}function Mwt(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function xwt(t,...e){let r={},o;for(o in t)e.includes(o)||(r[o]=t[o]);return r}});var Sxe=h((kK,_xe)=>{"use strict";l();var Bwt=kK&&kK.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},FK=Bwt(yxe());function HK(t){return new FK.default(t)}(function(t){t.HttpsProxyAgent=FK.default,t.prototype=FK.default.prototype})(HK||(HK={}));_xe.exports=HK});var bxe=h((qEr,Dwt)=>{Dwt.exports={name:"mixpanel",description:"A simple server-side API for mixpanel",keywords:["mixpanel","analytics","api","stats"],version:"0.18.0",homepage:"https://github.com/mixpanel/mixpanel-node",author:"Carl Sverre",license:"MIT",main:"lib/mixpanel-node",directories:{lib:"lib"},repository:{type:"git",url:"git+ssh://git@github.com/mixpanel/mixpanel-node.git"},engines:{node:">=10.0"},scripts:{test:"nodeunit"},types:"./lib/mixpanel-node.d.ts",devDependencies:{nodeunit:"^0.11.3",proxyquire:"^1.7.11",sinon:"^7.1.1"},dependencies:{"https-proxy-agent":"5.0.0"}}});var WK=h(Zx=>{l();Zx.async_all=function(t,e,r){var o=t.length,s=null,a=[],i=function(c,d){c&&(s=s||[],s.push(c)),a.push(d),--o===0&&r(s,a)};if(o===0)r(s,a);else for(var n=0,u=t.length;n<u;n++)e(t[n],i)};Zx.ensure_timestamp=function(t){if(!(t instanceof Date||typeof t=="number"))throw new Error("`time` property must be a Date or Unix timestamp and is only required for `import` endpoint");return t instanceof Date?t.getTime():t};Zx.assert_logger=function(t){if(typeof t!="object")throw new TypeError('"logger" must be a valid Logger object');["trace","debug","info","warn","error"].forEach(e=>{if(typeof t[e]!="function")throw new TypeError(`Logger object missing "${e}" method`)})}});var qK=h(ZK=>{l();var qx=require("util"),{ensure_timestamp:Lwt}=WK();function Oy(t,e){return e&&(e.$ignore_alias&&(t.$ignore_alias=e.$ignore_alias),e.$ignore_time&&(t.$ignore_time=e.$ignore_time),e.hasOwnProperty("$ip")&&(t.$ip=e.$ip),e.hasOwnProperty("$time")&&(t.$time=Lwt(e.$time)),e.hasOwnProperty("$latitude")&&e.hasOwnProperty("$longitude")&&(t.$latitude=e.$latitude,t.$longitude=e.$longitude)),t}ZK.merge_modifiers=Oy;ZK.ProfileHelpers=(t=Object)=>class extends t{get token(){return this.mixpanel.token}get config(){return this.mixpanel.config}_set(e,r,o,s,{identifiers:a,set_once:i=!1}){let n={};typeof e=="object"?(typeof r=="object"?(s=o,o=r):s=r,n=e):(n[e]=r,(typeof o=="function"||!o)&&(s=o));let u={$token:this.token,...a},c=i?"$set_once":"$set";u[c]=n,"ip"in n&&(u.$ip=n.ip,delete n.ip),n.$ignore_time&&(u.$ignore_time=n.$ignore_time,delete n.$ignore_time),u=Oy(u,o),this.config.debug&&this.mixpanel.config.logger.debug(`Sending the following data to Mixpanel (${this.endpoint})`,{data:u}),this.mixpanel.send_request({method:"GET",endpoint:this.endpoint,data:u},s)}_delete_profile({identifiers:e,modifiers:r,callback:o}){let s={$delete:"",$token:this.token,...e};typeof r=="function"&&(o=r),s=Oy(s,r),this.config.debug&&this.mixpanel.config.logger.debug("Deleting profile",{identifiers:e}),this.mixpanel.send_request({method:"GET",endpoint:this.endpoint,data:s},o)}_remove({identifiers:e,data:r,modifiers:o,callback:s}){let a={};if(typeof r!="object"||qx.isArray(r)){this.config.debug&&this.mixpanel.config.logger.error("Invalid value passed to #remove - data must be an object with scalar values");return}for(let[i,n]of Object.entries(r))if(typeof n=="string"||typeof n=="number")a[i]=n;else{this.config.debug&&this.mixpanel.config.logger.error("Invalid argument passed to #remove - values must be scalar",{key:i,value:n});return}Object.keys(a).length!==0&&(r={$remove:a,$token:this.token,...e},typeof o=="function"&&(s=o),r=Oy(r,o),this.config.debug&&this.mixpanel.config.logger.debug(`Sending the following data to Mixpanel (${this.endpoint})`,{data:r}),this.mixpanel.send_request({method:"GET",endpoint:this.endpoint,data:r},s))}_union({identifiers:e,data:r,modifiers:o,callback:s}){let a={};if(typeof r!="object"||qx.isArray(r)){this.config.debug&&this.mixpanel.config.logger.error("Invalid value passed to #union - data must be an object with scalar or array values");return}for(let[n,u]of Object.entries(r))if(qx.isArray(u)){var i=u.filter(function(c){return typeof c=="string"||typeof c=="number"});i.length>0&&(a[n]=i)}else typeof u=="string"||typeof u=="number"?a[n]=[u]:this.config.debug&&this.mixpanel.config.logger.error("Invalid argument passed to #union - values must be a scalar value or array",{key:n,value:u});Object.keys(a).length!==0&&(r={$union:a,$token:this.token,...e},typeof o=="function"&&(s=o),r=Oy(r,o),this.config.debug&&this.mixpanel.config.logger.debug(`Sending the following data to Mixpanel (${this.endpoint})`,{data:r}),this.mixpanel.send_request({method:"GET",endpoint:this.endpoint,data:r},s))}_unset({identifiers:e,prop:r,modifiers:o,callback:s}){let a=[];if(qx.isArray(r))a=r;else if(typeof r=="string")a=[r];else{this.config.debug&&this.mixpanel.config.logger.error("Invalid argument passed to #unset - must be a string or array",{prop:r});return}let i={$unset:a,$token:this.token,...e};typeof o=="function"&&(s=o),i=Oy(i,o),this.config.debug&&this.mixpanel.config.logger.debug(`Sending the following data to Mixpanel (${this.endpoint})`,{data:i}),this.mixpanel.send_request({method:"GET",endpoint:this.endpoint,data:i},s)}}});var vxe=h(Exe=>{l();var{ProfileHelpers:Uwt}=qK(),YK=class extends Uwt(){constructor(e){super(),this.mixpanel=e,this.endpoint="/groups"}set_once(e,r,o,s,a,i){let n={$group_key:e,$group_id:r};this._set(o,s,a,i,{identifiers:n,set_once:!0})}set(e,r,o,s,a,i){let n={$group_key:e,$group_id:r};this._set(o,s,a,i,{identifiers:n})}delete_group(e,r,o,s){let a={$group_key:e,$group_id:r};this._delete_profile({identifiers:a,modifiers:o,callback:s})}remove(e,r,o,s,a){let i={$group_key:e,$group_id:r};this._remove({identifiers:i,data:o,modifiers:s,callback:a})}union(e,r,o,s,a){let i={$group_key:e,$group_id:r};this._union({identifiers:i,data:o,modifiers:s,callback:a})}unset(e,r,o,s,a){let i={$group_key:e,$group_id:r};this._unset({identifiers:i,prop:o,modifiers:s,callback:a})}};Exe.MixpanelGroups=YK});var Axe=h(Txe=>{l();var{merge_modifiers:Yx,ProfileHelpers:Gwt}=qK(),jK=class extends Gwt(){constructor(e){super(),this.mixpanel=e,this.endpoint="/engage"}set_once(e,r,o,s,a){let i={$distinct_id:e};this._set(r,o,s,a,{identifiers:i,set_once:!0})}set(e,r,o,s,a){let i={$distinct_id:e};this._set(r,o,s,a,{identifiers:i})}increment(e,r,o,s,a){var i={};if(typeof r=="object"){typeof o=="object"?(a=s,s=o):a=o;for(let[u,c]of Object.entries(r))isNaN(parseFloat(c))?this.mixpanel.config.debug&&this.mixpanel.config.logger.error("Invalid increment value passed to mixpanel.people.increment - must be a number",{key:u,value:c}):i[u]=c}else typeof o=="number"||!o?(o=o||1,i[r]=o,typeof s=="function"&&(a=s)):typeof o=="function"?(a=o,i[r]=1):(a=s,s=typeof o=="object"?o:{},i[r]=1);var n={$add:i,$token:this.mixpanel.token,$distinct_id:e};n=Yx(n,s),this.mixpanel.config.debug&&this.mixpanel.config.logger.debug("Sending the following data to Mixpanel (Engage)",{data:n}),this.mixpanel.send_request({method:"GET",endpoint:"/engage",data:n},a)}append(e,r,o,s,a){var i={};typeof r=="object"?(typeof o=="object"?(a=s,s=o):a=o,Object.keys(r).forEach(function(u){i[u]=r[u]})):(i[r]=o,typeof s=="function"&&(a=s));var n={$append:i,$token:this.mixpanel.token,$distinct_id:e};n=Yx(n,s),this.mixpanel.config.debug&&this.mixpanel.config.logger.debug("Sending the following data to Mixpanel (Engage)",{data:n}),this.mixpanel.send_request({method:"GET",endpoint:"/engage",data:n},a)}track_charge(e,r,o,s,a){if(typeof o=="function"||!o?(a=o||function(){},o={}):(typeof s=="function"||!s)&&(a=s||function(){},(o.$ignore_time||o.hasOwnProperty("$ip"))&&(s={},Object.keys(o).forEach(function(u){s[u]=o[u],delete o[u]}))),typeof r!="number"&&(r=parseFloat(r),isNaN(r))){this.mixpanel.config.logger.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}if(o.$amount=r,o.hasOwnProperty("$time")){var i=o.$time;Object.prototype.toString.call(i)==="[object Date]"&&(o.$time=i.toISOString())}var n={$append:{$transactions:o},$token:this.mixpanel.token,$distinct_id:e};n=Yx(n,s),this.mixpanel.config.debug&&this.mixpanel.config.logger.debug("Sending the following data to Mixpanel (Engage)",{data:n}),this.mixpanel.send_request({method:"GET",endpoint:"/engage",data:n},a)}clear_charges(e,r,o){var s={$set:{$transactions:[]},$token:this.mixpanel.token,$distinct_id:e};typeof r=="function"&&(o=r),s=Yx(s,r),this.mixpanel.config.debug&&this.mixpanel.config.logger.debug("Clearing this user's charges",{$distinct_id:e}),this.mixpanel.send_request({method:"GET",endpoint:"/engage",data:s},o)}delete_user(e,r,o){let s={$distinct_id:e};this._delete_profile({identifiers:s,modifiers:r,callback:o})}remove(e,r,o,s){let a={$distinct_id:e};this._remove({identifiers:a,data:r,modifiers:o,callback:s})}union(e,r,o,s){let a={$distinct_id:e};this._union({identifiers:a,data:r,modifiers:o,callback:s})}unset(e,r,o,s){let a={$distinct_id:e};this._unset({identifiers:a,prop:r,modifiers:o,callback:s})}};Txe.MixpanelPeople=jK});var Rxe=h((tvr,Cxe)=>{l();var Vwt=require("querystring"),KK=require("buffer").Buffer,Ixe=require("http"),XK=require("https"),Fwt=Sxe(),Hwt=require("url"),kwt=bxe(),{async_all:Wwt,ensure_timestamp:zK,assert_logger:Zwt}=WK(),{MixpanelGroups:qwt}=vxe(),{MixpanelPeople:Ywt}=Axe(),jwt={test:!1,debug:!1,verbose:!1,host:"api.mixpanel.com",protocol:"https",path:"",keepAlive:!0,geolocate:!1,logger:console},Kwt=function(t,e){if(!t)throw new Error("The Mixpanel Client needs a Mixpanel token: `init(token)`");let r={token:t,config:{...jwt}},{keepAlive:o}=r.config,s=50,a={http:Ixe,https:XK},i={http:new Ixe.Agent({keepAlive:o}),https:new XK.Agent({keepAlive:o})},n=process.env.HTTPS_PROXY||process.env.HTTP_PROXY,u=n?new Fwt(Object.assign(Hwt.parse(n),{keepAlive:o})):null;r.send_request=function(f,g){g=g||function(){};let y=KK.from(JSON.stringify(f.data)).toString("base64"),S=f.endpoint,T=(f.method||"GET").toUpperCase(),C={ip:r.config.geolocate?1:0,verbose:r.config.verbose?1:0},R=r.config.key,P=r.config.secret,M=a[r.config.protocol],x={host:r.config.host,port:r.config.port,headers:{},method:T},U;if(!M)throw new Error("Mixpanel Initialization Error: Unsupported protocol "+r.config.protocol+". Supported protocols are: "+Object.keys(a));if(T==="POST"?(y="data="+y,x.headers["Content-Type"]="application/x-www-form-urlencoded",x.headers["Content-Length"]=KK.byteLength(y)):T==="GET"&&(C.data=y),P){if(M!==XK)throw new Error("Must use HTTPS if authenticating with API Secret");let D=KK.from(P+":").toString("base64");x.headers.Authorization="Basic "+D}else if(R)C.api_key=R;else if(S==="/import")throw new Error("The Mixpanel Client needs a Mixpanel API Secret when importing old events: `init(token, { secret: ... })`");x.agent=u||i[r.config.protocol],r.config.test&&(C.test=1),x.path=r.config.path+S+"?"+Vwt.stringify(C),U=M.request(x,function(D){var W="";D.on("data",function(re){W+=re}),D.on("end",function(){var re;if(r.config.verbose)try{var ie=JSON.parse(W);ie.status!=1&&(re=new Error("Mixpanel Server Error: "+ie.error))}catch{re=new Error("Could not parse response from Mixpanel")}else re=W!=="1"?new Error("Mixpanel Server Error: "+W):void 0;g(re)})}),U.on("error",function(D){r.config.debug&&r.config.logger.error("Got Error: "+D.message),g(D)}),T==="POST"&&U.write(y),U.end()},r.send_event_request=function(f,g,y,S){y.token=r.token,y.mp_lib="node",y.$lib_version=kwt.version;var T={event:g,properties:y};r.config.debug&&r.config.logger.debug("Sending the following event to Mixpanel",{data:T}),r.send_request({method:"GET",endpoint:f,data:T},S)};var c=function(f,g){for(var y=[],S=0,T=f.length;S<T;)y.push(f.slice(S,S+=g));return y},d=function(f,g){var y=f.event_list,S=f.endpoint,T=f.max_batch_size?Math.min(s,f.max_batch_size):s,C=f.max_concurrent_requests||f.max_batch_size>s&&Math.ceil(f.max_batch_size/s),R=c(y,T),P=C?c(R,C):[R],M=R.length,x=P.length;function U(W,re){W.length>0&&(W=W.map(function(ie){var _e=ie.properties;return(S==="/import"||ie.properties.time)&&(ie.properties.time=zK(ie.properties.time)),ie.properties.token=ie.properties.token||r.token,ie}),r.send_request({method:"POST",endpoint:S,data:W},re))}function D(W){var re=P[W],ie=function(_e,L){W+=1,W===x?g&&g(_e,L):D(W)};Wwt(re,U,ie)}D(0),r.config.debug&&r.config.logger.debug("Sending "+y.length+" events to Mixpanel in "+M+" batches of events and "+x+" batches of requests")};return r.track=function(f,g,y){(!g||typeof g=="function")&&(y=g,g={}),g.time&&(g.time=zK(g.time)),r.send_event_request("/track",f,g,y)},r.track_batch=function(f,g,y){g=g||{},typeof g=="function"&&(y=g,g={});var S={event_list:f,endpoint:"/track",max_concurrent_requests:g.max_concurrent_requests,max_batch_size:g.max_batch_size};d(S,y)},r.import=function(f,g,y,S){(!y||typeof y=="function")&&(S=y,y={}),y.time=zK(g),r.send_event_request("/import",f,y,S)},r.import_batch=function(f,g,y){var S;(typeof g=="function"||!g)&&(y=g,g={}),S={event_list:f,endpoint:"/import",max_concurrent_requests:g.max_concurrent_requests,max_batch_size:g.max_batch_size},d(S,y)},r.alias=function(f,g,y){var S={distinct_id:f,alias:g};r.track("$create_alias",S,y)},r.groups=new qwt(r),r.people=new Ywt(r),r.set_config=function(f){if(f&&f.logger!==void 0&&Zwt(f.logger),Object.assign(r.config,f),f.host){let[g,y]=f.host.split(":");r.config.host=g,y&&(r.config.port=Number(y))}},e&&r.set_config(e),r};Cxe.exports={init:Kwt}});var QK=h((avr,wxe)=>{l();var Kx=Jf().Buffer,zwt=require("stream"),Jwt=require("util");function Xx(t){if(this.buffer=null,this.writable=!0,this.readable=!0,!t)return this.buffer=Kx.alloc(0),this;if(typeof t.pipe=="function")return this.buffer=Kx.alloc(0),t.pipe(this),this;if(t.length||typeof t=="object")return this.buffer=t,this.writable=!1,process.nextTick(function(){this.emit("end",t),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof t+")")}Jwt.inherits(Xx,zwt);Xx.prototype.write=function(e){this.buffer=Kx.concat([this.buffer,Kx.from(e)]),this.emit("data",e)};Xx.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1};wxe.exports=Xx});var Mxe=h((cvr,Pxe)=>{"use strict";l();var Tv=require("buffer").Buffer,eX=require("buffer").SlowBuffer;Pxe.exports=zx;function zx(t,e){if(!Tv.isBuffer(t)||!Tv.isBuffer(e)||t.length!==e.length)return!1;for(var r=0,o=0;o<t.length;o++)r|=t[o]^e[o];return r===0}zx.install=function(){Tv.prototype.equal=eX.prototype.equal=function(e){return zx(this,e)}};var $wt=Tv.prototype.equal,Qwt=eX.prototype.equal;zx.restore=function(){Tv.prototype.equal=$wt,eX.prototype.equal=Qwt}});var Bxe=h((dvr,xxe)=>{"use strict";l();function tX(t){var e=(t/8|0)+(t%8===0?0:1);return e}var ePt={ES256:tX(256),ES384:tX(384),ES512:tX(521)};function tPt(t){var e=ePt[t];if(e)return e;throw new Error('Unknown algorithm "'+t+'"')}xxe.exports=tPt});var Hxe=h((pvr,Fxe)=>{"use strict";l();var Jx=Jf().Buffer,Lxe=Bxe(),$x=128,Uxe=0,rPt=32,nPt=16,iPt=2,Gxe=nPt|rPt|Uxe<<6,Qx=iPt|Uxe<<6;function oPt(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vxe(t){if(Jx.isBuffer(t))return t;if(typeof t=="string")return Jx.from(t,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function sPt(t,e){t=Vxe(t);var r=Lxe(e),o=r+1,s=t.length,a=0;if(t[a++]!==Gxe)throw new Error('Could not find expected "seq"');var i=t[a++];if(i===($x|1)&&(i=t[a++]),s-a<i)throw new Error('"seq" specified length of "'+i+'", only "'+(s-a)+'" remaining');if(t[a++]!==Qx)throw new Error('Could not find expected "int" for "r"');var n=t[a++];if(s-a-2<n)throw new Error('"r" specified length of "'+n+'", only "'+(s-a-2)+'" available');if(o<n)throw new Error('"r" specified length of "'+n+'", max of "'+o+'" is acceptable');var u=a;if(a+=n,t[a++]!==Qx)throw new Error('Could not find expected "int" for "s"');var c=t[a++];if(s-a!==c)throw new Error('"s" specified length of "'+c+'", expected "'+(s-a)+'"');if(o<c)throw new Error('"s" specified length of "'+c+'", max of "'+o+'" is acceptable');var d=a;if(a+=c,a!==s)throw new Error('Expected to consume entire buffer, but "'+(s-a)+'" bytes remain');var f=r-n,g=r-c,y=Jx.allocUnsafe(f+n+g+c);for(a=0;a<f;++a)y[a]=0;t.copy(y,a,u+Math.max(-f,0),u+n),a=r;for(var S=a;a<S+g;++a)y[a]=0;return t.copy(y,a,d+Math.max(-g,0),d+c),y=y.toString("base64"),y=oPt(y),y}function Dxe(t,e,r){for(var o=0;e+o<r&&t[e+o]===0;)++o;var s=t[e+o]>=$x;return s&&--o,o}function aPt(t,e){t=Vxe(t);var r=Lxe(e),o=t.length;if(o!==r*2)throw new TypeError('"'+e+'" signatures must be "'+r*2+'" bytes, saw "'+o+'"');var s=Dxe(t,0,r),a=Dxe(t,r,t.length),i=r-s,n=r-a,u=2+i+1+1+n,c=u<$x,d=Jx.allocUnsafe((c?2:3)+u),f=0;return d[f++]=Gxe,c?d[f++]=u:(d[f++]=$x|1,d[f++]=u&255),d[f++]=Qx,d[f++]=i,s<0?(d[f++]=0,f+=t.copy(d,f,0,r)):f+=t.copy(d,f,s,r),d[f++]=Qx,d[f++]=n,a<0?(d[f++]=0,t.copy(d,f,r)):t.copy(d,f,r+a),d}Fxe.exports={derToJose:sPt,joseToDer:aPt}});var iX=h((gvr,zxe)=>{l();var uPt=Mxe(),wy=Jf().Buffer,Ea=require("crypto"),Wxe=Hxe(),kxe=require("util"),cPt=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,Av="secret must be a string or buffer",Ny="key must be a string or a buffer",lPt="key must be a string, a buffer or an object",rX=typeof Ea.createPublicKey=="function";rX&&(Ny+=" or a KeyObject",Av+="or a KeyObject");function Zxe(t){if(!wy.isBuffer(t)&&typeof t!="string"&&(!rX||typeof t!="object"||typeof t.type!="string"||typeof t.asymmetricKeyType!="string"||typeof t.export!="function"))throw hs(Ny)}function qxe(t){if(!wy.isBuffer(t)&&typeof t!="string"&&typeof t!="object")throw hs(lPt)}function dPt(t){if(!wy.isBuffer(t)){if(typeof t=="string")return t;if(!rX||typeof t!="object"||t.type!=="secret"||typeof t.export!="function")throw hs(Av)}}function nX(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yxe(t){t=t.toString();var e=4-t.length%4;if(e!==4)for(var r=0;r<e;++r)t+="=";return t.replace(/\-/g,"+").replace(/_/g,"/")}function hs(t){var e=[].slice.call(arguments,1),r=kxe.format.bind(kxe,t).apply(null,e);return new TypeError(r)}function fPt(t){return wy.isBuffer(t)||typeof t=="string"}function Iv(t){return fPt(t)||(t=JSON.stringify(t)),t}function jxe(t){return function(r,o){dPt(o),r=Iv(r);var s=Ea.createHmac("sha"+t,o),a=(s.update(r),s.digest("base64"));return nX(a)}}function pPt(t){return function(r,o,s){var a=jxe(t)(r,s);return uPt(wy.from(o),wy.from(a))}}function Kxe(t){return function(r,o){qxe(o),r=Iv(r);var s=Ea.createSign("RSA-SHA"+t),a=(s.update(r),s.sign(o,"base64"));return nX(a)}}function Xxe(t){return function(r,o,s){Zxe(s),r=Iv(r),o=Yxe(o);var a=Ea.createVerify("RSA-SHA"+t);return a.update(r),a.verify(s,o,"base64")}}function hPt(t){return function(r,o){qxe(o),r=Iv(r);var s=Ea.createSign("RSA-SHA"+t),a=(s.update(r),s.sign({key:o,padding:Ea.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ea.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return nX(a)}}function gPt(t){return function(r,o,s){Zxe(s),r=Iv(r),o=Yxe(o);var a=Ea.createVerify("RSA-SHA"+t);return a.update(r),a.verify({key:s,padding:Ea.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ea.constants.RSA_PSS_SALTLEN_DIGEST},o,"base64")}}function mPt(t){var e=Kxe(t);return function(){var o=e.apply(null,arguments);return o=Wxe.derToJose(o,"ES"+t),o}}function yPt(t){var e=Xxe(t);return function(o,s,a){s=Wxe.joseToDer(s,"ES"+t).toString("base64");var i=e(o,s,a);return i}}function _Pt(){return function(){return""}}function SPt(){return function(e,r){return r===""}}zxe.exports=function(e){var r={hs:jxe,rs:Kxe,ps:hPt,es:mPt,none:_Pt},o={hs:pPt,rs:Xxe,ps:gPt,es:yPt,none:SPt},s=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw hs(cPt,e);var a=(s[1]||s[3]).toLowerCase(),i=s[2];return{sign:r[a](i),verify:o[a](i)}}});var oX=h((yvr,Jxe)=>{l();var bPt=require("buffer").Buffer;Jxe.exports=function(e){return typeof e=="string"?e:typeof e=="number"||bPt.isBuffer(e)?e.toString():JSON.stringify(e)}});var nBe=h((Svr,rBe)=>{l();var EPt=Jf().Buffer,$xe=QK(),vPt=iX(),TPt=require("stream"),Qxe=oX(),sX=require("util");function eBe(t,e){return EPt.from(t,e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function APt(t,e,r){r=r||"utf8";var o=eBe(Qxe(t),"binary"),s=eBe(Qxe(e),r);return sX.format("%s.%s",o,s)}function tBe(t){var e=t.header,r=t.payload,o=t.secret||t.privateKey,s=t.encoding,a=vPt(e.alg),i=APt(e,r,s),n=a.sign(i,o);return sX.format("%s.%s",i,n)}function eB(t){var e=t.secret||t.privateKey||t.key,r=new $xe(e);this.readable=!0,this.header=t.header,this.encoding=t.encoding,this.secret=this.privateKey=this.key=r,this.payload=new $xe(t.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}sX.inherits(eB,TPt);eB.prototype.sign=function(){try{var e=tBe({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(r){this.readable=!1,this.emit("error",r),this.emit("close")}};eB.sign=tBe;rBe.exports=eB});var pBe=h((Evr,fBe)=>{l();var oBe=Jf().Buffer,iBe=QK(),IPt=iX(),CPt=require("stream"),sBe=oX(),RPt=require("util"),OPt=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function NPt(t){return Object.prototype.toString.call(t)==="[object Object]"}function wPt(t){if(NPt(t))return t;try{return JSON.parse(t)}catch{return}}function aBe(t){var e=t.split(".",1)[0];return wPt(oBe.from(e,"base64").toString("binary"))}function PPt(t){return t.split(".",2).join(".")}function uBe(t){return t.split(".")[2]}function MPt(t,e){e=e||"utf8";var r=t.split(".")[1];return oBe.from(r,"base64").toString(e)}function cBe(t){return OPt.test(t)&&!!aBe(t)}function lBe(t,e,r){if(!e){var o=new Error("Missing algorithm parameter for jws.verify");throw o.code="MISSING_ALGORITHM",o}t=sBe(t);var s=uBe(t),a=PPt(t),i=IPt(e);return i.verify(a,s,r)}function dBe(t,e){if(e=e||{},t=sBe(t),!cBe(t))return null;var r=aBe(t);if(!r)return null;var o=MPt(t);return(r.typ==="JWT"||e.json)&&(o=JSON.parse(o,e.encoding)),{header:r,payload:o,signature:uBe(t)}}function Py(t){t=t||{};var e=t.secret||t.publicKey||t.key,r=new iBe(e);this.readable=!0,this.algorithm=t.algorithm,this.encoding=t.encoding,this.secret=this.publicKey=this.key=r,this.signature=new iBe(t.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}RPt.inherits(Py,CPt);Py.prototype.verify=function(){try{var e=lBe(this.signature.buffer,this.algorithm,this.key.buffer),r=dBe(this.signature.buffer,this.encoding);return this.emit("done",e,r),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(o){this.readable=!1,this.emit("error",o),this.emit("close")}};Py.decode=dBe;Py.isValid=cBe;Py.verify=lBe;fBe.exports=Py});var rB=h(Ml=>{l();var hBe=nBe(),tB=pBe(),xPt=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];Ml.ALGORITHMS=xPt;Ml.sign=hBe.sign;Ml.verify=tB.verify;Ml.decode=tB.decode;Ml.isValid=tB.isValid;Ml.createSign=function(e){return new hBe(e)};Ml.createVerify=function(e){return new tB(e)}});var aX=h((Ivr,gBe)=>{l();var BPt=rB();gBe.exports=function(t,e){e=e||{};var r=BPt.decode(t,e);if(!r)return null;var o=r.payload;if(typeof o=="string")try{var s=JSON.parse(o);s!==null&&typeof s=="object"&&(o=s)}catch{}return e.complete===!0?{header:r.header,payload:o,signature:r.signature}:o}});var Cv=h((Rvr,mBe)=>{l();var nB=function(t,e){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=t,e&&(this.inner=e)};nB.prototype=Object.create(Error.prototype);nB.prototype.constructor=nB;mBe.exports=nB});var uX=h((Nvr,_Be)=>{l();var yBe=Cv(),iB=function(t,e){yBe.call(this,t),this.name="NotBeforeError",this.date=e};iB.prototype=Object.create(yBe.prototype);iB.prototype.constructor=iB;_Be.exports=iB});var cX=h((Pvr,bBe)=>{l();var SBe=Cv(),oB=function(t,e){SBe.call(this,t),this.name="TokenExpiredError",this.expiredAt=e};oB.prototype=Object.create(SBe.prototype);oB.prototype.constructor=oB;bBe.exports=oB});var lX=h((xvr,EBe)=>{l();var DPt=Aj();EBe.exports=function(t,e){var r=e||Math.floor(Date.now()/1e3);if(typeof t=="string"){var o=DPt(t);return typeof o>"u"?void 0:Math.floor(r+o/1e3)}else return typeof t=="number"?r+t:void 0}});var TBe=h((Dvr,vBe)=>{l();var LPt=Sf();vBe.exports=LPt.satisfies(process.version,">=15.7.0")});var IBe=h((Uvr,ABe)=>{l();var UPt=Sf();ABe.exports=UPt.satisfies(process.version,">=16.9.0")});var dX=h((Vvr,CBe)=>{l();var GPt=TBe(),VPt=IBe(),FPt={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},HPt={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};CBe.exports=function(t,e){if(!t||!e)return;let r=e.asymmetricKeyType;if(!r)return;let o=FPt[r];if(!o)throw new Error(`Unknown key type "${r}".`);if(!o.includes(t))throw new Error(`"alg" parameter for "${r}" key type must be one of: ${o.join(", ")}.`);if(GPt)switch(r){case"ec":let s=e.asymmetricKeyDetails.namedCurve,a=HPt[t];if(s!==a)throw new Error(`"alg" parameter "${t}" requires curve "${a}".`);break;case"rsa-pss":if(VPt){let i=parseInt(t.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:u,saltLength:c}=e.asymmetricKeyDetails;if(n!==`sha${i}`||u!==n)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${t}.`);if(c!==void 0&&c>i>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${t}.`)}break}}});var fX=h((Hvr,RBe)=>{l();var kPt=Sf();RBe.exports=kPt.satisfies(process.version,"^6.12.0 || >=8.0.0")});var wBe=h((Wvr,NBe)=>{l();var Gt=Cv(),WPt=uX(),OBe=cX(),ZPt=aX(),qPt=lX(),YPt=dX(),jPt=fX(),KPt=rB(),{KeyObject:XPt,createSecretKey:zPt,createPublicKey:JPt}=require("crypto"),pX=["RS256","RS384","RS512"],$Pt=["ES256","ES384","ES512"],hX=["RS256","RS384","RS512"],QPt=["HS256","HS384","HS512"];jPt&&(pX.splice(pX.length,0,"PS256","PS384","PS512"),hX.splice(hX.length,0,"PS256","PS384","PS512"));NBe.exports=function(t,e,r,o){typeof r=="function"&&!o&&(o=r,r={}),r||(r={}),r=Object.assign({},r);let s;if(o?s=o:s=function(d,f){if(d)throw d;return f},r.clockTimestamp&&typeof r.clockTimestamp!="number")return s(new Gt("clockTimestamp must be a number"));if(r.nonce!==void 0&&(typeof r.nonce!="string"||r.nonce.trim()===""))return s(new Gt("nonce must be a non-empty string"));if(r.allowInvalidAsymmetricKeyTypes!==void 0&&typeof r.allowInvalidAsymmetricKeyTypes!="boolean")return s(new Gt("allowInvalidAsymmetricKeyTypes must be a boolean"));let a=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!t)return s(new Gt("jwt must be provided"));if(typeof t!="string")return s(new Gt("jwt must be a string"));let i=t.split(".");if(i.length!==3)return s(new Gt("jwt malformed"));let n;try{n=ZPt(t,{complete:!0})}catch(d){return s(d)}if(!n)return s(new Gt("invalid token"));let u=n.header,c;if(typeof e=="function"){if(!o)return s(new Gt("verify must be called asynchronous if secret or public key is provided as a callback"));c=e}else c=function(d,f){return f(null,e)};return c(u,function(d,f){if(d)return s(new Gt("error in secret or public key callback: "+d.message));let g=i[2].trim()!=="";if(!g&&f)return s(new Gt("jwt signature is required"));if(g&&!f)return s(new Gt("secret or public key must be provided"));if(!g&&!r.algorithms)return s(new Gt('please specify "none" in "algorithms" to verify unsigned tokens'));if(f!=null&&!(f instanceof XPt))try{f=JPt(f)}catch{try{f=zPt(typeof f=="string"?Buffer.from(f):f)}catch{return s(new Gt("secretOrPublicKey is not valid key material"))}}if(r.algorithms||(f.type==="secret"?r.algorithms=QPt:["rsa","rsa-pss"].includes(f.asymmetricKeyType)?r.algorithms=hX:f.asymmetricKeyType==="ec"?r.algorithms=$Pt:r.algorithms=pX),r.algorithms.indexOf(n.header.alg)===-1)return s(new Gt("invalid algorithm"));if(u.alg.startsWith("HS")&&f.type!=="secret")return s(new Gt(`secretOrPublicKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)&&f.type!=="public")return s(new Gt(`secretOrPublicKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{YPt(u.alg,f)}catch(T){return s(T)}let y;try{y=KPt.verify(t,n.header.alg,f)}catch(T){return s(T)}if(!y)return s(new Gt("invalid signature"));let S=n.payload;if(typeof S.nbf<"u"&&!r.ignoreNotBefore){if(typeof S.nbf!="number")return s(new Gt("invalid nbf value"));if(S.nbf>a+(r.clockTolerance||0))return s(new WPt("jwt not active",new Date(S.nbf*1e3)))}if(typeof S.exp<"u"&&!r.ignoreExpiration){if(typeof S.exp!="number")return s(new Gt("invalid exp value"));if(a>=S.exp+(r.clockTolerance||0))return s(new OBe("jwt expired",new Date(S.exp*1e3)))}if(r.audience){let T=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some(function(P){return T.some(function(M){return M instanceof RegExp?M.test(P):M===P})}))return s(new Gt("jwt audience invalid. expected: "+T.join(" or ")))}if(r.issuer&&(typeof r.issuer=="string"&&S.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(S.iss)===-1))return s(new Gt("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&S.sub!==r.subject)return s(new Gt("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&S.jti!==r.jwtid)return s(new Gt("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&S.nonce!==r.nonce)return s(new Gt("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if(typeof S.iat!="number")return s(new Gt("iat required when maxAge is specified"));let T=qPt(r.maxAge,S.iat);if(typeof T>"u")return s(new Gt('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(a>=T+(r.clockTolerance||0))return s(new OBe("maxAge exceeded",new Date(T*1e3)))}if(r.complete===!0){let T=n.signature;return s(null,{header:u,payload:S,signature:T})}return s(null,S)})}});var LBe=h((qvr,DBe)=>{l();var PBe=1/0,xBe=9007199254740991,e1t=17976931348623157e292,MBe=NaN,t1t="[object Arguments]",r1t="[object Function]",n1t="[object GeneratorFunction]",i1t="[object String]",o1t="[object Symbol]",s1t=/^\s+|\s+$/g,a1t=/^[-+]0x[0-9a-f]+$/i,u1t=/^0b[01]+$/i,c1t=/^0o[0-7]+$/i,l1t=/^(?:0|[1-9]\d*)$/,d1t=parseInt;function f1t(t,e){for(var r=-1,o=t?t.length:0,s=Array(o);++r<o;)s[r]=e(t[r],r,t);return s}function p1t(t,e,r,o){for(var s=t.length,a=r+(o?1:-1);o?a--:++a<s;)if(e(t[a],a,t))return a;return-1}function h1t(t,e,r){if(e!==e)return p1t(t,g1t,r);for(var o=r-1,s=t.length;++o<s;)if(t[o]===e)return o;return-1}function g1t(t){return t!==t}function m1t(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}function y1t(t,e){return f1t(e,function(r){return t[r]})}function _1t(t,e){return function(r){return t(e(r))}}var sB=Object.prototype,mX=sB.hasOwnProperty,aB=sB.toString,S1t=sB.propertyIsEnumerable,b1t=_1t(Object.keys,Object),E1t=Math.max;function v1t(t,e){var r=BBe(t)||R1t(t)?m1t(t.length,String):[],o=r.length,s=!!o;for(var a in t)(e||mX.call(t,a))&&!(s&&(a=="length"||A1t(a,o)))&&r.push(a);return r}function T1t(t){if(!I1t(t))return b1t(t);var e=[];for(var r in Object(t))mX.call(t,r)&&r!="constructor"&&e.push(r);return e}function A1t(t,e){return e=e??xBe,!!e&&(typeof t=="number"||l1t.test(t))&&t>-1&&t%1==0&&t<e}function I1t(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||sB;return t===r}function C1t(t,e,r,o){t=yX(t)?t:U1t(t),r=r&&!o?B1t(r):0;var s=t.length;return r<0&&(r=E1t(s+r,0)),P1t(t)?r<=s&&t.indexOf(e,r)>-1:!!s&&h1t(t,e,r)>-1}function R1t(t){return O1t(t)&&mX.call(t,"callee")&&(!S1t.call(t,"callee")||aB.call(t)==t1t)}var BBe=Array.isArray;function yX(t){return t!=null&&w1t(t.length)&&!N1t(t)}function O1t(t){return _X(t)&&yX(t)}function N1t(t){var e=gX(t)?aB.call(t):"";return e==r1t||e==n1t}function w1t(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xBe}function gX(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function _X(t){return!!t&&typeof t=="object"}function P1t(t){return typeof t=="string"||!BBe(t)&&_X(t)&&aB.call(t)==i1t}function M1t(t){return typeof t=="symbol"||_X(t)&&aB.call(t)==o1t}function x1t(t){if(!t)return t===0?t:0;if(t=D1t(t),t===PBe||t===-PBe){var e=t<0?-1:1;return e*e1t}return t===t?t:0}function B1t(t){var e=x1t(t),r=e%1;return e===e?r?e-r:e:0}function D1t(t){if(typeof t=="number")return t;if(M1t(t))return MBe;if(gX(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gX(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(s1t,"");var r=u1t.test(t);return r||c1t.test(t)?d1t(t.slice(2),r?2:8):a1t.test(t)?MBe:+t}function L1t(t){return yX(t)?v1t(t):T1t(t)}function U1t(t){return t?y1t(t,L1t(t)):[]}DBe.exports=C1t});var GBe=h((jvr,UBe)=>{l();var G1t="[object Boolean]",V1t=Object.prototype,F1t=V1t.toString;function H1t(t){return t===!0||t===!1||k1t(t)&&F1t.call(t)==G1t}function k1t(t){return!!t&&typeof t=="object"}UBe.exports=H1t});var WBe=h((Xvr,kBe)=>{l();var VBe=1/0,W1t=17976931348623157e292,FBe=NaN,Z1t="[object Symbol]",q1t=/^\s+|\s+$/g,Y1t=/^[-+]0x[0-9a-f]+$/i,j1t=/^0b[01]+$/i,K1t=/^0o[0-7]+$/i,X1t=parseInt,z1t=Object.prototype,J1t=z1t.toString;function $1t(t){return typeof t=="number"&&t==rMt(t)}function HBe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Q1t(t){return!!t&&typeof t=="object"}function eMt(t){return typeof t=="symbol"||Q1t(t)&&J1t.call(t)==Z1t}function tMt(t){if(!t)return t===0?t:0;if(t=nMt(t),t===VBe||t===-VBe){var e=t<0?-1:1;return e*W1t}return t===t?t:0}function rMt(t){var e=tMt(t),r=e%1;return e===e?r?e-r:e:0}function nMt(t){if(typeof t=="number")return t;if(eMt(t))return FBe;if(HBe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=HBe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(q1t,"");var r=j1t.test(t);return r||K1t.test(t)?X1t(t.slice(2),r?2:8):Y1t.test(t)?FBe:+t}kBe.exports=$1t});var qBe=h((Jvr,ZBe)=>{l();var iMt="[object Number]",oMt=Object.prototype,sMt=oMt.toString;function aMt(t){return!!t&&typeof t=="object"}function uMt(t){return typeof t=="number"||aMt(t)&&sMt.call(t)==iMt}ZBe.exports=uMt});var XBe=h((Qvr,KBe)=>{l();var cMt="[object Object]";function lMt(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function dMt(t,e){return function(r){return t(e(r))}}var fMt=Function.prototype,YBe=Object.prototype,jBe=fMt.toString,pMt=YBe.hasOwnProperty,hMt=jBe.call(Object),gMt=YBe.toString,mMt=dMt(Object.getPrototypeOf,Object);function yMt(t){return!!t&&typeof t=="object"}function _Mt(t){if(!yMt(t)||gMt.call(t)!=cMt||lMt(t))return!1;var e=mMt(t);if(e===null)return!0;var r=pMt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jBe.call(r)==hMt}KBe.exports=_Mt});var JBe=h((tTr,zBe)=>{l();var SMt="[object String]",bMt=Object.prototype,EMt=bMt.toString,vMt=Array.isArray;function TMt(t){return!!t&&typeof t=="object"}function AMt(t){return typeof t=="string"||!vMt(t)&&TMt(t)&&EMt.call(t)==SMt}zBe.exports=AMt});var rDe=h((nTr,tDe)=>{l();var IMt="Expected a function",$Be=1/0,CMt=17976931348623157e292,QBe=NaN,RMt="[object Symbol]",OMt=/^\s+|\s+$/g,NMt=/^[-+]0x[0-9a-f]+$/i,wMt=/^0b[01]+$/i,PMt=/^0o[0-7]+$/i,MMt=parseInt,xMt=Object.prototype,BMt=xMt.toString;function DMt(t,e){var r;if(typeof e!="function")throw new TypeError(IMt);return t=FMt(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}function LMt(t){return DMt(2,t)}function eDe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function UMt(t){return!!t&&typeof t=="object"}function GMt(t){return typeof t=="symbol"||UMt(t)&&BMt.call(t)==RMt}function VMt(t){if(!t)return t===0?t:0;if(t=HMt(t),t===$Be||t===-$Be){var e=t<0?-1:1;return e*CMt}return t===t?t:0}function FMt(t){var e=VMt(t),r=e%1;return e===e?r?e-r:e:0}function HMt(t){if(typeof t=="number")return t;if(GMt(t))return QBe;if(eDe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=eDe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(OMt,"");var r=wMt.test(t);return r||PMt.test(t)?MMt(t.slice(2),r?2:8):NMt.test(t)?QBe:+t}tDe.exports=LMt});var dDe=h((oTr,lDe)=>{l();var nDe=lX(),kMt=fX(),WMt=dX(),iDe=rB(),ZMt=LBe(),uB=GBe(),oDe=WBe(),SX=qBe(),aDe=XBe(),xl=JBe(),qMt=rDe(),{KeyObject:YMt,createSecretKey:jMt,createPrivateKey:KMt}=require("crypto"),uDe=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];kMt&&uDe.splice(3,0,"PS256","PS384","PS512");var XMt={expiresIn:{isValid:function(t){return oDe(t)||xl(t)&&t},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(t){return oDe(t)||xl(t)&&t},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(t){return xl(t)||Array.isArray(t)},message:'"audience" must be a string or array'},algorithm:{isValid:ZMt.bind(null,uDe),message:'"algorithm" must be a valid string enum value'},header:{isValid:aDe,message:'"header" must be an object'},encoding:{isValid:xl,message:'"encoding" must be a string'},issuer:{isValid:xl,message:'"issuer" must be a string'},subject:{isValid:xl,message:'"subject" must be a string'},jwtid:{isValid:xl,message:'"jwtid" must be a string'},noTimestamp:{isValid:uB,message:'"noTimestamp" must be a boolean'},keyid:{isValid:xl,message:'"keyid" must be a string'},mutatePayload:{isValid:uB,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:uB,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:uB,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},zMt={iat:{isValid:SX,message:'"iat" should be a number of seconds'},exp:{isValid:SX,message:'"exp" should be a number of seconds'},nbf:{isValid:SX,message:'"nbf" should be a number of seconds'}};function cDe(t,e,r,o){if(!aDe(r))throw new Error('Expected "'+o+'" to be a plain object.');Object.keys(r).forEach(function(s){let a=t[s];if(!a){if(!e)throw new Error('"'+s+'" is not allowed in "'+o+'"');return}if(!a.isValid(r[s]))throw new Error(a.message)})}function JMt(t){return cDe(XMt,!1,t,"options")}function $Mt(t){return cDe(zMt,!0,t,"payload")}var sDe={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},QMt=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];lDe.exports=function(t,e,r,o){typeof r=="function"?(o=r,r={}):r=r||{};let s=typeof t=="object"&&!Buffer.isBuffer(t),a=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function i(c){if(o)return o(c);throw c}if(!e&&r.algorithm!=="none")return i(new Error("secretOrPrivateKey must have a value"));if(e!=null&&!(e instanceof YMt))try{e=KMt(e)}catch{try{e=jMt(typeof e=="string"?Buffer.from(e):e)}catch{return i(new Error("secretOrPrivateKey is not valid key material"))}}if(a.alg.startsWith("HS")&&e.type!=="secret")return i(new Error(`secretOrPrivateKey must be a symmetric key when using ${a.alg}`));if(/^(?:RS|PS|ES)/.test(a.alg)){if(e.type!=="private")return i(new Error(`secretOrPrivateKey must be an asymmetric key when using ${a.alg}`));if(!r.allowInsecureKeySizes&&!a.alg.startsWith("ES")&&e.asymmetricKeyDetails!==void 0&&e.asymmetricKeyDetails.modulusLength<2048)return i(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`))}if(typeof t>"u")return i(new Error("payload is required"));if(s){try{$Mt(t)}catch(c){return i(c)}r.mutatePayload||(t=Object.assign({},t))}else{let c=QMt.filter(function(d){return typeof r[d]<"u"});if(c.length>0)return i(new Error("invalid "+c.join(",")+" option for "+typeof t+" payload"))}if(typeof t.exp<"u"&&typeof r.expiresIn<"u")return i(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof t.nbf<"u"&&typeof r.notBefore<"u")return i(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{JMt(r)}catch(c){return i(c)}if(!r.allowInvalidAsymmetricKeyTypes)try{WMt(a.alg,e)}catch(c){return i(c)}let n=t.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete t.iat:s&&(t.iat=n),typeof r.notBefore<"u"){try{t.nbf=nDe(r.notBefore,n)}catch(c){return i(c)}if(typeof t.nbf>"u")return i(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof r.expiresIn<"u"&&typeof t=="object"){try{t.exp=nDe(r.expiresIn,n)}catch(c){return i(c)}if(typeof t.exp>"u")return i(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(sDe).forEach(function(c){let d=sDe[c];if(typeof r[c]<"u"){if(typeof t[d]<"u")return i(new Error('Bad "options.'+c+'" option. The payload already has an "'+d+'" property.'));t[d]=r[c]}});let u=r.encoding||"utf8";if(typeof o=="function")o=o&&qMt(o),iDe.createSign({header:a,privateKey:e,payload:t,encoding:u}).once("error",o).once("done",function(c){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&c.length<256)return o(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`));o(null,c)});else{let c=iDe.sign({header:a,payload:t,secret:e,encoding:u});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(a.alg)&&c.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${a.alg}`);return c}}});var pDe=h((aTr,fDe)=>{l();fDe.exports={decode:aX(),verify:wBe(),sign:dDe(),JsonWebTokenError:Cv(),NotBeforeError:uX(),TokenExpiredError:cX()}});var _De=h((ATr,yDe)=>{"use strict";l();var txt=function(e){return rxt(e)&&!nxt(e)};function rxt(t){return!!t&&typeof t=="object"}function nxt(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||sxt(t)}var ixt=typeof Symbol=="function"&&Symbol.for,oxt=ixt?Symbol.for("react.element"):60103;function sxt(t){return t.$$typeof===oxt}function axt(t){return Array.isArray(t)?[]:{}}function Rv(t,e){return e.clone!==!1&&e.isMergeableObject(t)?My(axt(t),t,e):t}function uxt(t,e,r){return t.concat(e).map(function(o){return Rv(o,r)})}function cxt(t,e){if(!e.customMerge)return My;var r=e.customMerge(t);return typeof r=="function"?r:My}function lxt(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function gDe(t){return Object.keys(t).concat(lxt(t))}function mDe(t,e){try{return e in t}catch{return!1}}function dxt(t,e){return mDe(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function fxt(t,e,r){var o={};return r.isMergeableObject(t)&&gDe(t).forEach(function(s){o[s]=Rv(t[s],r)}),gDe(e).forEach(function(s){dxt(t,s)||(mDe(t,s)&&r.isMergeableObject(e[s])?o[s]=cxt(s,r)(t[s],e[s],r):o[s]=Rv(e[s],r))}),o}function My(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||uxt,r.isMergeableObject=r.isMergeableObject||txt,r.cloneUnlessOtherwiseSpecified=Rv;var o=Array.isArray(e),s=Array.isArray(t),a=o===s;return a?o?r.arrayMerge(t,e,r):fxt(t,e,r):Rv(e,r)}My.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,s){return My(o,s,r)},{})};var pxt=My;yDe.exports=pxt});var Sxt={};nT(Sxt,{activate:()=>yxt,default:()=>_xt});module.exports=Y(Sxt);l();l();(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d02e1f8a-a9fc-4397-b8c0-061a4893b9a5",t._sentryDebugIdIdentifier="sentry-dbid-d02e1f8a-a9fc-4397-b8c0-061a4893b9a5")}catch{}})();l();l();l();var gz=ve(require("node:http"),1),mz=ve(require("node:https"),1),ql=ve(require("node:zlib"),1),Si=ve(require("node:stream"),1),Jy=require("node:buffer");l();function y2e(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),o="",s=!1,a=r[0]||"text/plain",i=a;for(let d=1;d<r.length;d++)r[d]==="base64"?s=!0:r[d]&&(i+=`;${r[d]}`,r[d].indexOf("charset=")===0&&(o=r[d].substring(8)));!r[0]&&!o.length&&(i+=";charset=US-ASCII",o="US-ASCII");let n=s?"base64":"ascii",u=unescape(t.substring(e+1)),c=Buffer.from(u,n);return c.type=a,c.typeFull=i,c.charset=o,c}var B8=y2e;l();var Ki=ve(require("node:stream"),1),Pa=require("node:util"),_i=require("node:buffer");qy();sT();l();l();var wa=class extends Error{constructor(e,r){super(e),Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Kn=class extends wa{constructor(e,r,o){super(e,r),o&&(this.code=this.errno=o.code,this.erroredSysCall=o.syscall)}};l();var aT=Symbol.toStringTag,YB=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[aT]==="URLSearchParams",jy=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[aT]),W8=t=>typeof t=="object"&&(t[aT]==="AbortSignal"||t[aT]==="EventTarget"),Z8=(t,e)=>{let r=new URL(e).hostname,o=new URL(t).hostname;return r===o||r.endsWith(`.${o}`)},q8=(t,e)=>{let r=new URL(e).protocol,o=new URL(t).protocol;return r===o};var P2e=(0,Pa.promisify)(Ki.default.pipeline),Xn=Symbol("Body internals"),ys=class{constructor(e,{size:r=0}={}){let o=null;e===null?e=null:YB(e)?e=_i.Buffer.from(e.toString()):jy(e)||_i.Buffer.isBuffer(e)||(Pa.types.isAnyArrayBuffer(e)?e=_i.Buffer.from(e):ArrayBuffer.isView(e)?e=_i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof Ki.default||(e instanceof Na?(e=k8(e),o=e.type.split("=")[1]):e=_i.Buffer.from(String(e))));let s=e;_i.Buffer.isBuffer(e)?s=Ki.default.Readable.from(e):jy(e)&&(s=Ki.default.Readable.from(e.stream())),this[Xn]={body:e,stream:s,boundary:o,disturbed:!1,error:null},this.size=r,e instanceof Ki.default&&e.on("error",a=>{let i=a instanceof wa?a:new Kn(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Xn].error=i})}get body(){return this[Xn].stream}get bodyUsed(){return this[Xn].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:r,byteLength:o}=await eD(this);return e.slice(r,r+o)}async formData(){let e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){let o=new Na,s=new URLSearchParams(await this.text());for(let[a,i]of s)o.append(a,i);return o}let{toFormData:r}=await Promise.resolve().then(()=>(ez(),Q8));return r(this.body,e)}async blob(){let e=this.headers&&this.headers.get("content-type")||this[Xn].body&&this[Xn].body.type||"",r=await this.arrayBuffer();return new ji([r],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await eD(this);return new TextDecoder().decode(e)}buffer(){return eD(this)}};ys.prototype.buffer=(0,Pa.deprecate)(ys.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(ys.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Pa.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function eD(t){if(t[Xn].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[Xn].disturbed=!0,t[Xn].error)throw t[Xn].error;let{body:e}=t;if(e===null)return _i.Buffer.alloc(0);if(!(e instanceof Ki.default))return _i.Buffer.alloc(0);let r=[],o=0;try{for await(let s of e){if(t.size>0&&o+s.length>t.size){let a=new Kn(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw e.destroy(a),a}o+=s.length,r.push(s)}}catch(s){throw s instanceof wa?s:new Kn(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(e.readableEnded===!0||e._readableState.ended===!0)try{return r.every(s=>typeof s=="string")?_i.Buffer.from(r.join("")):_i.Buffer.concat(r,o)}catch(s){throw new Kn(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new Kn(`Premature close of server response while trying to fetch ${t.url}`)}var Vp=(t,e)=>{let r,o,{body:s}=t[Xn];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof Ki.default&&typeof s.getBoundary!="function"&&(r=new Ki.PassThrough({highWaterMark:e}),o=new Ki.PassThrough({highWaterMark:e}),s.pipe(r),s.pipe(o),t[Xn].stream=r,s=o),s},M2e=(0,Pa.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),dT=(t,e)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":YB(t)?"application/x-www-form-urlencoded;charset=UTF-8":jy(t)?t.type||null:_i.Buffer.isBuffer(t)||Pa.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof Na?`multipart/form-data; boundary=${e[Xn].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${M2e(t)}`:t instanceof Ki.default?null:"text/plain;charset=UTF-8",tz=t=>{let{body:e}=t[Xn];return e===null?0:jy(e)?e.size:_i.Buffer.isBuffer(e)?e.length:e&&typeof e.getLengthSync=="function"&&e.hasKnownLength&&e.hasKnownLength()?e.getLengthSync():null},rz=async(t,{body:e})=>{e===null?t.end():await P2e(e,t)};l();l();var tD=require("node:util"),Xy=ve(require("node:http"),1),fT=typeof Xy.default.validateHeaderName=="function"?Xy.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let e=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(e,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),e}},rD=typeof Xy.default.validateHeaderValue=="function"?Xy.default.validateHeaderValue:(t,e)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(e)){let r=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},Mn=class t extends URLSearchParams{constructor(e){let r=[];if(e instanceof t){let o=e.raw();for(let[s,a]of Object.entries(o))r.push(...a.map(i=>[s,i]))}else if(e!=null)if(typeof e=="object"&&!tD.types.isBoxedPrimitive(e)){let o=e[Symbol.iterator];if(o==null)r.push(...Object.entries(e));else{if(typeof o!="function")throw new TypeError("Header pairs must be iterable");r=[...e].map(s=>{if(typeof s!="object"||tD.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return r=r.length>0?r.map(([o,s])=>(fT(o),rD(o,String(s)),[String(o).toLowerCase(),String(s)])):void 0,super(r),new Proxy(this,{get(o,s,a){switch(s){case"append":case"set":return(i,n)=>(fT(i),rD(i,String(n)),URLSearchParams.prototype[s].call(o,String(i).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return i=>(fT(i),URLSearchParams.prototype[s].call(o,String(i).toLowerCase()));case"keys":return()=>(o.sort(),new Set(URLSearchParams.prototype.keys.call(o)).keys());default:return Reflect.get(o,s,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let r=this.getAll(e);if(r.length===0)return null;let o=r.join(", ");return/^content-encoding$/i.test(e)&&(o=o.toLowerCase()),o}forEach(e,r=void 0){for(let o of this.keys())Reflect.apply(e,r,[this.get(o),o,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,r)=>(e[r]=this.getAll(r),e),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((e,r)=>{let o=this.getAll(r);return r==="host"?e[r]=o[0]:e[r]=o.length>1?o:o[0],e},{})}};Object.defineProperties(Mn.prototype,["get","entries","forEach","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));function nz(t=[]){return new Mn(t.reduce((e,r,o,s)=>(o%2===0&&e.push(s.slice(o,o+2)),e),[]).filter(([e,r])=>{try{return fT(e),rD(e,String(r)),!0}catch{return!1}}))}l();var x2e=new Set([301,302,303,307,308]),pT=t=>x2e.has(t);var Uo=Symbol("Response internals"),zn=class t extends ys{constructor(e=null,r={}){super(e,r);let o=r.status!=null?r.status:200,s=new Mn(r.headers);if(e!==null&&!s.has("Content-Type")){let a=dT(e,this);a&&s.append("Content-Type",a)}this[Uo]={type:"default",url:r.url,status:o,statusText:r.statusText||"",headers:s,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[Uo].type}get url(){return this[Uo].url||""}get status(){return this[Uo].status}get ok(){return this[Uo].status>=200&&this[Uo].status<300}get redirected(){return this[Uo].counter>0}get statusText(){return this[Uo].statusText}get headers(){return this[Uo].headers}get highWaterMark(){return this[Uo].highWaterMark}clone(){return new t(Vp(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,r=302){if(!pT(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new t(null,{headers:{location:new URL(e).toString()},status:r})}static error(){let e=new t(null,{status:0,statusText:""});return e[Uo].type="error",e}static json(e=void 0,r={}){let o=JSON.stringify(e);if(o===void 0)throw new TypeError("data is not JSON serializable");let s=new Mn(r&&r.headers);return s.has("content-type")||s.set("content-type","application/json"),new t(o,{...r,headers:s})}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(zn.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});l();var fz=require("node:url"),pz=require("node:util");l();var iz=t=>{if(t.search)return t.search;let e=t.href.length-1,r=t.hash||(t.href[e]==="#"?"#":"");return t.href[e-r.length]==="?"?"?":""};l();var sz=require("node:net");function oz(t,e=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",e&&(t.pathname="",t.search=""),t)}var az=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),uz="strict-origin-when-cross-origin";function cz(t){if(!az.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function B2e(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let e=t.host.replace(/(^\[)|(]$)/g,""),r=(0,sz.isIP)(e);return r===4&&/^127\./.test(e)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(e)?!0:t.host==="localhost"||t.host.endsWith(".localhost")?!1:t.protocol==="file:"}function Fp(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:B2e(t)}function lz(t,{referrerURLCallback:e,referrerOriginCallback:r}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let o=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,a=oz(s),i=oz(s,!0);a.toString().length>4096&&(a=i),e&&(a=e(a)),r&&(i=r(i));let n=new URL(t.url);switch(o){case"no-referrer":return"no-referrer";case"origin":return i;case"unsafe-url":return a;case"strict-origin":return Fp(a)&&!Fp(n)?"no-referrer":i.toString();case"strict-origin-when-cross-origin":return a.origin===n.origin?a:Fp(a)&&!Fp(n)?"no-referrer":i;case"same-origin":return a.origin===n.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===n.origin?a:i;case"no-referrer-when-downgrade":return Fp(a)&&!Fp(n)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${o}`)}}function dz(t){let e=(t.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let o of e)o&&az.has(o)&&(r=o);return r}var Or=Symbol("Request internals"),zy=t=>typeof t=="object"&&typeof t[Or]=="object",D2e=(0,pz.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Ma=class t extends ys{constructor(e,r={}){let o;if(zy(e)?o=new URL(e.url):(o=new URL(e),e={}),o.username!==""||o.password!=="")throw new TypeError(`${o} is an url with embedded credentials.`);let s=r.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(s)&&(s=s.toUpperCase()),!zy(r)&&"data"in r&&D2e(),(r.body!=null||zy(e)&&e.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:zy(e)&&e.body!==null?Vp(e):null;super(a,{size:r.size||e.size||0});let i=new Mn(r.headers||e.headers||{});if(a!==null&&!i.has("Content-Type")){let c=dT(a,this);c&&i.set("Content-Type",c)}let n=zy(e)?e.signal:null;if("signal"in r&&(n=r.signal),n!=null&&!W8(n))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let u=r.referrer==null?e.referrer:r.referrer;if(u==="")u="no-referrer";else if(u){let c=new URL(u);u=/^about:(\/\/)?client$/.test(c)?"client":c}else u=void 0;this[Or]={method:s,redirect:r.redirect||e.redirect||"follow",headers:i,parsedURL:o,signal:n,referrer:u},this.follow=r.follow===void 0?e.follow===void 0?20:e.follow:r.follow,this.compress=r.compress===void 0?e.compress===void 0?!0:e.compress:r.compress,this.counter=r.counter||e.counter||0,this.agent=r.agent||e.agent,this.highWaterMark=r.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||e.referrerPolicy||""}get method(){return this[Or].method}get url(){return(0,fz.format)(this[Or].parsedURL)}get headers(){return this[Or].headers}get redirect(){return this[Or].redirect}get signal(){return this[Or].signal}get referrer(){if(this[Or].referrer==="no-referrer")return"";if(this[Or].referrer==="client")return"about:client";if(this[Or].referrer)return this[Or].referrer.toString()}get referrerPolicy(){return this[Or].referrerPolicy}set referrerPolicy(e){this[Or].referrerPolicy=cz(e)}clone(){return new t(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Ma.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var hz=t=>{let{parsedURL:e}=t[Or],r=new Mn(t[Or].headers);r.has("Accept")||r.set("Accept","*/*");let o=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(o="0"),t.body!==null){let n=tz(t);typeof n=="number"&&!Number.isNaN(n)&&(o=String(n))}o&&r.set("Content-Length",o),t.referrerPolicy===""&&(t.referrerPolicy=uz),t.referrer&&t.referrer!=="no-referrer"?t[Or].referrer=lz(t):t[Or].referrer="no-referrer",t[Or].referrer instanceof URL&&r.set("Referer",t.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),t.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:s}=t;typeof s=="function"&&(s=s(e));let a=iz(e),i={path:e.pathname+a,method:t.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:e,options:i}};l();var hT=class extends wa{constructor(e,r="aborted"){super(e,r)}};sT();$B();var L2e=new Set(["data:","http:","https:"]);async function gT(t,e){return new Promise((r,o)=>{let s=new Ma(t,e),{parsedURL:a,options:i}=hz(s);if(!L2e.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let S=B8(s.url),T=new zn(S,{headers:{"Content-Type":S.typeFull}});r(T);return}let n=(a.protocol==="https:"?mz.default:gz.default).request,{signal:u}=s,c=null,d=()=>{let S=new hT("The operation was aborted.");o(S),s.body&&s.body instanceof Si.default.Readable&&s.body.destroy(S),!(!c||!c.body)&&c.body.emit("error",S)};if(u&&u.aborted){d();return}let f=()=>{d(),y()},g=n(a.toString(),i);u&&u.addEventListener("abort",f);let y=()=>{g.abort(),u&&u.removeEventListener("abort",f)};g.on("error",S=>{o(new Kn(`request to ${s.url} failed, reason: ${S.message}`,"system",S)),y()}),U2e(g,S=>{c&&c.body&&c.body.destroy(S)}),process.version<"v14"&&g.on("socket",S=>{let T;S.prependListener("end",()=>{T=S._eventsCount}),S.prependListener("close",C=>{if(c&&T<S._eventsCount&&!C){let R=new Error("Premature close");R.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",R)}})}),g.on("response",S=>{g.setTimeout(0);let T=nz(S.rawHeaders);if(pT(S.statusCode)){let x=T.get("Location"),U=null;try{U=x===null?null:new URL(x,s.url)}catch{if(s.redirect!=="manual"){o(new Kn(`uri requested responds with an invalid redirect URL: ${x}`,"invalid-redirect")),y();return}}switch(s.redirect){case"error":o(new Kn(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if(U===null)break;if(s.counter>=s.follow){o(new Kn(`maximum redirect reached at: ${s.url}`,"max-redirect")),y();return}let D={headers:new Mn(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:Vp(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Z8(s.url,U)||!q8(s.url,U))for(let re of["authorization","www-authenticate","cookie","cookie2"])D.headers.delete(re);if(S.statusCode!==303&&s.body&&e.body instanceof Si.default.Readable){o(new Kn("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(S.statusCode===303||(S.statusCode===301||S.statusCode===302)&&s.method==="POST")&&(D.method="GET",D.body=void 0,D.headers.delete("content-length"));let W=dz(T);W&&(D.referrerPolicy=W),r(gT(new Ma(U,D))),y();return}default:return o(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}u&&S.once("end",()=>{u.removeEventListener("abort",f)});let C=(0,Si.pipeline)(S,new Si.PassThrough,x=>{x&&o(x)});process.version<"v12.10"&&S.on("aborted",f);let R={url:s.url,status:S.statusCode,statusText:S.statusMessage,headers:T,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},P=T.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||P===null||S.statusCode===204||S.statusCode===304){c=new zn(C,R),r(c);return}let M={flush:ql.default.Z_SYNC_FLUSH,finishFlush:ql.default.Z_SYNC_FLUSH};if(P==="gzip"||P==="x-gzip"){C=(0,Si.pipeline)(C,ql.default.createGunzip(M),x=>{x&&o(x)}),c=new zn(C,R),r(c);return}if(P==="deflate"||P==="x-deflate"){let x=(0,Si.pipeline)(S,new Si.PassThrough,U=>{U&&o(U)});x.once("data",U=>{(U[0]&15)===8?C=(0,Si.pipeline)(C,ql.default.createInflate(),D=>{D&&o(D)}):C=(0,Si.pipeline)(C,ql.default.createInflateRaw(),D=>{D&&o(D)}),c=new zn(C,R),r(c)}),x.once("end",()=>{c||(c=new zn(C,R),r(c))});return}if(P==="br"){C=(0,Si.pipeline)(C,ql.default.createBrotliDecompress(),x=>{x&&o(x)}),c=new zn(C,R),r(c);return}c=new zn(C,R),r(c)}),rz(g,s).catch(o)})}function U2e(t,e){let r=Jy.Buffer.from(`0\r
\r
`),o=!1,s=!1,a;t.on("response",i=>{let{headers:n}=i;o=n["transfer-encoding"]==="chunked"&&!n["content-length"]}),t.on("socket",i=>{let n=()=>{if(o&&!s){let c=new Error("Premature close");c.code="ERR_STREAM_PREMATURE_CLOSE",e(c)}},u=c=>{s=Jy.Buffer.compare(c.slice(-5),r)===0,!s&&a&&(s=Jy.Buffer.compare(a.slice(-3),r.slice(0,3))===0&&Jy.Buffer.compare(c.slice(-2),r.slice(3))===0),a=c};i.prependListener("close",n),i.on("data",u),t.on("close",()=>{i.removeListener("close",n),i.removeListener("data",u)})})}globalThis.fetch||(globalThis.fetch=gT,globalThis.Headers=Mn,globalThis.Request=Ma,globalThis.Response=zn,globalThis.Blob=ji,globalThis.File=Oa,globalThis.FormData=Na,globalThis.blobFrom=XB,globalThis.blobFromSync=KB,globalThis.fileFrom=zB,globalThis.fileFromSync=JB);l();var fx=ve(dS()),Rn=ve(cpe()),O1e=ve(H0e()),N1e=ve($0e()),w1e=ve(k9()),P1e=ve(rRe());l();var v1e=require("node:async_hooks"),fi=ve(KPe()),T1e=ve(E1e()),ARt={fatal:0,error:1,warn:2,info:3,debug:4,trace:5},IRt={fatal:"red",error:"red",warn:"yellow",info:"green",debug:"blue",trace:"magenta"},CRt={fatal:"fatal",error:"error",warn:"warning",info:"info",debug:"debug",trace:"debug"},RRt={level:process.env.WINSTON_LOG_LEVEL||"warn",levels:ARt,format:fi.format.combine(fi.format.errors({stack:!0}),fi.format.label({label:"dou-vscode-ext"}),fi.format.colorize({colors:IRt}),fi.format.timestamp(),fi.format.simple()),transports:[new fi.transports.Console,new T1e.default({sentry:{dsn:"https://bd76f0fd8e618291439b045c40833051@o4504138773889024.ingest.sentry.io/4506638834204672"},level:"error",levelsMap:CRt,format:fi.format.combine(fi.format.timestamp(),fi.format.json())})]},A1e=(0,fi.createLogger)(RRt),Y4=new v1e.AsyncLocalStorage;function I1e(t,e){let o=(Y4.getStore()||A1e).child(t);return Y4.run(o,()=>e())}var se=new Proxy(A1e,{get(t,e,r){let o=Y4.getStore();return o&&e in o?o[e].bind(o):Reflect.get(t,e,r)}});l();var R1e=ve(require("vscode"));var C1e="0.0.66";var j4=R1e.extensions.getExtension("doublebot.doublebot")?.packageJSON?.version??C1e;var M1e=ve(BS()),K4=ve(cn());l();var x1e=ve(require("vscode"));function B1e(){if(!!0){se.info("Sentry not enabled.");return}(0,Rn.setupGlobalHub)(),se.debug("Setting up Sentry"),fx.init({dsn:"https://0e0790fbaf350f75f5dff19ab266647e@o4506707253198848.ingest.sentry.io/4506788033396736",tracesSampleRate:1,instrumenter:"otel",integrations(a){return a.filter(i=>!["OnUnhandledRejection","OnUncaughtException","Http"].includes(i.name))},release:`vscode-ext@${j4}`,environment:"prd"}),fx.setTag("vscode_version",x1e.default.version),se.debug("Sentry initialized");let t=(0,Rn.getClient)();if(!t)throw new Error("Sentry client not initialized");(0,Rn.setupEventContextTrace)(t);let e=(0,Rn.wrapContextManagerClass)(P1e.AsyncLocalStorageContextManager),r=process.env.ENV==="dev"?["http://127.0.0.1"]:["https://api.double.bot"],o={ignoreOutgoingUrls:[a=>!r.some(i=>a.includes(i))]},s=new O1e.NodeSDK({resource:new M1e.Resource({[K4.SemanticResourceAttributes.SERVICE_NAME]:"double-client",[K4.SemanticResourceAttributes.SERVICE_VERSION]:j4}),traceExporter:new w1e.OTLPTraceExporter,instrumentations:[new N1e.HttpInstrumentation(o)],spanProcessor:new Rn.SentrySpanProcessor,textMapPropagator:new Rn.SentryPropagator,contextManager:new e,sampler:new Rn.SentrySampler(t)});(0,Rn.setOpenTelemetryContextAsyncContextStrategy)(),s.start()}var Yn=require("vscode"),Rr=ve(require("vscode"));l();var Tl=require("vscode"),U1e=ve(require("vscode"));l();var D1e=require("vscode");function yy(t,e,r){return t.asWebviewUri(D1e.Uri.joinPath(e,...r))}l();function L1e(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var sp=class t{static currentPanel;_panel;_disposables=[];constructor(e,r,o){this._panel=e,this._panel.onDidDispose(()=>{this.dispose()},null,this._disposables),this._panel.webview.html=this._getWebviewContent(this._panel.webview,r,o),this._setWebviewMessageListener(this._panel.webview),setTimeout(()=>{this._panel.reveal()},1e3)}static render(e,r){if(t.currentPanel)t.currentPanel._panel.reveal(Tl.ViewColumn.One);else{let o=Tl.window.createWebviewPanel("showOnboarding","Double Onboarding",Tl.ViewColumn.One,{enableScripts:!0,localResourceRoots:[Tl.Uri.joinPath(e,"dist"),Tl.Uri.joinPath(e,"onboarding/dist")],retainContextWhenHidden:!0});t.currentPanel=new t(o,e,r)}}dispose(){for(t.currentPanel=void 0,this._panel.dispose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}_getWebviewContent(e,r,o){let s,a,n="localhost:5174",u="onboarding",c=o===U1e.ExtensionMode.Production;c?(a=yy(e,r,["onboarding","dist","assets","index.css"]).toString(),s=yy(e,r,["onboarding","dist","assets","index.js"]).toString()):(s=`http://${n}/${u}/src/main.tsx`,a=`http://${n}/${u}/src/index.css`);let d=L1e(),f=`
      <script type="module">
        import RefreshRuntime from "http://${n}/${u}/@react-refresh"
        RefreshRuntime.injectIntoGlobalHook(window)
        window.$RefreshReg$ = () => {}
        window.$RefreshSig$ = () => (type) => type
        window.__vite_plugin_react_preamble_installed__ = true
      </script>`;return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          
          <link rel="stylesheet" type="text/css" href="${a}">
          <title>Double Onboarding</title>
          <!-- In development HMR mode, we need to set base URL to the dev server so assets resolve properly. --->
          ${c?"":'<base href="http://localhost:5174/">'}
        </head>
        <body>
          <div id="root"></div>
            ${c?"":f}
          <script type="module" nonce="${d}" src="${s}"></script>
        </body>
      </html>
    `}_setWebviewMessageListener(e){}};l();l();var Mu=ve(require("vscode"));var SMe=ve(px());l();var J4=ve(px()),up=class t extends Error{constructor(r,o,s){super(o);this.code=r;this.debugData=s;this.name=this.constructor.name}static create(r,o,s){return s===void 0?(0,J4.err)(new t(r,o,null)):(0,J4.err)(new t(r,o,s))}};l();l();var $4=require("node:crypto");var kRt=128,cp,_y;function WRt(t){!cp||cp.length<t?(cp=Buffer.allocUnsafe(t*kRt),$4.webcrypto.getRandomValues(cp),_y=0):_y+t>cp.length&&($4.webcrypto.getRandomValues(cp),_y=0),_y+=t}function ZRt(t){return WRt(t-=0),cp.subarray(_y-t,_y)}function qRt(t,e,r){let o=(2<<31-Math.clz32(t.length-1|1))-1,s=Math.ceil(1.6*o*e/t.length);return(a=e)=>{let i="";for(;;){let n=r(s),u=s;for(;u--;)if(i+=t[n[u]&o]||"",i.length===a)return i}}}function k1e(t,e=21){return qRt(t,e,ZRt)}var eMe=ve(Q1e()),XRt=k1e(eMe.nolookalikes,21);function tMe(t){return`${t}_${XRt()}`}l();j();var zRt="doublebot-vscode-ext",JRt="0.1",$Rt=fV.trace.getTracer(zRt,JRt);function QRt(t,e,r){return r?.sampleRate!==void 0&&Math.random()>r.sampleRate?e():$Rt.startActiveSpan(t,o=>{let s=i=>(o.setStatus({code:Id.OK}),i),a=i=>{throw o.recordException(i),o.setStatus({code:Id.ERROR}),i};try{let i=e();return i instanceof Promise?i.then(s,a):s(i)}catch(i){return a(i)}finally{o.end()}})}function hx(t,e){return function(r,o,s){let a=s.value;return s.value=function(...i){return QRt(t,a.bind(this,...i),e)},s}}l();l();var rMe=-.2252243809,nMe=-.07913289059,rr=[.39836924296579723,.3243341569263556,-.10078439286699777,-.026132742554923108,.04068760589850184,-.007750990592302939,.0018466214303163085,.16508655481570655,-.10231105933666299,.11022503709247865,-.04409171484544947,-.04945953784172509,0,-.043047811932707944,.19936882335702524,-.07059528925430031,.02608099248128952,.08484577414608484,-.11183671278632974,.024420807309408533,0,-.30070414501040765,-.23998369964502927,.053132926238207916,.0533182340791962,-.005240003557307738,-.000286577677812309,-.016402924151701227,.2119080791834484,-.457813627993835,.0035311377615263174,.38645288323366817,0,0,-.06393564240541838,-.015554374688166665,0,.048422085627458936,.3216840602099269,-.869652656297478,-.42279220411121243,-.1307791431296213,-.12756270233571865,-.002955256161049406,.011706904396490062,.013373149878928816,-.7991870627625929,-.6800657238429414,-.7969270044485616,-.9759458744490511,-.6213836301962243,-.3213972862579086,-.2862097214502722,-.8099619195356826,-.3754668168682005,-.695710519312411,-.010270721436347968,-1.009301036362121,-.6691353996243067,-.05705802623941411,-.16793195035529485,-.05913745363736376,.002471987029201453,0,0,.2537626950817018,-.01771416991265175,.08673424364173427,.08564540113130395,0,.028792381162192036,0,0,.15358807746336076,-.49708876494244664,0,.18163224354088442,.0315002808016841,.01631946478972689,0,.026911411917277077,.20914615542130593,-.09918459768555934,.014666590777551773,-.08303071111563341,.06792566940809594,-.3291705916074408,0,0,.00994179032365131,-.021893903098843807,-.6732588263819921,-.9045260638449198,.002161331718401659,-.042289134594675766,.06181272699380449,.08802794112131616,.1202204069440259,-.03187508308790582,.12981371263453442,.2371606827857397,.0442139678085694,.13927894915896777,.07084686591498054,-.07249991702682144,0,-.0050231109606823825,-.06662047385031976,.04125197476189679,.04496549803325869,.019888393937497403,.46718571138548864,0,.0036056190844562285,.18939021007572276,.07361481939800997,-.20502801046774194,-.08890558639599362,-.23755748358570122,.03422636439587322,-.19064146889792677,.14881090494265753,0,-.46525002103280405,0,-.0037832134927225877,0,-.04819931510791188,.08577998400181562,-.3306673696553488,0,-.003848609465138841,.10731715526838738,-.052332318762715525,.036069311165248384,-.08721130927102994,.02651234818176735,.11086066614466039,.04138643937603528,-.0988655525578084,-.09310963087038118,-.4111553435668059,-.04451486734594291,-.0035107522623795268,-.017664218946666716,.037716589542686745,.08550028429793614,.029666888160064186,-.031698905949861245,-.09014790385393984,-.4463664823176721,-.0828435315704868,.43822240860710404,-.008473244657786438,.03780732530754018,.13522894209731295,-.12358106527709689,.08890177827202,0,0,-.07331881686685175,0,0,-.1323240058962757,-.008390846086499272,-.06690831818044683,.015912590683000088,-.0899673430474248,0,0,.6752124103051944,-.008872305803339914,0,-.4272700575093172,-.15703861239818936,0,.03611614695727989,-.14095905668529815,-.032036965377064575,.017148943747570276,-.012593302882939094,0,0,0,-.35994145408033806,.022854112780128923,-.19219125804159234,-.09160380135745473,-.053598091011184054,0,-.05493165752333403,-.014647190899630728,0,-.1446280545816249,.08819205805655678,0,.029342995738095446,.03465268622056645,.05107696011701099,-.026415910074229304,0,.04628684668480179,.07799042902681538,.1756275667645144,.10367298357904452,.01688383117181449,0,-.6184521680511323,.14288892387260274,.02636948611801291,-.23345467289703128,-.07652936106771899,.12357825624850985,.1164605549845473,.22768293390422256,.021590244063622026,0,.0032748801200393842,.17644813132909035,0,-.2974780531002826],nr=[.5995015929985639,.3758564035975772,-.07289053154548904,-.20380883691827803,.09337932051832389,-38006970891392143e-23,.003931700773207763,.2540222277290535,-.05985465323444622,.027483112496603224,-.01626839823639059,-.024052272016276202,0,-.012800969579773147,.1068191174370949,-.05762450900554819,.08343760055868603,.08520040413279285,-.22276907147814595,.20055905192187282,0,-.1396768732473359,-.414027894278649,.1128230745752091,.15402087314465515,-.12846337305326186,-.06894414357509664,-.04166391776806169,.14642538797988602,-.015763700255608123,.17457757589441747,.036229316405798684,0,0,-.09986056226462764,-.423384313622445,0,.06727885443963358,.6109590660555613,-.12935839462291324,-.018460552416052576,-.027628726841998727,-.33247692332872647,-.015859555832994997,.0806025409752626,.012441641055813982,-.2948291576564225,-.2606846392806074,-.18850337342086526,-.12863637437717332,-.5203463154611019,-1.2409731542766427,-.1295376641293217,-.21446385402048865,-.37227337759197476,-.43180045059442923,-.06120084191890533,-.13156176431656968,-.37185446588316057,-.1718309574124737,-.3790230390207395,-.12280915746948126,.12396094460829035,0,0,.05844427347300517,-.34792946933914065,.1498222632186554,.015845840858853648,0,.034083111055461045,0,0,.03668257472596079,-.3548614396549911,0,.055903755518834794,.2173806514472325,.0036497871182563325,0,.042253643345017806,.0813874081705761,-.04565996786875723,.00010153865181841492,-.06748393814778032,.008222685619664277,-.00257839852395272,0,0,.03927759652303972,-.26059186458469064,-.29762279407054243,-.45152038838163294,.01200404349398158,-.19695253013077407,.03825323030868406,.01064439035147946,.20308389638818053,-.026750623026274775,.04168481842330504,.206487722653797,.002975081768137859,.029046260288937746,.04087912417923735,-.28219018627245107,0,-.14779580148587582,-.3138643611061741,.03152879844564274,.0876723667673822,.20931843265542785,.6841098200481651,0,.013334243197883794,.234909254964618,.053983536376439885,-.35269810311481636,-.1087400230346831,-.16665276088789915,.08640825178146386,-.10275521285055661,.12275748445420176,0,-.24860480409107105,0,-.019283015210312688,0,-.01563112465954951,.011057253205280898,-.4030477727527303,0,-.2680650917811164,.1746609716972297,-.03478264672778699,.074416737934445,-.0062736457740234656,.04558777689552385,.148052013644419,.6315718265771901,-.12034477482464068,-.12224314381613338,-.043584717674107654,-.014103333918248483,-.0043645539453406774,-.038997042732142564,.13956222449953987,.15053684918741045,.14519172596371513,-.5420494709198139,-.2920523918494876,-.07390581623424469,-.28903594370608576,.0333303693227971,-.11230587880912479,.4404489645079131,.3384414983027084,-.03794079987759291,.09472270146311004,0,0,-.10851535739181649,0,0,-.12152922467710764,-.12197842298115354,-.3404494787383748,.0258172680262878,-.08048539580996529,0,0,.07847348503338836,-.4381592900845365,0,-.29737835104877014,-.056742673009631255,0,.0013449435953762578,-.021099466958372184,-.07770255526698426,.000319099660077101,-.11630473585680011,0,0,0,-.8587512612991068,.03251538384180413,-.18418872643831927,-.09289637120500317,-.10795953880377175,0,-.09880096450916472,-.031386935143073454,0,-.16218691356445789,.005931466626137346,0,.061822440768001766,.026005966420259135,.005805713676850892,-.032323544702993756,0,.09903780464841974,.10909534794373091,.18741501366734115,.03746625863899598,.04615503179982221,0,-.49860003319390717,.01844805385510853,.13271585778980158,-.0013998641429910238,-.0654687230740702,.09551684554675233,.28302364761699034,.1803400089386693,.1324474324738465,0,.19437296103092738,.40846602619836664,0,-.15991032860124685],rK={javascript:1,typescript:2,typescriptreact:3,python:4,vue:5,php:6,dart:7,javascriptreact:8,go:9,css:10,cpp:11,html:12,scss:13,markdown:14,csharp:15,java:16,json:17,rust:18,ruby:19,c:20},ov={" ":1,"!":2,'"':3,"#":4,$:5,"%":6,"&":7,"'":8,"(":9,")":10,"*":11,"+":12,",":13,"-":14,".":15,"/":16,0:17,1:18,2:19,3:20,4:21,5:22,6:23,7:24,8:25,9:26,":":27,";":28,"<":29,"=":30,">":31,"?":32,"@":33,A:34,B:35,C:36,D:37,E:38,F:39,G:40,H:41,I:42,J:43,K:44,L:45,M:46,N:47,O:48,P:49,Q:50,R:51,S:52,T:53,U:54,V:55,W:56,X:57,Y:58,Z:59,"[":60,"\\":61,"]":62,"^":63,_:64,"`":65,a:66,b:67,c:68,d:69,e:70,f:71,g:72,h:73,i:74,j:75,k:76,l:77,m:78,n:79,o:80,p:81,q:82,r:83,s:84,t:85,u:86,v:87,w:88,x:89,y:90,z:91,"{":92,"|":93,"}":94,"~":95};var Cx=ve(require("vscode"));l();l();l();function eOt(t,e){try{if(typeof t=="string"&&t.length>0)return tOt(t);if(typeof t=="number"&&isFinite(t))return e?.long?nOt(t):rOt(t);throw new Error("Value is not a string or number.")}catch(r){let o=iOt(r)?`${r.message}. value=${JSON.stringify(t)}`:"An unknown error has occured.";throw new Error(o)}}function tOt(t){if(t=String(t),t.length>100)throw new Error("Value exceeds the maximum length of 100 characters.");let e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return NaN;let r=parseFloat(e[1]),o=(e[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return r*315576e5;case"weeks":case"week":case"w":return r*6048e5;case"days":case"day":case"d":return r*864e5;case"hours":case"hour":case"hrs":case"hr":case"h":return r*36e5;case"minutes":case"minute":case"mins":case"min":case"m":return r*6e4;case"seconds":case"second":case"secs":case"sec":case"s":return r*1e3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:throw new Error(`The unit ${o} was matched, but no matching case exists.`)}}var ya=eOt;function rOt(t){let e=Math.abs(t);return e>=864e5?`${Math.round(t/864e5)}d`:e>=36e5?`${Math.round(t/36e5)}h`:e>=6e4?`${Math.round(t/6e4)}m`:e>=1e3?`${Math.round(t/1e3)}s`:`${t}ms`}function nOt(t){let e=Math.abs(t);return e>=864e5?gx(t,e,864e5,"day"):e>=36e5?gx(t,e,36e5,"hour"):e>=6e4?gx(t,e,6e4,"minute"):e>=1e3?gx(t,e,1e3,"second"):`${t} ms`}function gx(t,e,r,o){let s=e>=r*1.5;return`${Math.round(t/r)} ${o}${s?"s":""}`}function iOt(t){return typeof t=="object"&&t!==null&&"message"in t}var Nn=ve(require("vscode"));l();var bt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let a={};for(let i of s)a[i]=i;return a},t.getValidEnumValues=s=>{let a=t.objectKeys(s).filter(n=>typeof s[s[n]]!="number"),i={};for(let n of a)i[n]=s[n];return t.objectValues(i)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let a=[];for(let i in s)Object.prototype.hasOwnProperty.call(s,i)&&a.push(i);return a},t.find=(s,a)=>{for(let i of s)if(a(i))return i},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function o(s,a=" | "){return s.map(i=>typeof i=="string"?`'${i}'`:i).join(a)}t.joinValues=o,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(bt||(bt={}));var iK;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(iK||(iK={}));var pe=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Il=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},ae=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oOt=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ki=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(a){return a.message},o={_errors:[]},s=a=>{for(let i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)o._errors.push(r(i));else{let n=o,u=0;for(;u<i.path.length;){let c=i.path[u];u===i.path.length-1?(n[c]=n[c]||{_errors:[]},n[c]._errors.push(r(i))):n[c]=n[c]||{_errors:[]},n=n[c],u++}}};return s(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},o=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):o.push(e(s));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}};ki.create=t=>new ki(t);var sv=(t,e)=>{let r;switch(t.code){case ae.invalid_type:t.received===pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,bt.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${bt.joinValues(t.keys,", ")}`;break;case ae.invalid_union:r="Invalid input";break;case ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bt.joinValues(t.options)}`;break;case ae.invalid_enum_value:r=`Invalid enum value. Expected ${bt.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:r="Invalid function arguments";break;case ae.invalid_return_type:r="Invalid function return type";break;case ae.invalid_date:r="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:bt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ae.custom:r="Invalid input";break;case ae.invalid_intersection_types:r="Intersection results could not be merged";break;case ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,bt.assertNever(t)}return{message:r}},sMe=sv;function sOt(t){sMe=t}function yx(){return sMe}var _x=t=>{let{data:e,path:r,errorMaps:o,issueData:s}=t,a=[...r,...s.path||[]],i={...s,path:a},n="",u=o.filter(c=>!!c).slice().reverse();for(let c of u)n=c(i,{data:e,defaultError:n}).message;return{...s,path:a,message:s.message||n}},aOt=[];function me(t,e){let r=_x({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,yx(),sv].filter(o=>!!o)});t.common.issues.push(r)}var On=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let o=[];for(let s of r){if(s.status==="aborted")return We;s.status==="dirty"&&e.dirty(),o.push(s.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,r){let o=[];for(let s of r)o.push({key:await s.key,value:await s.value});return t.mergeObjectSync(e,o)}static mergeObjectSync(e,r){let o={};for(let s of r){let{key:a,value:i}=s;if(a.status==="aborted"||i.status==="aborted")return We;a.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof i.value<"u"||s.alwaysSet)&&(o[a.value]=i.value)}return{status:e.value,value:o}}},We=Object.freeze({status:"aborted"}),aMe=t=>({status:"dirty",value:t}),Wn=t=>({status:"valid",value:t}),oK=t=>t.status==="aborted",sK=t=>t.status==="dirty",av=t=>t.status==="valid",Sx=t=>typeof Promise<"u"&&t instanceof Promise,xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xe||(xe={}));var Mo=class{constructor(e,r,o,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=o,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},iMe=(t,e)=>{if(av(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ki(t.common.issues);return this._error=r,this._error}}};function ze(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:o,description:s}=t;if(e&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(i,n)=>i.code!=="invalid_type"?{message:n.defaultError}:typeof n.data>"u"?{message:o??n.defaultError}:{message:r??n.defaultError},description:s}}var Je=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Il(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Il(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new On,ctx:{common:e.parent.common,data:e.data,parsedType:Il(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Sx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let o=this.safeParse(e,r);if(o.success)return o.data;throw o.error}safeParse(e,r){var o;let s={common:{issues:[],async:(o=r?.async)!==null&&o!==void 0?o:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Il(e)},a=this._parseSync({data:e,path:s.path,parent:s});return iMe(s,a)}async parseAsync(e,r){let o=await this.safeParseAsync(e,r);if(o.success)return o.data;throw o.error}async safeParseAsync(e,r){let o={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Il(e)},s=this._parse({data:e,path:o.path,parent:o}),a=await(Sx(s)?s:Promise.resolve(s));return iMe(o,a)}refine(e,r){let o=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{let i=e(s),n=()=>a.addIssue({code:ae.custom,...o(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(u=>u?!0:(n(),!1)):i?!0:(n(),!1)})}refinement(e,r){return this._refinement((o,s)=>e(o)?!0:(s.addIssue(typeof r=="function"?r(o,s):r),!1))}_refinement(e){return new Wi({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ds.create(this,this._def)}nullable(){return Pu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wu.create(this,this._def)}promise(){return Ol.create(this,this._def)}or(e){return mp.create([this,e],this._def)}and(e){return yp.create(this,e,this._def)}transform(e){return new Wi({...ze(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new vp({...ze(this._def),innerType:this,defaultValue:r,typeName:Le.ZodDefault})}brand(){return new Tx({typeName:Le.ZodBranded,type:this,...ze(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ay({...ze(this._def),innerType:this,catchValue:r,typeName:Le.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return uv.create(this,e)}readonly(){return Cy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},uOt=/^c[^\s-]{8,}$/i,cOt=/^[a-z][a-z0-9]*$/,lOt=/^[0-9A-HJKMNP-TV-Z]{26}$/,dOt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fOt=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pOt="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",nK,hOt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,gOt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,mOt=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function yOt(t,e){return!!((e==="v4"||!e)&&hOt.test(t)||(e==="v6"||!e)&&gOt.test(t))}var Cl=class t extends Je{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){let a=this._getOrReturnCtx(e);return me(a,{code:ae.invalid_type,expected:pe.string,received:a.parsedType}),We}let o=new On,s;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),o.dirty());else if(a.kind==="length"){let i=e.data.length>a.value,n=e.data.length<a.value;(i||n)&&(s=this._getOrReturnCtx(e,s),i?me(s,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):n&&me(s,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),o.dirty())}else if(a.kind==="email")fOt.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"email",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="emoji")nK||(nK=new RegExp(pOt,"u")),nK.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"emoji",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="uuid")dOt.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"uuid",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid")uOt.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="cuid2")cOt.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"cuid2",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="ulid")lOt.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ulid",code:ae.invalid_string,message:a.message}),o.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),me(s,{validation:"url",code:ae.invalid_string,message:a.message}),o.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"regex",code:ae.invalid_string,message:a.message}),o.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),me(s,{code:ae.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),o.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:ae.invalid_string,validation:{startsWith:a.value},message:a.message}),o.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),me(s,{code:ae.invalid_string,validation:{endsWith:a.value},message:a.message}),o.dirty()):a.kind==="datetime"?mOt(a).test(e.data)||(s=this._getOrReturnCtx(e,s),me(s,{code:ae.invalid_string,validation:"datetime",message:a.message}),o.dirty()):a.kind==="ip"?yOt(e.data,a.version)||(s=this._getOrReturnCtx(e,s),me(s,{validation:"ip",code:ae.invalid_string,message:a.message}),o.dirty()):bt.assertNever(a);return{status:o.value,value:e.data}}_regex(e,r,o){return this.refinement(s=>e.test(s),{validation:r,code:ae.invalid_string,...xe.errToObj(o)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...xe.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xe.errToObj(r)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Cl.create=t=>{var e;return new Cl({checks:[],typeName:Le.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};function _Ot(t,e){let r=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,s=r>o?r:o,a=parseInt(t.toFixed(s).replace(".","")),i=parseInt(e.toFixed(s).replace(".",""));return a%i/Math.pow(10,s)}var lp=class t extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){let a=this._getOrReturnCtx(e);return me(a,{code:ae.invalid_type,expected:pe.number,received:a.parsedType}),We}let o,s=new On;for(let a of this._def.checks)a.kind==="int"?bt.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{code:ae.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?_Ot(e.data,a.value)!==0&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),me(o,{code:ae.not_finite,message:a.message}),s.dirty()):bt.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,o,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(r)&&Number.isFinite(e)}};lp.create=t=>new lp({checks:[],typeName:Le.ZodNumber,coerce:t?.coerce||!1,...ze(t)});var dp=class t extends Je{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==pe.bigint){let a=this._getOrReturnCtx(e);return me(a,{code:ae.invalid_type,expected:pe.bigint,received:a.parsedType}),We}let o,s=new On;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),me(o,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):bt.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,o,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};dp.create=t=>{var e;return new dp({checks:[],typeName:Le.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};var fp=class extends Je{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.boolean,received:o.parsedType}),We}return Wn(e.data)}};fp.create=t=>new fp({typeName:Le.ZodBoolean,coerce:t?.coerce||!1,...ze(t)});var pp=class t extends Je{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){let a=this._getOrReturnCtx(e);return me(a,{code:ae.invalid_type,expected:pe.date,received:a.parsedType}),We}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return me(a,{code:ae.invalid_date}),We}let o=new On,s;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ae.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),o.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),me(s,{code:ae.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),o.dirty()):bt.assertNever(a);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};pp.create=t=>new pp({checks:[],coerce:t?.coerce||!1,typeName:Le.ZodDate,...ze(t)});var by=class extends Je{_parse(e){if(this._getType(e)!==pe.symbol){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.symbol,received:o.parsedType}),We}return Wn(e.data)}};by.create=t=>new by({typeName:Le.ZodSymbol,...ze(t)});var hp=class extends Je{_parse(e){if(this._getType(e)!==pe.undefined){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.undefined,received:o.parsedType}),We}return Wn(e.data)}};hp.create=t=>new hp({typeName:Le.ZodUndefined,...ze(t)});var gp=class extends Je{_parse(e){if(this._getType(e)!==pe.null){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.null,received:o.parsedType}),We}return Wn(e.data)}};gp.create=t=>new gp({typeName:Le.ZodNull,...ze(t)});var Rl=class extends Je{constructor(){super(...arguments),this._any=!0}_parse(e){return Wn(e.data)}};Rl.create=t=>new Rl({typeName:Le.ZodAny,...ze(t)});var Nu=class extends Je{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wn(e.data)}};Nu.create=t=>new Nu({typeName:Le.ZodUnknown,...ze(t)});var fs=class extends Je{_parse(e){let r=this._getOrReturnCtx(e);return me(r,{code:ae.invalid_type,expected:pe.never,received:r.parsedType}),We}};fs.create=t=>new fs({typeName:Le.ZodNever,...ze(t)});var Ey=class extends Je{_parse(e){if(this._getType(e)!==pe.undefined){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.void,received:o.parsedType}),We}return Wn(e.data)}};Ey.create=t=>new Ey({typeName:Le.ZodVoid,...ze(t)});var wu=class t extends Je{_parse(e){let{ctx:r,status:o}=this._processInputParams(e),s=this._def;if(r.parsedType!==pe.array)return me(r,{code:ae.invalid_type,expected:pe.array,received:r.parsedType}),We;if(s.exactLength!==null){let i=r.data.length>s.exactLength.value,n=r.data.length<s.exactLength.value;(i||n)&&(me(r,{code:i?ae.too_big:ae.too_small,minimum:n?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),o.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(me(r,{code:ae.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),o.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(me(r,{code:ae.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((i,n)=>s.type._parseAsync(new Mo(r,i,r.path,n)))).then(i=>On.mergeArray(o,i));let a=[...r.data].map((i,n)=>s.type._parseSync(new Mo(r,i,r.path,n)));return On.mergeArray(o,a)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:xe.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:xe.toString(r)}})}nonempty(e){return this.min(1,e)}};wu.create=(t,e)=>new wu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...ze(e)});function Sy(t){if(t instanceof pi){let e={};for(let r in t.shape){let o=t.shape[r];e[r]=ds.create(Sy(o))}return new pi({...t._def,shape:()=>e})}else return t instanceof wu?new wu({...t._def,type:Sy(t.element)}):t instanceof ds?ds.create(Sy(t.unwrap())):t instanceof Pu?Pu.create(Sy(t.unwrap())):t instanceof _a?_a.create(t.items.map(e=>Sy(e))):t}var pi=class t extends Je{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=bt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==pe.object){let c=this._getOrReturnCtx(e);return me(c,{code:ae.invalid_type,expected:pe.object,received:c.parsedType}),We}let{status:o,ctx:s}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),n=[];if(!(this._def.catchall instanceof fs&&this._def.unknownKeys==="strip"))for(let c in s.data)i.includes(c)||n.push(c);let u=[];for(let c of i){let d=a[c],f=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new Mo(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof fs){let c=this._def.unknownKeys;if(c==="passthrough")for(let d of n)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")n.length>0&&(me(s,{code:ae.unrecognized_keys,keys:n}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let d of n){let f=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new Mo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let d of u){let f=await d.key;c.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>On.mergeObjectSync(o,c)):On.mergeObjectSync(o,u)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,o)=>{var s,a,i,n;let u=(i=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,o).message)!==null&&i!==void 0?i:o.defaultError;return r.code==="unrecognized_keys"?{message:(n=xe.errToObj(e).message)!==null&&n!==void 0?n:u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return bt.objectKeys(e).forEach(o=>{e[o]&&this.shape[o]&&(r[o]=this.shape[o])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return bt.objectKeys(this.shape).forEach(o=>{e[o]||(r[o]=this.shape[o])}),new t({...this._def,shape:()=>r})}deepPartial(){return Sy(this)}partial(e){let r={};return bt.objectKeys(this.shape).forEach(o=>{let s=this.shape[o];e&&!e[o]?r[o]=s:r[o]=s.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return bt.objectKeys(this.shape).forEach(o=>{if(e&&!e[o])r[o]=this.shape[o];else{let a=this.shape[o];for(;a instanceof ds;)a=a._def.innerType;r[o]=a}}),new t({...this._def,shape:()=>r})}keyof(){return uMe(bt.objectKeys(this.shape))}};pi.create=(t,e)=>new pi({shape:()=>t,unknownKeys:"strip",catchall:fs.create(),typeName:Le.ZodObject,...ze(e)});pi.strictCreate=(t,e)=>new pi({shape:()=>t,unknownKeys:"strict",catchall:fs.create(),typeName:Le.ZodObject,...ze(e)});pi.lazycreate=(t,e)=>new pi({shape:t,unknownKeys:"strip",catchall:fs.create(),typeName:Le.ZodObject,...ze(e)});var mp=class extends Je{_parse(e){let{ctx:r}=this._processInputParams(e),o=this._def.options;function s(a){for(let n of a)if(n.result.status==="valid")return n.result;for(let n of a)if(n.result.status==="dirty")return r.common.issues.push(...n.ctx.common.issues),n.result;let i=a.map(n=>new ki(n.ctx.common.issues));return me(r,{code:ae.invalid_union,unionErrors:i}),We}if(r.common.async)return Promise.all(o.map(async a=>{let i={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(s);{let a,i=[];for(let u of o){let c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:c}),c.common.issues.length&&i.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let n=i.map(u=>new ki(u));return me(r,{code:ae.invalid_union,unionErrors:n}),We}}get options(){return this._def.options}};mp.create=(t,e)=>new mp({options:t,typeName:Le.ZodUnion,...ze(e)});var mx=t=>t instanceof _p?mx(t.schema):t instanceof Wi?mx(t.innerType()):t instanceof Sp?[t.value]:t instanceof bp?t.options:t instanceof Ep?Object.keys(t.enum):t instanceof vp?mx(t._def.innerType):t instanceof hp?[void 0]:t instanceof gp?[null]:null,bx=class t extends Je{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return me(r,{code:ae.invalid_type,expected:pe.object,received:r.parsedType}),We;let o=this.discriminator,s=r.data[o],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(me(r,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,o){let s=new Map;for(let a of r){let i=mx(a.shape[e]);if(!i)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let n of i){if(s.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);s.set(n,a)}}return new t({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ze(o)})}};function aK(t,e){let r=Il(t),o=Il(e);if(t===e)return{valid:!0,data:t};if(r===pe.object&&o===pe.object){let s=bt.objectKeys(e),a=bt.objectKeys(t).filter(n=>s.indexOf(n)!==-1),i={...t,...e};for(let n of a){let u=aK(t[n],e[n]);if(!u.valid)return{valid:!1};i[n]=u.data}return{valid:!0,data:i}}else if(r===pe.array&&o===pe.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let a=0;a<t.length;a++){let i=t[a],n=e[a],u=aK(i,n);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return r===pe.date&&o===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var yp=class extends Je{_parse(e){let{status:r,ctx:o}=this._processInputParams(e),s=(a,i)=>{if(oK(a)||oK(i))return We;let n=aK(a.value,i.value);return n.valid?((sK(a)||sK(i))&&r.dirty(),{status:r.value,value:n.data}):(me(o,{code:ae.invalid_intersection_types}),We)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([a,i])=>s(a,i)):s(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}};yp.create=(t,e,r)=>new yp({left:t,right:e,typeName:Le.ZodIntersection,...ze(r)});var _a=class t extends Je{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==pe.array)return me(o,{code:ae.invalid_type,expected:pe.array,received:o.parsedType}),We;if(o.data.length<this._def.items.length)return me(o,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&o.data.length>this._def.items.length&&(me(o,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...o.data].map((i,n)=>{let u=this._def.items[n]||this._def.rest;return u?u._parse(new Mo(o,i,o.path,n)):null}).filter(i=>!!i);return o.common.async?Promise.all(a).then(i=>On.mergeArray(r,i)):On.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};_a.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _a({items:t,typeName:Le.ZodTuple,rest:null,...ze(e)})};var Ex=class t extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==pe.object)return me(o,{code:ae.invalid_type,expected:pe.object,received:o.parsedType}),We;let s=[],a=this._def.keyType,i=this._def.valueType;for(let n in o.data)s.push({key:a._parse(new Mo(o,n,o.path,n)),value:i._parse(new Mo(o,o.data[n],o.path,n))});return o.common.async?On.mergeObjectAsync(r,s):On.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,o){return r instanceof Je?new t({keyType:e,valueType:r,typeName:Le.ZodRecord,...ze(o)}):new t({keyType:Cl.create(),valueType:e,typeName:Le.ZodRecord,...ze(r)})}},vy=class extends Je{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==pe.map)return me(o,{code:ae.invalid_type,expected:pe.map,received:o.parsedType}),We;let s=this._def.keyType,a=this._def.valueType,i=[...o.data.entries()].map(([n,u],c)=>({key:s._parse(new Mo(o,n,o.path,[c,"key"])),value:a._parse(new Mo(o,u,o.path,[c,"value"]))}));if(o.common.async){let n=new Map;return Promise.resolve().then(async()=>{for(let u of i){let c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return We;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),n.set(c.value,d.value)}return{status:r.value,value:n}})}else{let n=new Map;for(let u of i){let c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return We;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),n.set(c.value,d.value)}return{status:r.value,value:n}}}};vy.create=(t,e,r)=>new vy({valueType:e,keyType:t,typeName:Le.ZodMap,...ze(r)});var Ty=class t extends Je{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==pe.set)return me(o,{code:ae.invalid_type,expected:pe.set,received:o.parsedType}),We;let s=this._def;s.minSize!==null&&o.data.size<s.minSize.value&&(me(o,{code:ae.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&o.data.size>s.maxSize.value&&(me(o,{code:ae.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let a=this._def.valueType;function i(u){let c=new Set;for(let d of u){if(d.status==="aborted")return We;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}let n=[...o.data.values()].map((u,c)=>a._parse(new Mo(o,u,o.path,c)));return o.common.async?Promise.all(n).then(u=>i(u)):i(n)}min(e,r){return new t({...this._def,minSize:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:xe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Ty.create=(t,e)=>new Ty({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...ze(e)});var vx=class t extends Je{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.function)return me(r,{code:ae.invalid_type,expected:pe.function,received:r.parsedType}),We;function o(n,u){return _x({data:n,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yx(),sv].filter(c=>!!c),issueData:{code:ae.invalid_arguments,argumentsError:u}})}function s(n,u){return _x({data:n,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yx(),sv].filter(c=>!!c),issueData:{code:ae.invalid_return_type,returnTypeError:u}})}let a={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof Ol){let n=this;return Wn(async function(...u){let c=new ki([]),d=await n._def.args.parseAsync(u,a).catch(y=>{throw c.addIssue(o(u,y)),c}),f=await Reflect.apply(i,this,d);return await n._def.returns._def.type.parseAsync(f,a).catch(y=>{throw c.addIssue(s(f,y)),c})})}else{let n=this;return Wn(function(...u){let c=n._def.args.safeParse(u,a);if(!c.success)throw new ki([o(u,c.error)]);let d=Reflect.apply(i,this,c.data),f=n._def.returns.safeParse(d,a);if(!f.success)throw new ki([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:_a.create(e).rest(Nu.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,o){return new t({args:e||_a.create([]).rest(Nu.create()),returns:r||Nu.create(),typeName:Le.ZodFunction,...ze(o)})}},_p=class extends Je{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};_p.create=(t,e)=>new _p({getter:t,typeName:Le.ZodLazy,...ze(e)});var Sp=class extends Je{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return me(r,{received:r.data,code:ae.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}};Sp.create=(t,e)=>new Sp({value:t,typeName:Le.ZodLiteral,...ze(e)});function uMe(t,e){return new bp({values:t,typeName:Le.ZodEnum,...ze(e)})}var bp=class t extends Je{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),o=this._def.values;return me(r,{expected:bt.joinValues(o),received:r.parsedType,code:ae.invalid_type}),We}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),o=this._def.values;return me(r,{received:r.data,code:ae.invalid_enum_value,options:o}),We}return Wn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return t.create(e)}exclude(e){return t.create(this.options.filter(r=>!e.includes(r)))}};bp.create=uMe;var Ep=class extends Je{_parse(e){let r=bt.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==pe.string&&o.parsedType!==pe.number){let s=bt.objectValues(r);return me(o,{expected:bt.joinValues(s),received:o.parsedType,code:ae.invalid_type}),We}if(r.indexOf(e.data)===-1){let s=bt.objectValues(r);return me(o,{received:o.data,code:ae.invalid_enum_value,options:s}),We}return Wn(e.data)}get enum(){return this._def.values}};Ep.create=(t,e)=>new Ep({values:t,typeName:Le.ZodNativeEnum,...ze(e)});var Ol=class extends Je{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return me(r,{code:ae.invalid_type,expected:pe.promise,received:r.parsedType}),We;let o=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Wn(o.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Ol.create=(t,e)=>new Ol({type:t,typeName:Le.ZodPromise,...ze(e)});var Wi=class extends Je{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:o}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:i=>{me(o,i),i.fatal?r.abort():r.dirty()},get path(){return o.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){let i=s.transform(o.data,a);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(i).then(n=>this._def.schema._parseAsync({data:n,path:o.path,parent:o})):this._def.schema._parseSync({data:i,path:o.path,parent:o})}if(s.type==="refinement"){let i=n=>{let u=s.refinement(n,a);if(o.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return n};if(o.common.async===!1){let n=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?We:(n.status==="dirty"&&r.dirty(),i(n.value),{status:r.value,value:n.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(n=>n.status==="aborted"?We:(n.status==="dirty"&&r.dirty(),i(n.value).then(()=>({status:r.value,value:n.value}))))}if(s.type==="transform")if(o.common.async===!1){let i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!av(i))return i;let n=s.transform(i.value,a);if(n instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:n}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>av(i)?Promise.resolve(s.transform(i.value,a)).then(n=>({status:r.value,value:n})):i);bt.assertNever(s)}};Wi.create=(t,e,r)=>new Wi({schema:t,typeName:Le.ZodEffects,effect:e,...ze(r)});Wi.createWithPreprocess=(t,e,r)=>new Wi({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...ze(r)});var ds=class extends Je{_parse(e){return this._getType(e)===pe.undefined?Wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ds.create=(t,e)=>new ds({innerType:t,typeName:Le.ZodOptional,...ze(e)});var Pu=class extends Je{_parse(e){return this._getType(e)===pe.null?Wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Pu.create=(t,e)=>new Pu({innerType:t,typeName:Le.ZodNullable,...ze(e)});var vp=class extends Je{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return r.parsedType===pe.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};vp.create=(t,e)=>new vp({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});var Ay=class extends Je{_parse(e){let{ctx:r}=this._processInputParams(e),o={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return Sx(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ki(o.common.issues)},input:o.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ki(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}};Ay.create=(t,e)=>new Ay({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});var Iy=class extends Je{_parse(e){if(this._getType(e)!==pe.nan){let o=this._getOrReturnCtx(e);return me(o,{code:ae.invalid_type,expected:pe.nan,received:o.parsedType}),We}return{status:"valid",value:e.data}}};Iy.create=t=>new Iy({typeName:Le.ZodNaN,...ze(t)});var SOt=Symbol("zod_brand"),Tx=class extends Je{_parse(e){let{ctx:r}=this._processInputParams(e),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}},uv=class t extends Je{_parse(e){let{status:r,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?We:a.status==="dirty"?(r.dirty(),aMe(a.value)):this._def.out._parseAsync({data:a.value,path:o.path,parent:o})})();{let s=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?We:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:o.path,parent:o})}}static create(e,r){return new t({in:e,out:r,typeName:Le.ZodPipeline})}},Cy=class extends Je{_parse(e){let r=this._def.innerType._parse(e);return av(r)&&(r.value=Object.freeze(r.value)),r}};Cy.create=(t,e)=>new Cy({innerType:t,typeName:Le.ZodReadonly,...ze(e)});var cMe=(t,e={},r)=>t?Rl.create().superRefine((o,s)=>{var a,i;if(!t(o)){let n=typeof e=="function"?e(o):typeof e=="string"?{message:e}:e,u=(i=(a=n.fatal)!==null&&a!==void 0?a:r)!==null&&i!==void 0?i:!0,c=typeof n=="string"?{message:n}:n;s.addIssue({code:"custom",...c,fatal:u})}}):Rl.create(),bOt={object:pi.lazycreate},Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));var EOt=(t,e={message:`Input not instance of ${t.name}`})=>cMe(r=>r instanceof t,e),lMe=Cl.create,dMe=lp.create,vOt=Iy.create,TOt=dp.create,fMe=fp.create,AOt=pp.create,IOt=by.create,COt=hp.create,ROt=gp.create,OOt=Rl.create,NOt=Nu.create,wOt=fs.create,POt=Ey.create,MOt=wu.create,xOt=pi.create,BOt=pi.strictCreate,DOt=mp.create,LOt=bx.create,UOt=yp.create,GOt=_a.create,VOt=Ex.create,FOt=vy.create,HOt=Ty.create,kOt=vx.create,WOt=_p.create,ZOt=Sp.create,qOt=bp.create,YOt=Ep.create,jOt=Ol.create,oMe=Wi.create,KOt=ds.create,XOt=Pu.create,zOt=Wi.createWithPreprocess,JOt=uv.create,$Ot=()=>lMe().optional(),QOt=()=>dMe().optional(),eNt=()=>fMe().optional(),tNt={string:t=>Cl.create({...t,coerce:!0}),number:t=>lp.create({...t,coerce:!0}),boolean:t=>fp.create({...t,coerce:!0}),bigint:t=>dp.create({...t,coerce:!0}),date:t=>pp.create({...t,coerce:!0})},rNt=We,Re=Object.freeze({__proto__:null,defaultErrorMap:sv,setErrorMap:sOt,getErrorMap:yx,makeIssue:_x,EMPTY_PATH:aOt,addIssueToContext:me,ParseStatus:On,INVALID:We,DIRTY:aMe,OK:Wn,isAborted:oK,isDirty:sK,isValid:av,isAsync:Sx,get util(){return bt},get objectUtil(){return iK},ZodParsedType:pe,getParsedType:Il,ZodType:Je,ZodString:Cl,ZodNumber:lp,ZodBigInt:dp,ZodBoolean:fp,ZodDate:pp,ZodSymbol:by,ZodUndefined:hp,ZodNull:gp,ZodAny:Rl,ZodUnknown:Nu,ZodNever:fs,ZodVoid:Ey,ZodArray:wu,ZodObject:pi,ZodUnion:mp,ZodDiscriminatedUnion:bx,ZodIntersection:yp,ZodTuple:_a,ZodRecord:Ex,ZodMap:vy,ZodSet:Ty,ZodFunction:vx,ZodLazy:_p,ZodLiteral:Sp,ZodEnum:bp,ZodNativeEnum:Ep,ZodPromise:Ol,ZodEffects:Wi,ZodTransformer:Wi,ZodOptional:ds,ZodNullable:Pu,ZodDefault:vp,ZodCatch:Ay,ZodNaN:Iy,BRAND:SOt,ZodBranded:Tx,ZodPipeline:uv,ZodReadonly:Cy,custom:cMe,Schema:Je,ZodSchema:Je,late:bOt,get ZodFirstPartyTypeKind(){return Le},coerce:tNt,any:OOt,array:MOt,bigint:TOt,boolean:fMe,date:AOt,discriminatedUnion:LOt,effect:oMe,enum:qOt,function:kOt,instanceof:EOt,intersection:UOt,lazy:WOt,literal:ZOt,map:FOt,nan:vOt,nativeEnum:YOt,never:wOt,null:ROt,nullable:XOt,number:dMe,object:xOt,oboolean:eNt,onumber:QOt,optional:KOt,ostring:$Ot,pipeline:JOt,preprocess:zOt,promise:jOt,record:VOt,set:HOt,strictObject:BOt,string:lMe,symbol:IOt,transformer:oMe,tuple:GOt,undefined:COt,union:DOt,unknown:NOt,void:POt,NEVER:rNt,ZodIssueCode:ae,quotelessJson:oOt,ZodError:ki});var nNt=Re.object({end:Re.object({line:Re.number(),offset:Re.number()}),newText:Re.string(),start:Re.object({line:Re.number(),offset:Re.number()})}),iNt=Re.object({fileName:Re.string(),textChanges:Re.array(nNt)}),oNt=Re.object({fixName:Re.string(),changes:Re.array(iNt)});async function pMe(t,e,r){let o=Date.now()+ya("1.5s"),s=Date.now(),a=100;for(;Date.now()<o;){se.trace("autoImportOnAccept: Checking for code actions");let i=await Nn.commands.executeCommand("vscode.executeCodeActionProvider",t,e);if(i.length===0){se.trace("autoImportOnAccept: No code actions found");return}let n=i.filter(c=>aNt(c,r));if(n.length===0){se.trace("autoImportOnAccept: No import code actions found");continue}else if(n.length>1){se.trace("autoImportOnAccept: Multiple import code actions found",{importCodeActions:n}),uNt(t,e.end);return}let u=n[0];if(u.command===void 0){se.error("autoImportOnAccept: Import code action has no command",{importCodeAction:u});return}if(r==="python"){se.trace("autoImportOnAccept: Executing python auto-import",{codeActions:i,importCodeAction:u}),await Nn.commands.executeCommand(u.command.command,...u.command.arguments);return}else if(r==="typescript"||r==="typescriptreact"){let c=oNt.safeParse(u.command.arguments?.[0].action);if(!c.success){se.error("autoImportOnAccept: Failed to parse typescript code action",{importCodeAction:u});return}se.trace("autoImportOnAccept: Executing typescript auto-import",{importCodeActions:n,importCodeAction:u}),sNt(c.data.changes).then(()=>{se.trace("autoImportOnAccept: Applied typescript auto-import",{textChange:c.data.changes[0].textChanges})}).catch(d=>{se.error("autoImportOnAccept: Failed to apply typescript auto-import",{error:d,textChange:c.data.changes[0].textChanges})}),se.trace("autoImportOnAccept: Finished executing typescript auto-import",{timeElapsed:Date.now()-s});return}await new Promise(c=>{setTimeout(c,a)})}}async function sNt(t){let e=new Nn.WorkspaceEdit;for(let r of t){let o=Nn.Uri.file(r.fileName);for(let s of r.textChanges){let a=s.start.line-1,i=s.end.line-1,n=new Nn.Range(a,s.start.offset-1,i,s.end.offset-1);e.replace(o,n,s.newText)}}await Nn.workspace.applyEdit(e)}function aNt(t,e){let r=e==="python"&&t.command?.command==="python.addImport",o=(e==="typescript"||e==="typescriptreact")&&t.command?.arguments?.[0]?.action?.fixName==="import";return r||o}async function uNt(t,e){let r=await Nn.window.showTextDocument(t);r.selection=new Nn.Selection(e,e),await Nn.commands.executeCommand("editor.action.quickFix")}var Zi=ve(require("vscode")),hMe=ve(dS()),Ix="doublebot.inlineCompletionAccepted";var Ax=class{_history=new Map;push(e,r,o,s,a,i,n,u,c){se.trace("InlineCompletionHistory.push",{id:e}),this.#e(),this._history.set(e,{ts:new Date,status:"pending",uri:r,triggerKind:o,languageId:s,replacementRange:a,closingChars:i,netCompletion:n,nSuffixCharsEaten:u,completionFromLineStart:c});let d=new Date;for(let[f,g]of this._history.entries())d.getTime()-g.ts.getTime()>uK&&(se.trace("InlineCompletionHistory: Garbage collecting item",{_id:f,status:g.status}),this._history.delete(f))}async accept(e){se.trace("InlineCompletionHistory.accept",{id:e});let r=this._history.get(e);if(r){r.status="accepted";let o=Zi.window.activeTextEditor?.selections.map(c=>c.active),s=new Zi.WorkspaceEdit,a=[],i=cNt(Zi.version,"1.87.0")>=0;if(se.debug("inlineCompletionHistory: native multi-cursor",{hasNativeMultiCursorCompletionSupport:i}),o?.length&&o.length>1){se.trace("InlineCompletionHistory.accept: Processing multi-cursor mode",{id:e});for(let c of o.slice(1)){let d=c.translate(0,r.nSuffixCharsEaten);r.nSuffixCharsEaten===0?i?a.push(c):(s.insert(r.uri,c,r.netCompletion),a.push(c.translate(0,r.netCompletion.length))):i?a.push(c.translate(0,-r.nSuffixCharsEaten)):(s.replace(r.uri,new Zi.Range(c,d),r.netCompletion),a.push(c.translate(0,r.netCompletion.length))),i||s.insert(r.uri,d,r.closingChars)}}let n=r.replacementRange.start.translate(0,r.completionFromLineStart.length);s.insert(r.uri,n,r.closingChars),o&&a.push(o[0]),await Zi.workspace.applyEdit(s);let u=Zi.window.activeTextEditor;u&&(u.selections=a.map(c=>new Zi.Selection(c,c))),await pMe(r.uri,r.replacementRange,r.languageId)}else se.warn("InlineCompletionHistory.accept: Item not found",{id:e}),(0,hMe.captureException)(new Error(`InlineCompletionHistory.accept: Item not found: ${e}`))}#e(){this._history.forEach((e,r)=>{se.trace("InlineCompletionHistory.rejectPending",{id:r,status:e.status}),e.status==="pending"&&(e.status="rejected")})}get history(){return this._history}};function cNt(t,e){let r=t.split(".").map(Number),o=e.split(".").map(Number);for(let s=0;s<Math.max(r.length,o.length);s++){if((r[s]||0)>(o[s]||0))return 1;if((r[s]||0)<(o[s]||0))return-1}return 0}var uK=ya("1h"),cv=class{constructor(e){this._inlineCompletionHistory=e;this.acceptProbability=0}acceptProbability;score({isOnlyWhitespaceAfterCursor:e,documentLength:r,cursorPosition:o,languageId:s,contentBeforeCursor:a}){let i=this.#e(),n=i?.status==="accepted"?1:0,u=i?.ts.getTime()||Date.now()-uK,c=e?1:0,d=(Date.now()-u)/1e3,f=Math.log(1+d),g=0,y=0;if(a){g=Math.log(1+gMe(a));let W=a.slice(-1);cK(W,ov)&&(y=ov[W])}let S=0,T=0,C=a.trimEnd();if(C){S=Math.log(1+gMe(C));let W=C.slice(-1);cK(W,ov)&&(T=ov[W])}let R=Math.log(1+r),P=Math.log(1+o),M=(o+.5)/(1+r),x=0;cK(s,rK)&&(x=rK[s]);let U={isPreviousSuggestionAccepted:rr[0]*n+nr[0]*n,isOnlyWhiteSpaceAfterCursorInput:rr[1]*c+nr[1]*c,timeScore:rr[2]*f+nr[2]*f,lastLineLength:rr[3]*g+nr[3]*g,trimmedLastLineLengthScore:rr[4]*S+nr[4]*S,documentLengthScore:rr[5]*R+nr[5]*R,cursorPos:rr[6]*P+nr[6]*P,promptPositionRatio:rr[7]*M+nr[7]*M,language:rr[8+x]+nr[8+x],lastCharacter:rr[29+y]+nr[29+y],trimmedLastCharacter:rr[125+T]+nr[125+T]};se.trace("DynamicFilterManager: Score components",U);let D=rMe;return D+=rr[0]*n,D+=rr[1]*c,D+=rr[2]*f,D+=rr[3]*g,D+=rr[4]*S,D+=rr[5]*R,D+=rr[6]*P,D+=rr[7]*M,D+=rr[8+x],D+=rr[29+y],D+=rr[125+T],D+=nMe,D+=nr[0]*n,D+=nr[1]*c,D+=nr[2]*f,D+=nr[3]*g,D+=nr[4]*S,D+=nr[5]*R,D+=nr[6]*P,D+=nr[7]*M,D+=nr[8+x],D+=nr[29+y],D+=nr[125+T],this.acceptProbability=1/(1+Math.exp(-D)),se.trace("DynamicFilterManager: Accept Probability",{acceptProbability:this.acceptProbability}),this.acceptProbability}prepareScoreInputs(e,r){let a=e.lineAt(r).text.substring(r.character).trim().length===0,i=e.getText(new Cx.Range(0,0,r.line,r.character));return{isOnlyWhitespaceAfterCursor:a,documentLength:e.getText().length,cursorPosition:e.offsetAt(r),languageId:e.languageId,contentBeforeCursor:i}}#e(){let e=this._inlineCompletionHistory.history,r;for(let[o,s]of e.entries())s.triggerKind===Cx.InlineCompletionTriggerKind.Automatic&&(!r||s.ts>r.ts)&&(r=s);return r}};iT([hx("DynamicFilterManager.score",{sampleRate:.1})],cv.prototype,"score",1);function gMe(t){let e=t.split(`
`);return e[e.length-1].length}function cK(t,e){return t in e}l();var lv=ve(require("vscode"));function lK(t){return t.uri.scheme==="vscode-notebook-cell"}function yMe(t,e){if(!lK(t))return se.error("PromptManager: getNotebookContentBeforeAndAfterCursor called with non-notebook document",{documentUri:t.uri}),null;let r=t.uri,o=lv.window.visibleNotebookEditors.find(y=>y.notebook.uri.fsPath===r.fsPath);if(!o)return se.error("PromptManager: Could not find notebook editor for document",{documentUri:r}),null;let s=o.notebook.getCells(),a=s.findIndex(y=>y.document.uri.fragment===r.fragment);if(a===-1)return se.error("PromptManager: Could not find current cell in notebook",{documentUri:r,notebookCells:s}),null;let i=t.languageId,n=s.slice(0,a),u=t.getText(new lv.Range(0,0,e.line,e.character)),c=n.reduce((y,S)=>mMe(y,S,i),""),d=t.getText(new lv.Range(e.line,e.character,t.lineCount,0)),g=s.slice(a+1).reduce((y,S)=>mMe(y,S,i),"");return{contentBeforeCursor:c+u,contentAfterCursor:d+g}}function mMe(t,e,r){let o=e.document.getText(),s=e.document.languageId;return s!=="markdown"&&s!=="python"?(se.error("PromptManager: Unhandled cell language",{cellLang:s,focusedCellLang:r,cellText:o}),t+o+`
`):r!=="markdown"&&r!=="python"?(se.error("PromptManager: Unhandled focused cell language",{cellLang:s,focusedCellLang:r,cellText:o}),t+o+`
`):s===r?t+o+`
`:r==="markdown"&&s==="python"?t+"```python\n"+o+"\n```\n":r==="python"&&s==="markdown"?t+"# "+o+`
`:(se.error("PromptManager: Unhandled cell language at end of fn",{cellLang:s,focusedCellLang:r,cellText:o}),t+o+`
`)}var _Me=10,dv=class{constructor(e,r){this.apiManager=e;this._inlineCompletionHistory=r;this.dynamicFilterManager=new cv(r)}debounceTimeoutId;dynamicFilterManager;async provideInlineCompletionItems(e,r,o,s,a){let i=tMe("codeSuggestion");return I1e({codeSuggestionId:i},async()=>{let n,u;if(lK(e)){if(e.languageId==="markdown")return se.trace("PromptManager: Not providing inline completions for markdown notebook since VSCode will not show it."),[];let R=yMe(e,r);if(!R)return se.error("PromptManager: Could not get notebook content before and after cursor"),[];n=R.contentBeforeCursor,u=R.contentAfterCursor}else n=e.getText(new Mu.Range(0,0,r.line,r.character)),u=e.getText(new Mu.Range(r.line,r.character,e.lineCount,0));let c=n.length+u.length;if(c<_Me)return se.trace("PromptManager: Did not reach minimum content length.",{contentLength:c,minLength:_Me}),[];let d=fNt(e),f;if(o.triggerKind===Mu.InlineCompletionTriggerKind.Automatic){if(!pNt(e,r))return se.trace("PromptManager: Not a punctuation only suffix. Skipping prompt."),[];let R=this.dynamicFilterManager.prepareScoreInputs(e,r),P=this.dynamicFilterManager.score(R);if(P<.15)return se.trace("PromptManager: Dynamic filter score is too low. Skipping prompt.",{score:P}),[];this.debounceTimeoutId!==void 0&&(se.trace("PromptManager: Debounced previous call."),clearTimeout(this.debounceTimeoutId)),f=await new Promise(M=>{this.debounceTimeoutId=setTimeout(()=>{M(this.sendPrompt({fileName:d,languageId:e.languageId,contentBeforeCursor:n,contentAfterCursor:u,triggered_manually:!1},s))},dNt(P,a))})}else se.trace("PromptManager: Inline completion triggered manually."),f=await this.sendPrompt({fileName:d,languageId:e.languageId,contentBeforeCursor:n,contentAfterCursor:u,triggered_manually:!0},s);if(f.isErr())return se.warn("PromptManager: Completion has an error."),[];let{completion:g,closing_chars:y,n_suffix_chars_eaten:S}=f.value,T=e.lineAt(r),C=new Mu.Range(T.range.start,r.translate(0,S));return this._inlineCompletionHistory.push(i,e.uri,o.triggerKind,e.languageId,C,y,g.slice(r.character),S,g),se.trace("PromptManager: Final completion and range",{newText:g,range:C,nSuffixCharsEaten:S,closingChars:y}),[{insertText:g,range:C,command:{title:"Code Suggestion Accepted",command:Ix,arguments:[i]}}]})}async sendPrompt(e,r){se.debug("PromptManager: Sending prompt",{payload:e});let o=new AbortController;r.onCancellationRequested(()=>{se.debug("PromptManager: CancellationToken is cancelling the request."),o.abort()});let s=await this.fetchFromServer(e,o.signal);return se.debug("PromptManager: Received completion response from server",{response:s}),s.error?(se.error("PromptManager: Prompt response error",{error:s.error}),up.create("SERVER_RESPONSE_ERROR","Server returned an error.")):(se.debug("PromptManager: Prompt response",{response:s.data}),(0,SMe.ok)(s.data))}async fetchFromServer(e,r){return this.apiManager.api.POST("/v2/auto-complete",{headers:{"Double-Version":"2024-02-20"},body:{file_name:e.fileName,language_id:e.languageId,content_before_cursor:e.contentBeforeCursor,content_after_cursor:e.contentAfterCursor,triggered_manually:e.triggered_manually},signal:r})}};iT([hx("PromptManager.provideInlineCompletionItems",{sampleRate:.1})],dv.prototype,"provideInlineCompletionItems",1);function dNt(t,e){let i=e?0:75,n=75+175/(1+Math.pow(t/.275,6)),u=Math.max(i+n,0);return se.debug("PromptManager: Calculated debounce time",{filterScore:t,positiveDebounceTime:u,isProUser:e}),u}function fNt(t){let e=t.fileName;return Mu.workspace.workspaceFolders!==void 0&&Mu.workspace.workspaceFolders.forEach(r=>{let o=r.uri.path;e=e.replace(o,"")}),e}function pNt(t,e){let o=t.lineAt(e).text.substring(e.character).trim();return se.trace("PromptManager: Line suffix",{lineSuffix:o}),o.length===0?!0:/^\s*[)}\]"'`]*\s*[:{;,]?\s*$/.test(o)}var Ox=ve(require("vscode")),Rx=class{constructor(e,r,o){this.authManager=o;this.promptManager=new dv(e,r)}promptManager;provideInlineCompletionItems(e,r,o,s){let a=Ox.workspace.getConfiguration().get("doublebot.enableAutocomplete");return o.triggerKind===Ox.InlineCompletionTriggerKind.Automatic&&!a?null:this.promptManager.provideInlineCompletionItems(e,r,o,s,this.authManager.isProUser)}};var RDe=ve(dS());l();l();var hNt={"Content-Type":"application/json"};function fv(t){let{fetch:e,querySerializer:r,bodySerializer:o,...s}=t??{},a=s.baseUrl??"";a.endsWith("/")&&(a=a.slice(0,-1));async function i(n,u){let{fetch:c=e??globalThis.fetch,headers:d,body:f,params:g={},parseAs:y="json",querySerializer:S=r??gNt,bodySerializer:T=o??mNt,...C}=u||{},R=yNt(n,{baseUrl:a,params:g,querySerializer:S}),P=_Nt(hNt,t?.headers,d,g.header),M={redirect:"follow",...s,...C,headers:P};f&&(M.body=T(f)),M.body instanceof FormData&&P.delete("Content-Type");let x=await c(R,M);if(x.status===204||x.headers.get("Content-Length")==="0")return x.ok?{data:{},response:x}:{error:{},response:x};if(x.ok){if(y==="stream")return{data:x.clone().body,response:x};let D=x.clone();return{data:typeof D[y]=="function"?await D[y]():await D.text(),response:x}}let U={};try{U=await x.clone().json()}catch{U=await x.clone().text()}return{error:U,response:x}}return{async GET(n,u){return i(n,{...u,method:"GET"})},async PUT(n,u){return i(n,{...u,method:"PUT"})},async POST(n,u){return i(n,{...u,method:"POST"})},async DELETE(n,u){return i(n,{...u,method:"DELETE"})},async OPTIONS(n,u){return i(n,{...u,method:"OPTIONS"})},async HEAD(n,u){return i(n,{...u,method:"HEAD"})},async PATCH(n,u){return i(n,{...u,method:"PATCH"})},async TRACE(n,u){return i(n,{...u,method:"TRACE"})}}}function gNt(t){let e=[];if(t&&typeof t=="object")for(let[r,o]of Object.entries(t)){let s=fK([r],o);s&&e.push(s)}return e.join("&")}function fK(t,e){if(e!=null){if(typeof e=="string")return`${dK(t)}=${encodeURIComponent(e)}`;if(typeof e=="number"||typeof e=="boolean")return`${dK(t)}=${String(e)}`;if(Array.isArray(e)){if(!e.length)return;let r=[];for(let o of e){let s=fK(t,o);s!==void 0&&r.push(s)}return r.join("&")}if(typeof e=="object"){if(!Object.keys(e).length)return;let r=[];for(let[o,s]of Object.entries(e))if(s!=null){let a=fK([...t,o],s);a!==void 0&&r.push(a)}return r.join("&")}return encodeURIComponent(`${dK(t)}=${String(e)}`)}}function dK(t){let e=t[0];for(let r of t.slice(1))e+=`[${r}]`;return e}function mNt(t){return JSON.stringify(t)}function yNt(t,e){let r=`${e.baseUrl}${t}`;if(e.params.path)for(let[s,a]of Object.entries(e.params.path))r=r.replace(`{${s}}`,encodeURIComponent(String(a)));let o=e.querySerializer(e.params.query??{});return o&&(r+=`?${o}`),r}function _Nt(...t){let e=new Headers;for(let r of t){if(!r||typeof r!="object")continue;let o=r instanceof Headers?r.entries():Object.entries(r);for(let[s,a]of o)a===null?e.delete(s):a!==void 0&&e.set(s,a)}return e}var Nx=class{constructor(e){this.authManager=e;this.api=fv({baseUrl:new URL("api","https://api.double.bot").toString(),headers:{get Authorization(){let r=e.accessToken;return r==null?(se.warn("ApiManager: Access token not defined."),""):`Bearer ${r}`}}})}api};l();var Px=(s=>(s.IS_DONE_ONBOARDING="isDoneOnboarding",s.IS_DONE_TUTORIAL_PY="isDoneTutorialPy",s.ACCESS_TOKEN="accessToken",s.REFRESH_TOKEN="apiKey",s))(Px||{}),wx=class{_globalState;_logger=se.child({module:this.constructor.name});constructor(e){this._globalState=e}get(e){return this._globalState.get(e)}update(e,r){return this._globalState.update(e,r)}clearAll(){this._logger.info("PersistentState: Clearing all persistent state");for(let e of Object.values(Px))this._logger.info(`PersistentState: Clearing ${e}`),this._globalState.update(e,void 0)}};l();var EMe=ve(require("node:os"));l();var bMe=ve(require("node:path")),Nl=ve(require("vscode"));async function Mx(t){let e=Nl.extensions.getExtension("doublebot.doublebot")?.extensionPath??"",r=bMe.join(e,t),o=Nl.Uri.file(r),s=await Nl.workspace.openTextDocument(o);await Nl.window.showTextDocument(s)}function xx(){let t=EMe.platform();t==="darwin"?Mx("onboarding/dist/macos-tutorial.py"):t==="win32"?Mx("onboarding/dist/windows-tutorial.py"):Mx("onboarding/dist/linux-tutorial.py")}l();var pv=ve(require("vscode"));function vMe(){se.debug("disableGithubCopilot: Disabling autocomplete.");let t=pv.workspace.getConfiguration("github.copilot");t.update("editor.enableAutoCompletions",!1,pv.ConfigurationTarget.Global);let e=t.get("enable");if(typeof e=="object"){if(e===null)return;e["*"]=!0,t.update("enable",e,pv.ConfigurationTarget.Global),se.debug("disableGithubCopilot: Autocomplete successfully disabled.")}}l();var sr=ve(require("vscode"));l();var vK=ve(require("node:os")),DMe=ve(require("node:fs")),LMe=ve(require("node:path")),UMe=ve(require("vscode"));l();var TMe=ve(require("vscode")),AMe=TMe.extensions.getExtension("doublebot.doublebot");var GMe=ve(EK());var VMe=Re.array(Re.object({key:Re.string(),command:Re.string(),when:Re.string().optional()})),RNt=Re.object({contributes:Re.object({keybindings:VMe})});function Gx(){let t=RNt.parse(AMe?.packageJSON).contributes.keybindings.reduce((e,r)=>(console.assert(!r.key.toLowerCase().includes("ctrl"),"Need to implement special logic to display `ctrl` for Mac if we want to support it as a default."),e[r.command]=r.key,e),{});try{let e=TK(),r=DMe.readFileSync(e,"utf8").toString(),o=VMe.parse(GMe.default.parse(r));for(let s of o)s.command in t&&(t[s.command]=s.key);return t}catch{return t}}function TK(){let t,e=vK.platform();e==="darwin"?t=`${process.env.HOME}/Library/Application Support`:e==="win32"?t=`${process.env.APPDATA}`:t=`${process.env.HOME}/.config`;let o=UMe.env.uriScheme==="vscode-insiders"?`${t}/Code - Insiders`:`${t}/Code`;return LMe.join(process.env.VSCODE_PORTABLE?`${process.env.VSCODE_PORTABLE}/user-data/User`:o,"User/keybindings.json")}function AK(t){return t.includes("++")&&se.warn("Double plus signs in shortcut"),vK.platform()==="darwin"?t.replace(/ctrl/gi,"Ctrl").replace(/shift/gi,"Shift").replace(/alt/gi,"Option").replace(/cmd/gi,"Cmd").replace(/\+/g,"-").split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join("-"):t.replace(/\+/g,"-").split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join("-")}var kMe=Gx(),FMe=sr.window.createTextEditorDecorationType({after:{contentText:`${AK(kMe["doublebot.addSelectionToNewConvo"])} to add selection to new chat`,color:"#888",margin:"0 0 0 1rem"}}),HMe=sr.window.createTextEditorDecorationType({after:{contentText:`${AK(kMe["doublebot.newConvo"])} to start new chat`,color:"#888",margin:"0 0 0 1rem"}});function ONt(){return sr.workspace.getConfiguration("doublebot").get("showInlineKeybindingHint")}function NNt(t){let e=t.selections[0],r=t.textEditor,o=new sr.MarkdownString("Click [here](command:doublebot.hideInlineKeybindingHint) to disable inline hints.");if(o.isTrusted=!0,o.supportHtml=!0,r.setDecorations(FMe,[]),r.setDecorations(HMe,[]),r.document.uri.toString().startsWith("output:")||!ONt())return;let s=Math.max(0,e.start.line);e.isEmpty?r.setDecorations(HMe,[{range:new sr.Range(new sr.Position(s,Number.MAX_VALUE),new sr.Position(s,Number.MAX_VALUE)),hoverMessage:[o]}]):r.setDecorations(FMe,[{range:new sr.Range(new sr.Position(s,Number.MAX_VALUE),new sr.Position(s,Number.MAX_VALUE)),hoverMessage:[o]}])}var IK,WMe=[sr.commands.registerCommand("doublebot.hideInlineKeybindingHint",async()=>{await sr.workspace.getConfiguration("doublebot").update("showInlineKeybindingHint",!1,sr.ConfigurationTarget.Global),await sr.window.showInformationMessage("Inline keybinding hints disabled.")}),sr.window.onDidChangeTextEditorSelection(t=>{IK&&clearTimeout(IK),IK=setTimeout(()=>{NNt(t)},200)})];l();var Vt=ve(require("vscode"));l();l();var ZMe=fv({baseUrl:new URL("api","https://api.double.bot").toString()});var EX=ve(px());l();l();l();l();var qMe=require("node:buffer");l();l();var Pl=new TextEncoder,hi=new TextDecoder,Ofr=2**32;function PNt(t){let e=t;return e instanceof Uint8Array&&(e=hi.decode(e)),e}var Ip=t=>new Uint8Array(qMe.Buffer.from(PNt(t),"base64"));l();l();l();var Vx=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}code="ERR_JOSE_GENERIC";constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};var gi=class extends Vx{static get code(){return"ERR_JWT_INVALID"}code="ERR_JWT_INVALID"};l();l();l();l();l();l();l();var jMe=ve(require("node:crypto"),1);var xNt=jMe.webcrypto,KMe=xNt;l();l();l();l();var xo=["KeyObject"];(globalThis.CryptoKey||KMe?.CryptoKey)&&xo.push("CryptoKey");l();l();function GNt(t){return typeof t=="object"&&t!==null}function qn(t){if(!GNt(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}l();l();l();var Fx=require("node:crypto"),zMe=require("node:util");l();var uhr=(0,zMe.promisify)(Fx.generateKeyPair);l();var $Me=require("node:util"),RK=require("node:crypto");l();var Ihr=(0,$Me.promisify)(RK.pbkdf2);l();var yv=require("node:crypto"),QMe=require("node:util");l();var Lhr=(0,QMe.deprecate)(()=>yv.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.');l();l();l();l();l();l();l();l();l();l();l();l();l();l();l();var QNt=Symbol();l();l();l();var MK=ve(require("node:crypto"),1),ixe=require("node:util");l();l();var wK=require("node:crypto");var Ayr={padding:wK.constants.RSA_PKCS1_PSS_PADDING,saltLength:wK.constants.RSA_PSS_SALTLEN_DIGEST};l();var PK=ve(require("node:crypto"),1),nxe=require("node:util");l();l();var kyr=(0,nxe.promisify)(PK.sign);var Xyr=(0,ixe.promisify)(MK.verify);l();l();l();l();l();l();l();l();l();l();l();l();l();l();l();l();l();l();var hwt;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(hwt="jose/v5.2.2");l();l();l();var xK=Ip;l();function BK(t){if(typeof t!="string")throw new gi("JWTs must use Compact JWS serialization, JWT must be a string");let{1:e,length:r}=t.split(".");if(r===5)throw new gi("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new gi("Invalid JWT");if(!e)throw new gi("JWTs must contain a payload");let o;try{o=xK(e)}catch{throw new gi("Failed to base64url decode the payload")}let s;try{s=JSON.parse(hi.decode(o))}catch{throw new gi("Failed to parse the decoded payload as JSON")}if(!qn(s))throw new gi("Invalid JWT Claims Set");return s}l();l();var DK=require("node:crypto"),cxe=require("node:util");var Ebr=(0,cxe.promisify)(DK.generateKeyPair);l();l();l();l();var Oxe=ve(Rxe());var Nxe=ve(require("vscode")),Xwt=!0?"c863d183e590ea336ce118ef013f5da5":"DISABLED",$K=class{mp=Oxe.default.init(Xwt);userId;track(e,r){!0&&this.mp.track(e,{distinct_id:this.userId,$device_id:Nxe.env.machineId,$user_id:this.userId,...r})}identify(e){!0&&(se.debug("MixpanelTracker.identify: Identifying user for Mixpanel",{userId:e}),this.userId=e)}},jx=new $K;var vX=ve(pDe());l();var hDe=ve(require("vscode"));function bX(){let t=hDe.extensions.all.filter(e=>!["vscode","ms-vscode"].includes(e.packageJSON.publisher)).map(e=>({displayName:e.packageJSON.displayName,publisher:e.packageJSON.publisher,name:e.packageJSON.name,version:e.packageJSON.version,id:e.id}));jx.track("User Extensions",{extensions:t})}var cB=class{constructor(e,r){this._postMessageToWebview=e;this._persistentState=r;this.fetchAccessToken().then(()=>{bX()}),this.onSetRefreshToken(()=>{bX()})}_timeoutId=null;setRefreshTokenHooks=[];_isProUser=!1;onSetRefreshToken(e){this.setRefreshTokenHooks.push(e)}setAccessToken(e){if(jx.identify(ext(e)),this._postMessageToWebview({command:"SET_ACCESS_TOKEN",accessToken:e}),se.trace("AuthManager: Setting access token in global state."),this._persistentState.update("accessToken",e),e===null)this._isProUser=!1;else{let r=vX.default.decode(e);this._isProUser=r.plan==="pro"}this._persistentState.get("isDoneTutorialPy")!==!0&&e!==null&&(sp.currentPanel?.dispose(),xx(),this._persistentState.update("isDoneTutorialPy",!0))}setRefreshToken(e){se.info("AuthManager: Setting refresh token in global state."),this._persistentState.update("apiKey",e);for(let r of this.setRefreshTokenHooks)r();this.fetchAccessToken()}async fetchAccessToken(e,r=ya("1s")){se.trace("AuthManager: Refreshing access token.");let o=e??this._persistentState.get("apiKey");if(o===void 0)return se.warn("AuthManager: No API key in global context. Can't fetch refresh token."),this.setAccessToken(null),up.create("no-refresh-token","No refresh token in global context.");let s;try{let{data:g,error:y}=await ZMe.POST("/auth/refresh",{headers:{Authorization:`Bearer ${o}`}});if(y!==void 0)throw new Error(y.detail);s=g.access_token}catch(g){se.error("AuthManager: Error refreshing access token.",g);let y=1,S=ya("5s"),T=r+y;return this.fetchAccessTokenAfterDelay(Math.min(T,S)),up.create("unauthorized","Error refreshing access token.")}this.setAccessToken(s);let i=BK(s).exp;if(i===void 0)return se.warn("AuthManager: Access token has no expiration date."),this.fetchAccessTokenAfterDelay(ya("45s")),(0,EX.ok)(null);let n=Date.now()/1e3,u=i-n,c=ya("15s"),d=Math.floor(Math.random()*ya("30s")),f=Math.max(0,u*1e3-c-d);return this.fetchAccessTokenAfterDelay(f),(0,EX.ok)(null)}fetchAccessTokenAfterDelay(e){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=setTimeout(()=>{this.fetchAccessToken()},e)}get accessToken(){return this._persistentState.get("accessToken")}logout(){se.info("AuthManager: Logging out."),this._persistentState.update("apiKey",void 0)}get isProUser(){return this._isProUser}};function ext(t){return t===null?void 0:vX.default.decode(t).sub}l();var EDe=ve(require("node:fs")),Rp=ve(require("node:path")),lB=ve(require("vscode"));var vDe=ve(EK()),TDe=ve(_De());l();var hxt=Re.object({label:Re.string(),path:Re.string(),id:Re.string(),uiTheme:Re.union([Re.literal("vs"),Re.literal("vs-dark"),Re.literal("hc-black"),Re.literal("hc-light")])}),SDe=Re.object({packageJSON:Re.object({contributes:Re.object({themes:Re.array(hxt).min(1)})}),extensionPath:Re.string()}),bDe=Re.object({include:Re.string().optional(),name:Re.string(),colors:Re.record(Re.string()).optional(),tokenColors:Re.array(Re.object({name:Re.string().optional(),scope:Re.union([Re.string(),Re.array(Re.string())]).optional(),settings:Re.object({foreground:Re.string().optional(),background:Re.string().optional(),fontStyle:Re.string().optional()})})).optional()});function ADe(t){let e=EDe.readFileSync(t).toString(),r=bDe.parse(vDe.default.parse(e));if(r.include){let o=Rp.resolve(Rp.dirname(t),r.include),s=ADe(o);r=(0,TDe.default)(r,s),delete r.include}return r}function gxt(t){for(let e of lB.extensions.all){let r=SDe.safeParse(e);if(!r.success)continue;let o=r.data;for(let s of o.packageJSON.contributes.themes)if(s.id===t){let a=Rp.join(o.extensionPath,s.path);return se.debug("getTheme: Found matching theme by id",{themePath:a}),{theme:ADe(Rp.resolve(o.extensionPath,s.path)),uiTheme:s.uiTheme}}}return null}function IDe(){let t=lB.workspace.getConfiguration("workbench").get("colorTheme");se.info("getTheme: Looking for colorTheme",{colorTheme:t}),t===void 0&&(se.warn("getTheme: Could not get colorTheme from workspace. Setting to Default Dark Modern."),t="Default Dark Modern");try{let e=gxt(t);if(e===null)return se.error("getTheme: Could not find theme in extensions.",{colorTheme:t}),null;let r=e.theme,o=e.uiTheme,s,a;switch(o){case"vs":s=r.colors?.["editor.background"]??"#ffffff",a=r.colors?.["editor.foreground"]??"#333333";break;case"vs-dark":s=r.colors?.["editor.background"]??"#1e1e1e",a=r.colors?.["editor.foreground"]??"#bbbbbb";break;case"hc-black":s=r.colors?.["editor.background"]??"#000000",a=r.colors?.["editor.foreground"]??"#ffffff";break;case"hc-light":s=r.colors?.["editor.background"]??"#ffffff",a=r.colors?.["editor.foreground"]??"#000000"}return{...r,bg:s,fg:a}}catch(e){se.error("Error loading color theme: ",e)}return null}var Ov=class{constructor(e,r){this._context=e;this._persistentState=r;this.authManager=new cB(this.postMessageToWebview.bind(this),r),this.disposables.push(Vt.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.colorTheme")?(se.info("DoubleSidebarViewProvider: Theme changed."),this.sendThemeToWebview()):o.affectsConfiguration("doublebot")&&this.syncConfigToWebview()}),Vt.workspace.onDidSaveTextDocument(o=>{o.fileName===TK()&&this.sendKeybindingsToWebview()}),Vt.window.onDidChangeTextEditorSelection(o=>{this.sendHasEditorSelectionToWebview(!o.selections[0].isEmpty)}))}static viewType="doublebot.sidebar";authManager;_view;isWebviewReady=!1;queuedWebviewMsgs=[];disposables=[];syncConfigToWebview(){let r=Vt.workspace.getConfiguration("doublebot").get("chatModel")??"GPT4 Turbo";this.postMessageToWebview({command:"CONFIG",chatModel:r})}dispose(){se.info("Disposing DoubleSidebarViewProvider.");for(let e of this.disposables)e.dispose()}async sendLoginRedirectUri(){let e=await Vt.env.asExternalUri(Vt.Uri.parse(`${Vt.env.uriScheme}://doublebot.doublebot`)),r=decodeURIComponent(e.toString()),o=new URL(r),a=new URLSearchParams(o.search).get("windowId");if(a===null){Vt.window.showErrorMessage("Couldn't fetch windowId for the login redirect URI.");return}let i=Vt.env.uriScheme;Vt.env.remoteName!==void 0&&(i="remote"),this.postMessageToWebview({command:"LOGIN_REDIRECT_URI",uriScheme:i,windowId:Number(a)})}postMessageToWebview(e){if(!this.isWebviewReady){se.trace("ViewProvider: Webview not ready yet. Queueing msg.",{msg:e}),this.queuedWebviewMsgs.push(e);return}this._view?.webview.postMessage(e)}sendThemeToWebview(){se.info("sendThemeToWebview: Sending theme to webview.");let e=IDe();se.debug("sendThemeToWebview: Got theme.",{themeName:e?.name}),this.postMessageToWebview({command:"SET_THEME",theme:e,themeKind:Vt.window.activeColorTheme.kind})}sendKeybindingsToWebview(){se.info("sendKeybindingsToWebview: Sending keybindings to webview.");let e=Gx();this.postMessageToWebview({command:"SET_KEYBINDINGS_LIST",keybindingsList:{newConvo:e["doublebot.newConvo"],addSelectionToNewConvo:e["doublebot.addSelectionToNewConvo"],focusCurrentChat:e["doublebot.focusCurrentChat"],addSelectionToChat:e["doublebot.addSelectionToChat"],inlineSuggestTrigger:e["editor.action.inlineSuggest.trigger"]}})}sendHasEditorSelectionToWebview(e){this.postMessageToWebview({command:"SET_HAS_EDITOR_SELECTION",hasEditorSelection:e})}addSelectionToChat(){let e=Vt.window.activeTextEditor;if(e===void 0){Vt.window.showWarningMessage("Can't add selection to chat. No editor active.");return}let r=e.selection;if(r.isEmpty){Vt.window.showWarningMessage("Can't add selection to chat. No selection highlighted.");return}let o=e.document.getText();this.postMessageToWebview({command:"ADD_SELECTION_TO_CHAT",pathName:e.document.fileName,selection:{lineStart:r.start.line,lineEnd:r.end.line,charStart:r.start.character,charEnd:r.end.character},code:o})}addSelectionToNewConvo(){let e=Vt.window.activeTextEditor;if(e===void 0){Vt.window.showWarningMessage("Can't add selection to chat. No editor active.");return}let r=e.selection;if(r.isEmpty){Vt.window.showWarningMessage("Can't add selection to chat. No selection highlighted.");return}let o=e.document.getText();this.postMessageToWebview({command:"ADD_SELECTION_TO_NEW_CONVO",pathName:e.document.fileName,selection:{lineStart:r.start.line,lineEnd:r.end.line,charStart:r.start.character,charEnd:r.end.character},code:o})}resolveWebviewView(e,r,o){se.info("Resolving Webview."),this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this._context.extensionUri]},e.webview.html=this._getWebviewContent(e.webview),e.webview.onDidReceiveMessage(s=>{switch(s.command){case"OPEN_EXTERNAL_URL":{Vt.env.openExternal(Vt.Uri.parse(s.url));break}case"WEBVIEW_READY":{se.trace("ViewProvider: Webview ready."),this.isWebviewReady=!0;for(let a of this.queuedWebviewMsgs)this.postMessageToWebview(a);this.sendLoginRedirectUri(),this.sendThemeToWebview(),this.syncConfigToWebview(),this.sendKeybindingsToWebview();break}case"MIGRATE_AUTH_TO_EXT":{se.debug("ViewProvider: Received API key from webview."),this.authManager.setRefreshToken(s.apiKey);break}case"LOGOUT":{se.debug("ViewProvider: Logging out."),this.authManager.logout();break}case"FETCH_ACCESS_TOKEN":{this.authManager.fetchAccessToken();break}}})}_getWebviewContent(e){let r,o,a="localhost:5173",i=this._context.extensionMode===Vt.ExtensionMode.Production;i?(o=yy(e,this._context.extensionUri,["webview-ui","dist","assets","index.css"]).toString(),r=yy(e,this._context.extensionUri,["webview-ui","dist","assets","index.js"]).toString()):(r=`http://${a}/src/index.tsx`,o=`http://${a}/src/index.css`);let n=mxt(),u=`
      <script type="module">
        import RefreshRuntime from "http://${a}/@react-refresh"
        RefreshRuntime.injectIntoGlobalHook(window)
        window.$RefreshReg$ = () => {}
        window.$RefreshSig$ = () => (type) => type
        window.__vite_plugin_react_preamble_installed__ = true
      </script>`;return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <script>window.activeColorThemeKind = ${Vt.window.activeColorTheme.kind}</script>

          <link rel="stylesheet" type="text/css" href="${o}">
          <title>Double Sidebar</title>
        </head>
        <body>
          <div id="root"></div>
          ${i?"":u}
          <script type="module" nonce="${n}" src="${r}"></script>
        </body>
      </html>
    `}};function mxt(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}l();var CDe=ve(require("vscode")),dB=class{constructor(e){this.authManager=e}handleUri(e){let r=new URLSearchParams(e.query);if(r.get("command")==="login"){let s=r.get("apiKey");if(s===null){CDe.window.showErrorMessage("Missing api key in redirect query params.");return}this.authManager.setRefreshToken(s)}}};B1e();function yxt(t){try{se.info("doublebot: extension activated.");let e=new wx(t.globalState),r=new Ov(t,e),o=new Nx(r.authManager);t.subscriptions.push(Yn.window.registerWebviewViewProvider(Ov.viewType,r,{webviewOptions:{retainContextWhenHidden:!0}})),r.authManager.onSetRefreshToken(vMe),t.subscriptions.push(Yn.commands.registerCommand("doublebot.showOnboarding",()=>{sp.render(t.extensionUri,t.extensionMode)})),e.get("isDoneOnboarding")!==!0&&(sp.render(t.extensionUri,t.extensionMode),e.update("isDoneOnboarding",!0)),t.subscriptions.push(Yn.commands.registerCommand("doublebot.showTutorial",()=>{xx()})),t.subscriptions.push(Yn.commands.registerCommand("doublebot.nextConvo",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.postMessageToWebview({command:"NEXT_CONVO"})}),Yn.commands.registerCommand("doublebot.prevConvo",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.postMessageToWebview({command:"PREV_CONVO"})}),Yn.commands.registerCommand("doublebot.newConvo",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.postMessageToWebview({command:"NEW_CONVO"})}),Yn.commands.registerCommand("doublebot.addSelectionToNewConvo",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.addSelectionToNewConvo()}),Yn.commands.registerCommand("doublebot.focusCurrentChat",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.postMessageToWebview({command:"FOCUS_CHATBOX"})}),Yn.commands.registerCommand("doublebot.addSelectionToChat",()=>{Rr.commands.executeCommand("doublebot.sidebar.focus"),r.addSelectionToChat()}),Yn.commands.registerCommand("doublebot.setAuthToken",async()=>{let i=await Rr.window.showInputBox({prompt:"Enter your Double Auth Token"});if(i===void 0){Rr.window.showErrorMessage("No auth token entered.");return}r.authManager.setRefreshToken(i)}),Yn.commands.registerCommand("doublebot.clearState",()=>{e.clearAll(),Rr.window.showInformationMessage("Cleared all state.")}),Rr.window.registerUriHandler(new dB(r.authManager)),Yn.commands.registerCommand("doublebot.toggleEnableAutocomplete",async()=>{let i=Rr.workspace.getConfiguration(),n=i.get("doublebot.enableAutocomplete");await i.update("doublebot.enableAutocomplete",!n,Rr.ConfigurationTarget.Global);let u=n?"disabled":"enabled";await Rr.window.showInformationMessage(`Autocomplete ${u} for Double.`)}),...WMe);let s=new Ax,a=new Rx(o,s,r.authManager);t.subscriptions.push(Rr.languages.registerInlineCompletionItemProvider({pattern:"**"},a),Yn.commands.registerCommand(Ix,i=>{s.accept(i)}))}catch(e){(0,RDe.captureException)(e),console.error(e)}}var _xt=void 0;0&&(module.exports={activate});
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.es2018.js:
  (**
   * @license
   * web-streams-polyfill v3.3.3
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

fetch-blob/index.js:
  (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

formdata-polyfill/esm.min.js:
  (*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

@sentry/node/cjs/integrations/anr/worker-script.js:
  (*! @sentry/node 7.104.0 (eadb6c8) | https://github.com/getsentry/sentry-javascript *)

@grpc/proto-loader/build/src/util.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

long/umd/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)

@grpc/proto-loader/build/src/index.js:
  (**
   * @license
   * Copyright 2018 gRPC authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=extension.js.map
